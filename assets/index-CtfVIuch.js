var AC=Object.defineProperty;var wE=O=>{throw TypeError(O)};var TC=(O,r,n)=>r in O?AC(O,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):O[r]=n;var Gr=(O,r,n)=>TC(O,typeof r!="symbol"?r+"":r,n),kw=(O,r,n)=>r.has(O)||wE("Cannot "+n);var y=(O,r,n)=>(kw(O,r,"read from private field"),n?n.call(O):r.get(O)),fe=(O,r,n)=>r.has(O)?wE("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(O):r.set(O,n),se=(O,r,n,a)=>(kw(O,r,"write to private field"),a?a.call(O,n):r.set(O,n),n),ue=(O,r,n)=>(kw(O,r,"access private method"),n);var Pl=(O,r,n,a)=>({set _(c){se(O,r,c,n)},get _(){return y(O,r,a)}});(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=n(c);fetch(c.href,d)}})();function CC(O){return O&&O.__esModule&&Object.prototype.hasOwnProperty.call(O,"default")?O.default:O}var Ow={exports:{}},q0={},Iw={exports:{}},wi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function LC(){if(_E)return wi;_E=1;var O=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function k(Ee){return Ee===null||typeof Ee!="object"?null:(Ee=C&&Ee[C]||Ee["@@iterator"],typeof Ee=="function"?Ee:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,Y={};function Z(Ee,ke,it){this.props=Ee,this.context=ke,this.refs=Y,this.updater=it||V}Z.prototype.isReactComponent={},Z.prototype.setState=function(Ee,ke){if(typeof Ee!="object"&&typeof Ee!="function"&&Ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ee,ke,"setState")},Z.prototype.forceUpdate=function(Ee){this.updater.enqueueForceUpdate(this,Ee,"forceUpdate")};function W(){}W.prototype=Z.prototype;function ne(Ee,ke,it){this.props=Ee,this.context=ke,this.refs=Y,this.updater=it||V}var le=ne.prototype=new W;le.constructor=ne,q(le,Z.prototype),le.isPureReactComponent=!0;var ce=Array.isArray,Te=Object.prototype.hasOwnProperty,we={current:null},Fe={key:!0,ref:!0,__self:!0,__source:!0};function R(Ee,ke,it){var Ct,Gt={},be=null,It=null;if(ke!=null)for(Ct in ke.ref!==void 0&&(It=ke.ref),ke.key!==void 0&&(be=""+ke.key),ke)Te.call(ke,Ct)&&!Fe.hasOwnProperty(Ct)&&(Gt[Ct]=ke[Ct]);var vt=arguments.length-2;if(vt===1)Gt.children=it;else if(1<vt){for(var Re=Array(vt),nn=0;nn<vt;nn++)Re[nn]=arguments[nn+2];Gt.children=Re}if(Ee&&Ee.defaultProps)for(Ct in vt=Ee.defaultProps,vt)Gt[Ct]===void 0&&(Gt[Ct]=vt[Ct]);return{$$typeof:O,type:Ee,key:be,ref:It,props:Gt,_owner:we.current}}function nt(Ee,ke){return{$$typeof:O,type:Ee.type,key:ke,ref:Ee.ref,props:Ee.props,_owner:Ee._owner}}function dt(Ee){return typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===O}function wt(Ee){var ke={"=":"=0",":":"=2"};return"$"+Ee.replace(/[=:]/g,function(it){return ke[it]})}var Ze=/\/+/g;function rt(Ee,ke){return typeof Ee=="object"&&Ee!==null&&Ee.key!=null?wt(""+Ee.key):ke.toString(36)}function ot(Ee,ke,it,Ct,Gt){var be=typeof Ee;(be==="undefined"||be==="boolean")&&(Ee=null);var It=!1;if(Ee===null)It=!0;else switch(be){case"string":case"number":It=!0;break;case"object":switch(Ee.$$typeof){case O:case r:It=!0}}if(It)return It=Ee,Gt=Gt(It),Ee=Ct===""?"."+rt(It,0):Ct,ce(Gt)?(it="",Ee!=null&&(it=Ee.replace(Ze,"$&/")+"/"),ot(Gt,ke,it,"",function(nn){return nn})):Gt!=null&&(dt(Gt)&&(Gt=nt(Gt,it+(!Gt.key||It&&It.key===Gt.key?"":(""+Gt.key).replace(Ze,"$&/")+"/")+Ee)),ke.push(Gt)),1;if(It=0,Ct=Ct===""?".":Ct+":",ce(Ee))for(var vt=0;vt<Ee.length;vt++){be=Ee[vt];var Re=Ct+rt(be,vt);It+=ot(be,ke,it,Re,Gt)}else if(Re=k(Ee),typeof Re=="function")for(Ee=Re.call(Ee),vt=0;!(be=Ee.next()).done;)be=be.value,Re=Ct+rt(be,vt++),It+=ot(be,ke,it,Re,Gt);else if(be==="object")throw ke=String(Ee),Error("Objects are not valid as a React child (found: "+(ke==="[object Object]"?"object with keys {"+Object.keys(Ee).join(", ")+"}":ke)+"). If you meant to render a collection of children, use an array instead.");return It}function xt(Ee,ke,it){if(Ee==null)return Ee;var Ct=[],Gt=0;return ot(Ee,Ct,"","",function(be){return ke.call(it,be,Gt++)}),Ct}function We(Ee){if(Ee._status===-1){var ke=Ee._result;ke=ke(),ke.then(function(it){(Ee._status===0||Ee._status===-1)&&(Ee._status=1,Ee._result=it)},function(it){(Ee._status===0||Ee._status===-1)&&(Ee._status=2,Ee._result=it)}),Ee._status===-1&&(Ee._status=0,Ee._result=ke)}if(Ee._status===1)return Ee._result.default;throw Ee._result}var at={current:null},Ge={transition:null},te={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:Ge,ReactCurrentOwner:we};function lt(){throw Error("act(...) is not supported in production builds of React.")}return wi.Children={map:xt,forEach:function(Ee,ke,it){xt(Ee,function(){ke.apply(this,arguments)},it)},count:function(Ee){var ke=0;return xt(Ee,function(){ke++}),ke},toArray:function(Ee){return xt(Ee,function(ke){return ke})||[]},only:function(Ee){if(!dt(Ee))throw Error("React.Children.only expected to receive a single React element child.");return Ee}},wi.Component=Z,wi.Fragment=n,wi.Profiler=c,wi.PureComponent=ne,wi.StrictMode=a,wi.Suspense=b,wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,wi.act=lt,wi.cloneElement=function(Ee,ke,it){if(Ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Ee+".");var Ct=q({},Ee.props),Gt=Ee.key,be=Ee.ref,It=Ee._owner;if(ke!=null){if(ke.ref!==void 0&&(be=ke.ref,It=we.current),ke.key!==void 0&&(Gt=""+ke.key),Ee.type&&Ee.type.defaultProps)var vt=Ee.type.defaultProps;for(Re in ke)Te.call(ke,Re)&&!Fe.hasOwnProperty(Re)&&(Ct[Re]=ke[Re]===void 0&&vt!==void 0?vt[Re]:ke[Re])}var Re=arguments.length-2;if(Re===1)Ct.children=it;else if(1<Re){vt=Array(Re);for(var nn=0;nn<Re;nn++)vt[nn]=arguments[nn+2];Ct.children=vt}return{$$typeof:O,type:Ee.type,key:Gt,ref:be,props:Ct,_owner:It}},wi.createContext=function(Ee){return Ee={$$typeof:f,_currentValue:Ee,_currentValue2:Ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Ee.Provider={$$typeof:d,_context:Ee},Ee.Consumer=Ee},wi.createElement=R,wi.createFactory=function(Ee){var ke=R.bind(null,Ee);return ke.type=Ee,ke},wi.createRef=function(){return{current:null}},wi.forwardRef=function(Ee){return{$$typeof:m,render:Ee}},wi.isValidElement=dt,wi.lazy=function(Ee){return{$$typeof:E,_payload:{_status:-1,_result:Ee},_init:We}},wi.memo=function(Ee,ke){return{$$typeof:_,type:Ee,compare:ke===void 0?null:ke}},wi.startTransition=function(Ee){var ke=Ge.transition;Ge.transition={};try{Ee()}finally{Ge.transition=ke}},wi.unstable_act=lt,wi.useCallback=function(Ee,ke){return at.current.useCallback(Ee,ke)},wi.useContext=function(Ee){return at.current.useContext(Ee)},wi.useDebugValue=function(){},wi.useDeferredValue=function(Ee){return at.current.useDeferredValue(Ee)},wi.useEffect=function(Ee,ke){return at.current.useEffect(Ee,ke)},wi.useId=function(){return at.current.useId()},wi.useImperativeHandle=function(Ee,ke,it){return at.current.useImperativeHandle(Ee,ke,it)},wi.useInsertionEffect=function(Ee,ke){return at.current.useInsertionEffect(Ee,ke)},wi.useLayoutEffect=function(Ee,ke){return at.current.useLayoutEffect(Ee,ke)},wi.useMemo=function(Ee,ke){return at.current.useMemo(Ee,ke)},wi.useReducer=function(Ee,ke,it){return at.current.useReducer(Ee,ke,it)},wi.useRef=function(Ee){return at.current.useRef(Ee)},wi.useState=function(Ee){return at.current.useState(Ee)},wi.useSyncExternalStore=function(Ee,ke,it){return at.current.useSyncExternalStore(Ee,ke,it)},wi.useTransition=function(){return at.current.useTransition()},wi.version="18.3.1",wi}var SE;function F1(){return SE||(SE=1,Iw.exports=LC()),Iw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function PC(){if(EE)return q0;EE=1;var O=F1(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(m,b,_){var E,C={},k=null,V=null;_!==void 0&&(k=""+_),b.key!==void 0&&(k=""+b.key),b.ref!==void 0&&(V=b.ref);for(E in b)a.call(b,E)&&!d.hasOwnProperty(E)&&(C[E]=b[E]);if(m&&m.defaultProps)for(E in b=m.defaultProps,b)C[E]===void 0&&(C[E]=b[E]);return{$$typeof:r,type:m,key:k,ref:V,props:C,_owner:c.current}}return q0.Fragment=n,q0.jsx=f,q0.jsxs=f,q0}var ME;function RC(){return ME||(ME=1,Ow.exports=PC()),Ow.exports}var st=RC(),Iu=F1();const qm=CC(Iu);var Pb={},Nw={exports:{}},Zl={},Dw={exports:{}},Fw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function kC(){return AE||(AE=1,function(O){function r(Ge,te){var lt=Ge.length;Ge.push(te);e:for(;0<lt;){var Ee=lt-1>>>1,ke=Ge[Ee];if(0<c(ke,te))Ge[Ee]=te,Ge[lt]=ke,lt=Ee;else break e}}function n(Ge){return Ge.length===0?null:Ge[0]}function a(Ge){if(Ge.length===0)return null;var te=Ge[0],lt=Ge.pop();if(lt!==te){Ge[0]=lt;e:for(var Ee=0,ke=Ge.length,it=ke>>>1;Ee<it;){var Ct=2*(Ee+1)-1,Gt=Ge[Ct],be=Ct+1,It=Ge[be];if(0>c(Gt,lt))be<ke&&0>c(It,Gt)?(Ge[Ee]=It,Ge[be]=lt,Ee=be):(Ge[Ee]=Gt,Ge[Ct]=lt,Ee=Ct);else if(be<ke&&0>c(It,lt))Ge[Ee]=It,Ge[be]=lt,Ee=be;else break e}}return te}function c(Ge,te){var lt=Ge.sortIndex-te.sortIndex;return lt!==0?lt:Ge.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;O.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();O.unstable_now=function(){return f.now()-m}}var b=[],_=[],E=1,C=null,k=3,V=!1,q=!1,Y=!1,Z=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function le(Ge){for(var te=n(_);te!==null;){if(te.callback===null)a(_);else if(te.startTime<=Ge)a(_),te.sortIndex=te.expirationTime,r(b,te);else break;te=n(_)}}function ce(Ge){if(Y=!1,le(Ge),!q)if(n(b)!==null)q=!0,We(Te);else{var te=n(_);te!==null&&at(ce,te.startTime-Ge)}}function Te(Ge,te){q=!1,Y&&(Y=!1,W(R),R=-1),V=!0;var lt=k;try{for(le(te),C=n(b);C!==null&&(!(C.expirationTime>te)||Ge&&!wt());){var Ee=C.callback;if(typeof Ee=="function"){C.callback=null,k=C.priorityLevel;var ke=Ee(C.expirationTime<=te);te=O.unstable_now(),typeof ke=="function"?C.callback=ke:C===n(b)&&a(b),le(te)}else a(b);C=n(b)}if(C!==null)var it=!0;else{var Ct=n(_);Ct!==null&&at(ce,Ct.startTime-te),it=!1}return it}finally{C=null,k=lt,V=!1}}var we=!1,Fe=null,R=-1,nt=5,dt=-1;function wt(){return!(O.unstable_now()-dt<nt)}function Ze(){if(Fe!==null){var Ge=O.unstable_now();dt=Ge;var te=!0;try{te=Fe(!0,Ge)}finally{te?rt():(we=!1,Fe=null)}}else we=!1}var rt;if(typeof ne=="function")rt=function(){ne(Ze)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,xt=ot.port2;ot.port1.onmessage=Ze,rt=function(){xt.postMessage(null)}}else rt=function(){Z(Ze,0)};function We(Ge){Fe=Ge,we||(we=!0,rt())}function at(Ge,te){R=Z(function(){Ge(O.unstable_now())},te)}O.unstable_IdlePriority=5,O.unstable_ImmediatePriority=1,O.unstable_LowPriority=4,O.unstable_NormalPriority=3,O.unstable_Profiling=null,O.unstable_UserBlockingPriority=2,O.unstable_cancelCallback=function(Ge){Ge.callback=null},O.unstable_continueExecution=function(){q||V||(q=!0,We(Te))},O.unstable_forceFrameRate=function(Ge){0>Ge||125<Ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<Ge?Math.floor(1e3/Ge):5},O.unstable_getCurrentPriorityLevel=function(){return k},O.unstable_getFirstCallbackNode=function(){return n(b)},O.unstable_next=function(Ge){switch(k){case 1:case 2:case 3:var te=3;break;default:te=k}var lt=k;k=te;try{return Ge()}finally{k=lt}},O.unstable_pauseExecution=function(){},O.unstable_requestPaint=function(){},O.unstable_runWithPriority=function(Ge,te){switch(Ge){case 1:case 2:case 3:case 4:case 5:break;default:Ge=3}var lt=k;k=Ge;try{return te()}finally{k=lt}},O.unstable_scheduleCallback=function(Ge,te,lt){var Ee=O.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Ee+lt:Ee):lt=Ee,Ge){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=lt+ke,Ge={id:E++,callback:te,priorityLevel:Ge,startTime:lt,expirationTime:ke,sortIndex:-1},lt>Ee?(Ge.sortIndex=lt,r(_,Ge),n(b)===null&&Ge===n(_)&&(Y?(W(R),R=-1):Y=!0,at(ce,lt-Ee))):(Ge.sortIndex=ke,r(b,Ge),q||V||(q=!0,We(Te))),Ge},O.unstable_shouldYield=wt,O.unstable_wrapCallback=function(Ge){var te=k;return function(){var lt=k;k=te;try{return Ge.apply(this,arguments)}finally{k=lt}}}}(Fw)),Fw}var TE;function OC(){return TE||(TE=1,Dw.exports=kC()),Dw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function IC(){if(CE)return Zl;CE=1;var O=F1(),r=OC();function n(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(s,u){f(s,u),f(s+"Capture",u)}function f(s,u){for(c[s]=u,s=0;s<u.length;s++)a.add(u[s])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},C={};function k(s){return b.call(C,s)?!0:b.call(E,s)?!1:_.test(s)?C[s]=!0:(E[s]=!0,!1)}function V(s,u,p,M){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return M?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function q(s,u,p,M){if(u===null||typeof u>"u"||V(s,u,p,M))return!0;if(M)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function Y(s,u,p,M,z,G,oe){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=M,this.attributeNamespace=z,this.mustUseProperty=p,this.propertyName=s,this.type=u,this.sanitizeURL=G,this.removeEmptyString=oe}var Z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){Z[s]=new Y(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];Z[u]=new Y(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){Z[s]=new Y(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){Z[s]=new Y(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){Z[s]=new Y(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){Z[s]=new Y(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){Z[s]=new Y(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){Z[s]=new Y(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){Z[s]=new Y(s,5,!1,s.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function ne(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(W,ne);Z[u]=new Y(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(W,ne);Z[u]=new Y(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(W,ne);Z[u]=new Y(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){Z[s]=new Y(s,1,!1,s.toLowerCase(),null,!1,!1)}),Z.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){Z[s]=new Y(s,1,!1,s.toLowerCase(),null,!0,!0)});function le(s,u,p,M){var z=Z.hasOwnProperty(u)?Z[u]:null;(z!==null?z.type!==0:M||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(q(u,p,z,M)&&(p=null),M||z===null?k(u)&&(p===null?s.removeAttribute(u):s.setAttribute(u,""+p)):z.mustUseProperty?s[z.propertyName]=p===null?z.type===3?!1:"":p:(u=z.attributeName,M=z.attributeNamespace,p===null?s.removeAttribute(u):(z=z.type,p=z===3||z===4&&p===!0?"":""+p,M?s.setAttributeNS(M,u,p):s.setAttribute(u,p))))}var ce=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=Symbol.for("react.element"),we=Symbol.for("react.portal"),Fe=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),dt=Symbol.for("react.provider"),wt=Symbol.for("react.context"),Ze=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),at=Symbol.for("react.offscreen"),Ge=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=Ge&&s[Ge]||s["@@iterator"],typeof s=="function"?s:null)}var lt=Object.assign,Ee;function ke(s){if(Ee===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);Ee=u&&u[1]||""}return`
`+Ee+s}var it=!1;function Ct(s,u){if(!s||it)return"";it=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(yt){var M=yt}Reflect.construct(s,[],u)}else{try{u.call()}catch(yt){M=yt}s.call(u.prototype)}else{try{throw Error()}catch(yt){M=yt}s()}}catch(yt){if(yt&&M&&typeof yt.stack=="string"){for(var z=yt.stack.split(`
`),G=M.stack.split(`
`),oe=z.length-1,Me=G.length-1;1<=oe&&0<=Me&&z[oe]!==G[Me];)Me--;for(;1<=oe&&0<=Me;oe--,Me--)if(z[oe]!==G[Me]){if(oe!==1||Me!==1)do if(oe--,Me--,0>Me||z[oe]!==G[Me]){var He=`
`+z[oe].replace(" at new "," at ");return s.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",s.displayName)),He}while(1<=oe&&0<=Me);break}}}finally{it=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?ke(s):""}function Gt(s){switch(s.tag){case 5:return ke(s.type);case 16:return ke("Lazy");case 13:return ke("Suspense");case 19:return ke("SuspenseList");case 0:case 2:case 15:return s=Ct(s.type,!1),s;case 11:return s=Ct(s.type.render,!1),s;case 1:return s=Ct(s.type,!0),s;default:return""}}function be(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Fe:return"Fragment";case we:return"Portal";case nt:return"Profiler";case R:return"StrictMode";case rt:return"Suspense";case ot:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case wt:return(s.displayName||"Context")+".Consumer";case dt:return(s._context.displayName||"Context")+".Provider";case Ze:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case xt:return u=s.displayName||null,u!==null?u:be(s.type)||"Memo";case We:u=s._payload,s=s._init;try{return be(s(u))}catch{}}return null}function It(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function vt(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Re(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function nn(s){var u=Re(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),M=""+s[u];if(!s.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var z=p.get,G=p.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return z.call(this)},set:function(oe){M=""+oe,G.call(this,oe)}}),Object.defineProperty(s,u,{enumerable:p.enumerable}),{getValue:function(){return M},setValue:function(oe){M=""+oe},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Rn(s){s._valueTracker||(s._valueTracker=nn(s))}function xr(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var p=u.getValue(),M="";return s&&(M=Re(s)?s.checked?"true":"false":s.value),s=M,s!==p?(u.setValue(s),!0):!1}function pn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xn(s,u){var p=u.checked;return lt({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function yn(s,u){var p=u.defaultValue==null?"":u.defaultValue,M=u.checked!=null?u.checked:u.defaultChecked;p=vt(u.value!=null?u.value:p),s._wrapperState={initialChecked:M,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Jt(s,u){u=u.checked,u!=null&&le(s,"checked",u,!1)}function $e(s,u){Jt(s,u);var p=vt(u.value),M=u.type;if(p!=null)M==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(M==="submit"||M==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?ar(s,u.type,p):u.hasOwnProperty("defaultValue")&&ar(s,u.type,vt(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function Jn(s,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var M=u.type;if(!(M!=="submit"&&M!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,p||u===s.value||(s.value=u),s.defaultValue=u}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function ar(s,u,p){(u!=="number"||pn(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var lr=Array.isArray;function Vn(s,u,p,M){if(s=s.options,u){u={};for(var z=0;z<p.length;z++)u["$"+p[z]]=!0;for(p=0;p<s.length;p++)z=u.hasOwnProperty("$"+s[p].value),s[p].selected!==z&&(s[p].selected=z),z&&M&&(s[p].defaultSelected=!0)}else{for(p=""+vt(p),u=null,z=0;z<s.length;z++){if(s[z].value===p){s[z].selected=!0,M&&(s[z].defaultSelected=!0);return}u!==null||s[z].disabled||(u=s[z])}u!==null&&(u.selected=!0)}}function ur(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return lt({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function wr(s,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(lr(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}s._wrapperState={initialValue:vt(p)}}function _r(s,u){var p=vt(u.value),M=vt(u.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),u.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),M!=null&&(s.defaultValue=""+M)}function Wn(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function Fr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function di(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?Fr(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Or,vi=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,M,z){MSApp.execUnsafeLocalFunction(function(){return s(u,p,M,z)})}:s}(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Or.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function Nr(s,u){if(u){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=u;return}}s.textContent=u}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(s){er.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),Ln[u]=Ln[s]})});function Ir(s,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||Ln.hasOwnProperty(s)&&Ln[s]?(""+u).trim():u+"px"}function yi(s,u){s=s.style;for(var p in u)if(u.hasOwnProperty(p)){var M=p.indexOf("--")===0,z=Ir(p,u[p],M);p==="float"&&(p="cssFloat"),M?s.setProperty(p,z):s[p]=z}}var $i=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yi(s,u){if(u){if($i[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function br(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ii=null;function Mi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hs=null,ji=null,ir=null;function ia(s){if(s=up(s)){if(typeof Hs!="function")throw Error(n(280));var u=s.stateNode;u&&(u=tg(u),Hs(s.stateNode,s.type,u))}}function as(s){ji?ir?ir.push(s):ir=[s]:ji=s}function Hi(){if(ji){var s=ji,u=ir;if(ir=ji=null,ia(s),u)for(s=0;s<u.length;s++)ia(u[s])}}function es(s,u){return s(u)}function Cs(){}var Ls=!1;function $r(s,u,p){if(Ls)return s(u,p);Ls=!0;try{return es(s,u,p)}finally{Ls=!1,(ji!==null||ir!==null)&&(Cs(),Hi())}}function Aa(s,u){var p=s.stateNode;if(p===null)return null;var M=tg(p);if(M===null)return null;p=M[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(s=s.type,M=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!M;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var sa=!1;if(m)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){sa=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{sa=!1}function wo(s,u,p,M,z,G,oe,Me,He){var yt=Array.prototype.slice.call(arguments,3);try{u.apply(p,yt)}catch(tn){this.onError(tn)}}var to=!1,bs=null,fi=!1,Zi=null,ls={onError:function(s){to=!0,bs=s}};function Fl(s,u,p,M,z,G,oe,Me,He){to=!1,bs=null,wo.apply(ls,arguments)}function Ys(s,u,p,M,z,G,oe,Me,He){if(Fl.apply(this,arguments),to){if(to){var yt=bs;to=!1,bs=null}else throw Error(n(198));fi||(fi=!0,Zi=yt)}}function ws(s){var u=s,p=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,u.flags&4098&&(p=u.return),s=u.return;while(s)}return u.tag===3?p:null}function Be(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function gt(s){if(ws(s)!==s)throw Error(n(188))}function je(s){var u=s.alternate;if(!u){if(u=ws(s),u===null)throw Error(n(188));return u!==s?null:s}for(var p=s,M=u;;){var z=p.return;if(z===null)break;var G=z.alternate;if(G===null){if(M=z.return,M!==null){p=M;continue}break}if(z.child===G.child){for(G=z.child;G;){if(G===p)return gt(z),s;if(G===M)return gt(z),u;G=G.sibling}throw Error(n(188))}if(p.return!==M.return)p=z,M=G;else{for(var oe=!1,Me=z.child;Me;){if(Me===p){oe=!0,p=z,M=G;break}if(Me===M){oe=!0,M=z,p=G;break}Me=Me.sibling}if(!oe){for(Me=G.child;Me;){if(Me===p){oe=!0,p=G,M=z;break}if(Me===M){oe=!0,M=G,p=z;break}Me=Me.sibling}if(!oe)throw Error(n(189))}}if(p.alternate!==M)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:u}function Je(s){return s=je(s),s!==null?qt(s):null}function qt(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=qt(s);if(u!==null)return u;s=s.sibling}return null}var hn=r.unstable_scheduleCallback,un=r.unstable_cancelCallback,Zn=r.unstable_shouldYield,Yr=r.unstable_requestPaint,_n=r.unstable_now,Er=r.unstable_getCurrentPriorityLevel,ei=r.unstable_ImmediatePriority,Dr=r.unstable_UserBlockingPriority,Zr=r.unstable_NormalPriority,zr=r.unstable_LowPriority,dr=r.unstable_IdlePriority,Pr=null,Br=null;function Kr(s){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(Pr,s,void 0,(s.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:Ro,Vi=Math.log,ts=Math.LN2;function Ro(s){return s>>>=0,s===0?32:31-(Vi(s)/ts|0)|0}var _o=64,Di=4194304;function Us(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ai(s,u){var p=s.pendingLanes;if(p===0)return 0;var M=0,z=s.suspendedLanes,G=s.pingedLanes,oe=p&268435455;if(oe!==0){var Me=oe&~z;Me!==0?M=Us(Me):(G&=oe,G!==0&&(M=Us(G)))}else oe=p&~z,oe!==0?M=Us(oe):G!==0&&(M=Us(G));if(M===0)return 0;if(u!==0&&u!==M&&!(u&z)&&(z=M&-M,G=u&-u,z>=G||z===16&&(G&4194240)!==0))return u;if(M&4&&(M|=p&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=M;0<u;)p=31-xi(u),z=1<<p,M|=s[p],u&=~z;return M}function oa(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(s,u){for(var p=s.suspendedLanes,M=s.pingedLanes,z=s.expirationTimes,G=s.pendingLanes;0<G;){var oe=31-xi(G),Me=1<<oe,He=z[oe];He===-1?(!(Me&p)||Me&M)&&(z[oe]=oa(Me,u)):He<=u&&(s.expiredLanes|=Me),G&=~Me}}function Gs(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ko(){var s=_o;return _o<<=1,!(_o&4194240)&&(_o=64),s}function Ta(s){for(var u=[],p=0;31>p;p++)u.push(s);return u}function qa(s,u,p){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-xi(u),s[u]=p}function Wo(s,u){var p=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var M=s.eventTimes;for(s=s.expirationTimes;0<p;){var z=31-xi(p),G=1<<z;u[z]=0,M[z]=-1,s[z]=-1,p&=~G}}function Oo(s,u){var p=s.entangledLanes|=u;for(s=s.entanglements;p;){var M=31-xi(p),z=1<<M;z&u|s[M]&u&&(s[M]|=u),p&=~z}}var Wr=0;function ol(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Os,Io,Lr,qo,Ca,aa=!1,la=[],no=null,us=null,_s=null,ro=new Map,No=new Map,Ss=[],io="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function La(s,u){switch(s){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":ro.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(u.pointerId)}}function Ti(s,u,p,M,z,G){return s===null||s.nativeEvent!==G?(s={blockedOn:u,domEventName:p,eventSystemFlags:M,nativeEvent:G,targetContainers:[z]},u!==null&&(u=up(u),u!==null&&Io(u)),s):(s.eventSystemFlags|=M,u=s.targetContainers,z!==null&&u.indexOf(z)===-1&&u.push(z),s)}function so(s,u,p,M,z){switch(u){case"focusin":return no=Ti(no,s,u,p,M,z),!0;case"dragenter":return us=Ti(us,s,u,p,M,z),!0;case"mouseover":return _s=Ti(_s,s,u,p,M,z),!0;case"pointerover":var G=z.pointerId;return ro.set(G,Ti(ro.get(G)||null,s,u,p,M,z)),!0;case"gotpointercapture":return G=z.pointerId,No.set(G,Ti(No.get(G)||null,s,u,p,M,z)),!0}return!1}function wl(s){var u=sh(s.target);if(u!==null){var p=ws(u);if(p!==null){if(u=p.tag,u===13){if(u=Be(p),u!==null){s.blockedOn=u,Ca(s.priority,function(){Lr(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ua(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var p=B(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var M=new p.constructor(p.type,p);ii=M,p.target.dispatchEvent(M),ii=null}else return u=up(p),u!==null&&Io(u),s.blockedOn=p,!1;u.shift()}return!0}function $(s,u,p){ua(s)&&p.delete(u)}function ie(){aa=!1,no!==null&&ua(no)&&(no=null),us!==null&&ua(us)&&(us=null),_s!==null&&ua(_s)&&(_s=null),ro.forEach($),No.forEach($)}function ge(s,u){s.blockedOn===u&&(s.blockedOn=null,aa||(aa=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ie)))}function Ye(s){function u(z){return ge(z,s)}if(0<la.length){ge(la[0],s);for(var p=1;p<la.length;p++){var M=la[p];M.blockedOn===s&&(M.blockedOn=null)}}for(no!==null&&ge(no,s),us!==null&&ge(us,s),_s!==null&&ge(_s,s),ro.forEach(u),No.forEach(u),p=0;p<Ss.length;p++)M=Ss[p],M.blockedOn===s&&(M.blockedOn=null);for(;0<Ss.length&&(p=Ss[0],p.blockedOn===null);)wl(p),p.blockedOn===null&&Ss.shift()}var ct=ce.ReactCurrentBatchConfig,Rt=!0;function bn(s,u,p,M){var z=Wr,G=ct.transition;ct.transition=null;try{Wr=1,x(s,u,p,M)}finally{Wr=z,ct.transition=G}}function rr(s,u,p,M){var z=Wr,G=ct.transition;ct.transition=null;try{Wr=4,x(s,u,p,M)}finally{Wr=z,ct.transition=G}}function x(s,u,p,M){if(Rt){var z=B(s,u,p,M);if(z===null)vn(s,u,M,A,p),La(s,M);else if(so(z,s,u,p,M))M.stopPropagation();else if(La(s,M),u&4&&-1<io.indexOf(s)){for(;z!==null;){var G=up(z);if(G!==null&&Os(G),G=B(s,u,p,M),G===null&&vn(s,u,M,A,p),G===z)break;z=G}z!==null&&M.stopPropagation()}else vn(s,u,M,null,p)}}var A=null;function B(s,u,p,M){if(A=null,s=Mi(M),s=sh(s),s!==null)if(u=ws(s),u===null)s=null;else if(p=u.tag,p===13){if(s=Be(u),s!==null)return s;s=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return A=s,null}function U(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Er()){case ei:return 1;case Dr:return 4;case Zr:case zr:return 16;case dr:return 536870912;default:return 16}default:return 16}}var Q=null,ae=null,he=null;function Oe(){if(he)return he;var s,u=ae,p=u.length,M,z="value"in Q?Q.value:Q.textContent,G=z.length;for(s=0;s<p&&u[s]===z[s];s++);var oe=p-s;for(M=1;M<=oe&&u[p-M]===z[G-M];M++);return he=z.slice(s,1<M?1-M:void 0)}function ze(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function tt(){return!0}function Lt(){return!1}function St(s){function u(p,M,z,G,oe){this._reactName=p,this._targetInst=z,this.type=M,this.nativeEvent=G,this.target=oe,this.currentTarget=null;for(var Me in s)s.hasOwnProperty(Me)&&(p=s[Me],this[Me]=p?p(G):G[Me]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?tt:Lt,this.isPropagationStopped=Lt,this}return lt(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=tt)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=tt)},persist:function(){},isPersistent:tt}),u}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Et=St(ft),zn=lt({},ft,{view:0,detail:0}),sr=St(zn),Un,ci,Fi,Zs=lt({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fi&&(Fi&&s.type==="mousemove"?(Un=s.screenX-Fi.screenX,ci=s.screenY-Fi.screenY):ci=Un=0,Fi=s),Un)},movementY:function(s){return"movementY"in s?s.movementY:ci}}),si=St(Zs),Sr=lt({},Zs,{dataTransfer:0}),Do=St(Sr),oi=lt({},zn,{relatedTarget:0}),Oi=St(oi),Xa=lt({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),nh=St(Xa),ca=lt({},ft,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),su=St(ca),Du=lt({},ft,{data:0}),Fo=St(Du),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=cs[s])?!!u[s]:!1}function ns(){return zo}var Wi=lt({},zn,{key:function(s){if(s.key){var u=Fu[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=ze(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Pa[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(s){return s.type==="keypress"?ze(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ze(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Tr=St(Wi),An=lt({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ot=St(An),Ui=lt({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Ki=St(Ui),qi=lt({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ra=St(qi),ti=lt({},Zs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),zl=St(ti),Ii=[9,13,27,32],Bo=m&&"CompositionEvent"in window,al=null;m&&"documentMode"in document&&(al=document.documentMode);var hs=m&&"TextEvent"in window&&!al,ye=m&&(!Bo||al&&8<al&&11>=al),rh=" ",ou=!1;function $a(s,u){switch(s){case"keyup":return Ii.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function au(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ds=!1;function ha(s,u){switch(s){case"compositionend":return au(u);case"keypress":return u.which!==32?null:(ou=!0,rh);case"textInput":return s=u.data,s===rh&&ou?null:s;default:return null}}function ih(s,u){if(ds)return s==="compositionend"||!Bo&&$a(s,u)?(s=Oe(),he=ae=Q=null,ds=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ye&&u.locale!=="ko"?null:u.data;default:return null}}var lu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bl(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!lu[s.type]:u==="textarea"}function uu(s,u,p,M){as(M),u=Ut(u,"onChange"),0<u.length&&(p=new Et("onChange","change",null,p,M),s.push({event:p,listeners:u}))}var qr=null,Gi=null;function rs(s){Ve(s,0)}function Is(s){var u=ju(s);if(xr(u))return s}function Xo(s,u){if(s==="change")return u}var cu=!1;if(m){var $o;if(m){var mc="oninput"in document;if(!mc){var da=document.createElement("div");da.setAttribute("oninput","return;"),mc=typeof da.oninput=="function"}$o=mc}else $o=!1;cu=$o&&(!document.documentMode||9<document.documentMode)}function oo(){qr&&(qr.detachEvent("onpropertychange",hu),Gi=qr=null)}function hu(s){if(s.propertyName==="value"&&Is(Gi)){var u=[];uu(u,Gi,s,Mi(s)),$r(rs,u)}}function zu(s,u,p){s==="focusin"?(oo(),qr=u,Gi=p,qr.attachEvent("onpropertychange",hu)):s==="focusout"&&oo()}function Yo(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Is(Gi)}function fa(s,u){if(s==="click")return Is(u)}function du(s,u){if(s==="input"||s==="change")return Is(u)}function pa(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var fs=typeof Object.is=="function"?Object.is:pa;function Cr(s,u){if(fs(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var p=Object.keys(s),M=Object.keys(u);if(p.length!==M.length)return!1;for(M=0;M<p.length;M++){var z=p[M];if(!b.call(u,z)||!fs(s[z],u[z]))return!1}return!0}function pe(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Pe(s,u){var p=pe(s);s=0;for(var M;p;){if(p.nodeType===3){if(M=s+p.textContent.length,s<=u&&M>=u)return{node:p,offset:u-s};s=M}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=pe(p)}}function Xe(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?Xe(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function Bt(){for(var s=window,u=pn();u instanceof s.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)s=u.contentWindow;else break;u=pn(s.document)}return u}function Qe(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function Xt(s){var u=Bt(),p=s.focusedElem,M=s.selectionRange;if(u!==p&&p&&p.ownerDocument&&Xe(p.ownerDocument.documentElement,p)){if(M!==null&&Qe(p)){if(u=M.start,s=M.end,s===void 0&&(s=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(s,p.value.length);else if(s=(u=p.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var z=p.textContent.length,G=Math.min(M.start,z);M=M.end===void 0?G:Math.min(M.end,z),!s.extend&&G>M&&(z=M,M=G,G=z),z=Pe(p,G);var oe=Pe(p,M);z&&oe&&(s.rangeCount!==1||s.anchorNode!==z.node||s.anchorOffset!==z.offset||s.focusNode!==oe.node||s.focusOffset!==oe.offset)&&(u=u.createRange(),u.setStart(z.node,z.offset),s.removeAllRanges(),G>M?(s.addRange(u),s.extend(oe.node,oe.offset)):(u.setEnd(oe.node,oe.offset),s.addRange(u)))}}for(u=[],s=p;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)s=u[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Yt=m&&"documentMode"in document&&11>=document.documentMode,sn=null,Sn=null,cr=null,fr=!1;function yr(s,u,p){var M=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;fr||sn==null||sn!==pn(M)||(M=sn,"selectionStart"in M&&Qe(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),cr&&Cr(cr,M)||(cr=M,M=Ut(Sn,"onSelect"),0<M.length&&(u=new Et("onSelect","select",null,u,p),s.push({event:u,listeners:M}),u.target=sn)))}function jr(s,u){var p={};return p[s.toLowerCase()]=u.toLowerCase(),p["Webkit"+s]="webkit"+u,p["Moz"+s]="moz"+u,p}var bi={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},hr={},ps={};m&&(ps=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function Ji(s){if(hr[s])return hr[s];if(!bi[s])return s;var u=bi[s],p;for(p in u)if(u.hasOwnProperty(p)&&p in ps)return hr[s]=u[p];return s}var Ks=Ji("animationend"),Ci=Ji("animationiteration"),Zo=Ji("animationstart"),Ns=Ji("transitionend"),Es=new Map,P="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function D(s,u){Es.set(s,u),d(u,[s])}for(var N=0;N<P.length;N++){var H=P[N],J=H.toLowerCase(),re=H[0].toUpperCase()+H.slice(1);D(J,"on"+re)}D(Ks,"onAnimationEnd"),D(Ci,"onAnimationIteration"),D(Zo,"onAnimationStart"),D("dblclick","onDoubleClick"),D("focusin","onFocus"),D("focusout","onBlur"),D(Ns,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var de="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ve=new Set("cancel close invalid load scroll toggle".split(" ").concat(de));function Ce(s,u,p){var M=s.type||"unknown-event";s.currentTarget=p,Ys(M,u,void 0,s),s.currentTarget=null}function Ve(s,u){u=(u&4)!==0;for(var p=0;p<s.length;p++){var M=s[p],z=M.event;M=M.listeners;e:{var G=void 0;if(u)for(var oe=M.length-1;0<=oe;oe--){var Me=M[oe],He=Me.instance,yt=Me.currentTarget;if(Me=Me.listener,He!==G&&z.isPropagationStopped())break e;Ce(z,Me,yt),G=He}else for(oe=0;oe<M.length;oe++){if(Me=M[oe],He=Me.instance,yt=Me.currentTarget,Me=Me.listener,He!==G&&z.isPropagationStopped())break e;Ce(z,Me,yt),G=He}}}if(fi)throw s=Zi,fi=!1,Zi=null,s}function De(s,u){var p=u[Nn];p===void 0&&(p=u[Nn]=new Set);var M=s+"__bubble";p.has(M)||(Pn(u,s,2,!1),p.add(M))}function Ke(s,u,p){var M=0;u&&(M|=4),Pn(p,s,M,u)}var At="_reactListening"+Math.random().toString(36).slice(2);function Tt(s){if(!s[At]){s[At]=!0,a.forEach(function(p){p!=="selectionchange"&&(ve.has(p)||Ke(p,!1,s),Ke(p,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[At]||(u[At]=!0,Ke("selectionchange",!1,u))}}function Pn(s,u,p,M){switch(U(u)){case 1:var z=bn;break;case 4:z=rr;break;default:z=x}p=z.bind(null,u,p,s),z=void 0,!sa||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(z=!0),M?z!==void 0?s.addEventListener(u,p,{capture:!0,passive:z}):s.addEventListener(u,p,!0):z!==void 0?s.addEventListener(u,p,{passive:z}):s.addEventListener(u,p,!1)}function vn(s,u,p,M,z){var G=M;if(!(u&1)&&!(u&2)&&M!==null)e:for(;;){if(M===null)return;var oe=M.tag;if(oe===3||oe===4){var Me=M.stateNode.containerInfo;if(Me===z||Me.nodeType===8&&Me.parentNode===z)break;if(oe===4)for(oe=M.return;oe!==null;){var He=oe.tag;if((He===3||He===4)&&(He=oe.stateNode.containerInfo,He===z||He.nodeType===8&&He.parentNode===z))return;oe=oe.return}for(;Me!==null;){if(oe=sh(Me),oe===null)return;if(He=oe.tag,He===5||He===6){M=G=oe;continue e}Me=Me.parentNode}}M=M.return}$r(function(){var yt=G,tn=Mi(p),on=[];e:{var kt=Es.get(s);if(kt!==void 0){var Cn=Et,Fn=s;switch(s){case"keypress":if(ze(p)===0)break e;case"keydown":case"keyup":Cn=Tr;break;case"focusin":Fn="focus",Cn=Oi;break;case"focusout":Fn="blur",Cn=Oi;break;case"beforeblur":case"afterblur":Cn=Oi;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Cn=si;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Cn=Do;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Cn=Ki;break;case Ks:case Ci:case Zo:Cn=nh;break;case Ns:Cn=Ra;break;case"scroll":Cn=sr;break;case"wheel":Cn=zl;break;case"copy":case"cut":case"paste":Cn=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Cn=Ot}var tr=(u&4)!==0,Xs=!tr&&s==="scroll",ht=tr?kt!==null?kt+"Capture":null:kt;tr=[];for(var qe=yt,pt;qe!==null;){pt=qe;var cn=pt.stateNode;if(pt.tag===5&&cn!==null&&(pt=cn,ht!==null&&(cn=Aa(qe,ht),cn!=null&&tr.push(Qt(qe,cn,pt)))),Xs)break;qe=qe.return}0<tr.length&&(kt=new Cn(kt,Fn,null,p,tn),on.push({event:kt,listeners:tr}))}}if(!(u&7)){e:{if(kt=s==="mouseover"||s==="pointerover",Cn=s==="mouseout"||s==="pointerout",kt&&p!==ii&&(Fn=p.relatedTarget||p.fromElement)&&(sh(Fn)||Fn[_l]))break e;if((Cn||kt)&&(kt=tn.window===tn?tn:(kt=tn.ownerDocument)?kt.defaultView||kt.parentWindow:window,Cn?(Fn=p.relatedTarget||p.toElement,Cn=yt,Fn=Fn?sh(Fn):null,Fn!==null&&(Xs=ws(Fn),Fn!==Xs||Fn.tag!==5&&Fn.tag!==6)&&(Fn=null)):(Cn=null,Fn=yt),Cn!==Fn)){if(tr=si,cn="onMouseLeave",ht="onMouseEnter",qe="mouse",(s==="pointerout"||s==="pointerover")&&(tr=Ot,cn="onPointerLeave",ht="onPointerEnter",qe="pointer"),Xs=Cn==null?kt:ju(Cn),pt=Fn==null?kt:ju(Fn),kt=new tr(cn,qe+"leave",Cn,p,tn),kt.target=Xs,kt.relatedTarget=pt,cn=null,sh(tn)===yt&&(tr=new tr(ht,qe+"enter",Fn,p,tn),tr.target=pt,tr.relatedTarget=Xs,cn=tr),Xs=cn,Cn&&Fn)t:{for(tr=Cn,ht=Fn,qe=0,pt=tr;pt;pt=$t(pt))qe++;for(pt=0,cn=ht;cn;cn=$t(cn))pt++;for(;0<qe-pt;)tr=$t(tr),qe--;for(;0<pt-qe;)ht=$t(ht),pt--;for(;qe--;){if(tr===ht||ht!==null&&tr===ht.alternate)break t;tr=$t(tr),ht=$t(ht)}tr=null}else tr=null;Cn!==null&&Mt(on,kt,Cn,tr,!1),Fn!==null&&Xs!==null&&Mt(on,Xs,Fn,tr,!0)}}e:{if(kt=yt?ju(yt):window,Cn=kt.nodeName&&kt.nodeName.toLowerCase(),Cn==="select"||Cn==="input"&&kt.type==="file")var Vt=Xo;else if(Bl(kt))if(cu)Vt=du;else{Vt=Yo;var nr=zu}else(Cn=kt.nodeName)&&Cn.toLowerCase()==="input"&&(kt.type==="checkbox"||kt.type==="radio")&&(Vt=fa);if(Vt&&(Vt=Vt(s,yt))){uu(on,Vt,p,tn);break e}nr&&nr(s,kt,yt),s==="focusout"&&(nr=kt._wrapperState)&&nr.controlled&&kt.type==="number"&&ar(kt,"number",kt.value)}switch(nr=yt?ju(yt):window,s){case"focusin":(Bl(nr)||nr.contentEditable==="true")&&(sn=nr,Sn=yt,cr=null);break;case"focusout":cr=Sn=sn=null;break;case"mousedown":fr=!0;break;case"contextmenu":case"mouseup":case"dragend":fr=!1,yr(on,p,tn);break;case"selectionchange":if(Yt)break;case"keydown":case"keyup":yr(on,p,tn)}var pr;if(Bo)e:{switch(s){case"compositionstart":var Rr="onCompositionStart";break e;case"compositionend":Rr="onCompositionEnd";break e;case"compositionupdate":Rr="onCompositionUpdate";break e}Rr=void 0}else ds?$a(s,p)&&(Rr="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Rr="onCompositionStart");Rr&&(ye&&p.locale!=="ko"&&(ds||Rr!=="onCompositionStart"?Rr==="onCompositionEnd"&&ds&&(pr=Oe()):(Q=tn,ae="value"in Q?Q.value:Q.textContent,ds=!0)),nr=Ut(yt,Rr),0<nr.length&&(Rr=new Fo(Rr,s,null,p,tn),on.push({event:Rr,listeners:nr}),pr?Rr.data=pr:(pr=au(p),pr!==null&&(Rr.data=pr)))),(pr=hs?ha(s,p):ih(s,p))&&(yt=Ut(yt,"onBeforeInput"),0<yt.length&&(tn=new Fo("onBeforeInput","beforeinput",null,p,tn),on.push({event:tn,listeners:yt}),tn.data=pr))}Ve(on,u)})}function Qt(s,u,p){return{instance:s,listener:u,currentTarget:p}}function Ut(s,u){for(var p=u+"Capture",M=[];s!==null;){var z=s,G=z.stateNode;z.tag===5&&G!==null&&(z=G,G=Aa(s,p),G!=null&&M.unshift(Qt(s,G,z)),G=Aa(s,u),G!=null&&M.push(Qt(s,G,z))),s=s.return}return M}function $t(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Mt(s,u,p,M,z){for(var G=u._reactName,oe=[];p!==null&&p!==M;){var Me=p,He=Me.alternate,yt=Me.stateNode;if(He!==null&&He===M)break;Me.tag===5&&yt!==null&&(Me=yt,z?(He=Aa(p,G),He!=null&&oe.unshift(Qt(p,He,Me))):z||(He=Aa(p,G),He!=null&&oe.push(Qt(p,He,Me)))),p=p.return}oe.length!==0&&s.push({event:u,listeners:oe})}var rn=/\r\n?/g,wn=/\u0000|\uFFFD/g;function In(s){return(typeof s=="string"?s:""+s).replace(rn,`
`).replace(wn,"")}function En(s,u,p){if(u=In(u),In(s)!==u&&p)throw Error(n(425))}function zt(){}var kr=null,Li=null;function gn(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Si=typeof setTimeout=="function"?setTimeout:void 0,Qn=typeof clearTimeout=="function"?clearTimeout:void 0,Vs=typeof Promise=="function"?Promise:void 0,qn=typeof queueMicrotask=="function"?queueMicrotask:typeof Vs<"u"?function(s){return Vs.resolve(null).then(s).catch(ao)}:Si;function ao(s){setTimeout(function(){throw s})}function jo(s,u){var p=u,M=0;do{var z=p.nextSibling;if(s.removeChild(p),z&&z.nodeType===8)if(p=z.data,p==="/$"){if(M===0){s.removeChild(z),Ye(u);return}M--}else p!=="$"&&p!=="$?"&&p!=="$!"||M++;p=z}while(p);Ye(u)}function Ds(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function Bu(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return s;u--}else p==="/$"&&u++}s=s.previousSibling}return null}var ll=Math.random().toString(36).slice(2),Ko="__reactFiber$"+ll,fu="__reactProps$"+ll,_l="__reactContainer$"+ll,Nn="__reactEvents$"+ll,lp="__reactListeners$"+ll,X1="__reactHandles$"+ll;function sh(s){var u=s[Ko];if(u)return u;for(var p=s.parentNode;p;){if(u=p[_l]||p[Ko]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(s=Bu(s);s!==null;){if(p=s[Ko])return p;s=Bu(s)}return u}s=p,p=s.parentNode}return null}function up(s){return s=s[Ko]||s[_l],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ju(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function tg(s){return s[fu]||null}var jl=[],oh=-1;function Sl(s){return{current:s}}function pi(s){0>oh||(s.current=jl[oh],jl[oh]=null,oh--)}function Xi(s,u){oh++,jl[oh]=s.current,s.current=u}var Ps={},Xn=Sl(Ps),Ya=Sl(!1),El=Ps;function ah(s,u){var p=s.type.contextTypes;if(!p)return Ps;var M=s.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===u)return M.__reactInternalMemoizedMaskedChildContext;var z={},G;for(G in p)z[G]=u[G];return M&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=z),z}function lo(s){return s=s.childContextTypes,s!=null}function pu(){pi(Ya),pi(Xn)}function gc(s,u,p){if(Xn.current!==Ps)throw Error(n(168));Xi(Xn,u),Xi(Ya,p)}function ng(s,u,p){var M=s.stateNode;if(u=u.childContextTypes,typeof M.getChildContext!="function")return p;M=M.getChildContext();for(var z in M)if(!(z in u))throw Error(n(108,It(s)||"Unknown",z));return lt({},p,M)}function qd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ps,El=Xn.current,Xi(Xn,s),Xi(Ya,Ya.current),!0}function rg(s,u,p){var M=s.stateNode;if(!M)throw Error(n(169));p?(s=ng(s,u,El),M.__reactInternalMemoizedMergedChildContext=s,pi(Ya),pi(Xn),Xi(Xn,s)):pi(Ya),Xi(Ya,p)}var Hl=null,$h=!1,Xd=!1;function Yh(s){Hl===null?Hl=[s]:Hl.push(s)}function $d(s){$h=!0,Yh(s)}function Ml(){if(!Xd&&Hl!==null){Xd=!0;var s=0,u=Wr;try{var p=Hl;for(Wr=1;s<p.length;s++){var M=p[s];do M=M(!0);while(M!==null)}Hl=null,$h=!1}catch(z){throw Hl!==null&&(Hl=Hl.slice(s+1)),hn(ei,Ml),z}finally{Wr=u,Xd=!1}}return null}var Hu=[],vc=0,is=null,cp=0,Za=[],ka=0,Ul=null,Fs=1,Uu="";function uo(s,u){Hu[vc++]=cp,Hu[vc++]=is,is=s,cp=u}function mu(s,u,p){Za[ka++]=Fs,Za[ka++]=Uu,Za[ka++]=Ul,Ul=s;var M=Fs;s=Uu;var z=32-xi(M)-1;M&=~(1<<z),p+=1;var G=32-xi(u)+z;if(30<G){var oe=z-z%5;G=(M&(1<<oe)-1).toString(32),M>>=oe,z-=oe,Fs=1<<32-xi(u)+z|p<<z|M,Uu=G+s}else Fs=1<<G|p<<z|M,Uu=s}function Js(s){s.return!==null&&(uo(s,1),mu(s,1,0))}function yc(s){for(;s===is;)is=Hu[--vc],Hu[vc]=null,cp=Hu[--vc],Hu[vc]=null;for(;s===Ul;)Ul=Za[--ka],Za[ka]=null,Uu=Za[--ka],Za[ka]=null,Fs=Za[--ka],Za[ka]=null}var Qs=null,co=null,zi=!1,Oa=null;function hp(s,u){var p=Qa(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=s,u=s.deletions,u===null?(s.deletions=[p],s.flags|=16):u.push(p)}function Yd(s,u){switch(s.tag){case 5:var p=s.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,Qs=s,co=Ds(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,Qs=s,co=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=Ul!==null?{id:Fs,overflow:Uu}:null,s.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=Qa(18,null,null,0),p.stateNode=u,p.return=s,s.child=p,Qs=s,co=null,!0):!1;default:return!1}}function ig(s){return(s.mode&1)!==0&&(s.flags&128)===0}function $v(s){if(zi){var u=co;if(u){var p=u;if(!Yd(s,u)){if(ig(s))throw Error(n(418));u=Ds(p.nextSibling);var M=Qs;u&&Yd(s,u)?hp(M,p):(s.flags=s.flags&-4097|2,zi=!1,Qs=s)}}else{if(ig(s))throw Error(n(418));s.flags=s.flags&-4097|2,zi=!1,Qs=s}}}function dp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Qs=s}function Jr(s){if(s!==Qs)return!1;if(!zi)return dp(s),zi=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!gn(s.type,s.memoizedProps)),u&&(u=co)){if(ig(s))throw Dn(),Error(n(418));for(;u;)hp(s,u),u=Ds(u.nextSibling)}if(dp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(u===0){co=Ds(s.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}s=s.nextSibling}co=null}}else co=Qs?Ds(s.stateNode.nextSibling):null;return!0}function Dn(){for(var s=co;s;)s=Ds(s.nextSibling)}function Ia(){co=Qs=null,zi=!1}function Yv(s){Oa===null?Oa=[s]:Oa.push(s)}var $1=ce.ReactCurrentBatchConfig;function fp(s,u,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var M=p.stateNode}if(!M)throw Error(n(147,s));var z=M,G=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===G?u.ref:(u=function(oe){var Me=z.refs;oe===null?delete Me[G]:Me[G]=oe},u._stringRef=G,u)}if(typeof s!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,s))}return s}function sg(s,u){throw s=Object.prototype.toString.call(u),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function Nx(s){var u=s._init;return u(s._payload)}function Dx(s){function u(ht,qe){if(s){var pt=ht.deletions;pt===null?(ht.deletions=[qe],ht.flags|=16):pt.push(qe)}}function p(ht,qe){if(!s)return null;for(;qe!==null;)u(ht,qe),qe=qe.sibling;return null}function M(ht,qe){for(ht=new Map;qe!==null;)qe.key!==null?ht.set(qe.key,qe):ht.set(qe.index,qe),qe=qe.sibling;return ht}function z(ht,qe){return ht=Rc(ht,qe),ht.index=0,ht.sibling=null,ht}function G(ht,qe,pt){return ht.index=pt,s?(pt=ht.alternate,pt!==null?(pt=pt.index,pt<qe?(ht.flags|=2,qe):pt):(ht.flags|=2,qe)):(ht.flags|=1048576,qe)}function oe(ht){return s&&ht.alternate===null&&(ht.flags|=2),ht}function Me(ht,qe,pt,cn){return qe===null||qe.tag!==6?(qe=kg(pt,ht.mode,cn),qe.return=ht,qe):(qe=z(qe,pt),qe.return=ht,qe)}function He(ht,qe,pt,cn){var Vt=pt.type;return Vt===Fe?tn(ht,qe,pt.props.children,cn,pt.key):qe!==null&&(qe.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===We&&Nx(Vt)===qe.type)?(cn=z(qe,pt.props),cn.ref=fp(ht,qe,pt),cn.return=ht,cn):(cn=_f(pt.type,pt.key,pt.props,null,ht.mode,cn),cn.ref=fp(ht,qe,pt),cn.return=ht,cn)}function yt(ht,qe,pt,cn){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==pt.containerInfo||qe.stateNode.implementation!==pt.implementation?(qe=Dp(pt,ht.mode,cn),qe.return=ht,qe):(qe=z(qe,pt.children||[]),qe.return=ht,qe)}function tn(ht,qe,pt,cn,Vt){return qe===null||qe.tag!==7?(qe=bh(pt,ht.mode,cn,Vt),qe.return=ht,qe):(qe=z(qe,pt),qe.return=ht,qe)}function on(ht,qe,pt){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return qe=kg(""+qe,ht.mode,pt),qe.return=ht,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case Te:return pt=_f(qe.type,qe.key,qe.props,null,ht.mode,pt),pt.ref=fp(ht,null,qe),pt.return=ht,pt;case we:return qe=Dp(qe,ht.mode,pt),qe.return=ht,qe;case We:var cn=qe._init;return on(ht,cn(qe._payload),pt)}if(lr(qe)||te(qe))return qe=bh(qe,ht.mode,pt,null),qe.return=ht,qe;sg(ht,qe)}return null}function kt(ht,qe,pt,cn){var Vt=qe!==null?qe.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Vt!==null?null:Me(ht,qe,""+pt,cn);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case Te:return pt.key===Vt?He(ht,qe,pt,cn):null;case we:return pt.key===Vt?yt(ht,qe,pt,cn):null;case We:return Vt=pt._init,kt(ht,qe,Vt(pt._payload),cn)}if(lr(pt)||te(pt))return Vt!==null?null:tn(ht,qe,pt,cn,null);sg(ht,pt)}return null}function Cn(ht,qe,pt,cn,Vt){if(typeof cn=="string"&&cn!==""||typeof cn=="number")return ht=ht.get(pt)||null,Me(qe,ht,""+cn,Vt);if(typeof cn=="object"&&cn!==null){switch(cn.$$typeof){case Te:return ht=ht.get(cn.key===null?pt:cn.key)||null,He(qe,ht,cn,Vt);case we:return ht=ht.get(cn.key===null?pt:cn.key)||null,yt(qe,ht,cn,Vt);case We:var nr=cn._init;return Cn(ht,qe,pt,nr(cn._payload),Vt)}if(lr(cn)||te(cn))return ht=ht.get(pt)||null,tn(qe,ht,cn,Vt,null);sg(qe,cn)}return null}function Fn(ht,qe,pt,cn){for(var Vt=null,nr=null,pr=qe,Rr=qe=0,mo=null;pr!==null&&Rr<pt.length;Rr++){pr.index>Rr?(mo=pr,pr=null):mo=pr.sibling;var Pi=kt(ht,pr,pt[Rr],cn);if(Pi===null){pr===null&&(pr=mo);break}s&&pr&&Pi.alternate===null&&u(ht,pr),qe=G(Pi,qe,Rr),nr===null?Vt=Pi:nr.sibling=Pi,nr=Pi,pr=mo}if(Rr===pt.length)return p(ht,pr),zi&&uo(ht,Rr),Vt;if(pr===null){for(;Rr<pt.length;Rr++)pr=on(ht,pt[Rr],cn),pr!==null&&(qe=G(pr,qe,Rr),nr===null?Vt=pr:nr.sibling=pr,nr=pr);return zi&&uo(ht,Rr),Vt}for(pr=M(ht,pr);Rr<pt.length;Rr++)mo=Cn(pr,ht,Rr,pt[Rr],cn),mo!==null&&(s&&mo.alternate!==null&&pr.delete(mo.key===null?Rr:mo.key),qe=G(mo,qe,Rr),nr===null?Vt=mo:nr.sibling=mo,nr=mo);return s&&pr.forEach(function(nc){return u(ht,nc)}),zi&&uo(ht,Rr),Vt}function tr(ht,qe,pt,cn){var Vt=te(pt);if(typeof Vt!="function")throw Error(n(150));if(pt=Vt.call(pt),pt==null)throw Error(n(151));for(var nr=Vt=null,pr=qe,Rr=qe=0,mo=null,Pi=pt.next();pr!==null&&!Pi.done;Rr++,Pi=pt.next()){pr.index>Rr?(mo=pr,pr=null):mo=pr.sibling;var nc=kt(ht,pr,Pi.value,cn);if(nc===null){pr===null&&(pr=mo);break}s&&pr&&nc.alternate===null&&u(ht,pr),qe=G(nc,qe,Rr),nr===null?Vt=nc:nr.sibling=nc,nr=nc,pr=mo}if(Pi.done)return p(ht,pr),zi&&uo(ht,Rr),Vt;if(pr===null){for(;!Pi.done;Rr++,Pi=pt.next())Pi=on(ht,Pi.value,cn),Pi!==null&&(qe=G(Pi,qe,Rr),nr===null?Vt=Pi:nr.sibling=Pi,nr=Pi);return zi&&uo(ht,Rr),Vt}for(pr=M(ht,pr);!Pi.done;Rr++,Pi=pt.next())Pi=Cn(pr,ht,Rr,Pi.value,cn),Pi!==null&&(s&&Pi.alternate!==null&&pr.delete(Pi.key===null?Rr:Pi.key),qe=G(Pi,qe,Rr),nr===null?Vt=Pi:nr.sibling=Pi,nr=Pi);return s&&pr.forEach(function(F0){return u(ht,F0)}),zi&&uo(ht,Rr),Vt}function Xs(ht,qe,pt,cn){if(typeof pt=="object"&&pt!==null&&pt.type===Fe&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case Te:e:{for(var Vt=pt.key,nr=qe;nr!==null;){if(nr.key===Vt){if(Vt=pt.type,Vt===Fe){if(nr.tag===7){p(ht,nr.sibling),qe=z(nr,pt.props.children),qe.return=ht,ht=qe;break e}}else if(nr.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===We&&Nx(Vt)===nr.type){p(ht,nr.sibling),qe=z(nr,pt.props),qe.ref=fp(ht,nr,pt),qe.return=ht,ht=qe;break e}p(ht,nr);break}else u(ht,nr);nr=nr.sibling}pt.type===Fe?(qe=bh(pt.props.children,ht.mode,cn,pt.key),qe.return=ht,ht=qe):(cn=_f(pt.type,pt.key,pt.props,null,ht.mode,cn),cn.ref=fp(ht,qe,pt),cn.return=ht,ht=cn)}return oe(ht);case we:e:{for(nr=pt.key;qe!==null;){if(qe.key===nr)if(qe.tag===4&&qe.stateNode.containerInfo===pt.containerInfo&&qe.stateNode.implementation===pt.implementation){p(ht,qe.sibling),qe=z(qe,pt.children||[]),qe.return=ht,ht=qe;break e}else{p(ht,qe);break}else u(ht,qe);qe=qe.sibling}qe=Dp(pt,ht.mode,cn),qe.return=ht,ht=qe}return oe(ht);case We:return nr=pt._init,Xs(ht,qe,nr(pt._payload),cn)}if(lr(pt))return Fn(ht,qe,pt,cn);if(te(pt))return tr(ht,qe,pt,cn);sg(ht,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,qe!==null&&qe.tag===6?(p(ht,qe.sibling),qe=z(qe,pt),qe.return=ht,ht=qe):(p(ht,qe),qe=kg(pt,ht.mode,cn),qe.return=ht,ht=qe),oe(ht)):p(ht,qe)}return Xs}var Zd=Dx(!0),Fx=Dx(!1),og=Sl(null),ag=null,Kd=null,Zv=null;function Kv(){Zv=Kd=ag=null}function Jv(s){var u=og.current;pi(og),s._currentValue=u}function lh(s,u,p){for(;s!==null;){var M=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,M!==null&&(M.childLanes|=u)):M!==null&&(M.childLanes&u)!==u&&(M.childLanes|=u),s===p)break;s=s.return}}function gu(s,u){ag=s,Zv=Kd=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&u&&(Da=!0),s.firstContext=null)}function Al(s){var u=s._currentValue;if(Zv!==s)if(s={context:s,memoizedValue:u,next:null},Kd===null){if(ag===null)throw Error(n(308));Kd=s,ag.dependencies={lanes:0,firstContext:s}}else Kd=Kd.next=s;return u}var Zh=null;function Qv(s){Zh===null?Zh=[s]:Zh.push(s)}function e0(s,u,p,M){var z=u.interleaved;return z===null?(p.next=p,Qv(u)):(p.next=z.next,z.next=p),u.interleaved=p,Gu(s,M)}function Gu(s,u){s.lanes|=u;var p=s.alternate;for(p!==null&&(p.lanes|=u),p=s,s=s.return;s!==null;)s.childLanes|=u,p=s.alternate,p!==null&&(p.childLanes|=u),p=s,s=s.return;return p.tag===3?p.stateNode:null}var xc=!1;function lg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t0(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Vu(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function Tl(s,u,p){var M=s.updateQueue;if(M===null)return null;if(M=M.shared,Ei&2){var z=M.pending;return z===null?u.next=u:(u.next=z.next,z.next=u),M.pending=u,Gu(s,p)}return z=M.interleaved,z===null?(u.next=u,Qv(M)):(u.next=z.next,z.next=u),M.interleaved=u,Gu(s,p)}function Ka(s,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var M=u.lanes;M&=s.pendingLanes,p|=M,u.lanes=p,Oo(s,p)}}function ul(s,u){var p=s.updateQueue,M=s.alternate;if(M!==null&&(M=M.updateQueue,p===M)){var z=null,G=null;if(p=p.firstBaseUpdate,p!==null){do{var oe={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};G===null?z=G=oe:G=G.next=oe,p=p.next}while(p!==null);G===null?z=G=u:G=G.next=u}else z=G=u;p={baseState:M.baseState,firstBaseUpdate:z,lastBaseUpdate:G,shared:M.shared,effects:M.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=u:s.next=u,p.lastBaseUpdate=u}function pp(s,u,p,M){var z=s.updateQueue;xc=!1;var G=z.firstBaseUpdate,oe=z.lastBaseUpdate,Me=z.shared.pending;if(Me!==null){z.shared.pending=null;var He=Me,yt=He.next;He.next=null,oe===null?G=yt:oe.next=yt,oe=He;var tn=s.alternate;tn!==null&&(tn=tn.updateQueue,Me=tn.lastBaseUpdate,Me!==oe&&(Me===null?tn.firstBaseUpdate=yt:Me.next=yt,tn.lastBaseUpdate=He))}if(G!==null){var on=z.baseState;oe=0,tn=yt=He=null,Me=G;do{var kt=Me.lane,Cn=Me.eventTime;if((M&kt)===kt){tn!==null&&(tn=tn.next={eventTime:Cn,lane:0,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null});e:{var Fn=s,tr=Me;switch(kt=u,Cn=p,tr.tag){case 1:if(Fn=tr.payload,typeof Fn=="function"){on=Fn.call(Cn,on,kt);break e}on=Fn;break e;case 3:Fn.flags=Fn.flags&-65537|128;case 0:if(Fn=tr.payload,kt=typeof Fn=="function"?Fn.call(Cn,on,kt):Fn,kt==null)break e;on=lt({},on,kt);break e;case 2:xc=!0}}Me.callback!==null&&Me.lane!==0&&(s.flags|=64,kt=z.effects,kt===null?z.effects=[Me]:kt.push(Me))}else Cn={eventTime:Cn,lane:kt,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null},tn===null?(yt=tn=Cn,He=on):tn=tn.next=Cn,oe|=kt;if(Me=Me.next,Me===null){if(Me=z.shared.pending,Me===null)break;kt=Me,Me=kt.next,kt.next=null,z.lastBaseUpdate=kt,z.shared.pending=null}}while(!0);if(tn===null&&(He=on),z.baseState=He,z.firstBaseUpdate=yt,z.lastBaseUpdate=tn,u=z.shared.interleaved,u!==null){z=u;do oe|=z.lane,z=z.next;while(z!==u)}else G===null&&(z.shared.lanes=0);Ac|=oe,s.lanes=oe,s.memoizedState=on}}function zx(s,u,p){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var M=s[u],z=M.callback;if(z!==null){if(M.callback=null,M=p,typeof z!="function")throw Error(n(191,z));z.call(M)}}}var mp={},Wu=Sl(mp),gp=Sl(mp),vp=Sl(mp);function Kh(s){if(s===mp)throw Error(n(174));return s}function n0(s,u){switch(Xi(vp,u),Xi(gp,s),Xi(Wu,mp),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:di(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=di(u,s)}pi(Wu),Xi(Wu,u)}function Jd(){pi(Wu),pi(gp),pi(vp)}function Bx(s){Kh(vp.current);var u=Kh(Wu.current),p=di(u,s.type);u!==p&&(Xi(gp,s),Xi(Wu,p))}function r0(s){gp.current===s&&(pi(Wu),pi(gp))}var Ws=Sl(0);function ug(s){for(var u=s;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var i0=[];function s0(){for(var s=0;s<i0.length;s++)i0[s]._workInProgressVersionPrimary=null;i0.length=0}var cg=ce.ReactCurrentDispatcher,o0=ce.ReactCurrentBatchConfig,Jh=0,qs=null,Ho=null,Jo=null,hg=!1,yp=!1,xp=0,Y1=0;function Na(){throw Error(n(321))}function a0(s,u){if(u===null)return!1;for(var p=0;p<u.length&&p<s.length;p++)if(!fs(s[p],u[p]))return!1;return!0}function l0(s,u,p,M,z,G){if(Jh=G,qs=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,cg.current=s===null||s.memoizedState===null?Q1:ew,s=p(M,z),yp){G=0;do{if(yp=!1,xp=0,25<=G)throw Error(n(301));G+=1,Jo=Ho=null,u.updateQueue=null,cg.current=tw,s=p(M,z)}while(yp)}if(cg.current=mg,u=Ho!==null&&Ho.next!==null,Jh=0,Jo=Ho=qs=null,hg=!1,u)throw Error(n(300));return s}function u0(){var s=xp!==0;return xp=0,s}function qu(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jo===null?qs.memoizedState=Jo=s:Jo=Jo.next=s,Jo}function Gl(){if(Ho===null){var s=qs.alternate;s=s!==null?s.memoizedState:null}else s=Ho.next;var u=Jo===null?qs.memoizedState:Jo.next;if(u!==null)Jo=u,Ho=s;else{if(s===null)throw Error(n(310));Ho=s,s={memoizedState:Ho.memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},Jo===null?qs.memoizedState=Jo=s:Jo=Jo.next=s}return Jo}function Qd(s,u){return typeof u=="function"?u(s):u}function dg(s){var u=Gl(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var M=Ho,z=M.baseQueue,G=p.pending;if(G!==null){if(z!==null){var oe=z.next;z.next=G.next,G.next=oe}M.baseQueue=z=G,p.pending=null}if(z!==null){G=z.next,M=M.baseState;var Me=oe=null,He=null,yt=G;do{var tn=yt.lane;if((Jh&tn)===tn)He!==null&&(He=He.next={lane:0,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null}),M=yt.hasEagerState?yt.eagerState:s(M,yt.action);else{var on={lane:tn,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null};He===null?(Me=He=on,oe=M):He=He.next=on,qs.lanes|=tn,Ac|=tn}yt=yt.next}while(yt!==null&&yt!==G);He===null?oe=M:He.next=Me,fs(M,u.memoizedState)||(Da=!0),u.memoizedState=M,u.baseState=oe,u.baseQueue=He,p.lastRenderedState=M}if(s=p.interleaved,s!==null){z=s;do G=z.lane,qs.lanes|=G,Ac|=G,z=z.next;while(z!==s)}else z===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function bp(s){var u=Gl(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var M=p.dispatch,z=p.pending,G=u.memoizedState;if(z!==null){p.pending=null;var oe=z=z.next;do G=s(G,oe.action),oe=oe.next;while(oe!==z);fs(G,u.memoizedState)||(Da=!0),u.memoizedState=G,u.baseQueue===null&&(u.baseState=G),p.lastRenderedState=G}return[G,M]}function c0(){}function jx(s,u){var p=qs,M=Gl(),z=u(),G=!fs(M.memoizedState,z);if(G&&(M.memoizedState=z,Da=!0),M=M.queue,m0(Hx.bind(null,p,M,s),[s]),M.getSnapshot!==u||G||Jo!==null&&Jo.memoizedState.tag&1){if(p.flags|=2048,wp(9,h0.bind(null,p,M,z,u),void 0,null),Mo===null)throw Error(n(349));Jh&30||bc(p,u,z)}return z}function bc(s,u,p){s.flags|=16384,s={getSnapshot:u,value:p},u=qs.updateQueue,u===null?(u={lastEffect:null,stores:null},qs.updateQueue=u,u.stores=[s]):(p=u.stores,p===null?u.stores=[s]:p.push(s))}function h0(s,u,p,M){u.value=p,u.getSnapshot=M,d0(u)&&f0(s)}function Hx(s,u,p){return p(function(){d0(u)&&f0(s)})}function d0(s){var u=s.getSnapshot;s=s.value;try{var p=u();return!fs(s,p)}catch{return!0}}function f0(s){var u=Gu(s,1);u!==null&&za(u,s,1,-1)}function ef(s){var u=qu();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:s},u.queue=s,s=s.dispatch=J1.bind(null,qs,s),[u.memoizedState,s]}function wp(s,u,p,M){return s={tag:s,create:u,destroy:p,deps:M,next:null},u=qs.updateQueue,u===null?(u={lastEffect:null,stores:null},qs.updateQueue=u,u.lastEffect=s.next=s):(p=u.lastEffect,p===null?u.lastEffect=s.next=s:(M=p.next,p.next=s,s.next=M,u.lastEffect=s)),s}function Ux(){return Gl().memoizedState}function uh(s,u,p,M){var z=qu();qs.flags|=s,z.memoizedState=wp(1|u,p,void 0,M===void 0?null:M)}function _p(s,u,p,M){var z=Gl();M=M===void 0?null:M;var G=void 0;if(Ho!==null){var oe=Ho.memoizedState;if(G=oe.destroy,M!==null&&a0(M,oe.deps)){z.memoizedState=wp(u,p,G,M);return}}qs.flags|=s,z.memoizedState=wp(1|u,p,G,M)}function p0(s,u){return uh(8390656,8,s,u)}function m0(s,u){return _p(2048,8,s,u)}function fg(s,u){return _p(4,2,s,u)}function Gx(s,u){return _p(4,4,s,u)}function Vx(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function Wx(s,u,p){return p=p!=null?p.concat([s]):null,_p(4,4,Vx.bind(null,u,s),p)}function pg(){}function qx(s,u){var p=Gl();u=u===void 0?null:u;var M=p.memoizedState;return M!==null&&u!==null&&a0(u,M[1])?M[0]:(p.memoizedState=[s,u],s)}function g0(s,u){var p=Gl();u=u===void 0?null:u;var M=p.memoizedState;return M!==null&&u!==null&&a0(u,M[1])?M[0]:(s=s(),p.memoizedState=[s,u],s)}function v0(s,u,p){return Jh&21?(fs(p,u)||(p=ko(),qs.lanes|=p,Ac|=p,s.baseState=!0),u):(s.baseState&&(s.baseState=!1,Da=!0),s.memoizedState=p)}function Z1(s,u){var p=Wr;Wr=p!==0&&4>p?p:4,s(!0);var M=o0.transition;o0.transition={};try{s(!1),u()}finally{Wr=p,o0.transition=M}}function Xx(){return Gl().memoizedState}function K1(s,u,p){var M=vh(s);if(p={lane:M,action:p,hasEagerState:!1,eagerState:null,next:null},$x(s))y0(u,p);else if(p=e0(s,u,p,M),p!==null){var z=va();za(p,s,M,z),Yx(p,u,M)}}function J1(s,u,p){var M=vh(s),z={lane:M,action:p,hasEagerState:!1,eagerState:null,next:null};if($x(s))y0(u,z);else{var G=s.alternate;if(s.lanes===0&&(G===null||G.lanes===0)&&(G=u.lastRenderedReducer,G!==null))try{var oe=u.lastRenderedState,Me=G(oe,p);if(z.hasEagerState=!0,z.eagerState=Me,fs(Me,oe)){var He=u.interleaved;He===null?(z.next=z,Qv(u)):(z.next=He.next,He.next=z),u.interleaved=z;return}}catch{}finally{}p=e0(s,u,z,M),p!==null&&(z=va(),za(p,s,M,z),Yx(p,u,M))}}function $x(s){var u=s.alternate;return s===qs||u!==null&&u===qs}function y0(s,u){yp=hg=!0;var p=s.pending;p===null?u.next=u:(u.next=p.next,p.next=u),s.pending=u}function Yx(s,u,p){if(p&4194240){var M=u.lanes;M&=s.pendingLanes,p|=M,u.lanes=p,Oo(s,p)}}var mg={readContext:Al,useCallback:Na,useContext:Na,useEffect:Na,useImperativeHandle:Na,useInsertionEffect:Na,useLayoutEffect:Na,useMemo:Na,useReducer:Na,useRef:Na,useState:Na,useDebugValue:Na,useDeferredValue:Na,useTransition:Na,useMutableSource:Na,useSyncExternalStore:Na,useId:Na,unstable_isNewReconciler:!1},Q1={readContext:Al,useCallback:function(s,u){return qu().memoizedState=[s,u===void 0?null:u],s},useContext:Al,useEffect:p0,useImperativeHandle:function(s,u,p){return p=p!=null?p.concat([s]):null,uh(4194308,4,Vx.bind(null,u,s),p)},useLayoutEffect:function(s,u){return uh(4194308,4,s,u)},useInsertionEffect:function(s,u){return uh(4,2,s,u)},useMemo:function(s,u){var p=qu();return u=u===void 0?null:u,s=s(),p.memoizedState=[s,u],s},useReducer:function(s,u,p){var M=qu();return u=p!==void 0?p(u):u,M.memoizedState=M.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},M.queue=s,s=s.dispatch=K1.bind(null,qs,s),[M.memoizedState,s]},useRef:function(s){var u=qu();return s={current:s},u.memoizedState=s},useState:ef,useDebugValue:pg,useDeferredValue:function(s){return qu().memoizedState=s},useTransition:function(){var s=ef(!1),u=s[0];return s=Z1.bind(null,s[1]),qu().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,p){var M=qs,z=qu();if(zi){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),Mo===null)throw Error(n(349));Jh&30||bc(M,u,p)}z.memoizedState=p;var G={value:p,getSnapshot:u};return z.queue=G,p0(Hx.bind(null,M,G,s),[s]),M.flags|=2048,wp(9,h0.bind(null,M,G,p,u),void 0,null),p},useId:function(){var s=qu(),u=Mo.identifierPrefix;if(zi){var p=Uu,M=Fs;p=(M&~(1<<32-xi(M)-1)).toString(32)+p,u=":"+u+"R"+p,p=xp++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=Y1++,u=":"+u+"r"+p.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},ew={readContext:Al,useCallback:qx,useContext:Al,useEffect:m0,useImperativeHandle:Wx,useInsertionEffect:fg,useLayoutEffect:Gx,useMemo:g0,useReducer:dg,useRef:Ux,useState:function(){return dg(Qd)},useDebugValue:pg,useDeferredValue:function(s){var u=Gl();return v0(u,Ho.memoizedState,s)},useTransition:function(){var s=dg(Qd)[0],u=Gl().memoizedState;return[s,u]},useMutableSource:c0,useSyncExternalStore:jx,useId:Xx,unstable_isNewReconciler:!1},tw={readContext:Al,useCallback:qx,useContext:Al,useEffect:m0,useImperativeHandle:Wx,useInsertionEffect:fg,useLayoutEffect:Gx,useMemo:g0,useReducer:bp,useRef:Ux,useState:function(){return bp(Qd)},useDebugValue:pg,useDeferredValue:function(s){var u=Gl();return Ho===null?u.memoizedState=s:v0(u,Ho.memoizedState,s)},useTransition:function(){var s=bp(Qd)[0],u=Gl().memoizedState;return[s,u]},useMutableSource:c0,useSyncExternalStore:jx,useId:Xx,unstable_isNewReconciler:!1};function Vl(s,u){if(s&&s.defaultProps){u=lt({},u),s=s.defaultProps;for(var p in s)u[p]===void 0&&(u[p]=s[p]);return u}return u}function x0(s,u,p,M){u=s.memoizedState,p=p(M,u),p=p==null?u:lt({},u,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var vu={isMounted:function(s){return(s=s._reactInternals)?ws(s)===s:!1},enqueueSetState:function(s,u,p){s=s._reactInternals;var M=va(),z=vh(s),G=Vu(M,z);G.payload=u,p!=null&&(G.callback=p),u=Tl(s,G,z),u!==null&&(za(u,s,z,M),Ka(u,s,z))},enqueueReplaceState:function(s,u,p){s=s._reactInternals;var M=va(),z=vh(s),G=Vu(M,z);G.tag=1,G.payload=u,p!=null&&(G.callback=p),u=Tl(s,G,z),u!==null&&(za(u,s,z,M),Ka(u,s,z))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var p=va(),M=vh(s),z=Vu(p,M);z.tag=2,u!=null&&(z.callback=u),u=Tl(s,z,M),u!==null&&(za(u,s,M,p),Ka(u,s,M))}};function wc(s,u,p,M,z,G,oe){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(M,G,oe):u.prototype&&u.prototype.isPureReactComponent?!Cr(p,M)||!Cr(z,G):!0}function b0(s,u,p){var M=!1,z=Ps,G=u.contextType;return typeof G=="object"&&G!==null?G=Al(G):(z=lo(u)?El:Xn.current,M=u.contextTypes,G=(M=M!=null)?ah(s,z):Ps),u=new u(p,G),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=vu,s.stateNode=u,u._reactInternals=s,M&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=z,s.__reactInternalMemoizedMaskedChildContext=G),u}function Zx(s,u,p,M){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,M),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,M),u.state!==s&&vu.enqueueReplaceState(u,u.state,null)}function w0(s,u,p,M){var z=s.stateNode;z.props=p,z.state=s.memoizedState,z.refs={},lg(s);var G=u.contextType;typeof G=="object"&&G!==null?z.context=Al(G):(G=lo(u)?El:Xn.current,z.context=ah(s,G)),z.state=s.memoizedState,G=u.getDerivedStateFromProps,typeof G=="function"&&(x0(s,u,G,p),z.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(u=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),u!==z.state&&vu.enqueueReplaceState(z,z.state,null),pp(s,p,z,M),z.state=s.memoizedState),typeof z.componentDidMount=="function"&&(s.flags|=4194308)}function Qh(s,u){try{var p="",M=u;do p+=Gt(M),M=M.return;while(M);var z=p}catch(G){z=`
Error generating stack: `+G.message+`
`+G.stack}return{value:s,source:u,stack:z,digest:null}}function tf(s,u,p){return{value:s,source:null,stack:p??null,digest:u??null}}function Xu(s,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var Sp=typeof WeakMap=="function"?WeakMap:Map;function _0(s,u,p){p=Vu(-1,p),p.tag=3,p.payload={element:null};var M=u.value;return p.callback=function(){Op||(Op=!0,Zu=M),Xu(s,u)},p}function Kx(s,u,p){p=Vu(-1,p),p.tag=3;var M=s.type.getDerivedStateFromError;if(typeof M=="function"){var z=u.value;p.payload=function(){return M(z)},p.callback=function(){Xu(s,u)}}var G=s.stateNode;return G!==null&&typeof G.componentDidCatch=="function"&&(p.callback=function(){Xu(s,u),typeof M!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var oe=u.stack;this.componentDidCatch(u.value,{componentStack:oe!==null?oe:""})}),p}function nf(s,u,p){var M=s.pingCache;if(M===null){M=s.pingCache=new Sp;var z=new Set;M.set(u,z)}else z=M.get(u),z===void 0&&(z=new Set,M.set(u,z));z.has(p)||(z.add(p),s=Np.bind(null,s,u,p),u.then(s,s))}function gg(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function Ep(s,u,p,M,z){return s.mode&1?(s.flags|=65536,s.lanes=z,s):(s===u?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=Vu(-1,1),u.tag=2,Tl(p,u,1))),p.lanes|=1),s)}var vg=ce.ReactCurrentOwner,Da=!1;function ms(s,u,p,M){u.child=s===null?Fx(u,null,p,M):Zd(u,s.child,p,M)}function ch(s,u,p,M,z){p=p.render;var G=u.ref;return gu(u,z),M=l0(s,u,p,M,G,z),p=u0(),s!==null&&!Da?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~z,Cl(s,u,z)):(zi&&p&&Js(u),u.flags|=1,ms(s,u,M,z),u.child)}function _c(s,u,p,M,z){if(s===null){var G=p.type;return typeof G=="function"&&!Rg(G)&&G.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=G,Sc(s,u,G,M,z)):(s=_f(p.type,null,M,u,u.mode,z),s.ref=u.ref,s.return=u,u.child=s)}if(G=s.child,!(s.lanes&z)){var oe=G.memoizedProps;if(p=p.compare,p=p!==null?p:Cr,p(oe,M)&&s.ref===u.ref)return Cl(s,u,z)}return u.flags|=1,s=Rc(G,M),s.ref=u.ref,s.return=u,u.child=s}function Sc(s,u,p,M,z){if(s!==null){var G=s.memoizedProps;if(Cr(G,M)&&s.ref===u.ref)if(Da=!1,u.pendingProps=M=G,(s.lanes&z)!==0)s.flags&131072&&(Da=!0);else return u.lanes=s.lanes,Cl(s,u,z)}return hh(s,u,p,M,z)}function ed(s,u,p){var M=u.pendingProps,z=M.children,G=s!==null?s.memoizedState:null;if(M.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xi(sd,Ja),Ja|=p;else{if(!(p&1073741824))return s=G!==null?G.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,Xi(sd,Ja),Ja|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=G!==null?G.baseLanes:p,Xi(sd,Ja),Ja|=M}else G!==null?(M=G.baseLanes|p,u.memoizedState=null):M=p,Xi(sd,Ja),Ja|=M;return ms(s,u,z,p),u.child}function rf(s,u){var p=u.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function hh(s,u,p,M,z){var G=lo(p)?El:Xn.current;return G=ah(u,G),gu(u,z),p=l0(s,u,p,M,G,z),M=u0(),s!==null&&!Da?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~z,Cl(s,u,z)):(zi&&M&&Js(u),u.flags|=1,ms(s,u,p,z),u.child)}function td(s,u,p,M,z){if(lo(p)){var G=!0;qd(u)}else G=!1;if(gu(u,z),u.stateNode===null)Tp(s,u),b0(u,p,M),w0(u,p,M,z),M=!0;else if(s===null){var oe=u.stateNode,Me=u.memoizedProps;oe.props=Me;var He=oe.context,yt=p.contextType;typeof yt=="object"&&yt!==null?yt=Al(yt):(yt=lo(p)?El:Xn.current,yt=ah(u,yt));var tn=p.getDerivedStateFromProps,on=typeof tn=="function"||typeof oe.getSnapshotBeforeUpdate=="function";on||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(Me!==M||He!==yt)&&Zx(u,oe,M,yt),xc=!1;var kt=u.memoizedState;oe.state=kt,pp(u,M,oe,z),He=u.memoizedState,Me!==M||kt!==He||Ya.current||xc?(typeof tn=="function"&&(x0(u,p,tn,M),He=u.memoizedState),(Me=xc||wc(u,p,Me,M,kt,He,yt))?(on||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(u.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=M,u.memoizedState=He),oe.props=M,oe.state=He,oe.context=yt,M=Me):(typeof oe.componentDidMount=="function"&&(u.flags|=4194308),M=!1)}else{oe=u.stateNode,t0(s,u),Me=u.memoizedProps,yt=u.type===u.elementType?Me:Vl(u.type,Me),oe.props=yt,on=u.pendingProps,kt=oe.context,He=p.contextType,typeof He=="object"&&He!==null?He=Al(He):(He=lo(p)?El:Xn.current,He=ah(u,He));var Cn=p.getDerivedStateFromProps;(tn=typeof Cn=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(Me!==on||kt!==He)&&Zx(u,oe,M,He),xc=!1,kt=u.memoizedState,oe.state=kt,pp(u,M,oe,z);var Fn=u.memoizedState;Me!==on||kt!==Fn||Ya.current||xc?(typeof Cn=="function"&&(x0(u,p,Cn,M),Fn=u.memoizedState),(yt=xc||wc(u,p,yt,M,kt,Fn,He)||!1)?(tn||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate(M,Fn,He),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate(M,Fn,He)),typeof oe.componentDidUpdate=="function"&&(u.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof oe.componentDidUpdate!="function"||Me===s.memoizedProps&&kt===s.memoizedState||(u.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||Me===s.memoizedProps&&kt===s.memoizedState||(u.flags|=1024),u.memoizedProps=M,u.memoizedState=Fn),oe.props=M,oe.state=Fn,oe.context=He,M=yt):(typeof oe.componentDidUpdate!="function"||Me===s.memoizedProps&&kt===s.memoizedState||(u.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||Me===s.memoizedProps&&kt===s.memoizedState||(u.flags|=1024),M=!1)}return dh(s,u,p,M,G,z)}function dh(s,u,p,M,z,G){rf(s,u);var oe=(u.flags&128)!==0;if(!M&&!oe)return z&&rg(u,p,!1),Cl(s,u,G);M=u.stateNode,vg.current=u;var Me=oe&&typeof p.getDerivedStateFromError!="function"?null:M.render();return u.flags|=1,s!==null&&oe?(u.child=Zd(u,s.child,null,G),u.child=Zd(u,null,Me,G)):ms(s,u,Me,G),u.memoizedState=M.state,z&&rg(u,p,!0),u.child}function sf(s){var u=s.stateNode;u.pendingContext?gc(s,u.pendingContext,u.pendingContext!==u.context):u.context&&gc(s,u.context,!1),n0(s,u.containerInfo)}function S0(s,u,p,M,z){return Ia(),Yv(z),u.flags|=256,ms(s,u,p,M),u.child}var of={dehydrated:null,treeContext:null,retryLane:0};function nd(s){return{baseLanes:s,cachePool:null,transitions:null}}function Mp(s,u,p){var M=u.pendingProps,z=Ws.current,G=!1,oe=(u.flags&128)!==0,Me;if((Me=oe)||(Me=s!==null&&s.memoizedState===null?!1:(z&2)!==0),Me?(G=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(z|=1),Xi(Ws,z&1),s===null)return $v(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(u.mode&1?s.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(oe=M.children,s=M.fallback,G?(M=u.mode,G=u.child,oe={mode:"hidden",children:oe},!(M&1)&&G!==null?(G.childLanes=0,G.pendingProps=oe):G=Sf(oe,M,0,null),s=bh(s,M,p,null),G.return=u,s.return=u,G.sibling=s,u.child=G,u.child.memoizedState=nd(p),u.memoizedState=of,s):yg(u,oe));if(z=s.memoizedState,z!==null&&(Me=z.dehydrated,Me!==null))return Jx(s,u,oe,M,Me,z,p);if(G){G=M.fallback,oe=u.mode,z=s.child,Me=z.sibling;var He={mode:"hidden",children:M.children};return!(oe&1)&&u.child!==z?(M=u.child,M.childLanes=0,M.pendingProps=He,u.deletions=null):(M=Rc(z,He),M.subtreeFlags=z.subtreeFlags&14680064),Me!==null?G=Rc(Me,G):(G=bh(G,oe,p,null),G.flags|=2),G.return=u,M.return=u,M.sibling=G,u.child=M,M=G,G=u.child,oe=s.child.memoizedState,oe=oe===null?nd(p):{baseLanes:oe.baseLanes|p,cachePool:null,transitions:oe.transitions},G.memoizedState=oe,G.childLanes=s.childLanes&~p,u.memoizedState=of,M}return G=s.child,s=G.sibling,M=Rc(G,{mode:"visible",children:M.children}),!(u.mode&1)&&(M.lanes=p),M.return=u,M.sibling=null,s!==null&&(p=u.deletions,p===null?(u.deletions=[s],u.flags|=16):p.push(s)),u.child=M,u.memoizedState=null,M}function yg(s,u){return u=Sf({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function af(s,u,p,M){return M!==null&&Yv(M),Zd(u,s.child,null,p),s=yg(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function Jx(s,u,p,M,z,G,oe){if(p)return u.flags&256?(u.flags&=-257,M=tf(Error(n(422))),af(s,u,oe,M)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(G=M.fallback,z=u.mode,M=Sf({mode:"visible",children:M.children},z,0,null),G=bh(G,z,oe,null),G.flags|=2,M.return=u,G.return=u,M.sibling=G,u.child=M,u.mode&1&&Zd(u,s.child,null,oe),u.child.memoizedState=nd(oe),u.memoizedState=of,G);if(!(u.mode&1))return af(s,u,oe,null);if(z.data==="$!"){if(M=z.nextSibling&&z.nextSibling.dataset,M)var Me=M.dgst;return M=Me,G=Error(n(419)),M=tf(G,M,void 0),af(s,u,oe,M)}if(Me=(oe&s.childLanes)!==0,Da||Me){if(M=Mo,M!==null){switch(oe&-oe){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}z=z&(M.suspendedLanes|oe)?0:z,z!==0&&z!==G.retryLane&&(G.retryLane=z,Gu(s,z),za(M,s,z,-1))}return Cg(),M=tf(Error(n(421))),af(s,u,oe,M)}return z.data==="$?"?(u.flags|=128,u.child=s.child,u=ob.bind(null,s),z._reactRetry=u,null):(s=G.treeContext,co=Ds(z.nextSibling),Qs=u,zi=!0,Oa=null,s!==null&&(Za[ka++]=Fs,Za[ka++]=Uu,Za[ka++]=Ul,Fs=s.id,Uu=s.overflow,Ul=u),u=yg(u,M.children),u.flags|=4096,u)}function lf(s,u,p){s.lanes|=u;var M=s.alternate;M!==null&&(M.lanes|=u),lh(s.return,u,p)}function uf(s,u,p,M,z){var G=s.memoizedState;G===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:M,tail:p,tailMode:z}:(G.isBackwards=u,G.rendering=null,G.renderingStartTime=0,G.last=M,G.tail=p,G.tailMode=z)}function Ap(s,u,p){var M=u.pendingProps,z=M.revealOrder,G=M.tail;if(ms(s,u,M.children,p),M=Ws.current,M&2)M=M&1|2,u.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lf(s,p,u);else if(s.tag===19)lf(s,p,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}M&=1}if(Xi(Ws,M),!(u.mode&1))u.memoizedState=null;else switch(z){case"forwards":for(p=u.child,z=null;p!==null;)s=p.alternate,s!==null&&ug(s)===null&&(z=p),p=p.sibling;p=z,p===null?(z=u.child,u.child=null):(z=p.sibling,p.sibling=null),uf(u,!1,z,p,G);break;case"backwards":for(p=null,z=u.child,u.child=null;z!==null;){if(s=z.alternate,s!==null&&ug(s)===null){u.child=z;break}s=z.sibling,z.sibling=p,p=z,z=s}uf(u,!0,p,null,G);break;case"together":uf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Tp(s,u){!(u.mode&1)&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function Cl(s,u,p){if(s!==null&&(u.dependencies=s.dependencies),Ac|=u.lanes,!(p&u.childLanes))return null;if(s!==null&&u.child!==s.child)throw Error(n(153));if(u.child!==null){for(s=u.child,p=Rc(s,s.pendingProps),u.child=p,p.return=u;s.sibling!==null;)s=s.sibling,p=p.sibling=Rc(s,s.pendingProps),p.return=u;p.sibling=null}return u.child}function Qx(s,u,p){switch(u.tag){case 3:sf(u),Ia();break;case 5:Bx(u);break;case 1:lo(u.type)&&qd(u);break;case 4:n0(u,u.stateNode.containerInfo);break;case 10:var M=u.type._context,z=u.memoizedProps.value;Xi(og,M._currentValue),M._currentValue=z;break;case 13:if(M=u.memoizedState,M!==null)return M.dehydrated!==null?(Xi(Ws,Ws.current&1),u.flags|=128,null):p&u.child.childLanes?Mp(s,u,p):(Xi(Ws,Ws.current&1),s=Cl(s,u,p),s!==null?s.sibling:null);Xi(Ws,Ws.current&1);break;case 19:if(M=(p&u.childLanes)!==0,s.flags&128){if(M)return Ap(s,u,p);u.flags|=128}if(z=u.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),Xi(Ws,Ws.current),M)break;return null;case 22:case 23:return u.lanes=0,ed(s,u,p)}return Cl(s,u,p)}var E0,xg,eb,M0;E0=function(s,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},xg=function(){},eb=function(s,u,p,M){var z=s.memoizedProps;if(z!==M){s=u.stateNode,Kh(Wu.current);var G=null;switch(p){case"input":z=xn(s,z),M=xn(s,M),G=[];break;case"select":z=lt({},z,{value:void 0}),M=lt({},M,{value:void 0}),G=[];break;case"textarea":z=ur(s,z),M=ur(s,M),G=[];break;default:typeof z.onClick!="function"&&typeof M.onClick=="function"&&(s.onclick=zt)}Yi(p,M);var oe;p=null;for(yt in z)if(!M.hasOwnProperty(yt)&&z.hasOwnProperty(yt)&&z[yt]!=null)if(yt==="style"){var Me=z[yt];for(oe in Me)Me.hasOwnProperty(oe)&&(p||(p={}),p[oe]="")}else yt!=="dangerouslySetInnerHTML"&&yt!=="children"&&yt!=="suppressContentEditableWarning"&&yt!=="suppressHydrationWarning"&&yt!=="autoFocus"&&(c.hasOwnProperty(yt)?G||(G=[]):(G=G||[]).push(yt,null));for(yt in M){var He=M[yt];if(Me=z!=null?z[yt]:void 0,M.hasOwnProperty(yt)&&He!==Me&&(He!=null||Me!=null))if(yt==="style")if(Me){for(oe in Me)!Me.hasOwnProperty(oe)||He&&He.hasOwnProperty(oe)||(p||(p={}),p[oe]="");for(oe in He)He.hasOwnProperty(oe)&&Me[oe]!==He[oe]&&(p||(p={}),p[oe]=He[oe])}else p||(G||(G=[]),G.push(yt,p)),p=He;else yt==="dangerouslySetInnerHTML"?(He=He?He.__html:void 0,Me=Me?Me.__html:void 0,He!=null&&Me!==He&&(G=G||[]).push(yt,He)):yt==="children"?typeof He!="string"&&typeof He!="number"||(G=G||[]).push(yt,""+He):yt!=="suppressContentEditableWarning"&&yt!=="suppressHydrationWarning"&&(c.hasOwnProperty(yt)?(He!=null&&yt==="onScroll"&&De("scroll",s),G||Me===He||(G=[])):(G=G||[]).push(yt,He))}p&&(G=G||[]).push("style",p);var yt=G;(u.updateQueue=yt)&&(u.flags|=4)}},M0=function(s,u,p,M){p!==M&&(u.flags|=4)};function Ec(s,u){if(!zi)switch(s.tailMode){case"hidden":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var M=null;p!==null;)p.alternate!==null&&(M=p),p=p.sibling;M===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:M.sibling=null}}function So(s){var u=s.alternate!==null&&s.alternate.child===s.child,p=0,M=0;if(u)for(var z=s.child;z!==null;)p|=z.lanes|z.childLanes,M|=z.subtreeFlags&14680064,M|=z.flags&14680064,z.return=s,z=z.sibling;else for(z=s.child;z!==null;)p|=z.lanes|z.childLanes,M|=z.subtreeFlags,M|=z.flags,z.return=s,z=z.sibling;return s.subtreeFlags|=M,s.childLanes=p,u}function tb(s,u,p){var M=u.pendingProps;switch(yc(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return So(u),null;case 1:return lo(u.type)&&pu(),So(u),null;case 3:return M=u.stateNode,Jd(),pi(Ya),pi(Xn),s0(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(s===null||s.child===null)&&(Jr(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Oa!==null&&(Mg(Oa),Oa=null))),xg(s,u),So(u),null;case 5:r0(u);var z=Kh(vp.current);if(p=u.type,s!==null&&u.stateNode!=null)eb(s,u,p,M,z),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!M){if(u.stateNode===null)throw Error(n(166));return So(u),null}if(s=Kh(Wu.current),Jr(u)){M=u.stateNode,p=u.type;var G=u.memoizedProps;switch(M[Ko]=u,M[fu]=G,s=(u.mode&1)!==0,p){case"dialog":De("cancel",M),De("close",M);break;case"iframe":case"object":case"embed":De("load",M);break;case"video":case"audio":for(z=0;z<de.length;z++)De(de[z],M);break;case"source":De("error",M);break;case"img":case"image":case"link":De("error",M),De("load",M);break;case"details":De("toggle",M);break;case"input":yn(M,G),De("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!G.multiple},De("invalid",M);break;case"textarea":wr(M,G),De("invalid",M)}Yi(p,G),z=null;for(var oe in G)if(G.hasOwnProperty(oe)){var Me=G[oe];oe==="children"?typeof Me=="string"?M.textContent!==Me&&(G.suppressHydrationWarning!==!0&&En(M.textContent,Me,s),z=["children",Me]):typeof Me=="number"&&M.textContent!==""+Me&&(G.suppressHydrationWarning!==!0&&En(M.textContent,Me,s),z=["children",""+Me]):c.hasOwnProperty(oe)&&Me!=null&&oe==="onScroll"&&De("scroll",M)}switch(p){case"input":Rn(M),Jn(M,G,!0);break;case"textarea":Rn(M),Wn(M);break;case"select":case"option":break;default:typeof G.onClick=="function"&&(M.onclick=zt)}M=z,u.updateQueue=M,M!==null&&(u.flags|=4)}else{oe=z.nodeType===9?z:z.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Fr(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=oe.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof M.is=="string"?s=oe.createElement(p,{is:M.is}):(s=oe.createElement(p),p==="select"&&(oe=s,M.multiple?oe.multiple=!0:M.size&&(oe.size=M.size))):s=oe.createElementNS(s,p),s[Ko]=u,s[fu]=M,E0(s,u,!1,!1),u.stateNode=s;e:{switch(oe=br(p,M),p){case"dialog":De("cancel",s),De("close",s),z=M;break;case"iframe":case"object":case"embed":De("load",s),z=M;break;case"video":case"audio":for(z=0;z<de.length;z++)De(de[z],s);z=M;break;case"source":De("error",s),z=M;break;case"img":case"image":case"link":De("error",s),De("load",s),z=M;break;case"details":De("toggle",s),z=M;break;case"input":yn(s,M),z=xn(s,M),De("invalid",s);break;case"option":z=M;break;case"select":s._wrapperState={wasMultiple:!!M.multiple},z=lt({},M,{value:void 0}),De("invalid",s);break;case"textarea":wr(s,M),z=ur(s,M),De("invalid",s);break;default:z=M}Yi(p,z),Me=z;for(G in Me)if(Me.hasOwnProperty(G)){var He=Me[G];G==="style"?yi(s,He):G==="dangerouslySetInnerHTML"?(He=He?He.__html:void 0,He!=null&&vi(s,He)):G==="children"?typeof He=="string"?(p!=="textarea"||He!=="")&&Nr(s,He):typeof He=="number"&&Nr(s,""+He):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(c.hasOwnProperty(G)?He!=null&&G==="onScroll"&&De("scroll",s):He!=null&&le(s,G,He,oe))}switch(p){case"input":Rn(s),Jn(s,M,!1);break;case"textarea":Rn(s),Wn(s);break;case"option":M.value!=null&&s.setAttribute("value",""+vt(M.value));break;case"select":s.multiple=!!M.multiple,G=M.value,G!=null?Vn(s,!!M.multiple,G,!1):M.defaultValue!=null&&Vn(s,!!M.multiple,M.defaultValue,!0);break;default:typeof z.onClick=="function"&&(s.onclick=zt)}switch(p){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return So(u),null;case 6:if(s&&u.stateNode!=null)M0(s,u,s.memoizedProps,M);else{if(typeof M!="string"&&u.stateNode===null)throw Error(n(166));if(p=Kh(vp.current),Kh(Wu.current),Jr(u)){if(M=u.stateNode,p=u.memoizedProps,M[Ko]=u,(G=M.nodeValue!==p)&&(s=Qs,s!==null))switch(s.tag){case 3:En(M.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&En(M.nodeValue,p,(s.mode&1)!==0)}G&&(u.flags|=4)}else M=(p.nodeType===9?p:p.ownerDocument).createTextNode(M),M[Ko]=u,u.stateNode=M}return So(u),null;case 13:if(pi(Ws),M=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(zi&&co!==null&&u.mode&1&&!(u.flags&128))Dn(),Ia(),u.flags|=98560,G=!1;else if(G=Jr(u),M!==null&&M.dehydrated!==null){if(s===null){if(!G)throw Error(n(318));if(G=u.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(n(317));G[Ko]=u}else Ia(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;So(u),G=!1}else Oa!==null&&(Mg(Oa),Oa=null),G=!0;if(!G)return u.flags&65536?u:null}return u.flags&128?(u.lanes=p,u):(M=M!==null,M!==(s!==null&&s.memoizedState!==null)&&M&&(u.child.flags|=8192,u.mode&1&&(s===null||Ws.current&1?Ao===0&&(Ao=3):Cg())),u.updateQueue!==null&&(u.flags|=4),So(u),null);case 4:return Jd(),xg(s,u),s===null&&Tt(u.stateNode.containerInfo),So(u),null;case 10:return Jv(u.type._context),So(u),null;case 17:return lo(u.type)&&pu(),So(u),null;case 19:if(pi(Ws),G=u.memoizedState,G===null)return So(u),null;if(M=(u.flags&128)!==0,oe=G.rendering,oe===null)if(M)Ec(G,!1);else{if(Ao!==0||s!==null&&s.flags&128)for(s=u.child;s!==null;){if(oe=ug(s),oe!==null){for(u.flags|=128,Ec(G,!1),M=oe.updateQueue,M!==null&&(u.updateQueue=M,u.flags|=4),u.subtreeFlags=0,M=p,p=u.child;p!==null;)G=p,s=M,G.flags&=14680066,oe=G.alternate,oe===null?(G.childLanes=0,G.lanes=s,G.child=null,G.subtreeFlags=0,G.memoizedProps=null,G.memoizedState=null,G.updateQueue=null,G.dependencies=null,G.stateNode=null):(G.childLanes=oe.childLanes,G.lanes=oe.lanes,G.child=oe.child,G.subtreeFlags=0,G.deletions=null,G.memoizedProps=oe.memoizedProps,G.memoizedState=oe.memoizedState,G.updateQueue=oe.updateQueue,G.type=oe.type,s=oe.dependencies,G.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return Xi(Ws,Ws.current&1|2),u.child}s=s.sibling}G.tail!==null&&_n()>mh&&(u.flags|=128,M=!0,Ec(G,!1),u.lanes=4194304)}else{if(!M)if(s=ug(oe),s!==null){if(u.flags|=128,M=!0,p=s.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Ec(G,!0),G.tail===null&&G.tailMode==="hidden"&&!oe.alternate&&!zi)return So(u),null}else 2*_n()-G.renderingStartTime>mh&&p!==1073741824&&(u.flags|=128,M=!0,Ec(G,!1),u.lanes=4194304);G.isBackwards?(oe.sibling=u.child,u.child=oe):(p=G.last,p!==null?p.sibling=oe:u.child=oe,G.last=oe)}return G.tail!==null?(u=G.tail,G.rendering=u,G.tail=u.sibling,G.renderingStartTime=_n(),u.sibling=null,p=Ws.current,Xi(Ws,M?p&1|2:p&1),u):(So(u),null);case 22:case 23:return od(),M=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==M&&(u.flags|=8192),M&&u.mode&1?Ja&1073741824&&(So(u),u.subtreeFlags&6&&(u.flags|=8192)):So(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function nw(s,u){switch(yc(u),u.tag){case 1:return lo(u.type)&&pu(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Jd(),pi(Ya),pi(Xn),s0(),s=u.flags,s&65536&&!(s&128)?(u.flags=s&-65537|128,u):null;case 5:return r0(u),null;case 13:if(pi(Ws),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Ia()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return pi(Ws),null;case 4:return Jd(),null;case 10:return Jv(u.type._context),null;case 22:case 23:return od(),null;case 24:return null;default:return null}}var fh=!1,ma=!1,nb=typeof WeakSet=="function"?WeakSet:Set,$n=null;function $u(s,u){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(M){gs(s,u,M)}else p.current=null}function cf(s,u,p){try{p()}catch(M){gs(s,u,M)}}var Rs=!1;function rb(s,u){if(kr=Rt,s=Bt(),Qe(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var M=p.getSelection&&p.getSelection();if(M&&M.rangeCount!==0){p=M.anchorNode;var z=M.anchorOffset,G=M.focusNode;M=M.focusOffset;try{p.nodeType,G.nodeType}catch{p=null;break e}var oe=0,Me=-1,He=-1,yt=0,tn=0,on=s,kt=null;t:for(;;){for(var Cn;on!==p||z!==0&&on.nodeType!==3||(Me=oe+z),on!==G||M!==0&&on.nodeType!==3||(He=oe+M),on.nodeType===3&&(oe+=on.nodeValue.length),(Cn=on.firstChild)!==null;)kt=on,on=Cn;for(;;){if(on===s)break t;if(kt===p&&++yt===z&&(Me=oe),kt===G&&++tn===M&&(He=oe),(Cn=on.nextSibling)!==null)break;on=kt,kt=on.parentNode}on=Cn}p=Me===-1||He===-1?null:{start:Me,end:He}}else p=null}p=p||{start:0,end:0}}else p=null;for(Li={focusedElem:s,selectionRange:p},Rt=!1,$n=u;$n!==null;)if(u=$n,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,$n=s;else for(;$n!==null;){u=$n;try{var Fn=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Fn!==null){var tr=Fn.memoizedProps,Xs=Fn.memoizedState,ht=u.stateNode,qe=ht.getSnapshotBeforeUpdate(u.elementType===u.type?tr:Vl(u.type,tr),Xs);ht.__reactInternalSnapshotBeforeUpdate=qe}break;case 3:var pt=u.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(cn){gs(u,u.return,cn)}if(s=u.sibling,s!==null){s.return=u.return,$n=s;break}$n=u.return}return Fn=Rs,Rs=!1,Fn}function hf(s,u,p){var M=u.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var z=M=M.next;do{if((z.tag&s)===s){var G=z.destroy;z.destroy=void 0,G!==void 0&&cf(u,p,G)}z=z.next}while(z!==M)}}function Cp(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&s)===s){var M=p.create;p.destroy=M()}p=p.next}while(p!==u)}}function df(s){var u=s.ref;if(u!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof u=="function"?u(s):u.current=s}}function Lp(s){var u=s.alternate;u!==null&&(s.alternate=null,Lp(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[Ko],delete u[fu],delete u[Nn],delete u[lp],delete u[X1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ll(s){return s.tag===5||s.tag===3||s.tag===4}function Pp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ll(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ff(s,u,p){var M=s.tag;if(M===5||M===6)s=s.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(s,u):p.insertBefore(s,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(s,p)):(u=p,u.appendChild(s)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=zt));else if(M!==4&&(s=s.child,s!==null))for(ff(s,u,p),s=s.sibling;s!==null;)ff(s,u,p),s=s.sibling}function ga(s,u,p){var M=s.tag;if(M===5||M===6)s=s.stateNode,u?p.insertBefore(s,u):p.appendChild(s);else if(M!==4&&(s=s.child,s!==null))for(ga(s,u,p),s=s.sibling;s!==null;)ga(s,u,p),s=s.sibling}var Eo=null,ho=!1;function Mc(s,u,p){for(p=p.child;p!==null;)bg(s,u,p),p=p.sibling}function bg(s,u,p){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(Pr,p)}catch{}switch(p.tag){case 5:ma||$u(p,u);case 6:var M=Eo,z=ho;Eo=null,Mc(s,u,p),Eo=M,ho=z,Eo!==null&&(ho?(s=Eo,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):Eo.removeChild(p.stateNode));break;case 18:Eo!==null&&(ho?(s=Eo,p=p.stateNode,s.nodeType===8?jo(s.parentNode,p):s.nodeType===1&&jo(s,p),Ye(s)):jo(Eo,p.stateNode));break;case 4:M=Eo,z=ho,Eo=p.stateNode.containerInfo,ho=!0,Mc(s,u,p),Eo=M,ho=z;break;case 0:case 11:case 14:case 15:if(!ma&&(M=p.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){z=M=M.next;do{var G=z,oe=G.destroy;G=G.tag,oe!==void 0&&(G&2||G&4)&&cf(p,u,oe),z=z.next}while(z!==M)}Mc(s,u,p);break;case 1:if(!ma&&($u(p,u),M=p.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=p.memoizedProps,M.state=p.memoizedState,M.componentWillUnmount()}catch(Me){gs(p,u,Me)}Mc(s,u,p);break;case 21:Mc(s,u,p);break;case 22:p.mode&1?(ma=(M=ma)||p.memoizedState!==null,Mc(s,u,p),ma=M):Mc(s,u,p);break;default:Mc(s,u,p)}}function Rp(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new nb),u.forEach(function(M){var z=O0.bind(null,s,M);p.has(M)||(p.add(M),M.then(z,z))})}}function cl(s,u){var p=u.deletions;if(p!==null)for(var M=0;M<p.length;M++){var z=p[M];try{var G=s,oe=u,Me=oe;e:for(;Me!==null;){switch(Me.tag){case 5:Eo=Me.stateNode,ho=!1;break e;case 3:Eo=Me.stateNode.containerInfo,ho=!0;break e;case 4:Eo=Me.stateNode.containerInfo,ho=!0;break e}Me=Me.return}if(Eo===null)throw Error(n(160));bg(G,oe,z),Eo=null,ho=!1;var He=z.alternate;He!==null&&(He.return=null),z.return=null}catch(yt){gs(z,u,yt)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)rd(u,s),u=u.sibling}function rd(s,u){var p=s.alternate,M=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(cl(u,s),Wl(s),M&4){try{hf(3,s,s.return),Cp(3,s)}catch(tr){gs(s,s.return,tr)}try{hf(5,s,s.return)}catch(tr){gs(s,s.return,tr)}}break;case 1:cl(u,s),Wl(s),M&512&&p!==null&&$u(p,p.return);break;case 5:if(cl(u,s),Wl(s),M&512&&p!==null&&$u(p,p.return),s.flags&32){var z=s.stateNode;try{Nr(z,"")}catch(tr){gs(s,s.return,tr)}}if(M&4&&(z=s.stateNode,z!=null)){var G=s.memoizedProps,oe=p!==null?p.memoizedProps:G,Me=s.type,He=s.updateQueue;if(s.updateQueue=null,He!==null)try{Me==="input"&&G.type==="radio"&&G.name!=null&&Jt(z,G),br(Me,oe);var yt=br(Me,G);for(oe=0;oe<He.length;oe+=2){var tn=He[oe],on=He[oe+1];tn==="style"?yi(z,on):tn==="dangerouslySetInnerHTML"?vi(z,on):tn==="children"?Nr(z,on):le(z,tn,on,yt)}switch(Me){case"input":$e(z,G);break;case"textarea":_r(z,G);break;case"select":var kt=z._wrapperState.wasMultiple;z._wrapperState.wasMultiple=!!G.multiple;var Cn=G.value;Cn!=null?Vn(z,!!G.multiple,Cn,!1):kt!==!!G.multiple&&(G.defaultValue!=null?Vn(z,!!G.multiple,G.defaultValue,!0):Vn(z,!!G.multiple,G.multiple?[]:"",!1))}z[fu]=G}catch(tr){gs(s,s.return,tr)}}break;case 6:if(cl(u,s),Wl(s),M&4){if(s.stateNode===null)throw Error(n(162));z=s.stateNode,G=s.memoizedProps;try{z.nodeValue=G}catch(tr){gs(s,s.return,tr)}}break;case 3:if(cl(u,s),Wl(s),M&4&&p!==null&&p.memoizedState.isDehydrated)try{Ye(u.containerInfo)}catch(tr){gs(s,s.return,tr)}break;case 4:cl(u,s),Wl(s);break;case 13:cl(u,s),Wl(s),z=s.child,z.flags&8192&&(G=z.memoizedState!==null,z.stateNode.isHidden=G,!G||z.alternate!==null&&z.alternate.memoizedState!==null||(xf=_n())),M&4&&Rp(s);break;case 22:if(tn=p!==null&&p.memoizedState!==null,s.mode&1?(ma=(yt=ma)||tn,cl(u,s),ma=yt):cl(u,s),Wl(s),M&8192){if(yt=s.memoizedState!==null,(s.stateNode.isHidden=yt)&&!tn&&s.mode&1)for($n=s,tn=s.child;tn!==null;){for(on=$n=tn;$n!==null;){switch(kt=$n,Cn=kt.child,kt.tag){case 0:case 11:case 14:case 15:hf(4,kt,kt.return);break;case 1:$u(kt,kt.return);var Fn=kt.stateNode;if(typeof Fn.componentWillUnmount=="function"){M=kt,p=kt.return;try{u=M,Fn.props=u.memoizedProps,Fn.state=u.memoizedState,Fn.componentWillUnmount()}catch(tr){gs(M,p,tr)}}break;case 5:$u(kt,kt.return);break;case 22:if(kt.memoizedState!==null){mf(on);continue}}Cn!==null?(Cn.return=kt,$n=Cn):mf(on)}tn=tn.sibling}e:for(tn=null,on=s;;){if(on.tag===5){if(tn===null){tn=on;try{z=on.stateNode,yt?(G=z.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none"):(Me=on.stateNode,He=on.memoizedProps.style,oe=He!=null&&He.hasOwnProperty("display")?He.display:null,Me.style.display=Ir("display",oe))}catch(tr){gs(s,s.return,tr)}}}else if(on.tag===6){if(tn===null)try{on.stateNode.nodeValue=yt?"":on.memoizedProps}catch(tr){gs(s,s.return,tr)}}else if((on.tag!==22&&on.tag!==23||on.memoizedState===null||on===s)&&on.child!==null){on.child.return=on,on=on.child;continue}if(on===s)break e;for(;on.sibling===null;){if(on.return===null||on.return===s)break e;tn===on&&(tn=null),on=on.return}tn===on&&(tn=null),on.sibling.return=on.return,on=on.sibling}}break;case 19:cl(u,s),Wl(s),M&4&&Rp(s);break;case 21:break;default:cl(u,s),Wl(s)}}function Wl(s){var u=s.flags;if(u&2){try{e:{for(var p=s.return;p!==null;){if(Ll(p)){var M=p;break e}p=p.return}throw Error(n(160))}switch(M.tag){case 5:var z=M.stateNode;M.flags&32&&(Nr(z,""),M.flags&=-33);var G=Pp(s);ga(s,G,z);break;case 3:case 4:var oe=M.stateNode.containerInfo,Me=Pp(s);ff(s,Me,oe);break;default:throw Error(n(161))}}catch(He){gs(s,s.return,He)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function A0(s,u,p){$n=s,id(s)}function id(s,u,p){for(var M=(s.mode&1)!==0;$n!==null;){var z=$n,G=z.child;if(z.tag===22&&M){var oe=z.memoizedState!==null||fh;if(!oe){var Me=z.alternate,He=Me!==null&&Me.memoizedState!==null||ma;Me=fh;var yt=ma;if(fh=oe,(ma=He)&&!yt)for($n=z;$n!==null;)oe=$n,He=oe.child,oe.tag===22&&oe.memoizedState!==null?ib(z):He!==null?(He.return=oe,$n=He):ib(z);for(;G!==null;)$n=G,id(G),G=G.sibling;$n=z,fh=Me,ma=yt}pf(s)}else z.subtreeFlags&8772&&G!==null?(G.return=z,$n=G):pf(s)}}function pf(s){for(;$n!==null;){var u=$n;if(u.flags&8772){var p=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:ma||Cp(5,u);break;case 1:var M=u.stateNode;if(u.flags&4&&!ma)if(p===null)M.componentDidMount();else{var z=u.elementType===u.type?p.memoizedProps:Vl(u.type,p.memoizedProps);M.componentDidUpdate(z,p.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var G=u.updateQueue;G!==null&&zx(u,G,M);break;case 3:var oe=u.updateQueue;if(oe!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}zx(u,oe,p)}break;case 5:var Me=u.stateNode;if(p===null&&u.flags&4){p=Me;var He=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":He.autoFocus&&p.focus();break;case"img":He.src&&(p.src=He.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var yt=u.alternate;if(yt!==null){var tn=yt.memoizedState;if(tn!==null){var on=tn.dehydrated;on!==null&&Ye(on)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ma||u.flags&512&&df(u)}catch(kt){gs(u,u.return,kt)}}if(u===s){$n=null;break}if(p=u.sibling,p!==null){p.return=u.return,$n=p;break}$n=u.return}}function mf(s){for(;$n!==null;){var u=$n;if(u===s){$n=null;break}var p=u.sibling;if(p!==null){p.return=u.return,$n=p;break}$n=u.return}}function ib(s){for(;$n!==null;){var u=$n;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Cp(4,u)}catch(He){gs(u,p,He)}break;case 1:var M=u.stateNode;if(typeof M.componentDidMount=="function"){var z=u.return;try{M.componentDidMount()}catch(He){gs(u,z,He)}}var G=u.return;try{df(u)}catch(He){gs(u,G,He)}break;case 5:var oe=u.return;try{df(u)}catch(He){gs(u,oe,He)}}}catch(He){gs(u,u.return,He)}if(u===s){$n=null;break}var Me=u.sibling;if(Me!==null){Me.return=u.return,$n=Me;break}$n=u.return}}var Yu=Math.ceil,gf=ce.ReactCurrentDispatcher,vf=ce.ReactCurrentOwner,ai=ce.ReactCurrentBatchConfig,Ei=0,Mo=null,fo=null,po=0,Ja=0,sd=Sl(0),Ao=0,yu=null,Ac=0,kp=0,yf=0,ph=null,Fa=null,xf=0,mh=1/0,Tc=null,Op=!1,Zu=null,ql=null,wg=!1,gh=null,_g=0,Ip=0,T0=null,Sg=-1,Eg=0;function va(){return Ei&6?_n():Sg!==-1?Sg:Sg=_n()}function vh(s){return s.mode&1?Ei&2&&po!==0?po&-po:$1.transition!==null?(Eg===0&&(Eg=ko()),Eg):(s=Wr,s!==0||(s=window.event,s=s===void 0?16:U(s.type)),s):1}function za(s,u,p,M){if(50<Ip)throw Ip=0,T0=null,Error(n(185));qa(s,p,M),(!(Ei&2)||s!==Mo)&&(s===Mo&&(!(Ei&2)&&(kp|=p),Ao===4&&xu(s,po)),hl(s,M),p===1&&Ei===0&&!(u.mode&1)&&(mh=_n()+500,$h&&Ml()))}function hl(s,u){var p=s.callbackNode;iu(s,u);var M=Ai(s,s===Mo?po:0);if(M===0)p!==null&&un(p),s.callbackNode=null,s.callbackPriority=0;else if(u=M&-M,s.callbackPriority!==u){if(p!=null&&un(p),u===1)s.tag===0?$d(wf.bind(null,s)):Yh(wf.bind(null,s)),qn(function(){!(Ei&6)&&Ml()}),p=null;else{switch(ol(M)){case 1:p=ei;break;case 4:p=Dr;break;case 16:p=Zr;break;case 536870912:p=dr;break;default:p=Zr}p=Pg(p,zs.bind(null,s))}s.callbackPriority=u,s.callbackNode=p}}function zs(s,u){if(Sg=-1,Eg=0,Ei&6)throw Error(n(327));var p=s.callbackNode;if(Pc()&&s.callbackNode!==p)return null;var M=Ai(s,s===Mo?po:0);if(M===0)return null;if(M&30||M&s.expiredLanes||u)u=xh(s,M);else{u=M;var z=Ei;Ei|=2;var G=C0();(Mo!==s||po!==u)&&(Tc=null,mh=_n()+500,Cc(s,u));do try{L0();break}catch(Me){Ku(s,Me)}while(!0);Kv(),gf.current=G,Ei=z,fo!==null?u=0:(Mo=null,po=0,u=Ao)}if(u!==0){if(u===2&&(z=Gs(s),z!==0&&(M=z,u=bf(s,z))),u===1)throw p=yu,Cc(s,0),xu(s,M),hl(s,_n()),p;if(u===6)xu(s,M);else{if(z=s.current.alternate,!(M&30)&&!Ag(z)&&(u=xh(s,M),u===2&&(G=Gs(s),G!==0&&(M=G,u=bf(s,G))),u===1))throw p=yu,Cc(s,0),xu(s,M),hl(s,_n()),p;switch(s.finishedWork=z,s.finishedLanes=M,u){case 0:case 1:throw Error(n(345));case 2:Lc(s,Fa,Tc);break;case 3:if(xu(s,M),(M&130023424)===M&&(u=xf+500-_n(),10<u)){if(Ai(s,0)!==0)break;if(z=s.suspendedLanes,(z&M)!==M){va(),s.pingedLanes|=s.suspendedLanes&z;break}s.timeoutHandle=Si(Lc.bind(null,s,Fa,Tc),u);break}Lc(s,Fa,Tc);break;case 4:if(xu(s,M),(M&4194240)===M)break;for(u=s.eventTimes,z=-1;0<M;){var oe=31-xi(M);G=1<<oe,oe=u[oe],oe>z&&(z=oe),M&=~G}if(M=z,M=_n()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*Yu(M/1960))-M,10<M){s.timeoutHandle=Si(Lc.bind(null,s,Fa,Tc),M);break}Lc(s,Fa,Tc);break;case 5:Lc(s,Fa,Tc);break;default:throw Error(n(329))}}}return hl(s,_n()),s.callbackNode===p?zs.bind(null,s):null}function bf(s,u){var p=ph;return s.current.memoizedState.isDehydrated&&(Cc(s,u).flags|=256),s=xh(s,u),s!==2&&(u=Fa,Fa=p,u!==null&&Mg(u)),s}function Mg(s){Fa===null?Fa=s:Fa.push.apply(Fa,s)}function Ag(s){for(var u=s;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var M=0;M<p.length;M++){var z=p[M],G=z.getSnapshot;z=z.value;try{if(!fs(G(),z))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function xu(s,u){for(u&=~yf,u&=~kp,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var p=31-xi(u),M=1<<p;s[p]=-1,u&=~M}}function wf(s){if(Ei&6)throw Error(n(327));Pc();var u=Ai(s,0);if(!(u&1))return hl(s,_n()),null;var p=xh(s,u);if(s.tag!==0&&p===2){var M=Gs(s);M!==0&&(u=M,p=bf(s,M))}if(p===1)throw p=yu,Cc(s,0),xu(s,u),hl(s,_n()),p;if(p===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,Lc(s,Fa,Tc),hl(s,_n()),null}function Tg(s,u){var p=Ei;Ei|=1;try{return s(u)}finally{Ei=p,Ei===0&&(mh=_n()+500,$h&&Ml())}}function yh(s){gh!==null&&gh.tag===0&&!(Ei&6)&&Pc();var u=Ei;Ei|=1;var p=ai.transition,M=Wr;try{if(ai.transition=null,Wr=1,s)return s()}finally{Wr=M,ai.transition=p,Ei=u,!(Ei&6)&&Ml()}}function od(){Ja=sd.current,pi(sd)}function Cc(s,u){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,Qn(p)),fo!==null)for(p=fo.return;p!==null;){var M=p;switch(yc(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&pu();break;case 3:Jd(),pi(Ya),pi(Xn),s0();break;case 5:r0(M);break;case 4:Jd();break;case 13:pi(Ws);break;case 19:pi(Ws);break;case 10:Jv(M.type._context);break;case 22:case 23:od()}p=p.return}if(Mo=s,fo=s=Rc(s.current,null),po=Ja=u,Ao=0,yu=null,yf=kp=Ac=0,Fa=ph=null,Zh!==null){for(u=0;u<Zh.length;u++)if(p=Zh[u],M=p.interleaved,M!==null){p.interleaved=null;var z=M.next,G=p.pending;if(G!==null){var oe=G.next;G.next=z,M.next=oe}p.pending=M}Zh=null}return s}function Ku(s,u){do{var p=fo;try{if(Kv(),cg.current=mg,hg){for(var M=qs.memoizedState;M!==null;){var z=M.queue;z!==null&&(z.pending=null),M=M.next}hg=!1}if(Jh=0,Jo=Ho=qs=null,yp=!1,xp=0,vf.current=null,p===null||p.return===null){Ao=1,yu=u,fo=null;break}e:{var G=s,oe=p.return,Me=p,He=u;if(u=po,Me.flags|=32768,He!==null&&typeof He=="object"&&typeof He.then=="function"){var yt=He,tn=Me,on=tn.tag;if(!(tn.mode&1)&&(on===0||on===11||on===15)){var kt=tn.alternate;kt?(tn.updateQueue=kt.updateQueue,tn.memoizedState=kt.memoizedState,tn.lanes=kt.lanes):(tn.updateQueue=null,tn.memoizedState=null)}var Cn=gg(oe);if(Cn!==null){Cn.flags&=-257,Ep(Cn,oe,Me,G,u),Cn.mode&1&&nf(G,yt,u),u=Cn,He=yt;var Fn=u.updateQueue;if(Fn===null){var tr=new Set;tr.add(He),u.updateQueue=tr}else Fn.add(He);break e}else{if(!(u&1)){nf(G,yt,u),Cg();break e}He=Error(n(426))}}else if(zi&&Me.mode&1){var Xs=gg(oe);if(Xs!==null){!(Xs.flags&65536)&&(Xs.flags|=256),Ep(Xs,oe,Me,G,u),Yv(Qh(He,Me));break e}}G=He=Qh(He,Me),Ao!==4&&(Ao=2),ph===null?ph=[G]:ph.push(G),G=oe;do{switch(G.tag){case 3:G.flags|=65536,u&=-u,G.lanes|=u;var ht=_0(G,He,u);ul(G,ht);break e;case 1:Me=He;var qe=G.type,pt=G.stateNode;if(!(G.flags&128)&&(typeof qe.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(ql===null||!ql.has(pt)))){G.flags|=65536,u&=-u,G.lanes|=u;var cn=Kx(G,Me,u);ul(G,cn);break e}}G=G.return}while(G!==null)}P0(p)}catch(Vt){u=Vt,fo===p&&p!==null&&(fo=p=p.return);continue}break}while(!0)}function C0(){var s=gf.current;return gf.current=mg,s===null?mg:s}function Cg(){(Ao===0||Ao===3||Ao===2)&&(Ao=4),Mo===null||!(Ac&268435455)&&!(kp&268435455)||xu(Mo,po)}function xh(s,u){var p=Ei;Ei|=2;var M=C0();(Mo!==s||po!==u)&&(Tc=null,Cc(s,u));do try{rw();break}catch(z){Ku(s,z)}while(!0);if(Kv(),Ei=p,gf.current=M,fo!==null)throw Error(n(261));return Mo=null,po=0,Ao}function rw(){for(;fo!==null;)Lg(fo)}function L0(){for(;fo!==null&&!Zn();)Lg(fo)}function Lg(s){var u=I0(s.alternate,s,Ja);s.memoizedProps=s.pendingProps,u===null?P0(s):fo=u,vf.current=null}function P0(s){var u=s;do{var p=u.alternate;if(s=u.return,u.flags&32768){if(p=nw(p,u),p!==null){p.flags&=32767,fo=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ao=6,fo=null;return}}else if(p=tb(p,u,Ja),p!==null){fo=p;return}if(u=u.sibling,u!==null){fo=u;return}fo=u=s}while(u!==null);Ao===0&&(Ao=5)}function Lc(s,u,p){var M=Wr,z=ai.transition;try{ai.transition=null,Wr=1,sb(s,u,p,M)}finally{ai.transition=z,Wr=M}return null}function sb(s,u,p,M){do Pc();while(gh!==null);if(Ei&6)throw Error(n(327));p=s.finishedWork;var z=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var G=p.lanes|p.childLanes;if(Wo(s,G),s===Mo&&(fo=Mo=null,po=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||wg||(wg=!0,Pg(Zr,function(){return Pc(),null})),G=(p.flags&15990)!==0,p.subtreeFlags&15990||G){G=ai.transition,ai.transition=null;var oe=Wr;Wr=1;var Me=Ei;Ei|=4,vf.current=null,rb(s,p),rd(p,s),Xt(Li),Rt=!!kr,Li=kr=null,s.current=p,A0(p),Yr(),Ei=Me,Wr=oe,ai.transition=G}else s.current=p;if(wg&&(wg=!1,gh=s,_g=z),G=s.pendingLanes,G===0&&(ql=null),Kr(p.stateNode),hl(s,_n()),u!==null)for(M=s.onRecoverableError,p=0;p<u.length;p++)z=u[p],M(z.value,{componentStack:z.stack,digest:z.digest});if(Op)throw Op=!1,s=Zu,Zu=null,s;return _g&1&&s.tag!==0&&Pc(),G=s.pendingLanes,G&1?s===T0?Ip++:(Ip=0,T0=s):Ip=0,Ml(),null}function Pc(){if(gh!==null){var s=ol(_g),u=ai.transition,p=Wr;try{if(ai.transition=null,Wr=16>s?16:s,gh===null)var M=!1;else{if(s=gh,gh=null,_g=0,Ei&6)throw Error(n(331));var z=Ei;for(Ei|=4,$n=s.current;$n!==null;){var G=$n,oe=G.child;if($n.flags&16){var Me=G.deletions;if(Me!==null){for(var He=0;He<Me.length;He++){var yt=Me[He];for($n=yt;$n!==null;){var tn=$n;switch(tn.tag){case 0:case 11:case 15:hf(8,tn,G)}var on=tn.child;if(on!==null)on.return=tn,$n=on;else for(;$n!==null;){tn=$n;var kt=tn.sibling,Cn=tn.return;if(Lp(tn),tn===yt){$n=null;break}if(kt!==null){kt.return=Cn,$n=kt;break}$n=Cn}}}var Fn=G.alternate;if(Fn!==null){var tr=Fn.child;if(tr!==null){Fn.child=null;do{var Xs=tr.sibling;tr.sibling=null,tr=Xs}while(tr!==null)}}$n=G}}if(G.subtreeFlags&2064&&oe!==null)oe.return=G,$n=oe;else e:for(;$n!==null;){if(G=$n,G.flags&2048)switch(G.tag){case 0:case 11:case 15:hf(9,G,G.return)}var ht=G.sibling;if(ht!==null){ht.return=G.return,$n=ht;break e}$n=G.return}}var qe=s.current;for($n=qe;$n!==null;){oe=$n;var pt=oe.child;if(oe.subtreeFlags&2064&&pt!==null)pt.return=oe,$n=pt;else e:for(oe=qe;$n!==null;){if(Me=$n,Me.flags&2048)try{switch(Me.tag){case 0:case 11:case 15:Cp(9,Me)}}catch(Vt){gs(Me,Me.return,Vt)}if(Me===oe){$n=null;break e}var cn=Me.sibling;if(cn!==null){cn.return=Me.return,$n=cn;break e}$n=Me.return}}if(Ei=z,Ml(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(Pr,s)}catch{}M=!0}return M}finally{Wr=p,ai.transition=u}}return!1}function R0(s,u,p){u=Qh(p,u),u=_0(s,u,1),s=Tl(s,u,1),u=va(),s!==null&&(qa(s,1,u),hl(s,u))}function gs(s,u,p){if(s.tag===3)R0(s,s,p);else for(;u!==null;){if(u.tag===3){R0(u,s,p);break}else if(u.tag===1){var M=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(ql===null||!ql.has(M))){s=Qh(p,s),s=Kx(u,s,1),u=Tl(u,s,1),s=va(),u!==null&&(qa(u,1,s),hl(u,s));break}}u=u.return}}function Np(s,u,p){var M=s.pingCache;M!==null&&M.delete(u),u=va(),s.pingedLanes|=s.suspendedLanes&p,Mo===s&&(po&p)===p&&(Ao===4||Ao===3&&(po&130023424)===po&&500>_n()-xf?Cc(s,0):yf|=p),hl(s,u)}function k0(s,u){u===0&&(s.mode&1?(u=Di,Di<<=1,!(Di&130023424)&&(Di=4194304)):u=1);var p=va();s=Gu(s,u),s!==null&&(qa(s,u,p),hl(s,p))}function ob(s){var u=s.memoizedState,p=0;u!==null&&(p=u.retryLane),k0(s,p)}function O0(s,u){var p=0;switch(s.tag){case 13:var M=s.stateNode,z=s.memoizedState;z!==null&&(p=z.retryLane);break;case 19:M=s.stateNode;break;default:throw Error(n(314))}M!==null&&M.delete(u),k0(s,p)}var I0;I0=function(s,u,p){if(s!==null)if(s.memoizedProps!==u.pendingProps||Ya.current)Da=!0;else{if(!(s.lanes&p)&&!(u.flags&128))return Da=!1,Qx(s,u,p);Da=!!(s.flags&131072)}else Da=!1,zi&&u.flags&1048576&&mu(u,cp,u.index);switch(u.lanes=0,u.tag){case 2:var M=u.type;Tp(s,u),s=u.pendingProps;var z=ah(u,Xn.current);gu(u,p),z=l0(null,u,M,s,z,p);var G=u0();return u.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,lo(M)?(G=!0,qd(u)):G=!1,u.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,lg(u),z.updater=vu,u.stateNode=z,z._reactInternals=u,w0(u,M,s,p),u=dh(null,u,M,!0,G,p)):(u.tag=0,zi&&G&&Js(u),ms(null,u,z,p),u=u.child),u;case 16:M=u.elementType;e:{switch(Tp(s,u),s=u.pendingProps,z=M._init,M=z(M._payload),u.type=M,z=u.tag=D0(M),s=Vl(M,s),z){case 0:u=hh(null,u,M,s,p);break e;case 1:u=td(null,u,M,s,p);break e;case 11:u=ch(null,u,M,s,p);break e;case 14:u=_c(null,u,M,Vl(M.type,s),p);break e}throw Error(n(306,M,""))}return u;case 0:return M=u.type,z=u.pendingProps,z=u.elementType===M?z:Vl(M,z),hh(s,u,M,z,p);case 1:return M=u.type,z=u.pendingProps,z=u.elementType===M?z:Vl(M,z),td(s,u,M,z,p);case 3:e:{if(sf(u),s===null)throw Error(n(387));M=u.pendingProps,G=u.memoizedState,z=G.element,t0(s,u),pp(u,M,null,p);var oe=u.memoizedState;if(M=oe.element,G.isDehydrated)if(G={element:M,isDehydrated:!1,cache:oe.cache,pendingSuspenseBoundaries:oe.pendingSuspenseBoundaries,transitions:oe.transitions},u.updateQueue.baseState=G,u.memoizedState=G,u.flags&256){z=Qh(Error(n(423)),u),u=S0(s,u,M,p,z);break e}else if(M!==z){z=Qh(Error(n(424)),u),u=S0(s,u,M,p,z);break e}else for(co=Ds(u.stateNode.containerInfo.firstChild),Qs=u,zi=!0,Oa=null,p=Fx(u,null,M,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ia(),M===z){u=Cl(s,u,p);break e}ms(s,u,M,p)}u=u.child}return u;case 5:return Bx(u),s===null&&$v(u),M=u.type,z=u.pendingProps,G=s!==null?s.memoizedProps:null,oe=z.children,gn(M,z)?oe=null:G!==null&&gn(M,G)&&(u.flags|=32),rf(s,u),ms(s,u,oe,p),u.child;case 6:return s===null&&$v(u),null;case 13:return Mp(s,u,p);case 4:return n0(u,u.stateNode.containerInfo),M=u.pendingProps,s===null?u.child=Zd(u,null,M,p):ms(s,u,M,p),u.child;case 11:return M=u.type,z=u.pendingProps,z=u.elementType===M?z:Vl(M,z),ch(s,u,M,z,p);case 7:return ms(s,u,u.pendingProps,p),u.child;case 8:return ms(s,u,u.pendingProps.children,p),u.child;case 12:return ms(s,u,u.pendingProps.children,p),u.child;case 10:e:{if(M=u.type._context,z=u.pendingProps,G=u.memoizedProps,oe=z.value,Xi(og,M._currentValue),M._currentValue=oe,G!==null)if(fs(G.value,oe)){if(G.children===z.children&&!Ya.current){u=Cl(s,u,p);break e}}else for(G=u.child,G!==null&&(G.return=u);G!==null;){var Me=G.dependencies;if(Me!==null){oe=G.child;for(var He=Me.firstContext;He!==null;){if(He.context===M){if(G.tag===1){He=Vu(-1,p&-p),He.tag=2;var yt=G.updateQueue;if(yt!==null){yt=yt.shared;var tn=yt.pending;tn===null?He.next=He:(He.next=tn.next,tn.next=He),yt.pending=He}}G.lanes|=p,He=G.alternate,He!==null&&(He.lanes|=p),lh(G.return,p,u),Me.lanes|=p;break}He=He.next}}else if(G.tag===10)oe=G.type===u.type?null:G.child;else if(G.tag===18){if(oe=G.return,oe===null)throw Error(n(341));oe.lanes|=p,Me=oe.alternate,Me!==null&&(Me.lanes|=p),lh(oe,p,u),oe=G.sibling}else oe=G.child;if(oe!==null)oe.return=G;else for(oe=G;oe!==null;){if(oe===u){oe=null;break}if(G=oe.sibling,G!==null){G.return=oe.return,oe=G;break}oe=oe.return}G=oe}ms(s,u,z.children,p),u=u.child}return u;case 9:return z=u.type,M=u.pendingProps.children,gu(u,p),z=Al(z),M=M(z),u.flags|=1,ms(s,u,M,p),u.child;case 14:return M=u.type,z=Vl(M,u.pendingProps),z=Vl(M.type,z),_c(s,u,M,z,p);case 15:return Sc(s,u,u.type,u.pendingProps,p);case 17:return M=u.type,z=u.pendingProps,z=u.elementType===M?z:Vl(M,z),Tp(s,u),u.tag=1,lo(M)?(s=!0,qd(u)):s=!1,gu(u,p),b0(u,M,z),w0(u,M,z,p),dh(null,u,M,!0,s,p);case 19:return Ap(s,u,p);case 22:return ed(s,u,p)}throw Error(n(156,u.tag))};function Pg(s,u){return hn(s,u)}function N0(s,u,p,M){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(s,u,p,M){return new N0(s,u,p,M)}function Rg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function D0(s){if(typeof s=="function")return Rg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Ze)return 11;if(s===xt)return 14}return 2}function Rc(s,u){var p=s.alternate;return p===null?(p=Qa(s.tag,u,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=u,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,u=s.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function _f(s,u,p,M,z,G){var oe=2;if(M=s,typeof s=="function")Rg(s)&&(oe=1);else if(typeof s=="string")oe=5;else e:switch(s){case Fe:return bh(p.children,z,G,u);case R:oe=8,z|=8;break;case nt:return s=Qa(12,p,u,z|2),s.elementType=nt,s.lanes=G,s;case rt:return s=Qa(13,p,u,z),s.elementType=rt,s.lanes=G,s;case ot:return s=Qa(19,p,u,z),s.elementType=ot,s.lanes=G,s;case at:return Sf(p,z,G,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case dt:oe=10;break e;case wt:oe=9;break e;case Ze:oe=11;break e;case xt:oe=14;break e;case We:oe=16,M=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return u=Qa(oe,p,u,z),u.elementType=s,u.type=M,u.lanes=G,u}function bh(s,u,p,M){return s=Qa(7,s,M,u),s.lanes=p,s}function Sf(s,u,p,M){return s=Qa(22,s,M,u),s.elementType=at,s.lanes=p,s.stateNode={isHidden:!1},s}function kg(s,u,p){return s=Qa(6,s,null,u),s.lanes=p,s}function Dp(s,u,p){return u=Qa(4,s.children!==null?s.children:[],s.key,u),u.lanes=p,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function ab(s,u,p,M,z){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ta(0),this.expirationTimes=Ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.identifierPrefix=M,this.onRecoverableError=z,this.mutableSourceEagerHydrationData=null}function Fp(s,u,p,M,z,G,oe,Me,He){return s=new ab(s,u,p,Me,He),u===1?(u=1,G===!0&&(u|=8)):u=0,G=Qa(3,null,null,u),s.current=G,G.stateNode=s,G.memoizedState={element:M,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},lg(G),s}function lb(s,u,p){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:M==null?null:""+M,children:s,containerInfo:u,implementation:p}}function Og(s){if(!s)return Ps;s=s._reactInternals;e:{if(ws(s)!==s||s.tag!==1)throw Error(n(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(lo(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(s.tag===1){var p=s.type;if(lo(p))return ng(s,p,u)}return u}function Ba(s,u,p,M,z,G,oe,Me,He){return s=Fp(p,M,!0,s,z,G,oe,Me,He),s.context=Og(null),p=s.current,M=va(),z=vh(p),G=Vu(M,z),G.callback=u??null,Tl(p,G,z),s.current.lanes=z,qa(s,z,M),hl(s,M),s}function Ju(s,u,p,M){var z=u.current,G=va(),oe=vh(z);return p=Og(p),u.context===null?u.context=p:u.pendingContext=p,u=Vu(G,oe),u.payload={element:s},M=M===void 0?null:M,M!==null&&(u.callback=M),s=Tl(z,u,oe),s!==null&&(za(s,z,oe,G),Ka(s,z,oe)),oe}function Xl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function bu(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<u?p:u}}function Qu(s,u){bu(s,u),(s=s.alternate)&&bu(s,u)}function wh(){return null}var _h=typeof reportError=="function"?reportError:function(s){console.error(s)};function kc(s){this._internalRoot=s}ec.prototype.render=kc.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(n(409));Ju(s,u,null,null)},ec.prototype.unmount=kc.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;yh(function(){Ju(null,s,null,null)}),u[_l]=null}};function ec(s){this._internalRoot=s}ec.prototype.unstable_scheduleHydration=function(s){if(s){var u=qo();s={blockedOn:null,target:s,priority:u};for(var p=0;p<Ss.length&&u!==0&&u<Ss[p].priority;p++);Ss.splice(p,0,s),p===0&&wl(s)}};function Oc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function tc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ub(){}function ks(s,u,p,M,z){if(z){if(typeof M=="function"){var G=M;M=function(){var yt=Xl(oe);G.call(yt)}}var oe=Ba(u,M,s,0,null,!1,!1,"",ub);return s._reactRootContainer=oe,s[_l]=oe.current,Tt(s.nodeType===8?s.parentNode:s),yh(),oe}for(;z=s.lastChild;)s.removeChild(z);if(typeof M=="function"){var Me=M;M=function(){var yt=Xl(He);Me.call(yt)}}var He=Fp(s,0,!1,null,null,!1,!1,"",ub);return s._reactRootContainer=He,s[_l]=He.current,Tt(s.nodeType===8?s.parentNode:s),yh(function(){Ju(u,He,p,M)}),He}function ja(s,u,p,M,z){var G=p._reactRootContainer;if(G){var oe=G;if(typeof z=="function"){var Me=z;z=function(){var He=Xl(oe);Me.call(He)}}Ju(u,oe,s,z)}else oe=ks(p,u,s,z,M);return Xl(oe)}Os=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var p=Us(u.pendingLanes);p!==0&&(Oo(u,p|1),hl(u,_n()),!(Ei&6)&&(mh=_n()+500,Ml()))}break;case 13:yh(function(){var M=Gu(s,1);if(M!==null){var z=va();za(M,s,1,z)}}),Qu(s,1)}},Io=function(s){if(s.tag===13){var u=Gu(s,134217728);if(u!==null){var p=va();za(u,s,134217728,p)}Qu(s,134217728)}},Lr=function(s){if(s.tag===13){var u=vh(s),p=Gu(s,u);if(p!==null){var M=va();za(p,s,u,M)}Qu(s,u)}},qo=function(){return Wr},Ca=function(s,u){var p=Wr;try{return Wr=s,u()}finally{Wr=p}},Hs=function(s,u,p){switch(u){case"input":if($e(s,p),u=p.name,p.type==="radio"&&u!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var M=p[u];if(M!==s&&M.form===s.form){var z=tg(M);if(!z)throw Error(n(90));xr(M),$e(M,z)}}}break;case"textarea":_r(s,p);break;case"select":u=p.value,u!=null&&Vn(s,!!p.multiple,u,!1)}},es=Tg,Cs=yh;var Ig={usingClientEntryPoint:!1,Events:[up,ju,tg,as,Hi,Tg]},Ic={findFiberByHostInstance:sh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ng={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Je(s),s===null?null:s.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||wh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{Pr=To.inject(Ng),Br=To}catch{}}return Zl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ig,Zl.createPortal=function(s,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oc(u))throw Error(n(200));return lb(s,u,null,p)},Zl.createRoot=function(s,u){if(!Oc(s))throw Error(n(299));var p=!1,M="",z=_h;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(M=u.identifierPrefix),u.onRecoverableError!==void 0&&(z=u.onRecoverableError)),u=Fp(s,1,!1,null,null,p,!1,M,z),s[_l]=u.current,Tt(s.nodeType===8?s.parentNode:s),new kc(u)},Zl.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Je(u),s=s===null?null:s.stateNode,s},Zl.flushSync=function(s){return yh(s)},Zl.hydrate=function(s,u,p){if(!tc(u))throw Error(n(200));return ja(null,s,u,!0,p)},Zl.hydrateRoot=function(s,u,p){if(!Oc(s))throw Error(n(405));var M=p!=null&&p.hydratedSources||null,z=!1,G="",oe=_h;if(p!=null&&(p.unstable_strictMode===!0&&(z=!0),p.identifierPrefix!==void 0&&(G=p.identifierPrefix),p.onRecoverableError!==void 0&&(oe=p.onRecoverableError)),u=Ba(u,null,s,1,p??null,z,!1,G,oe),s[_l]=u.current,Tt(s),M)for(s=0;s<M.length;s++)p=M[s],z=p._getVersion,z=z(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,z]:u.mutableSourceEagerHydrationData.push(p,z);return new ec(u)},Zl.render=function(s,u,p){if(!tc(u))throw Error(n(200));return ja(null,s,u,!1,p)},Zl.unmountComponentAtNode=function(s){if(!tc(s))throw Error(n(40));return s._reactRootContainer?(yh(function(){ja(null,null,s,!1,function(){s._reactRootContainer=null,s[_l]=null})}),!0):!1},Zl.unstable_batchedUpdates=Tg,Zl.unstable_renderSubtreeIntoContainer=function(s,u,p,M){if(!tc(p))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return ja(s,u,p,!1,M)},Zl.version="18.3.1-next-f1338f8080-20240426",Zl}var LE;function NC(){if(LE)return Nw.exports;LE=1;function O(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O)}catch(r){console.error(r)}}return O(),Nw.exports=IC(),Nw.exports}var PE;function DC(){if(PE)return Pb;PE=1;var O=NC();return Pb.createRoot=O.createRoot,Pb.hydrateRoot=O.hydrateRoot,Pb}var FC=DC(),zw,RE;function zC(){return RE||(RE=1,zw=function(O){var r={};function n(a){if(r[a])return r[a].exports;var c=r[a]={i:a,l:!1,exports:{}};return O[a].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=O,n.c=r,n.d=function(a,c,d){n.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},n.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,c){if(1&c&&(a=n(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var d=Object.create(null);if(n.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var f in a)n.d(d,f,(function(m){return a[m]}).bind(null,f));return d},n.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(c,"a",c),c},n.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},n.p="",n(n.s=24)}([function(O,r){O.exports=F1()},function(O,r,n){n.r(r),(function(a){n.d(r,"ServerStyleSheet",function(){return ls}),n.d(r,"StyleSheetConsumer",function(){return wr}),n.d(r,"StyleSheetContext",function(){return ur}),n.d(r,"StyleSheetManager",function(){return vi}),n.d(r,"ThemeConsumer",function(){return Aa}),n.d(r,"ThemeContext",function(){return $r}),n.d(r,"ThemeProvider",function(){return sa}),n.d(r,"__PRIVATE__",function(){return ws}),n.d(r,"createGlobalStyle",function(){return fi}),n.d(r,"css",function(){return ii}),n.d(r,"isStyledComponent",function(){return Te}),n.d(r,"keyframes",function(){return Zi}),n.d(r,"useTheme",function(){return Ys}),n.d(r,"version",function(){return Fe}),n.d(r,"withTheme",function(){return Fl});var c=n(11),d=n(0),f=n.n(d),m=n(21),b=n.n(m),_=n(22),E=n(23),C=n(13),k=n(12),V=n.n(k);function q(){return(q=Object.assign||function(Be){for(var gt=1;gt<arguments.length;gt++){var je=arguments[gt];for(var Je in je)Object.prototype.hasOwnProperty.call(je,Je)&&(Be[Je]=je[Je])}return Be}).apply(this,arguments)}var Y=function(Be,gt){for(var je=[Be[0]],Je=0,qt=gt.length;Je<qt;Je+=1)je.push(gt[Je],Be[Je+1]);return je},Z=function(Be){return Be!==null&&typeof Be=="object"&&(Be.toString?Be.toString():Object.prototype.toString.call(Be))==="[object Object]"&&!Object(c.typeOf)(Be)},W=Object.freeze([]),ne=Object.freeze({});function le(Be){return typeof Be=="function"}function ce(Be){return Be.displayName||Be.name||"Component"}function Te(Be){return Be&&typeof Be.styledComponentId=="string"}var we=a!==void 0&&(a.env.REACT_APP_SC_ATTR||a.env.SC_ATTR)||"data-styled",Fe="5.2.1",R=typeof window<"u"&&"HTMLElement"in window,nt=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:a!==void 0&&a.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&a.env.REACT_APP_SC_DISABLE_SPEEDY!==""?a.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&a.env.REACT_APP_SC_DISABLE_SPEEDY:a!==void 0&&a.env.SC_DISABLE_SPEEDY!==void 0&&a.env.SC_DISABLE_SPEEDY!==""&&a.env.SC_DISABLE_SPEEDY!=="false"&&a.env.SC_DISABLE_SPEEDY),dt={};function wt(Be){for(var gt=arguments.length,je=new Array(gt>1?gt-1:0),Je=1;Je<gt;Je++)je[Je-1]=arguments[Je];throw new Error("An error occurred. See https://git.io/JUIaE#"+Be+" for more information."+(je.length>0?" Args: "+je.join(", "):""))}var Ze=function(){function Be(je){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=je}var gt=Be.prototype;return gt.indexOfGroup=function(je){for(var Je=0,qt=0;qt<je;qt++)Je+=this.groupSizes[qt];return Je},gt.insertRules=function(je,Je){if(je>=this.groupSizes.length){for(var qt=this.groupSizes,hn=qt.length,un=hn;je>=un;)(un<<=1)<0&&wt(16,""+je);this.groupSizes=new Uint32Array(un),this.groupSizes.set(qt),this.length=un;for(var Zn=hn;Zn<un;Zn++)this.groupSizes[Zn]=0}for(var Yr=this.indexOfGroup(je+1),_n=0,Er=Je.length;_n<Er;_n++)this.tag.insertRule(Yr,Je[_n])&&(this.groupSizes[je]++,Yr++)},gt.clearGroup=function(je){if(je<this.length){var Je=this.groupSizes[je],qt=this.indexOfGroup(je),hn=qt+Je;this.groupSizes[je]=0;for(var un=qt;un<hn;un++)this.tag.deleteRule(qt)}},gt.getGroup=function(je){var Je="";if(je>=this.length||this.groupSizes[je]===0)return Je;for(var qt=this.groupSizes[je],hn=this.indexOfGroup(je),un=hn+qt,Zn=hn;Zn<un;Zn++)Je+=this.tag.getRule(Zn)+`/*!sc*/
`;return Je},Be}(),rt=new Map,ot=new Map,xt=1,We=function(Be){if(rt.has(Be))return rt.get(Be);for(;ot.has(xt);)xt++;var gt=xt++;return rt.set(Be,gt),ot.set(gt,Be),gt},at=function(Be){return ot.get(Be)},Ge=function(Be,gt){rt.set(Be,gt),ot.set(gt,Be)},te="style["+we+'][data-styled-version="5.2.1"]',lt=new RegExp("^"+we+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ee=function(Be,gt,je){for(var Je,qt=je.split(","),hn=0,un=qt.length;hn<un;hn++)(Je=qt[hn])&&Be.registerName(gt,Je)},ke=function(Be,gt){for(var je=gt.innerHTML.split(`/*!sc*/
`),Je=[],qt=0,hn=je.length;qt<hn;qt++){var un=je[qt].trim();if(un){var Zn=un.match(lt);if(Zn){var Yr=0|parseInt(Zn[1],10),_n=Zn[2];Yr!==0&&(Ge(_n,Yr),Ee(Be,_n,Zn[3]),Be.getTag().insertRules(Yr,Je)),Je.length=0}else Je.push(un)}}},it=function(){return n.nc},Ct=function(Be){var gt=document.head,je=Be||gt,Je=document.createElement("style"),qt=function(Zn){for(var Yr=Zn.childNodes,_n=Yr.length;_n>=0;_n--){var Er=Yr[_n];if(Er&&Er.nodeType===1&&Er.hasAttribute(we))return Er}}(je),hn=qt!==void 0?qt.nextSibling:null;Je.setAttribute(we,"active"),Je.setAttribute("data-styled-version","5.2.1");var un=it();return un&&Je.setAttribute("nonce",un),je.insertBefore(Je,hn),Je},Gt=function(){function Be(je){var Je=this.element=Ct(je);Je.appendChild(document.createTextNode("")),this.sheet=function(qt){if(qt.sheet)return qt.sheet;for(var hn=document.styleSheets,un=0,Zn=hn.length;un<Zn;un++){var Yr=hn[un];if(Yr.ownerNode===qt)return Yr}wt(17)}(Je),this.length=0}var gt=Be.prototype;return gt.insertRule=function(je,Je){try{return this.sheet.insertRule(Je,je),this.length++,!0}catch{return!1}},gt.deleteRule=function(je){this.sheet.deleteRule(je),this.length--},gt.getRule=function(je){var Je=this.sheet.cssRules[je];return Je!==void 0&&typeof Je.cssText=="string"?Je.cssText:""},Be}(),be=function(){function Be(je){var Je=this.element=Ct(je);this.nodes=Je.childNodes,this.length=0}var gt=Be.prototype;return gt.insertRule=function(je,Je){if(je<=this.length&&je>=0){var qt=document.createTextNode(Je),hn=this.nodes[je];return this.element.insertBefore(qt,hn||null),this.length++,!0}return!1},gt.deleteRule=function(je){this.element.removeChild(this.nodes[je]),this.length--},gt.getRule=function(je){return je<this.length?this.nodes[je].textContent:""},Be}(),It=function(){function Be(je){this.rules=[],this.length=0}var gt=Be.prototype;return gt.insertRule=function(je,Je){return je<=this.length&&(this.rules.splice(je,0,Je),this.length++,!0)},gt.deleteRule=function(je){this.rules.splice(je,1),this.length--},gt.getRule=function(je){return je<this.length?this.rules[je]:""},Be}(),vt=R,Re={isServer:!R,useCSSOMInjection:!nt},nn=function(){function Be(je,Je,qt){je===void 0&&(je=ne),Je===void 0&&(Je={}),this.options=q({},Re,{},je),this.gs=Je,this.names=new Map(qt),!this.options.isServer&&R&&vt&&(vt=!1,function(hn){for(var un=document.querySelectorAll(te),Zn=0,Yr=un.length;Zn<Yr;Zn++){var _n=un[Zn];_n&&_n.getAttribute(we)!=="active"&&(ke(hn,_n),_n.parentNode&&_n.parentNode.removeChild(_n))}}(this))}Be.registerId=function(je){return We(je)};var gt=Be.prototype;return gt.reconstructWithOptions=function(je,Je){return Je===void 0&&(Je=!0),new Be(q({},this.options,{},je),this.gs,Je&&this.names||void 0)},gt.allocateGSInstance=function(je){return this.gs[je]=(this.gs[je]||0)+1},gt.getTag=function(){return this.tag||(this.tag=(qt=(Je=this.options).isServer,hn=Je.useCSSOMInjection,un=Je.target,je=qt?new It(un):hn?new Gt(un):new be(un),new Ze(je)));var je,Je,qt,hn,un},gt.hasNameForId=function(je,Je){return this.names.has(je)&&this.names.get(je).has(Je)},gt.registerName=function(je,Je){if(We(je),this.names.has(je))this.names.get(je).add(Je);else{var qt=new Set;qt.add(Je),this.names.set(je,qt)}},gt.insertRules=function(je,Je,qt){this.registerName(je,Je),this.getTag().insertRules(We(je),qt)},gt.clearNames=function(je){this.names.has(je)&&this.names.get(je).clear()},gt.clearRules=function(je){this.getTag().clearGroup(We(je)),this.clearNames(je)},gt.clearTag=function(){this.tag=void 0},gt.toString=function(){return function(je){for(var Je=je.getTag(),qt=Je.length,hn="",un=0;un<qt;un++){var Zn=at(un);if(Zn!==void 0){var Yr=je.names.get(Zn),_n=Je.getGroup(un);if(Yr!==void 0&&_n.length!==0){var Er=we+".g"+un+'[id="'+Zn+'"]',ei="";Yr!==void 0&&Yr.forEach(function(Dr){Dr.length>0&&(ei+=Dr+",")}),hn+=""+_n+Er+'{content:"'+ei+`"}/*!sc*/
`}}}return hn}(this)},Be}(),Rn=/(a)(d)/gi,xr=function(Be){return String.fromCharCode(Be+(Be>25?39:97))};function pn(Be){var gt,je="";for(gt=Math.abs(Be);gt>52;gt=gt/52|0)je=xr(gt%52)+je;return(xr(gt%52)+je).replace(Rn,"$1-$2")}var xn=function(Be,gt){for(var je=gt.length;je;)Be=33*Be^gt.charCodeAt(--je);return Be},yn=function(Be){return xn(5381,Be)};function Jt(Be){for(var gt=0;gt<Be.length;gt+=1){var je=Be[gt];if(le(je)&&!Te(je))return!1}return!0}var $e=yn("5.2.1"),Jn=function(){function Be(gt,je,Je){this.rules=gt,this.staticRulesId="",this.isStatic=(Je===void 0||Je.isStatic)&&Jt(gt),this.componentId=je,this.baseHash=xn($e,je),this.baseStyle=Je,nn.registerId(je)}return Be.prototype.generateAndInjectStyles=function(gt,je,Je){var qt=this.componentId,hn=[];if(this.baseStyle&&hn.push(this.baseStyle.generateAndInjectStyles(gt,je,Je)),this.isStatic&&!Je.hash)if(this.staticRulesId&&je.hasNameForId(qt,this.staticRulesId))hn.push(this.staticRulesId);else{var un=br(this.rules,gt,je,Je).join(""),Zn=pn(xn(this.baseHash,un.length)>>>0);if(!je.hasNameForId(qt,Zn)){var Yr=Je(un,"."+Zn,void 0,qt);je.insertRules(qt,Zn,Yr)}hn.push(Zn),this.staticRulesId=Zn}else{for(var _n=this.rules.length,Er=xn(this.baseHash,Je.hash),ei="",Dr=0;Dr<_n;Dr++){var Zr=this.rules[Dr];if(typeof Zr=="string")ei+=Zr;else if(Zr){var zr=br(Zr,gt,je,Je),dr=Array.isArray(zr)?zr.join(""):zr;Er=xn(Er,dr+Dr),ei+=dr}}if(ei){var Pr=pn(Er>>>0);if(!je.hasNameForId(qt,Pr)){var Br=Je(ei,"."+Pr,void 0,qt);je.insertRules(qt,Pr,Br)}hn.push(Pr)}}return hn.join(" ")},Be}(),ar=/^\s*\/\/.*$/gm,lr=[":","[",".","#"];function Vn(Be){var gt,je,Je,qt,hn=Be===void 0?ne:Be,un=hn.options,Zn=un===void 0?ne:un,Yr=hn.plugins,_n=Yr===void 0?W:Yr,Er=new _.a(Zn),ei=[],Dr=function(dr){function Pr(Br){if(Br)try{dr(Br+"}")}catch{}}return function(Br,Kr,xi,Vi,ts,Ro,_o,Di,Us,Ai){switch(Br){case 1:if(Us===0&&Kr.charCodeAt(0)===64)return dr(Kr+";"),"";break;case 2:if(Di===0)return Kr+"/*|*/";break;case 3:switch(Di){case 102:case 112:return dr(xi[0]+Kr),"";default:return Kr+(Ai===0?"/*|*/":"")}case-2:Kr.split("/*|*/}").forEach(Pr)}}}(function(dr){ei.push(dr)}),Zr=function(dr,Pr,Br){return Pr===0&&lr.includes(Br[je.length])||Br.match(qt)?dr:"."+gt};function zr(dr,Pr,Br,Kr){Kr===void 0&&(Kr="&");var xi=dr.replace(ar,""),Vi=Pr&&Br?Br+" "+Pr+" { "+xi+" }":xi;return gt=Kr,je=Pr,Je=new RegExp("\\"+je+"\\b","g"),qt=new RegExp("(\\"+je+"\\b){2,}"),Er(Br||!Pr?"":Pr,Vi)}return Er.use([].concat(_n,[function(dr,Pr,Br){dr===2&&Br.length&&Br[0].lastIndexOf(je)>0&&(Br[0]=Br[0].replace(Je,Zr))},Dr,function(dr){if(dr===-2){var Pr=ei;return ei=[],Pr}}])),zr.hash=_n.length?_n.reduce(function(dr,Pr){return Pr.name||wt(15),xn(dr,Pr.name)},5381).toString():"",zr}var ur=f.a.createContext(),wr=ur.Consumer,_r=f.a.createContext(),Wn=(_r.Consumer,new nn),Fr=Vn();function di(){return Object(d.useContext)(ur)||Wn}function Or(){return Object(d.useContext)(_r)||Fr}function vi(Be){var gt=Object(d.useState)(Be.stylisPlugins),je=gt[0],Je=gt[1],qt=di(),hn=Object(d.useMemo)(function(){var Zn=qt;return Be.sheet?Zn=Be.sheet:Be.target&&(Zn=Zn.reconstructWithOptions({target:Be.target},!1)),Be.disableCSSOMInjection&&(Zn=Zn.reconstructWithOptions({useCSSOMInjection:!1})),Zn},[Be.disableCSSOMInjection,Be.sheet,Be.target]),un=Object(d.useMemo)(function(){return Vn({options:{prefix:!Be.disableVendorPrefixes},plugins:je})},[Be.disableVendorPrefixes,je]);return Object(d.useEffect)(function(){b()(je,Be.stylisPlugins)||Je(Be.stylisPlugins)},[Be.stylisPlugins]),f.a.createElement(ur.Provider,{value:hn},f.a.createElement(_r.Provider,{value:un},Be.children))}var Nr=function(){function Be(gt,je){var Je=this;this.inject=function(qt,hn){hn===void 0&&(hn=Fr);var un=Je.name+hn.hash;qt.hasNameForId(Je.id,un)||qt.insertRules(Je.id,un,hn(Je.rules,un,"@keyframes"))},this.toString=function(){return wt(12,String(Je.name))},this.name=gt,this.id="sc-keyframes-"+gt,this.rules=je}return Be.prototype.getName=function(gt){return gt===void 0&&(gt=Fr),this.name+gt.hash},Be}(),Ln=/([A-Z])/,er=/([A-Z])/g,Ir=/^ms-/,yi=function(Be){return"-"+Be.toLowerCase()};function $i(Be){return Ln.test(Be)?Be.replace(er,yi).replace(Ir,"-ms-"):Be}var Yi=function(Be){return Be==null||Be===!1||Be===""};function br(Be,gt,je,Je){if(Array.isArray(Be)){for(var qt,hn=[],un=0,Zn=Be.length;un<Zn;un+=1)(qt=br(Be[un],gt,je,Je))!==""&&(Array.isArray(qt)?hn.push.apply(hn,qt):hn.push(qt));return hn}return Yi(Be)?"":Te(Be)?"."+Be.styledComponentId:le(Be)?typeof(Yr=Be)!="function"||Yr.prototype&&Yr.prototype.isReactComponent||!gt?Be:br(Be(gt),gt,je,Je):Be instanceof Nr?je?(Be.inject(je,Je),Be.getName(Je)):Be:Z(Be)?function _n(Er,ei){var Dr,Zr,zr=[];for(var dr in Er)Er.hasOwnProperty(dr)&&!Yi(Er[dr])&&(Z(Er[dr])?zr.push.apply(zr,_n(Er[dr],dr)):le(Er[dr])?zr.push($i(dr)+":",Er[dr],";"):zr.push($i(dr)+": "+(Dr=dr,((Zr=Er[dr])==null||typeof Zr=="boolean"||Zr===""?"":typeof Zr!="number"||Zr===0||Dr in E.a?String(Zr).trim():Zr+"px")+";")));return ei?[ei+" {"].concat(zr,["}"]):zr}(Be):Be.toString();var Yr}function ii(Be){for(var gt=arguments.length,je=new Array(gt>1?gt-1:0),Je=1;Je<gt;Je++)je[Je-1]=arguments[Je];return le(Be)||Z(Be)?br(Y(W,[Be].concat(je))):je.length===0&&Be.length===1&&typeof Be[0]=="string"?Be:br(Y(Be,je))}var Mi=function(Be,gt,je){return je===void 0&&(je=ne),Be.theme!==je.theme&&Be.theme||gt||je.theme},Hs=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ji=/(^-|-$)/g;function ir(Be){return Be.replace(Hs,"-").replace(ji,"")}var ia=function(Be){return pn(yn(Be)>>>0)};function as(Be){return typeof Be=="string"&&!0}var Hi=function(Be){return typeof Be=="function"||typeof Be=="object"&&Be!==null&&!Array.isArray(Be)},es=function(Be){return Be!=="__proto__"&&Be!=="constructor"&&Be!=="prototype"};function Cs(Be,gt,je){var Je=Be[je];Hi(gt)&&Hi(Je)?Ls(Je,gt):Be[je]=gt}function Ls(Be){for(var gt=arguments.length,je=new Array(gt>1?gt-1:0),Je=1;Je<gt;Je++)je[Je-1]=arguments[Je];for(var qt=0,hn=je;qt<hn.length;qt++){var un=hn[qt];if(Hi(un))for(var Zn in un)es(Zn)&&Cs(Be,un[Zn],Zn)}return Be}var $r=f.a.createContext(),Aa=$r.Consumer;function sa(Be){var gt=Object(d.useContext)($r),je=Object(d.useMemo)(function(){return function(Je,qt){return Je?le(Je)?Je(qt):Array.isArray(Je)||typeof Je!="object"?wt(8):qt?q({},qt,{},Je):Je:wt(14)}(Be.theme,gt)},[Be.theme,gt]);return Be.children?f.a.createElement($r.Provider,{value:je},Be.children):null}var bo={};function wo(Be,gt,je){var Je=Te(Be),qt=!as(Be),hn=gt.attrs,un=hn===void 0?W:hn,Zn=gt.componentId,Yr=Zn===void 0?function(Kr,xi){var Vi=typeof Kr!="string"?"sc":ir(Kr);bo[Vi]=(bo[Vi]||0)+1;var ts=Vi+"-"+ia("5.2.1"+Vi+bo[Vi]);return xi?xi+"-"+ts:ts}(gt.displayName,gt.parentComponentId):Zn,_n=gt.displayName,Er=_n===void 0?function(Kr){return as(Kr)?"styled."+Kr:"Styled("+ce(Kr)+")"}(Be):_n,ei=gt.displayName&&gt.componentId?ir(gt.displayName)+"-"+gt.componentId:gt.componentId||Yr,Dr=Je&&Be.attrs?Array.prototype.concat(Be.attrs,un).filter(Boolean):un,Zr=gt.shouldForwardProp;Je&&Be.shouldForwardProp&&(Zr=gt.shouldForwardProp?function(Kr,xi){return Be.shouldForwardProp(Kr,xi)&&gt.shouldForwardProp(Kr,xi)}:Be.shouldForwardProp);var zr,dr=new Jn(je,ei,Je?Be.componentStyle:void 0),Pr=dr.isStatic&&un.length===0,Br=function(Kr,xi){return function(Vi,ts,Ro,_o){var Di=Vi.attrs,Us=Vi.componentStyle,Ai=Vi.defaultProps,oa=Vi.foldedComponentIds,iu=Vi.shouldForwardProp,Gs=Vi.styledComponentId,ko=Vi.target,Ta=function(Ca,aa,la){Ca===void 0&&(Ca=ne);var no=q({},aa,{theme:Ca}),us={};return la.forEach(function(_s){var ro,No,Ss,io=_s;for(ro in le(io)&&(io=io(no)),io)no[ro]=us[ro]=ro==="className"?(No=us[ro],Ss=io[ro],No&&Ss?No+" "+Ss:No||Ss):io[ro]}),[no,us]}(Mi(ts,Object(d.useContext)($r),Ai)||ne,ts,Di),qa=Ta[0],Wo=Ta[1],Oo=function(Ca,aa,la,no){var us=di(),_s=Or();return aa?Ca.generateAndInjectStyles(ne,us,_s):Ca.generateAndInjectStyles(la,us,_s)}(Us,_o,qa),Wr=Ro,ol=Wo.$as||ts.$as||Wo.as||ts.as||ko,Os=as(ol),Io=Wo!==ts?q({},ts,{},Wo):ts,Lr={};for(var qo in Io)qo[0]!=="$"&&qo!=="as"&&(qo==="forwardedAs"?Lr.as=Io[qo]:(iu?iu(qo,C.a):!Os||Object(C.a)(qo))&&(Lr[qo]=Io[qo]));return ts.style&&Wo.style!==ts.style&&(Lr.style=q({},ts.style,{},Wo.style)),Lr.className=Array.prototype.concat(oa,Gs,Oo!==Gs?Oo:null,ts.className,Wo.className).filter(Boolean).join(" "),Lr.ref=Wr,Object(d.createElement)(ol,Lr)}(zr,Kr,xi,Pr)};return Br.displayName=Er,(zr=f.a.forwardRef(Br)).attrs=Dr,zr.componentStyle=dr,zr.displayName=Er,zr.shouldForwardProp=Zr,zr.foldedComponentIds=Je?Array.prototype.concat(Be.foldedComponentIds,Be.styledComponentId):W,zr.styledComponentId=ei,zr.target=Je?Be.target:Be,zr.withComponent=function(Kr){var xi=gt.componentId,Vi=function(Ro,_o){if(Ro==null)return{};var Di,Us,Ai={},oa=Object.keys(Ro);for(Us=0;Us<oa.length;Us++)Di=oa[Us],_o.indexOf(Di)>=0||(Ai[Di]=Ro[Di]);return Ai}(gt,["componentId"]),ts=xi&&xi+"-"+(as(Kr)?Kr:ir(ce(Kr)));return wo(Kr,q({},Vi,{attrs:Dr,componentId:ts}),je)},Object.defineProperty(zr,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Kr){this._foldedDefaultProps=Je?Ls({},Be.defaultProps,Kr):Kr}}),zr.toString=function(){return"."+zr.styledComponentId},qt&&V()(zr,Be,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),zr}var to=function(Be){return function gt(je,Je,qt){if(qt===void 0&&(qt=ne),!Object(c.isValidElementType)(Je))return wt(1,String(Je));var hn=function(){return je(Je,qt,ii.apply(void 0,arguments))};return hn.withConfig=function(un){return gt(je,Je,q({},qt,{},un))},hn.attrs=function(un){return gt(je,Je,q({},qt,{attrs:Array.prototype.concat(qt.attrs,un).filter(Boolean)}))},hn}(wo,Be)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(Be){to[Be]=to(Be)});var bs=function(){function Be(je,Je){this.rules=je,this.componentId=Je,this.isStatic=Jt(je),nn.registerId(this.componentId+1)}var gt=Be.prototype;return gt.createStyles=function(je,Je,qt,hn){var un=hn(br(this.rules,Je,qt,hn).join(""),""),Zn=this.componentId+je;qt.insertRules(Zn,Zn,un)},gt.removeStyles=function(je,Je){Je.clearRules(this.componentId+je)},gt.renderStyles=function(je,Je,qt,hn){je>2&&nn.registerId(this.componentId+je),this.removeStyles(je,qt),this.createStyles(je,Je,qt,hn)},Be}();function fi(Be){for(var gt=arguments.length,je=new Array(gt>1?gt-1:0),Je=1;Je<gt;Je++)je[Je-1]=arguments[Je];var qt=ii.apply(void 0,[Be].concat(je)),hn="sc-global-"+ia(JSON.stringify(qt)),un=new bs(qt,hn);function Zn(_n){var Er=di(),ei=Or(),Dr=Object(d.useContext)($r),Zr=Object(d.useRef)(Er.allocateGSInstance(hn)).current;return Object(d.useLayoutEffect)(function(){return Yr(Zr,_n,Er,Dr,ei),function(){return un.removeStyles(Zr,Er)}},[Zr,_n,Er,Dr,ei]),null}function Yr(_n,Er,ei,Dr,Zr){if(un.isStatic)un.renderStyles(_n,dt,ei,Zr);else{var zr=q({},Er,{theme:Mi(Er,Dr,Zn.defaultProps)});un.renderStyles(_n,zr,ei,Zr)}}return f.a.memo(Zn)}function Zi(Be){for(var gt=arguments.length,je=new Array(gt>1?gt-1:0),Je=1;Je<gt;Je++)je[Je-1]=arguments[Je];var qt=ii.apply(void 0,[Be].concat(je)).join(""),hn=ia(qt);return new Nr(hn,qt)}var ls=function(){function Be(){var je=this;this._emitSheetCSS=function(){var Je=je.instance.toString(),qt=it();return"<style "+[qt&&'nonce="'+qt+'"',we+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+Je+"</style>"},this.getStyleTags=function(){return je.sealed?wt(2):je._emitSheetCSS()},this.getStyleElement=function(){var Je;if(je.sealed)return wt(2);var qt=((Je={})[we]="",Je["data-styled-version"]="5.2.1",Je.dangerouslySetInnerHTML={__html:je.instance.toString()},Je),hn=it();return hn&&(qt.nonce=hn),[f.a.createElement("style",q({},qt,{key:"sc-0-0"}))]},this.seal=function(){je.sealed=!0},this.instance=new nn({isServer:!0}),this.sealed=!1}var gt=Be.prototype;return gt.collectStyles=function(je){return this.sealed?wt(2):f.a.createElement(vi,{sheet:this.instance},je)},gt.interleaveWithNodeStream=function(je){return wt(3)},Be}(),Fl=function(Be){var gt=f.a.forwardRef(function(je,Je){var qt=Object(d.useContext)($r),hn=Be.defaultProps,un=Mi(je,qt,hn);return f.a.createElement(Be,q({},je,{theme:un,ref:Je}))});return V()(gt,Be),gt.displayName="WithTheme("+ce(Be)+")",gt},Ys=function(){return Object(d.useContext)($r)},ws={StyleSheet:nn,masterSheet:Wn};r.default=to}).call(this,n(26))},function(O,r,n){var a;O.exports=(a=n(0),function(c){function d(m){if(f[m])return f[m].exports;var b=f[m]={i:m,l:!1,exports:{}};return c[m].call(b.exports,b,b.exports,d),b.l=!0,b.exports}var f={};return d.m=c,d.c=f,d.d=function(m,b,_){d.o(m,b)||Object.defineProperty(m,b,{configurable:!1,enumerable:!0,get:_})},d.n=function(m){var b=m&&m.__esModule?function(){return m.default}:function(){return m};return d.d(b,"a",b),b},d.o=function(m,b){return Object.prototype.hasOwnProperty.call(m,b)},d.p="",d(d.s=7)}([function(c,d,f){function m(Te,we){return function(Fe){if(Array.isArray(Fe))return Fe}(Te)||function(Fe,R){if(typeof Symbol<"u"&&Symbol.iterator in Object(Fe)){var nt=[],dt=!0,wt=!1,Ze=void 0;try{for(var rt,ot=Fe[Symbol.iterator]();!(dt=(rt=ot.next()).done)&&(nt.push(rt.value),!R||nt.length!==R);dt=!0);}catch(xt){wt=!0,Ze=xt}finally{try{dt||ot.return==null||ot.return()}finally{if(wt)throw Ze}}return nt}}(Te,we)||function(Fe,R){if(Fe){if(typeof Fe=="string")return b(Fe,R);var nt=Object.prototype.toString.call(Fe).slice(8,-1);return nt==="Object"&&Fe.constructor&&(nt=Fe.constructor.name),nt==="Map"||nt==="Set"?Array.from(Fe):nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt)?b(Fe,R):void 0}}(Te,we)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(Te,we){(we==null||we>Te.length)&&(we=Te.length);for(var Fe=0,R=new Array(we);Fe<we;Fe++)R[Fe]=Te[Fe];return R}var _=f(1),E=f.n(_),C=f(8),k=f.n(C),V=f(2),q=f(10),Y=f.n(q),Z=f(3),W=f(6),ne=function(Te){if(!Te)return null;var we=Object.keys(Te);return we.length===0?null:we.reduce(function(Fe,R){return Fe[Object(V.a)(R)]=Te[R],Fe},{})},le=function(){var Te=E.a.useRef(!1);return E.a.useEffect(function(){Te.current=!0},[]),Te.current},ce=function(Te){var we=function(){return function(dt){return dt.query||Object(Z.a)(dt)}(Te)},Fe=m(E.a.useState(we),2),R=Fe[0],nt=Fe[1];return E.a.useEffect(function(){var dt=we();R!==dt&&nt(dt)},[Te]),R};d.a=function(Te,we,Fe){var R=function(Ze){var rt=E.a.useContext(W.a),ot=function(){return ne(Ze)||ne(rt)},xt=m(E.a.useState(ot),2),We=xt[0],at=xt[1];return E.a.useEffect(function(){var Ge=ot();Y()(We,Ge)||at(Ge)},[Ze,rt]),We}(we),nt=ce(Te);if(!nt)throw new Error("Invalid or missing MediaQuery!");var dt=function(Ze){var rt=m(E.a.useState(Ze.matches),2),ot=rt[0],xt=rt[1];return E.a.useEffect(function(){var We=function(){xt(Ze.matches)};return Ze.addListener(We),We(),function(){Ze.removeListener(We)}},[Ze]),ot}(function(Ze,rt){var ot=function(){return k()(Ze,rt||{},!!rt)},xt=m(E.a.useState(ot),2),We=xt[0],at=xt[1],Ge=le();return E.a.useEffect(function(){return Ge&&at(ot()),function(){We.dispose()}},[Ze,rt]),We}(nt,R)),wt=le();return E.a.useEffect(function(){wt&&Fe&&Fe(dt)},[dt]),dt}},function(c,d){c.exports=a},function(c,d,f){function m(C){return"-"+C.toLowerCase()}var b=/[A-Z]/g,_=/^ms-/,E={};d.a=function(C){if(E.hasOwnProperty(C))return E[C];var k=C.replace(b,m);return E[C]=_.test(k)?"-"+k:k}},function(c,d,f){var m=f(2),b=f(11);d.a=function(_){var E=[];return Object.keys(b.a.all).forEach(function(C){var k=_[C];k!=null&&E.push(function(V,q){var Y=Object(m.a)(V);return typeof q=="number"&&(q="".concat(q,"px")),q===!0?Y:q===!1?"not ".concat(Y):"(".concat(Y,": ").concat(q,")")}(C,k))}),E.join(" and ")}},function(c,d,f){c.exports=f(13)},function(c,d,f){c.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(c,d,f){var m=f(1),b=f.n(m).a.createContext();d.a=b},function(c,d,f){Object.defineProperty(d,"__esModule",{value:!0});var m=f(0),b=f(17),_=f(3),E=f(6);f.d(d,"default",function(){return b.a}),f.d(d,"useMediaQuery",function(){return m.a}),f.d(d,"toQuery",function(){return _.a}),f.d(d,"Context",function(){return E.a})},function(c,d,f){function m(E,C,k){function V(Z){q.matches=Z.matches,q.media=Z.media}var q=this;if(_&&!k){var Y=_.call(window,E);this.matches=Y.matches,this.media=Y.media,Y.addListener(V)}else this.matches=b(E,C),this.media=E;this.addListener=function(Z){Y&&Y.addListener(Z)},this.removeListener=function(Z){Y&&Y.removeListener(Z)},this.dispose=function(){Y&&Y.removeListener(V)}}var b=f(9).match,_=typeof window<"u"?window.matchMedia:null;c.exports=function(E,C,k){return new m(E,C,k)}},function(c,d,f){function m(Z){return Z.split(",").map(function(W){var ne=(W=W.trim()).match(C),le=ne[1],ce=ne[2],Te=ne[3]||"",we={};return we.inverse=!!le&&le.toLowerCase()==="not",we.type=ce?ce.toLowerCase():"all",Te=Te.match(/\([^\)]+\)/g)||[],we.expressions=Te.map(function(Fe){var R=Fe.match(k),nt=R[1].toLowerCase().match(V);return{modifier:nt[1],feature:nt[2],value:R[2]}}),we})}function b(Z){var W,ne=Number(Z);return ne||(ne=(W=Z.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/W[2]),ne}function _(Z){var W=parseFloat(Z);switch(String(Z).match(Y)[1]){case"dpcm":return W/2.54;case"dppx":return 96*W;default:return W}}function E(Z){var W=parseFloat(Z);switch(String(Z).match(q)[1]){case"em":case"rem":return 16*W;case"cm":return 96*W/2.54;case"mm":return 96*W/2.54/10;case"in":return 96*W;case"pt":return 72*W;case"pc":return 72*W/12;default:return W}}d.match=function(Z,W){return m(Z).some(function(ne){var le=ne.inverse,ce=ne.type==="all"||W.type===ne.type;if(ce&&le||!ce&&!le)return!1;var Te=ne.expressions.every(function(we){var Fe=we.feature,R=we.modifier,nt=we.value,dt=W[Fe];if(!dt)return!1;switch(Fe){case"orientation":case"scan":return dt.toLowerCase()===nt.toLowerCase();case"width":case"height":case"device-width":case"device-height":nt=E(nt),dt=E(dt);break;case"resolution":nt=_(nt),dt=_(dt);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":nt=b(nt),dt=b(dt);break;case"grid":case"color":case"color-index":case"monochrome":nt=parseInt(nt,10)||1,dt=parseInt(dt,10)||0}switch(R){case"min":return dt>=nt;case"max":return dt<=nt;default:return dt===nt}});return Te&&!le||!Te&&le})},d.parse=m;var C=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,k=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,V=/^(?:(min|max)-)?(.+)/,q=/(em|rem|px|cm|mm|in|pt|pc)?$/,Y=/(dpi|dpcm|dppx)?$/},function(c,d,f){c.exports=function(m,b){if(m===b)return!0;if(!m||!b)return!1;var _=Object.keys(m),E=Object.keys(b),C=_.length;if(E.length!==C)return!1;for(var k=0;k<C;k++){var V=_[k];if(m[V]!==b[V]||!Object.prototype.hasOwnProperty.call(b,V))return!1}return!0}},function(c,d,f){function m(W,ne){var le=Object.keys(W);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(W);ne&&(ce=ce.filter(function(Te){return Object.getOwnPropertyDescriptor(W,Te).enumerable})),le.push.apply(le,ce)}return le}function b(W){for(var ne=1;ne<arguments.length;ne++){var le=arguments[ne]!=null?arguments[ne]:{};ne%2?m(Object(le),!0).forEach(function(ce){_(W,ce,le[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(le)):m(Object(le)).forEach(function(ce){Object.defineProperty(W,ce,Object.getOwnPropertyDescriptor(le,ce))})}return W}function _(W,ne,le){return ne in W?Object.defineProperty(W,ne,{value:le,enumerable:!0,configurable:!0,writable:!0}):W[ne]=le,W}var E=f(12),C=f.n(E),k=C.a.oneOfType([C.a.string,C.a.number]),V={orientation:C.a.oneOf(["portrait","landscape"]),scan:C.a.oneOf(["progressive","interlace"]),aspectRatio:C.a.string,deviceAspectRatio:C.a.string,height:k,deviceHeight:k,width:k,deviceWidth:k,color:C.a.bool,colorIndex:C.a.bool,monochrome:C.a.bool,resolution:k},q=b({minAspectRatio:C.a.string,maxAspectRatio:C.a.string,minDeviceAspectRatio:C.a.string,maxDeviceAspectRatio:C.a.string,minHeight:k,maxHeight:k,minDeviceHeight:k,maxDeviceHeight:k,minWidth:k,maxWidth:k,minDeviceWidth:k,maxDeviceWidth:k,minColor:C.a.number,maxColor:C.a.number,minColorIndex:C.a.number,maxColorIndex:C.a.number,minMonochrome:C.a.number,maxMonochrome:C.a.number,minResolution:k,maxResolution:k},V),Y={all:C.a.bool,grid:C.a.bool,aural:C.a.bool,braille:C.a.bool,handheld:C.a.bool,print:C.a.bool,projection:C.a.bool,screen:C.a.bool,tty:C.a.bool,tv:C.a.bool,embossed:C.a.bool},Z=b(b({},Y),q);V.type=Object.keys(Y),d.a={all:Z,types:Y,matchers:V,features:q}},function(c,d,f){var m=f(4);c.exports=f(14)(m.isElement,!0)},function(c,d,f){(function(){function m(be){if(typeof be=="object"&&be!==null){var It=be.$$typeof;switch(It){case E:var vt=be.type;switch(vt){case W:case ne:case k:case q:case V:case ce:return vt;default:var Re=vt&&vt.$$typeof;switch(Re){case Z:case le:case Fe:case we:case Y:return Re;default:return It}}case C:return It}}}function b(be){return m(be)===ne}var _=typeof Symbol=="function"&&Symbol.for,E=_?Symbol.for("react.element"):60103,C=_?Symbol.for("react.portal"):60106,k=_?Symbol.for("react.fragment"):60107,V=_?Symbol.for("react.strict_mode"):60108,q=_?Symbol.for("react.profiler"):60114,Y=_?Symbol.for("react.provider"):60109,Z=_?Symbol.for("react.context"):60110,W=_?Symbol.for("react.async_mode"):60111,ne=_?Symbol.for("react.concurrent_mode"):60111,le=_?Symbol.for("react.forward_ref"):60112,ce=_?Symbol.for("react.suspense"):60113,Te=_?Symbol.for("react.suspense_list"):60120,we=_?Symbol.for("react.memo"):60115,Fe=_?Symbol.for("react.lazy"):60116,R=_?Symbol.for("react.block"):60121,nt=_?Symbol.for("react.fundamental"):60117,dt=_?Symbol.for("react.responder"):60118,wt=_?Symbol.for("react.scope"):60119,Ze=W,rt=ne,ot=Z,xt=Y,We=E,at=le,Ge=k,te=Fe,lt=we,Ee=C,ke=q,it=V,Ct=ce,Gt=!1;d.AsyncMode=Ze,d.ConcurrentMode=rt,d.ContextConsumer=ot,d.ContextProvider=xt,d.Element=We,d.ForwardRef=at,d.Fragment=Ge,d.Lazy=te,d.Memo=lt,d.Portal=Ee,d.Profiler=ke,d.StrictMode=it,d.Suspense=Ct,d.isAsyncMode=function(be){return Gt||(Gt=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),b(be)||m(be)===W},d.isConcurrentMode=b,d.isContextConsumer=function(be){return m(be)===Z},d.isContextProvider=function(be){return m(be)===Y},d.isElement=function(be){return typeof be=="object"&&be!==null&&be.$$typeof===E},d.isForwardRef=function(be){return m(be)===le},d.isFragment=function(be){return m(be)===k},d.isLazy=function(be){return m(be)===Fe},d.isMemo=function(be){return m(be)===we},d.isPortal=function(be){return m(be)===C},d.isProfiler=function(be){return m(be)===q},d.isStrictMode=function(be){return m(be)===V},d.isSuspense=function(be){return m(be)===ce},d.isValidElementType=function(be){return typeof be=="string"||typeof be=="function"||be===k||be===ne||be===q||be===V||be===ce||be===Te||typeof be=="object"&&be!==null&&(be.$$typeof===Fe||be.$$typeof===we||be.$$typeof===Y||be.$$typeof===Z||be.$$typeof===le||be.$$typeof===nt||be.$$typeof===dt||be.$$typeof===wt||be.$$typeof===R)},d.typeOf=m})()},function(c,d,f){function m(){return null}var b,_=f(4),E=f(15),C=f(5),k=f(16),V=Function.call.bind(Object.prototype.hasOwnProperty);b=function(q){var Y="Warning: "+q;typeof console<"u"&&console.error(Y);try{throw new Error(Y)}catch{}},c.exports=function(q,Y){function Z(Ze,rt){return Ze===rt?Ze!==0||1/Ze==1/rt:Ze!=Ze&&rt!=rt}function W(Ze){this.message=Ze,this.stack=""}function ne(Ze){function rt(at,Ge,te,lt,Ee,ke,it){if(lt=lt||dt,ke=ke||te,it!==C){if(Y){var Ct=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Ct.name="Invariant Violation",Ct}if(typeof console<"u"){var Gt=lt+":"+te;!ot[Gt]&&xt<3&&(b("You are manually calling a React.PropTypes validation function for the `"+ke+"` prop on `"+lt+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),ot[Gt]=!0,xt++)}}return Ge[te]==null?at?new W(Ge[te]===null?"The "+Ee+" `"+ke+"` is marked as required in `"+lt+"`, but its value is `null`.":"The "+Ee+" `"+ke+"` is marked as required in `"+lt+"`, but its value is `undefined`."):null:Ze(Ge,te,lt,Ee,ke)}var ot={},xt=0,We=rt.bind(null,!1);return We.isRequired=rt.bind(null,!0),We}function le(Ze){return ne(function(rt,ot,xt,We,at,Ge){var te=rt[ot];return Te(te)!==Ze?new W("Invalid "+We+" `"+at+"` of type `"+we(te)+"` supplied to `"+xt+"`, expected `"+Ze+"`."):null})}function ce(Ze){switch(typeof Ze){case"number":case"string":case"undefined":return!0;case"boolean":return!Ze;case"object":if(Array.isArray(Ze))return Ze.every(ce);if(Ze===null||q(Ze))return!0;var rt=function(at){var Ge=at&&(R&&at[R]||at[nt]);if(typeof Ge=="function")return Ge}(Ze);if(!rt)return!1;var ot,xt=rt.call(Ze);if(rt!==Ze.entries){for(;!(ot=xt.next()).done;)if(!ce(ot.value))return!1}else for(;!(ot=xt.next()).done;){var We=ot.value;if(We&&!ce(We[1]))return!1}return!0;default:return!1}}function Te(Ze){var rt=typeof Ze;return Array.isArray(Ze)?"array":Ze instanceof RegExp?"object":function(ot,xt){return ot==="symbol"||!!xt&&(xt["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&xt instanceof Symbol)}(rt,Ze)?"symbol":rt}function we(Ze){if(Ze==null)return""+Ze;var rt=Te(Ze);if(rt==="object"){if(Ze instanceof Date)return"date";if(Ze instanceof RegExp)return"regexp"}return rt}function Fe(Ze){var rt=we(Ze);switch(rt){case"array":case"object":return"an "+rt;case"boolean":case"date":case"regexp":return"a "+rt;default:return rt}}var R=typeof Symbol=="function"&&Symbol.iterator,nt="@@iterator",dt="<<anonymous>>",wt={array:le("array"),bool:le("boolean"),func:le("function"),number:le("number"),object:le("object"),string:le("string"),symbol:le("symbol"),any:ne(m),arrayOf:function(Ze){return ne(function(rt,ot,xt,We,at){if(typeof Ze!="function")return new W("Property `"+at+"` of component `"+xt+"` has invalid PropType notation inside arrayOf.");var Ge=rt[ot];if(!Array.isArray(Ge))return new W("Invalid "+We+" `"+at+"` of type `"+Te(Ge)+"` supplied to `"+xt+"`, expected an array.");for(var te=0;te<Ge.length;te++){var lt=Ze(Ge,te,xt,We,at+"["+te+"]",C);if(lt instanceof Error)return lt}return null})},element:ne(function(Ze,rt,ot,xt,We){var at=Ze[rt];return q(at)?null:new W("Invalid "+xt+" `"+We+"` of type `"+Te(at)+"` supplied to `"+ot+"`, expected a single ReactElement.")}),elementType:ne(function(Ze,rt,ot,xt,We){var at=Ze[rt];return _.isValidElementType(at)?null:new W("Invalid "+xt+" `"+We+"` of type `"+Te(at)+"` supplied to `"+ot+"`, expected a single ReactElement type.")}),instanceOf:function(Ze){return ne(function(rt,ot,xt,We,at){if(!(rt[ot]instanceof Ze)){var Ge=Ze.name||dt;return new W("Invalid "+We+" `"+at+"` of type `"+((te=rt[ot]).constructor&&te.constructor.name?te.constructor.name:dt)+"` supplied to `"+xt+"`, expected instance of `"+Ge+"`.")}var te;return null})},node:ne(function(Ze,rt,ot,xt,We){return ce(Ze[rt])?null:new W("Invalid "+xt+" `"+We+"` supplied to `"+ot+"`, expected a ReactNode.")}),objectOf:function(Ze){return ne(function(rt,ot,xt,We,at){if(typeof Ze!="function")return new W("Property `"+at+"` of component `"+xt+"` has invalid PropType notation inside objectOf.");var Ge=rt[ot],te=Te(Ge);if(te!=="object")return new W("Invalid "+We+" `"+at+"` of type `"+te+"` supplied to `"+xt+"`, expected an object.");for(var lt in Ge)if(V(Ge,lt)){var Ee=Ze(Ge,lt,xt,We,at+"."+lt,C);if(Ee instanceof Error)return Ee}return null})},oneOf:function(Ze){function rt(ot,xt,We,at,Ge){for(var te=ot[xt],lt=0;lt<Ze.length;lt++)if(Z(te,Ze[lt]))return null;var Ee=JSON.stringify(Ze,function(ke,it){return we(it)==="symbol"?String(it):it});return new W("Invalid "+at+" `"+Ge+"` of value `"+String(te)+"` supplied to `"+We+"`, expected one of "+Ee+".")}return Array.isArray(Ze)?ne(rt):(b(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),m)},oneOfType:function(Ze){if(!Array.isArray(Ze))return b("Invalid argument supplied to oneOfType, expected an instance of array."),m;for(var rt=0;rt<Ze.length;rt++){var ot=Ze[rt];if(typeof ot!="function")return b("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Fe(ot)+" at index "+rt+"."),m}return ne(function(xt,We,at,Ge,te){for(var lt=0;lt<Ze.length;lt++)if((0,Ze[lt])(xt,We,at,Ge,te,C)==null)return null;return new W("Invalid "+Ge+" `"+te+"` supplied to `"+at+"`.")})},shape:function(Ze){return ne(function(rt,ot,xt,We,at){var Ge=rt[ot],te=Te(Ge);if(te!=="object")return new W("Invalid "+We+" `"+at+"` of type `"+te+"` supplied to `"+xt+"`, expected `object`.");for(var lt in Ze){var Ee=Ze[lt];if(Ee){var ke=Ee(Ge,lt,xt,We,at+"."+lt,C);if(ke)return ke}}return null})},exact:function(Ze){return ne(function(rt,ot,xt,We,at){var Ge=rt[ot],te=Te(Ge);if(te!=="object")return new W("Invalid "+We+" `"+at+"` of type `"+te+"` supplied to `"+xt+"`, expected `object`.");var lt=E({},rt[ot],Ze);for(var Ee in lt){var ke=Ze[Ee];if(!ke)return new W("Invalid "+We+" `"+at+"` key `"+Ee+"` supplied to `"+xt+"`.\nBad object: "+JSON.stringify(rt[ot],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Ze),null,"  "));var it=ke(Ge,Ee,xt,We,at+"."+Ee,C);if(it)return it}return null})}};return W.prototype=Error.prototype,wt.checkPropTypes=k,wt.resetWarningCache=k.resetWarningCache,wt.PropTypes=wt,wt}},function(c,d,f){function m(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var b=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;c.exports=function(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var k={},V=0;V<10;V++)k["_"+String.fromCharCode(V)]=V;if(Object.getOwnPropertyNames(k).map(function(Y){return k[Y]}).join("")!=="0123456789")return!1;var q={};return"abcdefghijklmnopqrst".split("").forEach(function(Y){q[Y]=Y}),Object.keys(Object.assign({},q)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(C,k){for(var V,q,Y=m(C),Z=1;Z<arguments.length;Z++){for(var W in V=Object(arguments[Z]))_.call(V,W)&&(Y[W]=V[W]);if(b){q=b(V);for(var ne=0;ne<q.length;ne++)E.call(V,q[ne])&&(Y[q[ne]]=V[q[ne]])}}return Y}},function(c,d,f){function m(k,V,q,Y,Z){for(var W in k)if(C(k,W)){var ne;try{if(typeof k[W]!="function"){var le=Error((Y||"React class")+": "+q+" type `"+W+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof k[W]+"`.");throw le.name="Invariant Violation",le}ne=k[W](V,W,Y,q,null,_)}catch(Te){ne=Te}if(!ne||ne instanceof Error||b((Y||"React class")+": type specification of "+q+" `"+W+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof ne+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),ne instanceof Error&&!(ne.message in E)){E[ne.message]=!0;var ce=Z?Z():"";b("Failed "+q+" type: "+ne.message+(ce??""))}}}var b=function(){},_=f(5),E={},C=Function.call.bind(Object.prototype.hasOwnProperty);b=function(k){var V="Warning: "+k;typeof console<"u"&&console.error(V);try{throw new Error(V)}catch{}},m.resetWarningCache=function(){E={}},c.exports=m},function(c,d,f){function m(_,E){if(_==null)return{};var C,k,V=function(Y,Z){if(Y==null)return{};var W,ne,le={},ce=Object.keys(Y);for(ne=0;ne<ce.length;ne++)W=ce[ne],Z.indexOf(W)>=0||(le[W]=Y[W]);return le}(_,E);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(_);for(k=0;k<q.length;k++)C=q[k],E.indexOf(C)>=0||Object.prototype.propertyIsEnumerable.call(_,C)&&(V[C]=_[C])}return V}d.a=function(_){var E=_.children,C=_.device,k=_.onChange,V=m(_,["children","device","onChange"]),q=Object(b.a)(V,C,k);return typeof E=="function"?E(q):q?E:null};var b=f(0)}]))},function(O,r,n){/*!
 * Zdog v1.1.2
 * Round, flat, designer-friendly pseudo-3D engine
 * Licensed MIT
 * https://zzz.dog
 * Copyright 2020 Metafizzy
 */var a,c;a=this,c=function(){var d={};d.TAU=2*Math.PI,d.extend=function(m,b){for(var _ in b)m[_]=b[_];return m},d.lerp=function(m,b,_){return(b-m)*_+m},d.modulo=function(m,b){return(m%b+b)%b};var f={2:function(m){return m*m},3:function(m){return m*m*m},4:function(m){return m*m*m*m},5:function(m){return m*m*m*m*m}};return d.easeInOut=function(m,b){if(b==1)return m;var _=(m=Math.max(0,Math.min(1,m)))<.5,E=_?m:1-m,C=(f[b]||f[2])(E/=.5);return C/=2,_?C:1-C},d},O.exports?O.exports=c():a.Zdog=c()},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(3),n(6),n(15),n(16));else{var d=a.Zdog;d.Anchor=c(d,d.Vector,d.CanvasRenderer,d.SvgRenderer)}})(this,function(a,c,d,f){var m=a.TAU,b={x:1,y:1,z:1};function _(E){this.create(E||{})}return _.prototype.create=function(E){this.children=[],a.extend(this,this.constructor.defaults),this.setOptions(E),this.translate=new c(E.translate),this.rotate=new c(E.rotate),this.scale=new c(b).multiply(this.scale),this.origin=new c,this.renderOrigin=new c,this.addTo&&this.addTo.addChild(this)},_.defaults={},_.optionKeys=Object.keys(_.defaults).concat(["rotate","translate","scale","addTo"]),_.prototype.setOptions=function(E){var C=this.constructor.optionKeys;for(var k in E)C.indexOf(k)!=-1&&(this[k]=E[k])},_.prototype.addChild=function(E){this.children.indexOf(E)==-1&&(E.remove(),E.addTo=this,this.children.push(E))},_.prototype.removeChild=function(E){var C=this.children.indexOf(E);C!=-1&&this.children.splice(C,1)},_.prototype.remove=function(){this.addTo&&this.addTo.removeChild(this)},_.prototype.update=function(){this.reset(),this.children.forEach(function(E){E.update()}),this.transform(this.translate,this.rotate,this.scale)},_.prototype.reset=function(){this.renderOrigin.set(this.origin)},_.prototype.transform=function(E,C,k){this.renderOrigin.transform(E,C,k),this.children.forEach(function(V){V.transform(E,C,k)})},_.prototype.updateGraph=function(){this.update(),this.updateFlatGraph(),this.flatGraph.forEach(function(E){E.updateSortValue()}),this.flatGraph.sort(_.shapeSorter)},_.shapeSorter=function(E,C){return E.sortValue-C.sortValue},Object.defineProperty(_.prototype,"flatGraph",{get:function(){return this._flatGraph||this.updateFlatGraph(),this._flatGraph},set:function(E){this._flatGraph=E}}),_.prototype.updateFlatGraph=function(){this.flatGraph=this.getFlatGraph()},_.prototype.getFlatGraph=function(){var E=[this];return this.addChildFlatGraph(E)},_.prototype.addChildFlatGraph=function(E){return this.children.forEach(function(C){var k=C.getFlatGraph();Array.prototype.push.apply(E,k)}),E},_.prototype.updateSortValue=function(){this.sortValue=this.renderOrigin.z},_.prototype.render=function(){},_.prototype.renderGraphCanvas=function(E){if(!E)throw new Error("ctx is "+E+". Canvas context required for render. Check .renderGraphCanvas( ctx ).");this.flatGraph.forEach(function(C){C.render(E,d)})},_.prototype.renderGraphSvg=function(E){if(!E)throw new Error("svg is "+E+". SVG required for render. Check .renderGraphSvg( svg ).");this.flatGraph.forEach(function(C){C.render(E,f)})},_.prototype.copy=function(E){var C={};return this.constructor.optionKeys.forEach(function(k){C[k]=this[k]},this),a.extend(C,E),new this.constructor(C)},_.prototype.copyGraph=function(E){var C=this.copy(E);return this.children.forEach(function(k){k.copyGraph({addTo:C})}),C},_.prototype.normalizeRotate=function(){this.rotate.x=a.modulo(this.rotate.x,m),this.rotate.y=a.modulo(this.rotate.y,m),this.rotate.z=a.modulo(this.rotate.z,m)},_.subclass=function E(C){return function(k){function V(q){this.create(q||{})}return V.prototype=Object.create(C.prototype),V.prototype.constructor=V,V.defaults=a.extend({},C.defaults),a.extend(V.defaults,k),V.optionKeys=C.optionKeys.slice(0),Object.keys(V.defaults).forEach(function(q){!V.optionKeys.indexOf(q)!=1&&V.optionKeys.push(q)}),V.subclass=E(V),V}}(_),_})},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(3),n(6),n(8),n(4));else{var d=a.Zdog;d.Shape=c(d,d.Vector,d.PathCommand,d.Anchor)}})(this,function(a,c,d,f){var m=f.subclass({stroke:1,fill:!1,color:"#333",closed:!0,visible:!0,path:[{}],front:{z:1},backface:!0});m.prototype.create=function(E){f.prototype.create.call(this,E),this.updatePath(),this.front=new c(E.front||this.front),this.renderFront=new c(this.front),this.renderNormal=new c};var b=["move","line","bezier","arc"];m.prototype.updatePath=function(){this.setPath(),this.updatePathCommands()},m.prototype.setPath=function(){},m.prototype.updatePathCommands=function(){var E;this.pathCommands=this.path.map(function(C,k){var V=Object.keys(C),q=V[0],Y=C[q];V.length==1&&b.indexOf(q)!=-1||(q="line",Y=C);var Z=q=="line"||q=="move",W=Array.isArray(Y);Z&&!W&&(Y=[Y]);var ne=new d(q=k===0?"move":q,Y,E);return E=ne.endRenderPoint,ne})},m.prototype.reset=function(){this.renderOrigin.set(this.origin),this.renderFront.set(this.front),this.pathCommands.forEach(function(E){E.reset()})},m.prototype.transform=function(E,C,k){this.renderOrigin.transform(E,C,k),this.renderFront.transform(E,C,k),this.renderNormal.set(this.renderOrigin).subtract(this.renderFront),this.pathCommands.forEach(function(V){V.transform(E,C,k)}),this.children.forEach(function(V){V.transform(E,C,k)})},m.prototype.updateSortValue=function(){var E=this.pathCommands.length,C=this.pathCommands[0].endRenderPoint,k=this.pathCommands[E-1].endRenderPoint;E>2&&C.isSame(k)&&(E-=1);for(var V=0,q=0;q<E;q++)V+=this.pathCommands[q].endRenderPoint.z;this.sortValue=V/E},m.prototype.render=function(E,C){var k=this.pathCommands.length;if(this.visible&&k&&(this.isFacingBack=this.renderNormal.z>0,this.backface||!this.isFacingBack)){if(!C)throw new Error("Zdog renderer required. Set to "+C);var V=k==1;C.isCanvas&&V?this.renderCanvasDot(E,C):this.renderPath(E,C)}};var _=a.TAU;return m.prototype.renderCanvasDot=function(E){var C=this.getLineWidth();if(C){E.fillStyle=this.getRenderColor();var k=this.pathCommands[0].endRenderPoint;E.beginPath();var V=C/2;E.arc(k.x,k.y,V,0,_),E.fill()}},m.prototype.getLineWidth=function(){return this.stroke?this.stroke==1?1:this.stroke:0},m.prototype.getRenderColor=function(){return typeof this.backface=="string"&&this.isFacingBack?this.backface:this.color},m.prototype.renderPath=function(E,C){var k=this.getRenderElement(E,C),V=!(this.pathCommands.length==2&&this.pathCommands[1].method=="line")&&this.closed,q=this.getRenderColor();C.renderPath(E,k,this.pathCommands,V),C.stroke(E,k,this.stroke,q,this.getLineWidth()),C.fill(E,k,this.fill,q),C.end(E,k)},m.prototype.getRenderElement=function(E,C){if(C.isSvg)return this.svgElement||(this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.svgElement.setAttribute("stroke-linecap","round"),this.svgElement.setAttribute("stroke-linejoin","round")),this.svgElement},m})},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(3));else{var d=a.Zdog;d.Vector=c(d)}})(this,function(a){function c(b){this.set(b)}var d=a.TAU;function f(b,_,E,C){if(_&&_%d!=0){var k=Math.cos(_),V=Math.sin(_),q=b[E],Y=b[C];b[E]=q*k-Y*V,b[C]=Y*k+q*V}}function m(b){return Math.abs(b-1)<1e-8?1:Math.sqrt(b)}return c.prototype.set=function(b){return this.x=b&&b.x||0,this.y=b&&b.y||0,this.z=b&&b.z||0,this},c.prototype.write=function(b){return b?(this.x=b.x!=null?b.x:this.x,this.y=b.y!=null?b.y:this.y,this.z=b.z!=null?b.z:this.z,this):this},c.prototype.rotate=function(b){if(b)return this.rotateZ(b.z),this.rotateY(b.y),this.rotateX(b.x),this},c.prototype.rotateZ=function(b){f(this,b,"x","y")},c.prototype.rotateX=function(b){f(this,b,"y","z")},c.prototype.rotateY=function(b){f(this,b,"x","z")},c.prototype.isSame=function(b){return!!b&&this.x===b.x&&this.y===b.y&&this.z===b.z},c.prototype.add=function(b){return b?(this.x+=b.x||0,this.y+=b.y||0,this.z+=b.z||0,this):this},c.prototype.subtract=function(b){return b?(this.x-=b.x||0,this.y-=b.y||0,this.z-=b.z||0,this):this},c.prototype.multiply=function(b){return b==null||(typeof b=="number"?(this.x*=b,this.y*=b,this.z*=b):(this.x*=b.x!=null?b.x:1,this.y*=b.y!=null?b.y:1,this.z*=b.z!=null?b.z:1)),this},c.prototype.transform=function(b,_,E){return this.multiply(E),this.rotate(_),this.add(b),this},c.prototype.lerp=function(b,_){return this.x=a.lerp(this.x,b.x||0,_),this.y=a.lerp(this.y,b.y||0,_),this.z=a.lerp(this.z,b.z||0,_),this},c.prototype.magnitude=function(){return m(this.x*this.x+this.y*this.y+this.z*this.z)},c.prototype.magnitude2d=function(){return m(this.x*this.x+this.y*this.y)},c.prototype.copy=function(){return new c(this)},c})},function(O,r,n){function a(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function c(P,D){P.prototype=Object.create(D.prototype),P.prototype.constructor=P,P.__proto__=D}/*!
 * GSAP 3.6.0
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/n.r(r),n.d(r,"gsap",function(){return Ns}),n.d(r,"default",function(){return Ns}),n.d(r,"CSSPlugin",function(){return Zo}),n.d(r,"TweenMax",function(){return Es}),n.d(r,"TweenLite",function(){return Rt}),n.d(r,"TimelineMax",function(){return Ti}),n.d(r,"TimelineLite",function(){return Ti}),n.d(r,"Power0",function(){return Oi}),n.d(r,"Power1",function(){return Xa}),n.d(r,"Power2",function(){return nh}),n.d(r,"Power3",function(){return ca}),n.d(r,"Power4",function(){return su}),n.d(r,"Linear",function(){return Du}),n.d(r,"Quad",function(){return Fo}),n.d(r,"Cubic",function(){return Fu}),n.d(r,"Quart",function(){return Pa}),n.d(r,"Quint",function(){return cs}),n.d(r,"Strong",function(){return zo}),n.d(r,"Elastic",function(){return ns}),n.d(r,"Back",function(){return Wi}),n.d(r,"SteppedEase",function(){return Tr}),n.d(r,"Bounce",function(){return An}),n.d(r,"Sine",function(){return Ot}),n.d(r,"Expo",function(){return Ui}),n.d(r,"Circ",function(){return Ki});var d,f,m,b,_,E,C,k,V,q,Y,Z,W,ne,le,ce,Te,we,Fe,R,nt,dt,wt,Ze,rt,ot,xt,We,at={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ge={duration:.5,overwrite:!1,delay:0},te=1e8,lt=2*Math.PI,Ee=lt/4,ke=0,it=Math.sqrt,Ct=Math.cos,Gt=Math.sin,be=function(P){return typeof P=="string"},It=function(P){return typeof P=="function"},vt=function(P){return typeof P=="number"},Re=function(P){return P===void 0},nn=function(P){return typeof P=="object"},Rn=function(P){return P!==!1},xr=function(){return typeof window<"u"},pn=function(P){return It(P)||be(P)},xn=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},yn=Array.isArray,Jt=/(?:-?\.?\d|\.)+/gi,$e=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Jn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ar=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,lr=/[+-]=-?[.\d]+/,Vn=/[#\-+.]*\b[a-z\d-=+%.]+/gi,ur=/[\d.+\-=]+(?:e[-+]\d*)*/i,wr={},_r={},Wn=function(P){return(_r=sa(P,wr))&&sr},Fr=function(P,D){return console.warn("Invalid property",P,"set to",D,"Missing plugin? gsap.registerPlugin()")},di=function(P,D){return!D&&console.warn(P)},Or=function(P,D){return P&&(wr[P]=D)&&_r&&(_r[P]=D)||wr},vi=function(){return 0},Nr={},Ln=[],er={},Ir={},yi={},$i=30,Yi=[],br="",ii=function(P){var D,N,H=P[0];if(nn(H)||It(H)||(P=[P]),!(D=(H._gsap||{}).harness)){for(N=Yi.length;N--&&!Yi[N].targetTest(H););D=Yi[N]}for(N=P.length;N--;)P[N]&&(P[N]._gsap||(P[N]._gsap=new io(P[N],D)))||P.splice(N,1);return P},Mi=function(P){return P._gsap||ii(Pr(P))[0]._gsap},Hs=function(P,D,N){return(N=P[D])&&It(N)?P[D]():Re(N)&&P.getAttribute&&P.getAttribute(D)||N},ji=function(P,D){return(P=P.split(",")).forEach(D)||P},ir=function(P){return Math.round(1e5*P)/1e5||0},ia=function(P,D){for(var N=D.length,H=0;P.indexOf(D[H])<0&&++H<N;);return H<N},as=function(P,D,N){var H,J=vt(P[1]),re=(J?2:1)+(D<2?0:1),de=P[re];if(J&&(de.duration=P[1]),de.parent=N,D){for(H=de;N&&!("immediateRender"in H);)H=N.vars.defaults||{},N=Rn(N.vars.inherit)&&N.parent;de.immediateRender=Rn(H.immediateRender),D<2?de.runBackwards=1:de.startAt=P[re-1]}return de},Hi=function(){var P,D,N=Ln.length,H=Ln.slice(0);for(er={},Ln.length=0,P=0;P<N;P++)(D=H[P])&&D._lazy&&(D.render(D._lazy[0],D._lazy[1],!0)._lazy=0)},es=function(P,D,N,H){Ln.length&&Hi(),P.render(D,N,H),Ln.length&&Hi()},Cs=function(P){var D=parseFloat(P);return(D||D===0)&&(P+"").match(Vn).length<2?D:be(P)?P.trim():P},Ls=function(P){return P},$r=function(P,D){for(var N in D)N in P||(P[N]=D[N]);return P},Aa=function(P,D){for(var N in D)N in P||N==="duration"||N==="ease"||(P[N]=D[N])},sa=function(P,D){for(var N in D)P[N]=D[N];return P},bo=function P(D,N){for(var H in N)H!=="__proto__"&&H!=="constructor"&&H!=="prototype"&&(D[H]=nn(N[H])?P(D[H]||(D[H]={}),N[H]):N[H]);return D},wo=function(P,D){var N,H={};for(N in P)N in D||(H[N]=P[N]);return H},to=function(P){var D=P.parent||f,N=P.keyframes?Aa:$r;if(Rn(P.inherit))for(;D;)N(P,D.vars.defaults),D=D.parent||D._dp;return P},bs=function(P,D,N,H){N===void 0&&(N="_first"),H===void 0&&(H="_last");var J=D._prev,re=D._next;J?J._next=re:P[N]===D&&(P[N]=re),re?re._prev=J:P[H]===D&&(P[H]=J),D._next=D._prev=D.parent=null},fi=function(P,D){P.parent&&(!D||P.parent.autoRemoveChildren)&&P.parent.remove(P),P._act=0},Zi=function(P,D){if(P&&(!D||D._end>P._dur||D._start<0))for(var N=P;N;)N._dirty=1,N=N.parent;return P},ls=function(P){for(var D=P.parent;D&&D.parent;)D._dirty=1,D.totalDuration(),D=D.parent;return P},Fl=function(P){return P._repeat?Ys(P._tTime,P=P.duration()+P._rDelay)*P:0},Ys=function(P,D){var N=Math.floor(P/=D);return P&&N===P?N-1:N},ws=function(P,D){return(P-D._start)*D._ts+(D._ts>=0?0:D._dirty?D.totalDuration():D._tDur)},Be=function(P){return P._end=ir(P._start+(P._tDur/Math.abs(P._ts||P._rts||1e-8)||0))},gt=function(P,D){var N=P._dp;return N&&N.smoothChildTiming&&P._ts&&(P._start=ir(N._time-(P._ts>0?D/P._ts:((P._dirty?P.totalDuration():P._tDur)-D)/-P._ts)),Be(P),N._dirty||Zi(N,P)),P},je=function(P,D){var N;if((D._time||D._initted&&!D._dur)&&(N=ws(P.rawTime(),D),(!D._dur||ei(0,D.totalDuration(),N)-D._tTime>1e-8)&&D.render(N,!0)),Zi(P,D)._dp&&P._initted&&P._time>=P._dur&&P._ts){if(P._dur<P.duration())for(N=P;N._dp;)N.rawTime()>=0&&N.totalTime(N._tTime),N=N._dp;P._zTime=-1e-8}},Je=function(P,D,N,H){return D.parent&&fi(D),D._start=ir(N+D._delay),D._end=ir(D._start+(D.totalDuration()/Math.abs(D.timeScale())||0)),function(J,re,de,ve,Ce){var Ve,De=J[ve];if(Ce)for(Ve=re[Ce];De&&De[Ce]>Ve;)De=De._prev;De?(re._next=De._next,De._next=re):(re._next=J[de],J[de]=re),re._next?re._next._prev=re:J[ve]=re,re._prev=De,re.parent=re._dp=J}(P,D,"_first","_last",P._sort?"_start":0),P._recent=D,H||je(P,D),P},qt=function(P,D){return(wr.ScrollTrigger||Fr("scrollTrigger",D))&&wr.ScrollTrigger.create(D,P)},hn=function(P,D,N,H){return ie(P,D),P._initted?!N&&P._pt&&(P._dur&&P.vars.lazy!==!1||!P._dur&&P.vars.lazy)&&C!==Os.frame?(Ln.push(P),P._lazy=[D,H],1):void 0:1},un=function(P,D,N,H){var J=P._repeat,re=ir(D)||0,de=P._tTime/P._tDur;return de&&!H&&(P._time*=re/P._dur),P._dur=re,P._tDur=J?J<0?1e10:ir(re*(J+1)+P._rDelay*J):re,de&&!H?gt(P,P._tTime=P._tDur*de):P.parent&&Be(P),N||Zi(P.parent,P),P},Zn=function(P){return P instanceof Ti?Zi(P):un(P,P._dur)},Yr={_start:0,endTime:vi},_n=function P(D,N){var H,J,re=D.labels,de=D._recent||Yr,ve=D.duration()>=te?de.endTime(!1):D._dur;return be(N)&&(isNaN(N)||N in re)?(H=N.charAt(0))==="<"||H===">"?(H==="<"?de._start:de.endTime(de._repeat>=0))+(parseFloat(N.substr(1))||0):(H=N.indexOf("="))<0?(N in re||(re[N]=ve),re[N]):(J=+(N.charAt(H-1)+N.substr(H+1)),H>1?P(D,N.substr(0,H-1))+J:ve+J):N==null?ve:+N},Er=function(P,D){return P||P===0?D(P):D},ei=function(P,D,N){return N<P?P:N>D?D:N},Dr=function(P){if(typeof P!="string")return"";var D=ur.exec(P);return D?P.substr(D.index+D[0].length):""},Zr=[].slice,zr=function(P,D){return P&&nn(P)&&"length"in P&&(!D&&!P.length||P.length-1 in P&&nn(P[0]))&&!P.nodeType&&P!==m},dr=function(P,D,N){return N===void 0&&(N=[]),P.forEach(function(H){var J;return be(H)&&!D||zr(H,1)?(J=N).push.apply(J,Pr(H)):N.push(H)})||N},Pr=function(P,D){return!be(P)||D||!b&&Io()?yn(P)?dr(P,D):zr(P)?Zr.call(P,0):P?[P]:[]:Zr.call(_.querySelectorAll(P),0)},Br=function(P){return P.sort(function(){return .5-Math.random()})},Kr=function(P){if(It(P))return P;var D=nn(P)?P:{each:P},N=us(D.ease),H=D.from||0,J=parseFloat(D.base)||0,re={},de=H>0&&H<1,ve=isNaN(H)||de,Ce=D.axis,Ve=H,De=H;return be(H)?Ve=De={center:.5,edges:.5,end:1}[H]||0:!de&&ve&&(Ve=H[0],De=H[1]),function(Ke,At,Tt){var Pn,vn,Qt,Ut,$t,Mt,rn,wn,In,En=(Tt||D).length,zt=re[En];if(!zt){if(!(In=D.grid==="auto"?0:(D.grid||[1,te])[1])){for(rn=-1e8;rn<(rn=Tt[In++].getBoundingClientRect().left)&&In<En;);In--}for(zt=re[En]=[],Pn=ve?Math.min(In,En)*Ve-.5:H%In,vn=ve?En*De/In-.5:H/In|0,rn=0,wn=te,Mt=0;Mt<En;Mt++)Qt=Mt%In-Pn,Ut=vn-(Mt/In|0),zt[Mt]=$t=Ce?Math.abs(Ce==="y"?Ut:Qt):it(Qt*Qt+Ut*Ut),$t>rn&&(rn=$t),$t<wn&&(wn=$t);H==="random"&&Br(zt),zt.max=rn-wn,zt.min=wn,zt.v=En=(parseFloat(D.amount)||parseFloat(D.each)*(In>En?En-1:Ce?Ce==="y"?En/In:In:Math.max(In,En/In))||0)*(H==="edges"?-1:1),zt.b=En<0?J-En:J,zt.u=Dr(D.amount||D.each)||0,N=N&&En<0?la(N):N}return En=(zt[Ke]-zt.min)/zt.max||0,ir(zt.b+(N?N(En):En)*zt.v)+zt.u}},xi=function(P){var D=P<1?Math.pow(10,(P+"").length-2):1;return function(N){var H=Math.round(parseFloat(N)/P)*P*D;return(H-H%1)/D+(vt(N)?0:Dr(N))}},Vi=function(P,D){var N,H,J=yn(P);return!J&&nn(P)&&(N=J=P.radius||te,P.values?(P=Pr(P.values),(H=!vt(P[0]))&&(N*=N)):P=xi(P.increment)),Er(D,J?It(P)?function(re){return H=P(re),Math.abs(H-re)<=N?H:re}:function(re){for(var de,ve,Ce=parseFloat(H?re.x:re),Ve=parseFloat(H?re.y:0),De=te,Ke=0,At=P.length;At--;)(de=H?(de=P[At].x-Ce)*de+(ve=P[At].y-Ve)*ve:Math.abs(P[At]-Ce))<De&&(De=de,Ke=At);return Ke=!N||De<=N?P[Ke]:re,H||Ke===re||vt(re)?Ke:Ke+Dr(re)}:xi(P))},ts=function(P,D,N,H){return Er(yn(P)?!D:N===!0?!!(N=0):!H,function(){return yn(P)?P[~~(Math.random()*P.length)]:(N=N||1e-5)&&(H=N<1?Math.pow(10,(N+"").length-2):1)&&Math.floor(Math.round((P-N/2+Math.random()*(D-P+.99*N))/N)*N*H)/H})},Ro=function(P,D,N){return Er(N,function(H){return P[~~D(H)]})},_o=function(P){for(var D,N,H,J,re=0,de="";~(D=P.indexOf("random(",re));)H=P.indexOf(")",D),J=P.charAt(D+7)==="[",N=P.substr(D+7,H-D-7).match(J?Vn:Jt),de+=P.substr(re,D-re)+ts(J?N:+N[0],J?0:+N[1],+N[2]||1e-5),re=H+1;return de+P.substr(re,P.length-re)},Di=function(P,D,N,H,J){var re=D-P,de=H-N;return Er(J,function(ve){return N+((ve-P)/re*de||0)})},Us=function(P,D,N){var H,J,re,de=P.labels,ve=te;for(H in de)(J=de[H]-D)<0==!!N&&J&&ve>(J=Math.abs(J))&&(re=H,ve=J);return re},Ai=function(P,D,N){var H,J,re=P.vars,de=re[D];if(de)return H=re[D+"Params"],J=re.callbackScope||P,N&&Ln.length&&Hi(),H?de.apply(J,H):de.call(J)},oa=function(P){return fi(P),P.progress()<1&&Ai(P,"onInterrupt"),P},iu=function(P){var D=(P=!P.name&&P.default||P).name,N=It(P),H=D&&!N&&P.init?function(){this._props=[]}:P,J={init:vi,render:he,add:ua,kill:ze,modifier:Oe,rawVars:0},re={targetTest:0,get:0,getSetter:B,aliases:{},register:0};if(Io(),P!==H){if(Ir[D])return;$r(H,$r(wo(P,J),re)),sa(H.prototype,sa(J,wo(P,re))),Ir[H.prop=D]=H,P.targetTest&&(Yi.push(H),Nr[D]=1),D=(D==="css"?"CSS":D.charAt(0).toUpperCase()+D.substr(1))+"Plugin"}Or(D,H),P.register&&P.register(sr,H,St)},Gs={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ko=function(P,D,N){return 255*(6*(P=P<0?P+1:P>1?P-1:P)<1?D+(N-D)*P*6:P<.5?N:3*P<2?D+(N-D)*(2/3-P)*6:D)+.5|0},Ta=function(P,D,N){var H,J,re,de,ve,Ce,Ve,De,Ke,At,Tt=P?vt(P)?[P>>16,P>>8&255,255&P]:0:Gs.black;if(!Tt){if(P.substr(-1)===","&&(P=P.substr(0,P.length-1)),Gs[P])Tt=Gs[P];else if(P.charAt(0)==="#"){if(P.length<6&&(H=P.charAt(1),J=P.charAt(2),re=P.charAt(3),P="#"+H+H+J+J+re+re+(P.length===5?P.charAt(4)+P.charAt(4):"")),P.length===9)return[(Tt=parseInt(P.substr(1,6),16))>>16,Tt>>8&255,255&Tt,parseInt(P.substr(7),16)/255];Tt=[(P=parseInt(P.substr(1),16))>>16,P>>8&255,255&P]}else if(P.substr(0,3)==="hsl")if(Tt=At=P.match(Jt),D){if(~P.indexOf("="))return Tt=P.match($e),N&&Tt.length<4&&(Tt[3]=1),Tt}else de=+Tt[0]%360/360,ve=+Tt[1]/100,H=2*(Ce=+Tt[2]/100)-(J=Ce<=.5?Ce*(ve+1):Ce+ve-Ce*ve),Tt.length>3&&(Tt[3]*=1),Tt[0]=ko(de+1/3,H,J),Tt[1]=ko(de,H,J),Tt[2]=ko(de-1/3,H,J);else Tt=P.match(Jt)||Gs.transparent;Tt=Tt.map(Number)}return D&&!At&&(H=Tt[0]/255,J=Tt[1]/255,re=Tt[2]/255,Ce=((Ve=Math.max(H,J,re))+(De=Math.min(H,J,re)))/2,Ve===De?de=ve=0:(Ke=Ve-De,ve=Ce>.5?Ke/(2-Ve-De):Ke/(Ve+De),de=Ve===H?(J-re)/Ke+(J<re?6:0):Ve===J?(re-H)/Ke+2:(H-J)/Ke+4,de*=60),Tt[0]=~~(de+.5),Tt[1]=~~(100*ve+.5),Tt[2]=~~(100*Ce+.5)),N&&Tt.length<4&&(Tt[3]=1),Tt},qa=function(P){var D=[],N=[],H=-1;return P.split(Oo).forEach(function(J){var re=J.match(Jn)||[];D.push.apply(D,re),N.push(H+=re.length+1)}),D.c=N,D},Wo=function(P,D,N){var H,J,re,de,ve="",Ce=(P+ve).match(Oo),Ve=D?"hsla(":"rgba(",De=0;if(!Ce)return P;if(Ce=Ce.map(function(Ke){return(Ke=Ta(Ke,D,1))&&Ve+(D?Ke[0]+","+Ke[1]+"%,"+Ke[2]+"%,"+Ke[3]:Ke.join(","))+")"}),N&&(re=qa(P),(H=N.c).join(ve)!==re.c.join(ve)))for(de=(J=P.replace(Oo,"1").split(Jn)).length-1;De<de;De++)ve+=J[De]+(~H.indexOf(De)?Ce.shift()||Ve+"0,0,0,0)":(re.length?re:Ce.length?Ce:N).shift());if(!J)for(de=(J=P.split(Oo)).length-1;De<de;De++)ve+=J[De]+Ce[De];return ve+J[de]},Oo=function(){var P,D="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(P in Gs)D+="|"+P+"\\b";return new RegExp(D+")","gi")}(),Wr=/hsl[a]?\(/,ol=function(P){var D,N=P.join(" ");if(Oo.lastIndex=0,Oo.test(N))return D=Wr.test(N),P[1]=Wo(P[1],D),P[0]=Wo(P[0],D,qa(P[1])),!0},Os=(ce=Date.now,Te=500,we=33,Fe=ce(),R=Fe,dt=nt=1e3/240,Ze=function P(D){var N,H,J,re,de=ce()-R,ve=D===!0;if(de>Te&&(Fe+=de-we),((N=(J=(R+=de)-Fe)-dt)>0||ve)&&(re=++W.frame,ne=J-1e3*W.time,W.time=J/=1e3,dt+=N+(N>=nt?4:nt-N),H=1),ve||(q=Y(P)),H)for(le=0;le<wt.length;le++)wt[le](J,ne,re,D)},W={time:0,frame:0,tick:function(){Ze(!0)},deltaRatio:function(P){return ne/(1e3/(P||60))},wake:function(){E&&(!b&&xr()&&(m=b=window,_=m.document||{},wr.gsap=sr,(m.gsapVersions||(m.gsapVersions=[])).push(sr.version),Wn(_r||m.GreenSockGlobals||!m.gsap&&m||{}),Z=m.requestAnimationFrame),q&&W.sleep(),Y=Z||function(P){return setTimeout(P,dt-1e3*W.time+1|0)},V=1,Ze(2))},sleep:function(){(Z?m.cancelAnimationFrame:clearTimeout)(q),V=0,Y=vi},lagSmoothing:function(P,D){Te=P||1/1e-8,we=Math.min(D,Te,0)},fps:function(P){nt=1e3/(P||240),dt=1e3*W.time+nt},add:function(P){wt.indexOf(P)<0&&wt.push(P),Io()},remove:function(P){var D;~(D=wt.indexOf(P))&&wt.splice(D,1)&&le>=D&&le--},_listeners:wt=[]}),Io=function(){return!V&&Os.wake()},Lr={},qo=/^[\d.\-M][\d.\-,\s]/,Ca=/["']/g,aa=function(P){for(var D,N,H,J={},re=P.substr(1,P.length-3).split(":"),de=re[0],ve=1,Ce=re.length;ve<Ce;ve++)N=re[ve],D=ve!==Ce-1?N.lastIndexOf(","):N.length,H=N.substr(0,D),J[de]=isNaN(H)?H.replace(Ca,"").trim():+H,de=N.substr(D+1).trim();return J},la=function(P){return function(D){return 1-P(1-D)}},no=function P(D,N){for(var H,J=D._first;J;)J instanceof Ti?P(J,N):!J.vars.yoyoEase||J._yoyo&&J._repeat||J._yoyo===N||(J.timeline?P(J.timeline,N):(H=J._ease,J._ease=J._yEase,J._yEase=H,J._yoyo=N)),J=J._next},us=function(P,D){return P&&(It(P)?P:Lr[P]||function(N){var H,J,re,de,ve=(N+"").split("("),Ce=Lr[ve[0]];return Ce&&ve.length>1&&Ce.config?Ce.config.apply(null,~N.indexOf("{")?[aa(ve[1])]:(H=N,J=H.indexOf("(")+1,re=H.indexOf(")"),de=H.indexOf("(",J),H.substring(J,~de&&de<re?H.indexOf(")",re+1):re)).split(",").map(Cs)):Lr._CE&&qo.test(N)?Lr._CE("",N):Ce}(P))||D},_s=function(P,D,N,H){N===void 0&&(N=function(de){return 1-D(1-de)}),H===void 0&&(H=function(de){return de<.5?D(2*de)/2:1-D(2*(1-de))/2});var J,re={easeIn:D,easeOut:N,easeInOut:H};return ji(P,function(de){for(var ve in Lr[de]=wr[de]=re,Lr[J=de.toLowerCase()]=N,re)Lr[J+(ve==="easeIn"?".in":ve==="easeOut"?".out":".inOut")]=Lr[de+"."+ve]=re[ve]}),re},ro=function(P){return function(D){return D<.5?(1-P(1-2*D))/2:.5+P(2*(D-.5))/2}},No=function P(D,N,H){var J=N>=1?N:1,re=(H||(D?.3:.45))/(N<1?N:1),de=re/lt*(Math.asin(1/J)||0),ve=function(Ve){return Ve===1?1:J*Math.pow(2,-10*Ve)*Gt((Ve-de)*re)+1},Ce=D==="out"?ve:D==="in"?function(Ve){return 1-ve(1-Ve)}:ro(ve);return re=lt/re,Ce.config=function(Ve,De){return P(D,Ve,De)},Ce},Ss=function P(D,N){N===void 0&&(N=1.70158);var H=function(re){return re?--re*re*((N+1)*re+N)+1:0},J=D==="out"?H:D==="in"?function(re){return 1-H(1-re)}:ro(H);return J.config=function(re){return P(D,re)},J};ji("Linear,Quad,Cubic,Quart,Quint,Strong",function(P,D){var N=D<5?D+1:D;_s(P+",Power"+(N-1),D?function(H){return Math.pow(H,N)}:function(H){return H},function(H){return 1-Math.pow(1-H,N)},function(H){return H<.5?Math.pow(2*H,N)/2:1-Math.pow(2*(1-H),N)/2})}),Lr.Linear.easeNone=Lr.none=Lr.Linear.easeIn,_s("Elastic",No("in"),No("out"),No()),rt=7.5625,xt=1/(ot=2.75),_s("Bounce",function(P){return 1-We(1-P)},We=function(P){return P<xt?rt*P*P:P<.7272727272727273?rt*Math.pow(P-1.5/ot,2)+.75:P<.9090909090909092?rt*(P-=2.25/ot)*P+.9375:rt*Math.pow(P-2.625/ot,2)+.984375}),_s("Expo",function(P){return P?Math.pow(2,10*(P-1)):0}),_s("Circ",function(P){return-(it(1-P*P)-1)}),_s("Sine",function(P){return P===1?1:1-Ct(P*Ee)}),_s("Back",Ss("in"),Ss("out"),Ss()),Lr.SteppedEase=Lr.steps=wr.SteppedEase={config:function(P,D){P===void 0&&(P=1);var N=1/P,H=P+(D?0:1),J=D?1:0;return function(re){return((H*ei(0,1-1e-8,re)|0)+J)*N}}},Ge.ease=Lr["quad.out"],ji("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(P){return br+=P+","+P+"Params,"});var io=function(P,D){this.id=ke++,P._gsap=this,this.target=P,this.harness=D,this.get=D?D.get:Hs,this.set=D?D.getSetter:B},La=function(){function P(N,H){var J=N.parent||f;this.vars=N,this._delay=+N.delay||0,(this._repeat=N.repeat===1/0?-2:N.repeat||0)&&(this._rDelay=N.repeatDelay||0,this._yoyo=!!N.yoyo||!!N.yoyoEase),this._ts=1,un(this,+N.duration,1,1),this.data=N.data,V||Os.wake(),J&&Je(J,this,H||H===0?H:J._time,1),N.reversed&&this.reverse(),N.paused&&this.paused(!0)}var D=P.prototype;return D.delay=function(N){return N||N===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+N-this._delay),this._delay=N,this):this._delay},D.duration=function(N){return arguments.length?this.totalDuration(this._repeat>0?N+(N+this._rDelay)*this._repeat:N):this.totalDuration()&&this._dur},D.totalDuration=function(N){return arguments.length?(this._dirty=0,un(this,this._repeat<0?N:(N-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},D.totalTime=function(N,H){if(Io(),!arguments.length)return this._tTime;var J=this._dp;if(J&&J.smoothChildTiming&&this._ts){for(gt(this,N),!J._dp||J.parent||je(J,this);J.parent;)J.parent._time!==J._start+(J._ts>=0?J._tTime/J._ts:(J.totalDuration()-J._tTime)/-J._ts)&&J.totalTime(J._tTime,!0),J=J.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&N<this._tDur||this._ts<0&&N>0||!this._tDur&&!N)&&Je(this._dp,this,this._start-this._delay)}return(this._tTime!==N||!this._dur&&!H||this._initted&&Math.abs(this._zTime)===1e-8||!N&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=N),es(this,N,H)),this},D.time=function(N,H){return arguments.length?this.totalTime(Math.min(this.totalDuration(),N+Fl(this))%this._dur||(N?this._dur:0),H):this._time},D.totalProgress=function(N,H){return arguments.length?this.totalTime(this.totalDuration()*N,H):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},D.progress=function(N,H){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?N:1-N)+Fl(this),H):this.duration()?Math.min(1,this._time/this._dur):this.ratio},D.iteration=function(N,H){var J=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(N-1)*J,H):this._repeat?Ys(this._tTime,J)+1:1},D.timeScale=function(N){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===N)return this;var H=this.parent&&this._ts?ws(this.parent._time,this):this._tTime;return this._rts=+N||0,this._ts=this._ps||N===-1e-8?0:this._rts,ls(this.totalTime(ei(-this._delay,this._tDur,H),!0))},D.paused=function(N){return arguments.length?(this._ps!==N&&(this._ps=N,N?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Io(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&(this._tTime-=1e-8)&&Math.abs(this._zTime)!==1e-8))),this):this._ps},D.startTime=function(N){if(arguments.length){this._start=N;var H=this.parent||this._dp;return H&&(H._sort||!this.parent)&&Je(H,this,N-this._delay),this}return this._start},D.endTime=function(N){return this._start+(Rn(N)?this.totalDuration():this.duration())/Math.abs(this._ts)},D.rawTime=function(N){var H=this.parent||this._dp;return H?N&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ws(H.rawTime(N),this):this._tTime:this._tTime},D.globalTime=function(N){for(var H=this,J=arguments.length?N:H.rawTime();H;)J=H._start+J/(H._ts||1),H=H._dp;return J},D.repeat=function(N){return arguments.length?(this._repeat=N===1/0?-2:N,Zn(this)):this._repeat===-2?1/0:this._repeat},D.repeatDelay=function(N){return arguments.length?(this._rDelay=N,Zn(this)):this._rDelay},D.yoyo=function(N){return arguments.length?(this._yoyo=N,this):this._yoyo},D.seek=function(N,H){return this.totalTime(_n(this,N),Rn(H))},D.restart=function(N,H){return this.play().totalTime(N?-this._delay:0,Rn(H))},D.play=function(N,H){return N!=null&&this.seek(N,H),this.reversed(!1).paused(!1)},D.reverse=function(N,H){return N!=null&&this.seek(N||this.totalDuration(),H),this.reversed(!0).paused(!1)},D.pause=function(N,H){return N!=null&&this.seek(N,H),this.paused(!0)},D.resume=function(){return this.paused(!1)},D.reversed=function(N){return arguments.length?(!!N!==this.reversed()&&this.timeScale(-this._rts||(N?-1e-8:0)),this):this._rts<0},D.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},D.isActive=function(){var N,H=this.parent||this._dp,J=this._start;return!(H&&!(this._ts&&this._initted&&H.isActive()&&(N=H.rawTime(!0))>=J&&N<this.endTime(!0)-1e-8))},D.eventCallback=function(N,H,J){var re=this.vars;return arguments.length>1?(H?(re[N]=H,J&&(re[N+"Params"]=J),N==="onUpdate"&&(this._onUpdate=H)):delete re[N],this):re[N]},D.then=function(N){var H=this;return new Promise(function(J){var re=It(N)?N:Ls,de=function(){var ve=H.then;H.then=null,It(re)&&(re=re(H))&&(re.then||re===H)&&(H.then=ve),J(re),H.then=ve};H._initted&&H.totalProgress()===1&&H._ts>=0||!H._tTime&&H._ts<0?de():H._prom=de})},D.kill=function(){oa(this)},P}();$r(La.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ti=function(P){function D(H,J){var re;return H===void 0&&(H={}),(re=P.call(this,H,J)||this).labels={},re.smoothChildTiming=!!H.smoothChildTiming,re.autoRemoveChildren=!!H.autoRemoveChildren,re._sort=Rn(H.sortChildren),re.parent&&je(re.parent,a(re)),H.scrollTrigger&&qt(a(re),H.scrollTrigger),re}c(D,P);var N=D.prototype;return N.to=function(H,J,re){return new Rt(H,as(arguments,0,this),_n(this,vt(J)?arguments[3]:re)),this},N.from=function(H,J,re){return new Rt(H,as(arguments,1,this),_n(this,vt(J)?arguments[3]:re)),this},N.fromTo=function(H,J,re,de){return new Rt(H,as(arguments,2,this),_n(this,vt(J)?arguments[4]:de)),this},N.set=function(H,J,re){return J.duration=0,J.parent=this,to(J).repeatDelay||(J.repeat=0),J.immediateRender=!!J.immediateRender,new Rt(H,J,_n(this,re),1),this},N.call=function(H,J,re){return Je(this,Rt.delayedCall(0,H,J),_n(this,re))},N.staggerTo=function(H,J,re,de,ve,Ce,Ve){return re.duration=J,re.stagger=re.stagger||de,re.onComplete=Ce,re.onCompleteParams=Ve,re.parent=this,new Rt(H,re,_n(this,ve)),this},N.staggerFrom=function(H,J,re,de,ve,Ce,Ve){return re.runBackwards=1,to(re).immediateRender=Rn(re.immediateRender),this.staggerTo(H,J,re,de,ve,Ce,Ve)},N.staggerFromTo=function(H,J,re,de,ve,Ce,Ve,De){return de.startAt=re,to(de).immediateRender=Rn(de.immediateRender),this.staggerTo(H,J,de,ve,Ce,Ve,De)},N.render=function(H,J,re){var de,ve,Ce,Ve,De,Ke,At,Tt,Pn,vn,Qt,Ut,$t=this._time,Mt=this._dirty?this.totalDuration():this._tDur,rn=this._dur,wn=this!==f&&H>Mt-1e-8&&H>=0?Mt:H<1e-8?0:H,In=this._zTime<0!=H<0&&(this._initted||!rn);if(wn!==this._tTime||re||In){if($t!==this._time&&rn&&(wn+=this._time-$t,H+=this._time-$t),de=wn,Pn=this._start,Ke=!(Tt=this._ts),In&&(rn||($t=this._zTime),(H||!J)&&(this._zTime=H)),this._repeat){if(Qt=this._yoyo,De=rn+this._rDelay,this._repeat<-1&&H<0)return this.totalTime(100*De+H,J,re);if(de=ir(wn%De),wn===Mt?(Ve=this._repeat,de=rn):((Ve=~~(wn/De))&&Ve===wn/De&&(de=rn,Ve--),de>rn&&(de=rn)),vn=Ys(this._tTime,De),!$t&&this._tTime&&vn!==Ve&&(vn=Ve),Qt&&1&Ve&&(de=rn-de,Ut=1),Ve!==vn&&!this._lock){var En=Qt&&1&vn,zt=En===(Qt&&1&Ve);if(Ve<vn&&(En=!En),$t=En?0:rn,this._lock=1,this.render($t||(Ut?0:ir(Ve*De)),J,!rn)._lock=0,!J&&this.parent&&Ai(this,"onRepeat"),this.vars.repeatRefresh&&!Ut&&(this.invalidate()._lock=1),$t!==this._time||Ke!==!this._ts)return this;if(rn=this._dur,Mt=this._tDur,zt&&(this._lock=2,$t=En?rn:-1e-4,this.render($t,!0),this.vars.repeatRefresh&&!Ut&&this.invalidate()),this._lock=0,!this._ts&&!Ke)return this;no(this,Ut)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(At=function(Li,gn,Si){var Qn;if(Si>gn)for(Qn=Li._first;Qn&&Qn._start<=Si;){if(!Qn._dur&&Qn.data==="isPause"&&Qn._start>gn)return Qn;Qn=Qn._next}else for(Qn=Li._last;Qn&&Qn._start>=Si;){if(!Qn._dur&&Qn.data==="isPause"&&Qn._start<gn)return Qn;Qn=Qn._prev}}(this,ir($t),ir(de)))&&(wn-=de-(de=At._start)),this._tTime=wn,this._time=de,this._act=!Tt,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=H,$t=0),!$t&&(de||!rn&&H>=0)&&!J&&Ai(this,"onStart"),de>=$t&&H>=0)for(ve=this._first;ve;){if(Ce=ve._next,(ve._act||de>=ve._start)&&ve._ts&&At!==ve){if(ve.parent!==this)return this.render(H,J,re);if(ve.render(ve._ts>0?(de-ve._start)*ve._ts:(ve._dirty?ve.totalDuration():ve._tDur)+(de-ve._start)*ve._ts,J,re),de!==this._time||!this._ts&&!Ke){At=0,Ce&&(wn+=this._zTime=-1e-8);break}}ve=Ce}else{ve=this._last;for(var kr=H<0?H:de;ve;){if(Ce=ve._prev,(ve._act||kr<=ve._end)&&ve._ts&&At!==ve){if(ve.parent!==this)return this.render(H,J,re);if(ve.render(ve._ts>0?(kr-ve._start)*ve._ts:(ve._dirty?ve.totalDuration():ve._tDur)+(kr-ve._start)*ve._ts,J,re),de!==this._time||!this._ts&&!Ke){At=0,Ce&&(wn+=this._zTime=kr?-1e-8:1e-8);break}}ve=Ce}}if(At&&!J&&(this.pause(),At.render(de>=$t?0:-1e-8)._zTime=de>=$t?1:-1,this._ts))return this._start=Pn,Be(this),this.render(H,J,re);this._onUpdate&&!J&&Ai(this,"onUpdate",!0),(wn===Mt&&Mt>=this.totalDuration()||!wn&&$t)&&(Pn!==this._start&&Math.abs(Tt)===Math.abs(this._ts)||this._lock||((H||!rn)&&(wn===Mt&&this._ts>0||!wn&&this._ts<0)&&fi(this,1),J||H<0&&!$t||!wn&&!$t||(Ai(this,wn===Mt?"onComplete":"onReverseComplete",!0),this._prom&&!(wn<Mt&&this.timeScale()>0)&&this._prom())))}return this},N.add=function(H,J){var re=this;if(vt(J)||(J=_n(this,J)),!(H instanceof La)){if(yn(H))return H.forEach(function(de){return re.add(de,J)}),this;if(be(H))return this.addLabel(H,J);if(!It(H))return this;H=Rt.delayedCall(0,H)}return this!==H?Je(this,H,J):this},N.getChildren=function(H,J,re,de){H===void 0&&(H=!0),J===void 0&&(J=!0),re===void 0&&(re=!0),de===void 0&&(de=-1e8);for(var ve=[],Ce=this._first;Ce;)Ce._start>=de&&(Ce instanceof Rt?J&&ve.push(Ce):(re&&ve.push(Ce),H&&ve.push.apply(ve,Ce.getChildren(!0,J,re)))),Ce=Ce._next;return ve},N.getById=function(H){for(var J=this.getChildren(1,1,1),re=J.length;re--;)if(J[re].vars.id===H)return J[re]},N.remove=function(H){return be(H)?this.removeLabel(H):It(H)?this.killTweensOf(H):(bs(this,H),H===this._recent&&(this._recent=this._last),Zi(this))},N.totalTime=function(H,J){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ir(Os.time-(this._ts>0?H/this._ts:(this.totalDuration()-H)/-this._ts))),P.prototype.totalTime.call(this,H,J),this._forcing=0,this):this._tTime},N.addLabel=function(H,J){return this.labels[H]=_n(this,J),this},N.removeLabel=function(H){return delete this.labels[H],this},N.addPause=function(H,J,re){var de=Rt.delayedCall(0,J||vi,re);return de.data="isPause",this._hasPause=1,Je(this,de,_n(this,H))},N.removePause=function(H){var J=this._first;for(H=_n(this,H);J;)J._start===H&&J.data==="isPause"&&fi(J),J=J._next},N.killTweensOf=function(H,J,re){for(var de=this.getTweensOf(H,re),ve=de.length;ve--;)so!==de[ve]&&de[ve].kill(H,J);return this},N.getTweensOf=function(H,J){for(var re,de=[],ve=Pr(H),Ce=this._first,Ve=vt(J);Ce;)Ce instanceof Rt?ia(Ce._targets,ve)&&(Ve?(!so||Ce._initted&&Ce._ts)&&Ce.globalTime(0)<=J&&Ce.globalTime(Ce.totalDuration())>J:!J||Ce.isActive())&&de.push(Ce):(re=Ce.getTweensOf(ve,J)).length&&de.push.apply(de,re),Ce=Ce._next;return de},N.tweenTo=function(H,J){J=J||{};var re=this,de=_n(re,H),ve=J,Ce=ve.startAt,Ve=ve.onStart,De=ve.onStartParams,Ke=ve.immediateRender,At=Rt.to(re,$r({ease:"none",lazy:!1,immediateRender:!1,time:de,overwrite:"auto",duration:J.duration||Math.abs((de-(Ce&&"time"in Ce?Ce.time:re._time))/re.timeScale())||1e-8,onStart:function(){re.pause();var Tt=J.duration||Math.abs((de-re._time)/re.timeScale());At._dur!==Tt&&un(At,Tt,0,1).render(At._time,!0,!0),Ve&&Ve.apply(At,De||[])}},J));return Ke?At.render(0):At},N.tweenFromTo=function(H,J,re){return this.tweenTo(J,$r({startAt:{time:_n(this,H)}},re))},N.recent=function(){return this._recent},N.nextLabel=function(H){return H===void 0&&(H=this._time),Us(this,_n(this,H))},N.previousLabel=function(H){return H===void 0&&(H=this._time),Us(this,_n(this,H),1)},N.currentLabel=function(H){return arguments.length?this.seek(H,!0):this.previousLabel(this._time+1e-8)},N.shiftChildren=function(H,J,re){re===void 0&&(re=0);for(var de,ve=this._first,Ce=this.labels;ve;)ve._start>=re&&(ve._start+=H,ve._end+=H),ve=ve._next;if(J)for(de in Ce)Ce[de]>=re&&(Ce[de]+=H);return Zi(this)},N.invalidate=function(){var H=this._first;for(this._lock=0;H;)H.invalidate(),H=H._next;return P.prototype.invalidate.call(this)},N.clear=function(H){H===void 0&&(H=!0);for(var J,re=this._first;re;)J=re._next,this.remove(re),re=J;return this._dp&&(this._time=this._tTime=this._pTime=0),H&&(this.labels={}),Zi(this)},N.totalDuration=function(H){var J,re,de,ve=0,Ce=this,Ve=Ce._last,De=te;if(arguments.length)return Ce.timeScale((Ce._repeat<0?Ce.duration():Ce.totalDuration())/(Ce.reversed()?-H:H));if(Ce._dirty){for(de=Ce.parent;Ve;)J=Ve._prev,Ve._dirty&&Ve.totalDuration(),(re=Ve._start)>De&&Ce._sort&&Ve._ts&&!Ce._lock?(Ce._lock=1,Je(Ce,Ve,re-Ve._delay,1)._lock=0):De=re,re<0&&Ve._ts&&(ve-=re,(!de&&!Ce._dp||de&&de.smoothChildTiming)&&(Ce._start+=re/Ce._ts,Ce._time-=re,Ce._tTime-=re),Ce.shiftChildren(-re,!1,-1/0),De=0),Ve._end>ve&&Ve._ts&&(ve=Ve._end),Ve=J;un(Ce,Ce===f&&Ce._time>ve?Ce._time:ve,1,1),Ce._dirty=0}return Ce._tDur},D.updateRoot=function(H){if(f._ts&&(es(f,ws(H,f)),C=Os.frame),Os.frame>=$i){$i+=at.autoSleep||120;var J=f._first;if((!J||!J._ts)&&at.autoSleep&&Os._listeners.length<2){for(;J&&!J._ts;)J=J._next;J||Os.sleep()}}},D}(La);$r(Ti.prototype,{_lock:0,_hasPause:0,_forcing:0});var so,wl=function(P,D,N,H,J,re,de){var ve,Ce,Ve,De,Ke,At,Tt,Pn,vn=new St(this._pt,P,D,0,1,ae,null,J),Qt=0,Ut=0;for(vn.b=N,vn.e=H,N+="",(Tt=~(H+="").indexOf("random("))&&(H=_o(H)),re&&(re(Pn=[N,H],P,D),N=Pn[0],H=Pn[1]),Ce=N.match(ar)||[];ve=ar.exec(H);)De=ve[0],Ke=H.substring(Qt,ve.index),Ve?Ve=(Ve+1)%5:Ke.substr(-5)==="rgba("&&(Ve=1),De!==Ce[Ut++]&&(At=parseFloat(Ce[Ut-1])||0,vn._pt={_next:vn._pt,p:Ke||Ut===1?Ke:",",s:At,c:De.charAt(1)==="="?parseFloat(De.substr(2))*(De.charAt(0)==="-"?-1:1):parseFloat(De)-At,m:Ve&&Ve<4?Math.round:0},Qt=ar.lastIndex);return vn.c=Qt<H.length?H.substring(Qt,H.length):"",vn.fp=de,(lr.test(H)||Tt)&&(vn.e=0),this._pt=vn,vn},ua=function(P,D,N,H,J,re,de,ve,Ce){It(H)&&(H=H(J||0,P,re));var Ve,De=P[D],Ke=N!=="get"?N:It(De)?Ce?P[D.indexOf("set")||!It(P["get"+D.substr(3)])?D:"get"+D.substr(3)](Ce):P[D]():De,At=It(De)?Ce?x:rr:bn;if(be(H)&&(~H.indexOf("random(")&&(H=_o(H)),H.charAt(1)==="="&&(H=parseFloat(Ke)+parseFloat(H.substr(2))*(H.charAt(0)==="-"?-1:1)+(Dr(Ke)||0))),Ke!==H)return isNaN(Ke*H)?(!De&&!(D in P)&&Fr(D,H),wl.call(this,P,D,Ke,H,At,ve||at.stringFilter,Ce)):(Ve=new St(this._pt,P,D,+Ke||0,H-(Ke||0),typeof De=="boolean"?Q:U,0,At),Ce&&(Ve.fp=Ce),de&&Ve.modifier(de,this,P),this._pt=Ve)},$=function(P,D,N,H,J,re){var de,ve,Ce,Ve;if(Ir[P]&&(de=new Ir[P]).init(J,de.rawVars?D[P]:function(De,Ke,At,Tt,Pn){if(It(De)&&(De=ge(De,Pn,Ke,At,Tt)),!nn(De)||De.style&&De.nodeType||yn(De)||xn(De))return be(De)?ge(De,Pn,Ke,At,Tt):De;var vn,Qt={};for(vn in De)Qt[vn]=ge(De[vn],Pn,Ke,At,Tt);return Qt}(D[P],H,J,re,N),N,H,re)!==!1&&(N._pt=ve=new St(N._pt,J,P,0,1,de.render,de,0,de.priority),N!==k))for(Ce=N._ptLookup[N._targets.indexOf(J)],Ve=de._props.length;Ve--;)Ce[de._props[Ve]]=ve;return de},ie=function P(D,N){var H,J,re,de,ve,Ce,Ve,De,Ke,At,Tt,Pn,vn,Qt=D.vars,Ut=Qt.ease,$t=Qt.startAt,Mt=Qt.immediateRender,rn=Qt.lazy,wn=Qt.onUpdate,In=Qt.onUpdateParams,En=Qt.callbackScope,zt=Qt.runBackwards,kr=Qt.yoyoEase,Li=Qt.keyframes,gn=Qt.autoRevert,Si=D._dur,Qn=D._startAt,Vs=D._targets,qn=D.parent,ao=qn&&qn.data==="nested"?qn.parent._targets:Vs,jo=D._overwrite==="auto"&&!d,Ds=D.timeline;if(Ds&&(!Li||!Ut)&&(Ut="none"),D._ease=us(Ut,Ge.ease),D._yEase=kr?la(us(kr===!0?Ut:kr,Ge.ease)):0,kr&&D._yoyo&&!D._repeat&&(kr=D._yEase,D._yEase=D._ease,D._ease=kr),!Ds){if(Pn=(De=Vs[0]?Mi(Vs[0]).harness:0)&&Qt[De.prop],H=wo(Qt,Nr),Qn&&Qn.render(-1,!0).kill(),$t){if(fi(D._startAt=Rt.set(Vs,$r({data:"isStart",overwrite:!1,parent:qn,immediateRender:!0,lazy:Rn(rn),startAt:null,delay:0,onUpdate:wn,onUpdateParams:In,callbackScope:En,stagger:0},$t))),Mt){if(N>0)gn||(D._startAt=0);else if(Si&&!(N<0&&Qn))return void(N&&(D._zTime=N))}}else if(zt&&Si)if(Qn)!gn&&(D._startAt=0);else if(N&&(Mt=!1),re=$r({overwrite:!1,data:"isFromStart",lazy:Mt&&Rn(rn),immediateRender:Mt,stagger:0,parent:qn},H),Pn&&(re[De.prop]=Pn),fi(D._startAt=Rt.set(Vs,re)),Mt){if(!N)return}else P(D._startAt,1e-8);for(D._pt=0,rn=Si&&Rn(rn)||rn&&!Si,J=0;J<Vs.length;J++){if(Ve=(ve=Vs[J])._gsap||ii(Vs)[J]._gsap,D._ptLookup[J]=At={},er[Ve.id]&&Ln.length&&Hi(),Tt=ao===Vs?J:ao.indexOf(ve),De&&(Ke=new De).init(ve,Pn||H,D,Tt,ao)!==!1&&(D._pt=de=new St(D._pt,ve,Ke.name,0,1,Ke.render,Ke,0,Ke.priority),Ke._props.forEach(function(Bu){At[Bu]=de}),Ke.priority&&(Ce=1)),!De||Pn)for(re in H)Ir[re]&&(Ke=$(re,H,D,Tt,ve,ao))?Ke.priority&&(Ce=1):At[re]=de=ua.call(D,ve,re,"get",H[re],Tt,ao,0,Qt.stringFilter);D._op&&D._op[J]&&D.kill(ve,D._op[J]),jo&&D._pt&&(so=D,f.killTweensOf(ve,At,D.globalTime(0)),vn=!D.parent,so=0),D._pt&&rn&&(er[Ve.id]=1)}Ce&&Lt(D),D._onInit&&D._onInit(D)}D._from=!Ds&&!!Qt.runBackwards,D._onUpdate=wn,D._initted=(!D._op||D._pt)&&!vn},ge=function(P,D,N,H,J){return It(P)?P.call(D,N,H,J):be(P)&&~P.indexOf("random(")?_o(P):P},Ye=br+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",ct=(Ye+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Rt=function(P){function D(H,J,re,de){var ve;typeof J=="number"&&(re.duration=J,J=re,re=null);var Ce,Ve,De,Ke,At,Tt,Pn,vn,Qt=(ve=P.call(this,de?J:to(J),re)||this).vars,Ut=Qt.duration,$t=Qt.delay,Mt=Qt.immediateRender,rn=Qt.stagger,wn=Qt.overwrite,In=Qt.keyframes,En=Qt.defaults,zt=Qt.scrollTrigger,kr=Qt.yoyoEase,Li=ve.parent,gn=(yn(H)||xn(H)?vt(H[0]):"length"in J)?[H]:Pr(H);if(ve._targets=gn.length?ii(gn):di("GSAP target "+H+" not found. https://greensock.com",!at.nullTargetWarn)||[],ve._ptLookup=[],ve._overwrite=wn,In||rn||pn(Ut)||pn($t)){if(J=ve.vars,(Ce=ve.timeline=new Ti({data:"nested",defaults:En||{}})).kill(),Ce.parent=Ce._dp=a(ve),Ce._start=0,In)$r(Ce.vars.defaults,{ease:"none"}),In.forEach(function(Si){return Ce.to(gn,Si,">")});else{if(Ke=gn.length,Pn=rn?Kr(rn):vi,nn(rn))for(At in rn)~Ye.indexOf(At)&&(vn||(vn={}),vn[At]=rn[At]);for(Ve=0;Ve<Ke;Ve++){for(At in De={},J)ct.indexOf(At)<0&&(De[At]=J[At]);De.stagger=0,kr&&(De.yoyoEase=kr),vn&&sa(De,vn),Tt=gn[Ve],De.duration=+ge(Ut,a(ve),Ve,Tt,gn),De.delay=(+ge($t,a(ve),Ve,Tt,gn)||0)-ve._delay,!rn&&Ke===1&&De.delay&&(ve._delay=$t=De.delay,ve._start+=$t,De.delay=0),Ce.to(Tt,De,Pn(Ve,Tt,gn))}Ce.duration()?Ut=$t=0:ve.timeline=0}Ut||ve.duration(Ut=Ce.duration())}else ve.timeline=0;return wn!==!0||d||(so=a(ve),f.killTweensOf(gn),so=0),Li&&je(Li,a(ve)),(Mt||!Ut&&!In&&ve._start===ir(Li._time)&&Rn(Mt)&&function Si(Qn){return!Qn||Qn._ts&&Si(Qn.parent)}(a(ve))&&Li.data!=="nested")&&(ve._tTime=-1e-8,ve.render(Math.max(0,-$t))),zt&&qt(a(ve),zt),ve}c(D,P);var N=D.prototype;return N.render=function(H,J,re){var de,ve,Ce,Ve,De,Ke,At,Tt,Pn,vn=this._time,Qt=this._tDur,Ut=this._dur,$t=H>Qt-1e-8&&H>=0?Qt:H<1e-8?0:H;if(Ut){if($t!==this._tTime||!H||re||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=H<0){if(de=$t,Tt=this.timeline,this._repeat){if(Ve=Ut+this._rDelay,this._repeat<-1&&H<0)return this.totalTime(100*Ve+H,J,re);if(de=ir($t%Ve),$t===Qt?(Ce=this._repeat,de=Ut):((Ce=~~($t/Ve))&&Ce===$t/Ve&&(de=Ut,Ce--),de>Ut&&(de=Ut)),(Ke=this._yoyo&&1&Ce)&&(Pn=this._yEase,de=Ut-de),De=Ys(this._tTime,Ve),de===vn&&!re&&this._initted)return this;Ce!==De&&(Tt&&this._yEase&&no(Tt,Ke),!this.vars.repeatRefresh||Ke||this._lock||(this._lock=re=1,this.render(ir(Ve*Ce),!0).invalidate()._lock=0))}if(!this._initted){if(hn(this,H<0?H:de,re,J))return this._tTime=0,this;if(Ut!==this._dur)return this.render(H,J,re)}for(this._tTime=$t,this._time=de,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=At=(Pn||this._ease)(de/Ut),this._from&&(this.ratio=At=1-At),de&&!vn&&!J&&Ai(this,"onStart"),ve=this._pt;ve;)ve.r(At,ve.d),ve=ve._next;Tt&&Tt.render(H<0?H:!de&&Ke?-1e-8:Tt._dur*At,J,re)||this._startAt&&(this._zTime=H),this._onUpdate&&!J&&(H<0&&this._startAt&&this._startAt.render(H,!0,re),Ai(this,"onUpdate")),this._repeat&&Ce!==De&&this.vars.onRepeat&&!J&&this.parent&&Ai(this,"onRepeat"),$t!==this._tDur&&$t||this._tTime!==$t||(H<0&&this._startAt&&!this._onUpdate&&this._startAt.render(H,!0,!0),(H||!Ut)&&($t===this._tDur&&this._ts>0||!$t&&this._ts<0)&&fi(this,1),J||H<0&&!vn||!$t&&!vn||(Ai(this,$t===Qt?"onComplete":"onReverseComplete",!0),this._prom&&!($t<Qt&&this.timeScale()>0)&&this._prom()))}}else(function(Mt,rn,wn,In){var En,zt,kr,Li=Mt.ratio,gn=rn<0||!rn&&(!Mt._start&&function Vs(qn){var ao=qn.parent;return ao&&ao._ts&&ao._initted&&!ao._lock&&(ao.rawTime()<0||Vs(ao))}(Mt)||(Mt._ts<0||Mt._dp._ts<0)&&Mt.data!=="isFromStart"&&Mt.data!=="isStart")?0:1,Si=Mt._rDelay,Qn=0;if(Si&&Mt._repeat&&(Qn=ei(0,Mt._tDur,rn),zt=Ys(Qn,Si),kr=Ys(Mt._tTime,Si),Mt._yoyo&&1&zt&&(gn=1-gn),zt!==kr&&(Li=1-gn,Mt.vars.repeatRefresh&&Mt._initted&&Mt.invalidate())),gn!==Li||In||Mt._zTime===1e-8||!rn&&Mt._zTime){if(!Mt._initted&&hn(Mt,rn,In,wn))return;for(kr=Mt._zTime,Mt._zTime=rn||(wn?1e-8:0),wn||(wn=rn&&!kr),Mt.ratio=gn,Mt._from&&(gn=1-gn),Mt._time=0,Mt._tTime=Qn,wn||Ai(Mt,"onStart"),En=Mt._pt;En;)En.r(gn,En.d),En=En._next;Mt._startAt&&rn<0&&Mt._startAt.render(rn,!0,!0),Mt._onUpdate&&!wn&&Ai(Mt,"onUpdate"),Qn&&Mt._repeat&&!wn&&Mt.parent&&Ai(Mt,"onRepeat"),(rn>=Mt._tDur||rn<0)&&Mt.ratio===gn&&(gn&&fi(Mt,1),wn||(Ai(Mt,gn?"onComplete":"onReverseComplete",!0),Mt._prom&&Mt._prom()))}else Mt._zTime||(Mt._zTime=rn)})(this,H,J,re);return this},N.targets=function(){return this._targets},N.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),P.prototype.invalidate.call(this)},N.kill=function(H,J){if(J===void 0&&(J="all"),!(H||J&&J!=="all"))return this._lazy=this._pt=0,this.parent?oa(this):this;if(this.timeline){var re=this.timeline.totalDuration();return this.timeline.killTweensOf(H,J,so&&so.vars.overwrite!==!0)._first||oa(this),this.parent&&re!==this.timeline.totalDuration()&&un(this,this._dur*this.timeline._tDur/re,0,1),this}var de,ve,Ce,Ve,De,Ke,At,Tt=this._targets,Pn=H?Pr(H):Tt,vn=this._ptLookup,Qt=this._pt;if((!J||J==="all")&&function(Ut,$t){for(var Mt=Ut.length,rn=Mt===$t.length;rn&&Mt--&&Ut[Mt]===$t[Mt];);return Mt<0}(Tt,Pn))return J==="all"&&(this._pt=0),oa(this);for(de=this._op=this._op||[],J!=="all"&&(be(J)&&(De={},ji(J,function(Ut){return De[Ut]=1}),J=De),J=function(Ut,$t){var Mt,rn,wn,In,En=Ut[0]?Mi(Ut[0]).harness:0,zt=En&&En.aliases;if(!zt)return $t;for(rn in Mt=sa({},$t),zt)if(rn in Mt)for(wn=(In=zt[rn].split(",")).length;wn--;)Mt[In[wn]]=Mt[rn];return Mt}(Tt,J)),At=Tt.length;At--;)if(~Pn.indexOf(Tt[At]))for(De in ve=vn[At],J==="all"?(de[At]=J,Ve=ve,Ce={}):(Ce=de[At]=de[At]||{},Ve=J),Ve)(Ke=ve&&ve[De])&&("kill"in Ke.d&&Ke.d.kill(De)!==!0||bs(this,Ke,"_pt"),delete ve[De]),Ce!=="all"&&(Ce[De]=1);return this._initted&&!this._pt&&Qt&&oa(this),this},D.to=function(H,J){return new D(H,J,arguments[2])},D.from=function(H,J){return new D(H,as(arguments,1))},D.delayedCall=function(H,J,re,de){return new D(J,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:H,onComplete:J,onReverseComplete:J,onCompleteParams:re,onReverseCompleteParams:re,callbackScope:de})},D.fromTo=function(H,J,re){return new D(H,as(arguments,2))},D.set=function(H,J){return J.duration=0,J.repeatDelay||(J.repeat=0),new D(H,J)},D.killTweensOf=function(H,J,re){return f.killTweensOf(H,J,re)},D}(La);$r(Rt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ji("staggerTo,staggerFrom,staggerFromTo",function(P){Rt[P]=function(){var D=new Ti,N=Zr.call(arguments,0);return N.splice(P==="staggerFromTo"?5:4,0,0),D[P].apply(D,N)}});var bn=function(P,D,N){return P[D]=N},rr=function(P,D,N){return P[D](N)},x=function(P,D,N,H){return P[D](H.fp,N)},A=function(P,D,N){return P.setAttribute(D,N)},B=function(P,D){return It(P[D])?rr:Re(P[D])&&P.setAttribute?A:bn},U=function(P,D){return D.set(D.t,D.p,Math.round(1e4*(D.s+D.c*P))/1e4,D)},Q=function(P,D){return D.set(D.t,D.p,!!(D.s+D.c*P),D)},ae=function(P,D){var N=D._pt,H="";if(!P&&D.b)H=D.b;else if(P===1&&D.e)H=D.e;else{for(;N;)H=N.p+(N.m?N.m(N.s+N.c*P):Math.round(1e4*(N.s+N.c*P))/1e4)+H,N=N._next;H+=D.c}D.set(D.t,D.p,H,D)},he=function(P,D){for(var N=D._pt;N;)N.r(P,N.d),N=N._next},Oe=function(P,D,N,H){for(var J,re=this._pt;re;)J=re._next,re.p===H&&re.modifier(P,D,N),re=J},ze=function(P){for(var D,N,H=this._pt;H;)N=H._next,H.p===P&&!H.op||H.op===P?bs(this,H,"_pt"):H.dep||(D=1),H=N;return!D},tt=function(P,D,N,H){H.mSet(P,D,H.m.call(H.tween,N,H.mt),H)},Lt=function(P){for(var D,N,H,J,re=P._pt;re;){for(D=re._next,N=H;N&&N.pr>re.pr;)N=N._next;(re._prev=N?N._prev:J)?re._prev._next=re:H=re,(re._next=N)?N._prev=re:J=re,re=D}P._pt=H},St=function(){function P(D,N,H,J,re,de,ve,Ce,Ve){this.t=N,this.s=J,this.c=re,this.p=H,this.r=de||U,this.d=ve||this,this.set=Ce||bn,this.pr=Ve||0,this._next=D,D&&(D._prev=this)}return P.prototype.modifier=function(D,N,H){this.mSet=this.mSet||this.set,this.set=tt,this.m=D,this.mt=H,this.tween=N},P}();ji(br+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(P){return Nr[P]=1}),wr.TweenMax=wr.TweenLite=Rt,wr.TimelineLite=wr.TimelineMax=Ti,f=new Ti({sortChildren:!1,defaults:Ge,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),at.stringFilter=ol;var ft={registerPlugin:function(){for(var P=arguments.length,D=new Array(P),N=0;N<P;N++)D[N]=arguments[N];D.forEach(function(H){return iu(H)})},timeline:function(P){return new Ti(P)},getTweensOf:function(P,D){return f.getTweensOf(P,D)},getProperty:function(P,D,N,H){be(P)&&(P=Pr(P)[0]);var J=Mi(P||{}).get,re=N?Ls:Cs;return N==="native"&&(N=""),P&&(D?re((Ir[D]&&Ir[D].get||J)(P,D,N,H)):function(de,ve,Ce){return re((Ir[de]&&Ir[de].get||J)(P,de,ve,Ce))})},quickSetter:function(P,D,N){if((P=Pr(P)).length>1){var H=P.map(function(Ve){return sr.quickSetter(Ve,D,N)}),J=H.length;return function(Ve){for(var De=J;De--;)H[De](Ve)}}P=P[0]||{};var re=Ir[D],de=Mi(P),ve=de.harness&&(de.harness.aliases||{})[D]||D,Ce=re?function(Ve){var De=new re;k._pt=0,De.init(P,N?Ve+N:Ve,k,0,[P]),De.render(1,De),k._pt&&he(1,k)}:de.set(P,ve);return re?Ce:function(Ve){return Ce(P,ve,N?Ve+N:Ve,de,1)}},isTweening:function(P){return f.getTweensOf(P,!0).length>0},defaults:function(P){return P&&P.ease&&(P.ease=us(P.ease,Ge.ease)),bo(Ge,P||{})},config:function(P){return bo(at,P||{})},registerEffect:function(P){var D=P.name,N=P.effect,H=P.plugins,J=P.defaults,re=P.extendTimeline;(H||"").split(",").forEach(function(de){return de&&!Ir[de]&&!wr[de]&&di(D+" effect requires "+de+" plugin.")}),yi[D]=function(de,ve,Ce){return N(Pr(de),$r(ve||{},J),Ce)},re&&(Ti.prototype[D]=function(de,ve,Ce){return this.add(yi[D](de,nn(ve)?ve:(Ce=ve)&&{},this),Ce)})},registerEase:function(P,D){Lr[P]=us(D)},parseEase:function(P,D){return arguments.length?us(P,D):Lr},getById:function(P){return f.getById(P)},exportRoot:function(P,D){P===void 0&&(P={});var N,H,J=new Ti(P);for(J.smoothChildTiming=Rn(P.smoothChildTiming),f.remove(J),J._dp=0,J._time=J._tTime=f._time,N=f._first;N;)H=N._next,!D&&!N._dur&&N instanceof Rt&&N.vars.onComplete===N._targets[0]||Je(J,N,N._start-N._delay),N=H;return Je(f,J,0),J},utils:{wrap:function P(D,N,H){var J=N-D;return yn(D)?Ro(D,P(0,D.length),N):Er(H,function(re){return(J+(re-D)%J)%J+D})},wrapYoyo:function P(D,N,H){var J=N-D,re=2*J;return yn(D)?Ro(D,P(0,D.length-1),N):Er(H,function(de){return D+((de=(re+(de-D)%re)%re||0)>J?re-de:de)})},distribute:Kr,random:ts,snap:Vi,normalize:function(P,D,N){return Di(P,D,0,1,N)},getUnit:Dr,clamp:function(P,D,N){return Er(N,function(H){return ei(P,D,H)})},splitColor:Ta,toArray:Pr,mapRange:Di,pipe:function(){for(var P=arguments.length,D=new Array(P),N=0;N<P;N++)D[N]=arguments[N];return function(H){return D.reduce(function(J,re){return re(J)},H)}},unitize:function(P,D){return function(N){return P(parseFloat(N))+(D||Dr(N))}},interpolate:function P(D,N,H,J){var re=isNaN(D+N)?0:function(Tt){return(1-Tt)*D+Tt*N};if(!re){var de,ve,Ce,Ve,De,Ke=be(D),At={};if(H===!0&&(J=1)&&(H=null),Ke)D={p:D},N={p:N};else if(yn(D)&&!yn(N)){for(Ce=[],Ve=D.length,De=Ve-2,ve=1;ve<Ve;ve++)Ce.push(P(D[ve-1],D[ve]));Ve--,re=function(Tt){Tt*=Ve;var Pn=Math.min(De,~~Tt);return Ce[Pn](Tt-Pn)},H=N}else J||(D=sa(yn(D)?[]:{},D));if(!Ce){for(de in N)ua.call(At,D,de,"get",N[de]);re=function(Tt){return he(Tt,At)||(Ke?D.p:D)}}}return Er(H,re)},shuffle:Br},install:Wn,effects:yi,ticker:Os,updateRoot:Ti.updateRoot,plugins:Ir,globalTimeline:f,core:{PropTween:St,globals:Or,Tween:Rt,Timeline:Ti,Animation:La,getCache:Mi,_removeLinkedListItem:bs,suppressOverwrites:function(P){return d=P}}};ji("to,from,fromTo,delayedCall,set,killTweensOf",function(P){return ft[P]=Rt[P]}),Os.add(Ti.updateRoot),k=ft.to({},{duration:0});var Et=function(P,D){for(var N=P._pt;N&&N.p!==D&&N.op!==D&&N.fp!==D;)N=N._next;return N},zn=function(P,D){return{name:P,rawVars:1,init:function(N,H,J){J._onInit=function(re){var de,ve;if(be(H)&&(de={},ji(H,function(Ce){return de[Ce]=1}),H=de),D){for(ve in de={},H)de[ve]=D(H[ve]);H=de}(function(Ce,Ve){var De,Ke,At,Tt=Ce._targets;for(De in Ve)for(Ke=Tt.length;Ke--;)(At=Ce._ptLookup[Ke][De])&&(At=At.d)&&(At._pt&&(At=Et(At,De)),At&&At.modifier&&At.modifier(Ve[De],Ce,Tt[Ke],De))})(re,H)}}}},sr=ft.registerPlugin({name:"attr",init:function(P,D,N,H,J){var re,de;for(re in D)(de=this.add(P,"setAttribute",(P.getAttribute(re)||0)+"",D[re],H,J,0,0,re))&&(de.op=re),this._props.push(re)}},{name:"endArray",init:function(P,D){for(var N=D.length;N--;)this.add(P,N,P[N]||0,D[N])}},zn("roundProps",xi),zn("modifiers"),zn("snap",Vi))||ft;Rt.version=Ti.version=sr.version="3.6.0",E=1,xr()&&Io();var Un,ci,Fi,Zs,si,Sr,Do,oi,Oi=Lr.Power0,Xa=Lr.Power1,nh=Lr.Power2,ca=Lr.Power3,su=Lr.Power4,Du=Lr.Linear,Fo=Lr.Quad,Fu=Lr.Cubic,Pa=Lr.Quart,cs=Lr.Quint,zo=Lr.Strong,ns=Lr.Elastic,Wi=Lr.Back,Tr=Lr.SteppedEase,An=Lr.Bounce,Ot=Lr.Sine,Ui=Lr.Expo,Ki=Lr.Circ,qi={},Ra=180/Math.PI,ti=Math.PI/180,zl=Math.atan2,Ii=/([A-Z])/g,Bo=/(?:left|right|width|margin|padding|x)/i,al=/[\s,\(]\S/,hs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ye=function(P,D){return D.set(D.t,D.p,Math.round(1e4*(D.s+D.c*P))/1e4+D.u,D)},rh=function(P,D){return D.set(D.t,D.p,P===1?D.e:Math.round(1e4*(D.s+D.c*P))/1e4+D.u,D)},ou=function(P,D){return D.set(D.t,D.p,P?Math.round(1e4*(D.s+D.c*P))/1e4+D.u:D.b,D)},$a=function(P,D){var N=D.s+D.c*P;D.set(D.t,D.p,~~(N+(N<0?-.5:.5))+D.u,D)},au=function(P,D){return D.set(D.t,D.p,P?D.e:D.b,D)},ds=function(P,D){return D.set(D.t,D.p,P!==1?D.b:D.e,D)},ha=function(P,D,N){return P.style[D]=N},ih=function(P,D,N){return P.style.setProperty(D,N)},lu=function(P,D,N){return P._gsap[D]=N},Bl=function(P,D,N){return P._gsap.scaleX=P._gsap.scaleY=N},uu=function(P,D,N,H,J){var re=P._gsap;re.scaleX=re.scaleY=N,re.renderTransform(J,re)},qr=function(P,D,N,H,J){var re=P._gsap;re[D]=N,re.renderTransform(J,re)},Gi="transform",rs=Gi+"Origin",Is=function(P,D){var N=ci.createElementNS?ci.createElementNS((D||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),P):ci.createElement(P);return N.style?N:ci.createElement(P)},Xo=function P(D,N,H){var J=getComputedStyle(D);return J[N]||J.getPropertyValue(N.replace(Ii,"-$1").toLowerCase())||J.getPropertyValue(N)||!H&&P(D,$o(N)||N,1)||""},cu="O,Moz,ms,Ms,Webkit".split(","),$o=function(P,D,N){var H=(D||si).style,J=5;if(P in H&&!N)return P;for(P=P.charAt(0).toUpperCase()+P.substr(1);J--&&!(cu[J]+P in H););return J<0?null:(J===3?"ms":J>=0?cu[J]:"")+P},mc=function(){typeof window<"u"&&window.document&&(Un=window,ci=Un.document,Fi=ci.documentElement,si=Is("div")||{style:{}},Sr=Is("div"),Gi=$o(Gi),rs=Gi+"Origin",si.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",oi=!!$o("perspective"),Zs=1)},da=function P(D){var N,H=Is("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),J=this.parentNode,re=this.nextSibling,de=this.style.cssText;if(Fi.appendChild(H),H.appendChild(this),this.style.display="block",D)try{N=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=P}catch{}else this._gsapBBox&&(N=this._gsapBBox());return J&&(re?J.insertBefore(this,re):J.appendChild(this)),Fi.removeChild(H),this.style.cssText=de,N},oo=function(P,D){for(var N=D.length;N--;)if(P.hasAttribute(D[N]))return P.getAttribute(D[N])},hu=function(P){var D;try{D=P.getBBox()}catch{D=da.call(P,!0)}return D&&(D.width||D.height)||P.getBBox===da||(D=da.call(P,!0)),!D||D.width||D.x||D.y?D:{x:+oo(P,["x","cx","x1"])||0,y:+oo(P,["y","cy","y1"])||0,width:0,height:0}},zu=function(P){return!(!P.getCTM||P.parentNode&&!P.ownerSVGElement||!hu(P))},Yo=function(P,D){if(D){var N=P.style;D in qi&&D!==rs&&(D=Gi),N.removeProperty?(D.substr(0,2)!=="ms"&&D.substr(0,6)!=="webkit"||(D="-"+D),N.removeProperty(D.replace(Ii,"-$1").toLowerCase())):N.removeAttribute(D)}},fa=function(P,D,N,H,J,re){var de=new St(P._pt,D,N,0,1,re?ds:au);return P._pt=de,de.b=H,de.e=J,P._props.push(N),de},du={deg:1,rad:1,turn:1},pa=function P(D,N,H,J){var re,de,ve,Ce,Ve=parseFloat(H)||0,De=(H+"").trim().substr((Ve+"").length)||"px",Ke=si.style,At=Bo.test(N),Tt=D.tagName.toLowerCase()==="svg",Pn=(Tt?"client":"offset")+(At?"Width":"Height"),vn=J==="px",Qt=J==="%";return J===De||!Ve||du[J]||du[De]?Ve:(De!=="px"&&!vn&&(Ve=P(D,N,H,"px")),Ce=D.getCTM&&zu(D),!Qt&&De!=="%"||!qi[N]&&!~N.indexOf("adius")?(Ke[At?"width":"height"]=100+(vn?De:J),de=~N.indexOf("adius")||J==="em"&&D.appendChild&&!Tt?D:D.parentNode,Ce&&(de=(D.ownerSVGElement||{}).parentNode),de&&de!==ci&&de.appendChild||(de=ci.body),(ve=de._gsap)&&Qt&&ve.width&&At&&ve.time===Os.time?ir(Ve/ve.width*100):((Qt||De==="%")&&(Ke.position=Xo(D,"position")),de===D&&(Ke.position="static"),de.appendChild(si),re=si[Pn],de.removeChild(si),Ke.position="absolute",At&&Qt&&((ve=Mi(de)).time=Os.time,ve.width=de[Pn]),ir(vn?re*Ve/100:re&&Ve?100/re*Ve:0))):(re=Ce?D.getBBox()[At?"width":"height"]:D[Pn],ir(Qt?Ve/re*100:Ve/100*re)))},fs=function(P,D,N,H){var J;return Zs||mc(),D in hs&&D!=="transform"&&~(D=hs[D]).indexOf(",")&&(D=D.split(",")[0]),qi[D]&&D!=="transform"?(J=cr(P,H),J=D!=="transformOrigin"?J[D]:fr(Xo(P,rs))+" "+J.zOrigin+"px"):(!(J=P.style[D])||J==="auto"||H||~(J+"").indexOf("calc("))&&(J=Xe[D]&&Xe[D](P,D,N)||Xo(P,D)||Hs(P,D)||(D==="opacity"?1:0)),N&&!~(J+"").trim().indexOf(" ")?pa(P,D,J,N)+N:J},Cr=function(P,D,N,H){if(!N||N==="none"){var J=$o(D,P,1),re=J&&Xo(P,J,1);re&&re!==N?(D=J,N=re):D==="borderColor"&&(N=Xo(P,"borderTopColor"))}var de,ve,Ce,Ve,De,Ke,At,Tt,Pn,vn,Qt,Ut,$t=new St(this._pt,P.style,D,0,1,ae),Mt=0,rn=0;if($t.b=N,$t.e=H,N+="",(H+="")=="auto"&&(P.style[D]=H,H=Xo(P,D)||H,P.style[D]=N),ol(de=[N,H]),H=de[1],Ce=(N=de[0]).match(Jn)||[],(H.match(Jn)||[]).length){for(;ve=Jn.exec(H);)At=ve[0],Pn=H.substring(Mt,ve.index),De?De=(De+1)%5:Pn.substr(-5)!=="rgba("&&Pn.substr(-5)!=="hsla("||(De=1),At!==(Ke=Ce[rn++]||"")&&(Ve=parseFloat(Ke)||0,Qt=Ke.substr((Ve+"").length),(Ut=At.charAt(1)==="="?+(At.charAt(0)+"1"):0)&&(At=At.substr(2)),Tt=parseFloat(At),vn=At.substr((Tt+"").length),Mt=Jn.lastIndex-vn.length,vn||(vn=vn||at.units[D]||Qt,Mt===H.length&&(H+=vn,$t.e+=vn)),Qt!==vn&&(Ve=pa(P,D,Ke,vn)||0),$t._pt={_next:$t._pt,p:Pn||rn===1?Pn:",",s:Ve,c:Ut?Ut*Tt:Tt-Ve,m:De&&De<4||D==="zIndex"?Math.round:0});$t.c=Mt<H.length?H.substring(Mt,H.length):""}else $t.r=D==="display"&&H==="none"?ds:au;return lr.test(H)&&($t.e=0),this._pt=$t,$t},pe={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Pe=function(P,D){if(D.tween&&D.tween._time===D.tween._dur){var N,H,J,re=D.t,de=re.style,ve=D.u,Ce=re._gsap;if(ve==="all"||ve===!0)de.cssText="",H=1;else for(J=(ve=ve.split(",")).length;--J>-1;)N=ve[J],qi[N]&&(H=1,N=N==="transformOrigin"?rs:Gi),Yo(re,N);H&&(Yo(re,Gi),Ce&&(Ce.svg&&re.removeAttribute("transform"),cr(re,1),Ce.uncache=1))}},Xe={clearProps:function(P,D,N,H,J){if(J.data!=="isFromStart"){var re=P._pt=new St(P._pt,D,N,0,0,Pe);return re.u=H,re.pr=-10,re.tween=J,P._props.push(N),1}}},Bt=[1,0,0,1,0,0],Qe={},Xt=function(P){return P==="matrix(1, 0, 0, 1, 0, 0)"||P==="none"||!P},Yt=function(P){var D=Xo(P,Gi);return Xt(D)?Bt:D.substr(7).match($e).map(ir)},sn=function(P,D){var N,H,J,re,de=P._gsap||Mi(P),ve=P.style,Ce=Yt(P);return de.svg&&P.getAttribute("transform")?(Ce=[(J=P.transform.baseVal.consolidate().matrix).a,J.b,J.c,J.d,J.e,J.f]).join(",")==="1,0,0,1,0,0"?Bt:Ce:(Ce!==Bt||P.offsetParent||P===Fi||de.svg||(J=ve.display,ve.display="block",(N=P.parentNode)&&P.offsetParent||(re=1,H=P.nextSibling,Fi.appendChild(P)),Ce=Yt(P),J?ve.display=J:Yo(P,"display"),re&&(H?N.insertBefore(P,H):N?N.appendChild(P):Fi.removeChild(P))),D&&Ce.length>6?[Ce[0],Ce[1],Ce[4],Ce[5],Ce[12],Ce[13]]:Ce)},Sn=function(P,D,N,H,J,re){var de,ve,Ce,Ve=P._gsap,De=J||sn(P,!0),Ke=Ve.xOrigin||0,At=Ve.yOrigin||0,Tt=Ve.xOffset||0,Pn=Ve.yOffset||0,vn=De[0],Qt=De[1],Ut=De[2],$t=De[3],Mt=De[4],rn=De[5],wn=D.split(" "),In=parseFloat(wn[0])||0,En=parseFloat(wn[1])||0;N?De!==Bt&&(ve=vn*$t-Qt*Ut)&&(Ce=In*(-Qt/ve)+En*(vn/ve)-(vn*rn-Qt*Mt)/ve,In=In*($t/ve)+En*(-Ut/ve)+(Ut*rn-$t*Mt)/ve,En=Ce):(In=(de=hu(P)).x+(~wn[0].indexOf("%")?In/100*de.width:In),En=de.y+(~(wn[1]||wn[0]).indexOf("%")?En/100*de.height:En)),H||H!==!1&&Ve.smooth?(Mt=In-Ke,rn=En-At,Ve.xOffset=Tt+(Mt*vn+rn*Ut)-Mt,Ve.yOffset=Pn+(Mt*Qt+rn*$t)-rn):Ve.xOffset=Ve.yOffset=0,Ve.xOrigin=In,Ve.yOrigin=En,Ve.smooth=!!H,Ve.origin=D,Ve.originIsAbsolute=!!N,P.style[rs]="0px 0px",re&&(fa(re,Ve,"xOrigin",Ke,In),fa(re,Ve,"yOrigin",At,En),fa(re,Ve,"xOffset",Tt,Ve.xOffset),fa(re,Ve,"yOffset",Pn,Ve.yOffset)),P.setAttribute("data-svg-origin",In+" "+En)},cr=function(P,D){var N=P._gsap||new io(P);if("x"in N&&!D&&!N.uncache)return N;var H,J,re,de,ve,Ce,Ve,De,Ke,At,Tt,Pn,vn,Qt,Ut,$t,Mt,rn,wn,In,En,zt,kr,Li,gn,Si,Qn,Vs,qn,ao,jo,Ds,Bu=P.style,ll=N.scaleX<0,Ko=Xo(P,rs)||"0";return H=J=re=Ce=Ve=De=Ke=At=Tt=0,de=ve=1,N.svg=!(!P.getCTM||!zu(P)),Qt=sn(P,N.svg),N.svg&&(Li=!N.uncache&&P.getAttribute("data-svg-origin"),Sn(P,Li||Ko,!!Li||N.originIsAbsolute,N.smooth!==!1,Qt)),Pn=N.xOrigin||0,vn=N.yOrigin||0,Qt!==Bt&&(rn=Qt[0],wn=Qt[1],In=Qt[2],En=Qt[3],H=zt=Qt[4],J=kr=Qt[5],Qt.length===6?(de=Math.sqrt(rn*rn+wn*wn),ve=Math.sqrt(En*En+In*In),Ce=rn||wn?zl(wn,rn)*Ra:0,(Ke=In||En?zl(In,En)*Ra+Ce:0)&&(ve*=Math.cos(Ke*ti)),N.svg&&(H-=Pn-(Pn*rn+vn*In),J-=vn-(Pn*wn+vn*En))):(Ds=Qt[6],ao=Qt[7],Qn=Qt[8],Vs=Qt[9],qn=Qt[10],jo=Qt[11],H=Qt[12],J=Qt[13],re=Qt[14],Ve=(Ut=zl(Ds,qn))*Ra,Ut&&(Li=zt*($t=Math.cos(-Ut))+Qn*(Mt=Math.sin(-Ut)),gn=kr*$t+Vs*Mt,Si=Ds*$t+qn*Mt,Qn=zt*-Mt+Qn*$t,Vs=kr*-Mt+Vs*$t,qn=Ds*-Mt+qn*$t,jo=ao*-Mt+jo*$t,zt=Li,kr=gn,Ds=Si),De=(Ut=zl(-In,qn))*Ra,Ut&&($t=Math.cos(-Ut),jo=En*(Mt=Math.sin(-Ut))+jo*$t,rn=Li=rn*$t-Qn*Mt,wn=gn=wn*$t-Vs*Mt,In=Si=In*$t-qn*Mt),Ce=(Ut=zl(wn,rn))*Ra,Ut&&(Li=rn*($t=Math.cos(Ut))+wn*(Mt=Math.sin(Ut)),gn=zt*$t+kr*Mt,wn=wn*$t-rn*Mt,kr=kr*$t-zt*Mt,rn=Li,zt=gn),Ve&&Math.abs(Ve)+Math.abs(Ce)>359.9&&(Ve=Ce=0,De=180-De),de=ir(Math.sqrt(rn*rn+wn*wn+In*In)),ve=ir(Math.sqrt(kr*kr+Ds*Ds)),Ut=zl(zt,kr),Ke=Math.abs(Ut)>2e-4?Ut*Ra:0,Tt=jo?1/(jo<0?-jo:jo):0),N.svg&&(Li=P.getAttribute("transform"),N.forceCSS=P.setAttribute("transform","")||!Xt(Xo(P,Gi)),Li&&P.setAttribute("transform",Li))),Math.abs(Ke)>90&&Math.abs(Ke)<270&&(ll?(de*=-1,Ke+=Ce<=0?180:-180,Ce+=Ce<=0?180:-180):(ve*=-1,Ke+=Ke<=0?180:-180)),N.x=H-((N.xPercent=H&&(N.xPercent||(Math.round(P.offsetWidth/2)===Math.round(-H)?-50:0)))?P.offsetWidth*N.xPercent/100:0)+"px",N.y=J-((N.yPercent=J&&(N.yPercent||(Math.round(P.offsetHeight/2)===Math.round(-J)?-50:0)))?P.offsetHeight*N.yPercent/100:0)+"px",N.z=re+"px",N.scaleX=ir(de),N.scaleY=ir(ve),N.rotation=ir(Ce)+"deg",N.rotationX=ir(Ve)+"deg",N.rotationY=ir(De)+"deg",N.skewX=Ke+"deg",N.skewY=At+"deg",N.transformPerspective=Tt+"px",(N.zOrigin=parseFloat(Ko.split(" ")[2])||0)&&(Bu[rs]=fr(Ko)),N.xOffset=N.yOffset=0,N.force3D=at.force3D,N.renderTransform=N.svg?hr:oi?bi:jr,N.uncache=0,N},fr=function(P){return(P=P.split(" "))[0]+" "+P[1]},yr=function(P,D,N){var H=Dr(D);return ir(parseFloat(D)+parseFloat(pa(P,"x",N+"px",H)))+H},jr=function(P,D){D.z="0px",D.rotationY=D.rotationX="0deg",D.force3D=0,bi(P,D)},bi=function(P,D){var N=D||this,H=N.xPercent,J=N.yPercent,re=N.x,de=N.y,ve=N.z,Ce=N.rotation,Ve=N.rotationY,De=N.rotationX,Ke=N.skewX,At=N.skewY,Tt=N.scaleX,Pn=N.scaleY,vn=N.transformPerspective,Qt=N.force3D,Ut=N.target,$t=N.zOrigin,Mt="",rn=Qt==="auto"&&P&&P!==1||Qt===!0;if($t&&(De!=="0deg"||Ve!=="0deg")){var wn,In=parseFloat(Ve)*ti,En=Math.sin(In),zt=Math.cos(In);In=parseFloat(De)*ti,wn=Math.cos(In),re=yr(Ut,re,En*wn*-$t),de=yr(Ut,de,-Math.sin(In)*-$t),ve=yr(Ut,ve,zt*wn*-$t+$t)}vn!=="0px"&&(Mt+="perspective("+vn+") "),(H||J)&&(Mt+="translate("+H+"%, "+J+"%) "),(rn||re!=="0px"||de!=="0px"||ve!=="0px")&&(Mt+=ve!=="0px"||rn?"translate3d("+re+", "+de+", "+ve+") ":"translate("+re+", "+de+") "),Ce!=="0deg"&&(Mt+="rotate("+Ce+") "),Ve!=="0deg"&&(Mt+="rotateY("+Ve+") "),De!=="0deg"&&(Mt+="rotateX("+De+") "),Ke==="0deg"&&At==="0deg"||(Mt+="skew("+Ke+", "+At+") "),Tt===1&&Pn===1||(Mt+="scale("+Tt+", "+Pn+") "),Ut.style[Gi]=Mt||"translate(0, 0)"},hr=function(P,D){var N,H,J,re,de,ve=D||this,Ce=ve.xPercent,Ve=ve.yPercent,De=ve.x,Ke=ve.y,At=ve.rotation,Tt=ve.skewX,Pn=ve.skewY,vn=ve.scaleX,Qt=ve.scaleY,Ut=ve.target,$t=ve.xOrigin,Mt=ve.yOrigin,rn=ve.xOffset,wn=ve.yOffset,In=ve.forceCSS,En=parseFloat(De),zt=parseFloat(Ke);At=parseFloat(At),Tt=parseFloat(Tt),(Pn=parseFloat(Pn))&&(Tt+=Pn=parseFloat(Pn),At+=Pn),At||Tt?(At*=ti,Tt*=ti,N=Math.cos(At)*vn,H=Math.sin(At)*vn,J=Math.sin(At-Tt)*-Qt,re=Math.cos(At-Tt)*Qt,Tt&&(Pn*=ti,de=Math.tan(Tt-Pn),J*=de=Math.sqrt(1+de*de),re*=de,Pn&&(de=Math.tan(Pn),N*=de=Math.sqrt(1+de*de),H*=de)),N=ir(N),H=ir(H),J=ir(J),re=ir(re)):(N=vn,re=Qt,H=J=0),(En&&!~(De+"").indexOf("px")||zt&&!~(Ke+"").indexOf("px"))&&(En=pa(Ut,"x",De,"px"),zt=pa(Ut,"y",Ke,"px")),($t||Mt||rn||wn)&&(En=ir(En+$t-($t*N+Mt*J)+rn),zt=ir(zt+Mt-($t*H+Mt*re)+wn)),(Ce||Ve)&&(de=Ut.getBBox(),En=ir(En+Ce/100*de.width),zt=ir(zt+Ve/100*de.height)),de="matrix("+N+","+H+","+J+","+re+","+En+","+zt+")",Ut.setAttribute("transform",de),In&&(Ut.style[Gi]=de)},ps=function(P,D,N,H,J,re){var de,ve,Ce=be(J),Ve=parseFloat(J)*(Ce&&~J.indexOf("rad")?Ra:1),De=re?Ve*re:Ve-H,Ke=H+De+"deg";return Ce&&((de=J.split("_")[1])==="short"&&(De%=360)!==De%180&&(De+=De<0?360:-360),de==="cw"&&De<0?De=(De+36e9)%360-360*~~(De/360):de==="ccw"&&De>0&&(De=(De-36e9)%360-360*~~(De/360))),P._pt=ve=new St(P._pt,D,N,H,De,rh),ve.e=Ke,ve.u="deg",P._props.push(N),ve},Ji=function(P,D,N){var H,J,re,de,ve,Ce,Ve,De=Sr.style,Ke=N._gsap;for(J in De.cssText=getComputedStyle(N).cssText+";position:absolute;display:block;",De[Gi]=D,ci.body.appendChild(Sr),H=cr(Sr,1),qi)(re=Ke[J])!==(de=H[J])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(J)<0&&(ve=Dr(re)!==(Ve=Dr(de))?pa(N,J,re,Ve):parseFloat(re),Ce=parseFloat(de),P._pt=new St(P._pt,Ke,J,ve,Ce-ve,ye),P._pt.u=Ve||0,P._props.push(J));ci.body.removeChild(Sr)};/*!
 * CSSPlugin 3.6.0
 * https://greensock.com
 *
 * Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/ji("padding,margin,Width,Radius",function(P,D){var N="Top",H="Right",J="Bottom",re="Left",de=(D<3?[N,H,J,re]:[N+re,N+H,J+H,J+re]).map(function(ve){return D<2?P+ve:"border"+ve+P});Xe[D>1?"border"+P:P]=function(ve,Ce,Ve,De,Ke){var At,Tt;if(arguments.length<4)return At=de.map(function(Pn){return fs(ve,Pn,Ve)}),(Tt=At.join(" ")).split(At[0]).length===5?At[0]:Tt;At=(De+"").split(" "),Tt={},de.forEach(function(Pn,vn){return Tt[Pn]=At[vn]=At[vn]||At[(vn-1)/2|0]}),ve.init(Ce,Tt,Ke)}});var Ks,Ci,Zo={name:"css",register:mc,targetTest:function(P){return P.style&&P.nodeType},init:function(P,D,N,H,J){var re,de,ve,Ce,Ve,De,Ke,At,Tt,Pn,vn,Qt,Ut,$t,Mt,rn,wn,In,En,zt=this._props,kr=P.style,Li=N.vars.startAt;for(Ke in Zs||mc(),D)if(Ke!=="autoRound"&&(de=D[Ke],!Ir[Ke]||!$(Ke,D,N,H,P,J))){if(Ve=typeof de,De=Xe[Ke],Ve==="function"&&(Ve=typeof(de=de.call(N,H,P,J))),Ve==="string"&&~de.indexOf("random(")&&(de=_o(de)),De)De(this,P,Ke,de,N)&&(Mt=1);else if(Ke.substr(0,2)==="--")re=(getComputedStyle(P).getPropertyValue(Ke)+"").trim(),de+="",At=Dr(re),(Tt=Dr(de))?At!==Tt&&(re=pa(P,Ke,re,Tt)+Tt):At&&(de+=At),this.add(kr,"setProperty",re,de,H,J,0,0,Ke);else if(Ve!=="undefined"){if(Li&&Ke in Li?(re=typeof Li[Ke]=="function"?Li[Ke].call(N,H,P,J):Li[Ke],Ke in at.units&&!Dr(re)&&(re+=at.units[Ke]),(re+"").charAt(1)==="="&&(re=fs(P,Ke))):re=fs(P,Ke),Ce=parseFloat(re),(Pn=Ve==="string"&&de.charAt(1)==="="?+(de.charAt(0)+"1"):0)&&(de=de.substr(2)),ve=parseFloat(de),Ke in hs&&(Ke==="autoAlpha"&&(Ce===1&&fs(P,"visibility")==="hidden"&&ve&&(Ce=0),fa(this,kr,"visibility",Ce?"inherit":"hidden",ve?"inherit":"hidden",!ve)),Ke!=="scale"&&Ke!=="transform"&&~(Ke=hs[Ke]).indexOf(",")&&(Ke=Ke.split(",")[0])),vn=Ke in qi)if(Qt||((Ut=P._gsap).renderTransform&&!D.parseTransform||cr(P,D.parseTransform),$t=D.smoothOrigin!==!1&&Ut.smooth,(Qt=this._pt=new St(this._pt,kr,Gi,0,1,Ut.renderTransform,Ut,0,-1)).dep=1),Ke==="scale")this._pt=new St(this._pt,Ut,"scaleY",Ut.scaleY,Pn?Pn*ve:ve-Ut.scaleY),zt.push("scaleY",Ke),Ke+="X";else{if(Ke==="transformOrigin"){wn=void 0,In=void 0,En=void 0,wn=(rn=de).split(" "),In=wn[0],En=wn[1]||"50%",In!=="top"&&In!=="bottom"&&En!=="left"&&En!=="right"||(rn=In,In=En,En=rn),wn[0]=pe[In]||In,wn[1]=pe[En]||En,de=wn.join(" "),Ut.svg?Sn(P,de,0,$t,0,this):((Tt=parseFloat(de.split(" ")[2])||0)!==Ut.zOrigin&&fa(this,Ut,"zOrigin",Ut.zOrigin,Tt),fa(this,kr,Ke,fr(re),fr(de)));continue}if(Ke==="svgOrigin"){Sn(P,de,1,$t,0,this);continue}if(Ke in Qe){ps(this,Ut,Ke,Ce,de,Pn);continue}if(Ke==="smoothOrigin"){fa(this,Ut,"smooth",Ut.smooth,de);continue}if(Ke==="force3D"){Ut[Ke]=de;continue}if(Ke==="transform"){Ji(this,de,P);continue}}else Ke in kr||(Ke=$o(Ke)||Ke);if(vn||(ve||ve===0)&&(Ce||Ce===0)&&!al.test(de)&&Ke in kr)ve||(ve=0),(At=(re+"").substr((Ce+"").length))!==(Tt=Dr(de)||(Ke in at.units?at.units[Ke]:At))&&(Ce=pa(P,Ke,re,Tt)),this._pt=new St(this._pt,vn?Ut:kr,Ke,Ce,Pn?Pn*ve:ve-Ce,vn||Tt!=="px"&&Ke!=="zIndex"||D.autoRound===!1?ye:$a),this._pt.u=Tt||0,At!==Tt&&(this._pt.b=re,this._pt.r=ou);else if(Ke in kr)Cr.call(this,P,Ke,re,de);else{if(!(Ke in P)){Fr(Ke,de);continue}this.add(P,Ke,P[Ke],de,H,J)}zt.push(Ke)}}Mt&&Lt(this)},get:fs,aliases:hs,getSetter:function(P,D,N){var H=hs[D];return H&&H.indexOf(",")<0&&(D=H),D in qi&&D!==rs&&(P._gsap.x||fs(P,"x"))?N&&Do===N?D==="scale"?Bl:lu:(Do=N||{})&&(D==="scale"?uu:qr):P.style&&!Re(P.style[D])?ha:~D.indexOf("-")?ih:B(P,D)},core:{_removeProperty:Yo,_getMatrix:sn}};sr.utils.checkPrefix=$o,Ci=ji("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(Ks="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(P){qi[P]=1}),ji(Ks,function(P){at.units[P]="deg",Qe[P]=1}),hs[Ci[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Ks,ji("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(P){var D=P.split(":");hs[D[1]]=Ci[D[0]]}),ji("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(P){at.units[P]="px"}),sr.registerPlugin(Zo);var Ns=sr.registerPlugin(Zo)||sr,Es=Ns.core.Tween},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(6));else{var d=a.Zdog;d.PathCommand=c(d.Vector)}})(this,function(a){function c(m,b,_){this.method=m,this.points=b.map(d),this.renderPoints=b.map(f),this.previousPoint=_,this.endRenderPoint=this.renderPoints[this.renderPoints.length-1],m=="arc"&&(this.controlPoints=[new a,new a])}function d(m){return m instanceof a?m:new a(m)}function f(m){return new a(m)}return c.prototype.reset=function(){var m=this.points;this.renderPoints.forEach(function(b,_){var E=m[_];b.set(E)})},c.prototype.transform=function(m,b,_){this.renderPoints.forEach(function(E){E.transform(m,b,_)})},c.prototype.render=function(m,b,_){return this[this.method](m,b,_)},c.prototype.move=function(m,b,_){return _.move(m,b,this.renderPoints[0])},c.prototype.line=function(m,b,_){return _.line(m,b,this.renderPoints[0])},c.prototype.bezier=function(m,b,_){var E=this.renderPoints[0],C=this.renderPoints[1],k=this.renderPoints[2];return _.bezier(m,b,E,C,k)},c.prototype.arc=function(m,b,_){var E=this.previousPoint,C=this.renderPoints[0],k=this.renderPoints[1],V=this.controlPoints[0],q=this.controlPoints[1];return V.set(E).lerp(C,9/16),q.set(k).lerp(C,9/16),_.bezier(m,b,V,q,k)},c})},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(5));else{var d=a.Zdog;d.Ellipse=c(d.Shape)}})(this,function(a){var c=a.subclass({diameter:1,width:void 0,height:void 0,quarters:4,closed:!1});return c.prototype.setPath=function(){var d=(this.width!=null?this.width:this.diameter)/2,f=(this.height!=null?this.height:this.diameter)/2;this.path=[{x:0,y:-f},{arc:[{x:d,y:-f},{x:d,y:0}]}],this.quarters>1&&this.path.push({arc:[{x:d,y:f},{x:0,y:f}]}),this.quarters>2&&this.path.push({arc:[{x:-d,y:f},{x:-d,y:0}]}),this.quarters>3&&this.path.push({arc:[{x:-d,y:-f},{x:0,y:-f}]})},c})},function(O,r,n){n.r(r),n.d(r,"ACESFilmicToneMapping",function(){return lr}),n.d(r,"AddEquation",function(){return nt}),n.d(r,"AddOperation",function(){return yn}),n.d(r,"AdditiveAnimationBlendMode",function(){return $}),n.d(r,"AdditiveBlending",function(){return Te}),n.d(r,"AlphaFormat",function(){return to}),n.d(r,"AlwaysDepth",function(){return be}),n.d(r,"AlwaysStencilFunc",function(){return oi}),n.d(r,"AmbientLight",function(){return pb}),n.d(r,"AmbientLightProbe",function(){return mw}),n.d(r,"AnimationClip",function(){return Me}),n.d(r,"AnimationLoader",function(){return tr}),n.d(r,"AnimationMixer",function(){return yw}),n.d(r,"AnimationObjectGroup",function(){return FS}),n.d(r,"AnimationUtils",function(){return ks}),n.d(r,"ArcCurve",function(){return pr}),n.d(r,"ArrayCamera",function(){return tf}),n.d(r,"ArrowHelper",function(){return DT}),n.d(r,"Audio",function(){return gw}),n.d(r,"AudioAnalyser",function(){return NS}),n.d(r,"AudioContext",function(){return fw}),n.d(r,"AudioListener",function(){return fT}),n.d(r,"AudioLoader",function(){return bb}),n.d(r,"AxesHelper",function(){return JS}),n.d(r,"AxisHelper",function(){return fC}),n.d(r,"BackSide",function(){return Y}),n.d(r,"BasicDepthPacking",function(){return Q}),n.d(r,"BasicShadowMap",function(){return E}),n.d(r,"BinaryTextureLoader",function(){return yC}),n.d(r,"Bone",function(){return So}),n.d(r,"BooleanKeyframeTrack",function(){return s}),n.d(r,"BoundingBoxHelper",function(){return pC}),n.d(r,"Box2",function(){return jS}),n.d(r,"Box3",function(){return $a}),n.d(r,"Box3Helper",function(){return IT}),n.d(r,"BoxBufferGeometry",function(){return ka}),n.d(r,"BoxGeometry",function(){return Ei}),n.d(r,"BoxHelper",function(){return ZS}),n.d(r,"BufferAttribute",function(){return qn}),n.d(r,"BufferGeometry",function(){return Xn}),n.d(r,"BufferGeometryLoader",function(){return yb}),n.d(r,"ByteType",function(){return ia}),n.d(r,"Cache",function(){return yt}),n.d(r,"Camera",function(){return mu}),n.d(r,"CameraHelper",function(){return OT}),n.d(r,"CanvasRenderer",function(){return wC}),n.d(r,"CanvasTexture",function(){return pf}),n.d(r,"CatmullRomCurve3",function(){return dl}),n.d(r,"CineonToneMapping",function(){return ar}),n.d(r,"CircleBufferGeometry",function(){return Mo}),n.d(r,"CircleGeometry",function(){return fo}),n.d(r,"ClampToEdgeWrapping",function(){return Nr}),n.d(r,"Clock",function(){return RS}),n.d(r,"ClosedSplineCurve3",function(){return lE}),n.d(r,"Color",function(){return zt}),n.d(r,"ColorKeyframeTrack",function(){return u}),n.d(r,"CompressedTexture",function(){return id}),n.d(r,"CompressedTextureLoader",function(){return Xs}),n.d(r,"ConeBufferGeometry",function(){return Ao}),n.d(r,"ConeGeometry",function(){return sd}),n.d(r,"CubeCamera",function(){return yc}),n.d(r,"CubeGeometry",function(){return Ei}),n.d(r,"CubeReflectionMapping",function(){return wr}),n.d(r,"CubeRefractionMapping",function(){return _r}),n.d(r,"CubeTexture",function(){return Qs}),n.d(r,"CubeTextureLoader",function(){return qe}),n.d(r,"CubeUVReflectionMapping",function(){return di}),n.d(r,"CubeUVRefractionMapping",function(){return Or}),n.d(r,"CubicBezierCurve",function(){return Nc}),n.d(r,"CubicBezierCurve3",function(){return Sh}),n.d(r,"CubicInterpolant",function(){return Ig}),n.d(r,"CullFaceBack",function(){return m}),n.d(r,"CullFaceFront",function(){return b}),n.d(r,"CullFaceFrontBack",function(){return _}),n.d(r,"CullFaceNone",function(){return f}),n.d(r,"Curve",function(){return Vt}),n.d(r,"CurvePath",function(){return ad}),n.d(r,"CustomBlending",function(){return R}),n.d(r,"CustomToneMapping",function(){return Vn}),n.d(r,"CylinderBufferGeometry",function(){return po}),n.d(r,"CylinderGeometry",function(){return Ja}),n.d(r,"Cylindrical",function(){return AT}),n.d(r,"DataTexture",function(){return zi}),n.d(r,"DataTexture2DArray",function(){return lh}),n.d(r,"DataTexture3D",function(){return gu}),n.d(r,"DataTextureLoader",function(){return pt}),n.d(r,"DataUtils",function(){return zT}),n.d(r,"DecrementStencilOp",function(){return ft}),n.d(r,"DecrementWrapStencilOp",function(){return zn}),n.d(r,"DefaultLoadingManager",function(){return on}),n.d(r,"DepthFormat",function(){return Ys}),n.d(r,"DepthStencilFormat",function(){return ws}),n.d(r,"DepthTexture",function(){return mf}),n.d(r,"DirectionalLight",function(){return fb}),n.d(r,"DirectionalLightHelper",function(){return kT}),n.d(r,"DiscreteInterpolant",function(){return Ng}),n.d(r,"DodecahedronBufferGeometry",function(){return Ac}),n.d(r,"DodecahedronGeometry",function(){return kp}),n.d(r,"DoubleSide",function(){return Z}),n.d(r,"DstAlphaFactor",function(){return lt}),n.d(r,"DstColorFactor",function(){return ke}),n.d(r,"DynamicBufferAttribute",function(){return rC}),n.d(r,"DynamicCopyUsage",function(){return Fu}),n.d(r,"DynamicDrawUsage",function(){return Xa}),n.d(r,"DynamicReadUsage",function(){return su}),n.d(r,"EdgesGeometry",function(){return mh}),n.d(r,"EdgesHelper",function(){return mC}),n.d(r,"EllipseCurve",function(){return nr}),n.d(r,"EqualDepth",function(){return Re}),n.d(r,"EqualStencilFunc",function(){return Fi}),n.d(r,"EquirectangularReflectionMapping",function(){return Wn}),n.d(r,"EquirectangularRefractionMapping",function(){return Fr}),n.d(r,"Euler",function(){return sn}),n.d(r,"EventDispatcher",function(){return ns}),n.d(r,"ExtrudeBufferGeometry",function(){return xh}),n.d(r,"ExtrudeGeometry",function(){return L0}),n.d(r,"Face3",function(){return kr}),n.d(r,"Face4",function(){return UT}),n.d(r,"FaceColors",function(){return qT}),n.d(r,"FileLoader",function(){return Fn}),n.d(r,"FlatShading",function(){return W}),n.d(r,"Float16BufferAttribute",function(){return _l}),n.d(r,"Float32Attribute",function(){return hC}),n.d(r,"Float32BufferAttribute",function(){return Nn}),n.d(r,"Float64Attribute",function(){return dC}),n.d(r,"Float64BufferAttribute",function(){return lp}),n.d(r,"FloatType",function(){return Ls}),n.d(r,"Fog",function(){return vg}),n.d(r,"FogExp2",function(){return Ep}),n.d(r,"Font",function(){return hw}),n.d(r,"FontLoader",function(){return dw}),n.d(r,"FrontSide",function(){return q}),n.d(r,"Frustum",function(){return Yd}),n.d(r,"GLBufferAttribute",function(){return bw}),n.d(r,"GLSL1",function(){return cs}),n.d(r,"GLSL3",function(){return zo}),n.d(r,"GammaEncoding",function(){return bn}),n.d(r,"Geometry",function(){return ai}),n.d(r,"GeometryUtils",function(){return bC}),n.d(r,"GreaterDepth",function(){return Rn}),n.d(r,"GreaterEqualDepth",function(){return nn}),n.d(r,"GreaterEqualStencilFunc",function(){return Do}),n.d(r,"GreaterStencilFunc",function(){return si}),n.d(r,"GridHelper",function(){return XS}),n.d(r,"Group",function(){return Xu}),n.d(r,"HalfFloatType",function(){return $r}),n.d(r,"HemisphereLight",function(){return cb}),n.d(r,"HemisphereLightHelper",function(){return PT}),n.d(r,"HemisphereLightProbe",function(){return pw}),n.d(r,"IcosahedronBufferGeometry",function(){return Lg}),n.d(r,"IcosahedronGeometry",function(){return P0}),n.d(r,"ImageBitmapLoader",function(){return uw}),n.d(r,"ImageLoader",function(){return ht}),n.d(r,"ImageUtils",function(){return qi}),n.d(r,"ImmediateRenderObject",function(){return H0}),n.d(r,"IncrementStencilOp",function(){return St}),n.d(r,"IncrementWrapStencilOp",function(){return Et}),n.d(r,"InstancedBufferAttribute",function(){return vb}),n.d(r,"InstancedBufferGeometry",function(){return j0}),n.d(r,"InstancedInterleavedBuffer",function(){return xw}),n.d(r,"InstancedMesh",function(){return cf}),n.d(r,"Int16Attribute",function(){return aC}),n.d(r,"Int16BufferAttribute",function(){return Bu}),n.d(r,"Int32Attribute",function(){return uC}),n.d(r,"Int32BufferAttribute",function(){return Ko}),n.d(r,"Int8Attribute",function(){return iC}),n.d(r,"Int8BufferAttribute",function(){return ao}),n.d(r,"IntType",function(){return es}),n.d(r,"InterleavedBuffer",function(){return ms}),n.d(r,"InterleavedBufferAttribute",function(){return _c}),n.d(r,"Interpolant",function(){return ja}),n.d(r,"InterpolateDiscrete",function(){return Ss}),n.d(r,"InterpolateLinear",function(){return io}),n.d(r,"InterpolateSmooth",function(){return La}),n.d(r,"InvertStencilOp",function(){return sr}),n.d(r,"JSONLoader",function(){return _C}),n.d(r,"KeepStencilOp",function(){return tt}),n.d(r,"KeyframeTrack",function(){return To}),n.d(r,"LOD",function(){return Cl}),n.d(r,"LatheBufferGeometry",function(){return Lc}),n.d(r,"LatheGeometry",function(){return sb}),n.d(r,"Layers",function(){return fr}),n.d(r,"LensFlare",function(){return EC}),n.d(r,"LessDepth",function(){return It}),n.d(r,"LessEqualDepth",function(){return vt}),n.d(r,"LessEqualStencilFunc",function(){return Zs}),n.d(r,"LessStencilFunc",function(){return ci}),n.d(r,"Light",function(){return Bs}),n.d(r,"LightProbe",function(){return rc}),n.d(r,"Line",function(){return Ll}),n.d(r,"Line3",function(){return US}),n.d(r,"LineBasicMaterial",function(){return Rs}),n.d(r,"LineCurve",function(){return $l}),n.d(r,"LineCurve3",function(){return Dc}),n.d(r,"LineDashedMaterial",function(){return tc}),n.d(r,"LineLoop",function(){return Eo}),n.d(r,"LinePieces",function(){return VT}),n.d(r,"LineSegments",function(){return ga}),n.d(r,"LineStrip",function(){return GT}),n.d(r,"LinearEncoding",function(){return ct}),n.d(r,"LinearFilter",function(){return br}),n.d(r,"LinearInterpolant",function(){return Ic}),n.d(r,"LinearMipMapLinearFilter",function(){return ji}),n.d(r,"LinearMipMapNearestFilter",function(){return Mi}),n.d(r,"LinearMipmapLinearFilter",function(){return Hs}),n.d(r,"LinearMipmapNearestFilter",function(){return ii}),n.d(r,"LinearToneMapping",function(){return $e}),n.d(r,"Loader",function(){return kt}),n.d(r,"LoaderUtils",function(){return lw}),n.d(r,"LoadingManager",function(){return tn}),n.d(r,"LogLuvEncoding",function(){return x}),n.d(r,"LoopOnce",function(){return _s}),n.d(r,"LoopPingPong",function(){return No}),n.d(r,"LoopRepeat",function(){return ro}),n.d(r,"LuminanceAlphaFormat",function(){return ls}),n.d(r,"LuminanceFormat",function(){return Zi}),n.d(r,"MOUSE",function(){return c}),n.d(r,"Material",function(){return gn}),n.d(r,"MaterialLoader",function(){return gb}),n.d(r,"Math",function(){return An}),n.d(r,"MathUtils",function(){return An}),n.d(r,"Matrix3",function(){return Ui}),n.d(r,"Matrix4",function(){return Cr}),n.d(r,"MaxEquation",function(){return rt}),n.d(r,"Mesh",function(){return is}),n.d(r,"MeshBasicMaterial",function(){return Si}),n.d(r,"MeshDepthMaterial",function(){return vu}),n.d(r,"MeshDistanceMaterial",function(){return wc}),n.d(r,"MeshFaceMaterial",function(){return $T}),n.d(r,"MeshLambertMaterial",function(){return ec}),n.d(r,"MeshMatcapMaterial",function(){return Oc}),n.d(r,"MeshNormalMaterial",function(){return kc}),n.d(r,"MeshPhongMaterial",function(){return wh}),n.d(r,"MeshPhysicalMaterial",function(){return Qu}),n.d(r,"MeshStandardMaterial",function(){return bu}),n.d(r,"MeshToonMaterial",function(){return _h}),n.d(r,"MinEquation",function(){return Ze}),n.d(r,"MirroredRepeatWrapping",function(){return Ln}),n.d(r,"MixOperation",function(){return xn}),n.d(r,"MultiMaterial",function(){return YT}),n.d(r,"MultiplyBlending",function(){return Fe}),n.d(r,"MultiplyOperation",function(){return pn}),n.d(r,"NearestFilter",function(){return er}),n.d(r,"NearestMipMapLinearFilter",function(){return Yi}),n.d(r,"NearestMipMapNearestFilter",function(){return yi}),n.d(r,"NearestMipmapLinearFilter",function(){return $i}),n.d(r,"NearestMipmapNearestFilter",function(){return Ir}),n.d(r,"NeverDepth",function(){return Gt}),n.d(r,"NeverStencilFunc",function(){return Un}),n.d(r,"NoBlending",function(){return le}),n.d(r,"NoColors",function(){return WT}),n.d(r,"NoToneMapping",function(){return Jt}),n.d(r,"NormalAnimationBlendMode",function(){return ua}),n.d(r,"NormalBlending",function(){return ce}),n.d(r,"NotEqualDepth",function(){return xr}),n.d(r,"NotEqualStencilFunc",function(){return Sr}),n.d(r,"NumberKeyframeTrack",function(){return p}),n.d(r,"Object3D",function(){return N}),n.d(r,"ObjectLoader",function(){return uT}),n.d(r,"ObjectSpaceNormalMap",function(){return Oe}),n.d(r,"OctahedronBufferGeometry",function(){return Pc}),n.d(r,"OctahedronGeometry",function(){return R0}),n.d(r,"OneFactor",function(){return xt}),n.d(r,"OneMinusDstAlphaFactor",function(){return Ee}),n.d(r,"OneMinusDstColorFactor",function(){return it}),n.d(r,"OneMinusSrcAlphaFactor",function(){return te}),n.d(r,"OneMinusSrcColorFactor",function(){return at}),n.d(r,"OrthographicCamera",function(){return Dg}),n.d(r,"PCFShadowMap",function(){return C}),n.d(r,"PCFSoftShadowMap",function(){return k}),n.d(r,"PMREMGenerator",function(){return BT}),n.d(r,"ParametricBufferGeometry",function(){return gs}),n.d(r,"ParametricGeometry",function(){return Np}),n.d(r,"Particle",function(){return KT}),n.d(r,"ParticleBasicMaterial",function(){return eC}),n.d(r,"ParticleSystem",function(){return JT}),n.d(r,"ParticleSystemMaterial",function(){return tC}),n.d(r,"Path",function(){return Bc}),n.d(r,"PerspectiveCamera",function(){return Js}),n.d(r,"Plane",function(){return de}),n.d(r,"PlaneBufferGeometry",function(){return dp}),n.d(r,"PlaneGeometry",function(){return k0}),n.d(r,"PlaneHelper",function(){return NT}),n.d(r,"PointCloud",function(){return ZT}),n.d(r,"PointCloudMaterial",function(){return QT}),n.d(r,"PointLight",function(){return db}),n.d(r,"PointLightHelper",function(){return CT}),n.d(r,"Points",function(){return rd}),n.d(r,"PointsMaterial",function(){return ho}),n.d(r,"PolarGridHelper",function(){return RT}),n.d(r,"PolyhedronBufferGeometry",function(){return yu}),n.d(r,"PolyhedronGeometry",function(){return ob}),n.d(r,"PositionalAudio",function(){return mT}),n.d(r,"PropertyBinding",function(){return fl}),n.d(r,"PropertyMixer",function(){return vw}),n.d(r,"QuadraticBezierCurve",function(){return Fc}),n.d(r,"QuadraticBezierCurve3",function(){return Eh}),n.d(r,"Quaternion",function(){return hs}),n.d(r,"QuaternionKeyframeTrack",function(){return z}),n.d(r,"QuaternionLinearInterpolant",function(){return M}),n.d(r,"REVISION",function(){return a}),n.d(r,"RGBADepthPacking",function(){return ae}),n.d(r,"RGBAFormat",function(){return fi}),n.d(r,"RGBAIntegerFormat",function(){return hn}),n.d(r,"RGBA_ASTC_10x10_Format",function(){return iu}),n.d(r,"RGBA_ASTC_10x5_Format",function(){return Us}),n.d(r,"RGBA_ASTC_10x6_Format",function(){return Ai}),n.d(r,"RGBA_ASTC_10x8_Format",function(){return oa}),n.d(r,"RGBA_ASTC_12x10_Format",function(){return Gs}),n.d(r,"RGBA_ASTC_12x12_Format",function(){return ko}),n.d(r,"RGBA_ASTC_4x4_Format",function(){return Br}),n.d(r,"RGBA_ASTC_5x4_Format",function(){return Kr}),n.d(r,"RGBA_ASTC_5x5_Format",function(){return xi}),n.d(r,"RGBA_ASTC_6x5_Format",function(){return Vi}),n.d(r,"RGBA_ASTC_6x6_Format",function(){return ts}),n.d(r,"RGBA_ASTC_8x5_Format",function(){return Ro}),n.d(r,"RGBA_ASTC_8x6_Format",function(){return _o}),n.d(r,"RGBA_ASTC_8x8_Format",function(){return Di}),n.d(r,"RGBA_BPTC_Format",function(){return Ta}),n.d(r,"RGBA_ETC2_EAC_Format",function(){return Pr}),n.d(r,"RGBA_PVRTC_2BPPV1_Format",function(){return Zr}),n.d(r,"RGBA_PVRTC_4BPPV1_Format",function(){return Dr}),n.d(r,"RGBA_S3TC_DXT1_Format",function(){return Zn}),n.d(r,"RGBA_S3TC_DXT3_Format",function(){return Yr}),n.d(r,"RGBA_S3TC_DXT5_Format",function(){return _n}),n.d(r,"RGBDEncoding",function(){return U}),n.d(r,"RGBEEncoding",function(){return rr}),n.d(r,"RGBEFormat",function(){return Fl}),n.d(r,"RGBFormat",function(){return bs}),n.d(r,"RGBIntegerFormat",function(){return qt}),n.d(r,"RGBM16Encoding",function(){return B}),n.d(r,"RGBM7Encoding",function(){return A}),n.d(r,"RGB_ETC1_Format",function(){return zr}),n.d(r,"RGB_ETC2_Format",function(){return dr}),n.d(r,"RGB_PVRTC_2BPPV1_Format",function(){return ei}),n.d(r,"RGB_PVRTC_4BPPV1_Format",function(){return Er}),n.d(r,"RGB_S3TC_DXT1_Format",function(){return un}),n.d(r,"RGFormat",function(){return je}),n.d(r,"RGIntegerFormat",function(){return Je}),n.d(r,"RawShaderMaterial",function(){return Xl}),n.d(r,"Ray",function(){return fs}),n.d(r,"Raycaster",function(){return ww}),n.d(r,"RectAreaLight",function(){return mb}),n.d(r,"RedFormat",function(){return Be}),n.d(r,"RedIntegerFormat",function(){return gt}),n.d(r,"ReinhardToneMapping",function(){return Jn}),n.d(r,"RepeatWrapping",function(){return vi}),n.d(r,"ReplaceStencilOp",function(){return Lt}),n.d(r,"ReverseSubtractEquation",function(){return wt}),n.d(r,"RingBufferGeometry",function(){return O0}),n.d(r,"RingGeometry",function(){return I0}),n.d(r,"SRGB8_ALPHA8_ASTC_10x10_Format",function(){return la}),n.d(r,"SRGB8_ALPHA8_ASTC_10x5_Format",function(){return qo}),n.d(r,"SRGB8_ALPHA8_ASTC_10x6_Format",function(){return Ca}),n.d(r,"SRGB8_ALPHA8_ASTC_10x8_Format",function(){return aa}),n.d(r,"SRGB8_ALPHA8_ASTC_12x10_Format",function(){return no}),n.d(r,"SRGB8_ALPHA8_ASTC_12x12_Format",function(){return us}),n.d(r,"SRGB8_ALPHA8_ASTC_4x4_Format",function(){return qa}),n.d(r,"SRGB8_ALPHA8_ASTC_5x4_Format",function(){return Wo}),n.d(r,"SRGB8_ALPHA8_ASTC_5x5_Format",function(){return Oo}),n.d(r,"SRGB8_ALPHA8_ASTC_6x5_Format",function(){return Wr}),n.d(r,"SRGB8_ALPHA8_ASTC_6x6_Format",function(){return ol}),n.d(r,"SRGB8_ALPHA8_ASTC_8x5_Format",function(){return Os}),n.d(r,"SRGB8_ALPHA8_ASTC_8x6_Format",function(){return Io}),n.d(r,"SRGB8_ALPHA8_ASTC_8x8_Format",function(){return Lr}),n.d(r,"Scene",function(){return Da}),n.d(r,"SceneUtils",function(){return SC}),n.d(r,"ShaderChunk",function(){return Jr}),n.d(r,"ShaderLib",function(){return Ia}),n.d(r,"ShaderMaterial",function(){return uo}),n.d(r,"ShadowMaterial",function(){return Ju}),n.d(r,"Shape",function(){return Ef}),n.d(r,"ShapeBufferGeometry",function(){return Pg}),n.d(r,"ShapeGeometry",function(){return N0}),n.d(r,"ShapePath",function(){return cw}),n.d(r,"ShapeUtils",function(){return Ku}),n.d(r,"ShortType",function(){return as}),n.d(r,"Skeleton",function(){return fh}),n.d(r,"SkeletonHelper",function(){return VS}),n.d(r,"SkinnedMesh",function(){return Ec}),n.d(r,"SmoothShading",function(){return ne}),n.d(r,"Sphere",function(){return da}),n.d(r,"SphereBufferGeometry",function(){return Qa}),n.d(r,"SphereGeometry",function(){return Rg}),n.d(r,"Spherical",function(){return MT}),n.d(r,"SphericalHarmonics3",function(){return MS}),n.d(r,"Spline",function(){return Lw}),n.d(r,"SplineCurve",function(){return zc}),n.d(r,"SplineCurve3",function(){return uE}),n.d(r,"SpotLight",function(){return hb}),n.d(r,"SpotLightHelper",function(){return TT}),n.d(r,"Sprite",function(){return lf}),n.d(r,"SpriteMaterial",function(){return Sc}),n.d(r,"SrcAlphaFactor",function(){return Ge}),n.d(r,"SrcAlphaSaturateFactor",function(){return Ct}),n.d(r,"SrcColorFactor",function(){return We}),n.d(r,"StaticCopyUsage",function(){return Fo}),n.d(r,"StaticDrawUsage",function(){return Oi}),n.d(r,"StaticReadUsage",function(){return ca}),n.d(r,"StereoCamera",function(){return PS}),n.d(r,"StreamCopyUsage",function(){return Pa}),n.d(r,"StreamDrawUsage",function(){return nh}),n.d(r,"StreamReadUsage",function(){return Du}),n.d(r,"StringKeyframeTrack",function(){return G}),n.d(r,"SubtractEquation",function(){return dt}),n.d(r,"SubtractiveBlending",function(){return we}),n.d(r,"TOUCH",function(){return d}),n.d(r,"TangentSpaceNormalMap",function(){return he}),n.d(r,"TetrahedronBufferGeometry",function(){return D0}),n.d(r,"TetrahedronGeometry",function(){return Rc}),n.d(r,"TextBufferGeometry",function(){return _f}),n.d(r,"TextGeometry",function(){return bh}),n.d(r,"Texture",function(){return ti}),n.d(r,"TextureLoader",function(){return cn}),n.d(r,"TorusBufferGeometry",function(){return Sf}),n.d(r,"TorusGeometry",function(){return kg}),n.d(r,"TorusKnotBufferGeometry",function(){return Dp}),n.d(r,"TorusKnotGeometry",function(){return ab}),n.d(r,"Triangle",function(){return Ut}),n.d(r,"TriangleFanDrawMode",function(){return Ye}),n.d(r,"TriangleStripDrawMode",function(){return ge}),n.d(r,"TrianglesDrawMode",function(){return ie}),n.d(r,"TubeBufferGeometry",function(){return Fp}),n.d(r,"TubeGeometry",function(){return lb}),n.d(r,"UVMapping",function(){return ur}),n.d(r,"Uint16Attribute",function(){return lC}),n.d(r,"Uint16BufferAttribute",function(){return ll}),n.d(r,"Uint32Attribute",function(){return cC}),n.d(r,"Uint32BufferAttribute",function(){return fu}),n.d(r,"Uint8Attribute",function(){return sC}),n.d(r,"Uint8BufferAttribute",function(){return jo}),n.d(r,"Uint8ClampedAttribute",function(){return oC}),n.d(r,"Uint8ClampedBufferAttribute",function(){return Ds}),n.d(r,"Uniform",function(){return wb}),n.d(r,"UniformsLib",function(){return Dn}),n.d(r,"UniformsUtils",function(){return Uu}),n.d(r,"UnsignedByteType",function(){return ir}),n.d(r,"UnsignedInt248Type",function(){return wo}),n.d(r,"UnsignedIntType",function(){return Cs}),n.d(r,"UnsignedShort4444Type",function(){return Aa}),n.d(r,"UnsignedShort5551Type",function(){return sa}),n.d(r,"UnsignedShort565Type",function(){return bo}),n.d(r,"UnsignedShortType",function(){return Hi}),n.d(r,"VSMShadowMap",function(){return V}),n.d(r,"Vector2",function(){return Ot}),n.d(r,"Vector3",function(){return ye}),n.d(r,"Vector4",function(){return Ii}),n.d(r,"VectorKeyframeTrack",function(){return oe}),n.d(r,"Vertex",function(){return nC}),n.d(r,"VertexColors",function(){return XT}),n.d(r,"VideoTexture",function(){return A0}),n.d(r,"WebGL1Renderer",function(){return gg}),n.d(r,"WebGLCubeRenderTarget",function(){return co}),n.d(r,"WebGLMultisampleRenderTarget",function(){return al}),n.d(r,"WebGLRenderTarget",function(){return Bo}),n.d(r,"WebGLRenderTargetCube",function(){return xC}),n.d(r,"WebGLRenderer",function(){return nf}),n.d(r,"WebGLUtils",function(){return Qh}),n.d(r,"WireframeGeometry",function(){return Og}),n.d(r,"WireframeHelper",function(){return gC}),n.d(r,"WrapAroundEnding",function(){return wl}),n.d(r,"XHRLoader",function(){return vC}),n.d(r,"ZeroCurvatureEnding",function(){return Ti}),n.d(r,"ZeroFactor",function(){return ot}),n.d(r,"ZeroSlopeEnding",function(){return so}),n.d(r,"ZeroStencilOp",function(){return ze}),n.d(r,"sRGBEncoding",function(){return Rt});const a="124",c={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},d={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},f=0,m=1,b=2,_=3,E=0,C=1,k=2,V=3,q=0,Y=1,Z=2,W=1,ne=2,le=0,ce=1,Te=2,we=3,Fe=4,R=5,nt=100,dt=101,wt=102,Ze=103,rt=104,ot=200,xt=201,We=202,at=203,Ge=204,te=205,lt=206,Ee=207,ke=208,it=209,Ct=210,Gt=0,be=1,It=2,vt=3,Re=4,nn=5,Rn=6,xr=7,pn=0,xn=1,yn=2,Jt=0,$e=1,Jn=2,ar=3,lr=4,Vn=5,ur=300,wr=301,_r=302,Wn=303,Fr=304,di=306,Or=307,vi=1e3,Nr=1001,Ln=1002,er=1003,Ir=1004,yi=1004,$i=1005,Yi=1005,br=1006,ii=1007,Mi=1007,Hs=1008,ji=1008,ir=1009,ia=1010,as=1011,Hi=1012,es=1013,Cs=1014,Ls=1015,$r=1016,Aa=1017,sa=1018,bo=1019,wo=1020,to=1021,bs=1022,fi=1023,Zi=1024,ls=1025,Fl=fi,Ys=1026,ws=1027,Be=1028,gt=1029,je=1030,Je=1031,qt=1032,hn=1033,un=33776,Zn=33777,Yr=33778,_n=33779,Er=35840,ei=35841,Dr=35842,Zr=35843,zr=36196,dr=37492,Pr=37496,Br=37808,Kr=37809,xi=37810,Vi=37811,ts=37812,Ro=37813,_o=37814,Di=37815,Us=37816,Ai=37817,oa=37818,iu=37819,Gs=37820,ko=37821,Ta=36492,qa=37840,Wo=37841,Oo=37842,Wr=37843,ol=37844,Os=37845,Io=37846,Lr=37847,qo=37848,Ca=37849,aa=37850,la=37851,no=37852,us=37853,_s=2200,ro=2201,No=2202,Ss=2300,io=2301,La=2302,Ti=2400,so=2401,wl=2402,ua=2500,$=2501,ie=0,ge=1,Ye=2,ct=3e3,Rt=3001,bn=3007,rr=3002,x=3003,A=3004,B=3005,U=3006,Q=3200,ae=3201,he=0,Oe=1,ze=0,tt=7680,Lt=7681,St=7682,ft=7683,Et=34055,zn=34056,sr=5386,Un=512,ci=513,Fi=514,Zs=515,si=516,Sr=517,Do=518,oi=519,Oi=35044,Xa=35048,nh=35040,ca=35045,su=35049,Du=35041,Fo=35046,Fu=35050,Pa=35042,cs="100",zo="300 es";function ns(){}Object.assign(ns.prototype,{addEventListener:function(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)},hasEventListener:function(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1},removeEventListener:function(t,e){if(this._listeners===void 0)return;const i=this._listeners[t];if(i!==void 0){const o=i.indexOf(e);o!==-1&&i.splice(o,1)}},dispatchEvent:function(t){if(this._listeners===void 0)return;const e=this._listeners[t.type];if(e!==void 0){t.target=this;const i=e.slice(0);for(let o=0,l=i.length;o<l;o++)i[o].call(this,t)}}});const Wi=[];for(let t=0;t<256;t++)Wi[t]=(t<16?"0":"")+t.toString(16);let Tr=1234567;const An={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return(Wi[255&t]+Wi[t>>8&255]+Wi[t>>16&255]+Wi[t>>24&255]+"-"+Wi[255&e]+Wi[e>>8&255]+"-"+Wi[e>>16&15|64]+Wi[e>>24&255]+"-"+Wi[63&i|128]+Wi[i>>8&255]+"-"+Wi[i>>16&255]+Wi[i>>24&255]+Wi[255&o]+Wi[o>>8&255]+Wi[o>>16&255]+Wi[o>>24&255]).toUpperCase()},clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,o,l){return o+(t-e)*(l-o)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return t!==void 0&&(Tr=t%2147483647),Tr=16807*Tr%2147483647,(Tr-1)/2147483646},degToRad:function(t){return t*An.DEG2RAD},radToDeg:function(t){return t*An.RAD2DEG},isPowerOfTwo:function(t){return(t&t-1)==0&&t!==0},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,i,o,l){const h=Math.cos,g=Math.sin,v=h(i/2),w=g(i/2),S=h((e+o)/2),L=g((e+o)/2),T=h((e-o)/2),I=g((e-o)/2),F=h((o-e)/2),j=g((o-e)/2);switch(l){case"XYX":t.set(v*L,w*T,w*I,v*S);break;case"YZY":t.set(w*I,v*L,w*T,v*S);break;case"ZXZ":t.set(w*T,w*I,v*L,v*S);break;case"XZX":t.set(v*L,w*j,w*F,v*S);break;case"YXY":t.set(w*F,v*L,w*j,v*S);break;case"ZYZ":t.set(w*j,w*F,v*L,v*S);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+l)}}};class Ot{constructor(e=0,i=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=i}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,i){return this.x=e,this.y=i,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,i){return i!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,i)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this}sub(e,i){return i!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,i)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const i=this.x,o=this.y,l=e.elements;return this.x=l[0]*i+l[3]*o+l[6],this.y=l[1]*i+l[4]*o+l[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this}clampLength(e,i){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(i,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,o=this.y-e.y;return i*i+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this}lerpVectors(e,i,o){return this.x=e.x+(i.x-e.x)*o,this.y=e.y+(i.y-e.y)*o,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e}fromBufferAttribute(e,i,o){return o!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(i),this.y=e.getY(i),this}rotateAround(e,i){const o=Math.cos(i),l=Math.sin(i),h=this.x-e.x,g=this.y-e.y;return this.x=h*o-g*l+e.x,this.y=h*l+g*o+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class Ui{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,i,o,l,h,g,v,w,S){const L=this.elements;return L[0]=e,L[1]=l,L[2]=v,L[3]=i,L[4]=h,L[5]=w,L[6]=o,L[7]=g,L[8]=S,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return new this.constructor().fromArray(this.elements)}copy(e){const i=this.elements,o=e.elements;return i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[3],i[4]=o[4],i[5]=o[5],i[6]=o[6],i[7]=o[7],i[8]=o[8],this}extractBasis(e,i,o){return e.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const i=e.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const o=e.elements,l=i.elements,h=this.elements,g=o[0],v=o[3],w=o[6],S=o[1],L=o[4],T=o[7],I=o[2],F=o[5],j=o[8],K=l[0],X=l[3],ee=l[6],me=l[1],xe=l[4],_e=l[7],Se=l[2],Ne=l[5],Ae=l[8];return h[0]=g*K+v*me+w*Se,h[3]=g*X+v*xe+w*Ne,h[6]=g*ee+v*_e+w*Ae,h[1]=S*K+L*me+T*Se,h[4]=S*X+L*xe+T*Ne,h[7]=S*ee+L*_e+T*Ae,h[2]=I*K+F*me+j*Se,h[5]=I*X+F*xe+j*Ne,h[8]=I*ee+F*_e+j*Ae,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=e,i[4]*=e,i[7]*=e,i[2]*=e,i[5]*=e,i[8]*=e,this}determinant(){const e=this.elements,i=e[0],o=e[1],l=e[2],h=e[3],g=e[4],v=e[5],w=e[6],S=e[7],L=e[8];return i*g*L-i*v*S-o*h*L+o*v*w+l*h*S-l*g*w}invert(){const e=this.elements,i=e[0],o=e[1],l=e[2],h=e[3],g=e[4],v=e[5],w=e[6],S=e[7],L=e[8],T=L*g-v*S,I=v*w-L*h,F=S*h-g*w,j=i*T+o*I+l*F;if(j===0)return this.set(0,0,0,0,0,0,0,0,0);const K=1/j;return e[0]=T*K,e[1]=(l*S-L*o)*K,e[2]=(v*o-l*g)*K,e[3]=I*K,e[4]=(L*i-l*w)*K,e[5]=(l*h-v*i)*K,e[6]=F*K,e[7]=(o*w-S*i)*K,e[8]=(g*i-o*h)*K,this}transpose(){let e;const i=this.elements;return e=i[1],i[1]=i[3],i[3]=e,e=i[2],i[2]=i[6],i[6]=e,e=i[5],i[5]=i[7],i[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).copy(this).invert().transpose()}transposeIntoArray(e){const i=this.elements;return e[0]=i[0],e[1]=i[3],e[2]=i[6],e[3]=i[1],e[4]=i[4],e[5]=i[7],e[6]=i[2],e[7]=i[5],e[8]=i[8],this}setUvTransform(e,i,o,l,h,g,v){const w=Math.cos(h),S=Math.sin(h);return this.set(o*w,o*S,-o*(w*g+S*v)+g+e,-l*S,l*w,-l*(-S*g+w*v)+v+i,0,0,1),this}scale(e,i){const o=this.elements;return o[0]*=e,o[3]*=e,o[6]*=e,o[1]*=i,o[4]*=i,o[7]*=i,this}rotate(e){const i=Math.cos(e),o=Math.sin(e),l=this.elements,h=l[0],g=l[3],v=l[6],w=l[1],S=l[4],L=l[7];return l[0]=i*h+o*w,l[3]=i*g+o*S,l[6]=i*v+o*L,l[1]=-o*h+i*w,l[4]=-o*g+i*S,l[7]=-o*v+i*L,this}translate(e,i){const o=this.elements;return o[0]+=e*o[2],o[3]+=e*o[5],o[6]+=e*o[8],o[1]+=i*o[2],o[4]+=i*o[5],o[7]+=i*o[8],this}equals(e){const i=this.elements,o=e.elements;for(let l=0;l<9;l++)if(i[l]!==o[l])return!1;return!0}fromArray(e,i=0){for(let o=0;o<9;o++)this.elements[o]=e[o+i];return this}toArray(e=[],i=0){const o=this.elements;return e[i]=o[0],e[i+1]=o[1],e[i+2]=o[2],e[i+3]=o[3],e[i+4]=o[4],e[i+5]=o[5],e[i+6]=o[6],e[i+7]=o[7],e[i+8]=o[8],e}}let Ki;const qi={getDataURL:function(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{Ki===void 0&&(Ki=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Ki.width=t.width,Ki.height=t.height;const i=Ki.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=Ki}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let Ra=0;function ti(t=ti.DEFAULT_IMAGE,e=ti.DEFAULT_MAPPING,i=Nr,o=Nr,l=br,h=Hs,g=fi,v=ir,w=1,S=ct){Object.defineProperty(this,"id",{value:Ra++}),this.uuid=An.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=i,this.wrapT=o,this.magFilter=l,this.minFilter=h,this.anisotropy=w,this.format=g,this.internalFormat=null,this.type=v,this.offset=new Ot(0,0),this.repeat=new Ot(1,1),this.center=new Ot(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ui,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=S,this.version=0,this.onUpdate=null}function zl(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?qi.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}ti.DEFAULT_IMAGE=void 0,ti.DEFAULT_MAPPING=ur,ti.prototype=Object.assign(Object.create(ns.prototype),{constructor:ti,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const o=this.image;if(o.uuid===void 0&&(o.uuid=An.generateUUID()),!e&&t.images[o.uuid]===void 0){let l;if(Array.isArray(o)){l=[];for(let h=0,g=o.length;h<g;h++)o[h].isDataTexture?l.push(zl(o[h].image)):l.push(zl(o[h]))}else l=zl(o);t.images[o.uuid]={uuid:o.uuid,url:l}}i.image=o.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==ur)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case vi:t.x=t.x-Math.floor(t.x);break;case Nr:t.x=t.x<0?0:1;break;case Ln:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case vi:t.y=t.y-Math.floor(t.y);break;case Nr:t.y=t.y<0?0:1;break;case Ln:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(ti.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});class Ii{constructor(e=0,i=0,o=0,l=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=i,this.z=o,this.w=l}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,i,o,l){return this.x=e,this.y=i,this.z=o,this.w=l,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,i){return i!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,i)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this.w=e.w+i.w,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this.w+=e.w*i,this}sub(e,i){return i!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,i)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this.w=e.w-i.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const i=this.x,o=this.y,l=this.z,h=this.w,g=e.elements;return this.x=g[0]*i+g[4]*o+g[8]*l+g[12]*h,this.y=g[1]*i+g[5]*o+g[9]*l+g[13]*h,this.z=g[2]*i+g[6]*o+g[10]*l+g[14]*h,this.w=g[3]*i+g[7]*o+g[11]*l+g[15]*h,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const i=Math.sqrt(1-e.w*e.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/i,this.y=e.y/i,this.z=e.z/i),this}setAxisAngleFromRotationMatrix(e){let i,o,l,h;const g=e.elements,v=g[0],w=g[4],S=g[8],L=g[1],T=g[5],I=g[9],F=g[2],j=g[6],K=g[10];if(Math.abs(w-L)<.01&&Math.abs(S-F)<.01&&Math.abs(I-j)<.01){if(Math.abs(w+L)<.1&&Math.abs(S+F)<.1&&Math.abs(I+j)<.1&&Math.abs(v+T+K-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;const ee=(v+1)/2,me=(T+1)/2,xe=(K+1)/2,_e=(w+L)/4,Se=(S+F)/4,Ne=(I+j)/4;return ee>me&&ee>xe?ee<.01?(o=0,l=.707106781,h=.707106781):(o=Math.sqrt(ee),l=_e/o,h=Se/o):me>xe?me<.01?(o=.707106781,l=0,h=.707106781):(l=Math.sqrt(me),o=_e/l,h=Ne/l):xe<.01?(o=.707106781,l=.707106781,h=0):(h=Math.sqrt(xe),o=Se/h,l=Ne/h),this.set(o,l,h,i),this}let X=Math.sqrt((j-I)*(j-I)+(S-F)*(S-F)+(L-w)*(L-w));return Math.abs(X)<.001&&(X=1),this.x=(j-I)/X,this.y=(S-F)/X,this.z=(L-w)/X,this.w=Math.acos((v+T+K-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this.z=Math.max(e.z,Math.min(i.z,this.z)),this.w=Math.max(e.w,Math.min(i.w,this.w)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this.z=Math.max(e,Math.min(i,this.z)),this.w=Math.max(e,Math.min(i,this.w)),this}clampLength(e,i){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(i,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this.w+=(e.w-this.w)*i,this}lerpVectors(e,i,o){return this.x=e.x+(i.x-e.x)*o,this.y=e.y+(i.y-e.y)*o,this.z=e.z+(i.z-e.z)*o,this.w=e.w+(i.w-e.w)*o,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this.w=e[i+3],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e[i+3]=this.w,e}fromBufferAttribute(e,i,o){return o!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this.w=e.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function Bo(t,e,i){this.width=t,this.height=e,this.scissor=new Ii(0,0,t,e),this.scissorTest=!1,this.viewport=new Ii(0,0,t,e),i=i||{},this.texture=new ti(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=i.generateMipmaps!==void 0&&i.generateMipmaps,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:br,this.depthBuffer=i.depthBuffer===void 0||i.depthBuffer,this.stencilBuffer=i.stencilBuffer!==void 0&&i.stencilBuffer,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}function al(t,e,i){Bo.call(this,t,e,i),this.samples=4}Bo.prototype=Object.assign(Object.create(ns.prototype),{constructor:Bo,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),al.prototype=Object.assign(Object.create(Bo.prototype),{constructor:al,isWebGLMultisampleRenderTarget:!0,copy:function(t){return Bo.prototype.copy.call(this,t),this.samples=t.samples,this}});class hs{constructor(e=0,i=0,o=0,l=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=i,this._z=o,this._w=l}static slerp(e,i,o,l){return o.copy(e).slerp(i,l)}static slerpFlat(e,i,o,l,h,g,v){let w=o[l+0],S=o[l+1],L=o[l+2],T=o[l+3];const I=h[g+0],F=h[g+1],j=h[g+2],K=h[g+3];if(T!==K||w!==I||S!==F||L!==j){let X=1-v;const ee=w*I+S*F+L*j+T*K,me=ee>=0?1:-1,xe=1-ee*ee;if(xe>Number.EPSILON){const Se=Math.sqrt(xe),Ne=Math.atan2(Se,ee*me);X=Math.sin(X*Ne)/Se,v=Math.sin(v*Ne)/Se}const _e=v*me;if(w=w*X+I*_e,S=S*X+F*_e,L=L*X+j*_e,T=T*X+K*_e,X===1-v){const Se=1/Math.sqrt(w*w+S*S+L*L+T*T);w*=Se,S*=Se,L*=Se,T*=Se}}e[i]=w,e[i+1]=S,e[i+2]=L,e[i+3]=T}static multiplyQuaternionsFlat(e,i,o,l,h,g){const v=o[l],w=o[l+1],S=o[l+2],L=o[l+3],T=h[g],I=h[g+1],F=h[g+2],j=h[g+3];return e[i]=v*j+L*T+w*F-S*I,e[i+1]=w*j+L*I+S*T-v*F,e[i+2]=S*j+L*F+v*I-w*T,e[i+3]=L*j-v*T-w*I-S*F,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,i,o,l){return this._x=e,this._y=i,this._z=o,this._w=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,i){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const o=e._x,l=e._y,h=e._z,g=e._order,v=Math.cos,w=Math.sin,S=v(o/2),L=v(l/2),T=v(h/2),I=w(o/2),F=w(l/2),j=w(h/2);switch(g){case"XYZ":this._x=I*L*T+S*F*j,this._y=S*F*T-I*L*j,this._z=S*L*j+I*F*T,this._w=S*L*T-I*F*j;break;case"YXZ":this._x=I*L*T+S*F*j,this._y=S*F*T-I*L*j,this._z=S*L*j-I*F*T,this._w=S*L*T+I*F*j;break;case"ZXY":this._x=I*L*T-S*F*j,this._y=S*F*T+I*L*j,this._z=S*L*j+I*F*T,this._w=S*L*T-I*F*j;break;case"ZYX":this._x=I*L*T-S*F*j,this._y=S*F*T+I*L*j,this._z=S*L*j-I*F*T,this._w=S*L*T+I*F*j;break;case"YZX":this._x=I*L*T+S*F*j,this._y=S*F*T+I*L*j,this._z=S*L*j-I*F*T,this._w=S*L*T-I*F*j;break;case"XZY":this._x=I*L*T-S*F*j,this._y=S*F*T-I*L*j,this._z=S*L*j+I*F*T,this._w=S*L*T+I*F*j;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+g)}return i!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,i){const o=i/2,l=Math.sin(o);return this._x=e.x*l,this._y=e.y*l,this._z=e.z*l,this._w=Math.cos(o),this._onChangeCallback(),this}setFromRotationMatrix(e){const i=e.elements,o=i[0],l=i[4],h=i[8],g=i[1],v=i[5],w=i[9],S=i[2],L=i[6],T=i[10],I=o+v+T;if(I>0){const F=.5/Math.sqrt(I+1);this._w=.25/F,this._x=(L-w)*F,this._y=(h-S)*F,this._z=(g-l)*F}else if(o>v&&o>T){const F=2*Math.sqrt(1+o-v-T);this._w=(L-w)/F,this._x=.25*F,this._y=(l+g)/F,this._z=(h+S)/F}else if(v>T){const F=2*Math.sqrt(1+v-o-T);this._w=(h-S)/F,this._x=(l+g)/F,this._y=.25*F,this._z=(w+L)/F}else{const F=2*Math.sqrt(1+T-o-v);this._w=(g-l)/F,this._x=(h+S)/F,this._y=(w+L)/F,this._z=.25*F}return this._onChangeCallback(),this}setFromUnitVectors(e,i){let o=e.dot(i)+1;return o<1e-6?(o=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=o):(this._x=0,this._y=-e.z,this._z=e.y,this._w=o)):(this._x=e.y*i.z-e.z*i.y,this._y=e.z*i.x-e.x*i.z,this._z=e.x*i.y-e.y*i.x,this._w=o),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(An.clamp(this.dot(e),-1,1)))}rotateTowards(e,i){const o=this.angleTo(e);if(o===0)return this;const l=Math.min(1,i/o);return this.slerp(e,l),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,i){return i!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,i)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,i){const o=e._x,l=e._y,h=e._z,g=e._w,v=i._x,w=i._y,S=i._z,L=i._w;return this._x=o*L+g*v+l*S-h*w,this._y=l*L+g*w+h*v-o*S,this._z=h*L+g*S+o*w-l*v,this._w=g*L-o*v-l*w-h*S,this._onChangeCallback(),this}slerp(e,i){if(i===0)return this;if(i===1)return this.copy(e);const o=this._x,l=this._y,h=this._z,g=this._w;let v=g*e._w+o*e._x+l*e._y+h*e._z;if(v<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,v=-v):this.copy(e),v>=1)return this._w=g,this._x=o,this._y=l,this._z=h,this;const w=1-v*v;if(w<=Number.EPSILON){const F=1-i;return this._w=F*g+i*this._w,this._x=F*o+i*this._x,this._y=F*l+i*this._y,this._z=F*h+i*this._z,this.normalize(),this._onChangeCallback(),this}const S=Math.sqrt(w),L=Math.atan2(S,v),T=Math.sin((1-i)*L)/S,I=Math.sin(i*L)/S;return this._w=g*T+this._w*I,this._x=o*T+this._x*I,this._y=l*T+this._y*I,this._z=h*T+this._z*I,this._onChangeCallback(),this}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,i=0){return this._x=e[i],this._y=e[i+1],this._z=e[i+2],this._w=e[i+3],this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._w,e}fromBufferAttribute(e,i){return this._x=e.getX(i),this._y=e.getY(i),this._z=e.getZ(i),this._w=e.getW(i),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}class ye{constructor(e=0,i=0,o=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=i,this.z=o}set(e,i,o){return o===void 0&&(o=this.z),this.x=e,this.y=i,this.z=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,i){return i!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,i)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this}sub(e,i){return i!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,i)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this}multiply(e,i){return i!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,i)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,i){return this.x=e.x*i.x,this.y=e.y*i.y,this.z=e.z*i.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ou.setFromEuler(e))}applyAxisAngle(e,i){return this.applyQuaternion(ou.setFromAxisAngle(e,i))}applyMatrix3(e){const i=this.x,o=this.y,l=this.z,h=e.elements;return this.x=h[0]*i+h[3]*o+h[6]*l,this.y=h[1]*i+h[4]*o+h[7]*l,this.z=h[2]*i+h[5]*o+h[8]*l,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const i=this.x,o=this.y,l=this.z,h=e.elements,g=1/(h[3]*i+h[7]*o+h[11]*l+h[15]);return this.x=(h[0]*i+h[4]*o+h[8]*l+h[12])*g,this.y=(h[1]*i+h[5]*o+h[9]*l+h[13])*g,this.z=(h[2]*i+h[6]*o+h[10]*l+h[14])*g,this}applyQuaternion(e){const i=this.x,o=this.y,l=this.z,h=e.x,g=e.y,v=e.z,w=e.w,S=w*i+g*l-v*o,L=w*o+v*i-h*l,T=w*l+h*o-g*i,I=-h*i-g*o-v*l;return this.x=S*w+I*-h+L*-v-T*-g,this.y=L*w+I*-g+T*-h-S*-v,this.z=T*w+I*-v+S*-g-L*-h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const i=this.x,o=this.y,l=this.z,h=e.elements;return this.x=h[0]*i+h[4]*o+h[8]*l,this.y=h[1]*i+h[5]*o+h[9]*l,this.z=h[2]*i+h[6]*o+h[10]*l,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this.z=Math.max(e.z,Math.min(i.z,this.z)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this.z=Math.max(e,Math.min(i,this.z)),this}clampLength(e,i){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(i,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this}lerpVectors(e,i,o){return this.x=e.x+(i.x-e.x)*o,this.y=e.y+(i.y-e.y)*o,this.z=e.z+(i.z-e.z)*o,this}cross(e,i){return i!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,i)):this.crossVectors(this,e)}crossVectors(e,i){const o=e.x,l=e.y,h=e.z,g=i.x,v=i.y,w=i.z;return this.x=l*w-h*v,this.y=h*g-o*w,this.z=o*v-l*g,this}projectOnVector(e){const i=e.lengthSq();if(i===0)return this.set(0,0,0);const o=e.dot(this)/i;return this.copy(e).multiplyScalar(o)}projectOnPlane(e){return rh.copy(this).projectOnVector(e),this.sub(rh)}reflect(e){return this.sub(rh.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const o=this.dot(e)/i;return Math.acos(An.clamp(o,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,o=this.y-e.y,l=this.z-e.z;return i*i+o*o+l*l}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,i,o){const l=Math.sin(i)*e;return this.x=l*Math.sin(o),this.y=Math.cos(i)*e,this.z=l*Math.cos(o),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,i,o){return this.x=e*Math.sin(i),this.y=o,this.z=e*Math.cos(i),this}setFromMatrixPosition(e){const i=e.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(e){const i=this.setFromMatrixColumn(e,0).length(),o=this.setFromMatrixColumn(e,1).length(),l=this.setFromMatrixColumn(e,2).length();return this.x=i,this.y=o,this.z=l,this}setFromMatrixColumn(e,i){return this.fromArray(e.elements,4*i)}setFromMatrix3Column(e,i){return this.fromArray(e.elements,3*i)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e}fromBufferAttribute(e,i,o){return o!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const rh=new ye,ou=new hs;class $a{constructor(e,i){Object.defineProperty(this,"isBox3",{value:!0}),this.min=e!==void 0?e:new ye(1/0,1/0,1/0),this.max=i!==void 0?i:new ye(-1/0,-1/0,-1/0)}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromArray(e){let i=1/0,o=1/0,l=1/0,h=-1/0,g=-1/0,v=-1/0;for(let w=0,S=e.length;w<S;w+=3){const L=e[w],T=e[w+1],I=e[w+2];L<i&&(i=L),T<o&&(o=T),I<l&&(l=I),L>h&&(h=L),T>g&&(g=T),I>v&&(v=I)}return this.min.set(i,o,l),this.max.set(h,g,v),this}setFromBufferAttribute(e){let i=1/0,o=1/0,l=1/0,h=-1/0,g=-1/0,v=-1/0;for(let w=0,S=e.count;w<S;w++){const L=e.getX(w),T=e.getY(w),I=e.getZ(w);L<i&&(i=L),T<o&&(o=T),I<l&&(l=I),L>h&&(h=L),T>g&&(g=T),I>v&&(v=I)}return this.min.set(i,o,l),this.max.set(h,g,v),this}setFromPoints(e){this.makeEmpty();for(let i=0,o=e.length;i<o;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){const o=ha.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new ye),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new ye),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const i=e.geometry;i!==void 0&&(i.boundingBox===null&&i.computeBoundingBox(),ih.copy(i.boundingBox),ih.applyMatrix4(e.matrixWorld),this.union(ih));const o=e.children;for(let l=0,h=o.length;l<h;l++)this.expandByObject(o[l]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,i){return i===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),i=new ye),i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ha),ha.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let i,o;return e.normal.x>0?(i=e.normal.x*this.min.x,o=e.normal.x*this.max.x):(i=e.normal.x*this.max.x,o=e.normal.x*this.min.x),e.normal.y>0?(i+=e.normal.y*this.min.y,o+=e.normal.y*this.max.y):(i+=e.normal.y*this.max.y,o+=e.normal.y*this.min.y),e.normal.z>0?(i+=e.normal.z*this.min.z,o+=e.normal.z*this.max.z):(i+=e.normal.z*this.max.z,o+=e.normal.z*this.min.z),i<=-e.constant&&o>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Is),Xo.subVectors(this.max,Is),lu.subVectors(e.a,Is),Bl.subVectors(e.b,Is),uu.subVectors(e.c,Is),qr.subVectors(Bl,lu),Gi.subVectors(uu,Bl),rs.subVectors(lu,uu);let i=[0,-qr.z,qr.y,0,-Gi.z,Gi.y,0,-rs.z,rs.y,qr.z,0,-qr.x,Gi.z,0,-Gi.x,rs.z,0,-rs.x,-qr.y,qr.x,0,-Gi.y,Gi.x,0,-rs.y,rs.x,0];return!!au(i,lu,Bl,uu,Xo)&&(i=[1,0,0,0,1,0,0,0,1],!!au(i,lu,Bl,uu,Xo)&&(cu.crossVectors(qr,Gi),i=[cu.x,cu.y,cu.z],au(i,lu,Bl,uu,Xo)))}clampPoint(e,i){return i===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),i=new ye),i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ha.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(ha).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(ds[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ds[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ds[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ds[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ds[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ds[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ds[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ds[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ds)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}function au(t,e,i,o,l){for(let h=0,g=t.length-3;h<=g;h+=3){$o.fromArray(t,h);const v=l.x*Math.abs($o.x)+l.y*Math.abs($o.y)+l.z*Math.abs($o.z),w=e.dot($o),S=i.dot($o),L=o.dot($o);if(Math.max(-Math.max(w,S,L),Math.min(w,S,L))>v)return!1}return!0}const ds=[new ye,new ye,new ye,new ye,new ye,new ye,new ye,new ye],ha=new ye,ih=new $a,lu=new ye,Bl=new ye,uu=new ye,qr=new ye,Gi=new ye,rs=new ye,Is=new ye,Xo=new ye,cu=new ye,$o=new ye,mc=new $a;class da{constructor(e,i){this.center=e!==void 0?e:new ye,this.radius=i!==void 0?i:-1}set(e,i){return this.center.copy(e),this.radius=i,this}setFromPoints(e,i){const o=this.center;i!==void 0?o.copy(i):mc.setFromPoints(e).getCenter(o);let l=0;for(let h=0,g=e.length;h<g;h++)l=Math.max(l,o.distanceToSquared(e[h]));return this.radius=Math.sqrt(l),this}clone(){return new this.constructor().copy(this)}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const i=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=i*i}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,i){const o=this.center.distanceToSquared(e);return i===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),i=new ye),i.copy(e),o>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new $a),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}}const oo=new ye,hu=new ye,zu=new ye,Yo=new ye,fa=new ye,du=new ye,pa=new ye;class fs{constructor(e,i){this.origin=e!==void 0?e:new ye,this.direction=i!==void 0?i:new ye(0,0,-1)}set(e,i){return this.origin.copy(e),this.direction.copy(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,i){return i===void 0&&(console.warn("THREE.Ray: .at() target is now required"),i=new ye),i.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,oo)),this}closestPointToPoint(e,i){i===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),i=new ye),i.subVectors(e,this.origin);const o=i.dot(this.direction);return o<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(o).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const i=oo.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(oo.copy(this.direction).multiplyScalar(i).add(this.origin),oo.distanceToSquared(e))}distanceSqToSegment(e,i,o,l){hu.copy(e).add(i).multiplyScalar(.5),zu.copy(i).sub(e).normalize(),Yo.copy(this.origin).sub(hu);const h=.5*e.distanceTo(i),g=-this.direction.dot(zu),v=Yo.dot(this.direction),w=-Yo.dot(zu),S=Yo.lengthSq(),L=Math.abs(1-g*g);let T,I,F,j;if(L>0)if(T=g*w-v,I=g*v-w,j=h*L,T>=0)if(I>=-j)if(I<=j){const K=1/L;T*=K,I*=K,F=T*(T+g*I+2*v)+I*(g*T+I+2*w)+S}else I=h,T=Math.max(0,-(g*I+v)),F=-T*T+I*(I+2*w)+S;else I=-h,T=Math.max(0,-(g*I+v)),F=-T*T+I*(I+2*w)+S;else I<=-j?(T=Math.max(0,-(-g*h+v)),I=T>0?-h:Math.min(Math.max(-h,-w),h),F=-T*T+I*(I+2*w)+S):I<=j?(T=0,I=Math.min(Math.max(-h,-w),h),F=I*(I+2*w)+S):(T=Math.max(0,-(g*h+v)),I=T>0?h:Math.min(Math.max(-h,-w),h),F=-T*T+I*(I+2*w)+S);else I=g>0?-h:h,T=Math.max(0,-(g*I+v)),F=-T*T+I*(I+2*w)+S;return o&&o.copy(this.direction).multiplyScalar(T).add(this.origin),l&&l.copy(zu).multiplyScalar(I).add(hu),F}intersectSphere(e,i){oo.subVectors(e.center,this.origin);const o=oo.dot(this.direction),l=oo.dot(oo)-o*o,h=e.radius*e.radius;if(l>h)return null;const g=Math.sqrt(h-l),v=o-g,w=o+g;return v<0&&w<0?null:v<0?this.at(w,i):this.at(v,i)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const i=e.normal.dot(this.direction);if(i===0)return e.distanceToPoint(this.origin)===0?0:null;const o=-(this.origin.dot(e.normal)+e.constant)/i;return o>=0?o:null}intersectPlane(e,i){const o=this.distanceToPlane(e);return o===null?null:this.at(o,i)}intersectsPlane(e){const i=e.distanceToPoint(this.origin);return i===0?!0:e.normal.dot(this.direction)*i<0}intersectBox(e,i){let o,l,h,g,v,w;const S=1/this.direction.x,L=1/this.direction.y,T=1/this.direction.z,I=this.origin;return S>=0?(o=(e.min.x-I.x)*S,l=(e.max.x-I.x)*S):(o=(e.max.x-I.x)*S,l=(e.min.x-I.x)*S),L>=0?(h=(e.min.y-I.y)*L,g=(e.max.y-I.y)*L):(h=(e.max.y-I.y)*L,g=(e.min.y-I.y)*L),o>g||h>l?null:((h>o||o!=o)&&(o=h),(g<l||l!=l)&&(l=g),T>=0?(v=(e.min.z-I.z)*T,w=(e.max.z-I.z)*T):(v=(e.max.z-I.z)*T,w=(e.min.z-I.z)*T),o>w||v>l?null:((v>o||o!=o)&&(o=v),(w<l||l!=l)&&(l=w),l<0?null:this.at(o>=0?o:l,i)))}intersectsBox(e){return this.intersectBox(e,oo)!==null}intersectTriangle(e,i,o,l,h){fa.subVectors(i,e),du.subVectors(o,e),pa.crossVectors(fa,du);let g,v=this.direction.dot(pa);if(v>0){if(l)return null;g=1}else{if(!(v<0))return null;g=-1,v=-v}Yo.subVectors(this.origin,e);const w=g*this.direction.dot(du.crossVectors(Yo,du));if(w<0)return null;const S=g*this.direction.dot(fa.cross(Yo));if(S<0||w+S>v)return null;const L=-g*Yo.dot(pa);return L<0?null:this.at(L/v,h)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}class Cr{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,i,o,l,h,g,v,w,S,L,T,I,F,j,K,X){const ee=this.elements;return ee[0]=e,ee[4]=i,ee[8]=o,ee[12]=l,ee[1]=h,ee[5]=g,ee[9]=v,ee[13]=w,ee[2]=S,ee[6]=L,ee[10]=T,ee[14]=I,ee[3]=F,ee[7]=j,ee[11]=K,ee[15]=X,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Cr().fromArray(this.elements)}copy(e){const i=this.elements,o=e.elements;return i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[3],i[4]=o[4],i[5]=o[5],i[6]=o[6],i[7]=o[7],i[8]=o[8],i[9]=o[9],i[10]=o[10],i[11]=o[11],i[12]=o[12],i[13]=o[13],i[14]=o[14],i[15]=o[15],this}copyPosition(e){const i=this.elements,o=e.elements;return i[12]=o[12],i[13]=o[13],i[14]=o[14],this}extractBasis(e,i,o){return e.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this}makeBasis(e,i,o){return this.set(e.x,i.x,o.x,0,e.y,i.y,o.y,0,e.z,i.z,o.z,0,0,0,0,1),this}extractRotation(e){const i=this.elements,o=e.elements,l=1/pe.setFromMatrixColumn(e,0).length(),h=1/pe.setFromMatrixColumn(e,1).length(),g=1/pe.setFromMatrixColumn(e,2).length();return i[0]=o[0]*l,i[1]=o[1]*l,i[2]=o[2]*l,i[3]=0,i[4]=o[4]*h,i[5]=o[5]*h,i[6]=o[6]*h,i[7]=0,i[8]=o[8]*g,i[9]=o[9]*g,i[10]=o[10]*g,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const i=this.elements,o=e.x,l=e.y,h=e.z,g=Math.cos(o),v=Math.sin(o),w=Math.cos(l),S=Math.sin(l),L=Math.cos(h),T=Math.sin(h);if(e.order==="XYZ"){const I=g*L,F=g*T,j=v*L,K=v*T;i[0]=w*L,i[4]=-w*T,i[8]=S,i[1]=F+j*S,i[5]=I-K*S,i[9]=-v*w,i[2]=K-I*S,i[6]=j+F*S,i[10]=g*w}else if(e.order==="YXZ"){const I=w*L,F=w*T,j=S*L,K=S*T;i[0]=I+K*v,i[4]=j*v-F,i[8]=g*S,i[1]=g*T,i[5]=g*L,i[9]=-v,i[2]=F*v-j,i[6]=K+I*v,i[10]=g*w}else if(e.order==="ZXY"){const I=w*L,F=w*T,j=S*L,K=S*T;i[0]=I-K*v,i[4]=-g*T,i[8]=j+F*v,i[1]=F+j*v,i[5]=g*L,i[9]=K-I*v,i[2]=-g*S,i[6]=v,i[10]=g*w}else if(e.order==="ZYX"){const I=g*L,F=g*T,j=v*L,K=v*T;i[0]=w*L,i[4]=j*S-F,i[8]=I*S+K,i[1]=w*T,i[5]=K*S+I,i[9]=F*S-j,i[2]=-S,i[6]=v*w,i[10]=g*w}else if(e.order==="YZX"){const I=g*w,F=g*S,j=v*w,K=v*S;i[0]=w*L,i[4]=K-I*T,i[8]=j*T+F,i[1]=T,i[5]=g*L,i[9]=-v*L,i[2]=-S*L,i[6]=F*T+j,i[10]=I-K*T}else if(e.order==="XZY"){const I=g*w,F=g*S,j=v*w,K=v*S;i[0]=w*L,i[4]=-T,i[8]=S*L,i[1]=I*T+K,i[5]=g*L,i[9]=F*T-j,i[2]=j*T-F,i[6]=v*L,i[10]=K*T+I}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Xe,e,Bt)}lookAt(e,i,o){const l=this.elements;return Yt.subVectors(e,i),Yt.lengthSq()===0&&(Yt.z=1),Yt.normalize(),Qe.crossVectors(o,Yt),Qe.lengthSq()===0&&(Math.abs(o.z)===1?Yt.x+=1e-4:Yt.z+=1e-4,Yt.normalize(),Qe.crossVectors(o,Yt)),Qe.normalize(),Xt.crossVectors(Yt,Qe),l[0]=Qe.x,l[4]=Xt.x,l[8]=Yt.x,l[1]=Qe.y,l[5]=Xt.y,l[9]=Yt.y,l[2]=Qe.z,l[6]=Xt.z,l[10]=Yt.z,this}multiply(e,i){return i!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,i)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const o=e.elements,l=i.elements,h=this.elements,g=o[0],v=o[4],w=o[8],S=o[12],L=o[1],T=o[5],I=o[9],F=o[13],j=o[2],K=o[6],X=o[10],ee=o[14],me=o[3],xe=o[7],_e=o[11],Se=o[15],Ne=l[0],Ae=l[4],ut=l[8],mt=l[12],jt=l[1],Dt=l[5],_t=l[9],Ht=l[13],dn=l[2],an=l[6],or=l[10],kn=l[14],Tn=l[3],mr=l[7],gr=l[11],li=l[15];return h[0]=g*Ne+v*jt+w*dn+S*Tn,h[4]=g*Ae+v*Dt+w*an+S*mr,h[8]=g*ut+v*_t+w*or+S*gr,h[12]=g*mt+v*Ht+w*kn+S*li,h[1]=L*Ne+T*jt+I*dn+F*Tn,h[5]=L*Ae+T*Dt+I*an+F*mr,h[9]=L*ut+T*_t+I*or+F*gr,h[13]=L*mt+T*Ht+I*kn+F*li,h[2]=j*Ne+K*jt+X*dn+ee*Tn,h[6]=j*Ae+K*Dt+X*an+ee*mr,h[10]=j*ut+K*_t+X*or+ee*gr,h[14]=j*mt+K*Ht+X*kn+ee*li,h[3]=me*Ne+xe*jt+_e*dn+Se*Tn,h[7]=me*Ae+xe*Dt+_e*an+Se*mr,h[11]=me*ut+xe*_t+_e*or+Se*gr,h[15]=me*mt+xe*Ht+_e*kn+Se*li,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[4]*=e,i[8]*=e,i[12]*=e,i[1]*=e,i[5]*=e,i[9]*=e,i[13]*=e,i[2]*=e,i[6]*=e,i[10]*=e,i[14]*=e,i[3]*=e,i[7]*=e,i[11]*=e,i[15]*=e,this}determinant(){const e=this.elements,i=e[0],o=e[4],l=e[8],h=e[12],g=e[1],v=e[5],w=e[9],S=e[13],L=e[2],T=e[6],I=e[10],F=e[14];return e[3]*(+h*w*T-l*S*T-h*v*I+o*S*I+l*v*F-o*w*F)+e[7]*(+i*w*F-i*S*I+h*g*I-l*g*F+l*S*L-h*w*L)+e[11]*(+i*S*T-i*v*F-h*g*T+o*g*F+h*v*L-o*S*L)+e[15]*(-l*v*L-i*w*T+i*v*I+l*g*T-o*g*I+o*w*L)}transpose(){const e=this.elements;let i;return i=e[1],e[1]=e[4],e[4]=i,i=e[2],e[2]=e[8],e[8]=i,i=e[6],e[6]=e[9],e[9]=i,i=e[3],e[3]=e[12],e[12]=i,i=e[7],e[7]=e[13],e[13]=i,i=e[11],e[11]=e[14],e[14]=i,this}setPosition(e,i,o){const l=this.elements;return e.isVector3?(l[12]=e.x,l[13]=e.y,l[14]=e.z):(l[12]=e,l[13]=i,l[14]=o),this}invert(){const e=this.elements,i=e[0],o=e[1],l=e[2],h=e[3],g=e[4],v=e[5],w=e[6],S=e[7],L=e[8],T=e[9],I=e[10],F=e[11],j=e[12],K=e[13],X=e[14],ee=e[15],me=T*X*S-K*I*S+K*w*F-v*X*F-T*w*ee+v*I*ee,xe=j*I*S-L*X*S-j*w*F+g*X*F+L*w*ee-g*I*ee,_e=L*K*S-j*T*S+j*v*F-g*K*F-L*v*ee+g*T*ee,Se=j*T*w-L*K*w-j*v*I+g*K*I+L*v*X-g*T*X,Ne=i*me+o*xe+l*_e+h*Se;if(Ne===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Ae=1/Ne;return e[0]=me*Ae,e[1]=(K*I*h-T*X*h-K*l*F+o*X*F+T*l*ee-o*I*ee)*Ae,e[2]=(v*X*h-K*w*h+K*l*S-o*X*S-v*l*ee+o*w*ee)*Ae,e[3]=(T*w*h-v*I*h-T*l*S+o*I*S+v*l*F-o*w*F)*Ae,e[4]=xe*Ae,e[5]=(L*X*h-j*I*h+j*l*F-i*X*F-L*l*ee+i*I*ee)*Ae,e[6]=(j*w*h-g*X*h-j*l*S+i*X*S+g*l*ee-i*w*ee)*Ae,e[7]=(g*I*h-L*w*h+L*l*S-i*I*S-g*l*F+i*w*F)*Ae,e[8]=_e*Ae,e[9]=(j*T*h-L*K*h-j*o*F+i*K*F+L*o*ee-i*T*ee)*Ae,e[10]=(g*K*h-j*v*h+j*o*S-i*K*S-g*o*ee+i*v*ee)*Ae,e[11]=(L*v*h-g*T*h-L*o*S+i*T*S+g*o*F-i*v*F)*Ae,e[12]=Se*Ae,e[13]=(L*K*l-j*T*l+j*o*I-i*K*I-L*o*X+i*T*X)*Ae,e[14]=(j*v*l-g*K*l-j*o*w+i*K*w+g*o*X-i*v*X)*Ae,e[15]=(g*T*l-L*v*l+L*o*w-i*T*w-g*o*I+i*v*I)*Ae,this}scale(e){const i=this.elements,o=e.x,l=e.y,h=e.z;return i[0]*=o,i[4]*=l,i[8]*=h,i[1]*=o,i[5]*=l,i[9]*=h,i[2]*=o,i[6]*=l,i[10]*=h,i[3]*=o,i[7]*=l,i[11]*=h,this}getMaxScaleOnAxis(){const e=this.elements,i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],l=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(i,o,l))}makeTranslation(e,i,o){return this.set(1,0,0,e,0,1,0,i,0,0,1,o,0,0,0,1),this}makeRotationX(e){const i=Math.cos(e),o=Math.sin(e);return this.set(1,0,0,0,0,i,-o,0,0,o,i,0,0,0,0,1),this}makeRotationY(e){const i=Math.cos(e),o=Math.sin(e);return this.set(i,0,o,0,0,1,0,0,-o,0,i,0,0,0,0,1),this}makeRotationZ(e){const i=Math.cos(e),o=Math.sin(e);return this.set(i,-o,0,0,o,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,i){const o=Math.cos(i),l=Math.sin(i),h=1-o,g=e.x,v=e.y,w=e.z,S=h*g,L=h*v;return this.set(S*g+o,S*v-l*w,S*w+l*v,0,S*v+l*w,L*v+o,L*w-l*g,0,S*w-l*v,L*w+l*g,h*w*w+o,0,0,0,0,1),this}makeScale(e,i,o){return this.set(e,0,0,0,0,i,0,0,0,0,o,0,0,0,0,1),this}makeShear(e,i,o){return this.set(1,i,o,0,e,1,o,0,e,i,1,0,0,0,0,1),this}compose(e,i,o){const l=this.elements,h=i._x,g=i._y,v=i._z,w=i._w,S=h+h,L=g+g,T=v+v,I=h*S,F=h*L,j=h*T,K=g*L,X=g*T,ee=v*T,me=w*S,xe=w*L,_e=w*T,Se=o.x,Ne=o.y,Ae=o.z;return l[0]=(1-(K+ee))*Se,l[1]=(F+_e)*Se,l[2]=(j-xe)*Se,l[3]=0,l[4]=(F-_e)*Ne,l[5]=(1-(I+ee))*Ne,l[6]=(X+me)*Ne,l[7]=0,l[8]=(j+xe)*Ae,l[9]=(X-me)*Ae,l[10]=(1-(I+K))*Ae,l[11]=0,l[12]=e.x,l[13]=e.y,l[14]=e.z,l[15]=1,this}decompose(e,i,o){const l=this.elements;let h=pe.set(l[0],l[1],l[2]).length();const g=pe.set(l[4],l[5],l[6]).length(),v=pe.set(l[8],l[9],l[10]).length();this.determinant()<0&&(h=-h),e.x=l[12],e.y=l[13],e.z=l[14],Pe.copy(this);const w=1/h,S=1/g,L=1/v;return Pe.elements[0]*=w,Pe.elements[1]*=w,Pe.elements[2]*=w,Pe.elements[4]*=S,Pe.elements[5]*=S,Pe.elements[6]*=S,Pe.elements[8]*=L,Pe.elements[9]*=L,Pe.elements[10]*=L,i.setFromRotationMatrix(Pe),o.x=h,o.y=g,o.z=v,this}makePerspective(e,i,o,l,h,g){g===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const v=this.elements,w=2*h/(i-e),S=2*h/(o-l),L=(i+e)/(i-e),T=(o+l)/(o-l),I=-(g+h)/(g-h),F=-2*g*h/(g-h);return v[0]=w,v[4]=0,v[8]=L,v[12]=0,v[1]=0,v[5]=S,v[9]=T,v[13]=0,v[2]=0,v[6]=0,v[10]=I,v[14]=F,v[3]=0,v[7]=0,v[11]=-1,v[15]=0,this}makeOrthographic(e,i,o,l,h,g){const v=this.elements,w=1/(i-e),S=1/(o-l),L=1/(g-h),T=(i+e)*w,I=(o+l)*S,F=(g+h)*L;return v[0]=2*w,v[4]=0,v[8]=0,v[12]=-T,v[1]=0,v[5]=2*S,v[9]=0,v[13]=-I,v[2]=0,v[6]=0,v[10]=-2*L,v[14]=-F,v[3]=0,v[7]=0,v[11]=0,v[15]=1,this}equals(e){const i=this.elements,o=e.elements;for(let l=0;l<16;l++)if(i[l]!==o[l])return!1;return!0}fromArray(e,i=0){for(let o=0;o<16;o++)this.elements[o]=e[o+i];return this}toArray(e=[],i=0){const o=this.elements;return e[i]=o[0],e[i+1]=o[1],e[i+2]=o[2],e[i+3]=o[3],e[i+4]=o[4],e[i+5]=o[5],e[i+6]=o[6],e[i+7]=o[7],e[i+8]=o[8],e[i+9]=o[9],e[i+10]=o[10],e[i+11]=o[11],e[i+12]=o[12],e[i+13]=o[13],e[i+14]=o[14],e[i+15]=o[15],e}}const pe=new ye,Pe=new Cr,Xe=new ye(0,0,0),Bt=new ye(1,1,1),Qe=new ye,Xt=new ye,Yt=new ye;class sn{constructor(e=0,i=0,o=0,l=sn.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=i,this._z=o,this._order=l}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,o,l){return this._x=e,this._y=i,this._z=o,this._order=l||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i,o){const l=An.clamp,h=e.elements,g=h[0],v=h[4],w=h[8],S=h[1],L=h[5],T=h[9],I=h[2],F=h[6],j=h[10];switch(i=i||this._order){case"XYZ":this._y=Math.asin(l(w,-1,1)),Math.abs(w)<.9999999?(this._x=Math.atan2(-T,j),this._z=Math.atan2(-v,g)):(this._x=Math.atan2(F,L),this._z=0);break;case"YXZ":this._x=Math.asin(-l(T,-1,1)),Math.abs(T)<.9999999?(this._y=Math.atan2(w,j),this._z=Math.atan2(S,L)):(this._y=Math.atan2(-I,g),this._z=0);break;case"ZXY":this._x=Math.asin(l(F,-1,1)),Math.abs(F)<.9999999?(this._y=Math.atan2(-I,j),this._z=Math.atan2(-v,L)):(this._y=0,this._z=Math.atan2(S,g));break;case"ZYX":this._y=Math.asin(-l(I,-1,1)),Math.abs(I)<.9999999?(this._x=Math.atan2(F,j),this._z=Math.atan2(S,g)):(this._x=0,this._z=Math.atan2(-v,L));break;case"YZX":this._z=Math.asin(l(S,-1,1)),Math.abs(S)<.9999999?(this._x=Math.atan2(-T,L),this._y=Math.atan2(-I,g)):(this._x=0,this._y=Math.atan2(w,j));break;case"XZY":this._z=Math.asin(-l(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(F,L),this._y=Math.atan2(w,g)):(this._x=Math.atan2(-T,j),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,o!==!1&&this._onChangeCallback(),this}setFromQuaternion(e,i,o){return Sn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Sn,i,o)}setFromVector3(e,i){return this.set(e.x,e.y,e.z,i||this._order)}reorder(e){return cr.setFromEuler(this),this.setFromQuaternion(cr,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new ye(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}sn.DefaultOrder="XYZ",sn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const Sn=new Cr,cr=new hs;class fr{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}}let yr=0;const jr=new ye,bi=new hs,hr=new Cr,ps=new ye,Ji=new ye,Ks=new ye,Ci=new hs,Zo=new ye(1,0,0),Ns=new ye(0,1,0),Es=new ye(0,0,1),P={type:"added"},D={type:"removed"};function N(){Object.defineProperty(this,"id",{value:yr++}),this.uuid=An.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=N.DefaultUp.clone();const t=new ye,e=new sn,i=new hs,o=new ye(1,1,1);e._onChange(function(){i.setFromEuler(e,!1)}),i._onChange(function(){e.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Cr},normalMatrix:{value:new Ui}}),this.matrix=new Cr,this.matrixWorld=new Cr,this.matrixAutoUpdate=N.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new fr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}N.DefaultUp=new ye(0,1,0),N.DefaultMatrixAutoUpdate=!0,N.prototype=Object.assign(Object.create(ns.prototype),{constructor:N,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return bi.setFromAxisAngle(t,e),this.quaternion.multiply(bi),this},rotateOnWorldAxis:function(t,e){return bi.setFromAxisAngle(t,e),this.quaternion.premultiply(bi),this},rotateX:function(t){return this.rotateOnAxis(Zo,t)},rotateY:function(t){return this.rotateOnAxis(Ns,t)},rotateZ:function(t){return this.rotateOnAxis(Es,t)},translateOnAxis:function(t,e){return jr.copy(t).applyQuaternion(this.quaternion),this.position.add(jr.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(Zo,t)},translateY:function(t){return this.translateOnAxis(Ns,t)},translateZ:function(t){return this.translateOnAxis(Es,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(hr.copy(this.matrixWorld).invert())},lookAt:function(t,e,i){t.isVector3?ps.copy(t):ps.set(t,e,i);const o=this.parent;this.updateWorldMatrix(!0,!1),Ji.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?hr.lookAt(Ji,ps,this.up):hr.lookAt(ps,Ji,this.up),this.quaternion.setFromRotationMatrix(hr),o&&(hr.extractRotation(o.matrixWorld),bi.setFromRotationMatrix(hr),this.quaternion.premultiply(bi.invert()))},add:function(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(P)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(D)),this},clear:function(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(D)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),hr.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),hr.multiply(t.parent.matrixWorld)),t.applyMatrix4(hr),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let i=0,o=this.children.length;i<o;i++){const l=this.children[i].getObjectByProperty(t,e);if(l!==void 0)return l}},getWorldPosition:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new ye),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new hs),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ji,t,Ks),t},getWorldScale:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new ye),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ji,Ci,t),t},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new ye),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let i=0,o=e.length;i<o;i++)e[i].traverse(t)},traverseVisible:function(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,o=e.length;i<o;i++)e[i].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,o=e.length;i<o;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const o=this.children;for(let l=0,h=o.length;l<h;l++)o[l].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};function l(g,v){return g[v.uuid]===void 0&&(g[v.uuid]=v.toJSON(t)),v.uuid}if(o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){o.geometry=l(t.geometries,this.geometry);const g=this.geometry.parameters;if(g!==void 0&&g.shapes!==void 0){const v=g.shapes;if(Array.isArray(v))for(let w=0,S=v.length;w<S;w++){const L=v[w];l(t.shapes,L)}else l(t.shapes,v)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(l(t.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const g=[];for(let v=0,w=this.material.length;v<w;v++)g.push(l(t.materials,this.material[v]));o.material=g}else o.material=l(t.materials,this.material);if(this.children.length>0){o.children=[];for(let g=0;g<this.children.length;g++)o.children.push(this.children[g].toJSON(t).object)}if(this.animations.length>0){o.animations=[];for(let g=0;g<this.animations.length;g++){const v=this.animations[g];o.animations.push(l(t.animations,v))}}if(e){const g=h(t.geometries),v=h(t.materials),w=h(t.textures),S=h(t.images),L=h(t.shapes),T=h(t.skeletons),I=h(t.animations);g.length>0&&(i.geometries=g),v.length>0&&(i.materials=v),w.length>0&&(i.textures=w),S.length>0&&(i.images=S),L.length>0&&(i.shapes=L),T.length>0&&(i.skeletons=T),I.length>0&&(i.animations=I)}return i.object=o,i;function h(g){const v=[];for(const w in g){const S=g[w];delete S.metadata,v.push(S)}return v}},clone:function(t){return new this.constructor().copy(this,t)},copy:function(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const o=t.children[i];this.add(o.clone())}return this}});const H=new ye,J=new ye,re=new Ui;class de{constructor(e,i){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=e!==void 0?e:new ye(1,0,0),this.constant=i!==void 0?i:0}set(e,i){return this.normal.copy(e),this.constant=i,this}setComponents(e,i,o,l){return this.normal.set(e,i,o),this.constant=l,this}setFromNormalAndCoplanarPoint(e,i){return this.normal.copy(e),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(e,i,o){const l=H.subVectors(o,i).cross(J.subVectors(e,i)).normalize();return this.setFromNormalAndCoplanarPoint(l,e),this}clone(){return new this.constructor().copy(this)}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,i){return i===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),i=new ye),i.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,i){i===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),i=new ye);const o=e.delta(H),l=this.normal.dot(o);if(l===0)return this.distanceToPoint(e.start)===0?i.copy(e.start):void 0;const h=-(e.start.dot(this.normal)+this.constant)/l;return h<0||h>1?void 0:i.copy(o).multiplyScalar(h).add(e.start)}intersectsLine(e){const i=this.distanceToPoint(e.start),o=this.distanceToPoint(e.end);return i<0&&o>0||o<0&&i>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new ye),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,i){const o=i||re.getNormalMatrix(e),l=this.coplanarPoint(H).applyMatrix4(e),h=this.normal.applyMatrix3(o).normalize();return this.constant=-l.dot(h),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}const ve=new ye,Ce=new ye,Ve=new ye,De=new ye,Ke=new ye,At=new ye,Tt=new ye,Pn=new ye,vn=new ye,Qt=new ye;class Ut{constructor(e,i,o){this.a=e!==void 0?e:new ye,this.b=i!==void 0?i:new ye,this.c=o!==void 0?o:new ye}static getNormal(e,i,o,l){l===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),l=new ye),l.subVectors(o,i),ve.subVectors(e,i),l.cross(ve);const h=l.lengthSq();return h>0?l.multiplyScalar(1/Math.sqrt(h)):l.set(0,0,0)}static getBarycoord(e,i,o,l,h){ve.subVectors(l,i),Ce.subVectors(o,i),Ve.subVectors(e,i);const g=ve.dot(ve),v=ve.dot(Ce),w=ve.dot(Ve),S=Ce.dot(Ce),L=Ce.dot(Ve),T=g*S-v*v;if(h===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),h=new ye),T===0)return h.set(-2,-1,-1);const I=1/T,F=(S*w-v*L)*I,j=(g*L-v*w)*I;return h.set(1-F-j,j,F)}static containsPoint(e,i,o,l){return this.getBarycoord(e,i,o,l,De),De.x>=0&&De.y>=0&&De.x+De.y<=1}static getUV(e,i,o,l,h,g,v,w){return this.getBarycoord(e,i,o,l,De),w.set(0,0),w.addScaledVector(h,De.x),w.addScaledVector(g,De.y),w.addScaledVector(v,De.z),w}static isFrontFacing(e,i,o,l){return ve.subVectors(o,i),Ce.subVectors(e,i),ve.cross(Ce).dot(l)<0}set(e,i,o){return this.a.copy(e),this.b.copy(i),this.c.copy(o),this}setFromPointsAndIndices(e,i,o,l){return this.a.copy(e[i]),this.b.copy(e[o]),this.c.copy(e[l]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ve.subVectors(this.c,this.b),Ce.subVectors(this.a,this.b),.5*ve.cross(Ce).length()}getMidpoint(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new ye),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ut.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new de),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,i){return Ut.getBarycoord(e,this.a,this.b,this.c,i)}getUV(e,i,o,l,h){return Ut.getUV(e,this.a,this.b,this.c,i,o,l,h)}containsPoint(e){return Ut.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ut.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,i){i===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),i=new ye);const o=this.a,l=this.b,h=this.c;let g,v;Ke.subVectors(l,o),At.subVectors(h,o),Pn.subVectors(e,o);const w=Ke.dot(Pn),S=At.dot(Pn);if(w<=0&&S<=0)return i.copy(o);vn.subVectors(e,l);const L=Ke.dot(vn),T=At.dot(vn);if(L>=0&&T<=L)return i.copy(l);const I=w*T-L*S;if(I<=0&&w>=0&&L<=0)return g=w/(w-L),i.copy(o).addScaledVector(Ke,g);Qt.subVectors(e,h);const F=Ke.dot(Qt),j=At.dot(Qt);if(j>=0&&F<=j)return i.copy(h);const K=F*S-w*j;if(K<=0&&S>=0&&j<=0)return v=S/(S-j),i.copy(o).addScaledVector(At,v);const X=L*j-F*T;if(X<=0&&T-L>=0&&F-j>=0)return Tt.subVectors(h,l),v=(T-L)/(T-L+(F-j)),i.copy(l).addScaledVector(Tt,v);const ee=1/(X+K+I);return g=K*ee,v=I*ee,i.copy(o).addScaledVector(Ke,g).addScaledVector(At,v)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const $t={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Mt={h:0,s:0,l:0},rn={h:0,s:0,l:0};function wn(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}function In(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function En(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class zt{constructor(e,i,o){return Object.defineProperty(this,"isColor",{value:!0}),i===void 0&&o===void 0?this.set(e):this.setRGB(e,i,o)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,i,o){return this.r=e,this.g=i,this.b=o,this}setHSL(e,i,o){if(e=An.euclideanModulo(e,1),i=An.clamp(i,0,1),o=An.clamp(o,0,1),i===0)this.r=this.g=this.b=o;else{const l=o<=.5?o*(1+i):o+i-o*i,h=2*o-l;this.r=wn(h,l,e+1/3),this.g=wn(h,l,e),this.b=wn(h,l,e-1/3)}return this}setStyle(e){function i(l){l!==void 0&&parseFloat(l)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let l;const h=o[1],g=o[2];switch(h){case"rgb":case"rgba":if(l=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(g))return this.r=Math.min(255,parseInt(l[1],10))/255,this.g=Math.min(255,parseInt(l[2],10))/255,this.b=Math.min(255,parseInt(l[3],10))/255,i(l[4]),this;if(l=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(g))return this.r=Math.min(100,parseInt(l[1],10))/100,this.g=Math.min(100,parseInt(l[2],10))/100,this.b=Math.min(100,parseInt(l[3],10))/100,i(l[4]),this;break;case"hsl":case"hsla":if(l=/^(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(g)){const v=parseFloat(l[1])/360,w=parseInt(l[2],10)/100,S=parseInt(l[3],10)/100;return i(l[4]),this.setHSL(v,w,S)}}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const l=o[1],h=l.length;if(h===3)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(h===6)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const i=$t[e];return i!==void 0?this.setHex(i):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,i=2){return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this}copyLinearToGamma(e,i=2){const o=i>0?1/i:1;return this.r=Math.pow(e.r,o),this.g=Math.pow(e.g,o),this.b=Math.pow(e.b,o),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=In(e.r),this.g=In(e.g),this.b=In(e.b),this}copyLinearToSRGB(e){return this.r=En(e.r),this.g=En(e.g),this.b=En(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const i=this.r,o=this.g,l=this.b,h=Math.max(i,o,l),g=Math.min(i,o,l);let v,w;const S=(g+h)/2;if(g===h)v=0,w=0;else{const L=h-g;switch(w=S<=.5?L/(h+g):L/(2-h-g),h){case i:v=(o-l)/L+(o<l?6:0);break;case o:v=(l-i)/L+2;break;case l:v=(i-o)/L+4}v/=6}return e.h=v,e.s=w,e.l=S,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,i,o){return this.getHSL(Mt),Mt.h+=e,Mt.s+=i,Mt.l+=o,this.setHSL(Mt.h,Mt.s,Mt.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,i){return this.r=e.r+i.r,this.g=e.g+i.g,this.b=e.b+i.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,i){return this.r+=(e.r-this.r)*i,this.g+=(e.g-this.g)*i,this.b+=(e.b-this.b)*i,this}lerpHSL(e,i){this.getHSL(Mt),e.getHSL(rn);const o=An.lerp(Mt.h,rn.h,i),l=An.lerp(Mt.s,rn.s,i),h=An.lerp(Mt.l,rn.l,i);return this.setHSL(o,l,h),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,i=0){return this.r=e[i],this.g=e[i+1],this.b=e[i+2],this}toArray(e=[],i=0){return e[i]=this.r,e[i+1]=this.g,e[i+2]=this.b,e}fromBufferAttribute(e,i){return this.r=e.getX(i),this.g=e.getY(i),this.b=e.getZ(i),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}zt.NAMES=$t,zt.prototype.r=1,zt.prototype.g=1,zt.prototype.b=1;class kr{constructor(e,i,o,l,h,g=0){this.a=e,this.b=i,this.c=o,this.normal=l&&l.isVector3?l:new ye,this.vertexNormals=Array.isArray(l)?l:[],this.color=h&&h.isColor?h:new zt,this.vertexColors=Array.isArray(h)?h:[],this.materialIndex=g}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let i=0,o=e.vertexNormals.length;i<o;i++)this.vertexNormals[i]=e.vertexNormals[i].clone();for(let i=0,o=e.vertexColors.length;i<o;i++)this.vertexColors[i]=e.vertexColors[i].clone();return this}}let Li=0;function gn(){Object.defineProperty(this,"id",{value:Li++}),this.uuid=An.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=ce,this.side=q,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Ge,this.blendDst=te,this.blendEquation=nt,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=vt,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=oi,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=tt,this.stencilZFail=tt,this.stencilZPass=tt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Si(t){gn.call(this),this.type="MeshBasicMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=pn,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}gn.prototype=Object.assign(Object.create(ns.prototype),{constructor:gn,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if(e==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===W;continue}const o=this[e];o!==void 0?o&&o.isColor?o.set(i):o&&o.isVector3&&i&&i.isVector3?o.copy(i):this[e]=i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}},toJSON:function(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function o(l){const h=[];for(const g in l){const v=l[g];delete v.metadata,h.push(v)}return h}if(i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(i.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,i.refractionRatio=this.refractionRatio,this.combine!==void 0&&(i.combine=this.combine),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.size!==void 0&&(i.size=this.size),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ce&&(i.blending=this.blending),this.flatShading===!0&&(i.flatShading=this.flatShading),this.side!==q&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(i.morphTargets=!0),this.morphNormals===!0&&(i.morphNormals=!0),this.skinning===!0&&(i.skinning=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),e){const l=o(t.textures),h=o(t.images);l.length>0&&(i.textures=l),h.length>0&&(i.images=h)}return i},clone:function(){return new this.constructor().copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const o=e.length;i=new Array(o);for(let l=0;l!==o;++l)i[l]=e[l].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(gn.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Si.prototype=Object.create(gn.prototype),Si.prototype.constructor=Si,Si.prototype.isMeshBasicMaterial=!0,Si.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const Qn=new ye,Vs=new Ot;function qn(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i===!0,this.usage=Oi,this.updateRange={offset:0,count:-1},this.version=0}function ao(t,e,i){qn.call(this,new Int8Array(t),e,i)}function jo(t,e,i){qn.call(this,new Uint8Array(t),e,i)}function Ds(t,e,i){qn.call(this,new Uint8ClampedArray(t),e,i)}function Bu(t,e,i){qn.call(this,new Int16Array(t),e,i)}function ll(t,e,i){qn.call(this,new Uint16Array(t),e,i)}function Ko(t,e,i){qn.call(this,new Int32Array(t),e,i)}function fu(t,e,i){qn.call(this,new Uint32Array(t),e,i)}function _l(t,e,i){qn.call(this,new Uint16Array(t),e,i)}function Nn(t,e,i){qn.call(this,new Float32Array(t),e,i)}function lp(t,e,i){qn.call(this,new Float64Array(t),e,i)}Object.defineProperty(qn.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Object.assign(qn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let o=0,l=this.itemSize;o<l;o++)this.array[t+o]=e.array[i+o];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let i=0;for(let o=0,l=t.length;o<l;o++){let h=t[o];h===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",o),h=new zt),e[i++]=h.r,e[i++]=h.g,e[i++]=h.b}return this},copyVector2sArray:function(t){const e=this.array;let i=0;for(let o=0,l=t.length;o<l;o++){let h=t[o];h===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",o),h=new Ot),e[i++]=h.x,e[i++]=h.y}return this},copyVector3sArray:function(t){const e=this.array;let i=0;for(let o=0,l=t.length;o<l;o++){let h=t[o];h===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",o),h=new ye),e[i++]=h.x,e[i++]=h.y,e[i++]=h.z}return this},copyVector4sArray:function(t){const e=this.array;let i=0;for(let o=0,l=t.length;o<l;o++){let h=t[o];h===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",o),h=new Ii),e[i++]=h.x,e[i++]=h.y,e[i++]=h.z,e[i++]=h.w}return this},applyMatrix3:function(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)Vs.fromBufferAttribute(this,e),Vs.applyMatrix3(t),this.setXY(e,Vs.x,Vs.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Qn.fromBufferAttribute(this,e),Qn.applyMatrix3(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this},applyMatrix4:function(t){for(let e=0,i=this.count;e<i;e++)Qn.x=this.getX(e),Qn.y=this.getY(e),Qn.z=this.getZ(e),Qn.applyMatrix4(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this},applyNormalMatrix:function(t){for(let e=0,i=this.count;e<i;e++)Qn.x=this.getX(e),Qn.y=this.getY(e),Qn.z=this.getZ(e),Qn.applyNormalMatrix(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this},transformDirection:function(t){for(let e=0,i=this.count;e<i;e++)Qn.x=this.getX(e),Qn.y=this.getY(e),Qn.z=this.getZ(e),Qn.transformDirection(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this},set:function(t,e=0){return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,o){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=o,this},setXYZW:function(t,e,i,o,l){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=o,this.array[t+3]=l,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),ao.prototype=Object.create(qn.prototype),ao.prototype.constructor=ao,jo.prototype=Object.create(qn.prototype),jo.prototype.constructor=jo,Ds.prototype=Object.create(qn.prototype),Ds.prototype.constructor=Ds,Bu.prototype=Object.create(qn.prototype),Bu.prototype.constructor=Bu,ll.prototype=Object.create(qn.prototype),ll.prototype.constructor=ll,Ko.prototype=Object.create(qn.prototype),Ko.prototype.constructor=Ko,fu.prototype=Object.create(qn.prototype),fu.prototype.constructor=fu,_l.prototype=Object.create(qn.prototype),_l.prototype.constructor=_l,_l.prototype.isFloat16BufferAttribute=!0,Nn.prototype=Object.create(qn.prototype),Nn.prototype.constructor=Nn,lp.prototype=Object.create(qn.prototype),lp.prototype.constructor=lp;class X1{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){const i=[];let o,l,h;const g=e.faces;for(l=0;l<g.length;l++){const v=g[l];v.materialIndex!==h&&(h=v.materialIndex,o!==void 0&&(o.count=3*l-o.start,i.push(o)),o={start:3*l,materialIndex:h})}o!==void 0&&(o.count=3*l-o.start,i.push(o)),this.groups=i}fromGeometry(e){const i=e.faces,o=e.vertices,l=e.faceVertexUvs,h=l[0]&&l[0].length>0,g=l[1]&&l[1].length>0,v=e.morphTargets,w=v.length;let S;if(w>0){S=[];for(let ee=0;ee<w;ee++)S[ee]={name:v[ee].name,data:[]};this.morphTargets.position=S}const L=e.morphNormals,T=L.length;let I;if(T>0){I=[];for(let ee=0;ee<T;ee++)I[ee]={name:L[ee].name,data:[]};this.morphTargets.normal=I}const F=e.skinIndices,j=e.skinWeights,K=F.length===o.length,X=j.length===o.length;o.length>0&&i.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let ee=0;ee<i.length;ee++){const me=i[ee];this.vertices.push(o[me.a],o[me.b],o[me.c]);const xe=me.vertexNormals;if(xe.length===3)this.normals.push(xe[0],xe[1],xe[2]);else{const Se=me.normal;this.normals.push(Se,Se,Se)}const _e=me.vertexColors;if(_e.length===3)this.colors.push(_e[0],_e[1],_e[2]);else{const Se=me.color;this.colors.push(Se,Se,Se)}if(h===!0){const Se=l[0][ee];Se!==void 0?this.uvs.push(Se[0],Se[1],Se[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",ee),this.uvs.push(new Ot,new Ot,new Ot))}if(g===!0){const Se=l[1][ee];Se!==void 0?this.uvs2.push(Se[0],Se[1],Se[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",ee),this.uvs2.push(new Ot,new Ot,new Ot))}for(let Se=0;Se<w;Se++){const Ne=v[Se].vertices;S[Se].data.push(Ne[me.a],Ne[me.b],Ne[me.c])}for(let Se=0;Se<T;Se++){const Ne=L[Se].vertexNormals[ee];I[Se].data.push(Ne.a,Ne.b,Ne.c)}K&&this.skinIndices.push(F[me.a],F[me.b],F[me.c]),X&&this.skinWeights.push(j[me.a],j[me.b],j[me.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}}function sh(t){if(t.length===0)return-1/0;let e=t[0];for(let i=1,o=t.length;i<o;++i)t[i]>e&&(e=t[i]);return e}const up={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ju(t,e){return new up[t](e)}let tg=1;const jl=new Cr,oh=new N,Sl=new ye,pi=new $a,Xi=new $a,Ps=new ye;function Xn(){Object.defineProperty(this,"id",{value:tg+=2}),this.uuid=An.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Xn.prototype=Object.assign(Object.create(ns.prototype),{constructor:Xn,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(sh(t)>65535?fu:ll)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return this.attributes[t]!==void 0},addGroup:function(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const l=new Ui().getNormalMatrix(t);i.applyNormalMatrix(l),i.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(t),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(t){return jl.makeRotationX(t),this.applyMatrix4(jl),this},rotateY:function(t){return jl.makeRotationY(t),this.applyMatrix4(jl),this},rotateZ:function(t){return jl.makeRotationZ(t),this.applyMatrix4(jl),this},translate:function(t,e,i){return jl.makeTranslation(t,e,i),this.applyMatrix4(jl),this},scale:function(t,e,i){return jl.makeScale(t,e,i),this.applyMatrix4(jl),this},lookAt:function(t){return oh.lookAt(t),oh.updateMatrix(),this.applyMatrix4(oh.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sl).negate(),this.translate(Sl.x,Sl.y,Sl.z),this},setFromObject:function(t){const e=t.geometry;if(t.isPoints||t.isLine){const i=new Nn(3*e.vertices.length,3),o=new Nn(3*e.colors.length,3);if(this.setAttribute("position",i.copyVector3sArray(e.vertices)),this.setAttribute("color",o.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){const l=new Nn(e.lineDistances.length,1);this.setAttribute("lineDistance",l.copyArray(e.lineDistances))}e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){const e=[];for(let i=0,o=t.length;i<o;i++){const l=t[i];e.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new Nn(e,3)),this},updateFromObject:function(t){let e=t.geometry;if(t.isMesh){let i=e.__directGeometry;if(e.elementsNeedUpdate===!0&&(i=void 0,e.elementsNeedUpdate=!1),i===void 0)return this.fromGeometry(e);i.verticesNeedUpdate=e.verticesNeedUpdate,i.normalsNeedUpdate=e.normalsNeedUpdate,i.colorsNeedUpdate=e.colorsNeedUpdate,i.uvsNeedUpdate=e.uvsNeedUpdate,i.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=i}if(e.verticesNeedUpdate===!0){const i=this.attributes.position;i!==void 0&&(i.copyVector3sArray(e.vertices),i.needsUpdate=!0),e.verticesNeedUpdate=!1}if(e.normalsNeedUpdate===!0){const i=this.attributes.normal;i!==void 0&&(i.copyVector3sArray(e.normals),i.needsUpdate=!0),e.normalsNeedUpdate=!1}if(e.colorsNeedUpdate===!0){const i=this.attributes.color;i!==void 0&&(i.copyColorsArray(e.colors),i.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){const i=this.attributes.uv;i!==void 0&&(i.copyVector2sArray(e.uvs),i.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){const i=this.attributes.lineDistance;i!==void 0&&(i.copyArray(e.lineDistances),i.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=new X1().fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){const e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new qn(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){const i=new Float32Array(3*t.normals.length);this.setAttribute("normal",new qn(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){const i=new Float32Array(3*t.colors.length);this.setAttribute("color",new qn(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){const i=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new qn(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){const i=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new qn(i,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(const i in t.morphTargets){const o=[],l=t.morphTargets[i];for(let h=0,g=l.length;h<g;h++){const v=l[h],w=new Nn(3*v.data.length,3);w.name=v.name,o.push(w.copyVector3sArray(v.data))}this.morphAttributes[i]=o}if(t.skinIndices.length>0){const i=new Nn(4*t.skinIndices.length,4);this.setAttribute("skinIndex",i.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){const i=new Nn(4*t.skinWeights.length,4);this.setAttribute("skinWeight",i.copyVector4sArray(t.skinWeights))}return t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new $a);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ye(-1/0,-1/0,-1/0),new ye(1/0,1/0,1/0));if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,o=e.length;i<o;i++){const l=e[i];pi.setFromBufferAttribute(l),this.morphTargetsRelative?(Ps.addVectors(this.boundingBox.min,pi.min),this.boundingBox.expandByPoint(Ps),Ps.addVectors(this.boundingBox.max,pi.max),this.boundingBox.expandByPoint(Ps)):(this.boundingBox.expandByPoint(pi.min),this.boundingBox.expandByPoint(pi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new da);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ye,1/0);if(t){const i=this.boundingSphere.center;if(pi.setFromBufferAttribute(t),e)for(let l=0,h=e.length;l<h;l++){const g=e[l];Xi.setFromBufferAttribute(g),this.morphTargetsRelative?(Ps.addVectors(pi.min,Xi.min),pi.expandByPoint(Ps),Ps.addVectors(pi.max,Xi.max),pi.expandByPoint(Ps)):(pi.expandByPoint(Xi.min),pi.expandByPoint(Xi.max))}pi.getCenter(i);let o=0;for(let l=0,h=t.count;l<h;l++)Ps.fromBufferAttribute(t,l),o=Math.max(o,i.distanceToSquared(Ps));if(e)for(let l=0,h=e.length;l<h;l++){const g=e[l],v=this.morphTargetsRelative;for(let w=0,S=g.count;w<S;w++)Ps.fromBufferAttribute(g,w),v&&(Sl.fromBufferAttribute(t,w),Ps.add(Sl)),o=Math.max(o,i.distanceToSquared(Ps))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new qn(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(let T=0,I=i.count;T<I;T++)i.setXYZ(T,0,0,0);const o=new ye,l=new ye,h=new ye,g=new ye,v=new ye,w=new ye,S=new ye,L=new ye;if(t)for(let T=0,I=t.count;T<I;T+=3){const F=t.getX(T+0),j=t.getX(T+1),K=t.getX(T+2);o.fromBufferAttribute(e,F),l.fromBufferAttribute(e,j),h.fromBufferAttribute(e,K),S.subVectors(h,l),L.subVectors(o,l),S.cross(L),g.fromBufferAttribute(i,F),v.fromBufferAttribute(i,j),w.fromBufferAttribute(i,K),g.add(S),v.add(S),w.add(S),i.setXYZ(F,g.x,g.y,g.z),i.setXYZ(j,v.x,v.y,v.z),i.setXYZ(K,w.x,w.y,w.z)}else for(let T=0,I=e.count;T<I;T+=3)o.fromBufferAttribute(e,T+0),l.fromBufferAttribute(e,T+1),h.fromBufferAttribute(e,T+2),S.subVectors(h,l),L.subVectors(o,l),S.cross(L),i.setXYZ(T+0,S.x,S.y,S.z),i.setXYZ(T+1,S.x,S.y,S.z),i.setXYZ(T+2,S.x,S.y,S.z);this.normalizeNormals(),i.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);e===void 0&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const o in i){if(t.attributes[o]===void 0)continue;const l=i[o].array,h=t.attributes[o],g=h.array,v=h.itemSize*e,w=Math.min(g.length,l.length-v);for(let S=0,L=v;S<w;S++,L++)l[L]=g[S]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)Ps.fromBufferAttribute(t,e),Ps.normalize(),t.setXYZ(e,Ps.x,Ps.y,Ps.z)},toNonIndexed:function(){function t(g,v){const w=g.array,S=g.itemSize,L=g.normalized,T=new w.constructor(v.length*S);let I=0,F=0;for(let j=0,K=v.length;j<K;j++){I=v[j]*S;for(let X=0;X<S;X++)T[F++]=w[I++]}return new qn(T,S,L)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const e=new Xn,i=this.index.array,o=this.attributes;for(const g in o){const v=t(o[g],i);e.setAttribute(g,v)}const l=this.morphAttributes;for(const g in l){const v=[],w=l[g];for(let S=0,L=w.length;S<L;S++){const T=t(w[S],i);v.push(T)}e.morphAttributes[g]=v}e.morphTargetsRelative=this.morphTargetsRelative;const h=this.groups;for(let g=0,v=h.length;g<v;g++){const w=h[g];e.addGroup(w.start,w.count,w.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const v=this.parameters;for(const w in v)v[w]!==void 0&&(t[w]=v[w]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const v in i){const w=i[v],S=w.toJSON(t.data);w.name!==""&&(S.name=w.name),t.data.attributes[v]=S}const o={};let l=!1;for(const v in this.morphAttributes){const w=this.morphAttributes[v],S=[];for(let L=0,T=w.length;L<T;L++){const I=w[L],F=I.toJSON(t.data);I.name!==""&&(F.name=I.name),S.push(F)}S.length>0&&(o[v]=S,l=!0)}l&&(t.data.morphAttributes=o,t.data.morphTargetsRelative=this.morphTargetsRelative);const h=this.groups;h.length>0&&(t.data.groups=JSON.parse(JSON.stringify(h)));const g=this.boundingSphere;return g!==null&&(t.data.boundingSphere={center:g.center.toArray(),radius:g.radius}),t},clone:function(){return new Xn().copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const o=t.attributes;for(const w in o){const S=o[w];this.setAttribute(w,S.clone(e))}const l=t.morphAttributes;for(const w in l){const S=[],L=l[w];for(let T=0,I=L.length;T<I;T++)S.push(L[T].clone(e));this.morphAttributes[w]=S}this.morphTargetsRelative=t.morphTargetsRelative;const h=t.groups;for(let w=0,S=h.length;w<S;w++){const L=h[w];this.addGroup(L.start,L.count,L.materialIndex)}const g=t.boundingBox;g!==null&&(this.boundingBox=g.clone());const v=t.boundingSphere;return v!==null&&(this.boundingSphere=v.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Ya=new Cr,El=new fs,ah=new da,lo=new ye,pu=new ye,gc=new ye,ng=new ye,qd=new ye,rg=new ye,Hl=new ye,$h=new ye,Xd=new ye,Yh=new Ot,$d=new Ot,Ml=new Ot,Hu=new ye,vc=new ye;function is(t=new Xn,e=new Si){N.call(this),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}function cp(t,e,i,o,l,h,g,v){let w;if(w=e.side===Y?o.intersectTriangle(g,h,l,!0,v):o.intersectTriangle(l,h,g,e.side!==Z,v),w===null)return null;vc.copy(v),vc.applyMatrix4(t.matrixWorld);const S=i.ray.origin.distanceTo(vc);return S<i.near||S>i.far?null:{distance:S,point:vc.clone(),object:t}}function Za(t,e,i,o,l,h,g,v,w,S,L,T){lo.fromBufferAttribute(l,S),pu.fromBufferAttribute(l,L),gc.fromBufferAttribute(l,T);const I=t.morphTargetInfluences;if(e.morphTargets&&h&&I){Hl.set(0,0,0),$h.set(0,0,0),Xd.set(0,0,0);for(let j=0,K=h.length;j<K;j++){const X=I[j],ee=h[j];X!==0&&(ng.fromBufferAttribute(ee,S),qd.fromBufferAttribute(ee,L),rg.fromBufferAttribute(ee,T),g?(Hl.addScaledVector(ng,X),$h.addScaledVector(qd,X),Xd.addScaledVector(rg,X)):(Hl.addScaledVector(ng.sub(lo),X),$h.addScaledVector(qd.sub(pu),X),Xd.addScaledVector(rg.sub(gc),X)))}lo.add(Hl),pu.add($h),gc.add(Xd)}t.isSkinnedMesh&&(t.boneTransform(S,lo),t.boneTransform(L,pu),t.boneTransform(T,gc));const F=cp(t,e,i,o,lo,pu,gc,Hu);if(F){v&&(Yh.fromBufferAttribute(v,S),$d.fromBufferAttribute(v,L),Ml.fromBufferAttribute(v,T),F.uv=Ut.getUV(Hu,lo,pu,gc,Yh,$d,Ml,new Ot)),w&&(Yh.fromBufferAttribute(w,S),$d.fromBufferAttribute(w,L),Ml.fromBufferAttribute(w,T),F.uv2=Ut.getUV(Hu,lo,pu,gc,Yh,$d,Ml,new Ot));const j=new kr(S,L,T);Ut.getNormal(lo,pu,gc,j.normal),F.face=j}return F}is.prototype=Object.assign(Object.create(N.prototype),{constructor:is,isMesh:!0,copy:function(t){return N.prototype.copy.call(this,t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const o=e[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,h=o.length;l<h;l++){const g=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[g]=l}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){const i=this.geometry,o=this.material,l=this.matrixWorld;if(o===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),ah.copy(i.boundingSphere),ah.applyMatrix4(l),t.ray.intersectsSphere(ah)===!1)||(Ya.copy(l).invert(),El.copy(t.ray).applyMatrix4(Ya),i.boundingBox!==null&&El.intersectsBox(i.boundingBox)===!1))return;let h;if(i.isBufferGeometry){const g=i.index,v=i.attributes.position,w=i.morphAttributes.position,S=i.morphTargetsRelative,L=i.attributes.uv,T=i.attributes.uv2,I=i.groups,F=i.drawRange;if(g!==null)if(Array.isArray(o))for(let j=0,K=I.length;j<K;j++){const X=I[j],ee=o[X.materialIndex];for(let me=Math.max(X.start,F.start),xe=Math.min(X.start+X.count,F.start+F.count);me<xe;me+=3){const _e=g.getX(me),Se=g.getX(me+1),Ne=g.getX(me+2);h=Za(this,ee,t,El,v,w,S,L,T,_e,Se,Ne),h&&(h.faceIndex=Math.floor(me/3),h.face.materialIndex=X.materialIndex,e.push(h))}}else for(let j=Math.max(0,F.start),K=Math.min(g.count,F.start+F.count);j<K;j+=3){const X=g.getX(j),ee=g.getX(j+1),me=g.getX(j+2);h=Za(this,o,t,El,v,w,S,L,T,X,ee,me),h&&(h.faceIndex=Math.floor(j/3),e.push(h))}else if(v!==void 0)if(Array.isArray(o))for(let j=0,K=I.length;j<K;j++){const X=I[j],ee=o[X.materialIndex];for(let me=Math.max(X.start,F.start),xe=Math.min(X.start+X.count,F.start+F.count);me<xe;me+=3)h=Za(this,ee,t,El,v,w,S,L,T,me,me+1,me+2),h&&(h.faceIndex=Math.floor(me/3),h.face.materialIndex=X.materialIndex,e.push(h))}else for(let j=Math.max(0,F.start),K=Math.min(v.count,F.start+F.count);j<K;j+=3)h=Za(this,o,t,El,v,w,S,L,T,j,j+1,j+2),h&&(h.faceIndex=Math.floor(j/3),e.push(h))}else if(i.isGeometry){const g=Array.isArray(o),v=i.vertices,w=i.faces;let S;const L=i.faceVertexUvs[0];L.length>0&&(S=L);for(let T=0,I=w.length;T<I;T++){const F=w[T],j=g?o[F.materialIndex]:o;if(j===void 0)continue;const K=v[F.a],X=v[F.b],ee=v[F.c];if(h=cp(this,j,t,El,K,X,ee,Hu),h){if(S&&S[T]){const me=S[T];Yh.copy(me[0]),$d.copy(me[1]),Ml.copy(me[2]),h.uv=Ut.getUV(Hu,K,X,ee,Yh,$d,Ml,new Ot)}h.face=F,h.faceIndex=T,e.push(h)}}}}});class ka extends Xn{constructor(e=1,i=1,o=1,l=1,h=1,g=1){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:i,depth:o,widthSegments:l,heightSegments:h,depthSegments:g};const v=this;l=Math.floor(l),h=Math.floor(h),g=Math.floor(g);const w=[],S=[],L=[],T=[];let I=0,F=0;function j(K,X,ee,me,xe,_e,Se,Ne,Ae,ut,mt){const jt=_e/Ae,Dt=Se/ut,_t=_e/2,Ht=Se/2,dn=Ne/2,an=Ae+1,or=ut+1;let kn=0,Tn=0;const mr=new ye;for(let gr=0;gr<or;gr++){const li=gr*Dt-Ht;for(let Ue=0;Ue<an;Ue++){const et=Ue*jt-_t;mr[K]=et*me,mr[X]=li*xe,mr[ee]=dn,S.push(mr.x,mr.y,mr.z),mr[K]=0,mr[X]=0,mr[ee]=Ne>0?1:-1,L.push(mr.x,mr.y,mr.z),T.push(Ue/Ae),T.push(1-gr/ut),kn+=1}}for(let gr=0;gr<ut;gr++)for(let li=0;li<Ae;li++){const Ue=I+li+an*gr,et=I+li+an*(gr+1),mn=I+(li+1)+an*(gr+1),Ft=I+(li+1)+an*gr;w.push(Ue,et,Ft),w.push(et,mn,Ft),Tn+=6}v.addGroup(F,Tn,mt),F+=Tn,I+=kn}j("z","y","x",-1,-1,o,i,e,g,h,0),j("z","y","x",1,-1,o,i,-e,g,h,1),j("x","z","y",1,1,e,o,i,l,g,2),j("x","z","y",1,-1,e,o,-i,l,g,3),j("x","y","z",1,-1,e,i,o,l,h,4),j("x","y","z",-1,-1,e,i,-o,l,h,5),this.setIndex(w),this.setAttribute("position",new Nn(S,3)),this.setAttribute("normal",new Nn(L,3)),this.setAttribute("uv",new Nn(T,2))}}function Ul(t){const e={};for(const i in t){e[i]={};for(const o in t[i]){const l=t[i][o];l&&(l.isColor||l.isMatrix3||l.isMatrix4||l.isVector2||l.isVector3||l.isVector4||l.isTexture)?e[i][o]=l.clone():Array.isArray(l)?e[i][o]=l.slice():e[i][o]=l}}return e}function Fs(t){const e={};for(let i=0;i<t.length;i++){const o=Ul(t[i]);for(const l in o)e[l]=o[l]}return e}const Uu={clone:Ul,merge:Fs};function uo(t){gn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&(t.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function mu(){N.call(this),this.type="Camera",this.matrixWorldInverse=new Cr,this.projectionMatrix=new Cr,this.projectionMatrixInverse=new Cr}function Js(t=50,e=1,i=.1,o=2e3){mu.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=o,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}uo.prototype=Object.create(gn.prototype),uo.prototype.constructor=uo,uo.prototype.isShaderMaterial=!0,uo.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Ul(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},uo.prototype.toJSON=function(t){const e=gn.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const o in this.uniforms){const l=this.uniforms[o].value;l&&l.isTexture?e.uniforms[o]={type:"t",value:l.toJSON(t).uuid}:l&&l.isColor?e.uniforms[o]={type:"c",value:l.getHex()}:l&&l.isVector2?e.uniforms[o]={type:"v2",value:l.toArray()}:l&&l.isVector3?e.uniforms[o]={type:"v3",value:l.toArray()}:l&&l.isVector4?e.uniforms[o]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?e.uniforms[o]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?e.uniforms[o]={type:"m4",value:l.toArray()}:e.uniforms[o]={value:l}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const i={};for(const o in this.extensions)this.extensions[o]===!0&&(i[o]=!0);return Object.keys(i).length>0&&(e.extensions=i),e},mu.prototype=Object.assign(Object.create(N.prototype),{constructor:mu,isCamera:!0,copy:function(t,e){return N.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new ye),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){N.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){N.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return new this.constructor().copy(this)}}),Js.prototype=Object.assign(Object.create(mu.prototype),{constructor:Js,isPerspectiveCamera:!0,copy:function(t,e){return mu.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=2*An.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(.5*An.DEG2RAD*this.fov);return .5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*An.RAD2DEG*Math.atan(Math.tan(.5*An.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,o,l,h){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=o,this.view.width=l,this.view.height=h,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(.5*An.DEG2RAD*this.fov)/this.zoom,i=2*e,o=this.aspect*i,l=-.5*o;const h=this.view;if(this.view!==null&&this.view.enabled){const v=h.fullWidth,w=h.fullHeight;l+=h.offsetX*o/v,e-=h.offsetY*i/w,o*=h.width/v,i*=h.height/w}const g=this.filmOffset;g!==0&&(l+=t*g/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+o,e,e-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=N.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});function yc(t,e,i){if(N.call(this),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=i;const o=new Js(90,1,t,e);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new ye(1,0,0)),this.add(o);const l=new Js(90,1,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new ye(-1,0,0)),this.add(l);const h=new Js(90,1,t,e);h.layers=this.layers,h.up.set(0,0,1),h.lookAt(new ye(0,1,0)),this.add(h);const g=new Js(90,1,t,e);g.layers=this.layers,g.up.set(0,0,-1),g.lookAt(new ye(0,-1,0)),this.add(g);const v=new Js(90,1,t,e);v.layers=this.layers,v.up.set(0,-1,0),v.lookAt(new ye(0,0,1)),this.add(v);const w=new Js(90,1,t,e);w.layers=this.layers,w.up.set(0,-1,0),w.lookAt(new ye(0,0,-1)),this.add(w),this.update=function(S,L){this.parent===null&&this.updateMatrixWorld();const T=S.xr.enabled,I=S.getRenderTarget();S.xr.enabled=!1;const F=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,S.setRenderTarget(i,0),S.render(L,o),S.setRenderTarget(i,1),S.render(L,l),S.setRenderTarget(i,2),S.render(L,h),S.setRenderTarget(i,3),S.render(L,g),S.setRenderTarget(i,4),S.render(L,v),i.texture.generateMipmaps=F,S.setRenderTarget(i,5),S.render(L,w),S.setRenderTarget(I),S.xr.enabled=T}}function Qs(t,e,i,o,l,h,g,v,w,S){t=t!==void 0?t:[],e=e!==void 0?e:wr,g=g!==void 0?g:bs,ti.call(this,t,e,i,o,l,h,g,v,w,S),this.flipY=!1,this._needsFlipEnvMap=!0}function co(t,e,i){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=i),Bo.call(this,t,t,e),e=e||{},this.texture=new Qs(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}function zi(t,e,i,o,l,h,g,v,w,S,L,T){ti.call(this,null,h,g,v,w,S,o,l,L,T),this.image={data:t||null,width:e||1,height:i||1},this.magFilter=w!==void 0?w:er,this.minFilter=S!==void 0?S:er,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}yc.prototype=Object.create(N.prototype),yc.prototype.constructor=yc,Qs.prototype=Object.create(ti.prototype),Qs.prototype.constructor=Qs,Qs.prototype.isCubeTexture=!0,Object.defineProperty(Qs.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),co.prototype=Object.create(Bo.prototype),co.prototype.constructor=co,co.prototype.isWebGLCubeRenderTarget=!0,co.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=fi,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,fragmentShader:`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`},o=new ka(5,5,5),l=new uo({name:"CubemapFromEquirect",uniforms:Ul(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Y,blending:le});l.uniforms.tEquirect.value=e;const h=new is(o,l),g=e.minFilter;return e.minFilter===Hs&&(e.minFilter=br),new yc(1,10,this).update(t,h),e.minFilter=g,h.geometry.dispose(),h.material.dispose(),this},co.prototype.clear=function(t,e,i,o){const l=t.getRenderTarget();for(let h=0;h<6;h++)t.setRenderTarget(this,h),t.clear(e,i,o);t.setRenderTarget(l)},zi.prototype=Object.create(ti.prototype),zi.prototype.constructor=zi,zi.prototype.isDataTexture=!0;const Oa=new da,hp=new ye;class Yd{constructor(e,i,o,l,h,g){this.planes=[e!==void 0?e:new de,i!==void 0?i:new de,o!==void 0?o:new de,l!==void 0?l:new de,h!==void 0?h:new de,g!==void 0?g:new de]}set(e,i,o,l,h,g){const v=this.planes;return v[0].copy(e),v[1].copy(i),v[2].copy(o),v[3].copy(l),v[4].copy(h),v[5].copy(g),this}clone(){return new this.constructor().copy(this)}copy(e){const i=this.planes;for(let o=0;o<6;o++)i[o].copy(e.planes[o]);return this}setFromProjectionMatrix(e){const i=this.planes,o=e.elements,l=o[0],h=o[1],g=o[2],v=o[3],w=o[4],S=o[5],L=o[6],T=o[7],I=o[8],F=o[9],j=o[10],K=o[11],X=o[12],ee=o[13],me=o[14],xe=o[15];return i[0].setComponents(v-l,T-w,K-I,xe-X).normalize(),i[1].setComponents(v+l,T+w,K+I,xe+X).normalize(),i[2].setComponents(v+h,T+S,K+F,xe+ee).normalize(),i[3].setComponents(v-h,T-S,K-F,xe-ee).normalize(),i[4].setComponents(v-g,T-L,K-j,xe-me).normalize(),i[5].setComponents(v+g,T+L,K+j,xe+me).normalize(),this}intersectsObject(e){const i=e.geometry;return i.boundingSphere===null&&i.computeBoundingSphere(),Oa.copy(i.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Oa)}intersectsSprite(e){return Oa.center.set(0,0,0),Oa.radius=.7071067811865476,Oa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Oa)}intersectsSphere(e){const i=this.planes,o=e.center,l=-e.radius;for(let h=0;h<6;h++)if(i[h].distanceToPoint(o)<l)return!1;return!0}intersectsBox(e){const i=this.planes;for(let o=0;o<6;o++){const l=i[o];if(hp.x=l.normal.x>0?e.max.x:e.min.x,hp.y=l.normal.y>0?e.max.y:e.min.y,hp.z=l.normal.z>0?e.max.z:e.min.z,l.distanceToPoint(hp)<0)return!1}return!0}containsPoint(e){const i=this.planes;for(let o=0;o<6;o++)if(i[o].distanceToPoint(e)<0)return!1;return!0}}function ig(){let t=null,e=!1,i=null,o=null;function l(h,g){i(h,g),o=t.requestAnimationFrame(l)}return{start:function(){e!==!0&&i!==null&&(o=t.requestAnimationFrame(l),e=!0)},stop:function(){t.cancelAnimationFrame(o),e=!1},setAnimationLoop:function(h){i=h},setContext:function(h){t=h}}}function $v(t,e){const i=e.isWebGL2,o=new WeakMap;return{get:function(l){return l.isInterleavedBufferAttribute&&(l=l.data),o.get(l)},remove:function(l){l.isInterleavedBufferAttribute&&(l=l.data);const h=o.get(l);h&&(t.deleteBuffer(h.buffer),o.delete(l))},update:function(l,h){if(l.isGLBufferAttribute){const v=o.get(l);return void((!v||v.version<l.version)&&o.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version}))}l.isInterleavedBufferAttribute&&(l=l.data);const g=o.get(l);g===void 0?o.set(l,function(v,w){const S=v.array,L=v.usage,T=t.createBuffer();t.bindBuffer(w,T),t.bufferData(w,S,L),v.onUploadCallback();let I=5126;return S instanceof Float32Array?I=5126:S instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):S instanceof Uint16Array?v.isFloat16BufferAttribute?i?I=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):I=5123:S instanceof Int16Array?I=5122:S instanceof Uint32Array?I=5125:S instanceof Int32Array?I=5124:S instanceof Int8Array?I=5120:S instanceof Uint8Array&&(I=5121),{buffer:T,type:I,bytesPerElement:S.BYTES_PER_ELEMENT,version:v.version}}(l,h)):g.version<l.version&&(function(v,w,S){const L=w.array,T=w.updateRange;t.bindBuffer(S,v),T.count===-1?t.bufferSubData(S,0,L):(i?t.bufferSubData(S,T.offset*L.BYTES_PER_ELEMENT,L,T.offset,T.count):t.bufferSubData(S,T.offset*L.BYTES_PER_ELEMENT,L.subarray(T.offset,T.offset+T.count)),T.count=-1)}(g.buffer,l,h),g.version=l.version)}}}class dp extends Xn{constructor(e=1,i=1,o=1,l=1){super(),this.type="PlaneBufferGeometry",this.parameters={width:e,height:i,widthSegments:o,heightSegments:l};const h=e/2,g=i/2,v=Math.floor(o),w=Math.floor(l),S=v+1,L=w+1,T=e/v,I=i/w,F=[],j=[],K=[],X=[];for(let ee=0;ee<L;ee++){const me=ee*I-g;for(let xe=0;xe<S;xe++){const _e=xe*T-h;j.push(_e,-me,0),K.push(0,0,1),X.push(xe/v),X.push(1-ee/w)}}for(let ee=0;ee<w;ee++)for(let me=0;me<v;me++){const xe=me+S*ee,_e=me+S*(ee+1),Se=me+1+S*(ee+1),Ne=me+1+S*ee;F.push(xe,_e,Ne),F.push(_e,Se,Ne)}this.setIndex(F),this.setAttribute("position",new Nn(j,3)),this.setAttribute("normal",new Nn(K,3)),this.setAttribute("uv",new Nn(X,2))}}const Jr={alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment:`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_pars_vertex:`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex:`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common:`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment:`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment:`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float fogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment:`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex:`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin:`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,lights_toon_fragment:`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,lights_physical_pars_fragment:`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin:`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps:`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,clearcoat_normal_fragment_begin:`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps:`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,clearcoat_pars_fragment:`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmissionmap_fragment:`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,transmissionmap_pars_fragment:`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,uv_pars_fragment:`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex:`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex:`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,normal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,normal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`},Dn={common:{diffuse:{value:new zt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ui},uv2Transform:{value:new Ui},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ot(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new zt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new zt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Ui}},sprite:{diffuse:{value:new zt(15658734)},opacity:{value:1},center:{value:new Ot(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Ui}}},Ia={basic:{uniforms:Fs([Dn.common,Dn.specularmap,Dn.envmap,Dn.aomap,Dn.lightmap,Dn.fog]),vertexShader:Jr.meshbasic_vert,fragmentShader:Jr.meshbasic_frag},lambert:{uniforms:Fs([Dn.common,Dn.specularmap,Dn.envmap,Dn.aomap,Dn.lightmap,Dn.emissivemap,Dn.fog,Dn.lights,{emissive:{value:new zt(0)}}]),vertexShader:Jr.meshlambert_vert,fragmentShader:Jr.meshlambert_frag},phong:{uniforms:Fs([Dn.common,Dn.specularmap,Dn.envmap,Dn.aomap,Dn.lightmap,Dn.emissivemap,Dn.bumpmap,Dn.normalmap,Dn.displacementmap,Dn.fog,Dn.lights,{emissive:{value:new zt(0)},specular:{value:new zt(1118481)},shininess:{value:30}}]),vertexShader:Jr.meshphong_vert,fragmentShader:Jr.meshphong_frag},standard:{uniforms:Fs([Dn.common,Dn.envmap,Dn.aomap,Dn.lightmap,Dn.emissivemap,Dn.bumpmap,Dn.normalmap,Dn.displacementmap,Dn.roughnessmap,Dn.metalnessmap,Dn.fog,Dn.lights,{emissive:{value:new zt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Jr.meshphysical_vert,fragmentShader:Jr.meshphysical_frag},toon:{uniforms:Fs([Dn.common,Dn.aomap,Dn.lightmap,Dn.emissivemap,Dn.bumpmap,Dn.normalmap,Dn.displacementmap,Dn.gradientmap,Dn.fog,Dn.lights,{emissive:{value:new zt(0)}}]),vertexShader:Jr.meshtoon_vert,fragmentShader:Jr.meshtoon_frag},matcap:{uniforms:Fs([Dn.common,Dn.bumpmap,Dn.normalmap,Dn.displacementmap,Dn.fog,{matcap:{value:null}}]),vertexShader:Jr.meshmatcap_vert,fragmentShader:Jr.meshmatcap_frag},points:{uniforms:Fs([Dn.points,Dn.fog]),vertexShader:Jr.points_vert,fragmentShader:Jr.points_frag},dashed:{uniforms:Fs([Dn.common,Dn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Jr.linedashed_vert,fragmentShader:Jr.linedashed_frag},depth:{uniforms:Fs([Dn.common,Dn.displacementmap]),vertexShader:Jr.depth_vert,fragmentShader:Jr.depth_frag},normal:{uniforms:Fs([Dn.common,Dn.bumpmap,Dn.normalmap,Dn.displacementmap,{opacity:{value:1}}]),vertexShader:Jr.normal_vert,fragmentShader:Jr.normal_frag},sprite:{uniforms:Fs([Dn.sprite,Dn.fog]),vertexShader:Jr.sprite_vert,fragmentShader:Jr.sprite_frag},background:{uniforms:{uvTransform:{value:new Ui},t2D:{value:null}},vertexShader:Jr.background_vert,fragmentShader:Jr.background_frag},cube:{uniforms:Fs([Dn.envmap,{opacity:{value:1}}]),vertexShader:Jr.cube_vert,fragmentShader:Jr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Jr.equirect_vert,fragmentShader:Jr.equirect_frag},distanceRGBA:{uniforms:Fs([Dn.common,Dn.displacementmap,{referencePosition:{value:new ye},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Jr.distanceRGBA_vert,fragmentShader:Jr.distanceRGBA_frag},shadow:{uniforms:Fs([Dn.lights,Dn.fog,{color:{value:new zt(0)},opacity:{value:1}}]),vertexShader:Jr.shadow_vert,fragmentShader:Jr.shadow_frag}};function Yv(t,e,i,o,l){const h=new zt(0);let g,v,w=0,S=null,L=0,T=null;function I(F,j){i.buffers.color.setClear(F.r,F.g,F.b,j,l)}return{getClearColor:function(){return h},setClearColor:function(F,j=1){h.set(F),w=j,I(h,w)},getClearAlpha:function(){return w},setClearAlpha:function(F){w=F,I(h,w)},render:function(F,j,K,X){let ee=j.isScene===!0?j.background:null;ee&&ee.isTexture&&(ee=e.get(ee));const me=t.xr,xe=me.getSession&&me.getSession();xe&&xe.environmentBlendMode==="additive"&&(ee=null),ee===null?I(h,w):ee&&ee.isColor&&(I(ee,1),X=!0),(t.autoClear||X)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),ee&&(ee.isCubeTexture||ee.isWebGLCubeRenderTarget||ee.mapping===di)?(v===void 0&&(v=new is(new ka(1,1,1),new uo({name:"BackgroundCubeMaterial",uniforms:Ul(Ia.cube.uniforms),vertexShader:Ia.cube.vertexShader,fragmentShader:Ia.cube.fragmentShader,side:Y,depthTest:!1,depthWrite:!1,fog:!1})),v.geometry.deleteAttribute("normal"),v.geometry.deleteAttribute("uv"),v.onBeforeRender=function(_e,Se,Ne){this.matrixWorld.copyPosition(Ne.matrixWorld)},Object.defineProperty(v.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(v)),ee.isWebGLCubeRenderTarget&&(ee=ee.texture),v.material.uniforms.envMap.value=ee,v.material.uniforms.flipEnvMap.value=ee.isCubeTexture&&ee._needsFlipEnvMap?-1:1,S===ee&&L===ee.version&&T===t.toneMapping||(v.material.needsUpdate=!0,S=ee,L=ee.version,T=t.toneMapping),F.unshift(v,v.geometry,v.material,0,0,null)):ee&&ee.isTexture&&(g===void 0&&(g=new is(new dp(2,2),new uo({name:"BackgroundMaterial",uniforms:Ul(Ia.background.uniforms),vertexShader:Ia.background.vertexShader,fragmentShader:Ia.background.fragmentShader,side:q,depthTest:!1,depthWrite:!1,fog:!1})),g.geometry.deleteAttribute("normal"),Object.defineProperty(g.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(g)),g.material.uniforms.t2D.value=ee,ee.matrixAutoUpdate===!0&&ee.updateMatrix(),g.material.uniforms.uvTransform.value.copy(ee.matrix),S===ee&&L===ee.version&&T===t.toneMapping||(g.material.needsUpdate=!0,S=ee,L=ee.version,T=t.toneMapping),F.unshift(g,g.geometry,g.material,0,0,null))}}}function $1(t,e,i,o){const l=t.getParameter(34921),h=o.isWebGL2?null:e.get("OES_vertex_array_object"),g=o.isWebGL2||h!==null,v={},w=I(null);let S=w;function L(_e){return o.isWebGL2?t.bindVertexArray(_e):h.bindVertexArrayOES(_e)}function T(_e){return o.isWebGL2?t.deleteVertexArray(_e):h.deleteVertexArrayOES(_e)}function I(_e){const Se=[],Ne=[],Ae=[];for(let ut=0;ut<l;ut++)Se[ut]=0,Ne[ut]=0,Ae[ut]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Se,enabledAttributes:Ne,attributeDivisors:Ae,object:_e,attributes:{},index:null}}function F(){const _e=S.newAttributes;for(let Se=0,Ne=_e.length;Se<Ne;Se++)_e[Se]=0}function j(_e){K(_e,0)}function K(_e,Se){const Ne=S.newAttributes,Ae=S.enabledAttributes,ut=S.attributeDivisors;Ne[_e]=1,Ae[_e]===0&&(t.enableVertexAttribArray(_e),Ae[_e]=1),ut[_e]!==Se&&((o.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[o.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](_e,Se),ut[_e]=Se)}function X(){const _e=S.newAttributes,Se=S.enabledAttributes;for(let Ne=0,Ae=Se.length;Ne<Ae;Ne++)Se[Ne]!==_e[Ne]&&(t.disableVertexAttribArray(Ne),Se[Ne]=0)}function ee(_e,Se,Ne,Ae,ut,mt){o.isWebGL2!==!0||Ne!==5124&&Ne!==5125?t.vertexAttribPointer(_e,Se,Ne,Ae,ut,mt):t.vertexAttribIPointer(_e,Se,Ne,ut,mt)}function me(){xe(),S!==w&&(S=w,L(S.object))}function xe(){w.geometry=null,w.program=null,w.wireframe=!1}return{setup:function(_e,Se,Ne,Ae,ut){let mt=!1;if(g){const jt=function(Dt,_t,Ht){const dn=Ht.wireframe===!0;let an=v[Dt.id];an===void 0&&(an={},v[Dt.id]=an);let or=an[_t.id];or===void 0&&(or={},an[_t.id]=or);let kn=or[dn];return kn===void 0&&(kn=I(o.isWebGL2?t.createVertexArray():h.createVertexArrayOES()),or[dn]=kn),kn}(Ae,Ne,Se);S!==jt&&(S=jt,L(S.object)),mt=function(Dt,_t){const Ht=S.attributes,dn=Dt.attributes;let an=0;for(const or in dn){const kn=Ht[or],Tn=dn[or];if(kn===void 0||kn.attribute!==Tn||kn.data!==Tn.data)return!0;an++}return S.attributesNum!==an||S.index!==_t}(Ae,ut),mt&&function(Dt,_t){const Ht={},dn=Dt.attributes;let an=0;for(const or in dn){const kn=dn[or],Tn={};Tn.attribute=kn,kn.data&&(Tn.data=kn.data),Ht[or]=Tn,an++}S.attributes=Ht,S.attributesNum=an,S.index=_t}(Ae,ut)}else{const jt=Se.wireframe===!0;S.geometry===Ae.id&&S.program===Ne.id&&S.wireframe===jt||(S.geometry=Ae.id,S.program=Ne.id,S.wireframe=jt,mt=!0)}_e.isInstancedMesh===!0&&(mt=!0),ut!==null&&i.update(ut,34963),mt&&(function(jt,Dt,_t,Ht){if(o.isWebGL2===!1&&(jt.isInstancedMesh||Ht.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;F();const dn=Ht.attributes,an=_t.getAttributes(),or=Dt.defaultAttributeValues;for(const kn in an){const Tn=an[kn];if(Tn>=0){const mr=dn[kn];if(mr!==void 0){const gr=mr.normalized,li=mr.itemSize,Ue=i.get(mr);if(Ue===void 0)continue;const et=Ue.buffer,mn=Ue.type,Ft=Ue.bytesPerElement;if(mr.isInterleavedBufferAttribute){const Ie=mr.data,Wt=Ie.stride,fn=mr.offset;Ie&&Ie.isInstancedInterleavedBuffer?(K(Tn,Ie.meshPerAttribute),Ht._maxInstanceCount===void 0&&(Ht._maxInstanceCount=Ie.meshPerAttribute*Ie.count)):j(Tn),t.bindBuffer(34962,et),ee(Tn,li,mn,gr,Wt*Ft,fn*Ft)}else mr.isInstancedBufferAttribute?(K(Tn,mr.meshPerAttribute),Ht._maxInstanceCount===void 0&&(Ht._maxInstanceCount=mr.meshPerAttribute*mr.count)):j(Tn),t.bindBuffer(34962,et),ee(Tn,li,mn,gr,0,0)}else if(kn==="instanceMatrix"){const gr=i.get(jt.instanceMatrix);if(gr===void 0)continue;const li=gr.buffer,Ue=gr.type;K(Tn+0,1),K(Tn+1,1),K(Tn+2,1),K(Tn+3,1),t.bindBuffer(34962,li),t.vertexAttribPointer(Tn+0,4,Ue,!1,64,0),t.vertexAttribPointer(Tn+1,4,Ue,!1,64,16),t.vertexAttribPointer(Tn+2,4,Ue,!1,64,32),t.vertexAttribPointer(Tn+3,4,Ue,!1,64,48)}else if(kn==="instanceColor"){const gr=i.get(jt.instanceColor);if(gr===void 0)continue;const li=gr.buffer,Ue=gr.type;K(Tn,1),t.bindBuffer(34962,li),t.vertexAttribPointer(Tn,3,Ue,!1,12,0)}else if(or!==void 0){const gr=or[kn];if(gr!==void 0)switch(gr.length){case 2:t.vertexAttrib2fv(Tn,gr);break;case 3:t.vertexAttrib3fv(Tn,gr);break;case 4:t.vertexAttrib4fv(Tn,gr);break;default:t.vertexAttrib1fv(Tn,gr)}}}}X()}(_e,Se,Ne,Ae),ut!==null&&t.bindBuffer(34963,i.get(ut).buffer))},reset:me,resetDefaultState:xe,dispose:function(){me();for(const _e in v){const Se=v[_e];for(const Ne in Se){const Ae=Se[Ne];for(const ut in Ae)T(Ae[ut].object),delete Ae[ut];delete Se[Ne]}delete v[_e]}},releaseStatesOfGeometry:function(_e){if(v[_e.id]===void 0)return;const Se=v[_e.id];for(const Ne in Se){const Ae=Se[Ne];for(const ut in Ae)T(Ae[ut].object),delete Ae[ut];delete Se[Ne]}delete v[_e.id]},releaseStatesOfProgram:function(_e){for(const Se in v){const Ne=v[Se];if(Ne[_e.id]===void 0)continue;const Ae=Ne[_e.id];for(const ut in Ae)T(Ae[ut].object),delete Ae[ut];delete Ne[_e.id]}},initAttributes:F,enableAttribute:j,disableUnusedAttributes:X}}function fp(t,e,i,o){const l=o.isWebGL2;let h;this.setMode=function(g){h=g},this.render=function(g,v){t.drawArrays(h,g,v),i.update(v,h,1)},this.renderInstances=function(g,v,w){if(w===0)return;let S,L;if(l)S=t,L="drawArraysInstanced";else if(S=e.get("ANGLE_instanced_arrays"),L="drawArraysInstancedANGLE",S===null)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");S[L](h,g,v,w),i.update(v,h,w)}}function sg(t,e,i){let o;function l(xe){if(xe==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";xe="mediump"}return xe==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const h=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let g=i.precision!==void 0?i.precision:"highp";const v=l(g);v!==g&&(console.warn("THREE.WebGLRenderer:",g,"not supported, using",v,"instead."),g=v);const w=i.logarithmicDepthBuffer===!0,S=t.getParameter(34930),L=t.getParameter(35660),T=t.getParameter(3379),I=t.getParameter(34076),F=t.getParameter(34921),j=t.getParameter(36347),K=t.getParameter(36348),X=t.getParameter(36349),ee=L>0,me=h||!!e.get("OES_texture_float");return{isWebGL2:h,getMaxAnisotropy:function(){if(o!==void 0)return o;const xe=e.get("EXT_texture_filter_anisotropic");return o=xe!==null?t.getParameter(xe.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,o},getMaxPrecision:l,precision:g,logarithmicDepthBuffer:w,maxTextures:S,maxVertexTextures:L,maxTextureSize:T,maxCubemapSize:I,maxAttributes:F,maxVertexUniforms:j,maxVaryings:K,maxFragmentUniforms:X,vertexTextures:ee,floatFragmentTextures:me,floatVertexTextures:ee&&me,maxSamples:h?t.getParameter(36183):0}}function Nx(t){const e=this;let i=null,o=0,l=!1,h=!1;const g=new de,v=new Ui,w={value:null,needsUpdate:!1};function S(){w.value!==i&&(w.value=i,w.needsUpdate=o>0),e.numPlanes=o,e.numIntersection=0}function L(T,I,F,j){const K=T!==null?T.length:0;let X=null;if(K!==0){if(X=w.value,j!==!0||X===null){const ee=F+4*K,me=I.matrixWorldInverse;v.getNormalMatrix(me),(X===null||X.length<ee)&&(X=new Float32Array(ee));for(let xe=0,_e=F;xe!==K;++xe,_e+=4)g.copy(T[xe]).applyMatrix4(me,v),g.normal.toArray(X,_e),X[_e+3]=g.constant}w.value=X,w.needsUpdate=!0}return e.numPlanes=K,e.numIntersection=0,X}this.uniform=w,this.numPlanes=0,this.numIntersection=0,this.init=function(T,I,F){const j=T.length!==0||I||o!==0||l;return l=I,i=L(T,F,0),o=T.length,j},this.beginShadows=function(){h=!0,L(null)},this.endShadows=function(){h=!1,S()},this.setState=function(T,I,F){const j=T.clippingPlanes,K=T.clipIntersection,X=T.clipShadows,ee=t.get(T);if(!l||j===null||j.length===0||h&&!X)h?L(null):S();else{const me=h?0:o,xe=4*me;let _e=ee.clippingState||null;w.value=_e,_e=L(j,I,xe,F);for(let Se=0;Se!==xe;++Se)_e[Se]=i[Se];ee.clippingState=_e,this.numIntersection=K?this.numPlanes:0,this.numPlanes+=me}}}function Dx(t){let e=new WeakMap;function i(l,h){return h===Wn?l.mapping=wr:h===Fr&&(l.mapping=_r),l}function o(l){const h=l.target;h.removeEventListener("dispose",o);const g=e.get(h);g!==void 0&&(e.delete(h),g.dispose())}return{get:function(l){if(l&&l.isTexture){const h=l.mapping;if(h===Wn||h===Fr){if(e.has(l))return i(e.get(l).texture,l.mapping);{const g=l.image;if(g&&g.height>0){const v=t.getRenderList(),w=t.getRenderTarget(),S=new co(g.height/2);return S.fromEquirectangularTexture(t,l),e.set(l,S),t.setRenderTarget(w),t.setRenderList(v),l.addEventListener("dispose",o),i(S.texture,l.mapping)}return null}}}return l},dispose:function(){e=new WeakMap}}}function Zd(t){const e={};return{has:function(i){if(e[i]!==void 0)return e[i]!==null;let o;switch(i){case"WEBGL_depth_texture":o=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=t.getExtension(i)}return e[i]=o,o!==null},get:function(i){return this.has(i)||console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),e[i]}}}function Fx(t,e,i,o){const l=new WeakMap,h=new WeakMap;function g(w){const S=w.target,L=l.get(S);L.index!==null&&e.remove(L.index);for(const I in L.attributes)e.remove(L.attributes[I]);S.removeEventListener("dispose",g),l.delete(S);const T=h.get(L);T&&(e.remove(T),h.delete(L)),o.releaseStatesOfGeometry(L),S.isInstancedBufferGeometry===!0&&delete S._maxInstanceCount,i.memory.geometries--}function v(w){const S=[],L=w.index,T=w.attributes.position;let I=0;if(L!==null){const K=L.array;I=L.version;for(let X=0,ee=K.length;X<ee;X+=3){const me=K[X+0],xe=K[X+1],_e=K[X+2];S.push(me,xe,xe,_e,_e,me)}}else{const K=T.array;I=T.version;for(let X=0,ee=K.length/3-1;X<ee;X+=3){const me=X+0,xe=X+1,_e=X+2;S.push(me,xe,xe,_e,_e,me)}}const F=new(sh(S)>65535?fu:ll)(S,1);F.version=I;const j=h.get(w);j&&e.remove(j),h.set(w,F)}return{get:function(w,S){let L=l.get(S);return L||(S.addEventListener("dispose",g),S.isBufferGeometry?L=S:S.isGeometry&&(S._bufferGeometry===void 0&&(S._bufferGeometry=new Xn().setFromObject(w)),L=S._bufferGeometry),l.set(S,L),i.memory.geometries++,L)},update:function(w){const S=w.attributes;for(const T in S)e.update(S[T],34962);const L=w.morphAttributes;for(const T in L){const I=L[T];for(let F=0,j=I.length;F<j;F++)e.update(I[F],34962)}},getWireframeAttribute:function(w){const S=h.get(w);if(S){const L=w.index;L!==null&&S.version<L.version&&v(w)}else v(w);return h.get(w)}}}function og(t,e,i,o){const l=o.isWebGL2;let h,g,v;this.setMode=function(w){h=w},this.setIndex=function(w){g=w.type,v=w.bytesPerElement},this.render=function(w,S){t.drawElements(h,S,g,w*v),i.update(S,h,1)},this.renderInstances=function(w,S,L){if(L===0)return;let T,I;if(l)T=t,I="drawElementsInstanced";else if(T=e.get("ANGLE_instanced_arrays"),I="drawElementsInstancedANGLE",T===null)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");T[I](h,S,g,w*v,L),i.update(S,h,L)}}function ag(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(i,o,l){switch(e.calls++,o){case 4:e.triangles+=l*(i/3);break;case 1:e.lines+=l*(i/2);break;case 3:e.lines+=l*(i-1);break;case 2:e.lines+=l*i;break;case 0:e.points+=l*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function Kd(t,e){return t[0]-e[0]}function Zv(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Kv(t){const e={},i=new Float32Array(8),o=[];for(let l=0;l<8;l++)o[l]=[l,0];return{update:function(l,h,g,v){const w=l.morphTargetInfluences,S=w===void 0?0:w.length;let L=e[h.id];if(L===void 0){L=[];for(let K=0;K<S;K++)L[K]=[K,0];e[h.id]=L}for(let K=0;K<S;K++){const X=L[K];X[0]=K,X[1]=w[K]}L.sort(Zv);for(let K=0;K<8;K++)K<S&&L[K][1]?(o[K][0]=L[K][0],o[K][1]=L[K][1]):(o[K][0]=Number.MAX_SAFE_INTEGER,o[K][1]=0);o.sort(Kd);const T=g.morphTargets&&h.morphAttributes.position,I=g.morphNormals&&h.morphAttributes.normal;let F=0;for(let K=0;K<8;K++){const X=o[K],ee=X[0],me=X[1];ee!==Number.MAX_SAFE_INTEGER&&me?(T&&h.getAttribute("morphTarget"+K)!==T[ee]&&h.setAttribute("morphTarget"+K,T[ee]),I&&h.getAttribute("morphNormal"+K)!==I[ee]&&h.setAttribute("morphNormal"+K,I[ee]),i[K]=me,F+=me):(T&&h.hasAttribute("morphTarget"+K)===!0&&h.deleteAttribute("morphTarget"+K),I&&h.hasAttribute("morphNormal"+K)===!0&&h.deleteAttribute("morphNormal"+K),i[K]=0)}const j=h.morphTargetsRelative?1:1-F;v.getUniforms().setValue(t,"morphTargetBaseInfluence",j),v.getUniforms().setValue(t,"morphTargetInfluences",i)}}}function Jv(t,e,i,o){let l=new WeakMap;function h(g){const v=g.target;v.removeEventListener("dispose",h),i.remove(v.instanceMatrix),v.instanceColor!==null&&i.remove(v.instanceColor)}return{update:function(g){const v=o.render.frame,w=g.geometry,S=e.get(g,w);return l.get(S)!==v&&(w.isGeometry&&S.updateFromObject(g),e.update(S),l.set(S,v)),g.isInstancedMesh&&(g.hasEventListener("dispose",h)===!1&&g.addEventListener("dispose",h),i.update(g.instanceMatrix,34962),g.instanceColor!==null&&i.update(g.instanceColor,34962)),S},dispose:function(){l=new WeakMap}}}function lh(t=null,e=1,i=1,o=1){ti.call(this,null),this.image={data:t,width:e,height:i,depth:o},this.magFilter=er,this.minFilter=er,this.wrapR=Nr,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function gu(t=null,e=1,i=1,o=1){ti.call(this,null),this.image={data:t,width:e,height:i,depth:o},this.magFilter=er,this.minFilter=er,this.wrapR=Nr,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Ia.physical={uniforms:Fs([Ia.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ot(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new zt(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Jr.meshphysical_vert,fragmentShader:Jr.meshphysical_frag},lh.prototype=Object.create(ti.prototype),lh.prototype.constructor=lh,lh.prototype.isDataTexture2DArray=!0,gu.prototype=Object.create(ti.prototype),gu.prototype.constructor=gu,gu.prototype.isDataTexture3D=!0;const Al=new ti,Zh=new lh,Qv=new gu,e0=new Qs,Gu=[],xc=[],lg=new Float32Array(16),t0=new Float32Array(9),Vu=new Float32Array(4);function Tl(t,e,i){const o=t[0];if(o<=0||o>0)return t;const l=e*i;let h=Gu[l];if(h===void 0&&(h=new Float32Array(l),Gu[l]=h),e!==0){o.toArray(h,0);for(let g=1,v=0;g!==e;++g)v+=i,t[g].toArray(h,v)}return h}function Ka(t,e){if(t.length!==e.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==e[i])return!1;return!0}function ul(t,e){for(let i=0,o=e.length;i<o;i++)t[i]=e[i]}function pp(t,e){let i=xc[e];i===void 0&&(i=new Int32Array(e),xc[e]=i);for(let o=0;o!==e;++o)i[o]=t.allocateTextureUnit();return i}function zx(t,e){const i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function mp(t,e){const i=this.cache;if(e.x!==void 0)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Ka(i,e))return;t.uniform2fv(this.addr,e),ul(i,e)}}function Wu(t,e){const i=this.cache;if(e.x!==void 0)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(e.r!==void 0)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(Ka(i,e))return;t.uniform3fv(this.addr,e),ul(i,e)}}function gp(t,e){const i=this.cache;if(e.x!==void 0)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Ka(i,e))return;t.uniform4fv(this.addr,e),ul(i,e)}}function vp(t,e){const i=this.cache,o=e.elements;if(o===void 0){if(Ka(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),ul(i,e)}else{if(Ka(i,o))return;Vu.set(o),t.uniformMatrix2fv(this.addr,!1,Vu),ul(i,o)}}function Kh(t,e){const i=this.cache,o=e.elements;if(o===void 0){if(Ka(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),ul(i,e)}else{if(Ka(i,o))return;t0.set(o),t.uniformMatrix3fv(this.addr,!1,t0),ul(i,o)}}function n0(t,e){const i=this.cache,o=e.elements;if(o===void 0){if(Ka(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),ul(i,e)}else{if(Ka(i,o))return;lg.set(o),t.uniformMatrix4fv(this.addr,!1,lg),ul(i,o)}}function Jd(t,e,i){const o=this.cache,l=i.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),i.safeSetTexture2D(e||Al,l)}function Bx(t,e,i){const o=this.cache,l=i.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),i.setTexture2DArray(e||Zh,l)}function r0(t,e,i){const o=this.cache,l=i.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),i.setTexture3D(e||Qv,l)}function Ws(t,e,i){const o=this.cache,l=i.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),i.safeSetTextureCube(e||e0,l)}function ug(t,e){const i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function i0(t,e){const i=this.cache;Ka(i,e)||(t.uniform2iv(this.addr,e),ul(i,e))}function s0(t,e){const i=this.cache;Ka(i,e)||(t.uniform3iv(this.addr,e),ul(i,e))}function cg(t,e){const i=this.cache;Ka(i,e)||(t.uniform4iv(this.addr,e),ul(i,e))}function o0(t,e){const i=this.cache;i[0]!==e&&(t.uniform1ui(this.addr,e),i[0]=e)}function Jh(t,e){t.uniform1fv(this.addr,e)}function qs(t,e){t.uniform1iv(this.addr,e)}function Ho(t,e){t.uniform2iv(this.addr,e)}function Jo(t,e){t.uniform3iv(this.addr,e)}function hg(t,e){t.uniform4iv(this.addr,e)}function yp(t,e){const i=Tl(e,this.size,2);t.uniform2fv(this.addr,i)}function xp(t,e){const i=Tl(e,this.size,3);t.uniform3fv(this.addr,i)}function Y1(t,e){const i=Tl(e,this.size,4);t.uniform4fv(this.addr,i)}function Na(t,e){const i=Tl(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function a0(t,e){const i=Tl(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function l0(t,e){const i=Tl(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function u0(t,e,i){const o=e.length,l=pp(i,o);t.uniform1iv(this.addr,l);for(let h=0;h!==o;++h)i.safeSetTexture2D(e[h]||Al,l[h])}function qu(t,e,i){const o=e.length,l=pp(i,o);t.uniform1iv(this.addr,l);for(let h=0;h!==o;++h)i.safeSetTextureCube(e[h]||e0,l[h])}function Gl(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(o){switch(o){case 5126:return zx;case 35664:return mp;case 35665:return Wu;case 35666:return gp;case 35674:return vp;case 35675:return Kh;case 35676:return n0;case 5124:case 35670:return ug;case 35667:case 35671:return i0;case 35668:case 35672:return s0;case 35669:case 35673:return cg;case 5125:return o0;case 35678:case 36198:case 36298:case 36306:case 35682:return Jd;case 35679:case 36299:case 36307:return r0;case 35680:case 36300:case 36308:case 36293:return Ws;case 36289:case 36303:case 36311:case 36292:return Bx}}(e.type)}function Qd(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(o){switch(o){case 5126:return Jh;case 35664:return yp;case 35665:return xp;case 35666:return Y1;case 35674:return Na;case 35675:return a0;case 35676:return l0;case 5124:case 35670:return qs;case 35667:case 35671:return Ho;case 35668:case 35672:return Jo;case 35669:case 35673:return hg;case 35678:case 36198:case 36298:case 36306:case 35682:return u0;case 35680:case 36300:case 36308:case 36293:return qu}}(e.type)}function dg(t){this.id=t,this.seq=[],this.map={}}Qd.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),ul(e,t)},dg.prototype.setValue=function(t,e,i){const o=this.seq;for(let l=0,h=o.length;l!==h;++l){const g=o[l];g.setValue(t,e[g.id],i)}};const bp=/(\w+)(\])?(\[|\.)?/g;function c0(t,e){t.seq.push(e),t.map[e.id]=e}function jx(t,e,i){const o=t.name,l=o.length;for(bp.lastIndex=0;;){const h=bp.exec(o),g=bp.lastIndex;let v=h[1];const w=h[2]==="]",S=h[3];if(w&&(v|=0),S===void 0||S==="["&&g+2===l){c0(i,S===void 0?new Gl(v,t,e):new Qd(v,t,e));break}{let L=i.map[v];L===void 0&&(L=new dg(v),c0(i,L)),i=L}}}function bc(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,35718);for(let o=0;o<i;++o){const l=t.getActiveUniform(e,o);jx(l,t.getUniformLocation(e,l.name),this)}}function h0(t,e,i){const o=t.createShader(e);return t.shaderSource(o,i),t.compileShader(o),o}bc.prototype.setValue=function(t,e,i,o){const l=this.map[e];l!==void 0&&l.setValue(t,i,o)},bc.prototype.setOptional=function(t,e,i){const o=e[i];o!==void 0&&this.setValue(t,i,o)},bc.upload=function(t,e,i,o){for(let l=0,h=e.length;l!==h;++l){const g=e[l],v=i[g.id];v.needsUpdate!==!1&&g.setValue(t,v.value,o)}},bc.seqWithValue=function(t,e){const i=[];for(let o=0,l=t.length;o!==l;++o){const h=t[o];h.id in e&&i.push(h)}return i};let Hx=0;function d0(t){switch(t){case ct:return["Linear","( value )"];case Rt:return["sRGB","( value )"];case rr:return["RGBE","( value )"];case A:return["RGBM","( value, 7.0 )"];case B:return["RGBM","( value, 16.0 )"];case U:return["RGBD","( value, 256.0 )"];case bn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case x:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function f0(t,e,i){const o=t.getShaderParameter(e,35713),l=t.getShaderInfoLog(e).trim();return o&&l===""?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+i+`
`+l+function(h){const g=h.split(`
`);for(let v=0;v<g.length;v++)g[v]=v+1+": "+g[v];return g.join(`
`)}(t.getShaderSource(e))}function ef(t,e){const i=d0(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function wp(t,e){const i=d0(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function Ux(t,e){let i;switch(e){case $e:i="Linear";break;case Jn:i="Reinhard";break;case ar:i="OptimizedCineon";break;case lr:i="ACESFilmic";break;case Vn:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),i="Linear"}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function uh(t){return t!==""}function _p(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function p0(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const m0=/^[ \t]*#include +<([\w\d./]+)>/gm;function fg(t){return t.replace(m0,Gx)}function Gx(t,e){const i=Jr[e];if(i===void 0)throw new Error("Can not resolve #include <"+e+">");return fg(i)}const Vx=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Wx=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function pg(t){return t.replace(Wx,g0).replace(Vx,qx)}function qx(t,e,i,o){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),g0(t,e,i,o)}function g0(t,e,i,o){let l="";for(let h=parseInt(e);h<parseInt(i);h++)l+=o.replace(/\[\s*i\s*\]/g,"[ "+h+" ]").replace(/UNROLLED_LOOP_INDEX/g,h);return l}function v0(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Z1(t,e,i,o){const l=t.getContext(),h=i.defines;let g=i.vertexShader,v=i.fragmentShader;const w=function(ut){let mt="SHADOWMAP_TYPE_BASIC";return ut.shadowMapType===C?mt="SHADOWMAP_TYPE_PCF":ut.shadowMapType===k?mt="SHADOWMAP_TYPE_PCF_SOFT":ut.shadowMapType===V&&(mt="SHADOWMAP_TYPE_VSM"),mt}(i),S=function(ut){let mt="ENVMAP_TYPE_CUBE";if(ut.envMap)switch(ut.envMapMode){case wr:case _r:mt="ENVMAP_TYPE_CUBE";break;case di:case Or:mt="ENVMAP_TYPE_CUBE_UV"}return mt}(i),L=function(ut){let mt="ENVMAP_MODE_REFLECTION";if(ut.envMap)switch(ut.envMapMode){case _r:case Or:mt="ENVMAP_MODE_REFRACTION"}return mt}(i),T=function(ut){let mt="ENVMAP_BLENDING_NONE";if(ut.envMap)switch(ut.combine){case pn:mt="ENVMAP_BLENDING_MULTIPLY";break;case xn:mt="ENVMAP_BLENDING_MIX";break;case yn:mt="ENVMAP_BLENDING_ADD"}return mt}(i),I=t.gammaFactor>0?t.gammaFactor:1,F=i.isWebGL2?"":function(ut){return[ut.extensionDerivatives||ut.envMapCubeUV||ut.bumpMap||ut.tangentSpaceNormalMap||ut.clearcoatNormalMap||ut.flatShading||ut.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(ut.extensionFragDepth||ut.logarithmicDepthBuffer)&&ut.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",ut.extensionDrawBuffers&&ut.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(ut.extensionShaderTextureLOD||ut.envMap)&&ut.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(uh).join(`
`)}(i),j=function(ut){const mt=[];for(const jt in ut){const Dt=ut[jt];Dt!==!1&&mt.push("#define "+jt+" "+Dt)}return mt.join(`
`)}(h),K=l.createProgram();let X,ee,me=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?(X=[j].filter(uh).join(`
`),X.length>0&&(X+=`
`),ee=[F,j].filter(uh).join(`
`),ee.length>0&&(ee+=`
`)):(X=[v0(i),"#define SHADER_NAME "+i.shaderName,j,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+I,"#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+L:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+w:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(uh).join(`
`),ee=[F,v0(i),"#define SHADER_NAME "+i.shaderName,j,i.alphaTest?"#define ALPHATEST "+i.alphaTest+(i.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+I,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+S:"",i.envMap?"#define "+L:"",i.envMap?"#define "+T:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.sheen?"#define USE_SHEEN":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+w:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(i.extensionShaderTextureLOD||i.envMap)&&i.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==Jt?"#define TONE_MAPPING":"",i.toneMapping!==Jt?Jr.tonemapping_pars_fragment:"",i.toneMapping!==Jt?Ux("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",Jr.encodings_pars_fragment,i.map?ef("mapTexelToLinear",i.mapEncoding):"",i.matcap?ef("matcapTexelToLinear",i.matcapEncoding):"",i.envMap?ef("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMap?ef("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.lightMap?ef("lightMapTexelToLinear",i.lightMapEncoding):"",wp("linearToOutputTexel",i.outputEncoding),i.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(uh).join(`
`)),g=fg(g),g=_p(g,i),g=p0(g,i),v=fg(v),v=_p(v,i),v=p0(v,i),g=pg(g),v=pg(v),i.isWebGL2&&i.isRawShaderMaterial!==!0&&(me=`#version 300 es
`,X=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+X,ee=["#define varying in",i.glslVersion===zo?"":"out highp vec4 pc_fragColor;",i.glslVersion===zo?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+ee);const xe=me+ee+v,_e=h0(l,35633,me+X+g),Se=h0(l,35632,xe);if(l.attachShader(K,_e),l.attachShader(K,Se),i.index0AttributeName!==void 0?l.bindAttribLocation(K,0,i.index0AttributeName):i.morphTargets===!0&&l.bindAttribLocation(K,0,"position"),l.linkProgram(K),t.debug.checkShaderErrors){const ut=l.getProgramInfoLog(K).trim(),mt=l.getShaderInfoLog(_e).trim(),jt=l.getShaderInfoLog(Se).trim();let Dt=!0,_t=!0;if(l.getProgramParameter(K,35714)===!1){Dt=!1;const Ht=f0(l,_e,"vertex"),dn=f0(l,Se,"fragment");console.error("THREE.WebGLProgram: shader error: ",l.getError(),"35715",l.getProgramParameter(K,35715),"gl.getProgramInfoLog",ut,Ht,dn)}else ut!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",ut):mt!==""&&jt!==""||(_t=!1);_t&&(this.diagnostics={runnable:Dt,programLog:ut,vertexShader:{log:mt,prefix:X},fragmentShader:{log:jt,prefix:ee}})}let Ne,Ae;return l.deleteShader(_e),l.deleteShader(Se),this.getUniforms=function(){return Ne===void 0&&(Ne=new bc(l,K)),Ne},this.getAttributes=function(){return Ae===void 0&&(Ae=function(ut,mt){const jt={},Dt=ut.getProgramParameter(mt,35721);for(let _t=0;_t<Dt;_t++){const Ht=ut.getActiveAttrib(mt,_t).name;jt[Ht]=ut.getAttribLocation(mt,Ht)}return jt}(l,K)),Ae},this.destroy=function(){o.releaseStatesOfProgram(this),l.deleteProgram(K),this.program=void 0},this.name=i.shaderName,this.id=Hx++,this.cacheKey=e,this.usedTimes=1,this.program=K,this.vertexShader=_e,this.fragmentShader=Se,this}function Xx(t,e,i,o,l,h){const g=[],v=o.isWebGL2,w=o.logarithmicDepthBuffer,S=o.floatVertexTextures,L=o.maxVertexUniforms,T=o.vertexTextures;let I=o.precision;const F={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},j=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function K(X){let ee;return X&&X.isTexture?ee=X.encoding:X&&X.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),ee=X.texture.encoding):ee=ct,ee}return{getParameters:function(X,ee,me,xe,_e){const Se=xe.fog,Ne=X.isMeshStandardMaterial?xe.environment:null,Ae=e.get(X.envMap||Ne),ut=F[X.type],mt=_e.isSkinnedMesh?function(Ht){const dn=Ht.skeleton.bones;if(S)return 1024;{const an=L,or=Math.floor((an-20)/4),kn=Math.min(or,dn.length);return kn<dn.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+dn.length+" bones. This GPU supports "+kn+"."),0):kn}}(_e):0;let jt,Dt;if(X.precision!==null&&(I=o.getMaxPrecision(X.precision),I!==X.precision&&console.warn("THREE.WebGLProgram.getParameters:",X.precision,"not supported, using",I,"instead.")),ut){const Ht=Ia[ut];jt=Ht.vertexShader,Dt=Ht.fragmentShader}else jt=X.vertexShader,Dt=X.fragmentShader;const _t=t.getRenderTarget();return{isWebGL2:v,shaderID:ut,shaderName:X.type,vertexShader:jt,fragmentShader:Dt,defines:X.defines,isRawShaderMaterial:X.isRawShaderMaterial===!0,glslVersion:X.glslVersion,precision:I,instancing:_e.isInstancedMesh===!0,instancingColor:_e.isInstancedMesh===!0&&_e.instanceColor!==null,supportsVertexTextures:T,outputEncoding:_t!==null?K(_t.texture):t.outputEncoding,map:!!X.map,mapEncoding:K(X.map),matcap:!!X.matcap,matcapEncoding:K(X.matcap),envMap:!!Ae,envMapMode:Ae&&Ae.mapping,envMapEncoding:K(Ae),envMapCubeUV:!!Ae&&(Ae.mapping===di||Ae.mapping===Or),lightMap:!!X.lightMap,lightMapEncoding:K(X.lightMap),aoMap:!!X.aoMap,emissiveMap:!!X.emissiveMap,emissiveMapEncoding:K(X.emissiveMap),bumpMap:!!X.bumpMap,normalMap:!!X.normalMap,objectSpaceNormalMap:X.normalMapType===Oe,tangentSpaceNormalMap:X.normalMapType===he,clearcoatMap:!!X.clearcoatMap,clearcoatRoughnessMap:!!X.clearcoatRoughnessMap,clearcoatNormalMap:!!X.clearcoatNormalMap,displacementMap:!!X.displacementMap,roughnessMap:!!X.roughnessMap,metalnessMap:!!X.metalnessMap,specularMap:!!X.specularMap,alphaMap:!!X.alphaMap,gradientMap:!!X.gradientMap,sheen:!!X.sheen,transmissionMap:!!X.transmissionMap,combine:X.combine,vertexTangents:X.normalMap&&X.vertexTangents,vertexColors:X.vertexColors,vertexUvs:!!(X.map||X.bumpMap||X.normalMap||X.specularMap||X.alphaMap||X.emissiveMap||X.roughnessMap||X.metalnessMap||X.clearcoatMap||X.clearcoatRoughnessMap||X.clearcoatNormalMap||X.displacementMap||X.transmissionMap),uvsVertexOnly:!(X.map||X.bumpMap||X.normalMap||X.specularMap||X.alphaMap||X.emissiveMap||X.roughnessMap||X.metalnessMap||X.clearcoatNormalMap||X.transmissionMap||!X.displacementMap),fog:!!Se,useFog:X.fog,fogExp2:Se&&Se.isFogExp2,flatShading:X.flatShading,sizeAttenuation:X.sizeAttenuation,logarithmicDepthBuffer:w,skinning:X.skinning&&mt>0,maxBones:mt,useVertexTexture:S,morphTargets:X.morphTargets,morphNormals:X.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:ee.directional.length,numPointLights:ee.point.length,numSpotLights:ee.spot.length,numRectAreaLights:ee.rectArea.length,numHemiLights:ee.hemi.length,numDirLightShadows:ee.directionalShadowMap.length,numPointLightShadows:ee.pointShadowMap.length,numSpotLightShadows:ee.spotShadowMap.length,numClippingPlanes:h.numPlanes,numClipIntersection:h.numIntersection,dithering:X.dithering,shadowMapEnabled:t.shadowMap.enabled&&me.length>0,shadowMapType:t.shadowMap.type,toneMapping:X.toneMapped?t.toneMapping:Jt,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:X.premultipliedAlpha,alphaTest:X.alphaTest,doubleSided:X.side===Z,flipSided:X.side===Y,depthPacking:X.depthPacking!==void 0&&X.depthPacking,index0AttributeName:X.index0AttributeName,extensionDerivatives:X.extensions&&X.extensions.derivatives,extensionFragDepth:X.extensions&&X.extensions.fragDepth,extensionDrawBuffers:X.extensions&&X.extensions.drawBuffers,extensionShaderTextureLOD:X.extensions&&X.extensions.shaderTextureLOD,rendererExtensionFragDepth:v||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:v||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:v||i.has("EXT_shader_texture_lod"),customProgramCacheKey:X.customProgramCacheKey()}},getProgramCacheKey:function(X){const ee=[];if(X.shaderID?ee.push(X.shaderID):(ee.push(X.fragmentShader),ee.push(X.vertexShader)),X.defines!==void 0)for(const me in X.defines)ee.push(me),ee.push(X.defines[me]);if(X.isRawShaderMaterial===!1){for(let me=0;me<j.length;me++)ee.push(X[j[me]]);ee.push(t.outputEncoding),ee.push(t.gammaFactor)}return ee.push(X.customProgramCacheKey),ee.join()},getUniforms:function(X){const ee=F[X.type];let me;if(ee){const xe=Ia[ee];me=Uu.clone(xe.uniforms)}else me=X.uniforms;return me},acquireProgram:function(X,ee){let me;for(let xe=0,_e=g.length;xe<_e;xe++){const Se=g[xe];if(Se.cacheKey===ee){me=Se,++me.usedTimes;break}}return me===void 0&&(me=new Z1(t,ee,X,l),g.push(me)),me},releaseProgram:function(X){if(--X.usedTimes==0){const ee=g.indexOf(X);g[ee]=g[g.length-1],g.pop(),X.destroy()}},programs:g}}function K1(){let t=new WeakMap;return{get:function(e){let i=t.get(e);return i===void 0&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,o){t.get(e)[i]=o},dispose:function(){t=new WeakMap}}}function J1(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function $x(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function y0(t){const e=[];let i=0;const o=[],l=[],h={id:-1};function g(v,w,S,L,T,I){let F=e[i];const j=t.get(S);return F===void 0?(F={id:v.id,object:v,geometry:w,material:S,program:j.program||h,groupOrder:L,renderOrder:v.renderOrder,z:T,group:I},e[i]=F):(F.id=v.id,F.object=v,F.geometry=w,F.material=S,F.program=j.program||h,F.groupOrder=L,F.renderOrder=v.renderOrder,F.z=T,F.group=I),i++,F}return{opaque:o,transparent:l,init:function(){i=0,o.length=0,l.length=0},push:function(v,w,S,L,T,I){const F=g(v,w,S,L,T,I);(S.transparent===!0?l:o).push(F)},unshift:function(v,w,S,L,T,I){const F=g(v,w,S,L,T,I);(S.transparent===!0?l:o).unshift(F)},finish:function(){for(let v=i,w=e.length;v<w;v++){const S=e[v];if(S.id===null)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.program=null,S.group=null}},sort:function(v,w){o.length>1&&o.sort(v||J1),l.length>1&&l.sort(w||$x)}}}function Yx(t){let e=new WeakMap;return{get:function(i,o){const l=e.get(i);let h;return l===void 0?(h=new y0(t),e.set(i,new WeakMap),e.get(i).set(o,h)):(h=l.get(o),h===void 0&&(h=new y0(t),l.set(o,h))),h},dispose:function(){e=new WeakMap}}}function mg(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let i;switch(e.type){case"DirectionalLight":i={direction:new ye,color:new zt};break;case"SpotLight":i={position:new ye,direction:new ye,color:new zt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new ye,color:new zt,distance:0,decay:0};break;case"HemisphereLight":i={direction:new ye,skyColor:new zt,groundColor:new zt};break;case"RectAreaLight":i={color:new zt,position:new ye,halfWidth:new ye,halfHeight:new ye}}return t[e.id]=i,i}}}let Q1=0;function ew(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function tw(t,e){const i=new mg,o=function(){const w={};return{get:function(S){if(w[S.id]!==void 0)return w[S.id];let L;switch(S.type){case"DirectionalLight":case"SpotLight":L={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ot};break;case"PointLight":L={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ot,shadowCameraNear:1,shadowCameraFar:1e3}}return w[S.id]=L,L}}}(),l={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let w=0;w<9;w++)l.probe.push(new ye);const h=new ye,g=new Cr,v=new Cr;return{setup:function(w){let S=0,L=0,T=0;for(let Se=0;Se<9;Se++)l.probe[Se].set(0,0,0);let I=0,F=0,j=0,K=0,X=0,ee=0,me=0,xe=0;w.sort(ew);for(let Se=0,Ne=w.length;Se<Ne;Se++){const Ae=w[Se],ut=Ae.color,mt=Ae.intensity,jt=Ae.distance,Dt=Ae.shadow&&Ae.shadow.map?Ae.shadow.map.texture:null;if(Ae.isAmbientLight)S+=ut.r*mt,L+=ut.g*mt,T+=ut.b*mt;else if(Ae.isLightProbe)for(let _t=0;_t<9;_t++)l.probe[_t].addScaledVector(Ae.sh.coefficients[_t],mt);else if(Ae.isDirectionalLight){const _t=i.get(Ae);if(_t.color.copy(Ae.color).multiplyScalar(Ae.intensity),Ae.castShadow){const Ht=Ae.shadow,dn=o.get(Ae);dn.shadowBias=Ht.bias,dn.shadowNormalBias=Ht.normalBias,dn.shadowRadius=Ht.radius,dn.shadowMapSize=Ht.mapSize,l.directionalShadow[I]=dn,l.directionalShadowMap[I]=Dt,l.directionalShadowMatrix[I]=Ae.shadow.matrix,ee++}l.directional[I]=_t,I++}else if(Ae.isSpotLight){const _t=i.get(Ae);if(_t.position.setFromMatrixPosition(Ae.matrixWorld),_t.color.copy(ut).multiplyScalar(mt),_t.distance=jt,_t.coneCos=Math.cos(Ae.angle),_t.penumbraCos=Math.cos(Ae.angle*(1-Ae.penumbra)),_t.decay=Ae.decay,Ae.castShadow){const Ht=Ae.shadow,dn=o.get(Ae);dn.shadowBias=Ht.bias,dn.shadowNormalBias=Ht.normalBias,dn.shadowRadius=Ht.radius,dn.shadowMapSize=Ht.mapSize,l.spotShadow[j]=dn,l.spotShadowMap[j]=Dt,l.spotShadowMatrix[j]=Ae.shadow.matrix,xe++}l.spot[j]=_t,j++}else if(Ae.isRectAreaLight){const _t=i.get(Ae);_t.color.copy(ut).multiplyScalar(mt),_t.halfWidth.set(.5*Ae.width,0,0),_t.halfHeight.set(0,.5*Ae.height,0),l.rectArea[K]=_t,K++}else if(Ae.isPointLight){const _t=i.get(Ae);if(_t.color.copy(Ae.color).multiplyScalar(Ae.intensity),_t.distance=Ae.distance,_t.decay=Ae.decay,Ae.castShadow){const Ht=Ae.shadow,dn=o.get(Ae);dn.shadowBias=Ht.bias,dn.shadowNormalBias=Ht.normalBias,dn.shadowRadius=Ht.radius,dn.shadowMapSize=Ht.mapSize,dn.shadowCameraNear=Ht.camera.near,dn.shadowCameraFar=Ht.camera.far,l.pointShadow[F]=dn,l.pointShadowMap[F]=Dt,l.pointShadowMatrix[F]=Ae.shadow.matrix,me++}l.point[F]=_t,F++}else if(Ae.isHemisphereLight){const _t=i.get(Ae);_t.skyColor.copy(Ae.color).multiplyScalar(mt),_t.groundColor.copy(Ae.groundColor).multiplyScalar(mt),l.hemi[X]=_t,X++}}K>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(l.rectAreaLTC1=Dn.LTC_FLOAT_1,l.rectAreaLTC2=Dn.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(l.rectAreaLTC1=Dn.LTC_HALF_1,l.rectAreaLTC2=Dn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),l.ambient[0]=S,l.ambient[1]=L,l.ambient[2]=T;const _e=l.hash;_e.directionalLength===I&&_e.pointLength===F&&_e.spotLength===j&&_e.rectAreaLength===K&&_e.hemiLength===X&&_e.numDirectionalShadows===ee&&_e.numPointShadows===me&&_e.numSpotShadows===xe||(l.directional.length=I,l.spot.length=j,l.rectArea.length=K,l.point.length=F,l.hemi.length=X,l.directionalShadow.length=ee,l.directionalShadowMap.length=ee,l.pointShadow.length=me,l.pointShadowMap.length=me,l.spotShadow.length=xe,l.spotShadowMap.length=xe,l.directionalShadowMatrix.length=ee,l.pointShadowMatrix.length=me,l.spotShadowMatrix.length=xe,_e.directionalLength=I,_e.pointLength=F,_e.spotLength=j,_e.rectAreaLength=K,_e.hemiLength=X,_e.numDirectionalShadows=ee,_e.numPointShadows=me,_e.numSpotShadows=xe,l.version=Q1++)},setupView:function(w,S){let L=0,T=0,I=0,F=0,j=0;const K=S.matrixWorldInverse;for(let X=0,ee=w.length;X<ee;X++){const me=w[X];if(me.isDirectionalLight){const xe=l.directional[L];xe.direction.setFromMatrixPosition(me.matrixWorld),h.setFromMatrixPosition(me.target.matrixWorld),xe.direction.sub(h),xe.direction.transformDirection(K),L++}else if(me.isSpotLight){const xe=l.spot[I];xe.position.setFromMatrixPosition(me.matrixWorld),xe.position.applyMatrix4(K),xe.direction.setFromMatrixPosition(me.matrixWorld),h.setFromMatrixPosition(me.target.matrixWorld),xe.direction.sub(h),xe.direction.transformDirection(K),I++}else if(me.isRectAreaLight){const xe=l.rectArea[F];xe.position.setFromMatrixPosition(me.matrixWorld),xe.position.applyMatrix4(K),v.identity(),g.copy(me.matrixWorld),g.premultiply(K),v.extractRotation(g),xe.halfWidth.set(.5*me.width,0,0),xe.halfHeight.set(0,.5*me.height,0),xe.halfWidth.applyMatrix4(v),xe.halfHeight.applyMatrix4(v),F++}else if(me.isPointLight){const xe=l.point[T];xe.position.setFromMatrixPosition(me.matrixWorld),xe.position.applyMatrix4(K),T++}else if(me.isHemisphereLight){const xe=l.hemi[j];xe.direction.setFromMatrixPosition(me.matrixWorld),xe.direction.transformDirection(K),xe.direction.normalize(),j++}}},state:l}}function Vl(t,e){const i=new tw(t,e),o=[],l=[];return{init:function(){o.length=0,l.length=0},state:{lightsArray:o,shadowsArray:l,lights:i},setupLights:function(){i.setup(o)},setupLightsView:function(h){i.setupView(o,h)},pushLight:function(h){o.push(h)},pushShadow:function(h){l.push(h)}}}function x0(t,e){let i=new WeakMap;return{get:function(o,l=0){let h;return i.has(o)===!1?(h=new Vl(t,e),i.set(o,[]),i.get(o).push(h)):l>=i.get(o).length?(h=new Vl(t,e),i.get(o).push(h)):h=i.get(o)[l],h},dispose:function(){i=new WeakMap}}}function vu(t){gn.call(this),this.type="MeshDepthMaterial",this.depthPacking=Q,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function wc(t){gn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ye,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}vu.prototype=Object.create(gn.prototype),vu.prototype.constructor=vu,vu.prototype.isMeshDepthMaterial=!0,vu.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},wc.prototype=Object.create(gn.prototype),wc.prototype.constructor=wc,wc.prototype.isMeshDistanceMaterial=!0,wc.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this};function b0(t,e,i){let o=new Yd;const l=new Ot,h=new Ot,g=new Ii,v=[],w=[],S={},L={0:Y,1:q,2:Z},T=new uo({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ot},radius:{value:4}},vertexShader:`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`}),I=T.clone();I.defines.HORIZONTAL_PASS=1;const F=new Xn;F.setAttribute("position",new qn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const j=new is(F,T),K=this;function X(Se,Ne){const Ae=e.update(j);T.uniforms.shadow_pass.value=Se.map.texture,T.uniforms.resolution.value=Se.mapSize,T.uniforms.radius.value=Se.radius,t.setRenderTarget(Se.mapPass),t.clear(),t.renderBufferDirect(Ne,null,Ae,T,j,null),I.uniforms.shadow_pass.value=Se.mapPass.texture,I.uniforms.resolution.value=Se.mapSize,I.uniforms.radius.value=Se.radius,t.setRenderTarget(Se.map),t.clear(),t.renderBufferDirect(Ne,null,Ae,I,j,null)}function ee(Se,Ne,Ae){const ut=Se<<0|Ne<<1|Ae<<2;let mt=v[ut];return mt===void 0&&(mt=new vu({depthPacking:ae,morphTargets:Se,skinning:Ne}),v[ut]=mt),mt}function me(Se,Ne,Ae){const ut=Se<<0|Ne<<1|Ae<<2;let mt=w[ut];return mt===void 0&&(mt=new wc({morphTargets:Se,skinning:Ne}),w[ut]=mt),mt}function xe(Se,Ne,Ae,ut,mt,jt,Dt){let _t=null,Ht=ee,dn=Se.customDepthMaterial;if(ut.isPointLight===!0&&(Ht=me,dn=Se.customDistanceMaterial),dn===void 0){let an=!1;Ae.morphTargets===!0&&(an=Ne.morphAttributes&&Ne.morphAttributes.position&&Ne.morphAttributes.position.length>0);let or=!1;Se.isSkinnedMesh===!0&&(Ae.skinning===!0?or=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",Se)),_t=Ht(an,or,Se.isInstancedMesh===!0)}else _t=dn;if(t.localClippingEnabled&&Ae.clipShadows===!0&&Ae.clippingPlanes.length!==0){const an=_t.uuid,or=Ae.uuid;let kn=S[an];kn===void 0&&(kn={},S[an]=kn);let Tn=kn[or];Tn===void 0&&(Tn=_t.clone(),kn[or]=Tn),_t=Tn}return _t.visible=Ae.visible,_t.wireframe=Ae.wireframe,_t.side=Dt===V?Ae.shadowSide!==null?Ae.shadowSide:Ae.side:Ae.shadowSide!==null?Ae.shadowSide:L[Ae.side],_t.clipShadows=Ae.clipShadows,_t.clippingPlanes=Ae.clippingPlanes,_t.clipIntersection=Ae.clipIntersection,_t.wireframeLinewidth=Ae.wireframeLinewidth,_t.linewidth=Ae.linewidth,ut.isPointLight===!0&&_t.isMeshDistanceMaterial===!0&&(_t.referencePosition.setFromMatrixPosition(ut.matrixWorld),_t.nearDistance=mt,_t.farDistance=jt),_t}function _e(Se,Ne,Ae,ut,mt){if(Se.visible===!1)return;if(Se.layers.test(Ne.layers)&&(Se.isMesh||Se.isLine||Se.isPoints)&&(Se.castShadow||Se.receiveShadow&&mt===V)&&(!Se.frustumCulled||o.intersectsObject(Se))){Se.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,Se.matrixWorld);const Dt=e.update(Se),_t=Se.material;if(Array.isArray(_t)){const Ht=Dt.groups;for(let dn=0,an=Ht.length;dn<an;dn++){const or=Ht[dn],kn=_t[or.materialIndex];if(kn&&kn.visible){const Tn=xe(Se,Dt,kn,ut,Ae.near,Ae.far,mt);t.renderBufferDirect(Ae,null,Dt,Tn,Se,or)}}}else if(_t.visible){const Ht=xe(Se,Dt,_t,ut,Ae.near,Ae.far,mt);t.renderBufferDirect(Ae,null,Dt,Ht,Se,null)}}const jt=Se.children;for(let Dt=0,_t=jt.length;Dt<_t;Dt++)_e(jt[Dt],Ne,Ae,ut,mt)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=C,this.render=function(Se,Ne,Ae){if(K.enabled===!1||K.autoUpdate===!1&&K.needsUpdate===!1||Se.length===0)return;const ut=t.getRenderTarget(),mt=t.getActiveCubeFace(),jt=t.getActiveMipmapLevel(),Dt=t.state;Dt.setBlending(le),Dt.buffers.color.setClear(1,1,1,1),Dt.buffers.depth.setTest(!0),Dt.setScissorTest(!1);for(let _t=0,Ht=Se.length;_t<Ht;_t++){const dn=Se[_t],an=dn.shadow;if(an===void 0){console.warn("THREE.WebGLShadowMap:",dn,"has no shadow.");continue}if(an.autoUpdate===!1&&an.needsUpdate===!1)continue;l.copy(an.mapSize);const or=an.getFrameExtents();if(l.multiply(or),h.copy(an.mapSize),(l.x>i||l.y>i)&&(l.x>i&&(h.x=Math.floor(i/or.x),l.x=h.x*or.x,an.mapSize.x=h.x),l.y>i&&(h.y=Math.floor(i/or.y),l.y=h.y*or.y,an.mapSize.y=h.y)),an.map===null&&!an.isPointLightShadow&&this.type===V){const Tn={minFilter:br,magFilter:br,format:fi};an.map=new Bo(l.x,l.y,Tn),an.map.texture.name=dn.name+".shadowMap",an.mapPass=new Bo(l.x,l.y,Tn),an.camera.updateProjectionMatrix()}if(an.map===null){const Tn={minFilter:er,magFilter:er,format:fi};an.map=new Bo(l.x,l.y,Tn),an.map.texture.name=dn.name+".shadowMap",an.camera.updateProjectionMatrix()}t.setRenderTarget(an.map),t.clear();const kn=an.getViewportCount();for(let Tn=0;Tn<kn;Tn++){const mr=an.getViewport(Tn);g.set(h.x*mr.x,h.y*mr.y,h.x*mr.z,h.y*mr.w),Dt.viewport(g),an.updateMatrices(dn,Tn),o=an.getFrustum(),_e(Ne,Ae,an.camera,dn,this.type)}an.isPointLightShadow||this.type!==V||X(an,Ae),an.needsUpdate=!1}K.needsUpdate=!1,t.setRenderTarget(ut,mt,jt)}}function Zx(t,e,i){const o=i.isWebGL2,l=new function(){let Ie=!1;const Wt=new Ii;let fn=null;const Pt=new Ii(0,0,0,0);return{setMask:function(bt){fn===bt||Ie||(t.colorMask(bt,bt,bt,bt),fn=bt)},setLocked:function(bt){Ie=bt},setClear:function(bt,Zt,Mn,ln,Gn){Gn===!0&&(bt*=ln,Zt*=ln,Mn*=ln),Wt.set(bt,Zt,Mn,ln),Pt.equals(Wt)===!1&&(t.clearColor(bt,Zt,Mn,ln),Pt.copy(Wt))},reset:function(){Ie=!1,fn=null,Pt.set(-1,0,0,0)}}},h=new function(){let Ie=!1,Wt=null,fn=null,Pt=null;return{setTest:function(bt){bt?kn(2929):Tn(2929)},setMask:function(bt){Wt===bt||Ie||(t.depthMask(bt),Wt=bt)},setFunc:function(bt){if(fn!==bt){if(bt)switch(bt){case Gt:t.depthFunc(512);break;case be:t.depthFunc(519);break;case It:t.depthFunc(513);break;case vt:t.depthFunc(515);break;case Re:t.depthFunc(514);break;case nn:t.depthFunc(518);break;case Rn:t.depthFunc(516);break;case xr:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);fn=bt}},setLocked:function(bt){Ie=bt},setClear:function(bt){Pt!==bt&&(t.clearDepth(bt),Pt=bt)},reset:function(){Ie=!1,Wt=null,fn=null,Pt=null}}},g=new function(){let Ie=!1,Wt=null,fn=null,Pt=null,bt=null,Zt=null,Mn=null,ln=null,Gn=null;return{setTest:function(Yn){Ie||(Yn?kn(2960):Tn(2960))},setMask:function(Yn){Wt===Yn||Ie||(t.stencilMask(Yn),Wt=Yn)},setFunc:function(Yn,Hr,Mr){fn===Yn&&Pt===Hr&&bt===Mr||(t.stencilFunc(Yn,Hr,Mr),fn=Yn,Pt=Hr,bt=Mr)},setOp:function(Yn,Hr,Mr){Zt===Yn&&Mn===Hr&&ln===Mr||(t.stencilOp(Yn,Hr,Mr),Zt=Yn,Mn=Hr,ln=Mr)},setLocked:function(Yn){Ie=Yn},setClear:function(Yn){Gn!==Yn&&(t.clearStencil(Yn),Gn=Yn)},reset:function(){Ie=!1,Wt=null,fn=null,Pt=null,bt=null,Zt=null,Mn=null,ln=null,Gn=null}}};let v={},w=null,S=null,L=null,T=null,I=null,F=null,j=null,K=null,X=null,ee=!1,me=null,xe=null,_e=null,Se=null,Ne=null;const Ae=t.getParameter(35661);let ut=!1,mt=0;const jt=t.getParameter(7938);jt.indexOf("WebGL")!==-1?(mt=parseFloat(/^WebGL (\d)/.exec(jt)[1]),ut=mt>=1):jt.indexOf("OpenGL ES")!==-1&&(mt=parseFloat(/^OpenGL ES (\d)/.exec(jt)[1]),ut=mt>=2);let Dt=null,_t={};const Ht=new Ii,dn=new Ii;function an(Ie,Wt,fn){const Pt=new Uint8Array(4),bt=t.createTexture();t.bindTexture(Ie,bt),t.texParameteri(Ie,10241,9728),t.texParameteri(Ie,10240,9728);for(let Zt=0;Zt<fn;Zt++)t.texImage2D(Wt+Zt,0,6408,1,1,0,6408,5121,Pt);return bt}const or={};function kn(Ie){v[Ie]!==!0&&(t.enable(Ie),v[Ie]=!0)}function Tn(Ie){v[Ie]!==!1&&(t.disable(Ie),v[Ie]=!1)}or[3553]=an(3553,3553,1),or[34067]=an(34067,34069,6),l.setClear(0,0,0,1),h.setClear(1),g.setClear(0),kn(2929),h.setFunc(vt),Ue(!1),et(m),kn(2884),li(le);const mr={[nt]:32774,[dt]:32778,[wt]:32779};if(o)mr[Ze]=32775,mr[rt]=32776;else{const Ie=e.get("EXT_blend_minmax");Ie!==null&&(mr[Ze]=Ie.MIN_EXT,mr[rt]=Ie.MAX_EXT)}const gr={[ot]:0,[xt]:1,[We]:768,[Ge]:770,[Ct]:776,[ke]:774,[lt]:772,[at]:769,[te]:771,[it]:775,[Ee]:773};function li(Ie,Wt,fn,Pt,bt,Zt,Mn,ln){if(Ie!==le){if(S||(kn(3042),S=!0),Ie===R)bt=bt||Wt,Zt=Zt||fn,Mn=Mn||Pt,Wt===T&&bt===j||(t.blendEquationSeparate(mr[Wt],mr[bt]),T=Wt,j=bt),fn===I&&Pt===F&&Zt===K&&Mn===X||(t.blendFuncSeparate(gr[fn],gr[Pt],gr[Zt],gr[Mn]),I=fn,F=Pt,K=Zt,X=Mn),L=Ie,ee=null;else if(Ie!==L||ln!==ee){if(T===nt&&j===nt||(t.blendEquation(32774),T=nt,j=nt),ln)switch(Ie){case ce:t.blendFuncSeparate(1,771,1,771);break;case Te:t.blendFunc(1,1);break;case we:t.blendFuncSeparate(0,0,769,771);break;case Fe:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ie)}else switch(Ie){case ce:t.blendFuncSeparate(770,771,1,771);break;case Te:t.blendFunc(770,1);break;case we:t.blendFunc(0,769);break;case Fe:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ie)}I=null,F=null,K=null,X=null,L=Ie,ee=ln}}else S&&(Tn(3042),S=!1)}function Ue(Ie){me!==Ie&&(Ie?t.frontFace(2304):t.frontFace(2305),me=Ie)}function et(Ie){Ie!==f?(kn(2884),Ie!==xe&&(Ie===m?t.cullFace(1029):Ie===b?t.cullFace(1028):t.cullFace(1032))):Tn(2884),xe=Ie}function mn(Ie,Wt,fn){Ie?(kn(32823),Se===Wt&&Ne===fn||(t.polygonOffset(Wt,fn),Se=Wt,Ne=fn)):Tn(32823)}function Ft(Ie){Ie===void 0&&(Ie=33984+Ae-1),Dt!==Ie&&(t.activeTexture(Ie),Dt=Ie)}return{buffers:{color:l,depth:h,stencil:g},enable:kn,disable:Tn,useProgram:function(Ie){return w!==Ie&&(t.useProgram(Ie),w=Ie,!0)},setBlending:li,setMaterial:function(Ie,Wt){Ie.side===Z?Tn(2884):kn(2884);let fn=Ie.side===Y;Wt&&(fn=!fn),Ue(fn),Ie.blending===ce&&Ie.transparent===!1?li(le):li(Ie.blending,Ie.blendEquation,Ie.blendSrc,Ie.blendDst,Ie.blendEquationAlpha,Ie.blendSrcAlpha,Ie.blendDstAlpha,Ie.premultipliedAlpha),h.setFunc(Ie.depthFunc),h.setTest(Ie.depthTest),h.setMask(Ie.depthWrite),l.setMask(Ie.colorWrite);const Pt=Ie.stencilWrite;g.setTest(Pt),Pt&&(g.setMask(Ie.stencilWriteMask),g.setFunc(Ie.stencilFunc,Ie.stencilRef,Ie.stencilFuncMask),g.setOp(Ie.stencilFail,Ie.stencilZFail,Ie.stencilZPass)),mn(Ie.polygonOffset,Ie.polygonOffsetFactor,Ie.polygonOffsetUnits)},setFlipSided:Ue,setCullFace:et,setLineWidth:function(Ie){Ie!==_e&&(ut&&t.lineWidth(Ie),_e=Ie)},setPolygonOffset:mn,setScissorTest:function(Ie){Ie?kn(3089):Tn(3089)},activeTexture:Ft,bindTexture:function(Ie,Wt){Dt===null&&Ft();let fn=_t[Dt];fn===void 0&&(fn={type:void 0,texture:void 0},_t[Dt]=fn),fn.type===Ie&&fn.texture===Wt||(t.bindTexture(Ie,Wt||or[Ie]),fn.type=Ie,fn.texture=Wt)},unbindTexture:function(){const Ie=_t[Dt];Ie!==void 0&&Ie.type!==void 0&&(t.bindTexture(Ie.type,null),Ie.type=void 0,Ie.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}},scissor:function(Ie){Ht.equals(Ie)===!1&&(t.scissor(Ie.x,Ie.y,Ie.z,Ie.w),Ht.copy(Ie))},viewport:function(Ie){dn.equals(Ie)===!1&&(t.viewport(Ie.x,Ie.y,Ie.z,Ie.w),dn.copy(Ie))},reset:function(){v={},Dt=null,_t={},w=null,S=null,L=null,T=null,I=null,F=null,j=null,K=null,X=null,ee=!1,me=null,xe=null,_e=null,Se=null,Ne=null,l.reset(),h.reset(),g.reset()}}}function w0(t,e,i,o,l,h,g){const v=l.isWebGL2,w=l.maxTextures,S=l.maxCubemapSize,L=l.maxTextureSize,T=l.maxSamples,I=new WeakMap;let F,j=!1;try{j=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function K(Ue,et){return j?new OffscreenCanvas(Ue,et):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function X(Ue,et,mn,Ft){let Ie=1;if((Ue.width>Ft||Ue.height>Ft)&&(Ie=Ft/Math.max(Ue.width,Ue.height)),Ie<1||et===!0){if(typeof HTMLImageElement<"u"&&Ue instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ue instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ue instanceof ImageBitmap){const Wt=et?An.floorPowerOfTwo:Math.floor,fn=Wt(Ie*Ue.width),Pt=Wt(Ie*Ue.height);F===void 0&&(F=K(fn,Pt));const bt=mn?K(fn,Pt):F;return bt.width=fn,bt.height=Pt,bt.getContext("2d").drawImage(Ue,0,0,fn,Pt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ue.width+"x"+Ue.height+") to ("+fn+"x"+Pt+")."),bt}return"data"in Ue&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ue.width+"x"+Ue.height+")."),Ue}return Ue}function ee(Ue){return An.isPowerOfTwo(Ue.width)&&An.isPowerOfTwo(Ue.height)}function me(Ue,et){return Ue.generateMipmaps&&et&&Ue.minFilter!==er&&Ue.minFilter!==br}function xe(Ue,et,mn,Ft){t.generateMipmap(Ue),o.get(et).__maxMipLevel=Math.log(Math.max(mn,Ft))*Math.LOG2E}function _e(Ue,et,mn){if(v===!1)return et;if(Ue!==null){if(t[Ue]!==void 0)return t[Ue];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ue+"'")}let Ft=et;return et===6403&&(mn===5126&&(Ft=33326),mn===5131&&(Ft=33325),mn===5121&&(Ft=33321)),et===6407&&(mn===5126&&(Ft=34837),mn===5131&&(Ft=34843),mn===5121&&(Ft=32849)),et===6408&&(mn===5126&&(Ft=34836),mn===5131&&(Ft=34842),mn===5121&&(Ft=32856)),Ft!==33325&&Ft!==33326&&Ft!==34842&&Ft!==34836||e.get("EXT_color_buffer_float"),Ft}function Se(Ue){return Ue===er||Ue===Ir||Ue===$i?9728:9729}function Ne(Ue){const et=Ue.target;et.removeEventListener("dispose",Ne),function(mn){const Ft=o.get(mn);Ft.__webglInit!==void 0&&(t.deleteTexture(Ft.__webglTexture),o.remove(mn))}(et),et.isVideoTexture&&I.delete(et),g.memory.textures--}function Ae(Ue){const et=Ue.target;et.removeEventListener("dispose",Ae),function(mn){const Ft=o.get(mn),Ie=o.get(mn.texture);if(mn){if(Ie.__webglTexture!==void 0&&t.deleteTexture(Ie.__webglTexture),mn.depthTexture&&mn.depthTexture.dispose(),mn.isWebGLCubeRenderTarget)for(let Wt=0;Wt<6;Wt++)t.deleteFramebuffer(Ft.__webglFramebuffer[Wt]),Ft.__webglDepthbuffer&&t.deleteRenderbuffer(Ft.__webglDepthbuffer[Wt]);else t.deleteFramebuffer(Ft.__webglFramebuffer),Ft.__webglDepthbuffer&&t.deleteRenderbuffer(Ft.__webglDepthbuffer),Ft.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Ft.__webglMultisampledFramebuffer),Ft.__webglColorRenderbuffer&&t.deleteRenderbuffer(Ft.__webglColorRenderbuffer),Ft.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Ft.__webglDepthRenderbuffer);o.remove(mn.texture),o.remove(mn)}}(et),g.memory.textures--}let ut=0;function mt(Ue,et){const mn=o.get(Ue);if(Ue.isVideoTexture&&function(Ft){const Ie=g.render.frame;I.get(Ft)!==Ie&&(I.set(Ft,Ie),Ft.update())}(Ue),Ue.version>0&&mn.__version!==Ue.version){const Ft=Ue.image;if(Ft===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(Ft.complete!==!1)return void an(mn,Ue,et);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.activeTexture(33984+et),i.bindTexture(3553,mn.__webglTexture)}function jt(Ue,et){const mn=o.get(Ue);Ue.version>0&&mn.__version!==Ue.version?function(Ft,Ie,Wt){if(Ie.image.length!==6)return;dn(Ft,Ie),i.activeTexture(33984+Wt),i.bindTexture(34067,Ft.__webglTexture),t.pixelStorei(37440,Ie.flipY);const fn=Ie&&(Ie.isCompressedTexture||Ie.image[0].isCompressedTexture),Pt=Ie.image[0]&&Ie.image[0].isDataTexture,bt=[];for(let Mr=0;Mr<6;Mr++)bt[Mr]=fn||Pt?Pt?Ie.image[Mr].image:Ie.image[Mr]:X(Ie.image[Mr],!1,!0,S);const Zt=bt[0],Mn=ee(Zt)||v,ln=h.convert(Ie.format),Gn=h.convert(Ie.type),Yn=_e(Ie.internalFormat,ln,Gn);let Hr;if(Ht(34067,Ie,Mn),fn){for(let Mr=0;Mr<6;Mr++){Hr=bt[Mr].mipmaps;for(let Ri=0;Ri<Hr.length;Ri++){const Ms=Hr[Ri];Ie.format!==fi&&Ie.format!==bs?ln!==null?i.compressedTexImage2D(34069+Mr,Ri,Yn,Ms.width,Ms.height,0,Ms.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(34069+Mr,Ri,Yn,Ms.width,Ms.height,0,ln,Gn,Ms.data)}}Ft.__maxMipLevel=Hr.length-1}else{Hr=Ie.mipmaps;for(let Mr=0;Mr<6;Mr++)if(Pt){i.texImage2D(34069+Mr,0,Yn,bt[Mr].width,bt[Mr].height,0,ln,Gn,bt[Mr].data);for(let Ri=0;Ri<Hr.length;Ri++){const Ms=Hr[Ri].image[Mr].image;i.texImage2D(34069+Mr,Ri+1,Yn,Ms.width,Ms.height,0,ln,Gn,Ms.data)}}else{i.texImage2D(34069+Mr,0,Yn,ln,Gn,bt[Mr]);for(let Ri=0;Ri<Hr.length;Ri++){const Ms=Hr[Ri];i.texImage2D(34069+Mr,Ri+1,Yn,ln,Gn,Ms.image[Mr])}}Ft.__maxMipLevel=Hr.length}me(Ie,Mn)&&xe(34067,Ie,Zt.width,Zt.height),Ft.__version=Ie.version,Ie.onUpdate&&Ie.onUpdate(Ie)}(mn,Ue,et):(i.activeTexture(33984+et),i.bindTexture(34067,mn.__webglTexture))}const Dt={[vi]:10497,[Nr]:33071,[Ln]:33648},_t={[er]:9728,[Ir]:9984,[$i]:9986,[br]:9729,[ii]:9985,[Hs]:9987};function Ht(Ue,et,mn){mn?(t.texParameteri(Ue,10242,Dt[et.wrapS]),t.texParameteri(Ue,10243,Dt[et.wrapT]),Ue!==32879&&Ue!==35866||t.texParameteri(Ue,32882,Dt[et.wrapR]),t.texParameteri(Ue,10240,_t[et.magFilter]),t.texParameteri(Ue,10241,_t[et.minFilter])):(t.texParameteri(Ue,10242,33071),t.texParameteri(Ue,10243,33071),Ue!==32879&&Ue!==35866||t.texParameteri(Ue,32882,33071),et.wrapS===Nr&&et.wrapT===Nr||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Ue,10240,Se(et.magFilter)),t.texParameteri(Ue,10241,Se(et.minFilter)),et.minFilter!==er&&et.minFilter!==br&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const Ft=e.get("EXT_texture_filter_anisotropic");if(Ft){if(et.type===Ls&&e.get("OES_texture_float_linear")===null||et.type===$r&&(v||e.get("OES_texture_half_float_linear"))===null)return;(et.anisotropy>1||o.get(et).__currentAnisotropy)&&(t.texParameterf(Ue,Ft.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(et.anisotropy,l.getMaxAnisotropy())),o.get(et).__currentAnisotropy=et.anisotropy)}}function dn(Ue,et){Ue.__webglInit===void 0&&(Ue.__webglInit=!0,et.addEventListener("dispose",Ne),Ue.__webglTexture=t.createTexture(),g.memory.textures++)}function an(Ue,et,mn){let Ft=3553;et.isDataTexture2DArray&&(Ft=35866),et.isDataTexture3D&&(Ft=32879),dn(Ue,et),i.activeTexture(33984+mn),i.bindTexture(Ft,Ue.__webglTexture),t.pixelStorei(37440,et.flipY),t.pixelStorei(37441,et.premultiplyAlpha),t.pixelStorei(3317,et.unpackAlignment);const Ie=function(Gn){return!v&&(Gn.wrapS!==Nr||Gn.wrapT!==Nr||Gn.minFilter!==er&&Gn.minFilter!==br)}(et)&&ee(et.image)===!1,Wt=X(et.image,Ie,!1,L),fn=ee(Wt)||v,Pt=h.convert(et.format);let bt,Zt=h.convert(et.type),Mn=_e(et.internalFormat,Pt,Zt);Ht(Ft,et,fn);const ln=et.mipmaps;if(et.isDepthTexture)Mn=6402,v?Mn=et.type===Ls?36012:et.type===Cs?33190:et.type===wo?35056:33189:et.type===Ls&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),et.format===Ys&&Mn===6402&&et.type!==Hi&&et.type!==Cs&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),et.type=Hi,Zt=h.convert(et.type)),et.format===ws&&Mn===6402&&(Mn=34041,et.type!==wo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),et.type=wo,Zt=h.convert(et.type))),i.texImage2D(3553,0,Mn,Wt.width,Wt.height,0,Pt,Zt,null);else if(et.isDataTexture)if(ln.length>0&&fn){for(let Gn=0,Yn=ln.length;Gn<Yn;Gn++)bt=ln[Gn],i.texImage2D(3553,Gn,Mn,bt.width,bt.height,0,Pt,Zt,bt.data);et.generateMipmaps=!1,Ue.__maxMipLevel=ln.length-1}else i.texImage2D(3553,0,Mn,Wt.width,Wt.height,0,Pt,Zt,Wt.data),Ue.__maxMipLevel=0;else if(et.isCompressedTexture){for(let Gn=0,Yn=ln.length;Gn<Yn;Gn++)bt=ln[Gn],et.format!==fi&&et.format!==bs?Pt!==null?i.compressedTexImage2D(3553,Gn,Mn,bt.width,bt.height,0,bt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(3553,Gn,Mn,bt.width,bt.height,0,Pt,Zt,bt.data);Ue.__maxMipLevel=ln.length-1}else if(et.isDataTexture2DArray)i.texImage3D(35866,0,Mn,Wt.width,Wt.height,Wt.depth,0,Pt,Zt,Wt.data),Ue.__maxMipLevel=0;else if(et.isDataTexture3D)i.texImage3D(32879,0,Mn,Wt.width,Wt.height,Wt.depth,0,Pt,Zt,Wt.data),Ue.__maxMipLevel=0;else if(ln.length>0&&fn){for(let Gn=0,Yn=ln.length;Gn<Yn;Gn++)bt=ln[Gn],i.texImage2D(3553,Gn,Mn,Pt,Zt,bt);et.generateMipmaps=!1,Ue.__maxMipLevel=ln.length-1}else i.texImage2D(3553,0,Mn,Pt,Zt,Wt),Ue.__maxMipLevel=0;me(et,fn)&&xe(Ft,et,Wt.width,Wt.height),Ue.__version=et.version,et.onUpdate&&et.onUpdate(et)}function or(Ue,et,mn,Ft){const Ie=h.convert(et.texture.format),Wt=h.convert(et.texture.type),fn=_e(et.texture.internalFormat,Ie,Wt);i.texImage2D(Ft,0,fn,et.width,et.height,0,Ie,Wt,null),t.bindFramebuffer(36160,Ue),t.framebufferTexture2D(36160,mn,Ft,o.get(et.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function kn(Ue,et,mn){if(t.bindRenderbuffer(36161,Ue),et.depthBuffer&&!et.stencilBuffer){let Ft=33189;if(mn){const Ie=et.depthTexture;Ie&&Ie.isDepthTexture&&(Ie.type===Ls?Ft=36012:Ie.type===Cs&&(Ft=33190));const Wt=mr(et);t.renderbufferStorageMultisample(36161,Wt,Ft,et.width,et.height)}else t.renderbufferStorage(36161,Ft,et.width,et.height);t.framebufferRenderbuffer(36160,36096,36161,Ue)}else if(et.depthBuffer&&et.stencilBuffer){if(mn){const Ft=mr(et);t.renderbufferStorageMultisample(36161,Ft,35056,et.width,et.height)}else t.renderbufferStorage(36161,34041,et.width,et.height);t.framebufferRenderbuffer(36160,33306,36161,Ue)}else{const Ft=h.convert(et.texture.format),Ie=h.convert(et.texture.type),Wt=_e(et.texture.internalFormat,Ft,Ie);if(mn){const fn=mr(et);t.renderbufferStorageMultisample(36161,fn,Wt,et.width,et.height)}else t.renderbufferStorage(36161,Wt,et.width,et.height)}t.bindRenderbuffer(36161,null)}function Tn(Ue){const et=o.get(Ue),mn=Ue.isWebGLCubeRenderTarget===!0;if(Ue.depthTexture){if(mn)throw new Error("target.depthTexture not supported in Cube render targets");(function(Ft,Ie){if(Ie&&Ie.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Ft),!Ie.depthTexture||!Ie.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");o.get(Ie.depthTexture).__webglTexture&&Ie.depthTexture.image.width===Ie.width&&Ie.depthTexture.image.height===Ie.height||(Ie.depthTexture.image.width=Ie.width,Ie.depthTexture.image.height=Ie.height,Ie.depthTexture.needsUpdate=!0),mt(Ie.depthTexture,0);const Wt=o.get(Ie.depthTexture).__webglTexture;if(Ie.depthTexture.format===Ys)t.framebufferTexture2D(36160,36096,3553,Wt,0);else{if(Ie.depthTexture.format!==ws)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,Wt,0)}})(et.__webglFramebuffer,Ue)}else if(mn){et.__webglDepthbuffer=[];for(let Ft=0;Ft<6;Ft++)t.bindFramebuffer(36160,et.__webglFramebuffer[Ft]),et.__webglDepthbuffer[Ft]=t.createRenderbuffer(),kn(et.__webglDepthbuffer[Ft],Ue,!1)}else t.bindFramebuffer(36160,et.__webglFramebuffer),et.__webglDepthbuffer=t.createRenderbuffer(),kn(et.__webglDepthbuffer,Ue,!1);t.bindFramebuffer(36160,null)}function mr(Ue){return v&&Ue.isWebGLMultisampleRenderTarget?Math.min(T,Ue.samples):0}let gr=!1,li=!1;this.allocateTextureUnit=function(){const Ue=ut;return Ue>=w&&console.warn("THREE.WebGLTextures: Trying to use "+Ue+" texture units while this GPU supports only "+w),ut+=1,Ue},this.resetTextureUnits=function(){ut=0},this.setTexture2D=mt,this.setTexture2DArray=function(Ue,et){const mn=o.get(Ue);Ue.version>0&&mn.__version!==Ue.version?an(mn,Ue,et):(i.activeTexture(33984+et),i.bindTexture(35866,mn.__webglTexture))},this.setTexture3D=function(Ue,et){const mn=o.get(Ue);Ue.version>0&&mn.__version!==Ue.version?an(mn,Ue,et):(i.activeTexture(33984+et),i.bindTexture(32879,mn.__webglTexture))},this.setTextureCube=jt,this.setupRenderTarget=function(Ue){const et=o.get(Ue),mn=o.get(Ue.texture);Ue.addEventListener("dispose",Ae),mn.__webglTexture=t.createTexture(),g.memory.textures++;const Ft=Ue.isWebGLCubeRenderTarget===!0,Ie=Ue.isWebGLMultisampleRenderTarget===!0,Wt=ee(Ue)||v;if(!v||Ue.texture.format!==bs||Ue.texture.type!==Ls&&Ue.texture.type!==$r||(Ue.texture.format=fi,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Ft){et.__webglFramebuffer=[];for(let fn=0;fn<6;fn++)et.__webglFramebuffer[fn]=t.createFramebuffer()}else if(et.__webglFramebuffer=t.createFramebuffer(),Ie)if(v){et.__webglMultisampledFramebuffer=t.createFramebuffer(),et.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,et.__webglColorRenderbuffer);const fn=h.convert(Ue.texture.format),Pt=h.convert(Ue.texture.type),bt=_e(Ue.texture.internalFormat,fn,Pt),Zt=mr(Ue);t.renderbufferStorageMultisample(36161,Zt,bt,Ue.width,Ue.height),t.bindFramebuffer(36160,et.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,et.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),Ue.depthBuffer&&(et.__webglDepthRenderbuffer=t.createRenderbuffer(),kn(et.__webglDepthRenderbuffer,Ue,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Ft){i.bindTexture(34067,mn.__webglTexture),Ht(34067,Ue.texture,Wt);for(let fn=0;fn<6;fn++)or(et.__webglFramebuffer[fn],Ue,36064,34069+fn);me(Ue.texture,Wt)&&xe(34067,Ue.texture,Ue.width,Ue.height),i.bindTexture(34067,null)}else i.bindTexture(3553,mn.__webglTexture),Ht(3553,Ue.texture,Wt),or(et.__webglFramebuffer,Ue,36064,3553),me(Ue.texture,Wt)&&xe(3553,Ue.texture,Ue.width,Ue.height),i.bindTexture(3553,null);Ue.depthBuffer&&Tn(Ue)},this.updateRenderTargetMipmap=function(Ue){const et=Ue.texture;if(me(et,ee(Ue)||v)){const mn=Ue.isWebGLCubeRenderTarget?34067:3553,Ft=o.get(et).__webglTexture;i.bindTexture(mn,Ft),xe(mn,et,Ue.width,Ue.height),i.bindTexture(mn,null)}},this.updateMultisampleRenderTarget=function(Ue){if(Ue.isWebGLMultisampleRenderTarget)if(v){const et=o.get(Ue);t.bindFramebuffer(36008,et.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,et.__webglFramebuffer);const mn=Ue.width,Ft=Ue.height;let Ie=16384;Ue.depthBuffer&&(Ie|=256),Ue.stencilBuffer&&(Ie|=1024),t.blitFramebuffer(0,0,mn,Ft,0,0,mn,Ft,Ie,9728),t.bindFramebuffer(36160,et.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(Ue,et){Ue&&Ue.isWebGLRenderTarget&&(gr===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),gr=!0),Ue=Ue.texture),mt(Ue,et)},this.safeSetTextureCube=function(Ue,et){Ue&&Ue.isWebGLCubeRenderTarget&&(li===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),li=!0),Ue=Ue.texture),jt(Ue,et)}}function Qh(t,e,i){const o=i.isWebGL2;return{convert:function(l){let h;if(l===ir)return 5121;if(l===Aa)return 32819;if(l===sa)return 32820;if(l===bo)return 33635;if(l===ia)return 5120;if(l===as)return 5122;if(l===Hi)return 5123;if(l===es)return 5124;if(l===Cs)return 5125;if(l===Ls)return 5126;if(l===$r)return o?5131:(h=e.get("OES_texture_half_float"),h!==null?h.HALF_FLOAT_OES:null);if(l===to)return 6406;if(l===bs)return 6407;if(l===fi)return 6408;if(l===Zi)return 6409;if(l===ls)return 6410;if(l===Ys)return 6402;if(l===ws)return 34041;if(l===Be)return 6403;if(l===gt)return 36244;if(l===je)return 33319;if(l===Je)return 33320;if(l===qt)return 36248;if(l===hn)return 36249;if(l===un||l===Zn||l===Yr||l===_n){if(h=e.get("WEBGL_compressed_texture_s3tc"),h===null)return null;if(l===un)return h.COMPRESSED_RGB_S3TC_DXT1_EXT;if(l===Zn)return h.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(l===Yr)return h.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(l===_n)return h.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(l===Er||l===ei||l===Dr||l===Zr){if(h=e.get("WEBGL_compressed_texture_pvrtc"),h===null)return null;if(l===Er)return h.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(l===ei)return h.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(l===Dr)return h.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(l===Zr)return h.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(l===zr)return h=e.get("WEBGL_compressed_texture_etc1"),h!==null?h.COMPRESSED_RGB_ETC1_WEBGL:null;if((l===dr||l===Pr)&&(h=e.get("WEBGL_compressed_texture_etc"),h!==null)){if(l===dr)return h.COMPRESSED_RGB8_ETC2;if(l===Pr)return h.COMPRESSED_RGBA8_ETC2_EAC}return l===Br||l===Kr||l===xi||l===Vi||l===ts||l===Ro||l===_o||l===Di||l===Us||l===Ai||l===oa||l===iu||l===Gs||l===ko||l===qa||l===Wo||l===Oo||l===Wr||l===ol||l===Os||l===Io||l===Lr||l===qo||l===Ca||l===aa||l===la||l===no||l===us?(h=e.get("WEBGL_compressed_texture_astc"),h!==null?l:null):l===Ta?(h=e.get("EXT_texture_compression_bptc"),h!==null?l:null):l===wo?o?34042:(h=e.get("WEBGL_depth_texture"),h!==null?h.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function tf(t=[]){Js.call(this),this.cameras=t}function Xu(){N.call(this),this.type="Group"}function Sp(){this._targetRay=null,this._grip=null,this._hand=null}function _0(t,e){const i=this;let o=null,l=1,h=null,g="local-floor",v=null;const w=[],S=new Map,L=new Js;L.layers.enable(1),L.viewport=new Ii;const T=new Js;T.layers.enable(2),T.viewport=new Ii;const I=[L,T],F=new tf;F.layers.enable(1),F.layers.enable(2);let j=null,K=null;function X(mt){const jt=S.get(mt.inputSource);jt&&jt.dispatchEvent({type:mt.type,data:mt.inputSource})}function ee(){S.forEach(function(mt,jt){mt.disconnect(jt)}),S.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),ut.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function me(mt){h=mt,ut.setContext(o),ut.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}function xe(mt){const jt=o.inputSources;for(let Dt=0;Dt<w.length;Dt++)S.set(jt[Dt],w[Dt]);for(let Dt=0;Dt<mt.removed.length;Dt++){const _t=mt.removed[Dt],Ht=S.get(_t);Ht&&(Ht.dispatchEvent({type:"disconnected",data:_t}),S.delete(_t))}for(let Dt=0;Dt<mt.added.length;Dt++){const _t=mt.added[Dt],Ht=S.get(_t);Ht&&Ht.dispatchEvent({type:"connected",data:_t})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(mt){let jt=w[mt];return jt===void 0&&(jt=new Sp,w[mt]=jt),jt.getTargetRaySpace()},this.getControllerGrip=function(mt){let jt=w[mt];return jt===void 0&&(jt=new Sp,w[mt]=jt),jt.getGripSpace()},this.getHand=function(mt){let jt=w[mt];return jt===void 0&&(jt=new Sp,w[mt]=jt),jt.getHandSpace()},this.setFramebufferScaleFactor=function(mt){l=mt,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(mt){g=mt,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h},this.getSession=function(){return o},this.setSession=function(mt){if(o=mt,o!==null){o.addEventListener("select",X),o.addEventListener("selectstart",X),o.addEventListener("selectend",X),o.addEventListener("squeeze",X),o.addEventListener("squeezestart",X),o.addEventListener("squeezeend",X),o.addEventListener("end",ee);const jt=e.getContextAttributes();jt.xrCompatible!==!0&&e.makeXRCompatible();const Dt={antialias:jt.antialias,alpha:jt.alpha,depth:jt.depth,stencil:jt.stencil,framebufferScaleFactor:l},_t=new XRWebGLLayer(o,e,Dt);o.updateRenderState({baseLayer:_t}),o.requestReferenceSpace(g).then(me),o.addEventListener("inputsourceschange",xe)}};const _e=new ye,Se=new ye;function Ne(mt,jt){jt===null?mt.matrixWorld.copy(mt.matrix):mt.matrixWorld.multiplyMatrices(jt.matrixWorld,mt.matrix),mt.matrixWorldInverse.copy(mt.matrixWorld).invert()}this.getCamera=function(mt){F.near=T.near=L.near=mt.near,F.far=T.far=L.far=mt.far,j===F.near&&K===F.far||(o.updateRenderState({depthNear:F.near,depthFar:F.far}),j=F.near,K=F.far);const jt=mt.parent,Dt=F.cameras;Ne(F,jt);for(let Ht=0;Ht<Dt.length;Ht++)Ne(Dt[Ht],jt);mt.matrixWorld.copy(F.matrixWorld);const _t=mt.children;for(let Ht=0,dn=_t.length;Ht<dn;Ht++)_t[Ht].updateMatrixWorld(!0);return Dt.length===2?function(Ht,dn,an){_e.setFromMatrixPosition(dn.matrixWorld),Se.setFromMatrixPosition(an.matrixWorld);const or=_e.distanceTo(Se),kn=dn.projectionMatrix.elements,Tn=an.projectionMatrix.elements,mr=kn[14]/(kn[10]-1),gr=kn[14]/(kn[10]+1),li=(kn[9]+1)/kn[5],Ue=(kn[9]-1)/kn[5],et=(kn[8]-1)/kn[0],mn=(Tn[8]+1)/Tn[0],Ft=mr*et,Ie=mr*mn,Wt=or/(-et+mn),fn=Wt*-et;dn.matrixWorld.decompose(Ht.position,Ht.quaternion,Ht.scale),Ht.translateX(fn),Ht.translateZ(Wt),Ht.matrixWorld.compose(Ht.position,Ht.quaternion,Ht.scale),Ht.matrixWorldInverse.copy(Ht.matrixWorld).invert();const Pt=mr+Wt,bt=gr+Wt,Zt=Ft-fn,Mn=Ie+(or-fn),ln=li*gr/bt*Pt,Gn=Ue*gr/bt*Pt;Ht.projectionMatrix.makePerspective(Zt,Mn,ln,Gn,Pt,bt)}(F,L,T):F.projectionMatrix.copy(L.projectionMatrix),F};let Ae=null;const ut=new ig;ut.setAnimationLoop(function(mt,jt){if(v=jt.getViewerPose(h),v!==null){const _t=v.views,Ht=o.renderState.baseLayer;t.setFramebuffer(Ht.framebuffer);let dn=!1;_t.length!==F.cameras.length&&(F.cameras.length=0,dn=!0);for(let an=0;an<_t.length;an++){const or=_t[an],kn=Ht.getViewport(or),Tn=I[an];Tn.matrix.fromArray(or.transform.matrix),Tn.projectionMatrix.fromArray(or.projectionMatrix),Tn.viewport.set(kn.x,kn.y,kn.width,kn.height),an===0&&F.matrix.copy(Tn.matrix),dn===!0&&F.cameras.push(Tn)}}const Dt=o.inputSources;for(let _t=0;_t<w.length;_t++){const Ht=w[_t],dn=Dt[_t];Ht.update(dn,jt,h)}Ae&&Ae(mt,jt)}),this.setAnimationLoop=function(mt){Ae=mt},this.dispose=function(){}}function Kx(t){function e(o,l){o.opacity.value=l.opacity,l.color&&o.diffuse.value.copy(l.color),l.emissive&&o.emissive.value.copy(l.emissive).multiplyScalar(l.emissiveIntensity),l.map&&(o.map.value=l.map),l.alphaMap&&(o.alphaMap.value=l.alphaMap),l.specularMap&&(o.specularMap.value=l.specularMap);const h=t.get(l).envMap;if(h){o.envMap.value=h,o.flipEnvMap.value=h.isCubeTexture&&h._needsFlipEnvMap?-1:1,o.reflectivity.value=l.reflectivity,o.refractionRatio.value=l.refractionRatio;const w=t.get(h).__maxMipLevel;w!==void 0&&(o.maxMipLevel.value=w)}let g,v;l.lightMap&&(o.lightMap.value=l.lightMap,o.lightMapIntensity.value=l.lightMapIntensity),l.aoMap&&(o.aoMap.value=l.aoMap,o.aoMapIntensity.value=l.aoMapIntensity),l.map?g=l.map:l.specularMap?g=l.specularMap:l.displacementMap?g=l.displacementMap:l.normalMap?g=l.normalMap:l.bumpMap?g=l.bumpMap:l.roughnessMap?g=l.roughnessMap:l.metalnessMap?g=l.metalnessMap:l.alphaMap?g=l.alphaMap:l.emissiveMap?g=l.emissiveMap:l.clearcoatMap?g=l.clearcoatMap:l.clearcoatNormalMap?g=l.clearcoatNormalMap:l.clearcoatRoughnessMap&&(g=l.clearcoatRoughnessMap),g!==void 0&&(g.isWebGLRenderTarget&&(g=g.texture),g.matrixAutoUpdate===!0&&g.updateMatrix(),o.uvTransform.value.copy(g.matrix)),l.aoMap?v=l.aoMap:l.lightMap&&(v=l.lightMap),v!==void 0&&(v.isWebGLRenderTarget&&(v=v.texture),v.matrixAutoUpdate===!0&&v.updateMatrix(),o.uv2Transform.value.copy(v.matrix))}function i(o,l){o.roughness.value=l.roughness,o.metalness.value=l.metalness,l.roughnessMap&&(o.roughnessMap.value=l.roughnessMap),l.metalnessMap&&(o.metalnessMap.value=l.metalnessMap),l.emissiveMap&&(o.emissiveMap.value=l.emissiveMap),l.bumpMap&&(o.bumpMap.value=l.bumpMap,o.bumpScale.value=l.bumpScale,l.side===Y&&(o.bumpScale.value*=-1)),l.normalMap&&(o.normalMap.value=l.normalMap,o.normalScale.value.copy(l.normalScale),l.side===Y&&o.normalScale.value.negate()),l.displacementMap&&(o.displacementMap.value=l.displacementMap,o.displacementScale.value=l.displacementScale,o.displacementBias.value=l.displacementBias),t.get(l).envMap&&(o.envMapIntensity.value=l.envMapIntensity)}return{refreshFogUniforms:function(o,l){o.fogColor.value.copy(l.color),l.isFog?(o.fogNear.value=l.near,o.fogFar.value=l.far):l.isFogExp2&&(o.fogDensity.value=l.density)},refreshMaterialUniforms:function(o,l,h,g){l.isMeshBasicMaterial?e(o,l):l.isMeshLambertMaterial?(e(o,l),function(v,w){w.emissiveMap&&(v.emissiveMap.value=w.emissiveMap)}(o,l)):l.isMeshToonMaterial?(e(o,l),function(v,w){w.gradientMap&&(v.gradientMap.value=w.gradientMap),w.emissiveMap&&(v.emissiveMap.value=w.emissiveMap),w.bumpMap&&(v.bumpMap.value=w.bumpMap,v.bumpScale.value=w.bumpScale,w.side===Y&&(v.bumpScale.value*=-1)),w.normalMap&&(v.normalMap.value=w.normalMap,v.normalScale.value.copy(w.normalScale),w.side===Y&&v.normalScale.value.negate()),w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias)}(o,l)):l.isMeshPhongMaterial?(e(o,l),function(v,w){v.specular.value.copy(w.specular),v.shininess.value=Math.max(w.shininess,1e-4),w.emissiveMap&&(v.emissiveMap.value=w.emissiveMap),w.bumpMap&&(v.bumpMap.value=w.bumpMap,v.bumpScale.value=w.bumpScale,w.side===Y&&(v.bumpScale.value*=-1)),w.normalMap&&(v.normalMap.value=w.normalMap,v.normalScale.value.copy(w.normalScale),w.side===Y&&v.normalScale.value.negate()),w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias)}(o,l)):l.isMeshStandardMaterial?(e(o,l),l.isMeshPhysicalMaterial?function(v,w){i(v,w),v.reflectivity.value=w.reflectivity,v.clearcoat.value=w.clearcoat,v.clearcoatRoughness.value=w.clearcoatRoughness,w.sheen&&v.sheen.value.copy(w.sheen),w.clearcoatMap&&(v.clearcoatMap.value=w.clearcoatMap),w.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap),w.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),v.clearcoatNormalMap.value=w.clearcoatNormalMap,w.side===Y&&v.clearcoatNormalScale.value.negate()),v.transmission.value=w.transmission,w.transmissionMap&&(v.transmissionMap.value=w.transmissionMap)}(o,l):i(o,l)):l.isMeshMatcapMaterial?(e(o,l),function(v,w){w.matcap&&(v.matcap.value=w.matcap),w.bumpMap&&(v.bumpMap.value=w.bumpMap,v.bumpScale.value=w.bumpScale,w.side===Y&&(v.bumpScale.value*=-1)),w.normalMap&&(v.normalMap.value=w.normalMap,v.normalScale.value.copy(w.normalScale),w.side===Y&&v.normalScale.value.negate()),w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias)}(o,l)):l.isMeshDepthMaterial?(e(o,l),function(v,w){w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias)}(o,l)):l.isMeshDistanceMaterial?(e(o,l),function(v,w){w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias),v.referencePosition.value.copy(w.referencePosition),v.nearDistance.value=w.nearDistance,v.farDistance.value=w.farDistance}(o,l)):l.isMeshNormalMaterial?(e(o,l),function(v,w){w.bumpMap&&(v.bumpMap.value=w.bumpMap,v.bumpScale.value=w.bumpScale,w.side===Y&&(v.bumpScale.value*=-1)),w.normalMap&&(v.normalMap.value=w.normalMap,v.normalScale.value.copy(w.normalScale),w.side===Y&&v.normalScale.value.negate()),w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias)}(o,l)):l.isLineBasicMaterial?(function(v,w){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity}(o,l),l.isLineDashedMaterial&&function(v,w){v.dashSize.value=w.dashSize,v.totalSize.value=w.dashSize+w.gapSize,v.scale.value=w.scale}(o,l)):l.isPointsMaterial?function(v,w,S,L){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity,v.size.value=w.size*S,v.scale.value=.5*L,w.map&&(v.map.value=w.map),w.alphaMap&&(v.alphaMap.value=w.alphaMap);let T;w.map?T=w.map:w.alphaMap&&(T=w.alphaMap),T!==void 0&&(T.matrixAutoUpdate===!0&&T.updateMatrix(),v.uvTransform.value.copy(T.matrix))}(o,l,h,g):l.isSpriteMaterial?function(v,w){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity,v.rotation.value=w.rotation,w.map&&(v.map.value=w.map),w.alphaMap&&(v.alphaMap.value=w.alphaMap);let S;w.map?S=w.map:w.alphaMap&&(S=w.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uvTransform.value.copy(S.matrix))}(o,l):l.isShadowMaterial?(o.color.value.copy(l.color),o.opacity.value=l.opacity):l.isShaderMaterial&&(l.uniformsNeedUpdate=!1)}}}function nf(t){const e=(t=t||{}).canvas!==void 0?t.canvas:function(){const Le=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return Le.style.display="block",Le}(),i=t.context!==void 0?t.context:null,o=t.alpha!==void 0&&t.alpha,l=t.depth===void 0||t.depth,h=t.stencil===void 0||t.stencil,g=t.antialias!==void 0&&t.antialias,v=t.premultipliedAlpha===void 0||t.premultipliedAlpha,w=t.preserveDrawingBuffer!==void 0&&t.preserveDrawingBuffer,S=t.powerPreference!==void 0?t.powerPreference:"default",L=t.failIfMajorPerformanceCaveat!==void 0&&t.failIfMajorPerformanceCaveat;let T=null,I=null;const F=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=ct,this.physicallyCorrectLights=!1,this.toneMapping=Jt,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const j=this;let K=!1,X=null,ee=0,me=0,xe=null,_e=null,Se=-1,Ne=null;const Ae=new Ii,ut=new Ii;let mt=null,jt=e.width,Dt=e.height,_t=1,Ht=null,dn=null;const an=new Ii(0,0,jt,Dt),or=new Ii(0,0,jt,Dt);let kn=!1;const Tn=new Yd;let mr=!1,gr=!1;const li=new Cr,Ue=new ye,et={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function mn(){return xe===null?_t:1}let Ft,Ie,Wt,fn,Pt,bt,Zt,Mn,ln,Gn,Yn,Hr,Mr,Ri,Ms,Th,Ch,G0,V0,ic,el,Bn=i;function cE(Le,Kt){for(let Nt=0;Nt<Le.length;Nt++){const en=Le[Nt],Hn=e.getContext(en,Kt);if(Hn!==null)return Hn}return null}try{const Le={alpha:o,depth:l,stencil:h,antialias:g,premultipliedAlpha:v,preserveDrawingBuffer:w,powerPreference:S,failIfMajorPerformanceCaveat:L};if(e.addEventListener("webglcontextlost",fE,!1),e.addEventListener("webglcontextrestored",pE,!1),Bn===null){const Kt=["webgl2","webgl","experimental-webgl"];if(j.isWebGL1Renderer===!0&&Kt.shift(),Bn=cE(Kt,Le),Bn===null)throw cE(Kt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Bn.getShaderPrecisionFormat===void 0&&(Bn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Le){throw console.error("THREE.WebGLRenderer: "+Le.message),Le}function hE(){Ft=new Zd(Bn),Ie=new sg(Bn,Ft,t),Ie.isWebGL2===!1&&(Ft.get("WEBGL_depth_texture"),Ft.get("OES_texture_float"),Ft.get("OES_texture_half_float"),Ft.get("OES_texture_half_float_linear"),Ft.get("OES_standard_derivatives"),Ft.get("OES_element_index_uint"),Ft.get("OES_vertex_array_object"),Ft.get("ANGLE_instanced_arrays")),Ft.get("OES_texture_float_linear"),ic=new Qh(Bn,Ft,Ie),Wt=new Zx(Bn,Ft,Ie),Wt.scissor(ut.copy(or).multiplyScalar(_t).floor()),Wt.viewport(Ae.copy(an).multiplyScalar(_t).floor()),fn=new ag,Pt=new K1,bt=new w0(Bn,Ft,Wt,Pt,Ie,ic,fn),Zt=new Dx(j),Mn=new $v(Bn,Ie),el=new $1(Bn,Ft,Mn,Ie),ln=new Fx(Bn,Mn,fn,el),Gn=new Jv(Bn,ln,Mn,fn),Ch=new Kv(Bn),Ms=new Nx(Pt),Yn=new Xx(j,Zt,Ft,Ie,el,Ms),Hr=new Kx(Pt),Mr=new Yx(Pt),Ri=new x0(Ft,Ie),Th=new Yv(j,Zt,Wt,Gn,v),G0=new fp(Bn,Ft,fn,Ie),V0=new og(Bn,Ft,fn,Ie),fn.programs=Yn.programs,j.capabilities=Ie,j.extensions=Ft,j.properties=Pt,j.renderLists=Mr,j.state=Wt,j.info=fn}hE();const Af=new _0(j,Bn);this.xr=Af;const dE=new b0(j,Gn,Ie.maxTextureSize);function fE(Le){Le.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),K=!0}function pE(){console.log("THREE.WebGLRenderer: Context Restored."),K=!1,hE()}function mE(Le){const Kt=Le.target;Kt.removeEventListener("dispose",mE),function(Nt){gE(Nt),Pt.remove(Nt)}(Kt)}function gE(Le){const Kt=Pt.get(Le).program;Kt!==void 0&&Yn.releaseProgram(Kt)}this.shadowMap=dE,this.getContext=function(){return Bn},this.getContextAttributes=function(){return Bn.getContextAttributes()},this.forceContextLoss=function(){const Le=Ft.get("WEBGL_lose_context");Le&&Le.loseContext()},this.forceContextRestore=function(){const Le=Ft.get("WEBGL_lose_context");Le&&Le.restoreContext()},this.getPixelRatio=function(){return _t},this.setPixelRatio=function(Le){Le!==void 0&&(_t=Le,this.setSize(jt,Dt,!1))},this.getSize=function(Le){return Le===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Le=new Ot),Le.set(jt,Dt)},this.setSize=function(Le,Kt,Nt){Af.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(jt=Le,Dt=Kt,e.width=Math.floor(Le*_t),e.height=Math.floor(Kt*_t),Nt!==!1&&(e.style.width=Le+"px",e.style.height=Kt+"px"),this.setViewport(0,0,Le,Kt))},this.getDrawingBufferSize=function(Le){return Le===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Le=new Ot),Le.set(jt*_t,Dt*_t).floor()},this.setDrawingBufferSize=function(Le,Kt,Nt){jt=Le,Dt=Kt,_t=Nt,e.width=Math.floor(Le*Nt),e.height=Math.floor(Kt*Nt),this.setViewport(0,0,Le,Kt)},this.getCurrentViewport=function(Le){return Le===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Le=new Ii),Le.copy(Ae)},this.getViewport=function(Le){return Le.copy(an)},this.setViewport=function(Le,Kt,Nt,en){Le.isVector4?an.set(Le.x,Le.y,Le.z,Le.w):an.set(Le,Kt,Nt,en),Wt.viewport(Ae.copy(an).multiplyScalar(_t).floor())},this.getScissor=function(Le){return Le.copy(or)},this.setScissor=function(Le,Kt,Nt,en){Le.isVector4?or.set(Le.x,Le.y,Le.z,Le.w):or.set(Le,Kt,Nt,en),Wt.scissor(ut.copy(or).multiplyScalar(_t).floor())},this.getScissorTest=function(){return kn},this.setScissorTest=function(Le){Wt.setScissorTest(kn=Le)},this.setOpaqueSort=function(Le){Ht=Le},this.setTransparentSort=function(Le){dn=Le},this.getClearColor=function(Le){return Le===void 0&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),Le=new zt),Le.copy(Th.getClearColor())},this.setClearColor=function(){Th.setClearColor.apply(Th,arguments)},this.getClearAlpha=function(){return Th.getClearAlpha()},this.setClearAlpha=function(){Th.setClearAlpha.apply(Th,arguments)},this.clear=function(Le,Kt,Nt){let en=0;(Le===void 0||Le)&&(en|=16384),(Kt===void 0||Kt)&&(en|=256),(Nt===void 0||Nt)&&(en|=1024),Bn.clear(en)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",fE,!1),e.removeEventListener("webglcontextrestored",pE,!1),Mr.dispose(),Ri.dispose(),Pt.dispose(),Zt.dispose(),Gn.dispose(),el.dispose(),Af.dispose(),W0.stop()},this.renderBufferImmediate=function(Le,Kt){el.initAttributes();const Nt=Pt.get(Le);Le.hasPositions&&!Nt.position&&(Nt.position=Bn.createBuffer()),Le.hasNormals&&!Nt.normal&&(Nt.normal=Bn.createBuffer()),Le.hasUvs&&!Nt.uv&&(Nt.uv=Bn.createBuffer()),Le.hasColors&&!Nt.color&&(Nt.color=Bn.createBuffer());const en=Kt.getAttributes();Le.hasPositions&&(Bn.bindBuffer(34962,Nt.position),Bn.bufferData(34962,Le.positionArray,35048),el.enableAttribute(en.position),Bn.vertexAttribPointer(en.position,3,5126,!1,0,0)),Le.hasNormals&&(Bn.bindBuffer(34962,Nt.normal),Bn.bufferData(34962,Le.normalArray,35048),el.enableAttribute(en.normal),Bn.vertexAttribPointer(en.normal,3,5126,!1,0,0)),Le.hasUvs&&(Bn.bindBuffer(34962,Nt.uv),Bn.bufferData(34962,Le.uvArray,35048),el.enableAttribute(en.uv),Bn.vertexAttribPointer(en.uv,2,5126,!1,0,0)),Le.hasColors&&(Bn.bindBuffer(34962,Nt.color),Bn.bufferData(34962,Le.colorArray,35048),el.enableAttribute(en.color),Bn.vertexAttribPointer(en.color,3,5126,!1,0,0)),el.disableUnusedAttributes(),Bn.drawArrays(4,0,Le.count),Le.count=0},this.renderBufferDirect=function(Le,Kt,Nt,en,Hn,Qr){Kt===null&&(Kt=et);const mi=Hn.isMesh&&Hn.matrixWorld.determinant()<0,ss=bE(Le,Kt,en,Hn);Wt.setMaterial(en,mi);let ni=Nt.index;const Qo=Nt.attributes.position;if(ni===null){if(Qo===void 0||Qo.count===0)return}else if(ni.count===0)return;let ya,Ur=1;en.wireframe===!0&&(ni=ln.getWireframeAttribute(Nt),Ur=2),(en.morphTargets||en.morphNormals)&&Ch.update(Hn,Nt,en,ss),el.setup(Hn,en,ss,Nt,ni);let Lo=G0;ni!==null&&(ya=Mn.get(ni),Lo=V0,Lo.setIndex(ya));const ud=ni!==null?ni.count:Qo.count,Bi=Nt.drawRange.start*Ur,Gp=Nt.drawRange.count*Ur,wu=Qr!==null?Qr.start*Ur:0,_u=Qr!==null?Qr.count*Ur:1/0,ea=Math.max(Bi,wu),Rw=Math.min(ud,Bi+Gp,wu+_u)-1,Yl=Math.max(0,Rw-ea+1);if(Yl!==0){if(Hn.isMesh)en.wireframe===!0?(Wt.setLineWidth(en.wireframeLinewidth*mn()),Lo.setMode(1)):Lo.setMode(4);else if(Hn.isLine){let cd=en.linewidth;cd===void 0&&(cd=1),Wt.setLineWidth(cd*mn()),Hn.isLineSegments?Lo.setMode(1):Hn.isLineLoop?Lo.setMode(2):Lo.setMode(3)}else Hn.isPoints?Lo.setMode(0):Hn.isSprite&&Lo.setMode(4);if(Hn.isInstancedMesh)Lo.renderInstances(ea,Yl,Hn.count);else if(Nt.isInstancedBufferGeometry){const cd=Math.min(Nt.instanceCount,Nt._maxInstanceCount);Lo.renderInstances(ea,Yl,cd)}else Lo.render(ea,Yl)}},this.compile=function(Le,Kt){I=Ri.get(Le),I.init(),Le.traverseVisible(function(en){en.isLight&&en.layers.test(Kt.layers)&&(I.pushLight(en),en.castShadow&&I.pushShadow(en))}),I.setupLights();const Nt=new WeakMap;Le.traverse(function(en){const Hn=en.material;if(Hn)if(Array.isArray(Hn))for(let Qr=0;Qr<Hn.length;Qr++){const mi=Hn[Qr];Nt.has(mi)===!1&&(zg(mi,Le,en),Nt.set(mi))}else Nt.has(Hn)===!1&&(zg(Hn,Le,en),Nt.set(Hn))})};let Pw=null;const W0=new ig;function vE(Le,Kt,Nt,en){if(Le.visible===!1)return;if(Le.layers.test(Kt.layers)){if(Le.isGroup)Nt=Le.renderOrder;else if(Le.isLOD)Le.autoUpdate===!0&&Le.update(Kt);else if(Le.isLight)I.pushLight(Le),Le.castShadow&&I.pushShadow(Le);else if(Le.isSprite){if(!Le.frustumCulled||Tn.intersectsSprite(Le)){en&&Ue.setFromMatrixPosition(Le.matrixWorld).applyMatrix4(li);const Qr=Gn.update(Le),mi=Le.material;mi.visible&&T.push(Le,Qr,mi,Nt,Ue.z,null)}}else if(Le.isImmediateRenderObject)en&&Ue.setFromMatrixPosition(Le.matrixWorld).applyMatrix4(li),T.push(Le,null,Le.material,Nt,Ue.z,null);else if((Le.isMesh||Le.isLine||Le.isPoints)&&(Le.isSkinnedMesh&&Le.skeleton.frame!==fn.render.frame&&(Le.skeleton.update(),Le.skeleton.frame=fn.render.frame),!Le.frustumCulled||Tn.intersectsObject(Le))){en&&Ue.setFromMatrixPosition(Le.matrixWorld).applyMatrix4(li);const Qr=Gn.update(Le),mi=Le.material;if(Array.isArray(mi)){const ss=Qr.groups;for(let ni=0,Qo=ss.length;ni<Qo;ni++){const ya=ss[ni],Ur=mi[ya.materialIndex];Ur&&Ur.visible&&T.push(Le,Qr,Ur,Nt,Ue.z,ya)}}else mi.visible&&T.push(Le,Qr,mi,Nt,Ue.z,null)}}const Hn=Le.children;for(let Qr=0,mi=Hn.length;Qr<mi;Qr++)vE(Hn[Qr],Kt,Nt,en)}function yE(Le,Kt,Nt){const en=Kt.isScene===!0?Kt.overrideMaterial:null;for(let Hn=0,Qr=Le.length;Hn<Qr;Hn++){const mi=Le[Hn],ss=mi.object,ni=mi.geometry,Qo=en===null?mi.material:en,ya=mi.group;if(Nt.isArrayCamera){const Ur=Nt.cameras;for(let Lo=0,ud=Ur.length;Lo<ud;Lo++){const Bi=Ur[Lo];ss.layers.test(Bi.layers)&&(Wt.viewport(Ae.copy(Bi.viewport)),I.setupLightsView(Bi),xE(ss,Kt,Bi,ni,Qo,ya))}}else xE(ss,Kt,Nt,ni,Qo,ya)}}function xE(Le,Kt,Nt,en,Hn,Qr){if(Le.onBeforeRender(j,Kt,Nt,en,Hn,Qr),Le.modelViewMatrix.multiplyMatrices(Nt.matrixWorldInverse,Le.matrixWorld),Le.normalMatrix.getNormalMatrix(Le.modelViewMatrix),Le.isImmediateRenderObject){const mi=bE(Nt,Kt,Hn,Le);Wt.setMaterial(Hn),el.reset(),function(ss,ni){ss.render(function(Qo){j.renderBufferImmediate(Qo,ni)})}(Le,mi)}else j.renderBufferDirect(Nt,Kt,en,Hn,Le,Qr);Le.onAfterRender(j,Kt,Nt,en,Hn,Qr)}function zg(Le,Kt,Nt){Kt.isScene!==!0&&(Kt=et);const en=Pt.get(Le),Hn=I.state.lights,Qr=I.state.shadowsArray,mi=Hn.state.version,ss=Yn.getParameters(Le,Hn.state,Qr,Kt,Nt),ni=Yn.getProgramCacheKey(ss);let Qo=en.program,ya=!0;if(Qo===void 0)Le.addEventListener("dispose",mE);else if(Qo.cacheKey!==ni)gE(Le);else if(en.lightsStateVersion!==mi)ya=!1;else{if(ss.shaderID!==void 0){const Bi=Le.isMeshStandardMaterial?Kt.environment:null;return void(en.envMap=Zt.get(Le.envMap||Bi))}ya=!1}ya&&(ss.uniforms=Yn.getUniforms(Le),Le.onBeforeCompile(ss,j),Qo=Yn.acquireProgram(ss,ni),en.program=Qo,en.uniforms=ss.uniforms,en.outputEncoding=ss.outputEncoding);const Ur=en.uniforms;(Le.isShaderMaterial||Le.isRawShaderMaterial)&&Le.clipping!==!0||(en.numClippingPlanes=Ms.numPlanes,en.numIntersection=Ms.numIntersection,Ur.clippingPlanes=Ms.uniform),en.environment=Le.isMeshStandardMaterial?Kt.environment:null,en.fog=Kt.fog,en.envMap=Zt.get(Le.envMap||en.environment),en.needsLights=function(Bi){return Bi.isMeshLambertMaterial||Bi.isMeshToonMaterial||Bi.isMeshPhongMaterial||Bi.isMeshStandardMaterial||Bi.isShadowMaterial||Bi.isShaderMaterial&&Bi.lights===!0}(Le),en.lightsStateVersion=mi,en.needsLights&&(Ur.ambientLightColor.value=Hn.state.ambient,Ur.lightProbe.value=Hn.state.probe,Ur.directionalLights.value=Hn.state.directional,Ur.directionalLightShadows.value=Hn.state.directionalShadow,Ur.spotLights.value=Hn.state.spot,Ur.spotLightShadows.value=Hn.state.spotShadow,Ur.rectAreaLights.value=Hn.state.rectArea,Ur.ltc_1.value=Hn.state.rectAreaLTC1,Ur.ltc_2.value=Hn.state.rectAreaLTC2,Ur.pointLights.value=Hn.state.point,Ur.pointLightShadows.value=Hn.state.pointShadow,Ur.hemisphereLights.value=Hn.state.hemi,Ur.directionalShadowMap.value=Hn.state.directionalShadowMap,Ur.directionalShadowMatrix.value=Hn.state.directionalShadowMatrix,Ur.spotShadowMap.value=Hn.state.spotShadowMap,Ur.spotShadowMatrix.value=Hn.state.spotShadowMatrix,Ur.pointShadowMap.value=Hn.state.pointShadowMap,Ur.pointShadowMatrix.value=Hn.state.pointShadowMatrix);const Lo=en.program.getUniforms(),ud=bc.seqWithValue(Lo.seq,Ur);en.uniformsList=ud}function bE(Le,Kt,Nt,en){Kt.isScene!==!0&&(Kt=et),bt.resetTextureUnits();const Hn=Kt.fog,Qr=Nt.isMeshStandardMaterial?Kt.environment:null,mi=xe===null?j.outputEncoding:xe.texture.encoding,ss=Zt.get(Nt.envMap||Qr),ni=Pt.get(Nt),Qo=I.state.lights;if(mr===!0&&(gr===!0||Le!==Ne)){const ea=Le===Ne&&Nt.id===Se;Ms.setState(Nt,Le,ea)}Nt.version===ni.__version?Nt.fog&&ni.fog!==Hn||ni.environment!==Qr||ni.needsLights&&ni.lightsStateVersion!==Qo.state.version?zg(Nt,Kt,en):ni.numClippingPlanes===void 0||ni.numClippingPlanes===Ms.numPlanes&&ni.numIntersection===Ms.numIntersection?(ni.outputEncoding!==mi||ni.envMap!==ss)&&zg(Nt,Kt,en):zg(Nt,Kt,en):(zg(Nt,Kt,en),ni.__version=Nt.version);let ya=!1,Ur=!1,Lo=!1;const ud=ni.program,Bi=ud.getUniforms(),Gp=ni.uniforms;if(Wt.useProgram(ud.program)&&(ya=!0,Ur=!0,Lo=!0),Nt.id!==Se&&(Se=Nt.id,Ur=!0),ya||Ne!==Le){if(Bi.setValue(Bn,"projectionMatrix",Le.projectionMatrix),Ie.logarithmicDepthBuffer&&Bi.setValue(Bn,"logDepthBufFC",2/(Math.log(Le.far+1)/Math.LN2)),Ne!==Le&&(Ne=Le,Ur=!0,Lo=!0),Nt.isShaderMaterial||Nt.isMeshPhongMaterial||Nt.isMeshToonMaterial||Nt.isMeshStandardMaterial||Nt.envMap){const ea=Bi.map.cameraPosition;ea!==void 0&&ea.setValue(Bn,Ue.setFromMatrixPosition(Le.matrixWorld))}(Nt.isMeshPhongMaterial||Nt.isMeshToonMaterial||Nt.isMeshLambertMaterial||Nt.isMeshBasicMaterial||Nt.isMeshStandardMaterial||Nt.isShaderMaterial)&&Bi.setValue(Bn,"isOrthographic",Le.isOrthographicCamera===!0),(Nt.isMeshPhongMaterial||Nt.isMeshToonMaterial||Nt.isMeshLambertMaterial||Nt.isMeshBasicMaterial||Nt.isMeshStandardMaterial||Nt.isShaderMaterial||Nt.isShadowMaterial||Nt.skinning)&&Bi.setValue(Bn,"viewMatrix",Le.matrixWorldInverse)}if(Nt.skinning){Bi.setOptional(Bn,en,"bindMatrix"),Bi.setOptional(Bn,en,"bindMatrixInverse");const ea=en.skeleton;if(ea){const Rw=ea.bones;if(Ie.floatVertexTextures){if(ea.boneTexture===null){let Yl=Math.sqrt(4*Rw.length);Yl=An.ceilPowerOfTwo(Yl),Yl=Math.max(Yl,4);const cd=new Float32Array(Yl*Yl*4);cd.set(ea.boneMatrices);const MC=new zi(cd,Yl,Yl,fi,Ls);ea.boneMatrices=cd,ea.boneTexture=MC,ea.boneTextureSize=Yl}Bi.setValue(Bn,"boneTexture",ea.boneTexture,bt),Bi.setValue(Bn,"boneTextureSize",ea.boneTextureSize)}else Bi.setOptional(Bn,ea,"boneMatrices")}}var wu,_u;return(Ur||ni.receiveShadow!==en.receiveShadow)&&(ni.receiveShadow=en.receiveShadow,Bi.setValue(Bn,"receiveShadow",en.receiveShadow)),Ur&&(Bi.setValue(Bn,"toneMappingExposure",j.toneMappingExposure),ni.needsLights&&(_u=Lo,(wu=Gp).ambientLightColor.needsUpdate=_u,wu.lightProbe.needsUpdate=_u,wu.directionalLights.needsUpdate=_u,wu.directionalLightShadows.needsUpdate=_u,wu.pointLights.needsUpdate=_u,wu.pointLightShadows.needsUpdate=_u,wu.spotLights.needsUpdate=_u,wu.spotLightShadows.needsUpdate=_u,wu.rectAreaLights.needsUpdate=_u,wu.hemisphereLights.needsUpdate=_u),Hn&&Nt.fog&&Hr.refreshFogUniforms(Gp,Hn),Hr.refreshMaterialUniforms(Gp,Nt,_t,Dt),bc.upload(Bn,ni.uniformsList,Gp,bt)),Nt.isShaderMaterial&&Nt.uniformsNeedUpdate===!0&&(bc.upload(Bn,ni.uniformsList,Gp,bt),Nt.uniformsNeedUpdate=!1),Nt.isSpriteMaterial&&Bi.setValue(Bn,"center",en.center),Bi.setValue(Bn,"modelViewMatrix",en.modelViewMatrix),Bi.setValue(Bn,"normalMatrix",en.normalMatrix),Bi.setValue(Bn,"modelMatrix",en.matrixWorld),ud}W0.setAnimationLoop(function(Le){Af.isPresenting||Pw&&Pw(Le)}),typeof window<"u"&&W0.setContext(window),this.setAnimationLoop=function(Le){Pw=Le,Af.setAnimationLoop(Le),Le===null?W0.stop():W0.start()},this.render=function(Le,Kt){let Nt,en;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Nt=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),en=arguments[3]),Kt!==void 0&&Kt.isCamera!==!0)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(K===!0)return;el.resetDefaultState(),Se=-1,Ne=null,Le.autoUpdate===!0&&Le.updateMatrixWorld(),Kt.parent===null&&Kt.updateMatrixWorld(),Af.enabled===!0&&Af.isPresenting===!0&&(Kt=Af.getCamera(Kt)),Le.isScene===!0&&Le.onBeforeRender(j,Le,Kt,Nt||xe),I=Ri.get(Le,F.length),I.init(),F.push(I),li.multiplyMatrices(Kt.projectionMatrix,Kt.matrixWorldInverse),Tn.setFromProjectionMatrix(li),gr=this.localClippingEnabled,mr=Ms.init(this.clippingPlanes,gr,Kt),T=Mr.get(Le,Kt),T.init(),vE(Le,Kt,0,j.sortObjects),T.finish(),j.sortObjects===!0&&T.sort(Ht,dn),mr===!0&&Ms.beginShadows();const Hn=I.state.shadowsArray;dE.render(Hn,Le,Kt),I.setupLights(),I.setupLightsView(Kt),mr===!0&&Ms.endShadows(),this.info.autoReset===!0&&this.info.reset(),Nt!==void 0&&this.setRenderTarget(Nt),Th.render(T,Le,Kt,en);const Qr=T.opaque,mi=T.transparent;Qr.length>0&&yE(Qr,Le,Kt),mi.length>0&&yE(mi,Le,Kt),Le.isScene===!0&&Le.onAfterRender(j,Le,Kt),xe!==null&&(bt.updateRenderTargetMipmap(xe),bt.updateMultisampleRenderTarget(xe)),Wt.buffers.depth.setTest(!0),Wt.buffers.depth.setMask(!0),Wt.buffers.color.setMask(!0),Wt.setPolygonOffset(!1),F.pop(),I=F.length>0?F[F.length-1]:null,T=null},this.setFramebuffer=function(Le){X!==Le&&xe===null&&Bn.bindFramebuffer(36160,Le),X=Le},this.getActiveCubeFace=function(){return ee},this.getActiveMipmapLevel=function(){return me},this.getRenderList=function(){return T},this.setRenderList=function(Le){T=Le},this.getRenderTarget=function(){return xe},this.setRenderTarget=function(Le,Kt=0,Nt=0){xe=Le,ee=Kt,me=Nt,Le&&Pt.get(Le).__webglFramebuffer===void 0&&bt.setupRenderTarget(Le);let en=X,Hn=!1;if(Le){const Qr=Pt.get(Le).__webglFramebuffer;Le.isWebGLCubeRenderTarget?(en=Qr[Kt],Hn=!0):en=Le.isWebGLMultisampleRenderTarget?Pt.get(Le).__webglMultisampledFramebuffer:Qr,Ae.copy(Le.viewport),ut.copy(Le.scissor),mt=Le.scissorTest}else Ae.copy(an).multiplyScalar(_t).floor(),ut.copy(or).multiplyScalar(_t).floor(),mt=kn;if(_e!==en&&(Bn.bindFramebuffer(36160,en),_e=en),Wt.viewport(Ae),Wt.scissor(ut),Wt.setScissorTest(mt),Hn){const Qr=Pt.get(Le.texture);Bn.framebufferTexture2D(36160,36064,34069+Kt,Qr.__webglTexture,Nt)}},this.readRenderTargetPixels=function(Le,Kt,Nt,en,Hn,Qr,mi){if(!Le||!Le.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ss=Pt.get(Le).__webglFramebuffer;if(Le.isWebGLCubeRenderTarget&&mi!==void 0&&(ss=ss[mi]),ss){let ni=!1;ss!==_e&&(Bn.bindFramebuffer(36160,ss),ni=!0);try{const Qo=Le.texture,ya=Qo.format,Ur=Qo.type;if(ya!==fi&&ic.convert(ya)!==Bn.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(Ur===ir||ic.convert(Ur)===Bn.getParameter(35738)||Ur===Ls&&(Ie.isWebGL2||Ft.get("OES_texture_float")||Ft.get("WEBGL_color_buffer_float"))||Ur===$r&&(Ie.isWebGL2?Ft.get("EXT_color_buffer_float"):Ft.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Bn.checkFramebufferStatus(36160)===36053?Kt>=0&&Kt<=Le.width-en&&Nt>=0&&Nt<=Le.height-Hn&&Bn.readPixels(Kt,Nt,en,Hn,ic.convert(ya),ic.convert(Ur),Qr):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{ni&&Bn.bindFramebuffer(36160,_e)}}},this.copyFramebufferToTexture=function(Le,Kt,Nt=0){const en=Math.pow(2,-Nt),Hn=Math.floor(Kt.image.width*en),Qr=Math.floor(Kt.image.height*en),mi=ic.convert(Kt.format);bt.setTexture2D(Kt,0),Bn.copyTexImage2D(3553,Nt,mi,Le.x,Le.y,Hn,Qr,0),Wt.unbindTexture()},this.copyTextureToTexture=function(Le,Kt,Nt,en=0){const Hn=Kt.image.width,Qr=Kt.image.height,mi=ic.convert(Nt.format),ss=ic.convert(Nt.type);bt.setTexture2D(Nt,0),Bn.pixelStorei(37440,Nt.flipY),Bn.pixelStorei(37441,Nt.premultiplyAlpha),Bn.pixelStorei(3317,Nt.unpackAlignment),Kt.isDataTexture?Bn.texSubImage2D(3553,en,Le.x,Le.y,Hn,Qr,mi,ss,Kt.image.data):Kt.isCompressedTexture?Bn.compressedTexSubImage2D(3553,en,Le.x,Le.y,Kt.mipmaps[0].width,Kt.mipmaps[0].height,mi,Kt.mipmaps[0].data):Bn.texSubImage2D(3553,en,Le.x,Le.y,mi,ss,Kt.image),en===0&&Nt.generateMipmaps&&Bn.generateMipmap(3553),Wt.unbindTexture()},this.initTexture=function(Le){bt.setTexture2D(Le,0),Wt.unbindTexture()},this.resetState=function(){Wt.reset(),el.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function gg(t){nf.call(this,t)}tf.prototype=Object.assign(Object.create(Js.prototype),{constructor:tf,isArrayCamera:!0}),Xu.prototype=Object.assign(Object.create(N.prototype),{constructor:Xu,isGroup:!0}),Object.assign(Sp.prototype,{constructor:Sp,getHandSpace:function(){if(this._hand===null&&(this._hand=new Xu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){const e=new Xu;e.matrixAutoUpdate=!1,e.visible=!1,this._hand.joints.push(e),this._hand.add(e)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new Xu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new Xu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(t,e,i){let o=null,l=null,h=null;const g=this._targetRay,v=this._grip,w=this._hand;if(t&&e.session.visibilityState!=="visible-blurred")if(w&&t.hand){h=!0;for(let S=0;S<=window.XRHand.LITTLE_PHALANX_TIP;S++)if(t.hand[S]){const L=e.getJointPose(t.hand[S],i),T=w.joints[S];L!==null&&(T.matrix.fromArray(L.transform.matrix),T.matrix.decompose(T.position,T.rotation,T.scale),T.jointRadius=L.radius),T.visible=L!==null;const I=w.joints[window.XRHand.INDEX_PHALANX_TIP],F=w.joints[window.XRHand.THUMB_PHALANX_TIP],j=I.position.distanceTo(F.position),K=.02,X=.005;w.inputState.pinching&&j>K+X?(w.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!w.inputState.pinching&&j<=K-X&&(w.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else g!==null&&(o=e.getPose(t.targetRaySpace,i),o!==null&&(g.matrix.fromArray(o.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale))),v!==null&&t.gripSpace&&(l=e.getPose(t.gripSpace,i),l!==null&&(v.matrix.fromArray(l.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale)));return g!==null&&(g.visible=o!==null),v!==null&&(v.visible=l!==null),w!==null&&(w.visible=h!==null),this}}),Object.assign(_0.prototype,ns.prototype),gg.prototype=Object.assign(Object.create(nf.prototype),{constructor:gg,isWebGL1Renderer:!0});class Ep{constructor(e,i){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new zt(e),this.density=i!==void 0?i:25e-5}clone(){return new Ep(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class vg{constructor(e,i,o){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new zt(e),this.near=i!==void 0?i:1,this.far=o!==void 0?o:1e3}clone(){return new vg(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Da extends N{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,i){return super.copy(e,i),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const i=super.toJSON(e);return this.background!==null&&(i.object.background=this.background.toJSON(e)),this.environment!==null&&(i.object.environment=this.environment.toJSON(e)),this.fog!==null&&(i.object.fog=this.fog.toJSON()),i}}function ms(t,e){this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=Oi,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=An.generateUUID()}Object.defineProperty(ms.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Object.assign(ms.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(let o=0,l=this.stride;o<l;o++)this.array[t+o]=e.array[i+o];return this},set:function(t,e=0){return this.array.set(t,e),this},clone:function(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=An.generateUUID()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new ms(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=An.generateUUID()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const ch=new ye;function _c(t,e,i,o){this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=o===!0}function Sc(t){gn.call(this),this.type="SpriteMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}let ed;Object.defineProperties(_c.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(_c.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,i=this.data.count;e<i;e++)ch.x=this.getX(e),ch.y=this.getY(e),ch.z=this.getZ(e),ch.applyMatrix4(t),this.setXYZ(e,ch.x,ch.y,ch.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,o){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=o,this},setXYZW:function(t,e,i,o,l){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=o,this.data.array[t+3]=l,this},clone:function(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)e.push(this.data.array[o+l])}return new qn(new this.array.constructor(e),this.itemSize,this.normalized)}return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new _c(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)e.push(this.data.array[o+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),Sc.prototype=Object.create(gn.prototype),Sc.prototype.constructor=Sc,Sc.prototype.isSpriteMaterial=!0,Sc.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};const rf=new ye,hh=new ye,td=new ye,dh=new Ot,sf=new Ot,S0=new Cr,of=new ye,nd=new ye,Mp=new ye,yg=new Ot,af=new Ot,Jx=new Ot;function lf(t){if(N.call(this),this.type="Sprite",ed===void 0){ed=new Xn;const e=new ms(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);ed.setIndex([0,1,2,0,2,3]),ed.setAttribute("position",new _c(e,3,0,!1)),ed.setAttribute("uv",new _c(e,2,3,!1))}this.geometry=ed,this.material=t!==void 0?t:new Sc,this.center=new Ot(.5,.5)}function uf(t,e,i,o,l,h){dh.subVectors(t,i).addScalar(.5).multiply(o),l!==void 0?(sf.x=h*dh.x-l*dh.y,sf.y=l*dh.x+h*dh.y):sf.copy(dh),t.copy(e),t.x+=sf.x,t.y+=sf.y,t.applyMatrix4(S0)}lf.prototype=Object.assign(Object.create(N.prototype),{constructor:lf,isSprite:!0,raycast:function(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),hh.setFromMatrixScale(this.matrixWorld),S0.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),td.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&hh.multiplyScalar(-td.z);const i=this.material.rotation;let o,l;i!==0&&(l=Math.cos(i),o=Math.sin(i));const h=this.center;uf(of.set(-.5,-.5,0),td,h,hh,o,l),uf(nd.set(.5,-.5,0),td,h,hh,o,l),uf(Mp.set(.5,.5,0),td,h,hh,o,l),yg.set(0,0),af.set(1,0),Jx.set(1,1);let g=t.ray.intersectTriangle(of,nd,Mp,!1,rf);if(g===null&&(uf(nd.set(-.5,.5,0),td,h,hh,o,l),af.set(0,1),g=t.ray.intersectTriangle(of,Mp,nd,!1,rf),g===null))return;const v=t.ray.origin.distanceTo(rf);v<t.near||v>t.far||e.push({distance:v,point:rf.clone(),uv:Ut.getUV(rf,of,nd,Mp,yg,af,Jx,new Ot),face:null,object:this})},copy:function(t){return N.prototype.copy.call(this,t),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}});const Ap=new ye,Tp=new ye;function Cl(){N.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}Cl.prototype=Object.assign(Object.create(N.prototype),{constructor:Cl,isLOD:!0,copy:function(t){N.prototype.copy.call(this,t,!1);const e=t.levels;for(let i=0,o=e.length;i<o;i++){const l=e[i];this.addLevel(l.object.clone(),l.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e=0){e=Math.abs(e);const i=this.levels;let o;for(o=0;o<i.length&&!(e<i[o].distance);o++);return i.splice(o,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let i,o;for(i=1,o=e.length;i<o&&!(t<e[i].distance);i++);return e[i-1].object}return null},raycast:function(t,e){if(this.levels.length>0){Ap.setFromMatrixPosition(this.matrixWorld);const i=t.ray.origin.distanceTo(Ap);this.getObjectForDistance(i).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){Ap.setFromMatrixPosition(t.matrixWorld),Tp.setFromMatrixPosition(this.matrixWorld);const i=Ap.distanceTo(Tp)/t.zoom;let o,l;for(e[0].object.visible=!0,o=1,l=e.length;o<l&&i>=e[o].distance;o++)e[o-1].object.visible=!1,e[o].object.visible=!0;for(this._currentLevel=o-1;o<l;o++)e[o].object.visible=!1}},toJSON:function(t){const e=N.prototype.toJSON.call(this,t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let o=0,l=i.length;o<l;o++){const h=i[o];e.object.levels.push({object:h.object.uuid,distance:h.distance})}return e}});const Qx=new ye,E0=new Ii,xg=new Ii,eb=new ye,M0=new Cr;function Ec(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),is.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Cr,this.bindMatrixInverse=new Cr}function So(){N.call(this),this.type="Bone"}Ec.prototype=Object.assign(Object.create(is.prototype),{constructor:Ec,isSkinnedMesh:!0,copy:function(t){return is.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new Ii,e=this.geometry.attributes.skinWeight;for(let i=0,o=e.count;i<o;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);const l=1/t.manhattanLength();l!==1/0?t.multiplyScalar(l):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){is.prototype.updateMatrixWorld.call(this,t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(t,e){const i=this.skeleton,o=this.geometry;E0.fromBufferAttribute(o.attributes.skinIndex,t),xg.fromBufferAttribute(o.attributes.skinWeight,t),Qx.fromBufferAttribute(o.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let l=0;l<4;l++){const h=xg.getComponent(l);if(h!==0){const g=E0.getComponent(l);M0.multiplyMatrices(i.bones[g].matrixWorld,i.boneInverses[g]),e.addScaledVector(eb.copy(Qx).applyMatrix4(M0),h)}}return e.applyMatrix4(this.bindMatrixInverse)}}),So.prototype=Object.assign(Object.create(N.prototype),{constructor:So,isBone:!0});const tb=new Cr,nw=new Cr;function fh(t=[],e=[]){this.uuid=An.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(fh.prototype,{init:function(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new Cr)}},calculateInverses:function(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new Cr;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}},update:function(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,o=this.boneTexture;for(let l=0,h=t.length;l<h;l++){const g=t[l]?t[l].matrixWorld:nw;tb.multiplyMatrices(g,e[l]),tb.toArray(i,16*l)}o!==null&&(o.needsUpdate=!0)},clone:function(){return new fh(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,i=this.bones.length;e<i;e++){const o=this.bones[e];if(o.name===t)return o}},dispose:function(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(let i=0,o=t.bones.length;i<o;i++){const l=t.bones[i];let h=e[l];h===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",l),h=new So),this.bones.push(h),this.boneInverses.push(new Cr().fromArray(t.boneInverses[i]))}return this.init(),this},toJSON:function(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let o=0,l=e.length;o<l;o++){const h=e[o];t.bones.push(h.uuid);const g=i[o];t.boneInverses.push(g.toArray())}return t}});const ma=new Cr,nb=new Cr,$n=[],$u=new is;function cf(t,e,i){is.call(this,t,e),this.instanceMatrix=new qn(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}function Rs(t){gn.call(this),this.type="LineBasicMaterial",this.color=new zt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}cf.prototype=Object.assign(Object.create(is.prototype),{constructor:cf,isInstancedMesh:!0,copy:function(t){return is.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){const i=this.matrixWorld,o=this.count;if($u.geometry=this.geometry,$u.material=this.material,$u.material!==void 0)for(let l=0;l<o;l++){this.getMatrixAt(l,ma),nb.multiplyMatrices(i,ma),$u.matrixWorld=nb,$u.raycast(t,$n);for(let h=0,g=$n.length;h<g;h++){const v=$n[h];v.instanceId=l,v.object=this,e.push(v)}$n.length=0}},setColorAt:function(t,e){this.instanceColor===null&&(this.instanceColor=new qn(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Rs.prototype=Object.create(gn.prototype),Rs.prototype.constructor=Rs,Rs.prototype.isLineBasicMaterial=!0,Rs.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const rb=new ye,hf=new ye,Cp=new Cr,df=new fs,Lp=new da;function Ll(t=new Xn,e=new Rs){N.call(this),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}Ll.prototype=Object.assign(Object.create(N.prototype),{constructor:Ll,isLine:!0,copy:function(t){return N.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,i=[0];for(let o=1,l=e.count;o<l;o++)rb.fromBufferAttribute(e,o-1),hf.fromBufferAttribute(e,o),i[o]=i[o-1],i[o]+=rb.distanceTo(hf);t.setAttribute("lineDistance",new Nn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,i=t.lineDistances;i[0]=0;for(let o=1,l=e.length;o<l;o++)i[o]=i[o-1],i[o]+=e[o-1].distanceTo(e[o])}return this},raycast:function(t,e){const i=this.geometry,o=this.matrixWorld,l=t.params.Line.threshold;if(i.boundingSphere===null&&i.computeBoundingSphere(),Lp.copy(i.boundingSphere),Lp.applyMatrix4(o),Lp.radius+=l,t.ray.intersectsSphere(Lp)===!1)return;Cp.copy(o).invert(),df.copy(t.ray).applyMatrix4(Cp);const h=l/((this.scale.x+this.scale.y+this.scale.z)/3),g=h*h,v=new ye,w=new ye,S=new ye,L=new ye,T=this.isLineSegments?2:1;if(i.isBufferGeometry){const I=i.index,F=i.attributes.position;if(I!==null){const j=I.array;for(let K=0,X=j.length-1;K<X;K+=T){const ee=j[K],me=j[K+1];if(v.fromBufferAttribute(F,ee),w.fromBufferAttribute(F,me),df.distanceSqToSegment(v,w,L,S)>g)continue;L.applyMatrix4(this.matrixWorld);const xe=t.ray.origin.distanceTo(L);xe<t.near||xe>t.far||e.push({distance:xe,point:S.clone().applyMatrix4(this.matrixWorld),index:K,face:null,faceIndex:null,object:this})}}else for(let j=0,K=F.count-1;j<K;j+=T){if(v.fromBufferAttribute(F,j),w.fromBufferAttribute(F,j+1),df.distanceSqToSegment(v,w,L,S)>g)continue;L.applyMatrix4(this.matrixWorld);const X=t.ray.origin.distanceTo(L);X<t.near||X>t.far||e.push({distance:X,point:S.clone().applyMatrix4(this.matrixWorld),index:j,face:null,faceIndex:null,object:this})}}else if(i.isGeometry){const I=i.vertices,F=I.length;for(let j=0;j<F-1;j+=T){if(df.distanceSqToSegment(I[j],I[j+1],L,S)>g)continue;L.applyMatrix4(this.matrixWorld);const K=t.ray.origin.distanceTo(L);K<t.near||K>t.far||e.push({distance:K,point:S.clone().applyMatrix4(this.matrixWorld),index:j,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const o=e[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,h=o.length;l<h;l++){const g=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[g]=l}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const Pp=new ye,ff=new ye;function ga(t,e){Ll.call(this,t,e),this.type="LineSegments"}function Eo(t,e){Ll.call(this,t,e),this.type="LineLoop"}function ho(t){gn.call(this),this.type="PointsMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}ga.prototype=Object.assign(Object.create(Ll.prototype),{constructor:ga,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,i=[];for(let o=0,l=e.count;o<l;o+=2)Pp.fromBufferAttribute(e,o),ff.fromBufferAttribute(e,o+1),i[o]=o===0?0:i[o-1],i[o+1]=i[o]+Pp.distanceTo(ff);t.setAttribute("lineDistance",new Nn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,i=t.lineDistances;for(let o=0,l=e.length;o<l;o+=2)Pp.copy(e[o]),ff.copy(e[o+1]),i[o]=o===0?0:i[o-1],i[o+1]=i[o]+Pp.distanceTo(ff)}return this}}),Eo.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Eo,isLineLoop:!0}),ho.prototype=Object.create(gn.prototype),ho.prototype.constructor=ho,ho.prototype.isPointsMaterial=!0,ho.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const Mc=new Cr,bg=new fs,Rp=new da,cl=new ye;function rd(t=new Xn,e=new ho){N.call(this),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}function Wl(t,e,i,o,l,h,g){const v=bg.distanceSqToPoint(t);if(v<i){const w=new ye;bg.closestPointToPoint(t,w),w.applyMatrix4(o);const S=l.ray.origin.distanceTo(w);if(S<l.near||S>l.far)return;h.push({distance:S,distanceToRay:Math.sqrt(v),point:w,index:e,face:null,object:g})}}function A0(t,e,i,o,l,h,g,v,w){ti.call(this,t,e,i,o,l,h,g,v,w),this.format=g!==void 0?g:bs,this.minFilter=h!==void 0?h:br,this.magFilter=l!==void 0?l:br,this.generateMipmaps=!1;const S=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function L(){S.needsUpdate=!0,t.requestVideoFrameCallback(L)})}function id(t,e,i,o,l,h,g,v,w,S,L,T){ti.call(this,null,h,g,v,w,S,o,l,L,T),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function pf(t,e,i,o,l,h,g,v,w){ti.call(this,t,e,i,o,l,h,g,v,w),this.needsUpdate=!0}function mf(t,e,i,o,l,h,g,v,w,S){if((S=S!==void 0?S:Ys)!==Ys&&S!==ws)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&S===Ys&&(i=Hi),i===void 0&&S===ws&&(i=wo),ti.call(this,null,o,l,h,g,v,S,i,w),this.image={width:t,height:e},this.magFilter=g!==void 0?g:er,this.minFilter=v!==void 0?v:er,this.flipY=!1,this.generateMipmaps=!1}rd.prototype=Object.assign(Object.create(N.prototype),{constructor:rd,isPoints:!0,copy:function(t){return N.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const i=this.geometry,o=this.matrixWorld,l=t.params.Points.threshold;if(i.boundingSphere===null&&i.computeBoundingSphere(),Rp.copy(i.boundingSphere),Rp.applyMatrix4(o),Rp.radius+=l,t.ray.intersectsSphere(Rp)===!1)return;Mc.copy(o).invert(),bg.copy(t.ray).applyMatrix4(Mc);const h=l/((this.scale.x+this.scale.y+this.scale.z)/3),g=h*h;if(i.isBufferGeometry){const v=i.index,w=i.attributes.position;if(v!==null){const S=v.array;for(let L=0,T=S.length;L<T;L++){const I=S[L];cl.fromBufferAttribute(w,I),Wl(cl,I,g,o,t,e,this)}}else for(let S=0,L=w.count;S<L;S++)cl.fromBufferAttribute(w,S),Wl(cl,S,g,o,t,e,this)}else{const v=i.vertices;for(let w=0,S=v.length;w<S;w++)Wl(v[w],w,g,o,t,e,this)}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const o=e[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,h=o.length;l<h;l++){const g=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[g]=l}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),A0.prototype=Object.assign(Object.create(ti.prototype),{constructor:A0,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const t=this.image;!("requestVideoFrameCallback"in t)&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),id.prototype=Object.create(ti.prototype),id.prototype.constructor=id,id.prototype.isCompressedTexture=!0,pf.prototype=Object.create(ti.prototype),pf.prototype.constructor=pf,pf.prototype.isCanvasTexture=!0,mf.prototype=Object.create(ti.prototype),mf.prototype.constructor=mf,mf.prototype.isDepthTexture=!0;let ib=0;const Yu=new Cr,gf=new N,vf=new ye;function ai(){Object.defineProperty(this,"id",{value:ib+=2}),this.uuid=An.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}ai.prototype=Object.assign(Object.create(ns.prototype),{constructor:ai,isGeometry:!0,applyMatrix4:function(t){const e=new Ui().getNormalMatrix(t);for(let i=0,o=this.vertices.length;i<o;i++)this.vertices[i].applyMatrix4(t);for(let i=0,o=this.faces.length;i<o;i++){const l=this.faces[i];l.normal.applyMatrix3(e).normalize();for(let h=0,g=l.vertexNormals.length;h<g;h++)l.vertexNormals[h].applyMatrix3(e).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return Yu.makeRotationX(t),this.applyMatrix4(Yu),this},rotateY:function(t){return Yu.makeRotationY(t),this.applyMatrix4(Yu),this},rotateZ:function(t){return Yu.makeRotationZ(t),this.applyMatrix4(Yu),this},translate:function(t,e,i){return Yu.makeTranslation(t,e,i),this.applyMatrix4(Yu),this},scale:function(t,e,i){return Yu.makeScale(t,e,i),this.applyMatrix4(Yu),this},lookAt:function(t){return gf.lookAt(t),gf.updateMatrix(),this.applyMatrix4(gf.matrix),this},fromBufferGeometry:function(t){const e=this,i=t.index!==null?t.index:void 0,o=t.attributes;if(o.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const l=o.position,h=o.normal,g=o.color,v=o.uv,w=o.uv2;w!==void 0&&(this.faceVertexUvs[1]=[]);for(let T=0;T<l.count;T++)e.vertices.push(new ye().fromBufferAttribute(l,T)),g!==void 0&&e.colors.push(new zt().fromBufferAttribute(g,T));function S(T,I,F,j){const K=g===void 0?[]:[e.colors[T].clone(),e.colors[I].clone(),e.colors[F].clone()],X=h===void 0?[]:[new ye().fromBufferAttribute(h,T),new ye().fromBufferAttribute(h,I),new ye().fromBufferAttribute(h,F)],ee=new kr(T,I,F,X,K,j);e.faces.push(ee),v!==void 0&&e.faceVertexUvs[0].push([new Ot().fromBufferAttribute(v,T),new Ot().fromBufferAttribute(v,I),new Ot().fromBufferAttribute(v,F)]),w!==void 0&&e.faceVertexUvs[1].push([new Ot().fromBufferAttribute(w,T),new Ot().fromBufferAttribute(w,I),new Ot().fromBufferAttribute(w,F)])}const L=t.groups;if(L.length>0)for(let T=0;T<L.length;T++){const I=L[T],F=I.start;for(let j=F,K=F+I.count;j<K;j+=3)i!==void 0?S(i.getX(j),i.getX(j+1),i.getX(j+2),I.materialIndex):S(j,j+1,j+2,I.materialIndex)}else if(i!==void 0)for(let T=0;T<i.count;T+=3)S(i.getX(T),i.getX(T+1),i.getX(T+2));else for(let T=0;T<l.count;T+=3)S(T,T+1,T+2);return this.computeFaceNormals(),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(vf).negate(),this.translate(vf.x,vf.y,vf.z),this},normalize:function(){this.computeBoundingSphere();const t=this.boundingSphere.center,e=this.boundingSphere.radius,i=e===0?1:1/e,o=new Cr;return o.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix4(o),this},computeFaceNormals:function(){const t=new ye,e=new ye;for(let i=0,o=this.faces.length;i<o;i++){const l=this.faces[i],h=this.vertices[l.a],g=this.vertices[l.b],v=this.vertices[l.c];t.subVectors(v,g),e.subVectors(h,g),t.cross(e),t.normalize(),l.normal.copy(t)}},computeVertexNormals:function(t=!0){const e=new Array(this.vertices.length);for(let i=0,o=this.vertices.length;i<o;i++)e[i]=new ye;if(t){const i=new ye,o=new ye;for(let l=0,h=this.faces.length;l<h;l++){const g=this.faces[l],v=this.vertices[g.a],w=this.vertices[g.b],S=this.vertices[g.c];i.subVectors(S,w),o.subVectors(v,w),i.cross(o),e[g.a].add(i),e[g.b].add(i),e[g.c].add(i)}}else{this.computeFaceNormals();for(let i=0,o=this.faces.length;i<o;i++){const l=this.faces[i];e[l.a].add(l.normal),e[l.b].add(l.normal),e[l.c].add(l.normal)}}for(let i=0,o=this.vertices.length;i<o;i++)e[i].normalize();for(let i=0,o=this.faces.length;i<o;i++){const l=this.faces[i],h=l.vertexNormals;h.length===3?(h[0].copy(e[l.a]),h[1].copy(e[l.b]),h[2].copy(e[l.c])):(h[0]=e[l.a].clone(),h[1]=e[l.b].clone(),h[2]=e[l.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let t=0,e=this.faces.length;t<e;t++){const i=this.faces[t],o=i.vertexNormals;o.length===3?(o[0].copy(i.normal),o[1].copy(i.normal),o[2].copy(i.normal)):(o[0]=i.normal.clone(),o[1]=i.normal.clone(),o[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let e=0,i=this.faces.length;e<i;e++){const o=this.faces[e];o.__originalFaceNormal?o.__originalFaceNormal.copy(o.normal):o.__originalFaceNormal=o.normal.clone(),o.__originalVertexNormals||(o.__originalVertexNormals=[]);for(let l=0,h=o.vertexNormals.length;l<h;l++)o.__originalVertexNormals[l]?o.__originalVertexNormals[l].copy(o.vertexNormals[l]):o.__originalVertexNormals[l]=o.vertexNormals[l].clone()}const t=new ai;t.faces=this.faces;for(let e=0,i=this.morphTargets.length;e<i;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];const l=this.morphNormals[e].faceNormals,h=this.morphNormals[e].vertexNormals;for(let g=0,v=this.faces.length;g<v;g++){const w=new ye,S={a:new ye,b:new ye,c:new ye};l.push(w),h.push(S)}}const o=this.morphNormals[e];t.vertices=this.morphTargets[e].vertices,t.computeFaceNormals(),t.computeVertexNormals();for(let l=0,h=this.faces.length;l<h;l++){const g=this.faces[l],v=o.faceNormals[l],w=o.vertexNormals[l];v.copy(g.normal),w.a.copy(g.vertexNormals[0]),w.b.copy(g.vertexNormals[1]),w.c.copy(g.vertexNormals[2])}}for(let e=0,i=this.faces.length;e<i;e++){const o=this.faces[e];o.normal=o.__originalFaceNormal,o.vertexNormals=o.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new $a),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new da),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i=0){if(!t||!t.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);let o;const l=this.vertices.length,h=this.vertices,g=t.vertices,v=this.faces,w=t.faces,S=this.colors,L=t.colors;e!==void 0&&(o=new Ui().getNormalMatrix(e));for(let T=0,I=g.length;T<I;T++){const F=g[T].clone();e!==void 0&&F.applyMatrix4(e),h.push(F)}for(let T=0,I=L.length;T<I;T++)S.push(L[T].clone());for(let T=0,I=w.length;T<I;T++){const F=w[T];let j,K;const X=F.vertexNormals,ee=F.vertexColors,me=new kr(F.a+l,F.b+l,F.c+l);me.normal.copy(F.normal),o!==void 0&&me.normal.applyMatrix3(o).normalize();for(let xe=0,_e=X.length;xe<_e;xe++)j=X[xe].clone(),o!==void 0&&j.applyMatrix3(o).normalize(),me.vertexNormals.push(j);me.color.copy(F.color);for(let xe=0,_e=ee.length;xe<_e;xe++)K=ee[xe],me.vertexColors.push(K.clone());me.materialIndex=F.materialIndex+i,v.push(me)}for(let T=0,I=t.faceVertexUvs.length;T<I;T++){const F=t.faceVertexUvs[T];this.faceVertexUvs[T]===void 0&&(this.faceVertexUvs[T]=[]);for(let j=0,K=F.length;j<K;j++){const X=F[j],ee=[];for(let me=0,xe=X.length;me<xe;me++)ee.push(X[me].clone());this.faceVertexUvs[T].push(ee)}}},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(t=4){const e={},i=[],o=[],l=Math.pow(10,t);for(let v=0,w=this.vertices.length;v<w;v++){const S=this.vertices[v],L=Math.round(S.x*l)+"_"+Math.round(S.y*l)+"_"+Math.round(S.z*l);e[L]===void 0?(e[L]=v,i.push(this.vertices[v]),o[v]=i.length-1):o[v]=o[e[L]]}const h=[];for(let v=0,w=this.faces.length;v<w;v++){const S=this.faces[v];S.a=o[S.a],S.b=o[S.b],S.c=o[S.c];const L=[S.a,S.b,S.c];for(let T=0;T<3;T++)if(L[T]===L[(T+1)%3]){h.push(v);break}}for(let v=h.length-1;v>=0;v--){const w=h[v];this.faces.splice(w,1);for(let S=0,L=this.faceVertexUvs.length;S<L;S++)this.faceVertexUvs[S].splice(w,1)}const g=this.vertices.length-i.length;return this.vertices=i,g},setFromPoints:function(t){this.vertices=[];for(let e=0,i=t.length;e<i;e++){const o=t[e];this.vertices.push(new ye(o.x,o.y,o.z||0))}return this},sortFacesByMaterialIndex:function(){const t=this.faces,e=t.length;for(let g=0;g<e;g++)t[g]._id=g;t.sort(function(g,v){return g.materialIndex-v.materialIndex});const i=this.faceVertexUvs[0],o=this.faceVertexUvs[1];let l,h;i&&i.length===e&&(l=[]),o&&o.length===e&&(h=[]);for(let g=0;g<e;g++){const v=t[g]._id;l&&l.push(i[v]),h&&h.push(o[v])}l&&(this.faceVertexUvs[0]=l),h&&(this.faceVertexUvs[1]=h)},toJSON:function(){const t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),this.parameters!==void 0){const F=this.parameters;for(const j in F)F[j]!==void 0&&(t[j]=F[j]);return t}const e=[];for(let F=0;F<this.vertices.length;F++){const j=this.vertices[F];e.push(j.x,j.y,j.z)}const i=[],o=[],l={},h=[],g={},v=[],w={};for(let F=0;F<this.faces.length;F++){const j=this.faces[F],K=!0,X=!1,ee=this.faceVertexUvs[0][F]!==void 0,me=j.normal.length()>0,xe=j.vertexNormals.length>0,_e=j.color.r!==1||j.color.g!==1||j.color.b!==1,Se=j.vertexColors.length>0;let Ne=0;if(Ne=S(Ne,0,0),Ne=S(Ne,1,K),Ne=S(Ne,2,X),Ne=S(Ne,3,ee),Ne=S(Ne,4,me),Ne=S(Ne,5,xe),Ne=S(Ne,6,_e),Ne=S(Ne,7,Se),i.push(Ne),i.push(j.a,j.b,j.c),i.push(j.materialIndex),ee){const Ae=this.faceVertexUvs[0][F];i.push(I(Ae[0]),I(Ae[1]),I(Ae[2]))}if(me&&i.push(L(j.normal)),xe){const Ae=j.vertexNormals;i.push(L(Ae[0]),L(Ae[1]),L(Ae[2]))}if(_e&&i.push(T(j.color)),Se){const Ae=j.vertexColors;i.push(T(Ae[0]),T(Ae[1]),T(Ae[2]))}}function S(F,j,K){return K?F|1<<j:F&~(1<<j)}function L(F){const j=F.x.toString()+F.y.toString()+F.z.toString();return l[j]!==void 0||(l[j]=o.length/3,o.push(F.x,F.y,F.z)),l[j]}function T(F){const j=F.r.toString()+F.g.toString()+F.b.toString();return g[j]!==void 0||(g[j]=h.length,h.push(F.getHex())),g[j]}function I(F){const j=F.x.toString()+F.y.toString();return w[j]!==void 0||(w[j]=v.length/2,v.push(F.x,F.y)),w[j]}return t.data={},t.data.vertices=e,t.data.normals=o,h.length>0&&(t.data.colors=h),v.length>0&&(t.data.uvs=[v]),t.data.faces=i,t},clone:function(){return new ai().copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;const e=t.vertices;for(let T=0,I=e.length;T<I;T++)this.vertices.push(e[T].clone());const i=t.colors;for(let T=0,I=i.length;T<I;T++)this.colors.push(i[T].clone());const o=t.faces;for(let T=0,I=o.length;T<I;T++)this.faces.push(o[T].clone());for(let T=0,I=t.faceVertexUvs.length;T<I;T++){const F=t.faceVertexUvs[T];this.faceVertexUvs[T]===void 0&&(this.faceVertexUvs[T]=[]);for(let j=0,K=F.length;j<K;j++){const X=F[j],ee=[];for(let me=0,xe=X.length;me<xe;me++){const _e=X[me];ee.push(_e.clone())}this.faceVertexUvs[T].push(ee)}}const l=t.morphTargets;for(let T=0,I=l.length;T<I;T++){const F={};if(F.name=l[T].name,l[T].vertices!==void 0){F.vertices=[];for(let j=0,K=l[T].vertices.length;j<K;j++)F.vertices.push(l[T].vertices[j].clone())}if(l[T].normals!==void 0){F.normals=[];for(let j=0,K=l[T].normals.length;j<K;j++)F.normals.push(l[T].normals[j].clone())}this.morphTargets.push(F)}const h=t.morphNormals;for(let T=0,I=h.length;T<I;T++){const F={};if(h[T].vertexNormals!==void 0){F.vertexNormals=[];for(let j=0,K=h[T].vertexNormals.length;j<K;j++){const X=h[T].vertexNormals[j],ee={};ee.a=X.a.clone(),ee.b=X.b.clone(),ee.c=X.c.clone(),F.vertexNormals.push(ee)}}if(h[T].faceNormals!==void 0){F.faceNormals=[];for(let j=0,K=h[T].faceNormals.length;j<K;j++)F.faceNormals.push(h[T].faceNormals[j].clone())}this.morphNormals.push(F)}const g=t.skinWeights;for(let T=0,I=g.length;T<I;T++)this.skinWeights.push(g[T].clone());const v=t.skinIndices;for(let T=0,I=v.length;T<I;T++)this.skinIndices.push(v[T].clone());const w=t.lineDistances;for(let T=0,I=w.length;T<I;T++)this.lineDistances.push(w[T]);const S=t.boundingBox;S!==null&&(this.boundingBox=S.clone());const L=t.boundingSphere;return L!==null&&(this.boundingSphere=L.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Ei extends ai{constructor(e,i,o,l,h,g){super(),this.type="BoxGeometry",this.parameters={width:e,height:i,depth:o,widthSegments:l,heightSegments:h,depthSegments:g},this.fromBufferGeometry(new ka(e,i,o,l,h,g)),this.mergeVertices()}}class Mo extends Xn{constructor(e=1,i=8,o=0,l=2*Math.PI){super(),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:i,thetaStart:o,thetaLength:l},i=Math.max(3,i);const h=[],g=[],v=[],w=[],S=new ye,L=new Ot;g.push(0,0,0),v.push(0,0,1),w.push(.5,.5);for(let T=0,I=3;T<=i;T++,I+=3){const F=o+T/i*l;S.x=e*Math.cos(F),S.y=e*Math.sin(F),g.push(S.x,S.y,S.z),v.push(0,0,1),L.x=(g[I]/e+1)/2,L.y=(g[I+1]/e+1)/2,w.push(L.x,L.y)}for(let T=1;T<=i;T++)h.push(T,T+1,0);this.setIndex(h),this.setAttribute("position",new Nn(g,3)),this.setAttribute("normal",new Nn(v,3)),this.setAttribute("uv",new Nn(w,2))}}class fo extends ai{constructor(e,i,o,l){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:i,thetaStart:o,thetaLength:l},this.fromBufferGeometry(new Mo(e,i,o,l)),this.mergeVertices()}}class po extends Xn{constructor(e=1,i=1,o=1,l=8,h=1,g=!1,v=0,w=2*Math.PI){super(),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:i,height:o,radialSegments:l,heightSegments:h,openEnded:g,thetaStart:v,thetaLength:w};const S=this;l=Math.floor(l),h=Math.floor(h);const L=[],T=[],I=[],F=[];let j=0;const K=[],X=o/2;let ee=0;function me(xe){const _e=j,Se=new Ot,Ne=new ye;let Ae=0;const ut=xe===!0?e:i,mt=xe===!0?1:-1;for(let Dt=1;Dt<=l;Dt++)T.push(0,X*mt,0),I.push(0,mt,0),F.push(.5,.5),j++;const jt=j;for(let Dt=0;Dt<=l;Dt++){const _t=Dt/l*w+v,Ht=Math.cos(_t),dn=Math.sin(_t);Ne.x=ut*dn,Ne.y=X*mt,Ne.z=ut*Ht,T.push(Ne.x,Ne.y,Ne.z),I.push(0,mt,0),Se.x=.5*Ht+.5,Se.y=.5*dn*mt+.5,F.push(Se.x,Se.y),j++}for(let Dt=0;Dt<l;Dt++){const _t=_e+Dt,Ht=jt+Dt;xe===!0?L.push(Ht,Ht+1,_t):L.push(Ht+1,Ht,_t),Ae+=3}S.addGroup(ee,Ae,xe===!0?1:2),ee+=Ae}(function(){const xe=new ye,_e=new ye;let Se=0;const Ne=(i-e)/o;for(let Ae=0;Ae<=h;Ae++){const ut=[],mt=Ae/h,jt=mt*(i-e)+e;for(let Dt=0;Dt<=l;Dt++){const _t=Dt/l,Ht=_t*w+v,dn=Math.sin(Ht),an=Math.cos(Ht);_e.x=jt*dn,_e.y=-mt*o+X,_e.z=jt*an,T.push(_e.x,_e.y,_e.z),xe.set(dn,Ne,an).normalize(),I.push(xe.x,xe.y,xe.z),F.push(_t,1-mt),ut.push(j++)}K.push(ut)}for(let Ae=0;Ae<l;Ae++)for(let ut=0;ut<h;ut++){const mt=K[ut][Ae],jt=K[ut+1][Ae],Dt=K[ut+1][Ae+1],_t=K[ut][Ae+1];L.push(mt,jt,_t),L.push(jt,Dt,_t),Se+=6}S.addGroup(ee,Se,0),ee+=Se})(),g===!1&&(e>0&&me(!0),i>0&&me(!1)),this.setIndex(L),this.setAttribute("position",new Nn(T,3)),this.setAttribute("normal",new Nn(I,3)),this.setAttribute("uv",new Nn(F,2))}}class Ja extends ai{constructor(e,i,o,l,h,g,v,w){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:i,height:o,radialSegments:l,heightSegments:h,openEnded:g,thetaStart:v,thetaLength:w},this.fromBufferGeometry(new po(e,i,o,l,h,g,v,w)),this.mergeVertices()}}class sd extends Ja{constructor(e,i,o,l,h,g,v){super(0,e,i,o,l,h,g,v),this.type="ConeGeometry",this.parameters={radius:e,height:i,radialSegments:o,heightSegments:l,openEnded:h,thetaStart:g,thetaLength:v}}}class Ao extends po{constructor(e=1,i=1,o=8,l=1,h=!1,g=0,v=2*Math.PI){super(0,e,i,o,l,h,g,v),this.type="ConeBufferGeometry",this.parameters={radius:e,height:i,radialSegments:o,heightSegments:l,openEnded:h,thetaStart:g,thetaLength:v}}}class yu extends Xn{constructor(e,i,o=1,l=0){super(),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:i,radius:o,detail:l};const h=[],g=[];function v(I,F,j,K){const X=K+1,ee=[];for(let me=0;me<=X;me++){ee[me]=[];const xe=I.clone().lerp(j,me/X),_e=F.clone().lerp(j,me/X),Se=X-me;for(let Ne=0;Ne<=Se;Ne++)ee[me][Ne]=Ne===0&&me===X?xe:xe.clone().lerp(_e,Ne/Se)}for(let me=0;me<X;me++)for(let xe=0;xe<2*(X-me)-1;xe++){const _e=Math.floor(xe/2);xe%2==0?(w(ee[me][_e+1]),w(ee[me+1][_e]),w(ee[me][_e])):(w(ee[me][_e+1]),w(ee[me+1][_e+1]),w(ee[me+1][_e]))}}function w(I){h.push(I.x,I.y,I.z)}function S(I,F){const j=3*I;F.x=e[j+0],F.y=e[j+1],F.z=e[j+2]}function L(I,F,j,K){K<0&&I.x===1&&(g[F]=I.x-1),j.x===0&&j.z===0&&(g[F]=K/2/Math.PI+.5)}function T(I){return Math.atan2(I.z,-I.x)}(function(I){const F=new ye,j=new ye,K=new ye;for(let X=0;X<i.length;X+=3)S(i[X+0],F),S(i[X+1],j),S(i[X+2],K),v(F,j,K,I)})(l),function(I){const F=new ye;for(let j=0;j<h.length;j+=3)F.x=h[j+0],F.y=h[j+1],F.z=h[j+2],F.normalize().multiplyScalar(I),h[j+0]=F.x,h[j+1]=F.y,h[j+2]=F.z}(o),function(){const I=new ye;for(let j=0;j<h.length;j+=3){I.x=h[j+0],I.y=h[j+1],I.z=h[j+2];const K=T(I)/2/Math.PI+.5,X=(F=I,Math.atan2(-F.y,Math.sqrt(F.x*F.x+F.z*F.z))/Math.PI+.5);g.push(K,1-X)}var F;(function(){const j=new ye,K=new ye,X=new ye,ee=new ye,me=new Ot,xe=new Ot,_e=new Ot;for(let Se=0,Ne=0;Se<h.length;Se+=9,Ne+=6){j.set(h[Se+0],h[Se+1],h[Se+2]),K.set(h[Se+3],h[Se+4],h[Se+5]),X.set(h[Se+6],h[Se+7],h[Se+8]),me.set(g[Ne+0],g[Ne+1]),xe.set(g[Ne+2],g[Ne+3]),_e.set(g[Ne+4],g[Ne+5]),ee.copy(j).add(K).add(X).divideScalar(3);const Ae=T(ee);L(me,Ne+0,j,Ae),L(xe,Ne+2,K,Ae),L(_e,Ne+4,X,Ae)}})(),function(){for(let j=0;j<g.length;j+=6){const K=g[j+0],X=g[j+2],ee=g[j+4],me=Math.max(K,X,ee),xe=Math.min(K,X,ee);me>.9&&xe<.1&&(K<.2&&(g[j+0]+=1),X<.2&&(g[j+2]+=1),ee<.2&&(g[j+4]+=1))}}()}(),this.setAttribute("position",new Nn(h,3)),this.setAttribute("normal",new Nn(h.slice(),3)),this.setAttribute("uv",new Nn(g,2)),l===0?this.computeVertexNormals():this.normalizeNormals()}}class Ac extends yu{constructor(e=1,i=0){const o=(1+Math.sqrt(5))/2,l=1/o;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-l,-o,0,-l,o,0,l,-o,0,l,o,-l,-o,0,-l,o,0,l,-o,0,l,o,0,-o,0,-l,o,0,-l,-o,0,l,o,0,l],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,i),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:i}}}class kp extends ai{constructor(e,i){super(),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:i},this.fromBufferGeometry(new Ac(e,i)),this.mergeVertices()}}const yf=new ye,ph=new ye,Fa=new ye,xf=new Ut;class mh extends Xn{constructor(e,i){super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:i},i=i!==void 0?i:1,e.isGeometry&&(e=new Xn().fromGeometry(e));const o=Math.pow(10,4),l=Math.cos(An.DEG2RAD*i),h=e.getIndex(),g=e.getAttribute("position"),v=h?h.count:g.count,w=[0,0,0],S=["a","b","c"],L=new Array(3),T={},I=[];for(let F=0;F<v;F+=3){h?(w[0]=h.getX(F),w[1]=h.getX(F+1),w[2]=h.getX(F+2)):(w[0]=F,w[1]=F+1,w[2]=F+2);const{a:j,b:K,c:X}=xf;if(j.fromBufferAttribute(g,w[0]),K.fromBufferAttribute(g,w[1]),X.fromBufferAttribute(g,w[2]),xf.getNormal(Fa),L[0]=`${Math.round(j.x*o)},${Math.round(j.y*o)},${Math.round(j.z*o)}`,L[1]=`${Math.round(K.x*o)},${Math.round(K.y*o)},${Math.round(K.z*o)}`,L[2]=`${Math.round(X.x*o)},${Math.round(X.y*o)},${Math.round(X.z*o)}`,L[0]!==L[1]&&L[1]!==L[2]&&L[2]!==L[0])for(let ee=0;ee<3;ee++){const me=(ee+1)%3,xe=L[ee],_e=L[me],Se=xf[S[ee]],Ne=xf[S[me]],Ae=`${xe}_${_e}`,ut=`${_e}_${xe}`;ut in T&&T[ut]?(Fa.dot(T[ut].normal)<=l&&(I.push(Se.x,Se.y,Se.z),I.push(Ne.x,Ne.y,Ne.z)),T[ut]=null):Ae in T||(T[Ae]={index0:w[ee],index1:w[me],normal:Fa.clone()})}}for(const F in T)if(T[F]){const{index0:j,index1:K}=T[F];yf.fromBufferAttribute(g,j),ph.fromBufferAttribute(g,K),I.push(yf.x,yf.y,yf.z),I.push(ph.x,ph.y,ph.z)}this.setAttribute("position",new Nn(I,3))}}const Tc=function(t,e,i){i=i||2;const o=e&&e.length,l=o?e[0]*i:t.length;let h=Op(t,0,l,i,!0);const g=[];if(!h||h.next===h.prev)return g;let v,w,S,L,T,I,F;if(o&&(h=function(j,K,X,ee){const me=[];let xe,_e,Se,Ne,Ae;for(xe=0,_e=K.length;xe<_e;xe++)Se=K[xe]*ee,Ne=xe<_e-1?K[xe+1]*ee:j.length,Ae=Op(j,Se,Ne,ee,!1),Ae===Ae.next&&(Ae.steiner=!0),me.push(vh(Ae));for(me.sort(T0),xe=0;xe<me.length;xe++)Sg(me[xe],X),X=Zu(X,X.next);return X}(t,e,h,i)),t.length>80*i){v=S=t[0],w=L=t[1];for(let j=i;j<l;j+=i)T=t[j],I=t[j+1],T<v&&(v=T),I<w&&(w=I),T>S&&(S=T),I>L&&(L=I);F=Math.max(S-v,L-w),F=F!==0?1/F:0}return ql(h,g,i,v,w,F),g};function Op(t,e,i,o,l){let h,g;if(l===function(v,w,S,L){let T=0;for(let I=w,F=S-L;I<S;I+=L)T+=(v[F]-v[I])*(v[I+1]+v[F+1]),F=I;return T}(t,e,i,o)>0)for(h=e;h<i;h+=o)g=yh(h,t[h],t[h+1],g);else for(h=i-o;h>=e;h-=o)g=yh(h,t[h],t[h+1],g);return g&&bf(g,g.next)&&(od(g),g=g.next),g}function Zu(t,e){if(!t)return t;e||(e=t);let i,o=t;do if(i=!1,o.steiner||!bf(o,o.next)&&zs(o.prev,o,o.next)!==0)o=o.next;else{if(od(o),o=e=o.prev,o===o.next)break;i=!0}while(i||o!==e);return e}function ql(t,e,i,o,l,h,g){if(!t)return;!g&&h&&function(L,T,I,F){let j=L;do j.z===null&&(j.z=va(j.x,j.y,T,I,F)),j.prevZ=j.prev,j.nextZ=j.next,j=j.next;while(j!==L);j.prevZ.nextZ=null,j.prevZ=null,function(K){let X,ee,me,xe,_e,Se,Ne,Ae,ut=1;do{for(ee=K,K=null,_e=null,Se=0;ee;){for(Se++,me=ee,Ne=0,X=0;X<ut&&(Ne++,me=me.nextZ,me);X++);for(Ae=ut;Ne>0||Ae>0&&me;)Ne!==0&&(Ae===0||!me||ee.z<=me.z)?(xe=ee,ee=ee.nextZ,Ne--):(xe=me,me=me.nextZ,Ae--),_e?_e.nextZ=xe:K=xe,xe.prevZ=_e,_e=xe;ee=me}_e.nextZ=null,ut*=2}while(Se>1)}(j)}(t,o,l,h);let v,w,S=t;for(;t.prev!==t.next;)if(v=t.prev,w=t.next,h?gh(t,o,l,h):wg(t))e.push(v.i/i),e.push(t.i/i),e.push(w.i/i),od(t),t=w.next,S=w.next;else if((t=w)===S){g?g===1?ql(t=_g(Zu(t),e,i),e,i,o,l,h,2):g===2&&Ip(t,e,i,o,l,h):ql(Zu(t),e,i,o,l,h,1);break}}function wg(t){const e=t.prev,i=t,o=t.next;if(zs(e,i,o)>=0)return!1;let l=t.next.next;for(;l!==t.prev;){if(za(e.x,e.y,i.x,i.y,o.x,o.y,l.x,l.y)&&zs(l.prev,l,l.next)>=0)return!1;l=l.next}return!0}function gh(t,e,i,o){const l=t.prev,h=t,g=t.next;if(zs(l,h,g)>=0)return!1;const v=l.x<h.x?l.x<g.x?l.x:g.x:h.x<g.x?h.x:g.x,w=l.y<h.y?l.y<g.y?l.y:g.y:h.y<g.y?h.y:g.y,S=l.x>h.x?l.x>g.x?l.x:g.x:h.x>g.x?h.x:g.x,L=l.y>h.y?l.y>g.y?l.y:g.y:h.y>g.y?h.y:g.y,T=va(v,w,e,i,o),I=va(S,L,e,i,o);let F=t.prevZ,j=t.nextZ;for(;F&&F.z>=T&&j&&j.z<=I;){if(F!==t.prev&&F!==t.next&&za(l.x,l.y,h.x,h.y,g.x,g.y,F.x,F.y)&&zs(F.prev,F,F.next)>=0||(F=F.prevZ,j!==t.prev&&j!==t.next&&za(l.x,l.y,h.x,h.y,g.x,g.y,j.x,j.y)&&zs(j.prev,j,j.next)>=0))return!1;j=j.nextZ}for(;F&&F.z>=T;){if(F!==t.prev&&F!==t.next&&za(l.x,l.y,h.x,h.y,g.x,g.y,F.x,F.y)&&zs(F.prev,F,F.next)>=0)return!1;F=F.prevZ}for(;j&&j.z<=I;){if(j!==t.prev&&j!==t.next&&za(l.x,l.y,h.x,h.y,g.x,g.y,j.x,j.y)&&zs(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function _g(t,e,i){let o=t;do{const l=o.prev,h=o.next.next;!bf(l,h)&&Mg(l,o,o.next,h)&&wf(l,h)&&wf(h,l)&&(e.push(l.i/i),e.push(o.i/i),e.push(h.i/i),od(o),od(o.next),o=t=h),o=o.next}while(o!==t);return Zu(o)}function Ip(t,e,i,o,l,h){let g=t;do{let v=g.next.next;for(;v!==g.prev;){if(g.i!==v.i&&hl(g,v)){let w=Tg(g,v);return g=Zu(g,g.next),w=Zu(w,w.next),ql(g,e,i,o,l,h),void ql(w,e,i,o,l,h)}v=v.next}g=g.next}while(g!==t)}function T0(t,e){return t.x-e.x}function Sg(t,e){if(e=function(i,o){let l=o;const h=i.x,g=i.y;let v,w=-1/0;do{if(g<=l.y&&g>=l.next.y&&l.next.y!==l.y){const j=l.x+(g-l.y)*(l.next.x-l.x)/(l.next.y-l.y);if(j<=h&&j>w){if(w=j,j===h){if(g===l.y)return l;if(g===l.next.y)return l.next}v=l.x<l.next.x?l:l.next}}l=l.next}while(l!==o);if(!v)return null;if(h===w)return v;const S=v,L=v.x,T=v.y;let I,F=1/0;l=v;do h>=l.x&&l.x>=L&&h!==l.x&&za(g<T?h:w,g,L,T,g<T?w:h,g,l.x,l.y)&&(I=Math.abs(g-l.y)/(h-l.x),wf(l,i)&&(I<F||I===F&&(l.x>v.x||l.x===v.x&&Eg(v,l)))&&(v=l,F=I)),l=l.next;while(l!==S);return v}(t,e)){const i=Tg(e,t);Zu(e,e.next),Zu(i,i.next)}}function Eg(t,e){return zs(t.prev,t,e.prev)<0&&zs(e.next,t,t.next)<0}function va(t,e,i,o,l){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*l)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-o)*l)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function vh(t){let e=t,i=t;do(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next;while(e!==t);return i}function za(t,e,i,o,l,h,g,v){return(l-g)*(e-v)-(t-g)*(h-v)>=0&&(t-g)*(o-v)-(i-g)*(e-v)>=0&&(i-g)*(h-v)-(l-g)*(o-v)>=0}function hl(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(i,o){let l=i;do{if(l.i!==i.i&&l.next.i!==i.i&&l.i!==o.i&&l.next.i!==o.i&&Mg(l,l.next,i,o))return!0;l=l.next}while(l!==i);return!1}(t,e)&&(wf(t,e)&&wf(e,t)&&function(i,o){let l=i,h=!1;const g=(i.x+o.x)/2,v=(i.y+o.y)/2;do l.y>v!=l.next.y>v&&l.next.y!==l.y&&g<(l.next.x-l.x)*(v-l.y)/(l.next.y-l.y)+l.x&&(h=!h),l=l.next;while(l!==i);return h}(t,e)&&(zs(t.prev,t,e.prev)||zs(t,e.prev,e))||bf(t,e)&&zs(t.prev,t,t.next)>0&&zs(e.prev,e,e.next)>0)}function zs(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function bf(t,e){return t.x===e.x&&t.y===e.y}function Mg(t,e,i,o){const l=xu(zs(t,e,i)),h=xu(zs(t,e,o)),g=xu(zs(i,o,t)),v=xu(zs(i,o,e));return l!==h&&g!==v||!(l!==0||!Ag(t,i,e))||!(h!==0||!Ag(t,o,e))||!(g!==0||!Ag(i,t,o))||!(v!==0||!Ag(i,e,o))}function Ag(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function xu(t){return t>0?1:t<0?-1:0}function wf(t,e){return zs(t.prev,t,t.next)<0?zs(t,e,t.next)>=0&&zs(t,t.prev,e)>=0:zs(t,e,t.prev)<0||zs(t,t.next,e)<0}function Tg(t,e){const i=new Cc(t.i,t.x,t.y),o=new Cc(e.i,e.x,e.y),l=t.next,h=e.prev;return t.next=e,e.prev=t,i.next=l,l.prev=i,o.next=i,i.prev=o,h.next=o,o.prev=h,o}function yh(t,e,i,o){const l=new Cc(t,e,i);return o?(l.next=o.next,l.prev=o,o.next.prev=l,o.next=l):(l.prev=l,l.next=l),l}function od(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Cc(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Ku={area:function(t){const e=t.length;let i=0;for(let o=e-1,l=0;l<e;o=l++)i+=t[o].x*t[l].y-t[l].x*t[o].y;return .5*i},isClockWise:function(t){return Ku.area(t)<0},triangulateShape:function(t,e){const i=[],o=[],l=[];C0(t),Cg(i,t);let h=t.length;e.forEach(C0);for(let v=0;v<e.length;v++)o.push(h),h+=e[v].length,Cg(i,e[v]);const g=Tc(i,o);for(let v=0;v<g.length;v+=3)l.push(g.slice(v,v+3));return l}};function C0(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Cg(t,e){for(let i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}class xh extends Xn{constructor(e,i){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:i},e=Array.isArray(e)?e:[e];const o=this,l=[],h=[];for(let v=0,w=e.length;v<w;v++)g(e[v]);function g(v){const w=[],S=i.curveSegments!==void 0?i.curveSegments:12,L=i.steps!==void 0?i.steps:1;let T=i.depth!==void 0?i.depth:100,I=i.bevelEnabled===void 0||i.bevelEnabled,F=i.bevelThickness!==void 0?i.bevelThickness:6,j=i.bevelSize!==void 0?i.bevelSize:F-2,K=i.bevelOffset!==void 0?i.bevelOffset:0,X=i.bevelSegments!==void 0?i.bevelSegments:3;const ee=i.extrudePath,me=i.UVGenerator!==void 0?i.UVGenerator:rw;i.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),T=i.amount);let xe,_e,Se,Ne,Ae,ut=!1;ee&&(xe=ee.getSpacedPoints(L),ut=!0,I=!1,_e=ee.computeFrenetFrames(L,!1),Se=new ye,Ne=new ye,Ae=new ye),I||(X=0,F=0,j=0,K=0);const mt=v.extractPoints(S);let jt=mt.shape;const Dt=mt.holes;if(!Ku.isClockWise(jt)){jt=jt.reverse();for(let Pt=0,bt=Dt.length;Pt<bt;Pt++){const Zt=Dt[Pt];Ku.isClockWise(Zt)&&(Dt[Pt]=Zt.reverse())}}const _t=Ku.triangulateShape(jt,Dt),Ht=jt;for(let Pt=0,bt=Dt.length;Pt<bt;Pt++){const Zt=Dt[Pt];jt=jt.concat(Zt)}function dn(Pt,bt,Zt){return bt||console.error("THREE.ExtrudeGeometry: vec does not exist"),bt.clone().multiplyScalar(Zt).add(Pt)}const an=jt.length,or=_t.length;function kn(Pt,bt,Zt){let Mn,ln,Gn;const Yn=Pt.x-bt.x,Hr=Pt.y-bt.y,Mr=Zt.x-Pt.x,Ri=Zt.y-Pt.y,Ms=Yn*Yn+Hr*Hr,Th=Yn*Ri-Hr*Mr;if(Math.abs(Th)>Number.EPSILON){const Ch=Math.sqrt(Ms),G0=Math.sqrt(Mr*Mr+Ri*Ri),V0=bt.x-Hr/Ch,ic=bt.y+Yn/Ch,el=((Zt.x-Ri/G0-V0)*Ri-(Zt.y+Mr/G0-ic)*Mr)/(Yn*Ri-Hr*Mr);Mn=V0+Yn*el-Pt.x,ln=ic+Hr*el-Pt.y;const Bn=Mn*Mn+ln*ln;if(Bn<=2)return new Ot(Mn,ln);Gn=Math.sqrt(Bn/2)}else{let Ch=!1;Yn>Number.EPSILON?Mr>Number.EPSILON&&(Ch=!0):Yn<-Number.EPSILON?Mr<-Number.EPSILON&&(Ch=!0):Math.sign(Hr)===Math.sign(Ri)&&(Ch=!0),Ch?(Mn=-Hr,ln=Yn,Gn=Math.sqrt(Ms)):(Mn=Yn,ln=Hr,Gn=Math.sqrt(Ms/2))}return new Ot(Mn/Gn,ln/Gn)}const Tn=[];for(let Pt=0,bt=Ht.length,Zt=bt-1,Mn=Pt+1;Pt<bt;Pt++,Zt++,Mn++)Zt===bt&&(Zt=0),Mn===bt&&(Mn=0),Tn[Pt]=kn(Ht[Pt],Ht[Zt],Ht[Mn]);const mr=[];let gr,li=Tn.concat();for(let Pt=0,bt=Dt.length;Pt<bt;Pt++){const Zt=Dt[Pt];gr=[];for(let Mn=0,ln=Zt.length,Gn=ln-1,Yn=Mn+1;Mn<ln;Mn++,Gn++,Yn++)Gn===ln&&(Gn=0),Yn===ln&&(Yn=0),gr[Mn]=kn(Zt[Mn],Zt[Gn],Zt[Yn]);mr.push(gr),li=li.concat(gr)}for(let Pt=0;Pt<X;Pt++){const bt=Pt/X,Zt=F*Math.cos(bt*Math.PI/2),Mn=j*Math.sin(bt*Math.PI/2)+K;for(let ln=0,Gn=Ht.length;ln<Gn;ln++){const Yn=dn(Ht[ln],Tn[ln],Mn);mn(Yn.x,Yn.y,-Zt)}for(let ln=0,Gn=Dt.length;ln<Gn;ln++){const Yn=Dt[ln];gr=mr[ln];for(let Hr=0,Mr=Yn.length;Hr<Mr;Hr++){const Ri=dn(Yn[Hr],gr[Hr],Mn);mn(Ri.x,Ri.y,-Zt)}}}const Ue=j+K;for(let Pt=0;Pt<an;Pt++){const bt=I?dn(jt[Pt],li[Pt],Ue):jt[Pt];ut?(Ne.copy(_e.normals[0]).multiplyScalar(bt.x),Se.copy(_e.binormals[0]).multiplyScalar(bt.y),Ae.copy(xe[0]).add(Ne).add(Se),mn(Ae.x,Ae.y,Ae.z)):mn(bt.x,bt.y,0)}for(let Pt=1;Pt<=L;Pt++)for(let bt=0;bt<an;bt++){const Zt=I?dn(jt[bt],li[bt],Ue):jt[bt];ut?(Ne.copy(_e.normals[Pt]).multiplyScalar(Zt.x),Se.copy(_e.binormals[Pt]).multiplyScalar(Zt.y),Ae.copy(xe[Pt]).add(Ne).add(Se),mn(Ae.x,Ae.y,Ae.z)):mn(Zt.x,Zt.y,T/L*Pt)}for(let Pt=X-1;Pt>=0;Pt--){const bt=Pt/X,Zt=F*Math.cos(bt*Math.PI/2),Mn=j*Math.sin(bt*Math.PI/2)+K;for(let ln=0,Gn=Ht.length;ln<Gn;ln++){const Yn=dn(Ht[ln],Tn[ln],Mn);mn(Yn.x,Yn.y,T+Zt)}for(let ln=0,Gn=Dt.length;ln<Gn;ln++){const Yn=Dt[ln];gr=mr[ln];for(let Hr=0,Mr=Yn.length;Hr<Mr;Hr++){const Ri=dn(Yn[Hr],gr[Hr],Mn);ut?mn(Ri.x,Ri.y+xe[L-1].y,xe[L-1].x+Zt):mn(Ri.x,Ri.y,T+Zt)}}}function et(Pt,bt){let Zt=Pt.length;for(;--Zt>=0;){const Mn=Zt;let ln=Zt-1;ln<0&&(ln=Pt.length-1);for(let Gn=0,Yn=L+2*X;Gn<Yn;Gn++){const Hr=an*Gn,Mr=an*(Gn+1);Ie(bt+Mn+Hr,bt+ln+Hr,bt+ln+Mr,bt+Mn+Mr)}}}function mn(Pt,bt,Zt){w.push(Pt),w.push(bt),w.push(Zt)}function Ft(Pt,bt,Zt){Wt(Pt),Wt(bt),Wt(Zt);const Mn=l.length/3,ln=me.generateTopUV(o,l,Mn-3,Mn-2,Mn-1);fn(ln[0]),fn(ln[1]),fn(ln[2])}function Ie(Pt,bt,Zt,Mn){Wt(Pt),Wt(bt),Wt(Mn),Wt(bt),Wt(Zt),Wt(Mn);const ln=l.length/3,Gn=me.generateSideWallUV(o,l,ln-6,ln-3,ln-2,ln-1);fn(Gn[0]),fn(Gn[1]),fn(Gn[3]),fn(Gn[1]),fn(Gn[2]),fn(Gn[3])}function Wt(Pt){l.push(w[3*Pt+0]),l.push(w[3*Pt+1]),l.push(w[3*Pt+2])}function fn(Pt){h.push(Pt.x),h.push(Pt.y)}(function(){const Pt=l.length/3;if(I){let bt=0,Zt=an*bt;for(let Mn=0;Mn<or;Mn++){const ln=_t[Mn];Ft(ln[2]+Zt,ln[1]+Zt,ln[0]+Zt)}bt=L+2*X,Zt=an*bt;for(let Mn=0;Mn<or;Mn++){const ln=_t[Mn];Ft(ln[0]+Zt,ln[1]+Zt,ln[2]+Zt)}}else{for(let bt=0;bt<or;bt++){const Zt=_t[bt];Ft(Zt[2],Zt[1],Zt[0])}for(let bt=0;bt<or;bt++){const Zt=_t[bt];Ft(Zt[0]+an*L,Zt[1]+an*L,Zt[2]+an*L)}}o.addGroup(Pt,l.length/3-Pt,0)})(),function(){const Pt=l.length/3;let bt=0;et(Ht,bt),bt+=Ht.length;for(let Zt=0,Mn=Dt.length;Zt<Mn;Zt++){const ln=Dt[Zt];et(ln,bt),bt+=ln.length}o.addGroup(Pt,l.length/3-Pt,1)}()}this.setAttribute("position",new Nn(l,3)),this.setAttribute("uv",new Nn(h,2)),this.computeVertexNormals()}toJSON(){const e=Xn.prototype.toJSON.call(this);return function(i,o,l){if(l.shapes=[],Array.isArray(i))for(let h=0,g=i.length;h<g;h++){const v=i[h];l.shapes.push(v.uuid)}else l.shapes.push(i.uuid);return o.extrudePath!==void 0&&(l.options.extrudePath=o.extrudePath.toJSON()),l}(this.parameters.shapes,this.parameters.options,e)}}const rw={generateTopUV:function(t,e,i,o,l){const h=e[3*i],g=e[3*i+1],v=e[3*o],w=e[3*o+1],S=e[3*l],L=e[3*l+1];return[new Ot(h,g),new Ot(v,w),new Ot(S,L)]},generateSideWallUV:function(t,e,i,o,l,h){const g=e[3*i],v=e[3*i+1],w=e[3*i+2],S=e[3*o],L=e[3*o+1],T=e[3*o+2],I=e[3*l],F=e[3*l+1],j=e[3*l+2],K=e[3*h],X=e[3*h+1],ee=e[3*h+2];return Math.abs(v-L)<.01?[new Ot(g,1-w),new Ot(S,1-T),new Ot(I,1-j),new Ot(K,1-ee)]:[new Ot(v,1-w),new Ot(L,1-T),new Ot(F,1-j),new Ot(X,1-ee)]}};class L0 extends ai{constructor(e,i){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:i},this.fromBufferGeometry(new xh(e,i)),this.mergeVertices()}toJSON(){const e=super.toJSON();return function(i,o,l){if(l.shapes=[],Array.isArray(i))for(let h=0,g=i.length;h<g;h++){const v=i[h];l.shapes.push(v.uuid)}else l.shapes.push(i.uuid);return o.extrudePath!==void 0&&(l.options.extrudePath=o.extrudePath.toJSON()),l}(this.parameters.shapes,this.parameters.options,e)}}class Lg extends yu{constructor(e=1,i=0){const o=(1+Math.sqrt(5))/2;super([-1,o,0,1,o,0,-1,-o,0,1,-o,0,0,-1,o,0,1,o,0,-1,-o,0,1,-o,o,0,-1,o,0,1,-o,0,-1,-o,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,i),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:i}}}class P0 extends ai{constructor(e,i){super(),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:i},this.fromBufferGeometry(new Lg(e,i)),this.mergeVertices()}}class Lc extends Xn{constructor(e,i=12,o=0,l=2*Math.PI){super(),this.type="LatheBufferGeometry",this.parameters={points:e,segments:i,phiStart:o,phiLength:l},i=Math.floor(i),l=An.clamp(l,0,2*Math.PI);const h=[],g=[],v=[],w=1/i,S=new ye,L=new Ot;for(let T=0;T<=i;T++){const I=o+T*w*l,F=Math.sin(I),j=Math.cos(I);for(let K=0;K<=e.length-1;K++)S.x=e[K].x*F,S.y=e[K].y,S.z=e[K].x*j,g.push(S.x,S.y,S.z),L.x=T/i,L.y=K/(e.length-1),v.push(L.x,L.y)}for(let T=0;T<i;T++)for(let I=0;I<e.length-1;I++){const F=I+T*e.length,j=F,K=F+e.length,X=F+e.length+1,ee=F+1;h.push(j,K,ee),h.push(K,X,ee)}if(this.setIndex(h),this.setAttribute("position",new Nn(g,3)),this.setAttribute("uv",new Nn(v,2)),this.computeVertexNormals(),l===2*Math.PI){const T=this.attributes.normal.array,I=new ye,F=new ye,j=new ye,K=i*e.length*3;for(let X=0,ee=0;X<e.length;X++,ee+=3)I.x=T[ee+0],I.y=T[ee+1],I.z=T[ee+2],F.x=T[K+ee+0],F.y=T[K+ee+1],F.z=T[K+ee+2],j.addVectors(I,F).normalize(),T[ee+0]=T[K+ee+0]=j.x,T[ee+1]=T[K+ee+1]=j.y,T[ee+2]=T[K+ee+2]=j.z}}}class sb extends ai{constructor(e,i,o,l){super(),this.type="LatheGeometry",this.parameters={points:e,segments:i,phiStart:o,phiLength:l},this.fromBufferGeometry(new Lc(e,i,o,l)),this.mergeVertices()}}class Pc extends yu{constructor(e=1,i=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,i),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:i}}}class R0 extends ai{constructor(e,i){super(),this.type="OctahedronGeometry",this.parameters={radius:e,detail:i},this.fromBufferGeometry(new Pc(e,i)),this.mergeVertices()}}function gs(t,e,i){Xn.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};const o=[],l=[],h=[],g=[],v=1e-5,w=new ye,S=new ye,L=new ye,T=new ye,I=new ye;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const F=e+1;for(let j=0;j<=i;j++){const K=j/i;for(let X=0;X<=e;X++){const ee=X/e;t(ee,K,S),l.push(S.x,S.y,S.z),ee-v>=0?(t(ee-v,K,L),T.subVectors(S,L)):(t(ee+v,K,L),T.subVectors(L,S)),K-v>=0?(t(ee,K-v,L),I.subVectors(S,L)):(t(ee,K+v,L),I.subVectors(L,S)),w.crossVectors(T,I).normalize(),h.push(w.x,w.y,w.z),g.push(ee,K)}}for(let j=0;j<i;j++)for(let K=0;K<e;K++){const X=j*F+K,ee=j*F+K+1,me=(j+1)*F+K+1,xe=(j+1)*F+K;o.push(X,ee,xe),o.push(ee,me,xe)}this.setIndex(o),this.setAttribute("position",new Nn(l,3)),this.setAttribute("normal",new Nn(h,3)),this.setAttribute("uv",new Nn(g,2))}function Np(t,e,i){ai.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new gs(t,e,i)),this.mergeVertices()}gs.prototype=Object.create(Xn.prototype),gs.prototype.constructor=gs,Np.prototype=Object.create(ai.prototype),Np.prototype.constructor=Np;class k0 extends ai{constructor(e,i,o,l){super(),this.type="PlaneGeometry",this.parameters={width:e,height:i,widthSegments:o,heightSegments:l},this.fromBufferGeometry(new dp(e,i,o,l)),this.mergeVertices()}}class ob extends ai{constructor(e,i,o,l){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:i,radius:o,detail:l},this.fromBufferGeometry(new yu(e,i,o,l)),this.mergeVertices()}}class O0 extends Xn{constructor(e=.5,i=1,o=8,l=1,h=0,g=2*Math.PI){super(),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:i,thetaSegments:o,phiSegments:l,thetaStart:h,thetaLength:g},o=Math.max(3,o);const v=[],w=[],S=[],L=[];let T=e;const I=(i-e)/(l=Math.max(1,l)),F=new ye,j=new Ot;for(let K=0;K<=l;K++){for(let X=0;X<=o;X++){const ee=h+X/o*g;F.x=T*Math.cos(ee),F.y=T*Math.sin(ee),w.push(F.x,F.y,F.z),S.push(0,0,1),j.x=(F.x/i+1)/2,j.y=(F.y/i+1)/2,L.push(j.x,j.y)}T+=I}for(let K=0;K<l;K++){const X=K*(o+1);for(let ee=0;ee<o;ee++){const me=ee+X,xe=me,_e=me+o+1,Se=me+o+2,Ne=me+1;v.push(xe,_e,Ne),v.push(_e,Se,Ne)}}this.setIndex(v),this.setAttribute("position",new Nn(w,3)),this.setAttribute("normal",new Nn(S,3)),this.setAttribute("uv",new Nn(L,2))}}class I0 extends ai{constructor(e,i,o,l,h,g){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:i,thetaSegments:o,phiSegments:l,thetaStart:h,thetaLength:g},this.fromBufferGeometry(new O0(e,i,o,l,h,g)),this.mergeVertices()}}class Pg extends Xn{constructor(e,i=12){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:i};const o=[],l=[],h=[],g=[];let v=0,w=0;if(Array.isArray(e)===!1)S(e);else for(let L=0;L<e.length;L++)S(e[L]),this.addGroup(v,w,L),v+=w,w=0;function S(L){const T=l.length/3,I=L.extractPoints(i);let F=I.shape;const j=I.holes;Ku.isClockWise(F)===!1&&(F=F.reverse());for(let X=0,ee=j.length;X<ee;X++){const me=j[X];Ku.isClockWise(me)===!0&&(j[X]=me.reverse())}const K=Ku.triangulateShape(F,j);for(let X=0,ee=j.length;X<ee;X++){const me=j[X];F=F.concat(me)}for(let X=0,ee=F.length;X<ee;X++){const me=F[X];l.push(me.x,me.y,0),h.push(0,0,1),g.push(me.x,me.y)}for(let X=0,ee=K.length;X<ee;X++){const me=K[X],xe=me[0]+T,_e=me[1]+T,Se=me[2]+T;o.push(xe,_e,Se),w+=3}}this.setIndex(o),this.setAttribute("position",new Nn(l,3)),this.setAttribute("normal",new Nn(h,3)),this.setAttribute("uv",new Nn(g,2))}toJSON(){const e=Xn.prototype.toJSON.call(this);return function(i,o){if(o.shapes=[],Array.isArray(i))for(let l=0,h=i.length;l<h;l++){const g=i[l];o.shapes.push(g.uuid)}else o.shapes.push(i.uuid);return o}(this.parameters.shapes,e)}}class N0 extends ai{constructor(e,i){super(),this.type="ShapeGeometry",typeof i=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),i=i.curveSegments),this.parameters={shapes:e,curveSegments:i},this.fromBufferGeometry(new Pg(e,i)),this.mergeVertices()}toJSON(){const e=ai.prototype.toJSON.call(this);return function(i,o){if(o.shapes=[],Array.isArray(i))for(let l=0,h=i.length;l<h;l++){const g=i[l];o.shapes.push(g.uuid)}else o.shapes.push(i.uuid);return o}(this.parameters.shapes,e)}}class Qa extends Xn{constructor(e=1,i=8,o=6,l=0,h=2*Math.PI,g=0,v=Math.PI){super(),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:i,heightSegments:o,phiStart:l,phiLength:h,thetaStart:g,thetaLength:v},i=Math.max(3,Math.floor(i)),o=Math.max(2,Math.floor(o));const w=Math.min(g+v,Math.PI);let S=0;const L=[],T=new ye,I=new ye,F=[],j=[],K=[],X=[];for(let ee=0;ee<=o;ee++){const me=[],xe=ee/o;let _e=0;ee==0&&g==0?_e=.5/i:ee==o&&w==Math.PI&&(_e=-.5/i);for(let Se=0;Se<=i;Se++){const Ne=Se/i;T.x=-e*Math.cos(l+Ne*h)*Math.sin(g+xe*v),T.y=e*Math.cos(g+xe*v),T.z=e*Math.sin(l+Ne*h)*Math.sin(g+xe*v),j.push(T.x,T.y,T.z),I.copy(T).normalize(),K.push(I.x,I.y,I.z),X.push(Ne+_e,1-xe),me.push(S++)}L.push(me)}for(let ee=0;ee<o;ee++)for(let me=0;me<i;me++){const xe=L[ee][me+1],_e=L[ee][me],Se=L[ee+1][me],Ne=L[ee+1][me+1];(ee!==0||g>0)&&F.push(xe,_e,Ne),(ee!==o-1||w<Math.PI)&&F.push(_e,Se,Ne)}this.setIndex(F),this.setAttribute("position",new Nn(j,3)),this.setAttribute("normal",new Nn(K,3)),this.setAttribute("uv",new Nn(X,2))}}class Rg extends ai{constructor(e,i,o,l,h,g,v){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:i,heightSegments:o,phiStart:l,phiLength:h,thetaStart:g,thetaLength:v},this.fromBufferGeometry(new Qa(e,i,o,l,h,g,v)),this.mergeVertices()}}class D0 extends yu{constructor(e=1,i=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,i),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:i}}}class Rc extends ai{constructor(e,i){super(),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:i},this.fromBufferGeometry(new D0(e,i)),this.mergeVertices()}}class _f extends xh{constructor(e,i={}){const o=i.font;if(!o||!o.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Xn;const l=o.generateShapes(e,i.size);i.depth=i.height!==void 0?i.height:50,i.bevelThickness===void 0&&(i.bevelThickness=10),i.bevelSize===void 0&&(i.bevelSize=8),i.bevelEnabled===void 0&&(i.bevelEnabled=!1),super(l,i),this.type="TextBufferGeometry"}}class bh extends ai{constructor(e,i){super(),this.type="TextGeometry",this.parameters={text:e,parameters:i},this.fromBufferGeometry(new _f(e,i)),this.mergeVertices()}}class Sf extends Xn{constructor(e=1,i=.4,o=8,l=6,h=2*Math.PI){super(),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:i,radialSegments:o,tubularSegments:l,arc:h},o=Math.floor(o),l=Math.floor(l);const g=[],v=[],w=[],S=[],L=new ye,T=new ye,I=new ye;for(let F=0;F<=o;F++)for(let j=0;j<=l;j++){const K=j/l*h,X=F/o*Math.PI*2;T.x=(e+i*Math.cos(X))*Math.cos(K),T.y=(e+i*Math.cos(X))*Math.sin(K),T.z=i*Math.sin(X),v.push(T.x,T.y,T.z),L.x=e*Math.cos(K),L.y=e*Math.sin(K),I.subVectors(T,L).normalize(),w.push(I.x,I.y,I.z),S.push(j/l),S.push(F/o)}for(let F=1;F<=o;F++)for(let j=1;j<=l;j++){const K=(l+1)*F+j-1,X=(l+1)*(F-1)+j-1,ee=(l+1)*(F-1)+j,me=(l+1)*F+j;g.push(K,X,me),g.push(X,ee,me)}this.setIndex(g),this.setAttribute("position",new Nn(v,3)),this.setAttribute("normal",new Nn(w,3)),this.setAttribute("uv",new Nn(S,2))}}class kg extends ai{constructor(e,i,o,l,h){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:i,radialSegments:o,tubularSegments:l,arc:h},this.fromBufferGeometry(new Sf(e,i,o,l,h)),this.mergeVertices()}}class Dp extends Xn{constructor(e=1,i=.4,o=64,l=8,h=2,g=3){super(),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:i,tubularSegments:o,radialSegments:l,p:h,q:g},o=Math.floor(o),l=Math.floor(l);const v=[],w=[],S=[],L=[],T=new ye,I=new ye,F=new ye,j=new ye,K=new ye,X=new ye,ee=new ye;for(let xe=0;xe<=o;++xe){const _e=xe/o*h*Math.PI*2;me(_e,h,g,e,F),me(_e+.01,h,g,e,j),X.subVectors(j,F),ee.addVectors(j,F),K.crossVectors(X,ee),ee.crossVectors(K,X),K.normalize(),ee.normalize();for(let Se=0;Se<=l;++Se){const Ne=Se/l*Math.PI*2,Ae=-i*Math.cos(Ne),ut=i*Math.sin(Ne);T.x=F.x+(Ae*ee.x+ut*K.x),T.y=F.y+(Ae*ee.y+ut*K.y),T.z=F.z+(Ae*ee.z+ut*K.z),w.push(T.x,T.y,T.z),I.subVectors(T,F).normalize(),S.push(I.x,I.y,I.z),L.push(xe/o),L.push(Se/l)}}for(let xe=1;xe<=o;xe++)for(let _e=1;_e<=l;_e++){const Se=(l+1)*(xe-1)+(_e-1),Ne=(l+1)*xe+(_e-1),Ae=(l+1)*xe+_e,ut=(l+1)*(xe-1)+_e;v.push(Se,Ne,ut),v.push(Ne,Ae,ut)}function me(xe,_e,Se,Ne,Ae){const ut=Math.cos(xe),mt=Math.sin(xe),jt=Se/_e*xe,Dt=Math.cos(jt);Ae.x=Ne*(2+Dt)*.5*ut,Ae.y=Ne*(2+Dt)*mt*.5,Ae.z=Ne*Math.sin(jt)*.5}this.setIndex(v),this.setAttribute("position",new Nn(w,3)),this.setAttribute("normal",new Nn(S,3)),this.setAttribute("uv",new Nn(L,2))}}class ab extends ai{constructor(e,i,o,l,h,g,v){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:i,tubularSegments:o,radialSegments:l,p:h,q:g},v!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Dp(e,i,o,l,h,g)),this.mergeVertices()}}class Fp extends Xn{constructor(e,i=64,o=1,l=8,h=!1){super(),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:i,radius:o,radialSegments:l,closed:h};const g=e.computeFrenetFrames(i,h);this.tangents=g.tangents,this.normals=g.normals,this.binormals=g.binormals;const v=new ye,w=new ye,S=new Ot;let L=new ye;const T=[],I=[],F=[],j=[];function K(X){L=e.getPointAt(X/i,L);const ee=g.normals[X],me=g.binormals[X];for(let xe=0;xe<=l;xe++){const _e=xe/l*Math.PI*2,Se=Math.sin(_e),Ne=-Math.cos(_e);w.x=Ne*ee.x+Se*me.x,w.y=Ne*ee.y+Se*me.y,w.z=Ne*ee.z+Se*me.z,w.normalize(),I.push(w.x,w.y,w.z),v.x=L.x+o*w.x,v.y=L.y+o*w.y,v.z=L.z+o*w.z,T.push(v.x,v.y,v.z)}}(function(){for(let X=0;X<i;X++)K(X);K(h===!1?i:0),function(){for(let X=0;X<=i;X++)for(let ee=0;ee<=l;ee++)S.x=X/i,S.y=ee/l,F.push(S.x,S.y)}(),function(){for(let X=1;X<=i;X++)for(let ee=1;ee<=l;ee++){const me=(l+1)*(X-1)+(ee-1),xe=(l+1)*X+(ee-1),_e=(l+1)*X+ee,Se=(l+1)*(X-1)+ee;j.push(me,xe,Se),j.push(xe,_e,Se)}}()})(),this.setIndex(j),this.setAttribute("position",new Nn(T,3)),this.setAttribute("normal",new Nn(I,3)),this.setAttribute("uv",new Nn(F,2))}toJSON(){const e=Xn.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}class lb extends ai{constructor(e,i,o,l,h,g){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:i,radius:o,radialSegments:l,closed:h},g!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const v=new Fp(e,i,o,l,h);this.tangents=v.tangents,this.normals=v.normals,this.binormals=v.binormals,this.fromBufferGeometry(v),this.mergeVertices()}}class Og extends Xn{constructor(e){super(),this.type="WireframeGeometry";const i=[],o=[0,0],l={},h=["a","b","c"];if(e&&e.isGeometry){const g=e.faces;for(let v=0,w=g.length;v<w;v++){const S=g[v];for(let L=0;L<3;L++){const T=S[h[L]],I=S[h[(L+1)%3]];o[0]=Math.min(T,I),o[1]=Math.max(T,I);const F=o[0]+","+o[1];l[F]===void 0&&(l[F]={index1:o[0],index2:o[1]})}}for(const v in l){const w=l[v];let S=e.vertices[w.index1];i.push(S.x,S.y,S.z),S=e.vertices[w.index2],i.push(S.x,S.y,S.z)}}else if(e&&e.isBufferGeometry){const g=new ye;if(e.index!==null){const v=e.attributes.position,w=e.index;let S=e.groups;S.length===0&&(S=[{start:0,count:w.count,materialIndex:0}]);for(let L=0,T=S.length;L<T;++L){const I=S[L],F=I.start;for(let j=F,K=F+I.count;j<K;j+=3)for(let X=0;X<3;X++){const ee=w.getX(j+X),me=w.getX(j+(X+1)%3);o[0]=Math.min(ee,me),o[1]=Math.max(ee,me);const xe=o[0]+","+o[1];l[xe]===void 0&&(l[xe]={index1:o[0],index2:o[1]})}}for(const L in l){const T=l[L];g.fromBufferAttribute(v,T.index1),i.push(g.x,g.y,g.z),g.fromBufferAttribute(v,T.index2),i.push(g.x,g.y,g.z)}}else{const v=e.attributes.position;for(let w=0,S=v.count/3;w<S;w++)for(let L=0;L<3;L++){const T=3*w+L;g.fromBufferAttribute(v,T),i.push(g.x,g.y,g.z);const I=3*w+(L+1)%3;g.fromBufferAttribute(v,I),i.push(g.x,g.y,g.z)}}}this.setAttribute("position",new Nn(i,3))}}var Ba=Object.freeze({__proto__:null,BoxGeometry:Ei,BoxBufferGeometry:ka,CircleGeometry:fo,CircleBufferGeometry:Mo,ConeGeometry:sd,ConeBufferGeometry:Ao,CylinderGeometry:Ja,CylinderBufferGeometry:po,DodecahedronGeometry:kp,DodecahedronBufferGeometry:Ac,EdgesGeometry:mh,ExtrudeGeometry:L0,ExtrudeBufferGeometry:xh,IcosahedronGeometry:P0,IcosahedronBufferGeometry:Lg,LatheGeometry:sb,LatheBufferGeometry:Lc,OctahedronGeometry:R0,OctahedronBufferGeometry:Pc,ParametricGeometry:Np,ParametricBufferGeometry:gs,PlaneGeometry:k0,PlaneBufferGeometry:dp,PolyhedronGeometry:ob,PolyhedronBufferGeometry:yu,RingGeometry:I0,RingBufferGeometry:O0,ShapeGeometry:N0,ShapeBufferGeometry:Pg,SphereGeometry:Rg,SphereBufferGeometry:Qa,TetrahedronGeometry:Rc,TetrahedronBufferGeometry:D0,TextGeometry:bh,TextBufferGeometry:_f,TorusGeometry:kg,TorusBufferGeometry:Sf,TorusKnotGeometry:ab,TorusKnotBufferGeometry:Dp,TubeGeometry:lb,TubeBufferGeometry:Fp,WireframeGeometry:Og});function Ju(t){gn.call(this),this.type="ShadowMaterial",this.color=new zt(0),this.transparent=!0,this.setValues(t)}function Xl(t){uo.call(this,t),this.type="RawShaderMaterial"}function bu(t){gn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new zt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=he,this.normalScale=new Ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function Qu(t){bu.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ot(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=An.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function wh(t){gn.call(this),this.type="MeshPhongMaterial",this.color=new zt(16777215),this.specular=new zt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=he,this.normalScale=new Ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=pn,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function _h(t){gn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new zt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=he,this.normalScale=new Ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function kc(t){gn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=he,this.normalScale=new Ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ec(t){gn.call(this),this.type="MeshLambertMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=pn,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Oc(t){gn.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new zt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=he,this.normalScale=new Ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function tc(t){Rs.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Ju.prototype=Object.create(gn.prototype),Ju.prototype.constructor=Ju,Ju.prototype.isShadowMaterial=!0,Ju.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.color.copy(t.color),this},Xl.prototype=Object.create(uo.prototype),Xl.prototype.constructor=Xl,Xl.prototype.isRawShaderMaterial=!0,bu.prototype=Object.create(gn.prototype),bu.prototype.constructor=bu,bu.prototype.isMeshStandardMaterial=!0,bu.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},Qu.prototype=Object.create(bu.prototype),Qu.prototype.constructor=Qu,Qu.prototype.isMeshPhysicalMaterial=!0,Qu.prototype.copy=function(t){return bu.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new zt).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},wh.prototype=Object.create(gn.prototype),wh.prototype.constructor=wh,wh.prototype.isMeshPhongMaterial=!0,wh.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},_h.prototype=Object.create(gn.prototype),_h.prototype.constructor=_h,_h.prototype.isMeshToonMaterial=!0,_h.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},kc.prototype=Object.create(gn.prototype),kc.prototype.constructor=kc,kc.prototype.isMeshNormalMaterial=!0,kc.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ec.prototype=Object.create(gn.prototype),ec.prototype.constructor=ec,ec.prototype.isMeshLambertMaterial=!0,ec.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Oc.prototype=Object.create(gn.prototype),Oc.prototype.constructor=Oc,Oc.prototype.isMeshMatcapMaterial=!0,Oc.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},tc.prototype=Object.create(Rs.prototype),tc.prototype.constructor=tc,tc.prototype.isLineDashedMaterial=!0,tc.prototype.copy=function(t){return Rs.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var ub=Object.freeze({__proto__:null,ShadowMaterial:Ju,SpriteMaterial:Sc,RawShaderMaterial:Xl,ShaderMaterial:uo,PointsMaterial:ho,MeshPhysicalMaterial:Qu,MeshStandardMaterial:bu,MeshPhongMaterial:wh,MeshToonMaterial:_h,MeshNormalMaterial:kc,MeshLambertMaterial:ec,MeshDepthMaterial:vu,MeshDistanceMaterial:wc,MeshBasicMaterial:Si,MeshMatcapMaterial:Oc,LineDashedMaterial:tc,LineBasicMaterial:Rs,Material:gn});const ks={arraySlice:function(t,e,i){return ks.isTypedArray(t)?new t.constructor(t.subarray(e,i!==void 0?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,i=new Array(e);for(let o=0;o!==e;++o)i[o]=o;return i.sort(function(o,l){return t[o]-t[l]}),i},sortedArray:function(t,e,i){const o=t.length,l=new t.constructor(o);for(let h=0,g=0;g!==o;++h){const v=i[h]*e;for(let w=0;w!==e;++w)l[g++]=t[v+w]}return l},flattenJSON:function(t,e,i,o){let l=1,h=t[0];for(;h!==void 0&&h[o]===void 0;)h=t[l++];if(h===void 0)return;let g=h[o];if(g!==void 0)if(Array.isArray(g))do g=h[o],g!==void 0&&(e.push(h.time),i.push.apply(i,g)),h=t[l++];while(h!==void 0);else if(g.toArray!==void 0)do g=h[o],g!==void 0&&(e.push(h.time),g.toArray(i,i.length)),h=t[l++];while(h!==void 0);else do g=h[o],g!==void 0&&(e.push(h.time),i.push(g)),h=t[l++];while(h!==void 0)},subclip:function(t,e,i,o,l=30){const h=t.clone();h.name=e;const g=[];for(let w=0;w<h.tracks.length;++w){const S=h.tracks[w],L=S.getValueSize(),T=[],I=[];for(let F=0;F<S.times.length;++F){const j=S.times[F]*l;if(!(j<i||j>=o)){T.push(S.times[F]);for(let K=0;K<L;++K)I.push(S.values[F*L+K])}}T.length!==0&&(S.times=ks.convertArray(T,S.times.constructor),S.values=ks.convertArray(I,S.values.constructor),g.push(S))}h.tracks=g;let v=1/0;for(let w=0;w<h.tracks.length;++w)v>h.tracks[w].times[0]&&(v=h.tracks[w].times[0]);for(let w=0;w<h.tracks.length;++w)h.tracks[w].shift(-1*v);return h.resetDuration(),h},makeClipAdditive:function(t,e=0,i=t,o=30){o<=0&&(o=30);const l=i.tracks.length,h=e/o;for(let g=0;g<l;++g){const v=i.tracks[g],w=v.ValueTypeName;if(w==="bool"||w==="string")continue;const S=t.tracks.find(function(ee){return ee.name===v.name&&ee.ValueTypeName===w});if(S===void 0)continue;let L=0;const T=v.getValueSize();v.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(L=T/3);let I=0;const F=S.getValueSize();S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(I=F/3);const j=v.times.length-1;let K;if(h<=v.times[0]){const ee=L,me=T-L;K=ks.arraySlice(v.values,ee,me)}else if(h>=v.times[j]){const ee=j*T+L,me=ee+T-L;K=ks.arraySlice(v.values,ee,me)}else{const ee=v.createInterpolant(),me=L,xe=T-L;ee.evaluate(h),K=ks.arraySlice(ee.resultBuffer,me,xe)}w==="quaternion"&&new hs().fromArray(K).normalize().conjugate().toArray(K);const X=S.times.length;for(let ee=0;ee<X;++ee){const me=ee*F+I;if(w==="quaternion")hs.multiplyQuaternionsFlat(S.values,me,K,0,S.values,me);else{const xe=F-2*I;for(let _e=0;_e<xe;++_e)S.values[me+_e]-=K[_e]}}}return t.blendMode=$,t}};function ja(t,e,i,o){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=o!==void 0?o:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function Ig(t,e,i,o){ja.call(this,t,e,i,o),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Ic(t,e,i,o){ja.call(this,t,e,i,o)}function Ng(t,e,i,o){ja.call(this,t,e,i,o)}function To(t,e,i,o){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=ks.convertArray(e,this.TimeBufferType),this.values=ks.convertArray(i,this.ValueBufferType),this.setInterpolation(o||this.DefaultInterpolation)}function s(t,e,i){To.call(this,t,e,i)}function u(t,e,i,o){To.call(this,t,e,i,o)}function p(t,e,i,o){To.call(this,t,e,i,o)}function M(t,e,i,o){ja.call(this,t,e,i,o)}function z(t,e,i,o){To.call(this,t,e,i,o)}function G(t,e,i,o){To.call(this,t,e,i,o)}function oe(t,e,i,o){To.call(this,t,e,i,o)}function Me(t,e=-1,i,o=ua){this.name=t,this.tracks=i,this.duration=e,this.blendMode=o,this.uuid=An.generateUUID(),this.duration<0&&this.resetDuration()}function He(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return p;case"vector":case"vector2":case"vector3":case"vector4":return oe;case"color":return u;case"quaternion":return z;case"bool":case"boolean":return s;case"string":return G}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}(t.type);if(t.times===void 0){const i=[],o=[];ks.flattenJSON(t.keys,i,o,"value"),t.times=i,t.values=o}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(ja.prototype,{evaluate:function(t){const e=this.parameterPositions;let i=this._cachedIndex,o=e[i],l=e[i-1];e:{t:{let h;n:{r:if(!(t<o)){for(let g=i+2;;){if(o===void 0){if(t<l)break r;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,l)}if(i===g)break;if(l=o,o=e[++i],t<o)break t}h=e.length;break n}if(t>=l)break e;{const g=e[1];t<g&&(i=2,l=g);for(let v=i-2;;){if(l===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,o);if(i===v)break;if(o=l,l=e[--i-1],t>=l)break t}h=i,i=0}}for(;i<h;){const g=i+h>>>1;t<e[g]?h=g:i=g+1}if(o=e[i],l=e[i-1],l===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,o);if(o===void 0)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,l,t)}this._cachedIndex=i,this.intervalChanged_(i,l,o)}return this.interpolate_(i,l,t,o)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,i=this.sampleValues,o=this.valueSize,l=t*o;for(let h=0;h!==o;++h)e[h]=i[l+h];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(ja.prototype,{beforeStart_:ja.prototype.copySampleValue_,afterEnd_:ja.prototype.copySampleValue_}),Ig.prototype=Object.assign(Object.create(ja.prototype),{constructor:Ig,DefaultSettings_:{endingStart:Ti,endingEnd:Ti},intervalChanged_:function(t,e,i){const o=this.parameterPositions;let l=t-2,h=t+1,g=o[l],v=o[h];if(g===void 0)switch(this.getSettings_().endingStart){case so:l=t,g=2*e-i;break;case wl:l=o.length-2,g=e+o[l]-o[l+1];break;default:l=t,g=i}if(v===void 0)switch(this.getSettings_().endingEnd){case so:h=t,v=2*i-e;break;case wl:h=1,v=i+o[1]-o[0];break;default:h=t-1,v=e}const w=.5*(i-e),S=this.valueSize;this._weightPrev=w/(e-g),this._weightNext=w/(v-i),this._offsetPrev=l*S,this._offsetNext=h*S},interpolate_:function(t,e,i,o){const l=this.resultBuffer,h=this.sampleValues,g=this.valueSize,v=t*g,w=v-g,S=this._offsetPrev,L=this._offsetNext,T=this._weightPrev,I=this._weightNext,F=(i-e)/(o-e),j=F*F,K=j*F,X=-T*K+2*T*j-T*F,ee=(1+T)*K+(-1.5-2*T)*j+(-.5+T)*F+1,me=(-1-I)*K+(1.5+I)*j+.5*F,xe=I*K-I*j;for(let _e=0;_e!==g;++_e)l[_e]=X*h[S+_e]+ee*h[w+_e]+me*h[v+_e]+xe*h[L+_e];return l}}),Ic.prototype=Object.assign(Object.create(ja.prototype),{constructor:Ic,interpolate_:function(t,e,i,o){const l=this.resultBuffer,h=this.sampleValues,g=this.valueSize,v=t*g,w=v-g,S=(i-e)/(o-e),L=1-S;for(let T=0;T!==g;++T)l[T]=h[w+T]*L+h[v+T]*S;return l}}),Ng.prototype=Object.assign(Object.create(ja.prototype),{constructor:Ng,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(To,{toJSON:function(t){const e=t.constructor;let i;if(e.toJSON!==void 0)i=e.toJSON(t);else{i={name:t.name,times:ks.convertArray(t.times,Array),values:ks.convertArray(t.values,Array)};const o=t.getInterpolation();o!==t.DefaultInterpolation&&(i.interpolation=o)}return i.type=t.ValueTypeName,i}}),Object.assign(To.prototype,{constructor:To,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:io,InterpolantFactoryMethodDiscrete:function(t){return new Ng(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Ic(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Ig(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case Ss:e=this.InterpolantFactoryMethodDiscrete;break;case io:e=this.InterpolantFactoryMethodLinear;break;case La:e=this.InterpolantFactoryMethodSmooth}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ss;case this.InterpolantFactoryMethodLinear:return io;case this.InterpolantFactoryMethodSmooth:return La}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(t!==0){const e=this.times;for(let i=0,o=e.length;i!==o;++i)e[i]+=t}return this},scale:function(t){if(t!==1){const e=this.times;for(let i=0,o=e.length;i!==o;++i)e[i]*=t}return this},trim:function(t,e){const i=this.times,o=i.length;let l=0,h=o-1;for(;l!==o&&i[l]<t;)++l;for(;h!==-1&&i[h]>e;)--h;if(++h,l!==0||h!==o){l>=h&&(h=Math.max(h,1),l=h-1);const g=this.getValueSize();this.times=ks.arraySlice(i,l,h),this.values=ks.arraySlice(this.values,l*g,h*g)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,o=this.values,l=i.length;l===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let h=null;for(let g=0;g!==l;g++){const v=i[g];if(typeof v=="number"&&isNaN(v)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,g,v),t=!1;break}if(h!==null&&h>v){console.error("THREE.KeyframeTrack: Out of order keys.",this,g,v,h),t=!1;break}h=v}if(o!==void 0&&ks.isTypedArray(o))for(let g=0,v=o.length;g!==v;++g){const w=o[g];if(isNaN(w)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,g,w),t=!1;break}}return t},optimize:function(){const t=ks.arraySlice(this.times),e=ks.arraySlice(this.values),i=this.getValueSize(),o=this.getInterpolation()===La,l=t.length-1;let h=1;for(let g=1;g<l;++g){let v=!1;const w=t[g];if(w!==t[g+1]&&(g!==1||w!==w[0]))if(o)v=!0;else{const S=g*i,L=S-i,T=S+i;for(let I=0;I!==i;++I){const F=e[S+I];if(F!==e[L+I]||F!==e[T+I]){v=!0;break}}}if(v){if(g!==h){t[h]=t[g];const S=g*i,L=h*i;for(let T=0;T!==i;++T)e[L+T]=e[S+T]}++h}}if(l>0){t[h]=t[l];for(let g=l*i,v=h*i,w=0;w!==i;++w)e[v+w]=e[g+w];++h}return h!==t.length?(this.times=ks.arraySlice(t,0,h),this.values=ks.arraySlice(e,0,h*i)):(this.times=t,this.values=e),this},clone:function(){const t=ks.arraySlice(this.times,0),e=ks.arraySlice(this.values,0),i=new this.constructor(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}),s.prototype=Object.assign(Object.create(To.prototype),{constructor:s,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ss,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),u.prototype=Object.assign(Object.create(To.prototype),{constructor:u,ValueTypeName:"color"}),p.prototype=Object.assign(Object.create(To.prototype),{constructor:p,ValueTypeName:"number"}),M.prototype=Object.assign(Object.create(ja.prototype),{constructor:M,interpolate_:function(t,e,i,o){const l=this.resultBuffer,h=this.sampleValues,g=this.valueSize,v=(i-e)/(o-e);let w=t*g;for(let S=w+g;w!==S;w+=4)hs.slerpFlat(l,0,h,w-g,h,w,v);return l}}),z.prototype=Object.assign(Object.create(To.prototype),{constructor:z,ValueTypeName:"quaternion",DefaultInterpolation:io,InterpolantFactoryMethodLinear:function(t){return new M(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),G.prototype=Object.assign(Object.create(To.prototype),{constructor:G,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ss,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),oe.prototype=Object.assign(Object.create(To.prototype),{constructor:oe,ValueTypeName:"vector"}),Object.assign(Me,{parse:function(t){const e=[],i=t.tracks,o=1/(t.fps||1);for(let h=0,g=i.length;h!==g;++h)e.push(He(i[h]).scale(o));const l=new Me(t.name,t.duration,e,t.blendMode);return l.uuid=t.uuid,l},toJSON:function(t){const e=[],i=t.tracks,o={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let l=0,h=i.length;l!==h;++l)e.push(To.toJSON(i[l]));return o},CreateFromMorphTargetSequence:function(t,e,i,o){const l=e.length,h=[];for(let g=0;g<l;g++){let v=[],w=[];v.push((g+l-1)%l,g,(g+1)%l),w.push(0,1,0);const S=ks.getKeyframeOrder(v);v=ks.sortedArray(v,1,S),w=ks.sortedArray(w,1,S),o||v[0]!==0||(v.push(l),w.push(w[0])),h.push(new p(".morphTargetInfluences["+e[g].name+"]",v,w).scale(1/i))}return new Me(t,-1,h)},findByName:function(t,e){let i=t;if(!Array.isArray(t)){const o=t;i=o.geometry&&o.geometry.animations||o.animations}for(let o=0;o<i.length;o++)if(i[o].name===e)return i[o];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){const o={},l=/^([\w-]*?)([\d]+)$/;for(let g=0,v=t.length;g<v;g++){const w=t[g],S=w.name.match(l);if(S&&S.length>1){const L=S[1];let T=o[L];T||(o[L]=T=[]),T.push(w)}}const h=[];for(const g in o)h.push(Me.CreateFromMorphTargetSequence(g,o[g],e,i));return h},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(S,L,T,I,F){if(T.length!==0){const j=[],K=[];ks.flattenJSON(T,j,K,I),j.length!==0&&F.push(new S(L,j,K))}},o=[],l=t.name||"default",h=t.fps||30,g=t.blendMode;let v=t.length||-1;const w=t.hierarchy||[];for(let S=0;S<w.length;S++){const L=w[S].keys;if(L&&L.length!==0)if(L[0].morphTargets){const T={};let I;for(I=0;I<L.length;I++)if(L[I].morphTargets)for(let F=0;F<L[I].morphTargets.length;F++)T[L[I].morphTargets[F]]=-1;for(const F in T){const j=[],K=[];for(let X=0;X!==L[I].morphTargets.length;++X){const ee=L[I];j.push(ee.time),K.push(ee.morphTarget===F?1:0)}o.push(new p(".morphTargetInfluence["+F+"]",j,K))}v=T.length*h}else{const T=".bones["+e[S].name+"]";i(oe,T+".position",L,"pos",o),i(z,T+".quaternion",L,"rot",o),i(oe,T+".scale",L,"scl",o)}}return o.length===0?null:new Me(l,v,o,g)}}),Object.assign(Me.prototype,{resetDuration:function(){let t=0;for(let e=0,i=this.tracks.length;e!==i;++e){const o=this.tracks[e];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Me(this.name,this.duration,t,this.blendMode)},toJSON:function(){return Me.toJSON(this)}});const yt={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function tn(t,e,i){const o=this;let l=!1,h=0,g=0,v;const w=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(S){g++,l===!1&&o.onStart!==void 0&&o.onStart(S,h,g),l=!0},this.itemEnd=function(S){h++,o.onProgress!==void 0&&o.onProgress(S,h,g),h===g&&(l=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(S){o.onError!==void 0&&o.onError(S)},this.resolveURL=function(S){return v?v(S):S},this.setURLModifier=function(S){return v=S,this},this.addHandler=function(S,L){return w.push(S,L),this},this.removeHandler=function(S){const L=w.indexOf(S);return L!==-1&&w.splice(L,2),this},this.getHandler=function(S){for(let L=0,T=w.length;L<T;L+=2){const I=w[L],F=w[L+1];if(I.global&&(I.lastIndex=0),I.test(S))return F}return null}}const on=new tn;function kt(t){this.manager=t!==void 0?t:on,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(kt.prototype,{load:function(){},loadAsync:function(t,e){const i=this;return new Promise(function(o,l){i.load(t,o,e,l)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const Cn={};function Fn(t){kt.call(this,t)}function tr(t){kt.call(this,t)}function Xs(t){kt.call(this,t)}function ht(t){kt.call(this,t)}function qe(t){kt.call(this,t)}function pt(t){kt.call(this,t)}function cn(t){kt.call(this,t)}function Vt(){this.type="Curve",this.arcLengthDivisions=200}function nr(t,e,i,o,l,h,g,v){Vt.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=o||1,this.aStartAngle=l||0,this.aEndAngle=h||2*Math.PI,this.aClockwise=g||!1,this.aRotation=v||0}function pr(t,e,i,o,l,h){nr.call(this,t,e,i,i,o,l,h),this.type="ArcCurve"}function Rr(){let t=0,e=0,i=0,o=0;function l(h,g,v,w){t=h,e=v,i=-3*h+3*g-2*v-w,o=2*h-2*g+v+w}return{initCatmullRom:function(h,g,v,w,S){l(g,v,S*(v-h),S*(w-g))},initNonuniformCatmullRom:function(h,g,v,w,S,L,T){let I=(g-h)/S-(v-h)/(S+L)+(v-g)/L,F=(v-g)/L-(w-g)/(L+T)+(w-v)/T;I*=L,F*=L,l(g,v,I,F)},calc:function(h){const g=h*h;return t+e*h+i*g+o*(g*h)}}}Fn.prototype=Object.assign(Object.create(kt.prototype),{constructor:Fn,load:function(t,e,i,o){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const l=this,h=yt.get(t);if(h!==void 0)return l.manager.itemStart(t),setTimeout(function(){e&&e(h),l.manager.itemEnd(t)},0),h;if(Cn[t]!==void 0)return void Cn[t].push({onLoad:e,onProgress:i,onError:o});const g=t.match(/^data:(.*?)(;base64)?,(.*)$/);let v;if(g){const w=g[1],S=!!g[2];let L=g[3];L=decodeURIComponent(L),S&&(L=atob(L));try{let T;const I=(this.responseType||"").toLowerCase();switch(I){case"arraybuffer":case"blob":const F=new Uint8Array(L.length);for(let K=0;K<L.length;K++)F[K]=L.charCodeAt(K);T=I==="blob"?new Blob([F.buffer],{type:w}):F.buffer;break;case"document":T=new DOMParser().parseFromString(L,w);break;case"json":T=JSON.parse(L);break;default:T=L}setTimeout(function(){e&&e(T),l.manager.itemEnd(t)},0)}catch(T){setTimeout(function(){o&&o(T),l.manager.itemError(t),l.manager.itemEnd(t)},0)}}else{Cn[t]=[],Cn[t].push({onLoad:e,onProgress:i,onError:o}),v=new XMLHttpRequest,v.open("GET",t,!0),v.addEventListener("load",function(w){const S=this.response,L=Cn[t];if(delete Cn[t],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),yt.add(t,S);for(let T=0,I=L.length;T<I;T++){const F=L[T];F.onLoad&&F.onLoad(S)}l.manager.itemEnd(t)}else{for(let T=0,I=L.length;T<I;T++){const F=L[T];F.onError&&F.onError(w)}l.manager.itemError(t),l.manager.itemEnd(t)}},!1),v.addEventListener("progress",function(w){const S=Cn[t];for(let L=0,T=S.length;L<T;L++){const I=S[L];I.onProgress&&I.onProgress(w)}},!1),v.addEventListener("error",function(w){const S=Cn[t];delete Cn[t];for(let L=0,T=S.length;L<T;L++){const I=S[L];I.onError&&I.onError(w)}l.manager.itemError(t),l.manager.itemEnd(t)},!1),v.addEventListener("abort",function(w){const S=Cn[t];delete Cn[t];for(let L=0,T=S.length;L<T;L++){const I=S[L];I.onError&&I.onError(w)}l.manager.itemError(t),l.manager.itemEnd(t)},!1),this.responseType!==void 0&&(v.responseType=this.responseType),this.withCredentials!==void 0&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const w in this.requestHeader)v.setRequestHeader(w,this.requestHeader[w]);v.send(null)}return l.manager.itemStart(t),v},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),tr.prototype=Object.assign(Object.create(kt.prototype),{constructor:tr,load:function(t,e,i,o){const l=this,h=new Fn(l.manager);h.setPath(l.path),h.setRequestHeader(l.requestHeader),h.setWithCredentials(l.withCredentials),h.load(t,function(g){try{e(l.parse(JSON.parse(g)))}catch(v){o?o(v):console.error(v),l.manager.itemError(t)}},i,o)},parse:function(t){const e=[];for(let i=0;i<t.length;i++){const o=Me.parse(t[i]);e.push(o)}return e}}),Xs.prototype=Object.assign(Object.create(kt.prototype),{constructor:Xs,load:function(t,e,i,o){const l=this,h=[],g=new id,v=new Fn(this.manager);v.setPath(this.path),v.setResponseType("arraybuffer"),v.setRequestHeader(this.requestHeader),v.setWithCredentials(l.withCredentials);let w=0;function S(L){v.load(t[L],function(T){const I=l.parse(T,!0);h[L]={width:I.width,height:I.height,format:I.format,mipmaps:I.mipmaps},w+=1,w===6&&(I.mipmapCount===1&&(g.minFilter=br),g.image=h,g.format=I.format,g.needsUpdate=!0,e&&e(g))},i,o)}if(Array.isArray(t))for(let L=0,T=t.length;L<T;++L)S(L);else v.load(t,function(L){const T=l.parse(L,!0);if(T.isCubemap){const I=T.mipmaps.length/T.mipmapCount;for(let F=0;F<I;F++){h[F]={mipmaps:[]};for(let j=0;j<T.mipmapCount;j++)h[F].mipmaps.push(T.mipmaps[F*T.mipmapCount+j]),h[F].format=T.format,h[F].width=T.width,h[F].height=T.height}g.image=h}else g.image.width=T.width,g.image.height=T.height,g.mipmaps=T.mipmaps;T.mipmapCount===1&&(g.minFilter=br),g.format=T.format,g.needsUpdate=!0,e&&e(g)},i,o);return g}}),ht.prototype=Object.assign(Object.create(kt.prototype),{constructor:ht,load:function(t,e,i,o){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const l=this,h=yt.get(t);if(h!==void 0)return l.manager.itemStart(t),setTimeout(function(){e&&e(h),l.manager.itemEnd(t)},0),h;const g=document.createElementNS("http://www.w3.org/1999/xhtml","img");function v(){g.removeEventListener("load",v,!1),g.removeEventListener("error",w,!1),yt.add(t,this),e&&e(this),l.manager.itemEnd(t)}function w(S){g.removeEventListener("load",v,!1),g.removeEventListener("error",w,!1),o&&o(S),l.manager.itemError(t),l.manager.itemEnd(t)}return g.addEventListener("load",v,!1),g.addEventListener("error",w,!1),t.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(g.crossOrigin=this.crossOrigin),l.manager.itemStart(t),g.src=t,g}}),qe.prototype=Object.assign(Object.create(kt.prototype),{constructor:qe,load:function(t,e,i,o){const l=new Qs,h=new ht(this.manager);h.setCrossOrigin(this.crossOrigin),h.setPath(this.path);let g=0;function v(w){h.load(t[w],function(S){l.images[w]=S,g++,g===6&&(l.needsUpdate=!0,e&&e(l))},void 0,o)}for(let w=0;w<t.length;++w)v(w);return l}}),pt.prototype=Object.assign(Object.create(kt.prototype),{constructor:pt,load:function(t,e,i,o){const l=this,h=new zi,g=new Fn(this.manager);return g.setResponseType("arraybuffer"),g.setRequestHeader(this.requestHeader),g.setPath(this.path),g.setWithCredentials(l.withCredentials),g.load(t,function(v){const w=l.parse(v);w&&(w.image!==void 0?h.image=w.image:w.data!==void 0&&(h.image.width=w.width,h.image.height=w.height,h.image.data=w.data),h.wrapS=w.wrapS!==void 0?w.wrapS:Nr,h.wrapT=w.wrapT!==void 0?w.wrapT:Nr,h.magFilter=w.magFilter!==void 0?w.magFilter:br,h.minFilter=w.minFilter!==void 0?w.minFilter:br,h.anisotropy=w.anisotropy!==void 0?w.anisotropy:1,w.format!==void 0&&(h.format=w.format),w.type!==void 0&&(h.type=w.type),w.mipmaps!==void 0&&(h.mipmaps=w.mipmaps,h.minFilter=Hs),w.mipmapCount===1&&(h.minFilter=br),h.needsUpdate=!0,e&&e(h,w))},i,o),h}}),cn.prototype=Object.assign(Object.create(kt.prototype),{constructor:cn,load:function(t,e,i,o){const l=new ti,h=new ht(this.manager);return h.setCrossOrigin(this.crossOrigin),h.setPath(this.path),h.load(t,function(g){l.image=g;const v=t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0;l.format=v?bs:fi,l.needsUpdate=!0,e!==void 0&&e(l)},i,o),l}}),Object.assign(Vt.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t===void 0&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,o=this.getPoint(0),l=0;e.push(0);for(let h=1;h<=t;h++)i=this.getPoint(h/t),l+=i.distanceTo(o),e.push(l),o=i;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const i=this.getLengths();let o=0;const l=i.length;let h;h=e||t*i[l-1];let g,v=0,w=l-1;for(;v<=w;)if(o=Math.floor(v+(w-v)/2),g=i[o]-h,g<0)v=o+1;else{if(!(g>0)){w=o;break}w=o-1}if(o=w,i[o]===h)return o/(l-1);const S=i[o];return(o+(h-S)/(i[o+1]-S))/(l-1)},getTangent:function(t,e){let i=t-1e-4,o=t+1e-4;i<0&&(i=0),o>1&&(o=1);const l=this.getPoint(i),h=this.getPoint(o),g=e||(l.isVector2?new Ot:new ye);return g.copy(h).sub(l).normalize(),g},getTangentAt:function(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)},computeFrenetFrames:function(t,e){const i=new ye,o=[],l=[],h=[],g=new ye,v=new Cr;for(let I=0;I<=t;I++){const F=I/t;o[I]=this.getTangentAt(F,new ye),o[I].normalize()}l[0]=new ye,h[0]=new ye;let w=Number.MAX_VALUE;const S=Math.abs(o[0].x),L=Math.abs(o[0].y),T=Math.abs(o[0].z);S<=w&&(w=S,i.set(1,0,0)),L<=w&&(w=L,i.set(0,1,0)),T<=w&&i.set(0,0,1),g.crossVectors(o[0],i).normalize(),l[0].crossVectors(o[0],g),h[0].crossVectors(o[0],l[0]);for(let I=1;I<=t;I++){if(l[I]=l[I-1].clone(),h[I]=h[I-1].clone(),g.crossVectors(o[I-1],o[I]),g.length()>Number.EPSILON){g.normalize();const F=Math.acos(An.clamp(o[I-1].dot(o[I]),-1,1));l[I].applyMatrix4(v.makeRotationAxis(g,F))}h[I].crossVectors(o[I],l[I])}if(e===!0){let I=Math.acos(An.clamp(l[0].dot(l[t]),-1,1));I/=t,o[0].dot(g.crossVectors(l[0],l[t]))>0&&(I=-I);for(let F=1;F<=t;F++)l[F].applyMatrix4(v.makeRotationAxis(o[F],I*F)),h[F].crossVectors(o[F],l[F])}return{tangents:o,normals:l,binormals:h}},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),nr.prototype=Object.create(Vt.prototype),nr.prototype.constructor=nr,nr.prototype.isEllipseCurve=!0,nr.prototype.getPoint=function(t,e){const i=e||new Ot,o=2*Math.PI;let l=this.aEndAngle-this.aStartAngle;const h=Math.abs(l)<Number.EPSILON;for(;l<0;)l+=o;for(;l>o;)l-=o;l<Number.EPSILON&&(l=h?0:o),this.aClockwise!==!0||h||(l===o?l=-o:l-=o);const g=this.aStartAngle+t*l;let v=this.aX+this.xRadius*Math.cos(g),w=this.aY+this.yRadius*Math.sin(g);if(this.aRotation!==0){const S=Math.cos(this.aRotation),L=Math.sin(this.aRotation),T=v-this.aX,I=w-this.aY;v=T*S-I*L+this.aX,w=T*L+I*S+this.aY}return i.set(v,w)},nr.prototype.copy=function(t){return Vt.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},nr.prototype.toJSON=function(){const t=Vt.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},nr.prototype.fromJSON=function(t){return Vt.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},pr.prototype=Object.create(nr.prototype),pr.prototype.constructor=pr,pr.prototype.isArcCurve=!0;const mo=new ye,Pi=new Rr,nc=new Rr,F0=new Rr;function dl(t=[],e=!1,i="centripetal",o=.5){Vt.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=o}function ES(t,e,i,o,l){const h=.5*(o-e),g=.5*(l-i),v=t*t;return(2*i-2*o+h+g)*(t*v)+(-3*i+3*o-2*h-g)*v+h*t+i}function z0(t,e,i,o){return function(l,h){const g=1-l;return g*g*h}(t,e)+function(l,h){return 2*(1-l)*l*h}(t,i)+function(l,h){return l*l*h}(t,o)}function B0(t,e,i,o,l){return function(h,g){const v=1-h;return v*v*v*g}(t,e)+function(h,g){const v=1-h;return 3*v*v*h*g}(t,i)+function(h,g){return 3*(1-h)*h*h*g}(t,o)+function(h,g){return h*h*h*g}(t,l)}function Nc(t=new Ot,e=new Ot,i=new Ot,o=new Ot){Vt.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=o}function Sh(t=new ye,e=new ye,i=new ye,o=new ye){Vt.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=o}function $l(t=new Ot,e=new Ot){Vt.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function Dc(t=new ye,e=new ye){Vt.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function Fc(t=new Ot,e=new Ot,i=new Ot){Vt.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}function Eh(t=new ye,e=new ye,i=new ye){Vt.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}function zc(t=[]){Vt.call(this),this.type="SplineCurve",this.points=t}dl.prototype=Object.create(Vt.prototype),dl.prototype.constructor=dl,dl.prototype.isCatmullRomCurve3=!0,dl.prototype.getPoint=function(t,e=new ye){const i=e,o=this.points,l=o.length,h=(l-(this.closed?0:1))*t;let g,v,w=Math.floor(h),S=h-w;this.closed?w+=w>0?0:(Math.floor(Math.abs(w)/l)+1)*l:S===0&&w===l-1&&(w=l-2,S=1),this.closed||w>0?g=o[(w-1)%l]:(mo.subVectors(o[0],o[1]).add(o[0]),g=mo);const L=o[w%l],T=o[(w+1)%l];if(this.closed||w+2<l?v=o[(w+2)%l]:(mo.subVectors(o[l-1],o[l-2]).add(o[l-1]),v=mo),this.curveType==="centripetal"||this.curveType==="chordal"){const I=this.curveType==="chordal"?.5:.25;let F=Math.pow(g.distanceToSquared(L),I),j=Math.pow(L.distanceToSquared(T),I),K=Math.pow(T.distanceToSquared(v),I);j<1e-4&&(j=1),F<1e-4&&(F=j),K<1e-4&&(K=j),Pi.initNonuniformCatmullRom(g.x,L.x,T.x,v.x,F,j,K),nc.initNonuniformCatmullRom(g.y,L.y,T.y,v.y,F,j,K),F0.initNonuniformCatmullRom(g.z,L.z,T.z,v.z,F,j,K)}else this.curveType==="catmullrom"&&(Pi.initCatmullRom(g.x,L.x,T.x,v.x,this.tension),nc.initCatmullRom(g.y,L.y,T.y,v.y,this.tension),F0.initCatmullRom(g.z,L.z,T.z,v.z,this.tension));return i.set(Pi.calc(S),nc.calc(S),F0.calc(S)),i},dl.prototype.copy=function(t){Vt.prototype.copy.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const o=t.points[e];this.points.push(o.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},dl.prototype.toJSON=function(){const t=Vt.prototype.toJSON.call(this);t.points=[];for(let e=0,i=this.points.length;e<i;e++){const o=this.points[e];t.points.push(o.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},dl.prototype.fromJSON=function(t){Vt.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const o=t.points[e];this.points.push(new ye().fromArray(o))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Nc.prototype=Object.create(Vt.prototype),Nc.prototype.constructor=Nc,Nc.prototype.isCubicBezierCurve=!0,Nc.prototype.getPoint=function(t,e=new Ot){const i=e,o=this.v0,l=this.v1,h=this.v2,g=this.v3;return i.set(B0(t,o.x,l.x,h.x,g.x),B0(t,o.y,l.y,h.y,g.y)),i},Nc.prototype.copy=function(t){return Vt.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Nc.prototype.toJSON=function(){const t=Vt.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Nc.prototype.fromJSON=function(t){return Vt.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Sh.prototype=Object.create(Vt.prototype),Sh.prototype.constructor=Sh,Sh.prototype.isCubicBezierCurve3=!0,Sh.prototype.getPoint=function(t,e=new ye){const i=e,o=this.v0,l=this.v1,h=this.v2,g=this.v3;return i.set(B0(t,o.x,l.x,h.x,g.x),B0(t,o.y,l.y,h.y,g.y),B0(t,o.z,l.z,h.z,g.z)),i},Sh.prototype.copy=function(t){return Vt.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Sh.prototype.toJSON=function(){const t=Vt.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Sh.prototype.fromJSON=function(t){return Vt.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},$l.prototype=Object.create(Vt.prototype),$l.prototype.constructor=$l,$l.prototype.isLineCurve=!0,$l.prototype.getPoint=function(t,e=new Ot){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},$l.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},$l.prototype.getTangent=function(t,e){const i=e||new Ot;return i.copy(this.v2).sub(this.v1).normalize(),i},$l.prototype.copy=function(t){return Vt.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},$l.prototype.toJSON=function(){const t=Vt.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},$l.prototype.fromJSON=function(t){return Vt.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Dc.prototype=Object.create(Vt.prototype),Dc.prototype.constructor=Dc,Dc.prototype.isLineCurve3=!0,Dc.prototype.getPoint=function(t,e=new ye){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},Dc.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Dc.prototype.copy=function(t){return Vt.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Dc.prototype.toJSON=function(){const t=Vt.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Dc.prototype.fromJSON=function(t){return Vt.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Fc.prototype=Object.create(Vt.prototype),Fc.prototype.constructor=Fc,Fc.prototype.isQuadraticBezierCurve=!0,Fc.prototype.getPoint=function(t,e=new Ot){const i=e,o=this.v0,l=this.v1,h=this.v2;return i.set(z0(t,o.x,l.x,h.x),z0(t,o.y,l.y,h.y)),i},Fc.prototype.copy=function(t){return Vt.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Fc.prototype.toJSON=function(){const t=Vt.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Fc.prototype.fromJSON=function(t){return Vt.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Eh.prototype=Object.create(Vt.prototype),Eh.prototype.constructor=Eh,Eh.prototype.isQuadraticBezierCurve3=!0,Eh.prototype.getPoint=function(t,e=new ye){const i=e,o=this.v0,l=this.v1,h=this.v2;return i.set(z0(t,o.x,l.x,h.x),z0(t,o.y,l.y,h.y),z0(t,o.z,l.z,h.z)),i},Eh.prototype.copy=function(t){return Vt.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Eh.prototype.toJSON=function(){const t=Vt.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Eh.prototype.fromJSON=function(t){return Vt.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},zc.prototype=Object.create(Vt.prototype),zc.prototype.constructor=zc,zc.prototype.isSplineCurve=!0,zc.prototype.getPoint=function(t,e=new Ot){const i=e,o=this.points,l=(o.length-1)*t,h=Math.floor(l),g=l-h,v=o[h===0?h:h-1],w=o[h],S=o[h>o.length-2?o.length-1:h+1],L=o[h>o.length-3?o.length-1:h+2];return i.set(ES(g,v.x,w.x,S.x,L.x),ES(g,v.y,w.y,S.y,L.y)),i},zc.prototype.copy=function(t){Vt.prototype.copy.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const o=t.points[e];this.points.push(o.clone())}return this},zc.prototype.toJSON=function(){const t=Vt.prototype.toJSON.call(this);t.points=[];for(let e=0,i=this.points.length;e<i;e++){const o=this.points[e];t.points.push(o.toArray())}return t},zc.prototype.fromJSON=function(t){Vt.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const o=t.points[e];this.points.push(new Ot().fromArray(o))}return this};var iw=Object.freeze({__proto__:null,ArcCurve:pr,CatmullRomCurve3:dl,CubicBezierCurve:Nc,CubicBezierCurve3:Sh,EllipseCurve:nr,LineCurve:$l,LineCurve3:Dc,QuadraticBezierCurve:Fc,QuadraticBezierCurve3:Eh,SplineCurve:zc});function ad(){Vt.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Bc(t){ad.call(this),this.type="Path",this.currentPoint=new Ot,t&&this.setFromPoints(t)}function Ef(t){Bc.call(this,t),this.uuid=An.generateUUID(),this.type="Shape",this.holes=[]}function Bs(t,e=1){N.call(this),this.type="Light",this.color=new zt(t),this.intensity=e}function cb(t,e,i){Bs.call(this,t,i),this.type="HemisphereLight",this.position.copy(N.DefaultUp),this.updateMatrix(),this.groundColor=new zt(e)}function ld(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Ot(512,512),this.map=null,this.mapPass=null,this.matrix=new Cr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Yd,this._frameExtents=new Ot(1,1),this._viewportCount=1,this._viewports=[new Ii(0,0,1,1)]}function sw(){ld.call(this,new Js(50,1,.5,500)),this.focus=1}function hb(t,e,i,o,l,h){Bs.call(this,t,e),this.type="SpotLight",this.position.copy(N.DefaultUp),this.updateMatrix(),this.target=new N,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(g){this.intensity=g/Math.PI}}),this.distance=i!==void 0?i:0,this.angle=o!==void 0?o:Math.PI/3,this.penumbra=l!==void 0?l:0,this.decay=h!==void 0?h:1,this.shadow=new sw}function ow(){ld.call(this,new Js(90,1,.5,500)),this._frameExtents=new Ot(4,2),this._viewportCount=6,this._viewports=[new Ii(2,1,1,1),new Ii(0,1,1,1),new Ii(3,1,1,1),new Ii(1,1,1,1),new Ii(3,0,1,1),new Ii(1,0,1,1)],this._cubeDirections=[new ye(1,0,0),new ye(-1,0,0),new ye(0,0,1),new ye(0,0,-1),new ye(0,1,0),new ye(0,-1,0)],this._cubeUps=[new ye(0,1,0),new ye(0,1,0),new ye(0,1,0),new ye(0,1,0),new ye(0,0,1),new ye(0,0,-1)]}function db(t,e,i,o){Bs.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(l){this.intensity=l/(4*Math.PI)}}),this.distance=i!==void 0?i:0,this.decay=o!==void 0?o:1,this.shadow=new ow}function Dg(t=-1,e=1,i=1,o=-1,l=.1,h=2e3){mu.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=o,this.near=l,this.far=h,this.updateProjectionMatrix()}function aw(){ld.call(this,new Dg(-5,5,5,-5,.5,500))}function fb(t,e){Bs.call(this,t,e),this.type="DirectionalLight",this.position.copy(N.DefaultUp),this.updateMatrix(),this.target=new N,this.shadow=new aw}function pb(t,e){Bs.call(this,t,e),this.type="AmbientLight"}function mb(t,e,i,o){Bs.call(this,t,e),this.type="RectAreaLight",this.width=i!==void 0?i:10,this.height=o!==void 0?o:10}ad.prototype=Object.assign(Object.create(Vt.prototype),{constructor:ad,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new $l(e,t))},getPoint:function(t){const e=t*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=e){const l=i[o]-e,h=this.curves[o],g=h.getLength(),v=g===0?0:1-l/g;return h.getPointAt(v)}o++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,o=this.curves.length;i<o;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t=12){const e=[];let i;for(let o=0,l=this.curves;o<l.length;o++){const h=l[o],g=h&&h.isEllipseCurve?2*t:h&&(h.isLineCurve||h.isLineCurve3)?1:h&&h.isSplineCurve?t*h.points.length:t,v=h.getPoints(g);for(let w=0;w<v.length;w++){const S=v[w];i&&i.equals(S)||(e.push(S),i=S)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){Vt.prototype.copy.call(this,t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const o=t.curves[e];this.curves.push(o.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){const t=Vt.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const o=this.curves[e];t.curves.push(o.toJSON())}return t},fromJSON:function(t){Vt.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const o=t.curves[e];this.curves.push(new iw[o.type]().fromJSON(o))}return this}}),Bc.prototype=Object.assign(Object.create(ad.prototype),{constructor:Bc,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const i=new $l(this.currentPoint.clone(),new Ot(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,i,o){const l=new Fc(this.currentPoint.clone(),new Ot(t,e),new Ot(i,o));return this.curves.push(l),this.currentPoint.set(i,o),this},bezierCurveTo:function(t,e,i,o,l,h){const g=new Nc(this.currentPoint.clone(),new Ot(t,e),new Ot(i,o),new Ot(l,h));return this.curves.push(g),this.currentPoint.set(l,h),this},splineThru:function(t){const e=new zc([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,i,o,l,h){const g=this.currentPoint.x,v=this.currentPoint.y;return this.absarc(t+g,e+v,i,o,l,h),this},absarc:function(t,e,i,o,l,h){return this.absellipse(t,e,i,i,o,l,h),this},ellipse:function(t,e,i,o,l,h,g,v){const w=this.currentPoint.x,S=this.currentPoint.y;return this.absellipse(t+w,e+S,i,o,l,h,g,v),this},absellipse:function(t,e,i,o,l,h,g,v){const w=new nr(t,e,i,o,l,h,g,v);if(this.curves.length>0){const L=w.getPoint(0);L.equals(this.currentPoint)||this.lineTo(L.x,L.y)}this.curves.push(w);const S=w.getPoint(1);return this.currentPoint.copy(S),this},copy:function(t){return ad.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=ad.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return ad.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Ef.prototype=Object.assign(Object.create(Bc.prototype),{constructor:Ef,getPointsHoles:function(t){const e=[];for(let i=0,o=this.holes.length;i<o;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Bc.prototype.copy.call(this,t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const o=t.holes[e];this.holes.push(o.clone())}return this},toJSON:function(){const t=Bc.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const o=this.holes[e];t.holes.push(o.toJSON())}return t},fromJSON:function(t){Bc.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const o=t.holes[e];this.holes.push(new Bc().fromJSON(o))}return this}}),Bs.prototype=Object.assign(Object.create(N.prototype),{constructor:Bs,isLight:!0,copy:function(t){return N.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=N.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}}),cb.prototype=Object.assign(Object.create(Bs.prototype),{constructor:cb,isHemisphereLight:!0,copy:function(t){return Bs.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(ld.prototype,{_projScreenMatrix:new Cr,_lightPositionWorld:new ye,_lookTarget:new ye,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,i=this.matrix,o=this._projScreenMatrix,l=this._lookTarget,h=this._lightPositionWorld;h.setFromMatrixPosition(t.matrixWorld),e.position.copy(h),l.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(l),e.updateMatrixWorld(),o.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(e.projectionMatrix),i.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),this.mapSize.x===512&&this.mapSize.y===512||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),sw.prototype=Object.assign(Object.create(ld.prototype),{constructor:sw,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,i=2*An.RAD2DEG*t.angle*this.focus,o=this.mapSize.width/this.mapSize.height,l=t.distance||e.far;i===e.fov&&o===e.aspect&&l===e.far||(e.fov=i,e.aspect=o,e.far=l,e.updateProjectionMatrix()),ld.prototype.updateMatrices.call(this,t)}}),hb.prototype=Object.assign(Object.create(Bs.prototype),{constructor:hb,isSpotLight:!0,copy:function(t){return Bs.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),ow.prototype=Object.assign(Object.create(ld.prototype),{constructor:ow,isPointLightShadow:!0,updateMatrices:function(t,e=0){const i=this.camera,o=this.matrix,l=this._lightPositionWorld,h=this._lookTarget,g=this._projScreenMatrix;l.setFromMatrixPosition(t.matrixWorld),i.position.copy(l),h.copy(i.position),h.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(h),i.updateMatrixWorld(),o.makeTranslation(-l.x,-l.y,-l.z),g.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(g)}}),db.prototype=Object.assign(Object.create(Bs.prototype),{constructor:db,isPointLight:!0,copy:function(t){return Bs.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Dg.prototype=Object.assign(Object.create(mu.prototype),{constructor:Dg,isOrthographicCamera:!0,copy:function(t,e){return mu.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this},setViewOffset:function(t,e,i,o,l,h){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=o,this.view.width=l,this.view.height=h,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let l=i-t,h=i+t,g=o+e,v=o-e;if(this.view!==null&&this.view.enabled){const w=(this.right-this.left)/this.view.fullWidth/this.zoom,S=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=w*this.view.offsetX,h=l+w*this.view.width,g-=S*this.view.offsetY,v=g-S*this.view.height}this.projectionMatrix.makeOrthographic(l,h,g,v,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=N.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}),aw.prototype=Object.assign(Object.create(ld.prototype),{constructor:aw,isDirectionalLightShadow:!0,updateMatrices:function(t){ld.prototype.updateMatrices.call(this,t)}}),fb.prototype=Object.assign(Object.create(Bs.prototype),{constructor:fb,isDirectionalLight:!0,copy:function(t){return Bs.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),pb.prototype=Object.assign(Object.create(Bs.prototype),{constructor:pb,isAmbientLight:!0}),mb.prototype=Object.assign(Object.create(Bs.prototype),{constructor:mb,isRectAreaLight:!0,copy:function(t){return Bs.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=Bs.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});class MS{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ye)}set(e){for(let i=0;i<9;i++)this.coefficients[i].copy(e[i]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,i){const o=e.x,l=e.y,h=e.z,g=this.coefficients;return i.copy(g[0]).multiplyScalar(.282095),i.addScaledVector(g[1],.488603*l),i.addScaledVector(g[2],.488603*h),i.addScaledVector(g[3],.488603*o),i.addScaledVector(g[4],o*l*1.092548),i.addScaledVector(g[5],l*h*1.092548),i.addScaledVector(g[6],.315392*(3*h*h-1)),i.addScaledVector(g[7],o*h*1.092548),i.addScaledVector(g[8],.546274*(o*o-l*l)),i}getIrradianceAt(e,i){const o=e.x,l=e.y,h=e.z,g=this.coefficients;return i.copy(g[0]).multiplyScalar(.886227),i.addScaledVector(g[1],1.023328*l),i.addScaledVector(g[2],1.023328*h),i.addScaledVector(g[3],1.023328*o),i.addScaledVector(g[4],.858086*o*l),i.addScaledVector(g[5],.858086*l*h),i.addScaledVector(g[6],.743125*h*h-.247708),i.addScaledVector(g[7],.858086*o*h),i.addScaledVector(g[8],.429043*(o*o-l*l)),i}add(e){for(let i=0;i<9;i++)this.coefficients[i].add(e.coefficients[i]);return this}addScaledSH(e,i){for(let o=0;o<9;o++)this.coefficients[o].addScaledVector(e.coefficients[o],i);return this}scale(e){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(e);return this}lerp(e,i){for(let o=0;o<9;o++)this.coefficients[o].lerp(e.coefficients[o],i);return this}equals(e){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(e.coefficients[i]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,i=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].fromArray(e,i+3*l);return this}toArray(e=[],i=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].toArray(e,i+3*l);return e}static getBasisAt(e,i){const o=e.x,l=e.y,h=e.z;i[0]=.282095,i[1]=.488603*l,i[2]=.488603*h,i[3]=.488603*o,i[4]=1.092548*o*l,i[5]=1.092548*l*h,i[6]=.315392*(3*h*h-1),i[7]=1.092548*o*h,i[8]=.546274*(o*o-l*l)}}function rc(t,e){Bs.call(this,void 0,e),this.type="LightProbe",this.sh=t!==void 0?t:new MS}function gb(t){kt.call(this,t),this.textures={}}rc.prototype=Object.assign(Object.create(Bs.prototype),{constructor:rc,isLightProbe:!0,copy:function(t){return Bs.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=Bs.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),gb.prototype=Object.assign(Object.create(kt.prototype),{constructor:gb,load:function(t,e,i,o){const l=this,h=new Fn(l.manager);h.setPath(l.path),h.setRequestHeader(l.requestHeader),h.setWithCredentials(l.withCredentials),h.load(t,function(g){try{e(l.parse(JSON.parse(g)))}catch(v){o?o(v):console.error(v),l.manager.itemError(t)}},i,o)},parse:function(t){const e=this.textures;function i(l){return e[l]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",l),e[l]}const o=new ub[t.type];if(t.uuid!==void 0&&(o.uuid=t.uuid),t.name!==void 0&&(o.name=t.name),t.color!==void 0&&o.color!==void 0&&o.color.setHex(t.color),t.roughness!==void 0&&(o.roughness=t.roughness),t.metalness!==void 0&&(o.metalness=t.metalness),t.sheen!==void 0&&(o.sheen=new zt().setHex(t.sheen)),t.emissive!==void 0&&o.emissive!==void 0&&o.emissive.setHex(t.emissive),t.specular!==void 0&&o.specular!==void 0&&o.specular.setHex(t.specular),t.shininess!==void 0&&(o.shininess=t.shininess),t.clearcoat!==void 0&&(o.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=t.clearcoatRoughness),t.fog!==void 0&&(o.fog=t.fog),t.flatShading!==void 0&&(o.flatShading=t.flatShading),t.blending!==void 0&&(o.blending=t.blending),t.combine!==void 0&&(o.combine=t.combine),t.side!==void 0&&(o.side=t.side),t.opacity!==void 0&&(o.opacity=t.opacity),t.transparent!==void 0&&(o.transparent=t.transparent),t.alphaTest!==void 0&&(o.alphaTest=t.alphaTest),t.depthTest!==void 0&&(o.depthTest=t.depthTest),t.depthWrite!==void 0&&(o.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(o.colorWrite=t.colorWrite),t.stencilWrite!==void 0&&(o.stencilWrite=t.stencilWrite),t.stencilWriteMask!==void 0&&(o.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(o.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(o.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(o.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(o.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(o.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(o.stencilZPass=t.stencilZPass),t.wireframe!==void 0&&(o.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(o.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(o.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(o.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(o.rotation=t.rotation),t.linewidth!==1&&(o.linewidth=t.linewidth),t.dashSize!==void 0&&(o.dashSize=t.dashSize),t.gapSize!==void 0&&(o.gapSize=t.gapSize),t.scale!==void 0&&(o.scale=t.scale),t.polygonOffset!==void 0&&(o.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(o.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(o.polygonOffsetUnits=t.polygonOffsetUnits),t.skinning!==void 0&&(o.skinning=t.skinning),t.morphTargets!==void 0&&(o.morphTargets=t.morphTargets),t.morphNormals!==void 0&&(o.morphNormals=t.morphNormals),t.dithering!==void 0&&(o.dithering=t.dithering),t.vertexTangents!==void 0&&(o.vertexTangents=t.vertexTangents),t.visible!==void 0&&(o.visible=t.visible),t.toneMapped!==void 0&&(o.toneMapped=t.toneMapped),t.userData!==void 0&&(o.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?o.vertexColors=t.vertexColors>0:o.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const l in t.uniforms){const h=t.uniforms[l];switch(o.uniforms[l]={},h.type){case"t":o.uniforms[l].value=i(h.value);break;case"c":o.uniforms[l].value=new zt().setHex(h.value);break;case"v2":o.uniforms[l].value=new Ot().fromArray(h.value);break;case"v3":o.uniforms[l].value=new ye().fromArray(h.value);break;case"v4":o.uniforms[l].value=new Ii().fromArray(h.value);break;case"m3":o.uniforms[l].value=new Ui().fromArray(h.value);break;case"m4":o.uniforms[l].value=new Cr().fromArray(h.value);break;default:o.uniforms[l].value=h.value}}if(t.defines!==void 0&&(o.defines=t.defines),t.vertexShader!==void 0&&(o.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(o.fragmentShader=t.fragmentShader),t.extensions!==void 0)for(const l in t.extensions)o.extensions[l]=t.extensions[l];if(t.shading!==void 0&&(o.flatShading=t.shading===1),t.size!==void 0&&(o.size=t.size),t.sizeAttenuation!==void 0&&(o.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(o.map=i(t.map)),t.matcap!==void 0&&(o.matcap=i(t.matcap)),t.alphaMap!==void 0&&(o.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(o.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(o.bumpScale=t.bumpScale),t.normalMap!==void 0&&(o.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(o.normalMapType=t.normalMapType),t.normalScale!==void 0){let l=t.normalScale;Array.isArray(l)===!1&&(l=[l,l]),o.normalScale=new Ot().fromArray(l)}return t.displacementMap!==void 0&&(o.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(o.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(o.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(o.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(o.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(o.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(o.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(o.specularMap=i(t.specularMap)),t.envMap!==void 0&&(o.envMap=i(t.envMap)),t.envMapIntensity!==void 0&&(o.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(o.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(o.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(o.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(o.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(o.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(o.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(o.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(o.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(o.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(o.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(o.clearcoatNormalScale=new Ot().fromArray(t.clearcoatNormalScale)),t.transmission!==void 0&&(o.transmission=t.transmission),t.transmissionMap!==void 0&&(o.transmissionMap=i(t.transmissionMap)),o},setTextures:function(t){return this.textures=t,this}});const lw={decodeText:function(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let i=0,o=t.length;i<o;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}},extractUrlBase:function(t){const e=t.lastIndexOf("/");return e===-1?"./":t.substr(0,e+1)}};function j0(){Xn.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function vb(t,e,i,o){typeof i=="number"&&(o=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),qn.call(this,t,e,i),this.meshPerAttribute=o||1}function yb(t){kt.call(this,t)}j0.prototype=Object.assign(Object.create(Xn.prototype),{constructor:j0,isInstancedBufferGeometry:!0,copy:function(t){return Xn.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const t=Xn.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),vb.prototype=Object.assign(Object.create(qn.prototype),{constructor:vb,isInstancedBufferAttribute:!0,copy:function(t){return qn.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=qn.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),yb.prototype=Object.assign(Object.create(kt.prototype),{constructor:yb,load:function(t,e,i,o){const l=this,h=new Fn(l.manager);h.setPath(l.path),h.setRequestHeader(l.requestHeader),h.setWithCredentials(l.withCredentials),h.load(t,function(g){try{e(l.parse(JSON.parse(g)))}catch(v){o?o(v):console.error(v),l.manager.itemError(t)}},i,o)},parse:function(t){const e={},i={};function o(L,T){if(e[T]!==void 0)return e[T];const I=L.interleavedBuffers[T],F=function(K,X){if(i[X]!==void 0)return i[X];const ee=K.arrayBuffers[X],me=new Uint32Array(ee).buffer;return i[X]=me,me}(L,I.buffer),j=new ms(ju(I.type,F),I.stride);return j.uuid=I.uuid,e[T]=j,j}const l=t.isInstancedBufferGeometry?new j0:new Xn,h=t.data.index;if(h!==void 0){const L=ju(h.type,h.array);l.setIndex(new qn(L,1))}const g=t.data.attributes;for(const L in g){const T=g[L];let I;if(T.isInterleavedBufferAttribute)I=new _c(o(t.data,T.data),T.itemSize,T.offset,T.normalized);else{const F=ju(T.type,T.array);I=new(T.isInstancedBufferAttribute?vb:qn)(F,T.itemSize,T.normalized)}T.name!==void 0&&(I.name=T.name),l.setAttribute(L,I)}const v=t.data.morphAttributes;if(v)for(const L in v){const T=v[L],I=[];for(let F=0,j=T.length;F<j;F++){const K=T[F];let X;K.isInterleavedBufferAttribute?X=new _c(o(t.data,K.data),K.itemSize,K.offset,K.normalized):X=new qn(ju(K.type,K.array),K.itemSize,K.normalized),K.name!==void 0&&(X.name=K.name),I.push(X)}l.morphAttributes[L]=I}t.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const w=t.data.groups||t.data.drawcalls||t.data.offsets;if(w!==void 0)for(let L=0,T=w.length;L!==T;++L){const I=w[L];l.addGroup(I.start,I.count,I.materialIndex)}const S=t.data.boundingSphere;if(S!==void 0){const L=new ye;S.center!==void 0&&L.fromArray(S.center),l.boundingSphere=new da(L,S.radius)}return t.name&&(l.name=t.name),t.userData&&(l.userData=t.userData),l}});class uT extends kt{constructor(e){super(e)}load(e,i,o,l){const h=this,g=this.path===""?lw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||g;const v=new Fn(this.manager);v.setPath(this.path),v.setRequestHeader(this.requestHeader),v.setWithCredentials(this.withCredentials),v.load(e,function(w){let S=null;try{S=JSON.parse(w)}catch(T){return l!==void 0&&l(T),void console.error("THREE:ObjectLoader: Can't parse "+e+".",T.message)}const L=S.metadata;L!==void 0&&L.type!==void 0&&L.type.toLowerCase()!=="geometry"?h.parse(S,i):console.error("THREE.ObjectLoader: Can't load "+e)},o,l)}parse(e,i){const o=this.parseAnimations(e.animations),l=this.parseShapes(e.shapes),h=this.parseGeometries(e.geometries,l),g=this.parseImages(e.images,function(){i!==void 0&&i(S)}),v=this.parseTextures(e.textures,g),w=this.parseMaterials(e.materials,v),S=this.parseObject(e.object,h,w,o),L=this.parseSkeletons(e.skeletons,S);if(this.bindSkeletons(S,L),i!==void 0){let T=!1;for(const I in g)if(g[I]instanceof HTMLImageElement){T=!0;break}T===!1&&i(S)}return S}parseShapes(e){const i={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const h=new Ef().fromJSON(e[o]);i[h.uuid]=h}return i}parseSkeletons(e,i){const o={},l={};if(i.traverse(function(h){h.isBone&&(l[h.uuid]=h)}),e!==void 0)for(let h=0,g=e.length;h<g;h++){const v=new fh().fromJSON(e[h],l);o[v.uuid]=v}return o}parseGeometries(e,i){const o={};let l;if(e!==void 0){const h=new yb;for(let g=0,v=e.length;g<v;g++){let w;const S=e[g];switch(S.type){case"PlaneGeometry":case"PlaneBufferGeometry":w=new Ba[S.type](S.width,S.height,S.widthSegments,S.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":w=new Ba[S.type](S.width,S.height,S.depth,S.widthSegments,S.heightSegments,S.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":w=new Ba[S.type](S.radius,S.segments,S.thetaStart,S.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":w=new Ba[S.type](S.radiusTop,S.radiusBottom,S.height,S.radialSegments,S.heightSegments,S.openEnded,S.thetaStart,S.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":w=new Ba[S.type](S.radius,S.height,S.radialSegments,S.heightSegments,S.openEnded,S.thetaStart,S.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":w=new Ba[S.type](S.radius,S.widthSegments,S.heightSegments,S.phiStart,S.phiLength,S.thetaStart,S.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":w=new Ba[S.type](S.radius,S.detail);break;case"RingGeometry":case"RingBufferGeometry":w=new Ba[S.type](S.innerRadius,S.outerRadius,S.thetaSegments,S.phiSegments,S.thetaStart,S.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":w=new Ba[S.type](S.radius,S.tube,S.radialSegments,S.tubularSegments,S.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":w=new Ba[S.type](S.radius,S.tube,S.tubularSegments,S.radialSegments,S.p,S.q);break;case"TubeGeometry":case"TubeBufferGeometry":w=new Ba[S.type](new iw[S.path.type]().fromJSON(S.path),S.tubularSegments,S.radius,S.radialSegments,S.closed);break;case"LatheGeometry":case"LatheBufferGeometry":w=new Ba[S.type](S.points,S.segments,S.phiStart,S.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":w=new Ba[S.type](S.vertices,S.indices,S.radius,S.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":l=[];for(let T=0,I=S.shapes.length;T<I;T++){const F=i[S.shapes[T]];l.push(F)}w=new Ba[S.type](l,S.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":l=[];for(let T=0,I=S.shapes.length;T<I;T++){const F=i[S.shapes[T]];l.push(F)}const L=S.options.extrudePath;L!==void 0&&(S.options.extrudePath=new iw[L.type]().fromJSON(L)),w=new Ba[S.type](l,S.options);break;case"BufferGeometry":case"InstancedBufferGeometry":w=h.parse(S);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+S.type+'"');continue}w.uuid=S.uuid,S.name!==void 0&&(w.name=S.name),w.isBufferGeometry===!0&&S.userData!==void 0&&(w.userData=S.userData),o[S.uuid]=w}}return o}parseMaterials(e,i){const o={},l={};if(e!==void 0){const h=new gb;h.setTextures(i);for(let g=0,v=e.length;g<v;g++){const w=e[g];if(w.type==="MultiMaterial"){const S=[];for(let L=0;L<w.materials.length;L++){const T=w.materials[L];o[T.uuid]===void 0&&(o[T.uuid]=h.parse(T)),S.push(o[T.uuid])}l[w.uuid]=S}else o[w.uuid]===void 0&&(o[w.uuid]=h.parse(w)),l[w.uuid]=o[w.uuid]}}return l}parseAnimations(e){const i={};if(e!==void 0)for(let o=0;o<e.length;o++){const l=e[o],h=Me.parse(l);i[h.uuid]=h}return i}parseImages(e,i){const o=this,l={};let h;function g(v){if(typeof v=="string"){const w=v;return function(S){return o.manager.itemStart(S),h.load(S,function(){o.manager.itemEnd(S)},void 0,function(){o.manager.itemError(S),o.manager.itemEnd(S)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(w)?w:o.resourcePath+w)}return v.data?{data:ju(v.type,v.data),width:v.width,height:v.height}:null}if(e!==void 0&&e.length>0){const v=new tn(i);h=new ht(v),h.setCrossOrigin(this.crossOrigin);for(let w=0,S=e.length;w<S;w++){const L=e[w],T=L.url;if(Array.isArray(T)){l[L.uuid]=[];for(let I=0,F=T.length;I<F;I++){const j=g(T[I]);j!==null&&(j instanceof HTMLImageElement?l[L.uuid].push(j):l[L.uuid].push(new zi(j.data,j.width,j.height)))}}else{const I=g(L.url);I!==null&&(l[L.uuid]=I)}}}return l}parseTextures(e,i){function o(h,g){return typeof h=="number"?h:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",h),g[h])}const l={};if(e!==void 0)for(let h=0,g=e.length;h<g;h++){const v=e[h];let w;v.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',v.uuid),i[v.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",v.image);const S=i[v.image];Array.isArray(S)?(w=new Qs(S),S.length===6&&(w.needsUpdate=!0)):(w=S&&S.data?new zi(S.data,S.width,S.height):new ti(S),S&&(w.needsUpdate=!0)),w.uuid=v.uuid,v.name!==void 0&&(w.name=v.name),v.mapping!==void 0&&(w.mapping=o(v.mapping,cT)),v.offset!==void 0&&w.offset.fromArray(v.offset),v.repeat!==void 0&&w.repeat.fromArray(v.repeat),v.center!==void 0&&w.center.fromArray(v.center),v.rotation!==void 0&&(w.rotation=v.rotation),v.wrap!==void 0&&(w.wrapS=o(v.wrap[0],AS),w.wrapT=o(v.wrap[1],AS)),v.format!==void 0&&(w.format=v.format),v.type!==void 0&&(w.type=v.type),v.encoding!==void 0&&(w.encoding=v.encoding),v.minFilter!==void 0&&(w.minFilter=o(v.minFilter,TS)),v.magFilter!==void 0&&(w.magFilter=o(v.magFilter,TS)),v.anisotropy!==void 0&&(w.anisotropy=v.anisotropy),v.flipY!==void 0&&(w.flipY=v.flipY),v.premultiplyAlpha!==void 0&&(w.premultiplyAlpha=v.premultiplyAlpha),v.unpackAlignment!==void 0&&(w.unpackAlignment=v.unpackAlignment),l[v.uuid]=w}return l}parseObject(e,i,o,l){let h,g,v;function w(L){return i[L]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",L),i[L]}function S(L){if(L!==void 0){if(Array.isArray(L)){const T=[];for(let I=0,F=L.length;I<F;I++){const j=L[I];o[j]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",j),T.push(o[j])}return T}return o[L]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",L),o[L]}}switch(e.type){case"Scene":h=new Da,e.background!==void 0&&Number.isInteger(e.background)&&(h.background=new zt(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?h.fog=new vg(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(h.fog=new Ep(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":h=new Js(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(h.focus=e.focus),e.zoom!==void 0&&(h.zoom=e.zoom),e.filmGauge!==void 0&&(h.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(h.filmOffset=e.filmOffset),e.view!==void 0&&(h.view=Object.assign({},e.view));break;case"OrthographicCamera":h=new Dg(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(h.zoom=e.zoom),e.view!==void 0&&(h.view=Object.assign({},e.view));break;case"AmbientLight":h=new pb(e.color,e.intensity);break;case"DirectionalLight":h=new fb(e.color,e.intensity);break;case"PointLight":h=new db(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":h=new mb(e.color,e.intensity,e.width,e.height);break;case"SpotLight":h=new hb(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":h=new cb(e.color,e.groundColor,e.intensity);break;case"LightProbe":h=new rc().fromJSON(e);break;case"SkinnedMesh":g=w(e.geometry),v=S(e.material),h=new Ec(g,v),e.bindMode!==void 0&&(h.bindMode=e.bindMode),e.bindMatrix!==void 0&&h.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(h.skeleton=e.skeleton);break;case"Mesh":g=w(e.geometry),v=S(e.material),h=new is(g,v);break;case"InstancedMesh":g=w(e.geometry),v=S(e.material);const L=e.count,T=e.instanceMatrix;h=new cf(g,v,L),h.instanceMatrix=new qn(new Float32Array(T.array),16);break;case"LOD":h=new Cl;break;case"Line":h=new Ll(w(e.geometry),S(e.material));break;case"LineLoop":h=new Eo(w(e.geometry),S(e.material));break;case"LineSegments":h=new ga(w(e.geometry),S(e.material));break;case"PointCloud":case"Points":h=new rd(w(e.geometry),S(e.material));break;case"Sprite":h=new lf(S(e.material));break;case"Group":h=new Xu;break;case"Bone":h=new So;break;default:h=new N}if(h.uuid=e.uuid,e.name!==void 0&&(h.name=e.name),e.matrix!==void 0?(h.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(h.matrixAutoUpdate=e.matrixAutoUpdate),h.matrixAutoUpdate&&h.matrix.decompose(h.position,h.quaternion,h.scale)):(e.position!==void 0&&h.position.fromArray(e.position),e.rotation!==void 0&&h.rotation.fromArray(e.rotation),e.quaternion!==void 0&&h.quaternion.fromArray(e.quaternion),e.scale!==void 0&&h.scale.fromArray(e.scale)),e.castShadow!==void 0&&(h.castShadow=e.castShadow),e.receiveShadow!==void 0&&(h.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(h.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(h.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(h.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&h.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(h.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(h.visible=e.visible),e.frustumCulled!==void 0&&(h.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(h.renderOrder=e.renderOrder),e.userData!==void 0&&(h.userData=e.userData),e.layers!==void 0&&(h.layers.mask=e.layers),e.children!==void 0){const L=e.children;for(let T=0;T<L.length;T++)h.add(this.parseObject(L[T],i,o,l))}if(e.animations!==void 0){const L=e.animations;for(let T=0;T<L.length;T++){const I=L[T];h.animations.push(l[I])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(h.autoUpdate=e.autoUpdate);const L=e.levels;for(let T=0;T<L.length;T++){const I=L[T],F=h.getObjectByProperty("uuid",I.object);F!==void 0&&h.addLevel(F,I.distance)}}return h}bindSkeletons(e,i){Object.keys(i).length!==0&&e.traverse(function(o){if(o.isSkinnedMesh===!0&&o.skeleton!==void 0){const l=i[o.skeleton];l===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",o.skeleton):o.bind(l,o.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const cT={UVMapping:ur,CubeReflectionMapping:wr,CubeRefractionMapping:_r,EquirectangularReflectionMapping:Wn,EquirectangularRefractionMapping:Fr,CubeUVReflectionMapping:di,CubeUVRefractionMapping:Or},AS={RepeatWrapping:vi,ClampToEdgeWrapping:Nr,MirroredRepeatWrapping:Ln},TS={NearestFilter:er,NearestMipmapNearestFilter:Ir,NearestMipmapLinearFilter:$i,LinearFilter:br,LinearMipmapNearestFilter:ii,LinearMipmapLinearFilter:Hs};function uw(t){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),kt.call(this,t),this.options={premultiplyAlpha:"none"}}function cw(){this.type="ShapePath",this.color=new zt,this.subPaths=[],this.currentPath=null}function hw(t){this.type="Font",this.data=t}function hT(t,e,i,o,l){const h=l.glyphs[t]||l.glyphs["?"];if(!h)return void console.error('THREE.Font: character "'+t+'" does not exists in font family '+l.familyName+".");const g=new cw;let v,w,S,L,T,I,F,j;if(h.o){const K=h._cachedOutline||(h._cachedOutline=h.o.split(" "));for(let X=0,ee=K.length;X<ee;)switch(K[X++]){case"m":v=K[X++]*e+i,w=K[X++]*e+o,g.moveTo(v,w);break;case"l":v=K[X++]*e+i,w=K[X++]*e+o,g.lineTo(v,w);break;case"q":S=K[X++]*e+i,L=K[X++]*e+o,T=K[X++]*e+i,I=K[X++]*e+o,g.quadraticCurveTo(T,I,S,L);break;case"b":S=K[X++]*e+i,L=K[X++]*e+o,T=K[X++]*e+i,I=K[X++]*e+o,F=K[X++]*e+i,j=K[X++]*e+o,g.bezierCurveTo(T,I,F,j,S,L)}}return{offsetX:h.ha*e,path:g}}function dw(t){kt.call(this,t)}let xb;uw.prototype=Object.assign(Object.create(kt.prototype),{constructor:uw,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,i,o){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const l=this,h=yt.get(t);if(h!==void 0)return l.manager.itemStart(t),setTimeout(function(){e&&e(h),l.manager.itemEnd(t)},0),h;const g={};g.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",fetch(t,g).then(function(v){return v.blob()}).then(function(v){return createImageBitmap(v,l.options)}).then(function(v){yt.add(t,v),e&&e(v),l.manager.itemEnd(t)}).catch(function(v){o&&o(v),l.manager.itemError(t),l.manager.itemEnd(t)}),l.manager.itemStart(t)}}),Object.assign(cw.prototype,{moveTo:function(t,e){return this.currentPath=new Bc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,i,o){return this.currentPath.quadraticCurveTo(t,e,i,o),this},bezierCurveTo:function(t,e,i,o,l,h){return this.currentPath.bezierCurveTo(t,e,i,o,l,h),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function i(ee){const me=[];for(let xe=0,_e=ee.length;xe<_e;xe++){const Se=ee[xe],Ne=new Ef;Ne.curves=Se.curves,me.push(Ne)}return me}function o(ee,me){const xe=me.length;let _e=!1;for(let Se=xe-1,Ne=0;Ne<xe;Se=Ne++){let Ae=me[Se],ut=me[Ne],mt=ut.x-Ae.x,jt=ut.y-Ae.y;if(Math.abs(jt)>Number.EPSILON){if(jt<0&&(Ae=me[Ne],mt=-mt,ut=me[Se],jt=-jt),ee.y<Ae.y||ee.y>ut.y)continue;if(ee.y===Ae.y){if(ee.x===Ae.x)return!0}else{const Dt=jt*(ee.x-Ae.x)-mt*(ee.y-Ae.y);if(Dt===0)return!0;if(Dt<0)continue;_e=!_e}}else{if(ee.y!==Ae.y)continue;if(ut.x<=ee.x&&ee.x<=Ae.x||Ae.x<=ee.x&&ee.x<=ut.x)return!0}}return _e}const l=Ku.isClockWise,h=this.subPaths;if(h.length===0)return[];if(e===!0)return i(h);let g,v,w;const S=[];if(h.length===1)return v=h[0],w=new Ef,w.curves=v.curves,S.push(w),S;let L=!l(h[0].getPoints());L=t?!L:L;const T=[],I=[];let F,j,K=[],X=0;I[X]=void 0,K[X]=[];for(let ee=0,me=h.length;ee<me;ee++)v=h[ee],F=v.getPoints(),g=l(F),g=t?!g:g,g?(!L&&I[X]&&X++,I[X]={s:new Ef,p:F},I[X].s.curves=v.curves,L&&X++,K[X]=[]):K[X].push({h:v,p:F[0]});if(!I[0])return i(h);if(I.length>1){let ee=!1;const me=[];for(let xe=0,_e=I.length;xe<_e;xe++)T[xe]=[];for(let xe=0,_e=I.length;xe<_e;xe++){const Se=K[xe];for(let Ne=0;Ne<Se.length;Ne++){const Ae=Se[Ne];let ut=!0;for(let mt=0;mt<I.length;mt++)o(Ae.p,I[mt].p)&&(xe!==mt&&me.push({froms:xe,tos:mt,hole:Ne}),ut?(ut=!1,T[mt].push(Ae)):ee=!0);ut&&T[xe].push(Ae)}}me.length>0&&(ee||(K=T))}for(let ee=0,me=I.length;ee<me;ee++){w=I[ee].s,S.push(w),j=K[ee];for(let xe=0,_e=j.length;xe<_e;xe++)w.holes.push(j[xe].h)}return S}}),Object.assign(hw.prototype,{isFont:!0,generateShapes:function(t,e=100){const i=[],o=function(l,h,g){const v=Array.from?Array.from(l):String(l).split(""),w=h/g.resolution,S=(g.boundingBox.yMax-g.boundingBox.yMin+g.underlineThickness)*w,L=[];let T=0,I=0;for(let F=0;F<v.length;F++){const j=v[F];if(j===`
`)T=0,I-=S;else{const K=hT(j,w,T,I,g);T+=K.offsetX,L.push(K.path)}}return L}(t,e,this.data);for(let l=0,h=o.length;l<h;l++)Array.prototype.push.apply(i,o[l].toShapes());return i}}),dw.prototype=Object.assign(Object.create(kt.prototype),{constructor:dw,load:function(t,e,i,o){const l=this,h=new Fn(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(l.withCredentials),h.load(t,function(g){let v;try{v=JSON.parse(g)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),v=JSON.parse(g.substring(65,g.length-2))}const w=l.parse(v);e&&e(w)},i,o)},parse:function(t){return new hw(t)}});const fw={getContext:function(){return xb===void 0&&(xb=new(window.AudioContext||window.webkitAudioContext)),xb},setContext:function(t){xb=t}};function bb(t){kt.call(this,t)}function pw(t,e,i){rc.call(this,void 0,i);const o=new zt().set(t),l=new zt().set(e),h=new ye(o.r,o.g,o.b),g=new ye(l.r,l.g,l.b),v=Math.sqrt(Math.PI),w=v*Math.sqrt(.75);this.sh.coefficients[0].copy(h).add(g).multiplyScalar(v),this.sh.coefficients[1].copy(h).sub(g).multiplyScalar(w)}function mw(t,e){rc.call(this,void 0,e);const i=new zt().set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}bb.prototype=Object.assign(Object.create(kt.prototype),{constructor:bb,load:function(t,e,i,o){const l=this,h=new Fn(l.manager);h.setResponseType("arraybuffer"),h.setPath(l.path),h.setRequestHeader(l.requestHeader),h.setWithCredentials(l.withCredentials),h.load(t,function(g){try{const v=g.slice(0);fw.getContext().decodeAudioData(v,function(w){e(w)})}catch(v){o?o(v):console.error(v),l.manager.itemError(t)}},i,o)}}),pw.prototype=Object.assign(Object.create(rc.prototype),{constructor:pw,isHemisphereLightProbe:!0,copy:function(t){return rc.prototype.copy.call(this,t),this},toJSON:function(t){return rc.prototype.toJSON.call(this,t)}}),mw.prototype=Object.assign(Object.create(rc.prototype),{constructor:mw,isAmbientLightProbe:!0,copy:function(t){return rc.prototype.copy.call(this,t),this},toJSON:function(t){return rc.prototype.toJSON.call(this,t)}});const CS=new Cr,LS=new Cr;function PS(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Js,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Js,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(PS.prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const i=t.projectionMatrix.clone(),o=e.eyeSep/2,l=o*e.near/e.focus,h=e.near*Math.tan(An.DEG2RAD*e.fov*.5)/e.zoom;let g,v;LS.elements[12]=-o,CS.elements[12]=o,g=-h*e.aspect+l,v=h*e.aspect+l,i.elements[0]=2*e.near/(v-g),i.elements[8]=(v+g)/(v-g),this.cameraL.projectionMatrix.copy(i),g=-h*e.aspect-l,v=h*e.aspect-l,i.elements[0]=2*e.near/(v-g),i.elements[8]=(v+g)/(v-g),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(LS),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(CS)}});class RS{constructor(e){this.autoStart=e===void 0||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=kS(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const i=kS();e=(i-this.oldTime)/1e3,this.oldTime=i,this.elapsedTime+=e}return e}}function kS(){return(typeof performance>"u"?Date:performance).now()}const zp=new ye,OS=new hs,dT=new ye,Bp=new ye;class fT extends N{constructor(){super(),this.type="AudioListener",this.context=fw.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new RS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const i=this.context.listener,o=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zp,OS,dT),Bp.set(0,0,-1).applyQuaternion(OS),i.positionX){const l=this.context.currentTime+this.timeDelta;i.positionX.linearRampToValueAtTime(zp.x,l),i.positionY.linearRampToValueAtTime(zp.y,l),i.positionZ.linearRampToValueAtTime(zp.z,l),i.forwardX.linearRampToValueAtTime(Bp.x,l),i.forwardY.linearRampToValueAtTime(Bp.y,l),i.forwardZ.linearRampToValueAtTime(Bp.z,l),i.upX.linearRampToValueAtTime(o.x,l),i.upY.linearRampToValueAtTime(o.y,l),i.upZ.linearRampToValueAtTime(o.z,l)}else i.setPosition(zp.x,zp.y,zp.z),i.setOrientation(Bp.x,Bp.y,Bp.z,o.x,o.y,o.z)}}class gw extends N{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0)return void console.warn("THREE.Audio: Audio is already playing.");if(this.hasPlaybackControl===!1)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const i=this.context.createBufferSource();return i.buffer=this.buffer,i.loop=this.loop,i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.onended=this.onEnded.bind(this),i.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=i,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl!==!1)return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(this.hasPlaybackControl!==!1)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,i=this.filters.length;e<i;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,i=this.filters.length;e<i;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl!==!1)return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl!==!1)return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const jp=new ye,IS=new hs,pT=new ye,Hp=new ye;class mT extends gw{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,i,o){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=i,this.panner.coneOuterGain=o,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(jp,IS,pT),Hp.set(0,0,1).applyQuaternion(IS);const i=this.panner;if(i.positionX){const o=this.context.currentTime+this.listener.timeDelta;i.positionX.linearRampToValueAtTime(jp.x,o),i.positionY.linearRampToValueAtTime(jp.y,o),i.positionZ.linearRampToValueAtTime(jp.z,o),i.orientationX.linearRampToValueAtTime(Hp.x,o),i.orientationY.linearRampToValueAtTime(Hp.y,o),i.orientationZ.linearRampToValueAtTime(Hp.z,o)}else i.setPosition(jp.x,jp.y,jp.z),i.setOrientation(Hp.x,Hp.y,Hp.z)}}class NS{constructor(e,i=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=i,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const i=this.getFrequencyData();for(let o=0;o<i.length;o++)e+=i[o];return e/i.length}}function vw(t,e,i){let o,l,h;switch(this.binding=t,this.valueSize=i,e){case"quaternion":o=this._slerp,l=this._slerpAdditive,h=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":o=this._select,l=this._select,h=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:o=this._lerp,l=this._lerpAdditive,h=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=o,this._mixBufferRegionAdditive=l,this._setIdentity=h,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(vw.prototype,{accumulate:function(t,e){const i=this.buffer,o=this.valueSize,l=t*o+o;let h=this.cumulativeWeight;if(h===0){for(let g=0;g!==o;++g)i[l+g]=i[g];h=e}else{h+=e;const g=e/h;this._mixBufferRegion(i,l,0,g,o)}this.cumulativeWeight=h},accumulateAdditive:function(t){const e=this.buffer,i=this.valueSize,o=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,o,0,t,i),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,i=this.buffer,o=t*e+e,l=this.cumulativeWeight,h=this.cumulativeWeightAdditive,g=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,l<1){const v=e*this._origIndex;this._mixBufferRegion(i,o,v,1-l,e)}h>0&&this._mixBufferRegionAdditive(i,o,this._addIndex*e,1,e);for(let v=e,w=e+e;v!==w;++v)if(i[v]!==i[v+e]){g.setValue(i,o);break}},saveOriginalState:function(){const t=this.binding,e=this.buffer,i=this.valueSize,o=i*this._origIndex;t.getValue(e,o);for(let l=i,h=o;l!==h;++l)e[l]=e[o+l%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]},_select:function(t,e,i,o,l){if(o>=.5)for(let h=0;h!==l;++h)t[e+h]=t[i+h]},_slerp:function(t,e,i,o){hs.slerpFlat(t,e,t,e,t,i,o)},_slerpAdditive:function(t,e,i,o,l){const h=this._workIndex*l;hs.multiplyQuaternionsFlat(t,h,t,e,t,i),hs.slerpFlat(t,e,t,e,t,h,o)},_lerp:function(t,e,i,o,l){const h=1-o;for(let g=0;g!==l;++g){const v=e+g;t[v]=t[v]*h+t[i+g]*o}},_lerpAdditive:function(t,e,i,o,l){for(let h=0;h!==l;++h){const g=e+h;t[g]=t[g]+t[i+h]*o}}});const gT=new RegExp("[\\[\\]\\.:\\/]","g"),vT="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",yT=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),xT=/(WCOD+)?/.source.replace("WCOD",vT),bT=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),wT=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),_T=new RegExp("^"+yT+xT+bT+wT+"$"),ST=["material","materials","bones"];function DS(t,e,i){const o=i||fl.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,o)}function fl(t,e,i){this.path=e,this.parsedPath=i||fl.parseTrackName(e),this.node=fl.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function FS(){this.uuid=An.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,o=arguments.length;i!==o;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}Object.assign(DS.prototype,{getValue:function(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,o=this._bindings[i];o!==void 0&&o.getValue(t,e)},setValue:function(t,e){const i=this._bindings;for(let o=this._targetGroup.nCachedObjects_,l=i.length;o!==l;++o)i[o].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),Object.assign(fl,{Composite:DS,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new fl.Composite(t,e,i):new fl(t,e,i)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(gT,"")},parseTrackName:function(t){const e=_T.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},o=i.nodeName&&i.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){const l=i.nodeName.substring(o+1);ST.indexOf(l)!==-1&&(i.nodeName=i.nodeName.substring(0,o),i.objectName=l)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i},findNode:function(t,e){if(!e||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(l){for(let h=0;h<l.length;h++){const g=l[h];if(g.name===e||g.uuid===e)return g;const v=i(g.children);if(v)return v}return null},o=i(t.children);if(o)return o}return null}}),Object.assign(fl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){const i=this.resolvedProperty;for(let o=0,l=i.length;o!==l;++o)t[e++]=i[o]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){const i=this.resolvedProperty;for(let o=0,l=i.length;o!==l;++o)i[o]=t[e++]},function(t,e){const i=this.resolvedProperty;for(let o=0,l=i.length;o!==l;++o)i[o]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){const i=this.resolvedProperty;for(let o=0,l=i.length;o!==l;++o)i[o]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){let t=this.node;const e=this.parsedPath,i=e.objectName,o=e.propertyName;let l=e.propertyIndex;if(t||(t=fl.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(i){let w=e.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let S=0;S<t.length;S++)if(t[S].name===w){w=S;break}break;default:if(t[i]===void 0)return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(w!==void 0){if(t[w]===void 0)return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[w]}}const h=t[o];if(h===void 0){const w=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+w+"."+o+" but it wasn't found.",t)}let g=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?g=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(g=this.Versioning.MatrixWorldNeedsUpdate);let v=this.BindingType.Direct;if(l!==void 0){if(o==="morphTargetInfluences"){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);t.morphTargetDictionary[l]!==void 0&&(l=t.morphTargetDictionary[l])}v=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=l}else h.fromArray!==void 0&&h.toArray!==void 0?(v=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(v=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=o;this.getValue=this.GetterByBindingType[v],this.setValue=this.SetterByBindingTypeAndVersioning[v][g]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(fl.prototype,{_getValue_unbound:fl.prototype.getValue,_setValue_unbound:fl.prototype.setValue}),Object.assign(FS.prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,i=this._paths,o=this._parsedPaths,l=this._bindings,h=l.length;let g,v=t.length,w=this.nCachedObjects_;for(let S=0,L=arguments.length;S!==L;++S){const T=arguments[S],I=T.uuid;let F=e[I];if(F===void 0){F=v++,e[I]=F,t.push(T);for(let j=0,K=h;j!==K;++j)l[j].push(new fl(T,i[j],o[j]))}else if(F<w){g=t[F];const j=--w,K=t[j];e[K.uuid]=F,t[F]=K,e[I]=j,t[j]=T;for(let X=0,ee=h;X!==ee;++X){const me=l[X],xe=me[j];let _e=me[F];me[F]=xe,_e===void 0&&(_e=new fl(T,i[X],o[X])),me[j]=_e}}else t[F]!==g&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=w},remove:function(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,o=i.length;let l=this.nCachedObjects_;for(let h=0,g=arguments.length;h!==g;++h){const v=arguments[h],w=v.uuid,S=e[w];if(S!==void 0&&S>=l){const L=l++,T=t[L];e[T.uuid]=S,t[S]=T,e[w]=L,t[L]=v;for(let I=0,F=o;I!==F;++I){const j=i[I],K=j[L],X=j[S];j[S]=K,j[L]=X}}}this.nCachedObjects_=l},uncache:function(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,o=i.length;let l=this.nCachedObjects_,h=t.length;for(let g=0,v=arguments.length;g!==v;++g){const w=arguments[g].uuid,S=e[w];if(S!==void 0)if(delete e[w],S<l){const L=--l,T=t[L],I=--h,F=t[I];e[T.uuid]=S,t[S]=T,e[F.uuid]=L,t[L]=F,t.pop();for(let j=0,K=o;j!==K;++j){const X=i[j],ee=X[L],me=X[I];X[S]=ee,X[L]=me,X.pop()}}else{const L=--h,T=t[L];L>0&&(e[T.uuid]=S),t[S]=T,t.pop();for(let I=0,F=o;I!==F;++I){const j=i[I];j[S]=j[L],j.pop()}}}this.nCachedObjects_=l},subscribe_:function(t,e){const i=this._bindingsIndicesByPath;let o=i[t];const l=this._bindings;if(o!==void 0)return l[o];const h=this._paths,g=this._parsedPaths,v=this._objects,w=v.length,S=this.nCachedObjects_,L=new Array(w);o=l.length,i[t]=o,h.push(t),g.push(e),l.push(L);for(let T=S,I=v.length;T!==I;++T){const F=v[T];L[T]=new fl(F,t,e)}return L},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const o=this._paths,l=this._parsedPaths,h=this._bindings,g=h.length-1,v=h[g];e[t[g]]=i,h[i]=v,h.pop(),l[i]=l[g],l.pop(),o[i]=o[g],o.pop()}}});class ET{constructor(e,i,o=null,l=i.blendMode){this._mixer=e,this._clip=i,this._localRoot=o,this.blendMode=l;const h=i.tracks,g=h.length,v=new Array(g),w={endingStart:Ti,endingEnd:Ti};for(let S=0;S!==g;++S){const L=h[S].createInterpolant(null);v[S]=L,L.settings=w}this._interpolantSettings=w,this._interpolants=v,this._propertyBindings=new Array(g),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ro,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,i){return this.loop=e,this.repetitions=i,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,i,o){if(e.fadeOut(i),this.fadeIn(i),o){const l=this._clip.duration,h=e._clip.duration,g=h/l,v=l/h;e.warp(1,g,i),this.warp(v,1,i)}return this}crossFadeTo(e,i,o){return e.crossFadeFrom(this,i,o)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,i,o){const l=this._mixer,h=l.time,g=this.timeScale;let v=this._timeScaleInterpolant;v===null&&(v=l._lendControlInterpolant(),this._timeScaleInterpolant=v);const w=v.parameterPositions,S=v.sampleValues;return w[0]=h,w[1]=h+o,S[0]=e/g,S[1]=i/g,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,i,o,l){if(!this.enabled)return void this._updateWeight(e);const h=this._startTime;if(h!==null){const w=(e-h)*o;if(w<0||o===0)return;this._startTime=null,i=o*w}i*=this._updateTimeScale(e);const g=this._updateTime(i),v=this._updateWeight(e);if(v>0){const w=this._interpolants,S=this._propertyBindings;switch(this.blendMode){case $:for(let L=0,T=w.length;L!==T;++L)w[L].evaluate(g),S[L].accumulateAdditive(v);break;case ua:default:for(let L=0,T=w.length;L!==T;++L)w[L].evaluate(g),S[L].accumulate(l,v)}}}_updateWeight(e){let i=0;if(this.enabled){i=this.weight;const o=this._weightInterpolant;if(o!==null){const l=o.evaluate(e)[0];i*=l,e>o.parameterPositions[1]&&(this.stopFading(),l===0&&(this.enabled=!1))}}return this._effectiveWeight=i,i}_updateTimeScale(e){let i=0;if(!this.paused){i=this.timeScale;const o=this._timeScaleInterpolant;o!==null&&(i*=o.evaluate(e)[0],e>o.parameterPositions[1]&&(this.stopWarping(),i===0?this.paused=!0:this.timeScale=i))}return this._effectiveTimeScale=i,i}_updateTime(e){const i=this._clip.duration,o=this.loop;let l=this.time+e,h=this._loopCount;const g=o===No;if(e===0)return h===-1?l:g&&(1&h)==1?i-l:l;if(o===_s){h===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(l>=i)l=i;else{if(!(l<0)){this.time=l;break e}l=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(h===-1&&(e>=0?(h=0,this._setEndings(!0,this.repetitions===0,g)):this._setEndings(this.repetitions===0,!0,g)),l>=i||l<0){const v=Math.floor(l/i);l-=i*v,h+=Math.abs(v);const w=this.repetitions-h;if(w<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l=e>0?i:0,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(w===1){const S=e<0;this._setEndings(S,!S,g)}else this._setEndings(!1,!1,g);this._loopCount=h,this.time=l,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:v})}}else this.time=l;if(g&&(1&h)==1)return i-l}return l}_setEndings(e,i,o){const l=this._interpolantSettings;o?(l.endingStart=so,l.endingEnd=so):(l.endingStart=e?this.zeroSlopeAtStart?so:Ti:wl,l.endingEnd=i?this.zeroSlopeAtEnd?so:Ti:wl)}_scheduleFading(e,i,o){const l=this._mixer,h=l.time;let g=this._weightInterpolant;g===null&&(g=l._lendControlInterpolant(),this._weightInterpolant=g);const v=g.parameterPositions,w=g.sampleValues;return v[0]=h,w[0]=i,v[1]=h+e,w[1]=o,this}}function yw(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}yw.prototype=Object.assign(Object.create(ns.prototype),{constructor:yw,_bindAction:function(t,e){const i=t._localRoot||this._root,o=t._clip.tracks,l=o.length,h=t._propertyBindings,g=t._interpolants,v=i.uuid,w=this._bindingsByRootAndName;let S=w[v];S===void 0&&(S={},w[v]=S);for(let L=0;L!==l;++L){const T=o[L],I=T.name;let F=S[I];if(F!==void 0)h[L]=F;else{if(F=h[L],F!==void 0){F._cacheIndex===null&&(++F.referenceCount,this._addInactiveBinding(F,v,I));continue}const j=e&&e._propertyBindings[L].binding.parsedPath;F=new vw(fl.create(i,I,j),T.ValueTypeName,T.getValueSize()),++F.referenceCount,this._addInactiveBinding(F,v,I),h[L]=F}g[L].resultBuffer=F.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,o=t._clip.uuid,l=this._actionsByClip[o];this._bindAction(t,l&&l.knownActions[0]),this._addInactiveAction(t,o,i)}const e=t._propertyBindings;for(let i=0,o=e.length;i!==o;++i){const l=e[i];l.useCount++==0&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,o=e.length;i!==o;++i){const l=e[i];--l.useCount==0&&(l.restoreOriginalState(),this._takeBackBinding(l))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){const o=this._actions,l=this._actionsByClip;let h=l[e];if(h===void 0)h={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,l[e]=h;else{const g=h.knownActions;t._byClipCacheIndex=g.length,g.push(t)}t._cacheIndex=o.length,o.push(t),h.actionByRoot[i]=t},_removeInactiveAction:function(t){const e=this._actions,i=e[e.length-1],o=t._cacheIndex;i._cacheIndex=o,e[o]=i,e.pop(),t._cacheIndex=null;const l=t._clip.uuid,h=this._actionsByClip,g=h[l],v=g.knownActions,w=v[v.length-1],S=t._byClipCacheIndex;w._byClipCacheIndex=S,v[S]=w,v.pop(),t._byClipCacheIndex=null,delete g.actionByRoot[(t._localRoot||this._root).uuid],v.length===0&&delete h[l],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let i=0,o=e.length;i!==o;++i){const l=e[i];--l.referenceCount==0&&this._removeInactiveBinding(l)}},_lendAction:function(t){const e=this._actions,i=t._cacheIndex,o=this._nActiveActions++,l=e[o];t._cacheIndex=o,e[o]=t,l._cacheIndex=i,e[i]=l},_takeBackAction:function(t){const e=this._actions,i=t._cacheIndex,o=--this._nActiveActions,l=e[o];t._cacheIndex=o,e[o]=t,l._cacheIndex=i,e[i]=l},_addInactiveBinding:function(t,e,i){const o=this._bindingsByRootAndName,l=this._bindings;let h=o[e];h===void 0&&(h={},o[e]=h),h[i]=t,t._cacheIndex=l.length,l.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,i=t.binding,o=i.rootNode.uuid,l=i.path,h=this._bindingsByRootAndName,g=h[o],v=e[e.length-1],w=t._cacheIndex;v._cacheIndex=w,e[w]=v,e.pop(),delete g[l],Object.keys(g).length===0&&delete h[o]},_lendBinding:function(t){const e=this._bindings,i=t._cacheIndex,o=this._nActiveBindings++,l=e[o];t._cacheIndex=o,e[o]=t,l._cacheIndex=i,e[i]=l},_takeBackBinding:function(t){const e=this._bindings,i=t._cacheIndex,o=--this._nActiveBindings,l=e[o];t._cacheIndex=o,e[o]=t,l._cacheIndex=i,e[i]=l},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new Ic(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,i=t.__cacheIndex,o=--this._nActiveControlInterpolants,l=e[o];t.__cacheIndex=o,e[o]=t,l.__cacheIndex=i,e[i]=l},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,i){const o=e||this._root,l=o.uuid;let h=typeof t=="string"?Me.findByName(o,t):t;const g=h!==null?h.uuid:t,v=this._actionsByClip[g];let w=null;if(i===void 0&&(i=h!==null?h.blendMode:ua),v!==void 0){const L=v.actionByRoot[l];if(L!==void 0&&L.blendMode===i)return L;w=v.knownActions[0],h===null&&(h=w._clip)}if(h===null)return null;const S=new ET(this,h,e,i);return this._bindAction(S,w),this._addInactiveAction(S,g,l),S},existingAction:function(t,e){const i=e||this._root,o=i.uuid,l=typeof t=="string"?Me.findByName(i,t):t,h=l?l.uuid:t,g=this._actionsByClip[h];return g!==void 0&&g.actionByRoot[o]||null},stopAllAction:function(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,o=this.time+=t,l=Math.sign(t),h=this._accuIndex^=1;for(let w=0;w!==i;++w)e[w]._update(o,t,l,h);const g=this._bindings,v=this._nActiveBindings;for(let w=0;w!==v;++w)g[w].apply(h);return this},setTime:function(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,i=t.uuid,o=this._actionsByClip,l=o[i];if(l!==void 0){const h=l.knownActions;for(let g=0,v=h.length;g!==v;++g){const w=h[g];this._deactivateAction(w);const S=w._cacheIndex,L=e[e.length-1];w._cacheIndex=null,w._byClipCacheIndex=null,L._cacheIndex=S,e[S]=L,e.pop(),this._removeInactiveBindingsForAction(w)}delete o[i]}},uncacheRoot:function(t){const e=t.uuid,i=this._actionsByClip;for(const l in i){const h=i[l].actionByRoot[e];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const o=this._bindingsByRootAndName[e];if(o!==void 0)for(const l in o){const h=o[l];h.restoreOriginalState(),this._removeInactiveBinding(h)}},uncacheAction:function(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}});class wb{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new wb(this.value.clone===void 0?this.value:this.value.clone())}}function xw(t,e,i){ms.call(this,t,e),this.meshPerAttribute=i||1}function bw(t,e,i,o,l){this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=o,this.count=l,this.version=0}function ww(t,e,i,o){this.ray=new fs(t,e),this.near=i||0,this.far=o||1/0,this.camera=null,this.layers=new fr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function zS(t,e){return t.distance-e.distance}function _w(t,e,i,o){if(t.layers.test(e.layers)&&t.raycast(e,i),o===!0){const l=t.children;for(let h=0,g=l.length;h<g;h++)_w(l[h],e,i,!0)}}xw.prototype=Object.assign(Object.create(ms.prototype),{constructor:xw,isInstancedInterleavedBuffer:!0,copy:function(t){return ms.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=ms.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=ms.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(bw.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Object.assign(bw.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(ww.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)},intersectObject:function(t,e,i){const o=i||[];return _w(t,this,o,e),o.sort(zS),o},intersectObjects:function(t,e,i){const o=i||[];if(Array.isArray(t)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),o;for(let l=0,h=t.length;l<h;l++)_w(t[l],this,o,e);return o.sort(zS),o}});class MT{constructor(e=1,i=0,o=0){return this.radius=e,this.phi=i,this.theta=o,this}set(e,i,o){return this.radius=e,this.phi=i,this.theta=o,this}clone(){return new this.constructor().copy(this)}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,i,o){return this.radius=Math.sqrt(e*e+i*i+o*o),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,o),this.phi=Math.acos(An.clamp(i/this.radius,-1,1))),this}}class AT{constructor(e,i,o){return this.radius=e!==void 0?e:1,this.theta=i!==void 0?i:0,this.y=o!==void 0?o:0,this}set(e,i,o){return this.radius=e,this.theta=i,this.y=o,this}clone(){return new this.constructor().copy(this)}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,i,o){return this.radius=Math.sqrt(e*e+o*o),this.theta=Math.atan2(e,o),this.y=i,this}}const BS=new Ot;class jS{constructor(e,i){Object.defineProperty(this,"isBox2",{value:!0}),this.min=e!==void 0?e:new Ot(1/0,1/0),this.max=i!==void 0?i:new Ot(-1/0,-1/0)}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromPoints(e){this.makeEmpty();for(let i=0,o=e.length;i<o;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){const o=BS.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Ot),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Ot),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,i){return i===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),i=new Ot),i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,i){return i===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),i=new Ot),i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return BS.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const HS=new ye,_b=new ye;class US{constructor(e,i){this.start=e!==void 0?e:new ye,this.end=i!==void 0?i:new ye}set(e,i){return this.start.copy(e),this.end.copy(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new ye),e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new ye),e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,i){return i===void 0&&(console.warn("THREE.Line3: .at() target is now required"),i=new ye),this.delta(i).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,i){HS.subVectors(e,this.start),_b.subVectors(this.end,this.start);const o=_b.dot(_b);let l=_b.dot(HS)/o;return i&&(l=An.clamp(l,0,1)),l}closestPointToPoint(e,i,o){const l=this.closestPointToPointParameter(e,i);return o===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),o=new ye),this.delta(o).multiplyScalar(l).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}function H0(t){N.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}H0.prototype=Object.create(N.prototype),H0.prototype.constructor=H0,H0.prototype.isImmediateRenderObject=!0;const GS=new ye;class TT extends N{constructor(e,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const o=new Xn,l=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let g=0,v=1,w=32;g<w;g++,v++){const S=g/w*Math.PI*2,L=v/w*Math.PI*2;l.push(Math.cos(S),Math.sin(S),1,Math.cos(L),Math.sin(L),1)}o.setAttribute("position",new Nn(l,3));const h=new Rs({fog:!1,toneMapped:!1});this.cone=new ga(o,h),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,i=e*Math.tan(this.light.angle);this.cone.scale.set(i,i,e),GS.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(GS),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Mf=new ye,Sb=new Cr,Sw=new Cr;class VS extends ga{constructor(e){const i=function w(S){const L=[];S&&S.isBone&&L.push(S);for(let T=0;T<S.children.length;T++)L.push.apply(L,w(S.children[T]));return L}(e),o=new Xn,l=[],h=[],g=new zt(0,0,1),v=new zt(0,1,0);for(let w=0;w<i.length;w++){const S=i[w];S.parent&&S.parent.isBone&&(l.push(0,0,0),l.push(0,0,0),h.push(g.r,g.g,g.b),h.push(v.r,v.g,v.b))}o.setAttribute("position",new Nn(l,3)),o.setAttribute("color",new Nn(h,3)),super(o,new Rs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=i,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const i=this.bones,o=this.geometry,l=o.getAttribute("position");Sw.copy(this.root.matrixWorld).invert();for(let h=0,g=0;h<i.length;h++){const v=i[h];v.parent&&v.parent.isBone&&(Sb.multiplyMatrices(Sw,v.matrixWorld),Mf.setFromMatrixPosition(Sb),l.setXYZ(g,Mf.x,Mf.y,Mf.z),Sb.multiplyMatrices(Sw,v.parent.matrixWorld),Mf.setFromMatrixPosition(Sb),l.setXYZ(g+1,Mf.x,Mf.y,Mf.z),g+=2)}o.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}class CT extends is{constructor(e,i,o){super(new Qa(i,4,2),new Si({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.light.updateMatrixWorld(),this.color=o,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const LT=new ye,WS=new zt,qS=new zt;class PT extends N{constructor(e,i,o){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o;const l=new Pc(i);l.rotateY(.5*Math.PI),this.material=new Si({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const h=l.getAttribute("position"),g=new Float32Array(3*h.count);l.setAttribute("color",new qn(g,3)),this.add(new is(l,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const i=e.geometry.getAttribute("color");WS.copy(this.light.color),qS.copy(this.light.groundColor);for(let o=0,l=i.count;o<l;o++){const h=o<l/2?WS:qS;i.setXYZ(o,h.r,h.g,h.b)}i.needsUpdate=!0}e.lookAt(LT.setFromMatrixPosition(this.light.matrixWorld).negate())}}class XS extends ga{constructor(e=10,i=10,o=4473924,l=8947848){o=new zt(o),l=new zt(l);const h=i/2,g=e/i,v=e/2,w=[],S=[];for(let T=0,I=0,F=-v;T<=i;T++,F+=g){w.push(-v,0,F,v,0,F),w.push(F,0,-v,F,0,v);const j=T===h?o:l;j.toArray(S,I),I+=3,j.toArray(S,I),I+=3,j.toArray(S,I),I+=3,j.toArray(S,I),I+=3}const L=new Xn;L.setAttribute("position",new Nn(w,3)),L.setAttribute("color",new Nn(S,3)),super(L,new Rs({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}class RT extends ga{constructor(e=10,i=16,o=8,l=64,h=4473924,g=8947848){h=new zt(h),g=new zt(g);const v=[],w=[];for(let L=0;L<=i;L++){const T=L/i*(2*Math.PI),I=Math.sin(T)*e,F=Math.cos(T)*e;v.push(0,0,0),v.push(I,0,F);const j=1&L?h:g;w.push(j.r,j.g,j.b),w.push(j.r,j.g,j.b)}for(let L=0;L<=o;L++){const T=1&L?h:g,I=e-e/o*L;for(let F=0;F<l;F++){let j=F/l*(2*Math.PI),K=Math.sin(j)*I,X=Math.cos(j)*I;v.push(K,0,X),w.push(T.r,T.g,T.b),j=(F+1)/l*(2*Math.PI),K=Math.sin(j)*I,X=Math.cos(j)*I,v.push(K,0,X),w.push(T.r,T.g,T.b)}}const S=new Xn;S.setAttribute("position",new Nn(v,3)),S.setAttribute("color",new Nn(w,3)),super(S,new Rs({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}}const $S=new ye,Eb=new ye,YS=new ye;class kT extends N{constructor(e,i,o){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,i===void 0&&(i=1);let l=new Xn;l.setAttribute("position",new Nn([-i,i,0,i,i,0,i,-i,0,-i,-i,0,-i,i,0],3));const h=new Rs({fog:!1,toneMapped:!1});this.lightPlane=new Ll(l,h),this.add(this.lightPlane),l=new Xn,l.setAttribute("position",new Nn([0,0,0,0,0,1],3)),this.targetLine=new Ll(l,h),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){$S.setFromMatrixPosition(this.light.matrixWorld),Eb.setFromMatrixPosition(this.light.target.matrixWorld),YS.subVectors(Eb,$S),this.lightPlane.lookAt(Eb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Eb),this.targetLine.scale.z=YS.length()}}const Mb=new ye,Co=new mu;class OT extends ga{constructor(e){const i=new Xn,o=new Rs({color:16777215,vertexColors:!0,toneMapped:!1}),l=[],h=[],g={},v=new zt(16755200),w=new zt(16711680),S=new zt(43775),L=new zt(16777215),T=new zt(3355443);function I(j,K,X){F(j,X),F(K,X)}function F(j,K){l.push(0,0,0),h.push(K.r,K.g,K.b),g[j]===void 0&&(g[j]=[]),g[j].push(l.length/3-1)}I("n1","n2",v),I("n2","n4",v),I("n4","n3",v),I("n3","n1",v),I("f1","f2",v),I("f2","f4",v),I("f4","f3",v),I("f3","f1",v),I("n1","f1",v),I("n2","f2",v),I("n3","f3",v),I("n4","f4",v),I("p","n1",w),I("p","n2",w),I("p","n3",w),I("p","n4",w),I("u1","u2",S),I("u2","u3",S),I("u3","u1",S),I("c","t",L),I("p","c",T),I("cn1","cn2",T),I("cn3","cn4",T),I("cf1","cf2",T),I("cf3","cf4",T),i.setAttribute("position",new Nn(l,3)),i.setAttribute("color",new Nn(h,3)),super(i,o),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=g,this.update()}update(){const e=this.geometry,i=this.pointMap;Co.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Uo("c",i,e,Co,0,0,-1),Uo("t",i,e,Co,0,0,1),Uo("n1",i,e,Co,-1,-1,-1),Uo("n2",i,e,Co,1,-1,-1),Uo("n3",i,e,Co,-1,1,-1),Uo("n4",i,e,Co,1,1,-1),Uo("f1",i,e,Co,-1,-1,1),Uo("f2",i,e,Co,1,-1,1),Uo("f3",i,e,Co,-1,1,1),Uo("f4",i,e,Co,1,1,1),Uo("u1",i,e,Co,.7,1.1,-1),Uo("u2",i,e,Co,-.7,1.1,-1),Uo("u3",i,e,Co,0,2,-1),Uo("cf1",i,e,Co,-1,0,1),Uo("cf2",i,e,Co,1,0,1),Uo("cf3",i,e,Co,0,-1,1),Uo("cf4",i,e,Co,0,1,1),Uo("cn1",i,e,Co,-1,0,-1),Uo("cn2",i,e,Co,1,0,-1),Uo("cn3",i,e,Co,0,-1,-1),Uo("cn4",i,e,Co,0,1,-1),e.getAttribute("position").needsUpdate=!0}}function Uo(t,e,i,o,l,h,g){Mb.set(l,h,g).unproject(o);const v=e[t];if(v!==void 0){const w=i.getAttribute("position");for(let S=0,L=v.length;S<L;S++)w.setXYZ(v[S],Mb.x,Mb.y,Mb.z)}}const Ab=new $a;class ZS extends ga{constructor(e,i=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=new Float32Array(24),h=new Xn;h.setIndex(new qn(o,1)),h.setAttribute("position",new qn(l,3)),super(h,new Rs({color:i,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ab.setFromObject(this.object),Ab.isEmpty())return;const i=Ab.min,o=Ab.max,l=this.geometry.attributes.position,h=l.array;h[0]=o.x,h[1]=o.y,h[2]=o.z,h[3]=i.x,h[4]=o.y,h[5]=o.z,h[6]=i.x,h[7]=i.y,h[8]=o.z,h[9]=o.x,h[10]=i.y,h[11]=o.z,h[12]=o.x,h[13]=o.y,h[14]=i.z,h[15]=i.x,h[16]=o.y,h[17]=i.z,h[18]=i.x,h[19]=i.y,h[20]=i.z,h[21]=o.x,h[22]=i.y,h[23]=i.z,l.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return ga.prototype.copy.call(this,e),this.object=e.object,this}}class IT extends ga{constructor(e,i=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=new Xn;l.setIndex(new qn(o,1)),l.setAttribute("position",new Nn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(l,new Rs({color:i,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const i=this.box;i.isEmpty()||(i.getCenter(this.position),i.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class NT extends Ll{constructor(e,i=1,o=16776960){const l=o,h=new Xn;h.setAttribute("position",new Nn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),h.computeBoundingSphere(),super(h,new Rs({color:l,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=i;const g=new Xn;g.setAttribute("position",new Nn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),g.computeBoundingSphere(),this.add(new is(g,new Si({color:l,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let i=-this.plane.constant;Math.abs(i)<1e-8&&(i=1e-8),this.scale.set(.5*this.size,.5*this.size,i),this.children[0].material.side=i<0?Y:q,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const KS=new ye;let Tb,Ew;class DT extends N{constructor(e,i,o,l,h,g){super(),this.type="ArrowHelper",e===void 0&&(e=new ye(0,0,1)),i===void 0&&(i=new ye(0,0,0)),o===void 0&&(o=1),l===void 0&&(l=16776960),h===void 0&&(h=.2*o),g===void 0&&(g=.2*h),Tb===void 0&&(Tb=new Xn,Tb.setAttribute("position",new Nn([0,0,0,0,1,0],3)),Ew=new po(0,.5,1,5,1),Ew.translate(0,-.5,0)),this.position.copy(i),this.line=new Ll(Tb,new Rs({color:l,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new is(Ew,new Si({color:l,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(o,h,g)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{KS.set(e.z,0,-e.x).normalize();const i=Math.acos(e.y);this.quaternion.setFromAxisAngle(KS,i)}}setLength(e,i,o){i===void 0&&(i=.2*e),o===void 0&&(o=.2*i),this.line.scale.set(1,Math.max(1e-4,e-i),1),this.line.updateMatrix(),this.cone.scale.set(o,i,o),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class JS extends ga{constructor(e=1){const i=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],o=new Xn;o.setAttribute("position",new Nn(i,3)),o.setAttribute("color",new Nn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(o,new Rs({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}}const QS=new Float32Array(1),FT=new Int32Array(QS.buffer),zT={toHalfFloat:function(t){QS[0]=t;const e=FT[0];let i=e>>16&32768,o=e>>12&2047;const l=e>>23&255;return l<103?i:l>142?(i|=31744,i|=(l==255?0:1)&&8388607&e,i):l<113?(o|=2048,i|=(o>>114-l)+(o>>113-l&1),i):(i|=l-112<<10|o>>1,i+=1&o,i)}},Mh=Math.pow(2,8),eE=[.125,.215,.35,.446,.526,.582],tE=5+eE.length,Ah={[ct]:0,[Rt]:1,[rr]:2,[A]:3,[B]:4,[U]:5,[bn]:6},Mw=new Dg,{_lodPlanes:U0,_sizeLods:nE,_sigmas:Cb}=HT(),rE=new zt;let Aw=null;const Up=(1+Math.sqrt(5))/2,Fg=1/Up,iE=[new ye(1,1,1),new ye(-1,1,1),new ye(1,1,-1),new ye(-1,1,-1),new ye(0,Up,Fg),new ye(0,Up,-Fg),new ye(Fg,0,Up),new ye(-Fg,0,Up),new ye(Up,Fg,0),new ye(-Up,Fg,0)];class BT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(i){const o=new Float32Array(i),l=new ye(0,1,0);return new Xl({name:"SphericalGaussianBlur",defines:{n:i},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:o},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:l},inputEncoding:{value:Ah[ct]},outputEncoding:{value:Ah[ct]}},vertexShader:Tw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${Cw()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:le,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,i=0,o=.1,l=100){Aw=this._renderer.getRenderTarget();const h=this._allocateTargets();return this._sceneToCubeUV(e,o,l,h),i>0&&this._blur(h,0,0,i),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=aE(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=oE(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<U0.length;e++)U0[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Aw),e.scissorTest=!1,Lb(e,0,0,e.width,e.height)}_fromTexture(e){Aw=this._renderer.getRenderTarget();const i=this._allocateTargets(e);return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(e){const i={magFilter:er,minFilter:er,generateMipmaps:!1,type:ir,format:Fl,encoding:jT(e)?e.encoding:rr,depthBuffer:!1},o=sE(i);return o.depthBuffer=!e,this._pingPongRenderTarget=sE(i),o}_compileMaterial(e){const i=new is(U0[0],e);this._renderer.compile(i,Mw)}_sceneToCubeUV(e,i,o,l){const h=new Js(90,1,i,o),g=[1,-1,1,1,1,1],v=[1,1,1,-1,-1,-1],w=this._renderer,S=w.outputEncoding,L=w.toneMapping;w.getClearColor(rE);const T=w.getClearAlpha();w.toneMapping=Jt,w.outputEncoding=ct;let I=e.background;if(I&&I.isColor){I.convertSRGBToLinear();const F=Math.max(I.r,I.g,I.b),j=Math.min(Math.max(Math.ceil(Math.log2(F)),-128),127);I=I.multiplyScalar(Math.pow(2,-j));const K=(j+128)/255;w.setClearColor(I,K),e.background=null}for(let F=0;F<6;F++){const j=F%3;j==0?(h.up.set(0,g[F],0),h.lookAt(v[F],0,0)):j==1?(h.up.set(0,0,g[F]),h.lookAt(0,v[F],0)):(h.up.set(0,g[F],0),h.lookAt(0,0,v[F])),Lb(l,j*Mh,F>2?Mh:0,Mh,Mh),w.setRenderTarget(l),w.render(e,h)}w.toneMapping=L,w.outputEncoding=S,w.setClearColor(rE,T)}_textureToCubeUV(e,i){const o=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=aE()):this._equirectShader==null&&(this._equirectShader=oE());const l=e.isCubeTexture?this._cubemapShader:this._equirectShader,h=new is(U0[0],l),g=l.uniforms;g.envMap.value=e,e.isCubeTexture||g.texelSize.value.set(1/e.image.width,1/e.image.height),g.inputEncoding.value=Ah[e.encoding],g.outputEncoding.value=Ah[i.texture.encoding],Lb(i,0,0,3*Mh,2*Mh),o.setRenderTarget(i),o.render(h,Mw)}_applyPMREM(e){const i=this._renderer,o=i.autoClear;i.autoClear=!1;for(let l=1;l<tE;l++){const h=Math.sqrt(Cb[l]*Cb[l]-Cb[l-1]*Cb[l-1]),g=iE[(l-1)%iE.length];this._blur(e,l-1,l,h,g)}i.autoClear=o}_blur(e,i,o,l,h){const g=this._pingPongRenderTarget;this._halfBlur(e,g,i,o,l,"latitudinal",h),this._halfBlur(g,e,o,o,l,"longitudinal",h)}_halfBlur(e,i,o,l,h,g,v){const w=this._renderer,S=this._blurMaterial;g!=="latitudinal"&&g!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const L=new is(U0[l],S),T=S.uniforms,I=nE[o]-1,F=isFinite(h)?Math.PI/(2*I):2*Math.PI/39,j=h/F,K=isFinite(h)?1+Math.floor(3*j):20;K>20&&console.warn(`sigmaRadians, ${h}, is too large and will clip, as it requested ${K} samples when the maximum is set to 20`);const X=[];let ee=0;for(let xe=0;xe<20;++xe){const _e=xe/j,Se=Math.exp(-_e*_e/2);X.push(Se),xe==0?ee+=Se:xe<K&&(ee+=2*Se)}for(let xe=0;xe<X.length;xe++)X[xe]=X[xe]/ee;T.envMap.value=e.texture,T.samples.value=K,T.weights.value=X,T.latitudinal.value=g==="latitudinal",v&&(T.poleAxis.value=v),T.dTheta.value=F,T.mipInt.value=8-o,T.inputEncoding.value=Ah[e.texture.encoding],T.outputEncoding.value=Ah[e.texture.encoding];const me=nE[l];Lb(i,3*Math.max(0,Mh-2*me),(l===0?0:2*Mh)+2*me*(l>4?l-8+4:0),3*me,2*me),w.setRenderTarget(i),w.render(L,Mw)}}function jT(t){return t!==void 0&&t.type===ir&&(t.encoding===ct||t.encoding===Rt||t.encoding===bn)}function HT(){const t=[],e=[],i=[];let o=8;for(let l=0;l<tE;l++){const h=Math.pow(2,o);e.push(h);let g=1/h;l>4?g=eE[l-8+4-1]:l==0&&(g=0),i.push(g);const v=1/(h-1),w=-v/2,S=1+v/2,L=[w,w,S,w,S,S,w,w,S,S,w,S],T=6,I=6,F=3,j=2,K=1,X=new Float32Array(F*I*T),ee=new Float32Array(j*I*T),me=new Float32Array(K*I*T);for(let _e=0;_e<T;_e++){const Se=_e%3*2/3-1,Ne=_e>2?0:-1,Ae=[Se,Ne,0,Se+2/3,Ne,0,Se+2/3,Ne+1,0,Se,Ne,0,Se+2/3,Ne+1,0,Se,Ne+1,0];X.set(Ae,F*I*_e),ee.set(L,j*I*_e);const ut=[_e,_e,_e,_e,_e,_e];me.set(ut,K*I*_e)}const xe=new Xn;xe.setAttribute("position",new qn(X,F)),xe.setAttribute("uv",new qn(ee,j)),xe.setAttribute("faceIndex",new qn(me,K)),t.push(xe),o>4&&o--}return{_lodPlanes:t,_sizeLods:e,_sigmas:i}}function sE(t){const e=new Bo(3*Mh,3*Mh,t);return e.texture.mapping=di,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Lb(t,e,i,o,l){t.viewport.set(e,i,o,l),t.scissor.set(e,i,o,l)}function oE(){return new Xl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new Ot(1,1)},inputEncoding:{value:Ah[ct]},outputEncoding:{value:Ah[ct]}},vertexShader:Tw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${Cw()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:le,depthTest:!1,depthWrite:!1})}function aE(){return new Xl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Ah[ct]},outputEncoding:{value:Ah[ct]}},vertexShader:Tw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${Cw()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:le,depthTest:!1,depthWrite:!1})}function Tw(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Cw(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function UT(t,e,i,o,l,h,g){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new kr(t,e,i,l,h,g)}const GT=0,VT=1,WT=0,qT=1,XT=2;function $T(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function YT(t=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function ZT(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new rd(t,e)}function KT(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new lf(t)}function JT(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new rd(t,e)}function QT(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ho(t)}function eC(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ho(t)}function tC(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ho(t)}function nC(t,e,i){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new ye(t,e,i)}function rC(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new qn(t,e).setUsage(Xa)}function iC(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ao(t,e)}function sC(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new jo(t,e)}function oC(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Ds(t,e)}function aC(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Bu(t,e)}function lC(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new ll(t,e)}function uC(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ko(t,e)}function cC(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new fu(t,e)}function hC(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Nn(t,e)}function dC(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new lp(t,e)}function lE(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),dl.call(this,t),this.type="catmullrom",this.closed=!0}function uE(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),dl.call(this,t),this.type="catmullrom"}function Lw(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),dl.call(this,t),this.type="catmullrom"}function fC(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new JS(t)}function pC(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new ZS(t,e)}function mC(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new ga(new mh(t.geometry),new Rs({color:e!==void 0?e:16777215}))}function gC(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new ga(new Og(t.geometry),new Rs({color:e!==void 0?e:16777215}))}function vC(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Fn(t)}function yC(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new pt(t)}function xC(t,e,i){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new co(t,i)}Vt.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Vt.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(ad.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=new ai;for(let i=0,o=t.length;i<o;i++){const l=t[i];e.vertices.push(new ye(l.x,l.y,l.z||0))}return e}}),Object.assign(Bc.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),lE.prototype=Object.create(dl.prototype),uE.prototype=Object.create(dl.prototype),Lw.prototype=Object.create(dl.prototype),Object.assign(Lw.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),XS.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},VS.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(kt.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),lw.extractUrlBase(t)}}),kt.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(jS.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign($a.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(da.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Yd.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},US.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(An,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),An.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),An.ceilPowerOfTwo(t)}}),Object.assign(Ui.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Object.assign(Cr.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new ye().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,i,o,l,h){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,o,i,l,h)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),de.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Object.assign(hs.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(fs.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Ut.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(Ut,{barycoordFromPoint:function(t,e,i,o,l){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ut.getBarycoord(t,e,i,o,l)},normal:function(t,e,i,o){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ut.getNormal(t,e,i,o)}}),Object.assign(Ef.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new L0(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new N0(this,t)}}),Object.assign(Ot.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ye.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ii.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ai.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(N.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(N.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(is.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(is.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),ie},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Cl.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(fh.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Ec.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Vt.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Js.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Bs.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(qn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Xa},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Xa)}}}),Object.assign(qn.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Xa:Oi),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Xn.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new qn(arguments[1],arguments[2])))},addDrawCall:function(t,e,i){i!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Xn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(j0.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(ww.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(ms.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Xa},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(ms.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Xa:Oi),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(xh.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(Da.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(wb.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(gn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new zt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===W}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(wh.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Qu.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(uo.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(nf.prototype,{clearTarget:function(t,e,i,o){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,i,o)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(nf.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?Rt:ct}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(b0.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Bo.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(gw.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new bb().load(t,function(i){e.setBuffer(i)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),NS.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},yc.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},yc.prototype.clear=function(t,e,i,o){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,i,o)};const bC={merge:function(t,e,i){let o;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),o=e.matrix,e=e.geometry),t.merge(e,o,i)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};function wC(){console.error("THREE.CanvasRenderer has been removed")}function _C(){console.error("THREE.JSONLoader has been removed.")}qi.crossOrigin=void 0,qi.loadTexture=function(t,e,i,o){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const l=new cn;l.setCrossOrigin(this.crossOrigin);const h=l.load(t,i,void 0,o);return e&&(h.mapping=e),h},qi.loadTextureCube=function(t,e,i,o){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const l=new qe;l.setCrossOrigin(this.crossOrigin);const h=l.load(t,i,void 0,o);return e&&(h.mapping=e),h},qi.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},qi.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const SC={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function EC(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:a}}))},function(O,r,n){O.exports=n(27)},function(O,r,n){var a=n(28),c={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},d={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},f={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},m={};function b(Y){return a.isMemo(Y)?f:m[Y.$$typeof]||c}m[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m[a.Memo]=f;var _=Object.defineProperty,E=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,k=Object.getOwnPropertyDescriptor,V=Object.getPrototypeOf,q=Object.prototype;O.exports=function Y(Z,W,ne){if(typeof W!="string"){if(q){var le=V(W);le&&le!==q&&Y(Z,le,ne)}var ce=E(W);C&&(ce=ce.concat(C(W)));for(var Te=b(Z),we=b(W),Fe=0;Fe<ce.length;++Fe){var R=ce[Fe];if(!(d[R]||ne&&ne[R]||we&&we[R]||Te&&Te[R])){var nt=k(W,R);try{_(Z,R,nt)}catch{}}}}return Z}},function(O,r,n){var a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=function(d){var f={};return function(m){return f[m]===void 0&&(f[m]=d(m)),f[m]}}(function(d){return a.test(d)||d.charCodeAt(0)===111&&d.charCodeAt(1)===110&&d.charCodeAt(2)<91});r.a=c},function(O,r,n){var a;/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */(function(c,d){typeof O.exports=="object"?O.exports=c.document?d(c,!0):function(f){if(!f.document)throw new Error("jQuery requires a window with a document");return d(f)}:d(c)})(typeof window<"u"?window:this,function(c,d){var f=[],m=Object.getPrototypeOf,b=f.slice,_=f.flat?function(x){return f.flat.call(x)}:function(x){return f.concat.apply([],x)},E=f.push,C=f.indexOf,k={},V=k.toString,q=k.hasOwnProperty,Y=q.toString,Z=Y.call(Object),W={},ne=function(x){return typeof x=="function"&&typeof x.nodeType!="number"},le=function(x){return x!=null&&x===x.window},ce=c.document,Te={type:!0,src:!0,nonce:!0,noModule:!0};function we(x,A,B){var U,Q,ae=(B=B||ce).createElement("script");if(ae.text=x,A)for(U in Te)(Q=A[U]||A.getAttribute&&A.getAttribute(U))&&ae.setAttribute(U,Q);B.head.appendChild(ae).parentNode.removeChild(ae)}function Fe(x){return x==null?x+"":typeof x=="object"||typeof x=="function"?k[V.call(x)]||"object":typeof x}var R=function(x,A){return new R.fn.init(x,A)};function nt(x){var A=!!x&&"length"in x&&x.length,B=Fe(x);return!ne(x)&&!le(x)&&(B==="array"||A===0||typeof A=="number"&&A>0&&A-1 in x)}R.fn=R.prototype={jquery:"3.5.1",constructor:R,length:0,toArray:function(){return b.call(this)},get:function(x){return x==null?b.call(this):x<0?this[x+this.length]:this[x]},pushStack:function(x){var A=R.merge(this.constructor(),x);return A.prevObject=this,A},each:function(x){return R.each(this,x)},map:function(x){return this.pushStack(R.map(this,function(A,B){return x.call(A,B,A)}))},slice:function(){return this.pushStack(b.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(R.grep(this,function(x,A){return(A+1)%2}))},odd:function(){return this.pushStack(R.grep(this,function(x,A){return A%2}))},eq:function(x){var A=this.length,B=+x+(x<0?A:0);return this.pushStack(B>=0&&B<A?[this[B]]:[])},end:function(){return this.prevObject||this.constructor()},push:E,sort:f.sort,splice:f.splice},R.extend=R.fn.extend=function(){var x,A,B,U,Q,ae,he=arguments[0]||{},Oe=1,ze=arguments.length,tt=!1;for(typeof he=="boolean"&&(tt=he,he=arguments[Oe]||{},Oe++),typeof he=="object"||ne(he)||(he={}),Oe===ze&&(he=this,Oe--);Oe<ze;Oe++)if((x=arguments[Oe])!=null)for(A in x)U=x[A],A!=="__proto__"&&he!==U&&(tt&&U&&(R.isPlainObject(U)||(Q=Array.isArray(U)))?(B=he[A],ae=Q&&!Array.isArray(B)?[]:Q||R.isPlainObject(B)?B:{},Q=!1,he[A]=R.extend(tt,ae,U)):U!==void 0&&(he[A]=U));return he},R.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(x){throw new Error(x)},noop:function(){},isPlainObject:function(x){var A,B;return!(!x||V.call(x)!=="[object Object]")&&(!(A=m(x))||typeof(B=q.call(A,"constructor")&&A.constructor)=="function"&&Y.call(B)===Z)},isEmptyObject:function(x){var A;for(A in x)return!1;return!0},globalEval:function(x,A,B){we(x,{nonce:A&&A.nonce},B)},each:function(x,A){var B,U=0;if(nt(x))for(B=x.length;U<B&&A.call(x[U],U,x[U])!==!1;U++);else for(U in x)if(A.call(x[U],U,x[U])===!1)break;return x},makeArray:function(x,A){var B=A||[];return x!=null&&(nt(Object(x))?R.merge(B,typeof x=="string"?[x]:x):E.call(B,x)),B},inArray:function(x,A,B){return A==null?-1:C.call(A,x,B)},merge:function(x,A){for(var B=+A.length,U=0,Q=x.length;U<B;U++)x[Q++]=A[U];return x.length=Q,x},grep:function(x,A,B){for(var U=[],Q=0,ae=x.length,he=!B;Q<ae;Q++)!A(x[Q],Q)!==he&&U.push(x[Q]);return U},map:function(x,A,B){var U,Q,ae=0,he=[];if(nt(x))for(U=x.length;ae<U;ae++)(Q=A(x[ae],ae,B))!=null&&he.push(Q);else for(ae in x)(Q=A(x[ae],ae,B))!=null&&he.push(Q);return _(he)},guid:1,support:W}),typeof Symbol=="function"&&(R.fn[Symbol.iterator]=f[Symbol.iterator]),R.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(x,A){k["[object "+A+"]"]=A.toLowerCase()});var dt=function(x){var A,B,U,Q,ae,he,Oe,ze,tt,Lt,St,ft,Et,zn,sr,Un,ci,Fi,Zs,si="sizzle"+1*new Date,Sr=x.document,Do=0,oi=0,Oi=Gi(),Xa=Gi(),nh=Gi(),ca=Gi(),su=function(pe,Pe){return pe===Pe&&(St=!0),0},Du={}.hasOwnProperty,Fo=[],Fu=Fo.pop,Pa=Fo.push,cs=Fo.push,zo=Fo.slice,ns=function(pe,Pe){for(var Xe=0,Bt=pe.length;Xe<Bt;Xe++)if(pe[Xe]===Pe)return Xe;return-1},Wi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Tr="[\\x20\\t\\r\\n\\f]",An="(?:\\\\[\\da-fA-F]{1,6}"+Tr+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ot="\\["+Tr+"*("+An+")(?:"+Tr+"*([*^$|!~]?=)"+Tr+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+An+"))|)"+Tr+"*\\]",Ui=":("+An+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ot+")*)|.*)\\)|)",Ki=new RegExp(Tr+"+","g"),qi=new RegExp("^"+Tr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Tr+"+$","g"),Ra=new RegExp("^"+Tr+"*,"+Tr+"*"),ti=new RegExp("^"+Tr+"*([>+~]|"+Tr+")"+Tr+"*"),zl=new RegExp(Tr+"|>"),Ii=new RegExp(Ui),Bo=new RegExp("^"+An+"$"),al={ID:new RegExp("^#("+An+")"),CLASS:new RegExp("^\\.("+An+")"),TAG:new RegExp("^("+An+"|[*])"),ATTR:new RegExp("^"+Ot),PSEUDO:new RegExp("^"+Ui),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Tr+"*(even|odd|(([+-]|)(\\d*)n|)"+Tr+"*(?:([+-]|)"+Tr+"*(\\d+)|))"+Tr+"*\\)|)","i"),bool:new RegExp("^(?:"+Wi+")$","i"),needsContext:new RegExp("^"+Tr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Tr+"*((?:-\\d)?\\d*)"+Tr+"*\\)|)(?=[^-]|$)","i")},hs=/HTML$/i,ye=/^(?:input|select|textarea|button)$/i,rh=/^h\d$/i,ou=/^[^{]+\{\s*\[native \w/,$a=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,au=/[+~]/,ds=new RegExp("\\\\[\\da-fA-F]{1,6}"+Tr+"?|\\\\([^\\r\\n\\f])","g"),ha=function(pe,Pe){var Xe="0x"+pe.slice(1)-65536;return Pe||(Xe<0?String.fromCharCode(Xe+65536):String.fromCharCode(Xe>>10|55296,1023&Xe|56320))},ih=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,lu=function(pe,Pe){return Pe?pe==="\0"?"�":pe.slice(0,-1)+"\\"+pe.charCodeAt(pe.length-1).toString(16)+" ":"\\"+pe},Bl=function(){ft()},uu=fa(function(pe){return pe.disabled===!0&&pe.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{cs.apply(Fo=zo.call(Sr.childNodes),Sr.childNodes),Fo[Sr.childNodes.length].nodeType}catch{cs={apply:Fo.length?function(Pe,Xe){Pa.apply(Pe,zo.call(Xe))}:function(Pe,Xe){for(var Bt=Pe.length,Qe=0;Pe[Bt++]=Xe[Qe++];);Pe.length=Bt-1}}}function qr(pe,Pe,Xe,Bt){var Qe,Xt,Yt,sn,Sn,cr,fr,yr=Pe&&Pe.ownerDocument,jr=Pe?Pe.nodeType:9;if(Xe=Xe||[],typeof pe!="string"||!pe||jr!==1&&jr!==9&&jr!==11)return Xe;if(!Bt&&(ft(Pe),Pe=Pe||Et,sr)){if(jr!==11&&(Sn=$a.exec(pe)))if(Qe=Sn[1]){if(jr===9){if(!(Yt=Pe.getElementById(Qe)))return Xe;if(Yt.id===Qe)return Xe.push(Yt),Xe}else if(yr&&(Yt=yr.getElementById(Qe))&&Zs(Pe,Yt)&&Yt.id===Qe)return Xe.push(Yt),Xe}else{if(Sn[2])return cs.apply(Xe,Pe.getElementsByTagName(pe)),Xe;if((Qe=Sn[3])&&B.getElementsByClassName&&Pe.getElementsByClassName)return cs.apply(Xe,Pe.getElementsByClassName(Qe)),Xe}if(B.qsa&&!ca[pe+" "]&&(!Un||!Un.test(pe))&&(jr!==1||Pe.nodeName.toLowerCase()!=="object")){if(fr=pe,yr=Pe,jr===1&&(zl.test(pe)||ti.test(pe))){for((yr=au.test(pe)&&hu(Pe.parentNode)||Pe)===Pe&&B.scope||((sn=Pe.getAttribute("id"))?sn=sn.replace(ih,lu):Pe.setAttribute("id",sn=si)),Xt=(cr=he(pe)).length;Xt--;)cr[Xt]=(sn?"#"+sn:":scope")+" "+Yo(cr[Xt]);fr=cr.join(",")}try{return cs.apply(Xe,yr.querySelectorAll(fr)),Xe}catch{ca(pe,!0)}finally{sn===si&&Pe.removeAttribute("id")}}}return ze(pe.replace(qi,"$1"),Pe,Xe,Bt)}function Gi(){var pe=[];return function Pe(Xe,Bt){return pe.push(Xe+" ")>U.cacheLength&&delete Pe[pe.shift()],Pe[Xe+" "]=Bt}}function rs(pe){return pe[si]=!0,pe}function Is(pe){var Pe=Et.createElement("fieldset");try{return!!pe(Pe)}catch{return!1}finally{Pe.parentNode&&Pe.parentNode.removeChild(Pe),Pe=null}}function Xo(pe,Pe){for(var Xe=pe.split("|"),Bt=Xe.length;Bt--;)U.attrHandle[Xe[Bt]]=Pe}function cu(pe,Pe){var Xe=Pe&&pe,Bt=Xe&&pe.nodeType===1&&Pe.nodeType===1&&pe.sourceIndex-Pe.sourceIndex;if(Bt)return Bt;if(Xe){for(;Xe=Xe.nextSibling;)if(Xe===Pe)return-1}return pe?1:-1}function $o(pe){return function(Pe){return Pe.nodeName.toLowerCase()==="input"&&Pe.type===pe}}function mc(pe){return function(Pe){var Xe=Pe.nodeName.toLowerCase();return(Xe==="input"||Xe==="button")&&Pe.type===pe}}function da(pe){return function(Pe){return"form"in Pe?Pe.parentNode&&Pe.disabled===!1?"label"in Pe?"label"in Pe.parentNode?Pe.parentNode.disabled===pe:Pe.disabled===pe:Pe.isDisabled===pe||Pe.isDisabled!==!pe&&uu(Pe)===pe:Pe.disabled===pe:"label"in Pe&&Pe.disabled===pe}}function oo(pe){return rs(function(Pe){return Pe=+Pe,rs(function(Xe,Bt){for(var Qe,Xt=pe([],Xe.length,Pe),Yt=Xt.length;Yt--;)Xe[Qe=Xt[Yt]]&&(Xe[Qe]=!(Bt[Qe]=Xe[Qe]))})})}function hu(pe){return pe&&pe.getElementsByTagName!==void 0&&pe}for(A in B=qr.support={},ae=qr.isXML=function(pe){var Pe=pe.namespaceURI,Xe=(pe.ownerDocument||pe).documentElement;return!hs.test(Pe||Xe&&Xe.nodeName||"HTML")},ft=qr.setDocument=function(pe){var Pe,Xe,Bt=pe?pe.ownerDocument||pe:Sr;return Bt!=Et&&Bt.nodeType===9&&Bt.documentElement&&(zn=(Et=Bt).documentElement,sr=!ae(Et),Sr!=Et&&(Xe=Et.defaultView)&&Xe.top!==Xe&&(Xe.addEventListener?Xe.addEventListener("unload",Bl,!1):Xe.attachEvent&&Xe.attachEvent("onunload",Bl)),B.scope=Is(function(Qe){return zn.appendChild(Qe).appendChild(Et.createElement("div")),Qe.querySelectorAll!==void 0&&!Qe.querySelectorAll(":scope fieldset div").length}),B.attributes=Is(function(Qe){return Qe.className="i",!Qe.getAttribute("className")}),B.getElementsByTagName=Is(function(Qe){return Qe.appendChild(Et.createComment("")),!Qe.getElementsByTagName("*").length}),B.getElementsByClassName=ou.test(Et.getElementsByClassName),B.getById=Is(function(Qe){return zn.appendChild(Qe).id=si,!Et.getElementsByName||!Et.getElementsByName(si).length}),B.getById?(U.filter.ID=function(Qe){var Xt=Qe.replace(ds,ha);return function(Yt){return Yt.getAttribute("id")===Xt}},U.find.ID=function(Qe,Xt){if(Xt.getElementById!==void 0&&sr){var Yt=Xt.getElementById(Qe);return Yt?[Yt]:[]}}):(U.filter.ID=function(Qe){var Xt=Qe.replace(ds,ha);return function(Yt){var sn=Yt.getAttributeNode!==void 0&&Yt.getAttributeNode("id");return sn&&sn.value===Xt}},U.find.ID=function(Qe,Xt){if(Xt.getElementById!==void 0&&sr){var Yt,sn,Sn,cr=Xt.getElementById(Qe);if(cr){if((Yt=cr.getAttributeNode("id"))&&Yt.value===Qe)return[cr];for(Sn=Xt.getElementsByName(Qe),sn=0;cr=Sn[sn++];)if((Yt=cr.getAttributeNode("id"))&&Yt.value===Qe)return[cr]}return[]}}),U.find.TAG=B.getElementsByTagName?function(Qe,Xt){return Xt.getElementsByTagName!==void 0?Xt.getElementsByTagName(Qe):B.qsa?Xt.querySelectorAll(Qe):void 0}:function(Qe,Xt){var Yt,sn=[],Sn=0,cr=Xt.getElementsByTagName(Qe);if(Qe==="*"){for(;Yt=cr[Sn++];)Yt.nodeType===1&&sn.push(Yt);return sn}return cr},U.find.CLASS=B.getElementsByClassName&&function(Qe,Xt){if(Xt.getElementsByClassName!==void 0&&sr)return Xt.getElementsByClassName(Qe)},ci=[],Un=[],(B.qsa=ou.test(Et.querySelectorAll))&&(Is(function(Qe){var Xt;zn.appendChild(Qe).innerHTML="<a id='"+si+"'></a><select id='"+si+"-\r\\' msallowcapture=''><option selected=''></option></select>",Qe.querySelectorAll("[msallowcapture^='']").length&&Un.push("[*^$]="+Tr+`*(?:''|"")`),Qe.querySelectorAll("[selected]").length||Un.push("\\["+Tr+"*(?:value|"+Wi+")"),Qe.querySelectorAll("[id~="+si+"-]").length||Un.push("~="),(Xt=Et.createElement("input")).setAttribute("name",""),Qe.appendChild(Xt),Qe.querySelectorAll("[name='']").length||Un.push("\\["+Tr+"*name"+Tr+"*="+Tr+`*(?:''|"")`),Qe.querySelectorAll(":checked").length||Un.push(":checked"),Qe.querySelectorAll("a#"+si+"+*").length||Un.push(".#.+[+~]"),Qe.querySelectorAll("\\\f"),Un.push("[\\r\\n\\f]")}),Is(function(Qe){Qe.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Xt=Et.createElement("input");Xt.setAttribute("type","hidden"),Qe.appendChild(Xt).setAttribute("name","D"),Qe.querySelectorAll("[name=d]").length&&Un.push("name"+Tr+"*[*^$|!~]?="),Qe.querySelectorAll(":enabled").length!==2&&Un.push(":enabled",":disabled"),zn.appendChild(Qe).disabled=!0,Qe.querySelectorAll(":disabled").length!==2&&Un.push(":enabled",":disabled"),Qe.querySelectorAll("*,:x"),Un.push(",.*:")})),(B.matchesSelector=ou.test(Fi=zn.matches||zn.webkitMatchesSelector||zn.mozMatchesSelector||zn.oMatchesSelector||zn.msMatchesSelector))&&Is(function(Qe){B.disconnectedMatch=Fi.call(Qe,"*"),Fi.call(Qe,"[s!='']:x"),ci.push("!=",Ui)}),Un=Un.length&&new RegExp(Un.join("|")),ci=ci.length&&new RegExp(ci.join("|")),Pe=ou.test(zn.compareDocumentPosition),Zs=Pe||ou.test(zn.contains)?function(Qe,Xt){var Yt=Qe.nodeType===9?Qe.documentElement:Qe,sn=Xt&&Xt.parentNode;return Qe===sn||!(!sn||sn.nodeType!==1||!(Yt.contains?Yt.contains(sn):Qe.compareDocumentPosition&&16&Qe.compareDocumentPosition(sn)))}:function(Qe,Xt){if(Xt){for(;Xt=Xt.parentNode;)if(Xt===Qe)return!0}return!1},su=Pe?function(Qe,Xt){if(Qe===Xt)return St=!0,0;var Yt=!Qe.compareDocumentPosition-!Xt.compareDocumentPosition;return Yt||(1&(Yt=(Qe.ownerDocument||Qe)==(Xt.ownerDocument||Xt)?Qe.compareDocumentPosition(Xt):1)||!B.sortDetached&&Xt.compareDocumentPosition(Qe)===Yt?Qe==Et||Qe.ownerDocument==Sr&&Zs(Sr,Qe)?-1:Xt==Et||Xt.ownerDocument==Sr&&Zs(Sr,Xt)?1:Lt?ns(Lt,Qe)-ns(Lt,Xt):0:4&Yt?-1:1)}:function(Qe,Xt){if(Qe===Xt)return St=!0,0;var Yt,sn=0,Sn=Qe.parentNode,cr=Xt.parentNode,fr=[Qe],yr=[Xt];if(!Sn||!cr)return Qe==Et?-1:Xt==Et?1:Sn?-1:cr?1:Lt?ns(Lt,Qe)-ns(Lt,Xt):0;if(Sn===cr)return cu(Qe,Xt);for(Yt=Qe;Yt=Yt.parentNode;)fr.unshift(Yt);for(Yt=Xt;Yt=Yt.parentNode;)yr.unshift(Yt);for(;fr[sn]===yr[sn];)sn++;return sn?cu(fr[sn],yr[sn]):fr[sn]==Sr?-1:yr[sn]==Sr?1:0}),Et},qr.matches=function(pe,Pe){return qr(pe,null,null,Pe)},qr.matchesSelector=function(pe,Pe){if(ft(pe),B.matchesSelector&&sr&&!ca[Pe+" "]&&(!ci||!ci.test(Pe))&&(!Un||!Un.test(Pe)))try{var Xe=Fi.call(pe,Pe);if(Xe||B.disconnectedMatch||pe.document&&pe.document.nodeType!==11)return Xe}catch{ca(Pe,!0)}return qr(Pe,Et,null,[pe]).length>0},qr.contains=function(pe,Pe){return(pe.ownerDocument||pe)!=Et&&ft(pe),Zs(pe,Pe)},qr.attr=function(pe,Pe){(pe.ownerDocument||pe)!=Et&&ft(pe);var Xe=U.attrHandle[Pe.toLowerCase()],Bt=Xe&&Du.call(U.attrHandle,Pe.toLowerCase())?Xe(pe,Pe,!sr):void 0;return Bt!==void 0?Bt:B.attributes||!sr?pe.getAttribute(Pe):(Bt=pe.getAttributeNode(Pe))&&Bt.specified?Bt.value:null},qr.escape=function(pe){return(pe+"").replace(ih,lu)},qr.error=function(pe){throw new Error("Syntax error, unrecognized expression: "+pe)},qr.uniqueSort=function(pe){var Pe,Xe=[],Bt=0,Qe=0;if(St=!B.detectDuplicates,Lt=!B.sortStable&&pe.slice(0),pe.sort(su),St){for(;Pe=pe[Qe++];)Pe===pe[Qe]&&(Bt=Xe.push(Qe));for(;Bt--;)pe.splice(Xe[Bt],1)}return Lt=null,pe},Q=qr.getText=function(pe){var Pe,Xe="",Bt=0,Qe=pe.nodeType;if(Qe){if(Qe===1||Qe===9||Qe===11){if(typeof pe.textContent=="string")return pe.textContent;for(pe=pe.firstChild;pe;pe=pe.nextSibling)Xe+=Q(pe)}else if(Qe===3||Qe===4)return pe.nodeValue}else for(;Pe=pe[Bt++];)Xe+=Q(Pe);return Xe},(U=qr.selectors={cacheLength:50,createPseudo:rs,match:al,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(pe){return pe[1]=pe[1].replace(ds,ha),pe[3]=(pe[3]||pe[4]||pe[5]||"").replace(ds,ha),pe[2]==="~="&&(pe[3]=" "+pe[3]+" "),pe.slice(0,4)},CHILD:function(pe){return pe[1]=pe[1].toLowerCase(),pe[1].slice(0,3)==="nth"?(pe[3]||qr.error(pe[0]),pe[4]=+(pe[4]?pe[5]+(pe[6]||1):2*(pe[3]==="even"||pe[3]==="odd")),pe[5]=+(pe[7]+pe[8]||pe[3]==="odd")):pe[3]&&qr.error(pe[0]),pe},PSEUDO:function(pe){var Pe,Xe=!pe[6]&&pe[2];return al.CHILD.test(pe[0])?null:(pe[3]?pe[2]=pe[4]||pe[5]||"":Xe&&Ii.test(Xe)&&(Pe=he(Xe,!0))&&(Pe=Xe.indexOf(")",Xe.length-Pe)-Xe.length)&&(pe[0]=pe[0].slice(0,Pe),pe[2]=Xe.slice(0,Pe)),pe.slice(0,3))}},filter:{TAG:function(pe){var Pe=pe.replace(ds,ha).toLowerCase();return pe==="*"?function(){return!0}:function(Xe){return Xe.nodeName&&Xe.nodeName.toLowerCase()===Pe}},CLASS:function(pe){var Pe=Oi[pe+" "];return Pe||(Pe=new RegExp("(^|"+Tr+")"+pe+"("+Tr+"|$)"))&&Oi(pe,function(Xe){return Pe.test(typeof Xe.className=="string"&&Xe.className||Xe.getAttribute!==void 0&&Xe.getAttribute("class")||"")})},ATTR:function(pe,Pe,Xe){return function(Bt){var Qe=qr.attr(Bt,pe);return Qe==null?Pe==="!=":!Pe||(Qe+="",Pe==="="?Qe===Xe:Pe==="!="?Qe!==Xe:Pe==="^="?Xe&&Qe.indexOf(Xe)===0:Pe==="*="?Xe&&Qe.indexOf(Xe)>-1:Pe==="$="?Xe&&Qe.slice(-Xe.length)===Xe:Pe==="~="?(" "+Qe.replace(Ki," ")+" ").indexOf(Xe)>-1:Pe==="|="&&(Qe===Xe||Qe.slice(0,Xe.length+1)===Xe+"-"))}},CHILD:function(pe,Pe,Xe,Bt,Qe){var Xt=pe.slice(0,3)!=="nth",Yt=pe.slice(-4)!=="last",sn=Pe==="of-type";return Bt===1&&Qe===0?function(Sn){return!!Sn.parentNode}:function(Sn,cr,fr){var yr,jr,bi,hr,ps,Ji,Ks=Xt!==Yt?"nextSibling":"previousSibling",Ci=Sn.parentNode,Zo=sn&&Sn.nodeName.toLowerCase(),Ns=!fr&&!sn,Es=!1;if(Ci){if(Xt){for(;Ks;){for(hr=Sn;hr=hr[Ks];)if(sn?hr.nodeName.toLowerCase()===Zo:hr.nodeType===1)return!1;Ji=Ks=pe==="only"&&!Ji&&"nextSibling"}return!0}if(Ji=[Yt?Ci.firstChild:Ci.lastChild],Yt&&Ns){for(Es=(ps=(yr=(jr=(bi=(hr=Ci)[si]||(hr[si]={}))[hr.uniqueID]||(bi[hr.uniqueID]={}))[pe]||[])[0]===Do&&yr[1])&&yr[2],hr=ps&&Ci.childNodes[ps];hr=++ps&&hr&&hr[Ks]||(Es=ps=0)||Ji.pop();)if(hr.nodeType===1&&++Es&&hr===Sn){jr[pe]=[Do,ps,Es];break}}else if(Ns&&(Es=ps=(yr=(jr=(bi=(hr=Sn)[si]||(hr[si]={}))[hr.uniqueID]||(bi[hr.uniqueID]={}))[pe]||[])[0]===Do&&yr[1]),Es===!1)for(;(hr=++ps&&hr&&hr[Ks]||(Es=ps=0)||Ji.pop())&&((sn?hr.nodeName.toLowerCase()!==Zo:hr.nodeType!==1)||!++Es||(Ns&&((jr=(bi=hr[si]||(hr[si]={}))[hr.uniqueID]||(bi[hr.uniqueID]={}))[pe]=[Do,Es]),hr!==Sn)););return(Es-=Qe)===Bt||Es%Bt==0&&Es/Bt>=0}}},PSEUDO:function(pe,Pe){var Xe,Bt=U.pseudos[pe]||U.setFilters[pe.toLowerCase()]||qr.error("unsupported pseudo: "+pe);return Bt[si]?Bt(Pe):Bt.length>1?(Xe=[pe,pe,"",Pe],U.setFilters.hasOwnProperty(pe.toLowerCase())?rs(function(Qe,Xt){for(var Yt,sn=Bt(Qe,Pe),Sn=sn.length;Sn--;)Qe[Yt=ns(Qe,sn[Sn])]=!(Xt[Yt]=sn[Sn])}):function(Qe){return Bt(Qe,0,Xe)}):Bt}},pseudos:{not:rs(function(pe){var Pe=[],Xe=[],Bt=Oe(pe.replace(qi,"$1"));return Bt[si]?rs(function(Qe,Xt,Yt,sn){for(var Sn,cr=Bt(Qe,null,sn,[]),fr=Qe.length;fr--;)(Sn=cr[fr])&&(Qe[fr]=!(Xt[fr]=Sn))}):function(Qe,Xt,Yt){return Pe[0]=Qe,Bt(Pe,null,Yt,Xe),Pe[0]=null,!Xe.pop()}}),has:rs(function(pe){return function(Pe){return qr(pe,Pe).length>0}}),contains:rs(function(pe){return pe=pe.replace(ds,ha),function(Pe){return(Pe.textContent||Q(Pe)).indexOf(pe)>-1}}),lang:rs(function(pe){return Bo.test(pe||"")||qr.error("unsupported lang: "+pe),pe=pe.replace(ds,ha).toLowerCase(),function(Pe){var Xe;do if(Xe=sr?Pe.lang:Pe.getAttribute("xml:lang")||Pe.getAttribute("lang"))return(Xe=Xe.toLowerCase())===pe||Xe.indexOf(pe+"-")===0;while((Pe=Pe.parentNode)&&Pe.nodeType===1);return!1}}),target:function(pe){var Pe=x.location&&x.location.hash;return Pe&&Pe.slice(1)===pe.id},root:function(pe){return pe===zn},focus:function(pe){return pe===Et.activeElement&&(!Et.hasFocus||Et.hasFocus())&&!!(pe.type||pe.href||~pe.tabIndex)},enabled:da(!1),disabled:da(!0),checked:function(pe){var Pe=pe.nodeName.toLowerCase();return Pe==="input"&&!!pe.checked||Pe==="option"&&!!pe.selected},selected:function(pe){return pe.parentNode&&pe.parentNode.selectedIndex,pe.selected===!0},empty:function(pe){for(pe=pe.firstChild;pe;pe=pe.nextSibling)if(pe.nodeType<6)return!1;return!0},parent:function(pe){return!U.pseudos.empty(pe)},header:function(pe){return rh.test(pe.nodeName)},input:function(pe){return ye.test(pe.nodeName)},button:function(pe){var Pe=pe.nodeName.toLowerCase();return Pe==="input"&&pe.type==="button"||Pe==="button"},text:function(pe){var Pe;return pe.nodeName.toLowerCase()==="input"&&pe.type==="text"&&((Pe=pe.getAttribute("type"))==null||Pe.toLowerCase()==="text")},first:oo(function(){return[0]}),last:oo(function(pe,Pe){return[Pe-1]}),eq:oo(function(pe,Pe,Xe){return[Xe<0?Xe+Pe:Xe]}),even:oo(function(pe,Pe){for(var Xe=0;Xe<Pe;Xe+=2)pe.push(Xe);return pe}),odd:oo(function(pe,Pe){for(var Xe=1;Xe<Pe;Xe+=2)pe.push(Xe);return pe}),lt:oo(function(pe,Pe,Xe){for(var Bt=Xe<0?Xe+Pe:Xe>Pe?Pe:Xe;--Bt>=0;)pe.push(Bt);return pe}),gt:oo(function(pe,Pe,Xe){for(var Bt=Xe<0?Xe+Pe:Xe;++Bt<Pe;)pe.push(Bt);return pe})}}).pseudos.nth=U.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[A]=$o(A);for(A in{submit:!0,reset:!0})U.pseudos[A]=mc(A);function zu(){}function Yo(pe){for(var Pe=0,Xe=pe.length,Bt="";Pe<Xe;Pe++)Bt+=pe[Pe].value;return Bt}function fa(pe,Pe,Xe){var Bt=Pe.dir,Qe=Pe.next,Xt=Qe||Bt,Yt=Xe&&Xt==="parentNode",sn=oi++;return Pe.first?function(Sn,cr,fr){for(;Sn=Sn[Bt];)if(Sn.nodeType===1||Yt)return pe(Sn,cr,fr);return!1}:function(Sn,cr,fr){var yr,jr,bi,hr=[Do,sn];if(fr){for(;Sn=Sn[Bt];)if((Sn.nodeType===1||Yt)&&pe(Sn,cr,fr))return!0}else for(;Sn=Sn[Bt];)if(Sn.nodeType===1||Yt)if(jr=(bi=Sn[si]||(Sn[si]={}))[Sn.uniqueID]||(bi[Sn.uniqueID]={}),Qe&&Qe===Sn.nodeName.toLowerCase())Sn=Sn[Bt]||Sn;else{if((yr=jr[Xt])&&yr[0]===Do&&yr[1]===sn)return hr[2]=yr[2];if(jr[Xt]=hr,hr[2]=pe(Sn,cr,fr))return!0}return!1}}function du(pe){return pe.length>1?function(Pe,Xe,Bt){for(var Qe=pe.length;Qe--;)if(!pe[Qe](Pe,Xe,Bt))return!1;return!0}:pe[0]}function pa(pe,Pe,Xe,Bt,Qe){for(var Xt,Yt=[],sn=0,Sn=pe.length,cr=Pe!=null;sn<Sn;sn++)(Xt=pe[sn])&&(Xe&&!Xe(Xt,Bt,Qe)||(Yt.push(Xt),cr&&Pe.push(sn)));return Yt}function fs(pe,Pe,Xe,Bt,Qe,Xt){return Bt&&!Bt[si]&&(Bt=fs(Bt)),Qe&&!Qe[si]&&(Qe=fs(Qe,Xt)),rs(function(Yt,sn,Sn,cr){var fr,yr,jr,bi=[],hr=[],ps=sn.length,Ji=Yt||function(Zo,Ns,Es){for(var P=0,D=Ns.length;P<D;P++)qr(Zo,Ns[P],Es);return Es}(Pe||"*",Sn.nodeType?[Sn]:Sn,[]),Ks=!pe||!Yt&&Pe?Ji:pa(Ji,bi,pe,Sn,cr),Ci=Xe?Qe||(Yt?pe:ps||Bt)?[]:sn:Ks;if(Xe&&Xe(Ks,Ci,Sn,cr),Bt)for(fr=pa(Ci,hr),Bt(fr,[],Sn,cr),yr=fr.length;yr--;)(jr=fr[yr])&&(Ci[hr[yr]]=!(Ks[hr[yr]]=jr));if(Yt){if(Qe||pe){if(Qe){for(fr=[],yr=Ci.length;yr--;)(jr=Ci[yr])&&fr.push(Ks[yr]=jr);Qe(null,Ci=[],fr,cr)}for(yr=Ci.length;yr--;)(jr=Ci[yr])&&(fr=Qe?ns(Yt,jr):bi[yr])>-1&&(Yt[fr]=!(sn[fr]=jr))}}else Ci=pa(Ci===sn?Ci.splice(ps,Ci.length):Ci),Qe?Qe(null,sn,Ci,cr):cs.apply(sn,Ci)})}function Cr(pe){for(var Pe,Xe,Bt,Qe=pe.length,Xt=U.relative[pe[0].type],Yt=Xt||U.relative[" "],sn=Xt?1:0,Sn=fa(function(yr){return yr===Pe},Yt,!0),cr=fa(function(yr){return ns(Pe,yr)>-1},Yt,!0),fr=[function(yr,jr,bi){var hr=!Xt&&(bi||jr!==tt)||((Pe=jr).nodeType?Sn(yr,jr,bi):cr(yr,jr,bi));return Pe=null,hr}];sn<Qe;sn++)if(Xe=U.relative[pe[sn].type])fr=[fa(du(fr),Xe)];else{if((Xe=U.filter[pe[sn].type].apply(null,pe[sn].matches))[si]){for(Bt=++sn;Bt<Qe&&!U.relative[pe[Bt].type];Bt++);return fs(sn>1&&du(fr),sn>1&&Yo(pe.slice(0,sn-1).concat({value:pe[sn-2].type===" "?"*":""})).replace(qi,"$1"),Xe,sn<Bt&&Cr(pe.slice(sn,Bt)),Bt<Qe&&Cr(pe=pe.slice(Bt)),Bt<Qe&&Yo(pe))}fr.push(Xe)}return du(fr)}return zu.prototype=U.filters=U.pseudos,U.setFilters=new zu,he=qr.tokenize=function(pe,Pe){var Xe,Bt,Qe,Xt,Yt,sn,Sn,cr=Xa[pe+" "];if(cr)return Pe?0:cr.slice(0);for(Yt=pe,sn=[],Sn=U.preFilter;Yt;){for(Xt in Xe&&!(Bt=Ra.exec(Yt))||(Bt&&(Yt=Yt.slice(Bt[0].length)||Yt),sn.push(Qe=[])),Xe=!1,(Bt=ti.exec(Yt))&&(Xe=Bt.shift(),Qe.push({value:Xe,type:Bt[0].replace(qi," ")}),Yt=Yt.slice(Xe.length)),U.filter)!(Bt=al[Xt].exec(Yt))||Sn[Xt]&&!(Bt=Sn[Xt](Bt))||(Xe=Bt.shift(),Qe.push({value:Xe,type:Xt,matches:Bt}),Yt=Yt.slice(Xe.length));if(!Xe)break}return Pe?Yt.length:Yt?qr.error(pe):Xa(pe,sn).slice(0)},Oe=qr.compile=function(pe,Pe){var Xe,Bt=[],Qe=[],Xt=nh[pe+" "];if(!Xt){for(Pe||(Pe=he(pe)),Xe=Pe.length;Xe--;)(Xt=Cr(Pe[Xe]))[si]?Bt.push(Xt):Qe.push(Xt);(Xt=nh(pe,function(Yt,sn){var Sn=sn.length>0,cr=Yt.length>0,fr=function(yr,jr,bi,hr,ps){var Ji,Ks,Ci,Zo=0,Ns="0",Es=yr&&[],P=[],D=tt,N=yr||cr&&U.find.TAG("*",ps),H=Do+=D==null?1:Math.random()||.1,J=N.length;for(ps&&(tt=jr==Et||jr||ps);Ns!==J&&(Ji=N[Ns])!=null;Ns++){if(cr&&Ji){for(Ks=0,jr||Ji.ownerDocument==Et||(ft(Ji),bi=!sr);Ci=Yt[Ks++];)if(Ci(Ji,jr||Et,bi)){hr.push(Ji);break}ps&&(Do=H)}Sn&&((Ji=!Ci&&Ji)&&Zo--,yr&&Es.push(Ji))}if(Zo+=Ns,Sn&&Ns!==Zo){for(Ks=0;Ci=sn[Ks++];)Ci(Es,P,jr,bi);if(yr){if(Zo>0)for(;Ns--;)Es[Ns]||P[Ns]||(P[Ns]=Fu.call(hr));P=pa(P)}cs.apply(hr,P),ps&&!yr&&P.length>0&&Zo+sn.length>1&&qr.uniqueSort(hr)}return ps&&(Do=H,tt=D),Es};return Sn?rs(fr):fr}(Qe,Bt))).selector=pe}return Xt},ze=qr.select=function(pe,Pe,Xe,Bt){var Qe,Xt,Yt,sn,Sn,cr=typeof pe=="function"&&pe,fr=!Bt&&he(pe=cr.selector||pe);if(Xe=Xe||[],fr.length===1){if((Xt=fr[0]=fr[0].slice(0)).length>2&&(Yt=Xt[0]).type==="ID"&&Pe.nodeType===9&&sr&&U.relative[Xt[1].type]){if(!(Pe=(U.find.ID(Yt.matches[0].replace(ds,ha),Pe)||[])[0]))return Xe;cr&&(Pe=Pe.parentNode),pe=pe.slice(Xt.shift().value.length)}for(Qe=al.needsContext.test(pe)?0:Xt.length;Qe--&&(Yt=Xt[Qe],!U.relative[sn=Yt.type]);)if((Sn=U.find[sn])&&(Bt=Sn(Yt.matches[0].replace(ds,ha),au.test(Xt[0].type)&&hu(Pe.parentNode)||Pe))){if(Xt.splice(Qe,1),!(pe=Bt.length&&Yo(Xt)))return cs.apply(Xe,Bt),Xe;break}}return(cr||Oe(pe,fr))(Bt,Pe,!sr,Xe,!Pe||au.test(pe)&&hu(Pe.parentNode)||Pe),Xe},B.sortStable=si.split("").sort(su).join("")===si,B.detectDuplicates=!!St,ft(),B.sortDetached=Is(function(pe){return 1&pe.compareDocumentPosition(Et.createElement("fieldset"))}),Is(function(pe){return pe.innerHTML="<a href='#'></a>",pe.firstChild.getAttribute("href")==="#"})||Xo("type|href|height|width",function(pe,Pe,Xe){if(!Xe)return pe.getAttribute(Pe,Pe.toLowerCase()==="type"?1:2)}),B.attributes&&Is(function(pe){return pe.innerHTML="<input/>",pe.firstChild.setAttribute("value",""),pe.firstChild.getAttribute("value")===""})||Xo("value",function(pe,Pe,Xe){if(!Xe&&pe.nodeName.toLowerCase()==="input")return pe.defaultValue}),Is(function(pe){return pe.getAttribute("disabled")==null})||Xo(Wi,function(pe,Pe,Xe){var Bt;if(!Xe)return pe[Pe]===!0?Pe.toLowerCase():(Bt=pe.getAttributeNode(Pe))&&Bt.specified?Bt.value:null}),qr}(c);R.find=dt,R.expr=dt.selectors,R.expr[":"]=R.expr.pseudos,R.uniqueSort=R.unique=dt.uniqueSort,R.text=dt.getText,R.isXMLDoc=dt.isXML,R.contains=dt.contains,R.escapeSelector=dt.escape;var wt=function(x,A,B){for(var U=[],Q=B!==void 0;(x=x[A])&&x.nodeType!==9;)if(x.nodeType===1){if(Q&&R(x).is(B))break;U.push(x)}return U},Ze=function(x,A){for(var B=[];x;x=x.nextSibling)x.nodeType===1&&x!==A&&B.push(x);return B},rt=R.expr.match.needsContext;function ot(x,A){return x.nodeName&&x.nodeName.toLowerCase()===A.toLowerCase()}var xt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function We(x,A,B){return ne(A)?R.grep(x,function(U,Q){return!!A.call(U,Q,U)!==B}):A.nodeType?R.grep(x,function(U){return U===A!==B}):typeof A!="string"?R.grep(x,function(U){return C.call(A,U)>-1!==B}):R.filter(A,x,B)}R.filter=function(x,A,B){var U=A[0];return B&&(x=":not("+x+")"),A.length===1&&U.nodeType===1?R.find.matchesSelector(U,x)?[U]:[]:R.find.matches(x,R.grep(A,function(Q){return Q.nodeType===1}))},R.fn.extend({find:function(x){var A,B,U=this.length,Q=this;if(typeof x!="string")return this.pushStack(R(x).filter(function(){for(A=0;A<U;A++)if(R.contains(Q[A],this))return!0}));for(B=this.pushStack([]),A=0;A<U;A++)R.find(x,Q[A],B);return U>1?R.uniqueSort(B):B},filter:function(x){return this.pushStack(We(this,x||[],!1))},not:function(x){return this.pushStack(We(this,x||[],!0))},is:function(x){return!!We(this,typeof x=="string"&&rt.test(x)?R(x):x||[],!1).length}});var at,Ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(R.fn.init=function(x,A,B){var U,Q;if(!x)return this;if(B=B||at,typeof x=="string"){if(!(U=x[0]==="<"&&x[x.length-1]===">"&&x.length>=3?[null,x,null]:Ge.exec(x))||!U[1]&&A)return!A||A.jquery?(A||B).find(x):this.constructor(A).find(x);if(U[1]){if(A=A instanceof R?A[0]:A,R.merge(this,R.parseHTML(U[1],A&&A.nodeType?A.ownerDocument||A:ce,!0)),xt.test(U[1])&&R.isPlainObject(A))for(U in A)ne(this[U])?this[U](A[U]):this.attr(U,A[U]);return this}return(Q=ce.getElementById(U[2]))&&(this[0]=Q,this.length=1),this}return x.nodeType?(this[0]=x,this.length=1,this):ne(x)?B.ready!==void 0?B.ready(x):x(R):R.makeArray(x,this)}).prototype=R.fn,at=R(ce);var te=/^(?:parents|prev(?:Until|All))/,lt={children:!0,contents:!0,next:!0,prev:!0};function Ee(x,A){for(;(x=x[A])&&x.nodeType!==1;);return x}R.fn.extend({has:function(x){var A=R(x,this),B=A.length;return this.filter(function(){for(var U=0;U<B;U++)if(R.contains(this,A[U]))return!0})},closest:function(x,A){var B,U=0,Q=this.length,ae=[],he=typeof x!="string"&&R(x);if(!rt.test(x)){for(;U<Q;U++)for(B=this[U];B&&B!==A;B=B.parentNode)if(B.nodeType<11&&(he?he.index(B)>-1:B.nodeType===1&&R.find.matchesSelector(B,x))){ae.push(B);break}}return this.pushStack(ae.length>1?R.uniqueSort(ae):ae)},index:function(x){return x?typeof x=="string"?C.call(R(x),this[0]):C.call(this,x.jquery?x[0]:x):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(x,A){return this.pushStack(R.uniqueSort(R.merge(this.get(),R(x,A))))},addBack:function(x){return this.add(x==null?this.prevObject:this.prevObject.filter(x))}}),R.each({parent:function(x){var A=x.parentNode;return A&&A.nodeType!==11?A:null},parents:function(x){return wt(x,"parentNode")},parentsUntil:function(x,A,B){return wt(x,"parentNode",B)},next:function(x){return Ee(x,"nextSibling")},prev:function(x){return Ee(x,"previousSibling")},nextAll:function(x){return wt(x,"nextSibling")},prevAll:function(x){return wt(x,"previousSibling")},nextUntil:function(x,A,B){return wt(x,"nextSibling",B)},prevUntil:function(x,A,B){return wt(x,"previousSibling",B)},siblings:function(x){return Ze((x.parentNode||{}).firstChild,x)},children:function(x){return Ze(x.firstChild)},contents:function(x){return x.contentDocument!=null&&m(x.contentDocument)?x.contentDocument:(ot(x,"template")&&(x=x.content||x),R.merge([],x.childNodes))}},function(x,A){R.fn[x]=function(B,U){var Q=R.map(this,A,B);return x.slice(-5)!=="Until"&&(U=B),U&&typeof U=="string"&&(Q=R.filter(U,Q)),this.length>1&&(lt[x]||R.uniqueSort(Q),te.test(x)&&Q.reverse()),this.pushStack(Q)}});var ke=/[^\x20\t\r\n\f]+/g;function it(x){return x}function Ct(x){throw x}function Gt(x,A,B,U){var Q;try{x&&ne(Q=x.promise)?Q.call(x).done(A).fail(B):x&&ne(Q=x.then)?Q.call(x,A,B):A.apply(void 0,[x].slice(U))}catch(ae){B.apply(void 0,[ae])}}R.Callbacks=function(x){x=typeof x=="string"?function(Lt){var St={};return R.each(Lt.match(ke)||[],function(ft,Et){St[Et]=!0}),St}(x):R.extend({},x);var A,B,U,Q,ae=[],he=[],Oe=-1,ze=function(){for(Q=Q||x.once,U=A=!0;he.length;Oe=-1)for(B=he.shift();++Oe<ae.length;)ae[Oe].apply(B[0],B[1])===!1&&x.stopOnFalse&&(Oe=ae.length,B=!1);x.memory||(B=!1),A=!1,Q&&(ae=B?[]:"")},tt={add:function(){return ae&&(B&&!A&&(Oe=ae.length-1,he.push(B)),function Lt(St){R.each(St,function(ft,Et){ne(Et)?x.unique&&tt.has(Et)||ae.push(Et):Et&&Et.length&&Fe(Et)!=="string"&&Lt(Et)})}(arguments),B&&!A&&ze()),this},remove:function(){return R.each(arguments,function(Lt,St){for(var ft;(ft=R.inArray(St,ae,ft))>-1;)ae.splice(ft,1),ft<=Oe&&Oe--}),this},has:function(Lt){return Lt?R.inArray(Lt,ae)>-1:ae.length>0},empty:function(){return ae&&(ae=[]),this},disable:function(){return Q=he=[],ae=B="",this},disabled:function(){return!ae},lock:function(){return Q=he=[],B||A||(ae=B=""),this},locked:function(){return!!Q},fireWith:function(Lt,St){return Q||(St=[Lt,(St=St||[]).slice?St.slice():St],he.push(St),A||ze()),this},fire:function(){return tt.fireWith(this,arguments),this},fired:function(){return!!U}};return tt},R.extend({Deferred:function(x){var A=[["notify","progress",R.Callbacks("memory"),R.Callbacks("memory"),2],["resolve","done",R.Callbacks("once memory"),R.Callbacks("once memory"),0,"resolved"],["reject","fail",R.Callbacks("once memory"),R.Callbacks("once memory"),1,"rejected"]],B="pending",U={state:function(){return B},always:function(){return Q.done(arguments).fail(arguments),this},catch:function(ae){return U.then(null,ae)},pipe:function(){var ae=arguments;return R.Deferred(function(he){R.each(A,function(Oe,ze){var tt=ne(ae[ze[4]])&&ae[ze[4]];Q[ze[1]](function(){var Lt=tt&&tt.apply(this,arguments);Lt&&ne(Lt.promise)?Lt.promise().progress(he.notify).done(he.resolve).fail(he.reject):he[ze[0]+"With"](this,tt?[Lt]:arguments)})}),ae=null}).promise()},then:function(ae,he,Oe){var ze=0;function tt(Lt,St,ft,Et){return function(){var zn=this,sr=arguments,Un=function(){var Fi,Zs;if(!(Lt<ze)){if((Fi=ft.apply(zn,sr))===St.promise())throw new TypeError("Thenable self-resolution");Zs=Fi&&(typeof Fi=="object"||typeof Fi=="function")&&Fi.then,ne(Zs)?Et?Zs.call(Fi,tt(ze,St,it,Et),tt(ze,St,Ct,Et)):(ze++,Zs.call(Fi,tt(ze,St,it,Et),tt(ze,St,Ct,Et),tt(ze,St,it,St.notifyWith))):(ft!==it&&(zn=void 0,sr=[Fi]),(Et||St.resolveWith)(zn,sr))}},ci=Et?Un:function(){try{Un()}catch(Fi){R.Deferred.exceptionHook&&R.Deferred.exceptionHook(Fi,ci.stackTrace),Lt+1>=ze&&(ft!==Ct&&(zn=void 0,sr=[Fi]),St.rejectWith(zn,sr))}};Lt?ci():(R.Deferred.getStackHook&&(ci.stackTrace=R.Deferred.getStackHook()),c.setTimeout(ci))}}return R.Deferred(function(Lt){A[0][3].add(tt(0,Lt,ne(Oe)?Oe:it,Lt.notifyWith)),A[1][3].add(tt(0,Lt,ne(ae)?ae:it)),A[2][3].add(tt(0,Lt,ne(he)?he:Ct))}).promise()},promise:function(ae){return ae!=null?R.extend(ae,U):U}},Q={};return R.each(A,function(ae,he){var Oe=he[2],ze=he[5];U[he[1]]=Oe.add,ze&&Oe.add(function(){B=ze},A[3-ae][2].disable,A[3-ae][3].disable,A[0][2].lock,A[0][3].lock),Oe.add(he[3].fire),Q[he[0]]=function(){return Q[he[0]+"With"](this===Q?void 0:this,arguments),this},Q[he[0]+"With"]=Oe.fireWith}),U.promise(Q),x&&x.call(Q,Q),Q},when:function(x){var A=arguments.length,B=A,U=Array(B),Q=b.call(arguments),ae=R.Deferred(),he=function(Oe){return function(ze){U[Oe]=this,Q[Oe]=arguments.length>1?b.call(arguments):ze,--A||ae.resolveWith(U,Q)}};if(A<=1&&(Gt(x,ae.done(he(B)).resolve,ae.reject,!A),ae.state()==="pending"||ne(Q[B]&&Q[B].then)))return ae.then();for(;B--;)Gt(Q[B],he(B),ae.reject);return ae.promise()}});var be=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;R.Deferred.exceptionHook=function(x,A){c.console&&c.console.warn&&x&&be.test(x.name)&&c.console.warn("jQuery.Deferred exception: "+x.message,x.stack,A)},R.readyException=function(x){c.setTimeout(function(){throw x})};var It=R.Deferred();function vt(){ce.removeEventListener("DOMContentLoaded",vt),c.removeEventListener("load",vt),R.ready()}R.fn.ready=function(x){return It.then(x).catch(function(A){R.readyException(A)}),this},R.extend({isReady:!1,readyWait:1,ready:function(x){(x===!0?--R.readyWait:R.isReady)||(R.isReady=!0,x!==!0&&--R.readyWait>0||It.resolveWith(ce,[R]))}}),R.ready.then=It.then,ce.readyState==="complete"||ce.readyState!=="loading"&&!ce.documentElement.doScroll?c.setTimeout(R.ready):(ce.addEventListener("DOMContentLoaded",vt),c.addEventListener("load",vt));var Re=function(x,A,B,U,Q,ae,he){var Oe=0,ze=x.length,tt=B==null;if(Fe(B)==="object")for(Oe in Q=!0,B)Re(x,A,Oe,B[Oe],!0,ae,he);else if(U!==void 0&&(Q=!0,ne(U)||(he=!0),tt&&(he?(A.call(x,U),A=null):(tt=A,A=function(Lt,St,ft){return tt.call(R(Lt),ft)})),A))for(;Oe<ze;Oe++)A(x[Oe],B,he?U:U.call(x[Oe],Oe,A(x[Oe],B)));return Q?x:tt?A.call(x):ze?A(x[0],B):ae},nn=/^-ms-/,Rn=/-([a-z])/g;function xr(x,A){return A.toUpperCase()}function pn(x){return x.replace(nn,"ms-").replace(Rn,xr)}var xn=function(x){return x.nodeType===1||x.nodeType===9||!+x.nodeType};function yn(){this.expando=R.expando+yn.uid++}yn.uid=1,yn.prototype={cache:function(x){var A=x[this.expando];return A||(A={},xn(x)&&(x.nodeType?x[this.expando]=A:Object.defineProperty(x,this.expando,{value:A,configurable:!0}))),A},set:function(x,A,B){var U,Q=this.cache(x);if(typeof A=="string")Q[pn(A)]=B;else for(U in A)Q[pn(U)]=A[U];return Q},get:function(x,A){return A===void 0?this.cache(x):x[this.expando]&&x[this.expando][pn(A)]},access:function(x,A,B){return A===void 0||A&&typeof A=="string"&&B===void 0?this.get(x,A):(this.set(x,A,B),B!==void 0?B:A)},remove:function(x,A){var B,U=x[this.expando];if(U!==void 0){if(A!==void 0)for(B=(A=Array.isArray(A)?A.map(pn):(A=pn(A))in U?[A]:A.match(ke)||[]).length;B--;)delete U[A[B]];(A===void 0||R.isEmptyObject(U))&&(x.nodeType?x[this.expando]=void 0:delete x[this.expando])}},hasData:function(x){var A=x[this.expando];return A!==void 0&&!R.isEmptyObject(A)}};var Jt=new yn,$e=new yn,Jn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ar=/[A-Z]/g;function lr(x,A,B){var U;if(B===void 0&&x.nodeType===1)if(U="data-"+A.replace(ar,"-$&").toLowerCase(),typeof(B=x.getAttribute(U))=="string"){try{B=function(Q){return Q==="true"||Q!=="false"&&(Q==="null"?null:Q===+Q+""?+Q:Jn.test(Q)?JSON.parse(Q):Q)}(B)}catch{}$e.set(x,A,B)}else B=void 0;return B}R.extend({hasData:function(x){return $e.hasData(x)||Jt.hasData(x)},data:function(x,A,B){return $e.access(x,A,B)},removeData:function(x,A){$e.remove(x,A)},_data:function(x,A,B){return Jt.access(x,A,B)},_removeData:function(x,A){Jt.remove(x,A)}}),R.fn.extend({data:function(x,A){var B,U,Q,ae=this[0],he=ae&&ae.attributes;if(x===void 0){if(this.length&&(Q=$e.get(ae),ae.nodeType===1&&!Jt.get(ae,"hasDataAttrs"))){for(B=he.length;B--;)he[B]&&(U=he[B].name).indexOf("data-")===0&&(U=pn(U.slice(5)),lr(ae,U,Q[U]));Jt.set(ae,"hasDataAttrs",!0)}return Q}return typeof x=="object"?this.each(function(){$e.set(this,x)}):Re(this,function(Oe){var ze;if(ae&&Oe===void 0)return(ze=$e.get(ae,x))!==void 0||(ze=lr(ae,x))!==void 0?ze:void 0;this.each(function(){$e.set(this,x,Oe)})},null,A,arguments.length>1,null,!0)},removeData:function(x){return this.each(function(){$e.remove(this,x)})}}),R.extend({queue:function(x,A,B){var U;if(x)return A=(A||"fx")+"queue",U=Jt.get(x,A),B&&(!U||Array.isArray(B)?U=Jt.access(x,A,R.makeArray(B)):U.push(B)),U||[]},dequeue:function(x,A){A=A||"fx";var B=R.queue(x,A),U=B.length,Q=B.shift(),ae=R._queueHooks(x,A);Q==="inprogress"&&(Q=B.shift(),U--),Q&&(A==="fx"&&B.unshift("inprogress"),delete ae.stop,Q.call(x,function(){R.dequeue(x,A)},ae)),!U&&ae&&ae.empty.fire()},_queueHooks:function(x,A){var B=A+"queueHooks";return Jt.get(x,B)||Jt.access(x,B,{empty:R.Callbacks("once memory").add(function(){Jt.remove(x,[A+"queue",B])})})}}),R.fn.extend({queue:function(x,A){var B=2;return typeof x!="string"&&(A=x,x="fx",B--),arguments.length<B?R.queue(this[0],x):A===void 0?this:this.each(function(){var U=R.queue(this,x,A);R._queueHooks(this,x),x==="fx"&&U[0]!=="inprogress"&&R.dequeue(this,x)})},dequeue:function(x){return this.each(function(){R.dequeue(this,x)})},clearQueue:function(x){return this.queue(x||"fx",[])},promise:function(x,A){var B,U=1,Q=R.Deferred(),ae=this,he=this.length,Oe=function(){--U||Q.resolveWith(ae,[ae])};for(typeof x!="string"&&(A=x,x=void 0),x=x||"fx";he--;)(B=Jt.get(ae[he],x+"queueHooks"))&&B.empty&&(U++,B.empty.add(Oe));return Oe(),Q.promise(A)}});var Vn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ur=new RegExp("^(?:([+-])=|)("+Vn+")([a-z%]*)$","i"),wr=["Top","Right","Bottom","Left"],_r=ce.documentElement,Wn=function(x){return R.contains(x.ownerDocument,x)},Fr={composed:!0};_r.getRootNode&&(Wn=function(x){return R.contains(x.ownerDocument,x)||x.getRootNode(Fr)===x.ownerDocument});var di=function(x,A){return(x=A||x).style.display==="none"||x.style.display===""&&Wn(x)&&R.css(x,"display")==="none"};function Or(x,A,B,U){var Q,ae,he=20,Oe=U?function(){return U.cur()}:function(){return R.css(x,A,"")},ze=Oe(),tt=B&&B[3]||(R.cssNumber[A]?"":"px"),Lt=x.nodeType&&(R.cssNumber[A]||tt!=="px"&&+ze)&&ur.exec(R.css(x,A));if(Lt&&Lt[3]!==tt){for(ze/=2,tt=tt||Lt[3],Lt=+ze||1;he--;)R.style(x,A,Lt+tt),(1-ae)*(1-(ae=Oe()/ze||.5))<=0&&(he=0),Lt/=ae;Lt*=2,R.style(x,A,Lt+tt),B=B||[]}return B&&(Lt=+Lt||+ze||0,Q=B[1]?Lt+(B[1]+1)*B[2]:+B[2],U&&(U.unit=tt,U.start=Lt,U.end=Q)),Q}var vi={};function Nr(x){var A,B=x.ownerDocument,U=x.nodeName,Q=vi[U];return Q||(A=B.body.appendChild(B.createElement(U)),Q=R.css(A,"display"),A.parentNode.removeChild(A),Q==="none"&&(Q="block"),vi[U]=Q,Q)}function Ln(x,A){for(var B,U,Q=[],ae=0,he=x.length;ae<he;ae++)(U=x[ae]).style&&(B=U.style.display,A?(B==="none"&&(Q[ae]=Jt.get(U,"display")||null,Q[ae]||(U.style.display="")),U.style.display===""&&di(U)&&(Q[ae]=Nr(U))):B!=="none"&&(Q[ae]="none",Jt.set(U,"display",B)));for(ae=0;ae<he;ae++)Q[ae]!=null&&(x[ae].style.display=Q[ae]);return x}R.fn.extend({show:function(){return Ln(this,!0)},hide:function(){return Ln(this)},toggle:function(x){return typeof x=="boolean"?x?this.show():this.hide():this.each(function(){di(this)?R(this).show():R(this).hide()})}});var er,Ir,yi=/^(?:checkbox|radio)$/i,$i=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Yi=/^$|^module$|\/(?:java|ecma)script/i;er=ce.createDocumentFragment().appendChild(ce.createElement("div")),(Ir=ce.createElement("input")).setAttribute("type","radio"),Ir.setAttribute("checked","checked"),Ir.setAttribute("name","t"),er.appendChild(Ir),W.checkClone=er.cloneNode(!0).cloneNode(!0).lastChild.checked,er.innerHTML="<textarea>x</textarea>",W.noCloneChecked=!!er.cloneNode(!0).lastChild.defaultValue,er.innerHTML="<option></option>",W.option=!!er.lastChild;var br={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ii(x,A){var B;return B=x.getElementsByTagName!==void 0?x.getElementsByTagName(A||"*"):x.querySelectorAll!==void 0?x.querySelectorAll(A||"*"):[],A===void 0||A&&ot(x,A)?R.merge([x],B):B}function Mi(x,A){for(var B=0,U=x.length;B<U;B++)Jt.set(x[B],"globalEval",!A||Jt.get(A[B],"globalEval"))}br.tbody=br.tfoot=br.colgroup=br.caption=br.thead,br.th=br.td,W.option||(br.optgroup=br.option=[1,"<select multiple='multiple'>","</select>"]);var Hs=/<|&#?\w+;/;function ji(x,A,B,U,Q){for(var ae,he,Oe,ze,tt,Lt,St=A.createDocumentFragment(),ft=[],Et=0,zn=x.length;Et<zn;Et++)if((ae=x[Et])||ae===0)if(Fe(ae)==="object")R.merge(ft,ae.nodeType?[ae]:ae);else if(Hs.test(ae)){for(he=he||St.appendChild(A.createElement("div")),Oe=($i.exec(ae)||["",""])[1].toLowerCase(),ze=br[Oe]||br._default,he.innerHTML=ze[1]+R.htmlPrefilter(ae)+ze[2],Lt=ze[0];Lt--;)he=he.lastChild;R.merge(ft,he.childNodes),(he=St.firstChild).textContent=""}else ft.push(A.createTextNode(ae));for(St.textContent="",Et=0;ae=ft[Et++];)if(U&&R.inArray(ae,U)>-1)Q&&Q.push(ae);else if(tt=Wn(ae),he=ii(St.appendChild(ae),"script"),tt&&Mi(he),B)for(Lt=0;ae=he[Lt++];)Yi.test(ae.type||"")&&B.push(ae);return St}var ir=/^key/,ia=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,as=/^([^.]*)(?:\.(.+)|)/;function Hi(){return!0}function es(){return!1}function Cs(x,A){return x===function(){try{return ce.activeElement}catch{}}()==(A==="focus")}function Ls(x,A,B,U,Q,ae){var he,Oe;if(typeof A=="object"){for(Oe in typeof B!="string"&&(U=U||B,B=void 0),A)Ls(x,Oe,B,U,A[Oe],ae);return x}if(U==null&&Q==null?(Q=B,U=B=void 0):Q==null&&(typeof B=="string"?(Q=U,U=void 0):(Q=U,U=B,B=void 0)),Q===!1)Q=es;else if(!Q)return x;return ae===1&&(he=Q,(Q=function(ze){return R().off(ze),he.apply(this,arguments)}).guid=he.guid||(he.guid=R.guid++)),x.each(function(){R.event.add(this,A,Q,U,B)})}function $r(x,A,B){B?(Jt.set(x,A,!1),R.event.add(x,A,{namespace:!1,handler:function(U){var Q,ae,he=Jt.get(this,A);if(1&U.isTrigger&&this[A]){if(he.length)(R.event.special[A]||{}).delegateType&&U.stopPropagation();else if(he=b.call(arguments),Jt.set(this,A,he),Q=B(this,A),this[A](),he!==(ae=Jt.get(this,A))||Q?Jt.set(this,A,!1):ae={},he!==ae)return U.stopImmediatePropagation(),U.preventDefault(),ae.value}else he.length&&(Jt.set(this,A,{value:R.event.trigger(R.extend(he[0],R.Event.prototype),he.slice(1),this)}),U.stopImmediatePropagation())}})):Jt.get(x,A)===void 0&&R.event.add(x,A,Hi)}R.event={global:{},add:function(x,A,B,U,Q){var ae,he,Oe,ze,tt,Lt,St,ft,Et,zn,sr,Un=Jt.get(x);if(xn(x))for(B.handler&&(B=(ae=B).handler,Q=ae.selector),Q&&R.find.matchesSelector(_r,Q),B.guid||(B.guid=R.guid++),(ze=Un.events)||(ze=Un.events=Object.create(null)),(he=Un.handle)||(he=Un.handle=function(ci){return R!==void 0&&R.event.triggered!==ci.type?R.event.dispatch.apply(x,arguments):void 0}),tt=(A=(A||"").match(ke)||[""]).length;tt--;)Et=sr=(Oe=as.exec(A[tt])||[])[1],zn=(Oe[2]||"").split(".").sort(),Et&&(St=R.event.special[Et]||{},Et=(Q?St.delegateType:St.bindType)||Et,St=R.event.special[Et]||{},Lt=R.extend({type:Et,origType:sr,data:U,handler:B,guid:B.guid,selector:Q,needsContext:Q&&R.expr.match.needsContext.test(Q),namespace:zn.join(".")},ae),(ft=ze[Et])||((ft=ze[Et]=[]).delegateCount=0,St.setup&&St.setup.call(x,U,zn,he)!==!1||x.addEventListener&&x.addEventListener(Et,he)),St.add&&(St.add.call(x,Lt),Lt.handler.guid||(Lt.handler.guid=B.guid)),Q?ft.splice(ft.delegateCount++,0,Lt):ft.push(Lt),R.event.global[Et]=!0)},remove:function(x,A,B,U,Q){var ae,he,Oe,ze,tt,Lt,St,ft,Et,zn,sr,Un=Jt.hasData(x)&&Jt.get(x);if(Un&&(ze=Un.events)){for(tt=(A=(A||"").match(ke)||[""]).length;tt--;)if(Et=sr=(Oe=as.exec(A[tt])||[])[1],zn=(Oe[2]||"").split(".").sort(),Et){for(St=R.event.special[Et]||{},ft=ze[Et=(U?St.delegateType:St.bindType)||Et]||[],Oe=Oe[2]&&new RegExp("(^|\\.)"+zn.join("\\.(?:.*\\.|)")+"(\\.|$)"),he=ae=ft.length;ae--;)Lt=ft[ae],!Q&&sr!==Lt.origType||B&&B.guid!==Lt.guid||Oe&&!Oe.test(Lt.namespace)||U&&U!==Lt.selector&&(U!=="**"||!Lt.selector)||(ft.splice(ae,1),Lt.selector&&ft.delegateCount--,St.remove&&St.remove.call(x,Lt));he&&!ft.length&&(St.teardown&&St.teardown.call(x,zn,Un.handle)!==!1||R.removeEvent(x,Et,Un.handle),delete ze[Et])}else for(Et in ze)R.event.remove(x,Et+A[tt],B,U,!0);R.isEmptyObject(ze)&&Jt.remove(x,"handle events")}},dispatch:function(x){var A,B,U,Q,ae,he,Oe=new Array(arguments.length),ze=R.event.fix(x),tt=(Jt.get(this,"events")||Object.create(null))[ze.type]||[],Lt=R.event.special[ze.type]||{};for(Oe[0]=ze,A=1;A<arguments.length;A++)Oe[A]=arguments[A];if(ze.delegateTarget=this,!Lt.preDispatch||Lt.preDispatch.call(this,ze)!==!1){for(he=R.event.handlers.call(this,ze,tt),A=0;(Q=he[A++])&&!ze.isPropagationStopped();)for(ze.currentTarget=Q.elem,B=0;(ae=Q.handlers[B++])&&!ze.isImmediatePropagationStopped();)ze.rnamespace&&ae.namespace!==!1&&!ze.rnamespace.test(ae.namespace)||(ze.handleObj=ae,ze.data=ae.data,(U=((R.event.special[ae.origType]||{}).handle||ae.handler).apply(Q.elem,Oe))!==void 0&&(ze.result=U)===!1&&(ze.preventDefault(),ze.stopPropagation()));return Lt.postDispatch&&Lt.postDispatch.call(this,ze),ze.result}},handlers:function(x,A){var B,U,Q,ae,he,Oe=[],ze=A.delegateCount,tt=x.target;if(ze&&tt.nodeType&&!(x.type==="click"&&x.button>=1)){for(;tt!==this;tt=tt.parentNode||this)if(tt.nodeType===1&&(x.type!=="click"||tt.disabled!==!0)){for(ae=[],he={},B=0;B<ze;B++)he[Q=(U=A[B]).selector+" "]===void 0&&(he[Q]=U.needsContext?R(Q,this).index(tt)>-1:R.find(Q,this,null,[tt]).length),he[Q]&&ae.push(U);ae.length&&Oe.push({elem:tt,handlers:ae})}}return tt=this,ze<A.length&&Oe.push({elem:tt,handlers:A.slice(ze)}),Oe},addProp:function(x,A){Object.defineProperty(R.Event.prototype,x,{enumerable:!0,configurable:!0,get:ne(A)?function(){if(this.originalEvent)return A(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[x]},set:function(B){Object.defineProperty(this,x,{enumerable:!0,configurable:!0,writable:!0,value:B})}})},fix:function(x){return x[R.expando]?x:new R.Event(x)},special:{load:{noBubble:!0},click:{setup:function(x){var A=this||x;return yi.test(A.type)&&A.click&&ot(A,"input")&&$r(A,"click",Hi),!1},trigger:function(x){var A=this||x;return yi.test(A.type)&&A.click&&ot(A,"input")&&$r(A,"click"),!0},_default:function(x){var A=x.target;return yi.test(A.type)&&A.click&&ot(A,"input")&&Jt.get(A,"click")||ot(A,"a")}},beforeunload:{postDispatch:function(x){x.result!==void 0&&x.originalEvent&&(x.originalEvent.returnValue=x.result)}}}},R.removeEvent=function(x,A,B){x.removeEventListener&&x.removeEventListener(A,B)},R.Event=function(x,A){if(!(this instanceof R.Event))return new R.Event(x,A);x&&x.type?(this.originalEvent=x,this.type=x.type,this.isDefaultPrevented=x.defaultPrevented||x.defaultPrevented===void 0&&x.returnValue===!1?Hi:es,this.target=x.target&&x.target.nodeType===3?x.target.parentNode:x.target,this.currentTarget=x.currentTarget,this.relatedTarget=x.relatedTarget):this.type=x,A&&R.extend(this,A),this.timeStamp=x&&x.timeStamp||Date.now(),this[R.expando]=!0},R.Event.prototype={constructor:R.Event,isDefaultPrevented:es,isPropagationStopped:es,isImmediatePropagationStopped:es,isSimulated:!1,preventDefault:function(){var x=this.originalEvent;this.isDefaultPrevented=Hi,x&&!this.isSimulated&&x.preventDefault()},stopPropagation:function(){var x=this.originalEvent;this.isPropagationStopped=Hi,x&&!this.isSimulated&&x.stopPropagation()},stopImmediatePropagation:function(){var x=this.originalEvent;this.isImmediatePropagationStopped=Hi,x&&!this.isSimulated&&x.stopImmediatePropagation(),this.stopPropagation()}},R.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(x){var A=x.button;return x.which==null&&ir.test(x.type)?x.charCode!=null?x.charCode:x.keyCode:!x.which&&A!==void 0&&ia.test(x.type)?1&A?1:2&A?3:4&A?2:0:x.which}},R.event.addProp),R.each({focus:"focusin",blur:"focusout"},function(x,A){R.event.special[x]={setup:function(){return $r(this,x,Cs),!1},trigger:function(){return $r(this,x),!0},delegateType:A}}),R.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(x,A){R.event.special[x]={delegateType:A,bindType:A,handle:function(B){var U,Q=this,ae=B.relatedTarget,he=B.handleObj;return ae&&(ae===Q||R.contains(Q,ae))||(B.type=he.origType,U=he.handler.apply(this,arguments),B.type=A),U}}}),R.fn.extend({on:function(x,A,B,U){return Ls(this,x,A,B,U)},one:function(x,A,B,U){return Ls(this,x,A,B,U,1)},off:function(x,A,B){var U,Q;if(x&&x.preventDefault&&x.handleObj)return U=x.handleObj,R(x.delegateTarget).off(U.namespace?U.origType+"."+U.namespace:U.origType,U.selector,U.handler),this;if(typeof x=="object"){for(Q in x)this.off(Q,A,x[Q]);return this}return A!==!1&&typeof A!="function"||(B=A,A=void 0),B===!1&&(B=es),this.each(function(){R.event.remove(this,x,B,A)})}});var Aa=/<script|<style|<link/i,sa=/checked\s*(?:[^=]|=\s*.checked.)/i,bo=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function wo(x,A){return ot(x,"table")&&ot(A.nodeType!==11?A:A.firstChild,"tr")&&R(x).children("tbody")[0]||x}function to(x){return x.type=(x.getAttribute("type")!==null)+"/"+x.type,x}function bs(x){return(x.type||"").slice(0,5)==="true/"?x.type=x.type.slice(5):x.removeAttribute("type"),x}function fi(x,A){var B,U,Q,ae,he,Oe;if(A.nodeType===1){if(Jt.hasData(x)&&(Oe=Jt.get(x).events))for(Q in Jt.remove(A,"handle events"),Oe)for(B=0,U=Oe[Q].length;B<U;B++)R.event.add(A,Q,Oe[Q][B]);$e.hasData(x)&&(ae=$e.access(x),he=R.extend({},ae),$e.set(A,he))}}function Zi(x,A){var B=A.nodeName.toLowerCase();B==="input"&&yi.test(x.type)?A.checked=x.checked:B!=="input"&&B!=="textarea"||(A.defaultValue=x.defaultValue)}function ls(x,A,B,U){A=_(A);var Q,ae,he,Oe,ze,tt,Lt=0,St=x.length,ft=St-1,Et=A[0],zn=ne(Et);if(zn||St>1&&typeof Et=="string"&&!W.checkClone&&sa.test(Et))return x.each(function(sr){var Un=x.eq(sr);zn&&(A[0]=Et.call(this,sr,Un.html())),ls(Un,A,B,U)});if(St&&(ae=(Q=ji(A,x[0].ownerDocument,!1,x,U)).firstChild,Q.childNodes.length===1&&(Q=ae),ae||U)){for(Oe=(he=R.map(ii(Q,"script"),to)).length;Lt<St;Lt++)ze=Q,Lt!==ft&&(ze=R.clone(ze,!0,!0),Oe&&R.merge(he,ii(ze,"script"))),B.call(x[Lt],ze,Lt);if(Oe)for(tt=he[he.length-1].ownerDocument,R.map(he,bs),Lt=0;Lt<Oe;Lt++)ze=he[Lt],Yi.test(ze.type||"")&&!Jt.access(ze,"globalEval")&&R.contains(tt,ze)&&(ze.src&&(ze.type||"").toLowerCase()!=="module"?R._evalUrl&&!ze.noModule&&R._evalUrl(ze.src,{nonce:ze.nonce||ze.getAttribute("nonce")},tt):we(ze.textContent.replace(bo,""),ze,tt))}return x}function Fl(x,A,B){for(var U,Q=A?R.filter(A,x):x,ae=0;(U=Q[ae])!=null;ae++)B||U.nodeType!==1||R.cleanData(ii(U)),U.parentNode&&(B&&Wn(U)&&Mi(ii(U,"script")),U.parentNode.removeChild(U));return x}R.extend({htmlPrefilter:function(x){return x},clone:function(x,A,B){var U,Q,ae,he,Oe=x.cloneNode(!0),ze=Wn(x);if(!(W.noCloneChecked||x.nodeType!==1&&x.nodeType!==11||R.isXMLDoc(x)))for(he=ii(Oe),U=0,Q=(ae=ii(x)).length;U<Q;U++)Zi(ae[U],he[U]);if(A)if(B)for(ae=ae||ii(x),he=he||ii(Oe),U=0,Q=ae.length;U<Q;U++)fi(ae[U],he[U]);else fi(x,Oe);return(he=ii(Oe,"script")).length>0&&Mi(he,!ze&&ii(x,"script")),Oe},cleanData:function(x){for(var A,B,U,Q=R.event.special,ae=0;(B=x[ae])!==void 0;ae++)if(xn(B)){if(A=B[Jt.expando]){if(A.events)for(U in A.events)Q[U]?R.event.remove(B,U):R.removeEvent(B,U,A.handle);B[Jt.expando]=void 0}B[$e.expando]&&(B[$e.expando]=void 0)}}}),R.fn.extend({detach:function(x){return Fl(this,x,!0)},remove:function(x){return Fl(this,x)},text:function(x){return Re(this,function(A){return A===void 0?R.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=A)})},null,x,arguments.length)},append:function(){return ls(this,arguments,function(x){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||wo(this,x).appendChild(x)})},prepend:function(){return ls(this,arguments,function(x){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var A=wo(this,x);A.insertBefore(x,A.firstChild)}})},before:function(){return ls(this,arguments,function(x){this.parentNode&&this.parentNode.insertBefore(x,this)})},after:function(){return ls(this,arguments,function(x){this.parentNode&&this.parentNode.insertBefore(x,this.nextSibling)})},empty:function(){for(var x,A=0;(x=this[A])!=null;A++)x.nodeType===1&&(R.cleanData(ii(x,!1)),x.textContent="");return this},clone:function(x,A){return x=x!=null&&x,A=A??x,this.map(function(){return R.clone(this,x,A)})},html:function(x){return Re(this,function(A){var B=this[0]||{},U=0,Q=this.length;if(A===void 0&&B.nodeType===1)return B.innerHTML;if(typeof A=="string"&&!Aa.test(A)&&!br[($i.exec(A)||["",""])[1].toLowerCase()]){A=R.htmlPrefilter(A);try{for(;U<Q;U++)(B=this[U]||{}).nodeType===1&&(R.cleanData(ii(B,!1)),B.innerHTML=A);B=0}catch{}}B&&this.empty().append(A)},null,x,arguments.length)},replaceWith:function(){var x=[];return ls(this,arguments,function(A){var B=this.parentNode;R.inArray(this,x)<0&&(R.cleanData(ii(this)),B&&B.replaceChild(A,this))},x)}}),R.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(x,A){R.fn[x]=function(B){for(var U,Q=[],ae=R(B),he=ae.length-1,Oe=0;Oe<=he;Oe++)U=Oe===he?this:this.clone(!0),R(ae[Oe])[A](U),E.apply(Q,U.get());return this.pushStack(Q)}});var Ys=new RegExp("^("+Vn+")(?!px)[a-z%]+$","i"),ws=function(x){var A=x.ownerDocument.defaultView;return A&&A.opener||(A=c),A.getComputedStyle(x)},Be=function(x,A,B){var U,Q,ae={};for(Q in A)ae[Q]=x.style[Q],x.style[Q]=A[Q];for(Q in U=B.call(x),A)x.style[Q]=ae[Q];return U},gt=new RegExp(wr.join("|"),"i");function je(x,A,B){var U,Q,ae,he,Oe=x.style;return(B=B||ws(x))&&((he=B.getPropertyValue(A)||B[A])!==""||Wn(x)||(he=R.style(x,A)),!W.pixelBoxStyles()&&Ys.test(he)&&gt.test(A)&&(U=Oe.width,Q=Oe.minWidth,ae=Oe.maxWidth,Oe.minWidth=Oe.maxWidth=Oe.width=he,he=B.width,Oe.width=U,Oe.minWidth=Q,Oe.maxWidth=ae)),he!==void 0?he+"":he}function Je(x,A){return{get:function(){if(!x())return(this.get=A).apply(this,arguments);delete this.get}}}(function(){function x(){if(tt){ze.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",tt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_r.appendChild(ze).appendChild(tt);var Lt=c.getComputedStyle(tt);B=Lt.top!=="1%",Oe=A(Lt.marginLeft)===12,tt.style.right="60%",ae=A(Lt.right)===36,U=A(Lt.width)===36,tt.style.position="absolute",Q=A(tt.offsetWidth/3)===12,_r.removeChild(ze),tt=null}}function A(Lt){return Math.round(parseFloat(Lt))}var B,U,Q,ae,he,Oe,ze=ce.createElement("div"),tt=ce.createElement("div");tt.style&&(tt.style.backgroundClip="content-box",tt.cloneNode(!0).style.backgroundClip="",W.clearCloneStyle=tt.style.backgroundClip==="content-box",R.extend(W,{boxSizingReliable:function(){return x(),U},pixelBoxStyles:function(){return x(),ae},pixelPosition:function(){return x(),B},reliableMarginLeft:function(){return x(),Oe},scrollboxSize:function(){return x(),Q},reliableTrDimensions:function(){var Lt,St,ft,Et;return he==null&&(Lt=ce.createElement("table"),St=ce.createElement("tr"),ft=ce.createElement("div"),Lt.style.cssText="position:absolute;left:-11111px",St.style.height="1px",ft.style.height="9px",_r.appendChild(Lt).appendChild(St).appendChild(ft),Et=c.getComputedStyle(St),he=parseInt(Et.height)>3,_r.removeChild(Lt)),he}}))})();var qt=["Webkit","Moz","ms"],hn=ce.createElement("div").style,un={};function Zn(x){var A=R.cssProps[x]||un[x];return A||(x in hn?x:un[x]=function(B){for(var U=B[0].toUpperCase()+B.slice(1),Q=qt.length;Q--;)if((B=qt[Q]+U)in hn)return B}(x)||x)}var Yr=/^(none|table(?!-c[ea]).+)/,_n=/^--/,Er={position:"absolute",visibility:"hidden",display:"block"},ei={letterSpacing:"0",fontWeight:"400"};function Dr(x,A,B){var U=ur.exec(A);return U?Math.max(0,U[2]-(B||0))+(U[3]||"px"):A}function Zr(x,A,B,U,Q,ae){var he=A==="width"?1:0,Oe=0,ze=0;if(B===(U?"border":"content"))return 0;for(;he<4;he+=2)B==="margin"&&(ze+=R.css(x,B+wr[he],!0,Q)),U?(B==="content"&&(ze-=R.css(x,"padding"+wr[he],!0,Q)),B!=="margin"&&(ze-=R.css(x,"border"+wr[he]+"Width",!0,Q))):(ze+=R.css(x,"padding"+wr[he],!0,Q),B!=="padding"?ze+=R.css(x,"border"+wr[he]+"Width",!0,Q):Oe+=R.css(x,"border"+wr[he]+"Width",!0,Q));return!U&&ae>=0&&(ze+=Math.max(0,Math.ceil(x["offset"+A[0].toUpperCase()+A.slice(1)]-ae-ze-Oe-.5))||0),ze}function zr(x,A,B){var U=ws(x),Q=(!W.boxSizingReliable()||B)&&R.css(x,"boxSizing",!1,U)==="border-box",ae=Q,he=je(x,A,U),Oe="offset"+A[0].toUpperCase()+A.slice(1);if(Ys.test(he)){if(!B)return he;he="auto"}return(!W.boxSizingReliable()&&Q||!W.reliableTrDimensions()&&ot(x,"tr")||he==="auto"||!parseFloat(he)&&R.css(x,"display",!1,U)==="inline")&&x.getClientRects().length&&(Q=R.css(x,"boxSizing",!1,U)==="border-box",(ae=Oe in x)&&(he=x[Oe])),(he=parseFloat(he)||0)+Zr(x,A,B||(Q?"border":"content"),ae,U,he)+"px"}function dr(x,A,B,U,Q){return new dr.prototype.init(x,A,B,U,Q)}R.extend({cssHooks:{opacity:{get:function(x,A){if(A){var B=je(x,"opacity");return B===""?"1":B}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(x,A,B,U){if(x&&x.nodeType!==3&&x.nodeType!==8&&x.style){var Q,ae,he,Oe=pn(A),ze=_n.test(A),tt=x.style;if(ze||(A=Zn(Oe)),he=R.cssHooks[A]||R.cssHooks[Oe],B===void 0)return he&&"get"in he&&(Q=he.get(x,!1,U))!==void 0?Q:tt[A];(ae=typeof B)=="string"&&(Q=ur.exec(B))&&Q[1]&&(B=Or(x,A,Q),ae="number"),B!=null&&B==B&&(ae!=="number"||ze||(B+=Q&&Q[3]||(R.cssNumber[Oe]?"":"px")),W.clearCloneStyle||B!==""||A.indexOf("background")!==0||(tt[A]="inherit"),he&&"set"in he&&(B=he.set(x,B,U))===void 0||(ze?tt.setProperty(A,B):tt[A]=B))}},css:function(x,A,B,U){var Q,ae,he,Oe=pn(A);return _n.test(A)||(A=Zn(Oe)),(he=R.cssHooks[A]||R.cssHooks[Oe])&&"get"in he&&(Q=he.get(x,!0,B)),Q===void 0&&(Q=je(x,A,U)),Q==="normal"&&A in ei&&(Q=ei[A]),B===""||B?(ae=parseFloat(Q),B===!0||isFinite(ae)?ae||0:Q):Q}}),R.each(["height","width"],function(x,A){R.cssHooks[A]={get:function(B,U,Q){if(U)return!Yr.test(R.css(B,"display"))||B.getClientRects().length&&B.getBoundingClientRect().width?zr(B,A,Q):Be(B,Er,function(){return zr(B,A,Q)})},set:function(B,U,Q){var ae,he=ws(B),Oe=!W.scrollboxSize()&&he.position==="absolute",ze=(Oe||Q)&&R.css(B,"boxSizing",!1,he)==="border-box",tt=Q?Zr(B,A,Q,ze,he):0;return ze&&Oe&&(tt-=Math.ceil(B["offset"+A[0].toUpperCase()+A.slice(1)]-parseFloat(he[A])-Zr(B,A,"border",!1,he)-.5)),tt&&(ae=ur.exec(U))&&(ae[3]||"px")!=="px"&&(B.style[A]=U,U=R.css(B,A)),Dr(0,U,tt)}}}),R.cssHooks.marginLeft=Je(W.reliableMarginLeft,function(x,A){if(A)return(parseFloat(je(x,"marginLeft"))||x.getBoundingClientRect().left-Be(x,{marginLeft:0},function(){return x.getBoundingClientRect().left}))+"px"}),R.each({margin:"",padding:"",border:"Width"},function(x,A){R.cssHooks[x+A]={expand:function(B){for(var U=0,Q={},ae=typeof B=="string"?B.split(" "):[B];U<4;U++)Q[x+wr[U]+A]=ae[U]||ae[U-2]||ae[0];return Q}},x!=="margin"&&(R.cssHooks[x+A].set=Dr)}),R.fn.extend({css:function(x,A){return Re(this,function(B,U,Q){var ae,he,Oe={},ze=0;if(Array.isArray(U)){for(ae=ws(B),he=U.length;ze<he;ze++)Oe[U[ze]]=R.css(B,U[ze],!1,ae);return Oe}return Q!==void 0?R.style(B,U,Q):R.css(B,U)},x,A,arguments.length>1)}}),R.Tween=dr,dr.prototype={constructor:dr,init:function(x,A,B,U,Q,ae){this.elem=x,this.prop=B,this.easing=Q||R.easing._default,this.options=A,this.start=this.now=this.cur(),this.end=U,this.unit=ae||(R.cssNumber[B]?"":"px")},cur:function(){var x=dr.propHooks[this.prop];return x&&x.get?x.get(this):dr.propHooks._default.get(this)},run:function(x){var A,B=dr.propHooks[this.prop];return this.options.duration?this.pos=A=R.easing[this.easing](x,this.options.duration*x,0,1,this.options.duration):this.pos=A=x,this.now=(this.end-this.start)*A+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),B&&B.set?B.set(this):dr.propHooks._default.set(this),this}},dr.prototype.init.prototype=dr.prototype,dr.propHooks={_default:{get:function(x){var A;return x.elem.nodeType!==1||x.elem[x.prop]!=null&&x.elem.style[x.prop]==null?x.elem[x.prop]:(A=R.css(x.elem,x.prop,""))&&A!=="auto"?A:0},set:function(x){R.fx.step[x.prop]?R.fx.step[x.prop](x):x.elem.nodeType!==1||!R.cssHooks[x.prop]&&x.elem.style[Zn(x.prop)]==null?x.elem[x.prop]=x.now:R.style(x.elem,x.prop,x.now+x.unit)}}},dr.propHooks.scrollTop=dr.propHooks.scrollLeft={set:function(x){x.elem.nodeType&&x.elem.parentNode&&(x.elem[x.prop]=x.now)}},R.easing={linear:function(x){return x},swing:function(x){return .5-Math.cos(x*Math.PI)/2},_default:"swing"},R.fx=dr.prototype.init,R.fx.step={};var Pr,Br,Kr=/^(?:toggle|show|hide)$/,xi=/queueHooks$/;function Vi(){Br&&(ce.hidden===!1&&c.requestAnimationFrame?c.requestAnimationFrame(Vi):c.setTimeout(Vi,R.fx.interval),R.fx.tick())}function ts(){return c.setTimeout(function(){Pr=void 0}),Pr=Date.now()}function Ro(x,A){var B,U=0,Q={height:x};for(A=A?1:0;U<4;U+=2-A)Q["margin"+(B=wr[U])]=Q["padding"+B]=x;return A&&(Q.opacity=Q.width=x),Q}function _o(x,A,B){for(var U,Q=(Di.tweeners[A]||[]).concat(Di.tweeners["*"]),ae=0,he=Q.length;ae<he;ae++)if(U=Q[ae].call(B,A,x))return U}function Di(x,A,B){var U,Q,ae=0,he=Di.prefilters.length,Oe=R.Deferred().always(function(){delete ze.elem}),ze=function(){if(Q)return!1;for(var St=Pr||ts(),ft=Math.max(0,tt.startTime+tt.duration-St),Et=1-(ft/tt.duration||0),zn=0,sr=tt.tweens.length;zn<sr;zn++)tt.tweens[zn].run(Et);return Oe.notifyWith(x,[tt,Et,ft]),Et<1&&sr?ft:(sr||Oe.notifyWith(x,[tt,1,0]),Oe.resolveWith(x,[tt]),!1)},tt=Oe.promise({elem:x,props:R.extend({},A),opts:R.extend(!0,{specialEasing:{},easing:R.easing._default},B),originalProperties:A,originalOptions:B,startTime:Pr||ts(),duration:B.duration,tweens:[],createTween:function(St,ft){var Et=R.Tween(x,tt.opts,St,ft,tt.opts.specialEasing[St]||tt.opts.easing);return tt.tweens.push(Et),Et},stop:function(St){var ft=0,Et=St?tt.tweens.length:0;if(Q)return this;for(Q=!0;ft<Et;ft++)tt.tweens[ft].run(1);return St?(Oe.notifyWith(x,[tt,1,0]),Oe.resolveWith(x,[tt,St])):Oe.rejectWith(x,[tt,St]),this}}),Lt=tt.props;for(!function(St,ft){var Et,zn,sr,Un,ci;for(Et in St)if(sr=ft[zn=pn(Et)],Un=St[Et],Array.isArray(Un)&&(sr=Un[1],Un=St[Et]=Un[0]),Et!==zn&&(St[zn]=Un,delete St[Et]),(ci=R.cssHooks[zn])&&"expand"in ci)for(Et in Un=ci.expand(Un),delete St[zn],Un)Et in St||(St[Et]=Un[Et],ft[Et]=sr);else ft[zn]=sr}(Lt,tt.opts.specialEasing);ae<he;ae++)if(U=Di.prefilters[ae].call(tt,x,Lt,tt.opts))return ne(U.stop)&&(R._queueHooks(tt.elem,tt.opts.queue).stop=U.stop.bind(U)),U;return R.map(Lt,_o,tt),ne(tt.opts.start)&&tt.opts.start.call(x,tt),tt.progress(tt.opts.progress).done(tt.opts.done,tt.opts.complete).fail(tt.opts.fail).always(tt.opts.always),R.fx.timer(R.extend(ze,{elem:x,anim:tt,queue:tt.opts.queue})),tt}R.Animation=R.extend(Di,{tweeners:{"*":[function(x,A){var B=this.createTween(x,A);return Or(B.elem,x,ur.exec(A),B),B}]},tweener:function(x,A){ne(x)?(A=x,x=["*"]):x=x.match(ke);for(var B,U=0,Q=x.length;U<Q;U++)B=x[U],Di.tweeners[B]=Di.tweeners[B]||[],Di.tweeners[B].unshift(A)},prefilters:[function(x,A,B){var U,Q,ae,he,Oe,ze,tt,Lt,St="width"in A||"height"in A,ft=this,Et={},zn=x.style,sr=x.nodeType&&di(x),Un=Jt.get(x,"fxshow");for(U in B.queue||((he=R._queueHooks(x,"fx")).unqueued==null&&(he.unqueued=0,Oe=he.empty.fire,he.empty.fire=function(){he.unqueued||Oe()}),he.unqueued++,ft.always(function(){ft.always(function(){he.unqueued--,R.queue(x,"fx").length||he.empty.fire()})})),A)if(Q=A[U],Kr.test(Q)){if(delete A[U],ae=ae||Q==="toggle",Q===(sr?"hide":"show")){if(Q!=="show"||!Un||Un[U]===void 0)continue;sr=!0}Et[U]=Un&&Un[U]||R.style(x,U)}if((ze=!R.isEmptyObject(A))||!R.isEmptyObject(Et))for(U in St&&x.nodeType===1&&(B.overflow=[zn.overflow,zn.overflowX,zn.overflowY],(tt=Un&&Un.display)==null&&(tt=Jt.get(x,"display")),(Lt=R.css(x,"display"))==="none"&&(tt?Lt=tt:(Ln([x],!0),tt=x.style.display||tt,Lt=R.css(x,"display"),Ln([x]))),(Lt==="inline"||Lt==="inline-block"&&tt!=null)&&R.css(x,"float")==="none"&&(ze||(ft.done(function(){zn.display=tt}),tt==null&&(Lt=zn.display,tt=Lt==="none"?"":Lt)),zn.display="inline-block")),B.overflow&&(zn.overflow="hidden",ft.always(function(){zn.overflow=B.overflow[0],zn.overflowX=B.overflow[1],zn.overflowY=B.overflow[2]})),ze=!1,Et)ze||(Un?"hidden"in Un&&(sr=Un.hidden):Un=Jt.access(x,"fxshow",{display:tt}),ae&&(Un.hidden=!sr),sr&&Ln([x],!0),ft.done(function(){for(U in sr||Ln([x]),Jt.remove(x,"fxshow"),Et)R.style(x,U,Et[U])})),ze=_o(sr?Un[U]:0,U,ft),U in Un||(Un[U]=ze.start,sr&&(ze.end=ze.start,ze.start=0))}],prefilter:function(x,A){A?Di.prefilters.unshift(x):Di.prefilters.push(x)}}),R.speed=function(x,A,B){var U=x&&typeof x=="object"?R.extend({},x):{complete:B||!B&&A||ne(x)&&x,duration:x,easing:B&&A||A&&!ne(A)&&A};return R.fx.off?U.duration=0:typeof U.duration!="number"&&(U.duration in R.fx.speeds?U.duration=R.fx.speeds[U.duration]:U.duration=R.fx.speeds._default),U.queue!=null&&U.queue!==!0||(U.queue="fx"),U.old=U.complete,U.complete=function(){ne(U.old)&&U.old.call(this),U.queue&&R.dequeue(this,U.queue)},U},R.fn.extend({fadeTo:function(x,A,B,U){return this.filter(di).css("opacity",0).show().end().animate({opacity:A},x,B,U)},animate:function(x,A,B,U){var Q=R.isEmptyObject(x),ae=R.speed(A,B,U),he=function(){var Oe=Di(this,R.extend({},x),ae);(Q||Jt.get(this,"finish"))&&Oe.stop(!0)};return he.finish=he,Q||ae.queue===!1?this.each(he):this.queue(ae.queue,he)},stop:function(x,A,B){var U=function(Q){var ae=Q.stop;delete Q.stop,ae(B)};return typeof x!="string"&&(B=A,A=x,x=void 0),A&&this.queue(x||"fx",[]),this.each(function(){var Q=!0,ae=x!=null&&x+"queueHooks",he=R.timers,Oe=Jt.get(this);if(ae)Oe[ae]&&Oe[ae].stop&&U(Oe[ae]);else for(ae in Oe)Oe[ae]&&Oe[ae].stop&&xi.test(ae)&&U(Oe[ae]);for(ae=he.length;ae--;)he[ae].elem!==this||x!=null&&he[ae].queue!==x||(he[ae].anim.stop(B),Q=!1,he.splice(ae,1));!Q&&B||R.dequeue(this,x)})},finish:function(x){return x!==!1&&(x=x||"fx"),this.each(function(){var A,B=Jt.get(this),U=B[x+"queue"],Q=B[x+"queueHooks"],ae=R.timers,he=U?U.length:0;for(B.finish=!0,R.queue(this,x,[]),Q&&Q.stop&&Q.stop.call(this,!0),A=ae.length;A--;)ae[A].elem===this&&ae[A].queue===x&&(ae[A].anim.stop(!0),ae.splice(A,1));for(A=0;A<he;A++)U[A]&&U[A].finish&&U[A].finish.call(this);delete B.finish})}}),R.each(["toggle","show","hide"],function(x,A){var B=R.fn[A];R.fn[A]=function(U,Q,ae){return U==null||typeof U=="boolean"?B.apply(this,arguments):this.animate(Ro(A,!0),U,Q,ae)}}),R.each({slideDown:Ro("show"),slideUp:Ro("hide"),slideToggle:Ro("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(x,A){R.fn[x]=function(B,U,Q){return this.animate(A,B,U,Q)}}),R.timers=[],R.fx.tick=function(){var x,A=0,B=R.timers;for(Pr=Date.now();A<B.length;A++)(x=B[A])()||B[A]!==x||B.splice(A--,1);B.length||R.fx.stop(),Pr=void 0},R.fx.timer=function(x){R.timers.push(x),R.fx.start()},R.fx.interval=13,R.fx.start=function(){Br||(Br=!0,Vi())},R.fx.stop=function(){Br=null},R.fx.speeds={slow:600,fast:200,_default:400},R.fn.delay=function(x,A){return x=R.fx&&R.fx.speeds[x]||x,A=A||"fx",this.queue(A,function(B,U){var Q=c.setTimeout(B,x);U.stop=function(){c.clearTimeout(Q)}})},function(){var x=ce.createElement("input"),A=ce.createElement("select").appendChild(ce.createElement("option"));x.type="checkbox",W.checkOn=x.value!=="",W.optSelected=A.selected,(x=ce.createElement("input")).value="t",x.type="radio",W.radioValue=x.value==="t"}();var Us,Ai=R.expr.attrHandle;R.fn.extend({attr:function(x,A){return Re(this,R.attr,x,A,arguments.length>1)},removeAttr:function(x){return this.each(function(){R.removeAttr(this,x)})}}),R.extend({attr:function(x,A,B){var U,Q,ae=x.nodeType;if(ae!==3&&ae!==8&&ae!==2)return x.getAttribute===void 0?R.prop(x,A,B):(ae===1&&R.isXMLDoc(x)||(Q=R.attrHooks[A.toLowerCase()]||(R.expr.match.bool.test(A)?Us:void 0)),B!==void 0?B===null?void R.removeAttr(x,A):Q&&"set"in Q&&(U=Q.set(x,B,A))!==void 0?U:(x.setAttribute(A,B+""),B):Q&&"get"in Q&&(U=Q.get(x,A))!==null?U:(U=R.find.attr(x,A))==null?void 0:U)},attrHooks:{type:{set:function(x,A){if(!W.radioValue&&A==="radio"&&ot(x,"input")){var B=x.value;return x.setAttribute("type",A),B&&(x.value=B),A}}}},removeAttr:function(x,A){var B,U=0,Q=A&&A.match(ke);if(Q&&x.nodeType===1)for(;B=Q[U++];)x.removeAttribute(B)}}),Us={set:function(x,A,B){return A===!1?R.removeAttr(x,B):x.setAttribute(B,B),B}},R.each(R.expr.match.bool.source.match(/\w+/g),function(x,A){var B=Ai[A]||R.find.attr;Ai[A]=function(U,Q,ae){var he,Oe,ze=Q.toLowerCase();return ae||(Oe=Ai[ze],Ai[ze]=he,he=B(U,Q,ae)!=null?ze:null,Ai[ze]=Oe),he}});var oa=/^(?:input|select|textarea|button)$/i,iu=/^(?:a|area)$/i;function Gs(x){return(x.match(ke)||[]).join(" ")}function ko(x){return x.getAttribute&&x.getAttribute("class")||""}function Ta(x){return Array.isArray(x)?x:typeof x=="string"&&x.match(ke)||[]}R.fn.extend({prop:function(x,A){return Re(this,R.prop,x,A,arguments.length>1)},removeProp:function(x){return this.each(function(){delete this[R.propFix[x]||x]})}}),R.extend({prop:function(x,A,B){var U,Q,ae=x.nodeType;if(ae!==3&&ae!==8&&ae!==2)return ae===1&&R.isXMLDoc(x)||(A=R.propFix[A]||A,Q=R.propHooks[A]),B!==void 0?Q&&"set"in Q&&(U=Q.set(x,B,A))!==void 0?U:x[A]=B:Q&&"get"in Q&&(U=Q.get(x,A))!==null?U:x[A]},propHooks:{tabIndex:{get:function(x){var A=R.find.attr(x,"tabindex");return A?parseInt(A,10):oa.test(x.nodeName)||iu.test(x.nodeName)&&x.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),W.optSelected||(R.propHooks.selected={get:function(x){var A=x.parentNode;return A&&A.parentNode&&A.parentNode.selectedIndex,null},set:function(x){var A=x.parentNode;A&&(A.selectedIndex,A.parentNode&&A.parentNode.selectedIndex)}}),R.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){R.propFix[this.toLowerCase()]=this}),R.fn.extend({addClass:function(x){var A,B,U,Q,ae,he,Oe,ze=0;if(ne(x))return this.each(function(tt){R(this).addClass(x.call(this,tt,ko(this)))});if((A=Ta(x)).length){for(;B=this[ze++];)if(Q=ko(B),U=B.nodeType===1&&" "+Gs(Q)+" "){for(he=0;ae=A[he++];)U.indexOf(" "+ae+" ")<0&&(U+=ae+" ");Q!==(Oe=Gs(U))&&B.setAttribute("class",Oe)}}return this},removeClass:function(x){var A,B,U,Q,ae,he,Oe,ze=0;if(ne(x))return this.each(function(tt){R(this).removeClass(x.call(this,tt,ko(this)))});if(!arguments.length)return this.attr("class","");if((A=Ta(x)).length){for(;B=this[ze++];)if(Q=ko(B),U=B.nodeType===1&&" "+Gs(Q)+" "){for(he=0;ae=A[he++];)for(;U.indexOf(" "+ae+" ")>-1;)U=U.replace(" "+ae+" "," ");Q!==(Oe=Gs(U))&&B.setAttribute("class",Oe)}}return this},toggleClass:function(x,A){var B=typeof x,U=B==="string"||Array.isArray(x);return typeof A=="boolean"&&U?A?this.addClass(x):this.removeClass(x):ne(x)?this.each(function(Q){R(this).toggleClass(x.call(this,Q,ko(this),A),A)}):this.each(function(){var Q,ae,he,Oe;if(U)for(ae=0,he=R(this),Oe=Ta(x);Q=Oe[ae++];)he.hasClass(Q)?he.removeClass(Q):he.addClass(Q);else x!==void 0&&B!=="boolean"||((Q=ko(this))&&Jt.set(this,"__className__",Q),this.setAttribute&&this.setAttribute("class",Q||x===!1?"":Jt.get(this,"__className__")||""))})},hasClass:function(x){var A,B,U=0;for(A=" "+x+" ";B=this[U++];)if(B.nodeType===1&&(" "+Gs(ko(B))+" ").indexOf(A)>-1)return!0;return!1}});var qa=/\r/g;R.fn.extend({val:function(x){var A,B,U,Q=this[0];return arguments.length?(U=ne(x),this.each(function(ae){var he;this.nodeType===1&&((he=U?x.call(this,ae,R(this).val()):x)==null?he="":typeof he=="number"?he+="":Array.isArray(he)&&(he=R.map(he,function(Oe){return Oe==null?"":Oe+""})),(A=R.valHooks[this.type]||R.valHooks[this.nodeName.toLowerCase()])&&"set"in A&&A.set(this,he,"value")!==void 0||(this.value=he))})):Q?(A=R.valHooks[Q.type]||R.valHooks[Q.nodeName.toLowerCase()])&&"get"in A&&(B=A.get(Q,"value"))!==void 0?B:typeof(B=Q.value)=="string"?B.replace(qa,""):B??"":void 0}}),R.extend({valHooks:{option:{get:function(x){var A=R.find.attr(x,"value");return A??Gs(R.text(x))}},select:{get:function(x){var A,B,U,Q=x.options,ae=x.selectedIndex,he=x.type==="select-one",Oe=he?null:[],ze=he?ae+1:Q.length;for(U=ae<0?ze:he?ae:0;U<ze;U++)if(((B=Q[U]).selected||U===ae)&&!B.disabled&&(!B.parentNode.disabled||!ot(B.parentNode,"optgroup"))){if(A=R(B).val(),he)return A;Oe.push(A)}return Oe},set:function(x,A){for(var B,U,Q=x.options,ae=R.makeArray(A),he=Q.length;he--;)((U=Q[he]).selected=R.inArray(R.valHooks.option.get(U),ae)>-1)&&(B=!0);return B||(x.selectedIndex=-1),ae}}}}),R.each(["radio","checkbox"],function(){R.valHooks[this]={set:function(x,A){if(Array.isArray(A))return x.checked=R.inArray(R(x).val(),A)>-1}},W.checkOn||(R.valHooks[this].get=function(x){return x.getAttribute("value")===null?"on":x.value})}),W.focusin="onfocusin"in c;var Wo=/^(?:focusinfocus|focusoutblur)$/,Oo=function(x){x.stopPropagation()};R.extend(R.event,{trigger:function(x,A,B,U){var Q,ae,he,Oe,ze,tt,Lt,St,ft=[B||ce],Et=q.call(x,"type")?x.type:x,zn=q.call(x,"namespace")?x.namespace.split("."):[];if(ae=St=he=B=B||ce,B.nodeType!==3&&B.nodeType!==8&&!Wo.test(Et+R.event.triggered)&&(Et.indexOf(".")>-1&&(zn=Et.split("."),Et=zn.shift(),zn.sort()),ze=Et.indexOf(":")<0&&"on"+Et,(x=x[R.expando]?x:new R.Event(Et,typeof x=="object"&&x)).isTrigger=U?2:3,x.namespace=zn.join("."),x.rnamespace=x.namespace?new RegExp("(^|\\.)"+zn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,x.result=void 0,x.target||(x.target=B),A=A==null?[x]:R.makeArray(A,[x]),Lt=R.event.special[Et]||{},U||!Lt.trigger||Lt.trigger.apply(B,A)!==!1)){if(!U&&!Lt.noBubble&&!le(B)){for(Oe=Lt.delegateType||Et,Wo.test(Oe+Et)||(ae=ae.parentNode);ae;ae=ae.parentNode)ft.push(ae),he=ae;he===(B.ownerDocument||ce)&&ft.push(he.defaultView||he.parentWindow||c)}for(Q=0;(ae=ft[Q++])&&!x.isPropagationStopped();)St=ae,x.type=Q>1?Oe:Lt.bindType||Et,(tt=(Jt.get(ae,"events")||Object.create(null))[x.type]&&Jt.get(ae,"handle"))&&tt.apply(ae,A),(tt=ze&&ae[ze])&&tt.apply&&xn(ae)&&(x.result=tt.apply(ae,A),x.result===!1&&x.preventDefault());return x.type=Et,U||x.isDefaultPrevented()||Lt._default&&Lt._default.apply(ft.pop(),A)!==!1||!xn(B)||ze&&ne(B[Et])&&!le(B)&&((he=B[ze])&&(B[ze]=null),R.event.triggered=Et,x.isPropagationStopped()&&St.addEventListener(Et,Oo),B[Et](),x.isPropagationStopped()&&St.removeEventListener(Et,Oo),R.event.triggered=void 0,he&&(B[ze]=he)),x.result}},simulate:function(x,A,B){var U=R.extend(new R.Event,B,{type:x,isSimulated:!0});R.event.trigger(U,null,A)}}),R.fn.extend({trigger:function(x,A){return this.each(function(){R.event.trigger(x,A,this)})},triggerHandler:function(x,A){var B=this[0];if(B)return R.event.trigger(x,A,B,!0)}}),W.focusin||R.each({focus:"focusin",blur:"focusout"},function(x,A){var B=function(U){R.event.simulate(A,U.target,R.event.fix(U))};R.event.special[A]={setup:function(){var U=this.ownerDocument||this.document||this,Q=Jt.access(U,A);Q||U.addEventListener(x,B,!0),Jt.access(U,A,(Q||0)+1)},teardown:function(){var U=this.ownerDocument||this.document||this,Q=Jt.access(U,A)-1;Q?Jt.access(U,A,Q):(U.removeEventListener(x,B,!0),Jt.remove(U,A))}}});var Wr=c.location,ol={guid:Date.now()},Os=/\?/;R.parseXML=function(x){var A;if(!x||typeof x!="string")return null;try{A=new c.DOMParser().parseFromString(x,"text/xml")}catch{A=void 0}return A&&!A.getElementsByTagName("parsererror").length||R.error("Invalid XML: "+x),A};var Io=/\[\]$/,Lr=/\r?\n/g,qo=/^(?:submit|button|image|reset|file)$/i,Ca=/^(?:input|select|textarea|keygen)/i;function aa(x,A,B,U){var Q;if(Array.isArray(A))R.each(A,function(ae,he){B||Io.test(x)?U(x,he):aa(x+"["+(typeof he=="object"&&he!=null?ae:"")+"]",he,B,U)});else if(B||Fe(A)!=="object")U(x,A);else for(Q in A)aa(x+"["+Q+"]",A[Q],B,U)}R.param=function(x,A){var B,U=[],Q=function(ae,he){var Oe=ne(he)?he():he;U[U.length]=encodeURIComponent(ae)+"="+encodeURIComponent(Oe??"")};if(x==null)return"";if(Array.isArray(x)||x.jquery&&!R.isPlainObject(x))R.each(x,function(){Q(this.name,this.value)});else for(B in x)aa(B,x[B],A,Q);return U.join("&")},R.fn.extend({serialize:function(){return R.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var x=R.prop(this,"elements");return x?R.makeArray(x):this}).filter(function(){var x=this.type;return this.name&&!R(this).is(":disabled")&&Ca.test(this.nodeName)&&!qo.test(x)&&(this.checked||!yi.test(x))}).map(function(x,A){var B=R(this).val();return B==null?null:Array.isArray(B)?R.map(B,function(U){return{name:A.name,value:U.replace(Lr,`\r
`)}}):{name:A.name,value:B.replace(Lr,`\r
`)}}).get()}});var la=/%20/g,no=/#.*$/,us=/([?&])_=[^&]*/,_s=/^(.*?):[ \t]*([^\r\n]*)$/gm,ro=/^(?:GET|HEAD)$/,No=/^\/\//,Ss={},io={},La="*/".concat("*"),Ti=ce.createElement("a");function so(x){return function(A,B){typeof A!="string"&&(B=A,A="*");var U,Q=0,ae=A.toLowerCase().match(ke)||[];if(ne(B))for(;U=ae[Q++];)U[0]==="+"?(U=U.slice(1)||"*",(x[U]=x[U]||[]).unshift(B)):(x[U]=x[U]||[]).push(B)}}function wl(x,A,B,U){var Q={},ae=x===io;function he(Oe){var ze;return Q[Oe]=!0,R.each(x[Oe]||[],function(tt,Lt){var St=Lt(A,B,U);return typeof St!="string"||ae||Q[St]?ae?!(ze=St):void 0:(A.dataTypes.unshift(St),he(St),!1)}),ze}return he(A.dataTypes[0])||!Q["*"]&&he("*")}function ua(x,A){var B,U,Q=R.ajaxSettings.flatOptions||{};for(B in A)A[B]!==void 0&&((Q[B]?x:U||(U={}))[B]=A[B]);return U&&R.extend(!0,x,U),x}Ti.href=Wr.href,R.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Wr.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Wr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":La,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":R.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(x,A){return A?ua(ua(x,R.ajaxSettings),A):ua(R.ajaxSettings,x)},ajaxPrefilter:so(Ss),ajaxTransport:so(io),ajax:function(x,A){typeof x=="object"&&(A=x,x=void 0),A=A||{};var B,U,Q,ae,he,Oe,ze,tt,Lt,St,ft=R.ajaxSetup({},A),Et=ft.context||ft,zn=ft.context&&(Et.nodeType||Et.jquery)?R(Et):R.event,sr=R.Deferred(),Un=R.Callbacks("once memory"),ci=ft.statusCode||{},Fi={},Zs={},si="canceled",Sr={readyState:0,getResponseHeader:function(oi){var Oi;if(ze){if(!ae)for(ae={};Oi=_s.exec(Q);)ae[Oi[1].toLowerCase()+" "]=(ae[Oi[1].toLowerCase()+" "]||[]).concat(Oi[2]);Oi=ae[oi.toLowerCase()+" "]}return Oi==null?null:Oi.join(", ")},getAllResponseHeaders:function(){return ze?Q:null},setRequestHeader:function(oi,Oi){return ze==null&&(oi=Zs[oi.toLowerCase()]=Zs[oi.toLowerCase()]||oi,Fi[oi]=Oi),this},overrideMimeType:function(oi){return ze==null&&(ft.mimeType=oi),this},statusCode:function(oi){var Oi;if(oi)if(ze)Sr.always(oi[Sr.status]);else for(Oi in oi)ci[Oi]=[ci[Oi],oi[Oi]];return this},abort:function(oi){var Oi=oi||si;return B&&B.abort(Oi),Do(0,Oi),this}};if(sr.promise(Sr),ft.url=((x||ft.url||Wr.href)+"").replace(No,Wr.protocol+"//"),ft.type=A.method||A.type||ft.method||ft.type,ft.dataTypes=(ft.dataType||"*").toLowerCase().match(ke)||[""],ft.crossDomain==null){Oe=ce.createElement("a");try{Oe.href=ft.url,Oe.href=Oe.href,ft.crossDomain=Ti.protocol+"//"+Ti.host!=Oe.protocol+"//"+Oe.host}catch{ft.crossDomain=!0}}if(ft.data&&ft.processData&&typeof ft.data!="string"&&(ft.data=R.param(ft.data,ft.traditional)),wl(Ss,ft,A,Sr),ze)return Sr;for(Lt in(tt=R.event&&ft.global)&&R.active++==0&&R.event.trigger("ajaxStart"),ft.type=ft.type.toUpperCase(),ft.hasContent=!ro.test(ft.type),U=ft.url.replace(no,""),ft.hasContent?ft.data&&ft.processData&&(ft.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ft.data=ft.data.replace(la,"+")):(St=ft.url.slice(U.length),ft.data&&(ft.processData||typeof ft.data=="string")&&(U+=(Os.test(U)?"&":"?")+ft.data,delete ft.data),ft.cache===!1&&(U=U.replace(us,"$1"),St=(Os.test(U)?"&":"?")+"_="+ol.guid+++St),ft.url=U+St),ft.ifModified&&(R.lastModified[U]&&Sr.setRequestHeader("If-Modified-Since",R.lastModified[U]),R.etag[U]&&Sr.setRequestHeader("If-None-Match",R.etag[U])),(ft.data&&ft.hasContent&&ft.contentType!==!1||A.contentType)&&Sr.setRequestHeader("Content-Type",ft.contentType),Sr.setRequestHeader("Accept",ft.dataTypes[0]&&ft.accepts[ft.dataTypes[0]]?ft.accepts[ft.dataTypes[0]]+(ft.dataTypes[0]!=="*"?", "+La+"; q=0.01":""):ft.accepts["*"]),ft.headers)Sr.setRequestHeader(Lt,ft.headers[Lt]);if(ft.beforeSend&&(ft.beforeSend.call(Et,Sr,ft)===!1||ze))return Sr.abort();if(si="abort",Un.add(ft.complete),Sr.done(ft.success),Sr.fail(ft.error),B=wl(io,ft,A,Sr)){if(Sr.readyState=1,tt&&zn.trigger("ajaxSend",[Sr,ft]),ze)return Sr;ft.async&&ft.timeout>0&&(he=c.setTimeout(function(){Sr.abort("timeout")},ft.timeout));try{ze=!1,B.send(Fi,Do)}catch(oi){if(ze)throw oi;Do(-1,oi)}}else Do(-1,"No Transport");function Do(oi,Oi,Xa,nh){var ca,su,Du,Fo,Fu,Pa=Oi;ze||(ze=!0,he&&c.clearTimeout(he),B=void 0,Q=nh||"",Sr.readyState=oi>0?4:0,ca=oi>=200&&oi<300||oi===304,Xa&&(Fo=function(cs,zo,ns){for(var Wi,Tr,An,Ot,Ui=cs.contents,Ki=cs.dataTypes;Ki[0]==="*";)Ki.shift(),Wi===void 0&&(Wi=cs.mimeType||zo.getResponseHeader("Content-Type"));if(Wi){for(Tr in Ui)if(Ui[Tr]&&Ui[Tr].test(Wi)){Ki.unshift(Tr);break}}if(Ki[0]in ns)An=Ki[0];else{for(Tr in ns){if(!Ki[0]||cs.converters[Tr+" "+Ki[0]]){An=Tr;break}Ot||(Ot=Tr)}An=An||Ot}if(An)return An!==Ki[0]&&Ki.unshift(An),ns[An]}(ft,Sr,Xa)),!ca&&R.inArray("script",ft.dataTypes)>-1&&(ft.converters["text script"]=function(){}),Fo=function(cs,zo,ns,Wi){var Tr,An,Ot,Ui,Ki,qi={},Ra=cs.dataTypes.slice();if(Ra[1])for(Ot in cs.converters)qi[Ot.toLowerCase()]=cs.converters[Ot];for(An=Ra.shift();An;)if(cs.responseFields[An]&&(ns[cs.responseFields[An]]=zo),!Ki&&Wi&&cs.dataFilter&&(zo=cs.dataFilter(zo,cs.dataType)),Ki=An,An=Ra.shift()){if(An==="*")An=Ki;else if(Ki!=="*"&&Ki!==An){if(!(Ot=qi[Ki+" "+An]||qi["* "+An])){for(Tr in qi)if((Ui=Tr.split(" "))[1]===An&&(Ot=qi[Ki+" "+Ui[0]]||qi["* "+Ui[0]])){Ot===!0?Ot=qi[Tr]:qi[Tr]!==!0&&(An=Ui[0],Ra.unshift(Ui[1]));break}}if(Ot!==!0)if(Ot&&cs.throws)zo=Ot(zo);else try{zo=Ot(zo)}catch(ti){return{state:"parsererror",error:Ot?ti:"No conversion from "+Ki+" to "+An}}}}return{state:"success",data:zo}}(ft,Fo,Sr,ca),ca?(ft.ifModified&&((Fu=Sr.getResponseHeader("Last-Modified"))&&(R.lastModified[U]=Fu),(Fu=Sr.getResponseHeader("etag"))&&(R.etag[U]=Fu)),oi===204||ft.type==="HEAD"?Pa="nocontent":oi===304?Pa="notmodified":(Pa=Fo.state,su=Fo.data,ca=!(Du=Fo.error))):(Du=Pa,!oi&&Pa||(Pa="error",oi<0&&(oi=0))),Sr.status=oi,Sr.statusText=(Oi||Pa)+"",ca?sr.resolveWith(Et,[su,Pa,Sr]):sr.rejectWith(Et,[Sr,Pa,Du]),Sr.statusCode(ci),ci=void 0,tt&&zn.trigger(ca?"ajaxSuccess":"ajaxError",[Sr,ft,ca?su:Du]),Un.fireWith(Et,[Sr,Pa]),tt&&(zn.trigger("ajaxComplete",[Sr,ft]),--R.active||R.event.trigger("ajaxStop")))}return Sr},getJSON:function(x,A,B){return R.get(x,A,B,"json")},getScript:function(x,A){return R.get(x,void 0,A,"script")}}),R.each(["get","post"],function(x,A){R[A]=function(B,U,Q,ae){return ne(U)&&(ae=ae||Q,Q=U,U=void 0),R.ajax(R.extend({url:B,type:A,dataType:ae,data:U,success:Q},R.isPlainObject(B)&&B))}}),R.ajaxPrefilter(function(x){var A;for(A in x.headers)A.toLowerCase()==="content-type"&&(x.contentType=x.headers[A]||"")}),R._evalUrl=function(x,A,B){return R.ajax({url:x,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(U){R.globalEval(U,A,B)}})},R.fn.extend({wrapAll:function(x){var A;return this[0]&&(ne(x)&&(x=x.call(this[0])),A=R(x,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&A.insertBefore(this[0]),A.map(function(){for(var B=this;B.firstElementChild;)B=B.firstElementChild;return B}).append(this)),this},wrapInner:function(x){return ne(x)?this.each(function(A){R(this).wrapInner(x.call(this,A))}):this.each(function(){var A=R(this),B=A.contents();B.length?B.wrapAll(x):A.append(x)})},wrap:function(x){var A=ne(x);return this.each(function(B){R(this).wrapAll(A?x.call(this,B):x)})},unwrap:function(x){return this.parent(x).not("body").each(function(){R(this).replaceWith(this.childNodes)}),this}}),R.expr.pseudos.hidden=function(x){return!R.expr.pseudos.visible(x)},R.expr.pseudos.visible=function(x){return!!(x.offsetWidth||x.offsetHeight||x.getClientRects().length)},R.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch{}};var $={0:200,1223:204},ie=R.ajaxSettings.xhr();W.cors=!!ie&&"withCredentials"in ie,W.ajax=ie=!!ie,R.ajaxTransport(function(x){var A,B;if(W.cors||ie&&!x.crossDomain)return{send:function(U,Q){var ae,he=x.xhr();if(he.open(x.type,x.url,x.async,x.username,x.password),x.xhrFields)for(ae in x.xhrFields)he[ae]=x.xhrFields[ae];for(ae in x.mimeType&&he.overrideMimeType&&he.overrideMimeType(x.mimeType),x.crossDomain||U["X-Requested-With"]||(U["X-Requested-With"]="XMLHttpRequest"),U)he.setRequestHeader(ae,U[ae]);A=function(Oe){return function(){A&&(A=B=he.onload=he.onerror=he.onabort=he.ontimeout=he.onreadystatechange=null,Oe==="abort"?he.abort():Oe==="error"?typeof he.status!="number"?Q(0,"error"):Q(he.status,he.statusText):Q($[he.status]||he.status,he.statusText,(he.responseType||"text")!=="text"||typeof he.responseText!="string"?{binary:he.response}:{text:he.responseText},he.getAllResponseHeaders()))}},he.onload=A(),B=he.onerror=he.ontimeout=A("error"),he.onabort!==void 0?he.onabort=B:he.onreadystatechange=function(){he.readyState===4&&c.setTimeout(function(){A&&B()})},A=A("abort");try{he.send(x.hasContent&&x.data||null)}catch(Oe){if(A)throw Oe}},abort:function(){A&&A()}}}),R.ajaxPrefilter(function(x){x.crossDomain&&(x.contents.script=!1)}),R.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(x){return R.globalEval(x),x}}}),R.ajaxPrefilter("script",function(x){x.cache===void 0&&(x.cache=!1),x.crossDomain&&(x.type="GET")}),R.ajaxTransport("script",function(x){var A,B;if(x.crossDomain||x.scriptAttrs)return{send:function(U,Q){A=R("<script>").attr(x.scriptAttrs||{}).prop({charset:x.scriptCharset,src:x.url}).on("load error",B=function(ae){A.remove(),B=null,ae&&Q(ae.type==="error"?404:200,ae.type)}),ce.head.appendChild(A[0])},abort:function(){B&&B()}}});var ge,Ye=[],ct=/(=)\?(?=&|$)|\?\?/;R.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var x=Ye.pop()||R.expando+"_"+ol.guid++;return this[x]=!0,x}}),R.ajaxPrefilter("json jsonp",function(x,A,B){var U,Q,ae,he=x.jsonp!==!1&&(ct.test(x.url)?"url":typeof x.data=="string"&&(x.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ct.test(x.data)&&"data");if(he||x.dataTypes[0]==="jsonp")return U=x.jsonpCallback=ne(x.jsonpCallback)?x.jsonpCallback():x.jsonpCallback,he?x[he]=x[he].replace(ct,"$1"+U):x.jsonp!==!1&&(x.url+=(Os.test(x.url)?"&":"?")+x.jsonp+"="+U),x.converters["script json"]=function(){return ae||R.error(U+" was not called"),ae[0]},x.dataTypes[0]="json",Q=c[U],c[U]=function(){ae=arguments},B.always(function(){Q===void 0?R(c).removeProp(U):c[U]=Q,x[U]&&(x.jsonpCallback=A.jsonpCallback,Ye.push(U)),ae&&ne(Q)&&Q(ae[0]),ae=Q=void 0}),"script"}),W.createHTMLDocument=((ge=ce.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",ge.childNodes.length===2),R.parseHTML=function(x,A,B){return typeof x!="string"?[]:(typeof A=="boolean"&&(B=A,A=!1),A||(W.createHTMLDocument?((U=(A=ce.implementation.createHTMLDocument("")).createElement("base")).href=ce.location.href,A.head.appendChild(U)):A=ce),ae=!B&&[],(Q=xt.exec(x))?[A.createElement(Q[1])]:(Q=ji([x],A,ae),ae&&ae.length&&R(ae).remove(),R.merge([],Q.childNodes)));var U,Q,ae},R.fn.load=function(x,A,B){var U,Q,ae,he=this,Oe=x.indexOf(" ");return Oe>-1&&(U=Gs(x.slice(Oe)),x=x.slice(0,Oe)),ne(A)?(B=A,A=void 0):A&&typeof A=="object"&&(Q="POST"),he.length>0&&R.ajax({url:x,type:Q||"GET",dataType:"html",data:A}).done(function(ze){ae=arguments,he.html(U?R("<div>").append(R.parseHTML(ze)).find(U):ze)}).always(B&&function(ze,tt){he.each(function(){B.apply(this,ae||[ze.responseText,tt,ze])})}),this},R.expr.pseudos.animated=function(x){return R.grep(R.timers,function(A){return x===A.elem}).length},R.offset={setOffset:function(x,A,B){var U,Q,ae,he,Oe,ze,tt=R.css(x,"position"),Lt=R(x),St={};tt==="static"&&(x.style.position="relative"),Oe=Lt.offset(),ae=R.css(x,"top"),ze=R.css(x,"left"),(tt==="absolute"||tt==="fixed")&&(ae+ze).indexOf("auto")>-1?(he=(U=Lt.position()).top,Q=U.left):(he=parseFloat(ae)||0,Q=parseFloat(ze)||0),ne(A)&&(A=A.call(x,B,R.extend({},Oe))),A.top!=null&&(St.top=A.top-Oe.top+he),A.left!=null&&(St.left=A.left-Oe.left+Q),"using"in A?A.using.call(x,St):(typeof St.top=="number"&&(St.top+="px"),typeof St.left=="number"&&(St.left+="px"),Lt.css(St))}},R.fn.extend({offset:function(x){if(arguments.length)return x===void 0?this:this.each(function(Q){R.offset.setOffset(this,x,Q)});var A,B,U=this[0];return U?U.getClientRects().length?(A=U.getBoundingClientRect(),B=U.ownerDocument.defaultView,{top:A.top+B.pageYOffset,left:A.left+B.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var x,A,B,U=this[0],Q={top:0,left:0};if(R.css(U,"position")==="fixed")A=U.getBoundingClientRect();else{for(A=this.offset(),B=U.ownerDocument,x=U.offsetParent||B.documentElement;x&&(x===B.body||x===B.documentElement)&&R.css(x,"position")==="static";)x=x.parentNode;x&&x!==U&&x.nodeType===1&&((Q=R(x).offset()).top+=R.css(x,"borderTopWidth",!0),Q.left+=R.css(x,"borderLeftWidth",!0))}return{top:A.top-Q.top-R.css(U,"marginTop",!0),left:A.left-Q.left-R.css(U,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var x=this.offsetParent;x&&R.css(x,"position")==="static";)x=x.offsetParent;return x||_r})}}),R.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(x,A){var B=A==="pageYOffset";R.fn[x]=function(U){return Re(this,function(Q,ae,he){var Oe;if(le(Q)?Oe=Q:Q.nodeType===9&&(Oe=Q.defaultView),he===void 0)return Oe?Oe[A]:Q[ae];Oe?Oe.scrollTo(B?Oe.pageXOffset:he,B?he:Oe.pageYOffset):Q[ae]=he},x,U,arguments.length)}}),R.each(["top","left"],function(x,A){R.cssHooks[A]=Je(W.pixelPosition,function(B,U){if(U)return U=je(B,A),Ys.test(U)?R(B).position()[A]+"px":U})}),R.each({Height:"height",Width:"width"},function(x,A){R.each({padding:"inner"+x,content:A,"":"outer"+x},function(B,U){R.fn[U]=function(Q,ae){var he=arguments.length&&(B||typeof Q!="boolean"),Oe=B||(Q===!0||ae===!0?"margin":"border");return Re(this,function(ze,tt,Lt){var St;return le(ze)?U.indexOf("outer")===0?ze["inner"+x]:ze.document.documentElement["client"+x]:ze.nodeType===9?(St=ze.documentElement,Math.max(ze.body["scroll"+x],St["scroll"+x],ze.body["offset"+x],St["offset"+x],St["client"+x])):Lt===void 0?R.css(ze,tt,Oe):R.style(ze,tt,Lt,Oe)},A,he?Q:void 0,he)}})}),R.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(x,A){R.fn[A]=function(B){return this.on(A,B)}}),R.fn.extend({bind:function(x,A,B){return this.on(x,null,A,B)},unbind:function(x,A){return this.off(x,null,A)},delegate:function(x,A,B,U){return this.on(A,x,B,U)},undelegate:function(x,A,B){return arguments.length===1?this.off(x,"**"):this.off(A,x||"**",B)},hover:function(x,A){return this.mouseenter(x).mouseleave(A||x)}}),R.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(x,A){R.fn[A]=function(B,U){return arguments.length>0?this.on(A,null,B,U):this.trigger(A)}});var Rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;R.proxy=function(x,A){var B,U,Q;if(typeof A=="string"&&(B=x[A],A=x,x=B),ne(x))return U=b.call(arguments,2),(Q=function(){return x.apply(A||this,U.concat(b.call(arguments)))}).guid=x.guid=x.guid||R.guid++,Q},R.holdReady=function(x){x?R.readyWait++:R.ready(!0)},R.isArray=Array.isArray,R.parseJSON=JSON.parse,R.nodeName=ot,R.isFunction=ne,R.isWindow=le,R.camelCase=pn,R.type=Fe,R.now=Date.now,R.isNumeric=function(x){var A=R.type(x);return(A==="number"||A==="string")&&!isNaN(x-parseFloat(x))},R.trim=function(x){return x==null?"":(x+"").replace(Rt,"")},(a=(function(){return R}).apply(r,[]))===void 0||(O.exports=a);var bn=c.jQuery,rr=c.$;return R.noConflict=function(x){return c.$===R&&(c.$=rr),x&&c.jQuery===R&&(c.jQuery=bn),R},d===void 0&&(c.jQuery=c.$=R),R})},function(O,r,n){var a,c;a=this,c=function(){var d={isCanvas:!0,begin:function(f){f.beginPath()},move:function(f,m,b){f.moveTo(b.x,b.y)},line:function(f,m,b){f.lineTo(b.x,b.y)},bezier:function(f,m,b,_,E){f.bezierCurveTo(b.x,b.y,_.x,_.y,E.x,E.y)},closePath:function(f){f.closePath()},setPath:function(){},renderPath:function(f,m,b,_){this.begin(f,m),b.forEach(function(E){E.render(f,m,d)}),_&&this.closePath(f,m)},stroke:function(f,m,b,_,E){b&&(f.strokeStyle=_,f.lineWidth=E,f.stroke())},fill:function(f,m,b,_){b&&(f.fillStyle=_,f.fill())},end:function(){}};return d},O.exports?O.exports=c():a.Zdog.CanvasRenderer=c()},function(O,r,n){var a,c;a=this,c=function(){var d={isSvg:!0},f=d.round=function(b){return Math.round(1e3*b)/1e3};function m(b){return f(b.x)+","+f(b.y)+" "}return d.begin=function(){},d.move=function(b,_,E){return"M"+m(E)},d.line=function(b,_,E){return"L"+m(E)},d.bezier=function(b,_,E,C,k){return"C"+m(E)+m(C)+m(k)},d.closePath=function(){return"Z"},d.setPath=function(b,_,E){_.setAttribute("d",E)},d.renderPath=function(b,_,E,C){var k="";E.forEach(function(V){k+=V.render(b,_,d)}),C&&(k+=this.closePath(b,_)),this.setPath(b,_,k)},d.stroke=function(b,_,E,C,k){E&&(_.setAttribute("stroke",C),_.setAttribute("stroke-width",k))},d.fill=function(b,_,E,C){var k=E?C:"none";_.setAttribute("fill",k)},d.end=function(b,_){b.appendChild(_)},d},O.exports?O.exports=c():a.Zdog.SvgRenderer=c()},function(O,r,n){var a,c;a=this,c=function(){var d=typeof window<"u",f="mousedown",m="mousemove",b="mouseup";function _(){}function E(C){this.create(C||{})}return d&&(window.PointerEvent?(f="pointerdown",m="pointermove",b="pointerup"):"ontouchstart"in window&&(f="touchstart",m="touchmove",b="touchend")),E.prototype.create=function(C){this.onDragStart=C.onDragStart||_,this.onDragMove=C.onDragMove||_,this.onDragEnd=C.onDragEnd||_,this.bindDrag(C.startElement)},E.prototype.bindDrag=function(C){(C=this.getQueryElement(C))&&(C.style.touchAction="none",C.addEventListener(f,this))},E.prototype.getQueryElement=function(C){return typeof C=="string"&&(C=document.querySelector(C)),C},E.prototype.handleEvent=function(C){var k=this["on"+C.type];k&&k.call(this,C)},E.prototype.onmousedown=E.prototype.onpointerdown=function(C){this.dragStart(C,C)},E.prototype.ontouchstart=function(C){this.dragStart(C,C.changedTouches[0])},E.prototype.dragStart=function(C,k){C.preventDefault(),this.dragStartX=k.pageX,this.dragStartY=k.pageY,d&&(window.addEventListener(m,this),window.addEventListener(b,this)),this.onDragStart(k)},E.prototype.ontouchmove=function(C){this.dragMove(C,C.changedTouches[0])},E.prototype.onmousemove=E.prototype.onpointermove=function(C){this.dragMove(C,C)},E.prototype.dragMove=function(C,k){C.preventDefault();var V=k.pageX-this.dragStartX,q=k.pageY-this.dragStartY;this.onDragMove(k,V,q)},E.prototype.onmouseup=E.prototype.onpointerup=E.prototype.ontouchend=E.prototype.dragEnd=function(){window.removeEventListener(m,this),window.removeEventListener(b,this),this.onDragEnd()},E},O.exports?O.exports=c():a.Zdog.Dragger=c()},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(4));else{var d=a.Zdog;d.Group=c(d.Anchor)}})(this,function(a){var c=a.subclass({updateSort:!1,visible:!0});return c.prototype.updateSortValue=function(){var d=0;this.flatGraph.forEach(function(f){f.updateSortValue(),d+=f.sortValue}),this.sortValue=d/this.flatGraph.length,this.updateSort&&this.flatGraph.sort(a.shapeSorter)},c.prototype.render=function(d,f){this.visible&&this.flatGraph.forEach(function(m){m.render(d,f)})},c.prototype.updateFlatGraph=function(){this.flatGraph=this.addChildFlatGraph([])},c.prototype.getFlatGraph=function(){return[this]},c})},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(5));else{var d=a.Zdog;d.Rect=c(d.Shape)}})(this,function(a){var c=a.subclass({width:1,height:1});return c.prototype.setPath=function(){var d=this.width/2,f=this.height/2;this.path=[{x:-d,y:-f},{x:d,y:-f},{x:d,y:f},{x:-d,y:f}]},c})},function(O,r,n){function a(){return(a=Object.assign||function($){for(var ie=1;ie<arguments.length;ie++){var ge=arguments[ie];for(var Ye in ge)Object.prototype.hasOwnProperty.call(ge,Ye)&&($[Ye]=ge[Ye])}return $}).apply(this,arguments)}function c($){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)})($)}function d($,ie){return(d=Object.setPrototypeOf||function(ge,Ye){return ge.__proto__=Ye,ge})($,ie)}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function m($,ie,ge){return(m=f()?Reflect.construct:function(Ye,ct,Rt){var bn=[null];bn.push.apply(bn,ct);var rr=new(Function.bind.apply(Ye,bn));return Rt&&d(rr,Rt.prototype),rr}).apply(null,arguments)}function b($){var ie=typeof Map=="function"?new Map:void 0;return(b=function(ge){if(ge===null||(Ye=ge,Function.toString.call(Ye).indexOf("[native code]")===-1))return ge;var Ye;if(typeof ge!="function")throw new TypeError("Super expression must either be null or a function");if(ie!==void 0){if(ie.has(ge))return ie.get(ge);ie.set(ge,ct)}function ct(){return m(ge,arguments,c(this).constructor)}return ct.prototype=Object.create(ge.prototype,{constructor:{value:ct,enumerable:!1,writable:!0,configurable:!0}}),d(ct,ge)})($)}function _($,ie){return ie||(ie=$.slice(0)),$.raw=ie,$}function E(){var $;return($=arguments.length-1)<0||arguments.length<=$?void 0:arguments[$]}n.r(r),n.d(r,"adjustHue",function(){return Ys}),n.d(r,"animation",function(){return Wo}),n.d(r,"backgroundImages",function(){return Oo}),n.d(r,"backgrounds",function(){return Wr}),n.d(r,"between",function(){return be}),n.d(r,"border",function(){return Os}),n.d(r,"borderColor",function(){return Io}),n.d(r,"borderRadius",function(){return Lr}),n.d(r,"borderStyle",function(){return qo}),n.d(r,"borderWidth",function(){return Ca}),n.d(r,"buttons",function(){return _s}),n.d(r,"clearFix",function(){return It}),n.d(r,"complement",function(){return ws}),n.d(r,"cover",function(){return vt}),n.d(r,"cssVar",function(){return le}),n.d(r,"darken",function(){return je}),n.d(r,"desaturate",function(){return qt}),n.d(r,"directionalProperty",function(){return R}),n.d(r,"easeIn",function(){return Ee}),n.d(r,"easeInOut",function(){return it}),n.d(r,"easeOut",function(){return Gt}),n.d(r,"ellipsis",function(){return Re}),n.d(r,"em",function(){return rt}),n.d(r,"fluidRange",function(){return xr}),n.d(r,"fontFace",function(){return Jn}),n.d(r,"getContrast",function(){return un}),n.d(r,"getLuminance",function(){return hn}),n.d(r,"getValueAndUnit",function(){return xt}),n.d(r,"grayscale",function(){return Zn}),n.d(r,"hiDPI",function(){return Vn}),n.d(r,"hideText",function(){return ar}),n.d(r,"hideVisually",function(){return lr}),n.d(r,"hsl",function(){return wo}),n.d(r,"hslToColorString",function(){return Yr}),n.d(r,"hsla",function(){return to}),n.d(r,"important",function(){return We}),n.d(r,"invert",function(){return _n}),n.d(r,"lighten",function(){return ei}),n.d(r,"linearGradient",function(){return _r}),n.d(r,"margin",function(){return ro}),n.d(r,"math",function(){return W}),n.d(r,"meetsContrastGuidelines",function(){return Dr}),n.d(r,"mix",function(){return zr}),n.d(r,"modularScale",function(){return Ge}),n.d(r,"normalize",function(){return Wn}),n.d(r,"opacify",function(){return Pr}),n.d(r,"padding",function(){return No}),n.d(r,"parseToHsl",function(){return Cs}),n.d(r,"parseToRgb",function(){return es}),n.d(r,"position",function(){return io}),n.d(r,"radialGradient",function(){return di}),n.d(r,"readableColor",function(){return Br}),n.d(r,"rem",function(){return te}),n.d(r,"retinaImage",function(){return Or}),n.d(r,"rgb",function(){return bs}),n.d(r,"rgbToColorString",function(){return Kr}),n.d(r,"rgba",function(){return fi}),n.d(r,"saturate",function(){return Vi}),n.d(r,"setHue",function(){return Ro}),n.d(r,"setLightness",function(){return Di}),n.d(r,"setSaturation",function(){return Ai}),n.d(r,"shade",function(){return iu}),n.d(r,"size",function(){return La}),n.d(r,"stripUnit",function(){return wt}),n.d(r,"textInputs",function(){return wl}),n.d(r,"timingFunctions",function(){return Nr}),n.d(r,"tint",function(){return ko}),n.d(r,"toColorString",function(){return Zi}),n.d(r,"transitions",function(){return ua}),n.d(r,"transparentize",function(){return qa}),n.d(r,"triangle",function(){return er}),n.d(r,"wordWrap",function(){return Ir});var C={symbols:{"*":{infix:{symbol:"*",f:function($,ie){return $*ie},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function($,ie){return $/ie},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function($,ie){return $+ie},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:E,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function($,ie){return $-ie},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function($){return-$},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:E,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"}}},k=function($){var ie,ge;function Ye(ct){return function(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}($.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+ct+" for more information.")||this)}return ge=$,(ie=Ye).prototype=Object.create(ge.prototype),ie.prototype.constructor=ie,ie.__proto__=ge,Ye}(b(Error)),V=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function q($,ie){var ge,Ye=$.pop();return ie.push(Ye.f.apply(Ye,(ge=[]).concat.apply(ge,ie.splice(-Ye.argCount)))),Ye.precedence}function Y($,ie){var ge,Ye=function(ze){var tt={};return tt.symbols=ze?a({},C.symbols,ze.symbols):a({},C.symbols),tt}(ie),ct=[Ye.symbols["("].prefix],Rt=[],bn=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(Ye.symbols).map(function(ze){return Ye.symbols[ze]}).sort(function(ze,tt){return tt.symbol.length-ze.symbol.length}).map(function(ze){return ze.regSymbol}).join("|")+"|(\\S)","g");bn.lastIndex=0;var rr=!1;do{var x=(ge=bn.exec($))||[")",void 0],A=x[0],B=x[1],U=Ye.symbols[A],Q=U&&!U.prefix&&!U.func,ae=!U||!U.postfix&&!U.infix;if(B||(rr?ae:Q))throw new k(37,ge?ge.index:$.length,$);if(rr){var he=U.postfix||U.infix;do{var Oe=ct[ct.length-1];if((he.precedence-Oe.precedence||Oe.rightToLeft)>0)break}while(q(ct,Rt));rr=he.notation==="postfix",he.symbol!==")"&&(ct.push(he),rr&&q(ct,Rt))}else if(U){if(ct.push(U.prefix||U.func),U.func&&(!(ge=bn.exec($))||ge[0]!=="("))throw new k(38,ge?ge.index:$.length,$)}else Rt.push(+A),rr=!0}while(ge&&ct.length);if(ct.length)throw new k(39,ge?ge.index:$.length,$);if(ge)throw new k(40,ge?ge.index:$.length,$);return Rt.pop()}function Z($){return $.split("").reverse().join("")}function W($,ie){var ge=Z($),Ye=ge.match(V);if(Ye&&!Ye.every(function(ct){return ct===Ye[0]}))throw new k(41);return""+Y(Z(ge.replace(V,"")),ie)+(Ye?Z(Ye[0]):"")}var ne=/--[\S]*/g;function le($,ie){if(!$||!$.match(ne))throw new k(73);var ge;if(typeof document<"u"&&document.documentElement!==null&&(ge=getComputedStyle(document.documentElement).getPropertyValue($)),ge)return ge.trim();if(ie)return ie;throw new k(74)}function ce($){return $.charAt(0).toUpperCase()+$.slice(1)}var Te=["Top","Right","Bottom","Left"];function we($,ie){if(!$)return ie.toLowerCase();var ge=$.split("-");if(ge.length>1)return ge.splice(1,0,ie),ge.reduce(function(ct,Rt){return""+ct+ce(Rt)});var Ye=$.replace(/([a-z])([A-Z])/g,"$1"+ie+"$2");return $===Ye?""+$+ie:Ye}function Fe($,ie){for(var ge={},Ye=0;Ye<ie.length;Ye+=1)(ie[Ye]||ie[Ye]===0)&&(ge[we($,Te[Ye])]=ie[Ye]);return ge}function R($){for(var ie=arguments.length,ge=new Array(ie>1?ie-1:0),Ye=1;Ye<ie;Ye++)ge[Ye-1]=arguments[Ye];var ct=ge[0],Rt=ge[1],bn=Rt===void 0?ct:Rt,rr=ge[2],x=rr===void 0?ct:rr,A=ge[3],B=A===void 0?bn:A,U=[ct,bn,x,B];return Fe($,U)}function nt($,ie){return $.substr(-ie.length)===ie}var dt=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function wt($){return typeof $!="string"?$:$.match(dt)?parseFloat($):$}var Ze=function($){return function(ie,ge){ge===void 0&&(ge="16px");var Ye=ie,ct=ge;if(typeof ie=="string"){if(!nt(ie,"px"))throw new k(69,$,ie);Ye=wt(ie)}if(typeof ge=="string"){if(!nt(ge,"px"))throw new k(70,$,ge);ct=wt(ge)}if(typeof Ye=="string")throw new k(71,ie,$);if(typeof ct=="string")throw new k(72,ge,$);return""+Ye/ct+$}},rt=Ze("em"),ot=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function xt($){if(typeof $!="string")return[$,""];var ie=$.match(ot);return ie?[parseFloat($),ie[2]]:[$,void 0]}function We($,ie){if(typeof $!="object"||$===null)throw new k(75,typeof $);var ge={};return Object.keys($).forEach(function(Ye){typeof $[Ye]=="object"&&$[Ye]!==null?ge[Ye]=We($[Ye],ie):!ie||ie&&(ie===Ye||ie.indexOf(Ye)>=0)?ge[Ye]=$[Ye]+" !important":ge[Ye]=$[Ye]}),ge}var at={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};function Ge($,ie,ge){if(ie===void 0&&(ie="1em"),ge===void 0&&(ge=1.333),typeof $!="number")throw new k(42);if(typeof ge=="string"&&!at[ge])throw new k(43);var Ye=typeof ie=="string"?xt(ie):[ie,""],ct=Ye[0],Rt=Ye[1],bn=typeof ge=="string"?at[ge]:ge;if(typeof ct=="string")throw new k(44,ie);return""+ct*Math.pow(bn,$)+(Rt||"")}var te=Ze("rem"),lt={back:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",circ:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",cubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",expo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",quad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",quart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",quint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",sine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)"};function Ee($){return lt[$.toLowerCase().trim()]}var ke={back:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",circ:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",cubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",expo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",quad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",quart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",quint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",sine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};function it($){return ke[$.toLowerCase().trim()]}var Ct={back:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",cubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",circ:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",expo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",quad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",quart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",quint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",sine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)"};function Gt($){return Ct[$.toLowerCase().trim()]}function be($,ie,ge,Ye){ge===void 0&&(ge="320px"),Ye===void 0&&(Ye="1200px");var ct=xt($),Rt=ct[0],bn=ct[1],rr=xt(ie),x=rr[0],A=rr[1],B=xt(ge),U=B[0],Q=B[1],ae=xt(Ye),he=ae[0],Oe=ae[1];if(typeof U!="number"||typeof he!="number"||!Q||!Oe||Q!==Oe)throw new k(47);if(typeof Rt!="number"||typeof x!="number"||bn!==A)throw new k(48);if(bn!==Q||A!==Oe)throw new k(76);var ze=(Rt-x)/(U-he);return"calc("+(x-ze*he).toFixed(2)+(bn||"")+" + "+(100*ze).toFixed(2)+"vw)"}function It($){var ie;return $===void 0&&($="&"),(ie={})[$+"::after"]={clear:"both",content:'""',display:"table"},ie}function vt($){return $===void 0&&($=0),{position:"absolute",top:$,right:$,bottom:$,left:$}}function Re($,ie){ie===void 0&&(ie=1);var ge={display:"inline-block",maxWidth:$||"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"};return ie>1?a({},ge,{WebkitBoxOrient:"vertical",WebkitLineClamp:ie,display:"-webkit-box",whiteSpace:"normal"}):ge}function nn($,ie){var ge;if(typeof Symbol>"u"||$[Symbol.iterator]==null){if(Array.isArray($)||(ge=function(ct,Rt){if(ct){if(typeof ct=="string")return Rn(ct,Rt);var bn=Object.prototype.toString.call(ct).slice(8,-1);if(bn==="Object"&&ct.constructor&&(bn=ct.constructor.name),bn==="Map"||bn==="Set")return Array.from(ct);if(bn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bn))return Rn(ct,Rt)}}($))||ie){ge&&($=ge);var Ye=0;return function(){return Ye>=$.length?{done:!0}:{done:!1,value:$[Ye++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(ge=$[Symbol.iterator]()).next.bind(ge)}function Rn($,ie){(ie==null||ie>$.length)&&(ie=$.length);for(var ge=0,Ye=new Array(ie);ge<ie;ge++)Ye[ge]=$[ge];return Ye}function xr($,ie,ge){if(ie===void 0&&(ie="320px"),ge===void 0&&(ge="1200px"),!Array.isArray($)&&typeof $!="object"||$===null)throw new k(49);if(Array.isArray($)){for(var Ye,ct={},Rt={},bn=nn($);!(Ye=bn()).done;){var rr,x,A=Ye.value;if(!A.prop||!A.fromSize||!A.toSize)throw new k(50);Rt[A.prop]=A.fromSize,ct["@media (min-width: "+ie+")"]=a({},ct["@media (min-width: "+ie+")"],((rr={})[A.prop]=be(A.fromSize,A.toSize,ie,ge),rr)),ct["@media (min-width: "+ge+")"]=a({},ct["@media (min-width: "+ge+")"],((x={})[A.prop]=A.toSize,x))}return a({},Rt,ct)}var B,U,Q;if(!$.prop||!$.fromSize||!$.toSize)throw new k(51);return(Q={})[$.prop]=$.fromSize,Q["@media (min-width: "+ie+")"]=((B={})[$.prop]=be($.fromSize,$.toSize,ie,ge),B),Q["@media (min-width: "+ge+")"]=((U={})[$.prop]=$.toSize,U),Q}var pn=/^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i,xn={woff:"woff",woff2:"woff2",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg",svgz:"svg"};function yn($,ie){return ie?' format("'+xn[$]+'")':""}function Jt($,ie,ge){return function(Ye){return!!Ye.match(pn)}($)?'url("'+$+'")'+yn(ie[0],ge):ie.map(function(Ye){return'url("'+$+"."+Ye+'")'+yn(Ye,ge)}).join(", ")}function $e($,ie,ge,Ye){var ct=[];return ie&&ct.push(function(Rt){return Rt.map(function(bn){return'local("'+bn+'")'}).join(", ")}(ie)),$&&ct.push(Jt($,ge,Ye)),ct.join(", ")}function Jn($){var ie=$.fontFamily,ge=$.fontFilePath,Ye=$.fontStretch,ct=$.fontStyle,Rt=$.fontVariant,bn=$.fontWeight,rr=$.fileFormats,x=rr===void 0?["eot","woff2","woff","ttf","svg"]:rr,A=$.formatHint,B=A!==void 0&&A,U=$.localFonts,Q=U===void 0?[ie]:U,ae=$.unicodeRange,he=$.fontDisplay,Oe=$.fontVariationSettings,ze=$.fontFeatureSettings;if(!ie)throw new k(55);if(!ge&&!Q)throw new k(52);if(Q&&!Array.isArray(Q))throw new k(53);if(!Array.isArray(x))throw new k(54);var tt={"@font-face":{fontFamily:ie,src:$e(ge,Q,x,B),unicodeRange:ae,fontStretch:Ye,fontStyle:ct,fontVariant:Rt,fontWeight:bn,fontDisplay:he,fontVariationSettings:Oe,fontFeatureSettings:ze}};return JSON.parse(JSON.stringify(tt))}function ar(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}}function lr(){return{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}}function Vn($){return $===void 0&&($=1.3),`
    @media only screen and (-webkit-min-device-pixel-ratio: `+$+`),
    only screen and (min--moz-device-pixel-ratio: `+$+`),
    only screen and (-o-min-device-pixel-ratio: `+$+`/1),
    only screen and (min-resolution: `+Math.round(96*$)+`dpi),
    only screen and (min-resolution: `+$+`dppx)
  `}function ur($){for(var ie="",ge=arguments.length,Ye=new Array(ge>1?ge-1:0),ct=1;ct<ge;ct++)Ye[ct-1]=arguments[ct];for(var Rt=0;Rt<$.length;Rt+=1)if(ie+=$[Rt],Rt===Ye.length-1&&Ye[Rt]){var bn=Ye.filter(function(rr){return!!rr});bn.length>1?(ie=ie.slice(0,-1),ie+=", "+Ye[Rt]):bn.length===1&&(ie+=""+Ye[Rt])}else Ye[Rt]&&(ie+=Ye[Rt]+" ");return ie.trim()}function wr(){var $=_(["linear-gradient(","",")"]);return wr=function(){return $},$}function _r($){var ie=$.colorStops,ge=$.fallback,Ye=$.toDirection,ct=Ye===void 0?"":Ye;if(!ie||ie.length<2)throw new k(56);return{backgroundColor:ge||ie[0].replace(/,\s+/g,",").split(" ")[0].replace(/,(?=\S)/g,", "),backgroundImage:ur(wr(),ct,ie.join(", ").replace(/,(?=\S)/g,", "))}}function Wn(){var $;return[($={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},main:{display:"block"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},$[`b,
    strong`]={fontWeight:"bolder"},$[`code,
    kbd,
    samp`]={fontFamily:"monospace, monospace",fontSize:"1em"},$.small={fontSize:"80%"},$[`sub,
    sup`]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},$.sub={bottom:"-0.25em"},$.sup={top:"-0.5em"},$.img={borderStyle:"none"},$[`button,
    input,
    optgroup,
    select,
    textarea`]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},$[`button,
    input`]={overflow:"visible"},$[`button,
    select`]={textTransform:"none"},$[`button,
    html [type="button"],
    [type="reset"],
    [type="submit"]`]={WebkitAppearance:"button"},$[`button::-moz-focus-inner,
    [type="button"]::-moz-focus-inner,
    [type="reset"]::-moz-focus-inner,
    [type="submit"]::-moz-focus-inner`]={borderStyle:"none",padding:"0"},$[`button:-moz-focusring,
    [type="button"]:-moz-focusring,
    [type="reset"]:-moz-focusring,
    [type="submit"]:-moz-focusring`]={outline:"1px dotted ButtonText"},$.fieldset={padding:"0.35em 0.625em 0.75em"},$.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},$.progress={verticalAlign:"baseline"},$.textarea={overflow:"auto"},$[`[type="checkbox"],
    [type="radio"]`]={boxSizing:"border-box",padding:"0"},$[`[type="number"]::-webkit-inner-spin-button,
    [type="number"]::-webkit-outer-spin-button`]={height:"auto"},$['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},$['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},$["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},$.details={display:"block"},$.summary={display:"list-item"},$.template={display:"none"},$["[hidden]"]={display:"none"},$),{"abbr[title]":{textDecoration:"underline dotted"}}]}function Fr(){var $=_(["radial-gradient(","","","",")"]);return Fr=function(){return $},$}function di($){var ie=$.colorStops,ge=$.extent,Ye=ge===void 0?"":ge,ct=$.fallback,Rt=$.position,bn=Rt===void 0?"":Rt,rr=$.shape,x=rr===void 0?"":rr;if(!ie||ie.length<2)throw new k(57);return{backgroundColor:ct||ie[0].split(" ")[0],backgroundImage:ur(Fr(),bn,x,Ye,ie.join(", "))}}function Or($,ie,ge,Ye,ct){var Rt;if(ge===void 0&&(ge="png"),ct===void 0&&(ct="_2x"),!$)throw new k(58);var bn=ge.replace(/^\./,""),rr=Ye?Ye+"."+bn:""+$+ct+"."+bn;return(Rt={backgroundImage:"url("+$+"."+bn+")"})[Vn()]=a({backgroundImage:"url("+rr+")"},ie?{backgroundSize:ie}:{}),Rt}var vi={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};function Nr($){return vi[$]}var Ln=function($,ie,ge){var Ye=""+ge[0]+(ge[1]||""),ct=""+ge[0]/2+(ge[1]||""),Rt=""+ie[0]+(ie[1]||""),bn=""+ie[0]/2+(ie[1]||"");switch($){case"top":return"0 "+ct+" "+Rt+" "+ct;case"topLeft":return Ye+" "+Rt+" 0 0";case"left":return bn+" "+Ye+" "+bn+" 0";case"bottomLeft":return Ye+" 0 0 "+Rt;case"bottom":return Rt+" "+ct+" 0 "+ct;case"bottomRight":return"0 0 "+Ye+" "+Rt;case"right":return bn+" 0 "+bn+" "+Ye;case"topRight":default:return"0 "+Ye+" "+Rt+" 0"}};function er($){var ie=$.pointingDirection,ge=$.height,Ye=$.width,ct=$.foregroundColor,Rt=$.backgroundColor,bn=Rt===void 0?"transparent":Rt,rr=xt(Ye),x=xt(ge);if(isNaN(x[0])||isNaN(rr[0]))throw new k(60);return a({width:"0",height:"0",borderColor:bn},function(A,B){switch(A){case"top":case"bottomRight":return{borderBottomColor:B};case"right":case"bottomLeft":return{borderLeftColor:B};case"bottom":case"topLeft":return{borderTopColor:B};case"left":case"topRight":return{borderRightColor:B};default:throw new k(59)}}(ie,ct),{borderStyle:"solid",borderWidth:Ln(ie,x,rr)})}function Ir($){return $===void 0&&($="break-word"),{overflowWrap:$,wordWrap:$,wordBreak:$==="break-word"?"break-all":$}}function yi($){return Math.round(255*$)}function $i($,ie,ge){return yi($)+","+yi(ie)+","+yi(ge)}function Yi($,ie,ge,Ye){if(Ye===void 0&&(Ye=$i),ie===0)return Ye(ge,ge,ge);var ct=($%360+360)%360/60,Rt=(1-Math.abs(2*ge-1))*ie,bn=Rt*(1-Math.abs(ct%2-1)),rr=0,x=0,A=0;ct>=0&&ct<1?(rr=Rt,x=bn):ct>=1&&ct<2?(rr=bn,x=Rt):ct>=2&&ct<3?(x=Rt,A=bn):ct>=3&&ct<4?(x=bn,A=Rt):ct>=4&&ct<5?(rr=bn,A=Rt):ct>=5&&ct<6&&(rr=Rt,A=bn);var B=ge-Rt/2;return Ye(rr+B,x+B,A+B)}var br={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ii=/^#[a-fA-F0-9]{6}$/,Mi=/^#[a-fA-F0-9]{8}$/,Hs=/^#[a-fA-F0-9]{3}$/,ji=/^#[a-fA-F0-9]{4}$/,ir=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,ia=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,as=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Hi=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function es($){if(typeof $!="string")throw new k(3);var ie=function(Q){if(typeof Q!="string")return Q;var ae=Q.toLowerCase();return br[ae]?"#"+br[ae]:Q}($);if(ie.match(ii))return{red:parseInt(""+ie[1]+ie[2],16),green:parseInt(""+ie[3]+ie[4],16),blue:parseInt(""+ie[5]+ie[6],16)};if(ie.match(Mi)){var ge=parseFloat((parseInt(""+ie[7]+ie[8],16)/255).toFixed(2));return{red:parseInt(""+ie[1]+ie[2],16),green:parseInt(""+ie[3]+ie[4],16),blue:parseInt(""+ie[5]+ie[6],16),alpha:ge}}if(ie.match(Hs))return{red:parseInt(""+ie[1]+ie[1],16),green:parseInt(""+ie[2]+ie[2],16),blue:parseInt(""+ie[3]+ie[3],16)};if(ie.match(ji)){var Ye=parseFloat((parseInt(""+ie[4]+ie[4],16)/255).toFixed(2));return{red:parseInt(""+ie[1]+ie[1],16),green:parseInt(""+ie[2]+ie[2],16),blue:parseInt(""+ie[3]+ie[3],16),alpha:Ye}}var ct=ir.exec(ie);if(ct)return{red:parseInt(""+ct[1],10),green:parseInt(""+ct[2],10),blue:parseInt(""+ct[3],10)};var Rt=ia.exec(ie);if(Rt)return{red:parseInt(""+Rt[1],10),green:parseInt(""+Rt[2],10),blue:parseInt(""+Rt[3],10),alpha:parseFloat(""+Rt[4])};var bn=as.exec(ie);if(bn){var rr="rgb("+Yi(parseInt(""+bn[1],10),parseInt(""+bn[2],10)/100,parseInt(""+bn[3],10)/100)+")",x=ir.exec(rr);if(!x)throw new k(4,ie,rr);return{red:parseInt(""+x[1],10),green:parseInt(""+x[2],10),blue:parseInt(""+x[3],10)}}var A=Hi.exec(ie);if(A){var B="rgb("+Yi(parseInt(""+A[1],10),parseInt(""+A[2],10)/100,parseInt(""+A[3],10)/100)+")",U=ir.exec(B);if(!U)throw new k(4,ie,B);return{red:parseInt(""+U[1],10),green:parseInt(""+U[2],10),blue:parseInt(""+U[3],10),alpha:parseFloat(""+A[4])}}throw new k(5)}function Cs($){return function(ie){var ge,Ye=ie.red/255,ct=ie.green/255,Rt=ie.blue/255,bn=Math.max(Ye,ct,Rt),rr=Math.min(Ye,ct,Rt),x=(bn+rr)/2;if(bn===rr)return ie.alpha!==void 0?{hue:0,saturation:0,lightness:x,alpha:ie.alpha}:{hue:0,saturation:0,lightness:x};var A=bn-rr,B=x>.5?A/(2-bn-rr):A/(bn+rr);switch(bn){case Ye:ge=(ct-Rt)/A+(ct<Rt?6:0);break;case ct:ge=(Rt-Ye)/A+2;break;default:ge=(Ye-ct)/A+4}return ge*=60,ie.alpha!==void 0?{hue:ge,saturation:B,lightness:x,alpha:ie.alpha}:{hue:ge,saturation:B,lightness:x}}(es($))}var Ls=function($){return $.length===7&&$[1]===$[2]&&$[3]===$[4]&&$[5]===$[6]?"#"+$[1]+$[3]+$[5]:$};function $r($){var ie=$.toString(16);return ie.length===1?"0"+ie:ie}function Aa($){return $r(Math.round(255*$))}function sa($,ie,ge){return Ls("#"+Aa($)+Aa(ie)+Aa(ge))}function bo($,ie,ge){return Yi($,ie,ge,sa)}function wo($,ie,ge){if(typeof $=="number"&&typeof ie=="number"&&typeof ge=="number")return bo($,ie,ge);if(typeof $=="object"&&ie===void 0&&ge===void 0)return bo($.hue,$.saturation,$.lightness);throw new k(1)}function to($,ie,ge,Ye){if(typeof $=="number"&&typeof ie=="number"&&typeof ge=="number"&&typeof Ye=="number")return Ye>=1?bo($,ie,ge):"rgba("+Yi($,ie,ge)+","+Ye+")";if(typeof $=="object"&&ie===void 0&&ge===void 0&&Ye===void 0)return $.alpha>=1?bo($.hue,$.saturation,$.lightness):"rgba("+Yi($.hue,$.saturation,$.lightness)+","+$.alpha+")";throw new k(2)}function bs($,ie,ge){if(typeof $=="number"&&typeof ie=="number"&&typeof ge=="number")return Ls("#"+$r($)+$r(ie)+$r(ge));if(typeof $=="object"&&ie===void 0&&ge===void 0)return Ls("#"+$r($.red)+$r($.green)+$r($.blue));throw new k(6)}function fi($,ie,ge,Ye){if(typeof $=="string"&&typeof ie=="number"){var ct=es($);return"rgba("+ct.red+","+ct.green+","+ct.blue+","+ie+")"}if(typeof $=="number"&&typeof ie=="number"&&typeof ge=="number"&&typeof Ye=="number")return Ye>=1?bs($,ie,ge):"rgba("+$+","+ie+","+ge+","+Ye+")";if(typeof $=="object"&&ie===void 0&&ge===void 0&&Ye===void 0)return $.alpha>=1?bs($.red,$.green,$.blue):"rgba("+$.red+","+$.green+","+$.blue+","+$.alpha+")";throw new k(7)}function Zi($){if(typeof $!="object")throw new k(8);if(function(ie){return typeof ie.red=="number"&&typeof ie.green=="number"&&typeof ie.blue=="number"&&typeof ie.alpha=="number"}($))return fi($);if(function(ie){return typeof ie.red=="number"&&typeof ie.green=="number"&&typeof ie.blue=="number"&&(typeof ie.alpha!="number"||ie.alpha===void 0)}($))return bs($);if(function(ie){return typeof ie.hue=="number"&&typeof ie.saturation=="number"&&typeof ie.lightness=="number"&&typeof ie.alpha=="number"}($))return to($);if(function(ie){return typeof ie.hue=="number"&&typeof ie.saturation=="number"&&typeof ie.lightness=="number"&&(typeof ie.alpha!="number"||ie.alpha===void 0)}($))return wo($);throw new k(8)}function ls($){return function ie(ge,Ye,ct){return function(){var Rt=ct.concat(Array.prototype.slice.call(arguments));return Rt.length>=Ye?ge.apply(this,Rt):ie(ge,Ye,Rt)}}($,$.length,[])}function Fl($,ie){if(ie==="transparent")return ie;var ge=Cs(ie);return Zi(a({},ge,{hue:ge.hue+parseFloat($)}))}var Ys=ls(Fl);function ws($){if($==="transparent")return $;var ie=Cs($);return Zi(a({},ie,{hue:(ie.hue+180)%360}))}function Be($,ie,ge){return Math.max($,Math.min(ie,ge))}function gt($,ie){if(ie==="transparent")return ie;var ge=Cs(ie);return Zi(a({},ge,{lightness:Be(0,1,ge.lightness-parseFloat($))}))}var je=ls(gt);function Je($,ie){if(ie==="transparent")return ie;var ge=Cs(ie);return Zi(a({},ge,{saturation:Be(0,1,ge.saturation-parseFloat($))}))}var qt=ls(Je);function hn($){if($==="transparent")return 0;var ie=es($),ge=Object.keys(ie).map(function(bn){var rr=ie[bn]/255;return rr<=.03928?rr/12.92:Math.pow((rr+.055)/1.055,2.4)}),Ye=ge[0],ct=ge[1],Rt=ge[2];return parseFloat((.2126*Ye+.7152*ct+.0722*Rt).toFixed(3))}function un($,ie){var ge=hn($),Ye=hn(ie);return parseFloat((ge>Ye?(ge+.05)/(Ye+.05):(Ye+.05)/(ge+.05)).toFixed(2))}function Zn($){return $==="transparent"?$:Zi(a({},Cs($),{saturation:0}))}function Yr($){if(typeof $=="object"&&typeof $.hue=="number"&&typeof $.saturation=="number"&&typeof $.lightness=="number")return $.alpha&&typeof $.alpha=="number"?to({hue:$.hue,saturation:$.saturation,lightness:$.lightness,alpha:$.alpha}):wo({hue:$.hue,saturation:$.saturation,lightness:$.lightness});throw new k(45)}function _n($){if($==="transparent")return $;var ie=es($);return Zi(a({},ie,{red:255-ie.red,green:255-ie.green,blue:255-ie.blue}))}function Er($,ie){if(ie==="transparent")return ie;var ge=Cs(ie);return Zi(a({},ge,{lightness:Be(0,1,ge.lightness+parseFloat($))}))}var ei=ls(Er);function Dr($,ie){var ge=un($,ie);return{AA:ge>=4.5,AALarge:ge>=3,AAA:ge>=7,AAALarge:ge>=4.5}}function Zr($,ie,ge){if(ie==="transparent")return ge;if(ge==="transparent")return ie;if($===0)return ge;var Ye=es(ie),ct=a({},Ye,{alpha:typeof Ye.alpha=="number"?Ye.alpha:1}),Rt=es(ge),bn=a({},Rt,{alpha:typeof Rt.alpha=="number"?Rt.alpha:1}),rr=ct.alpha-bn.alpha,x=2*parseFloat($)-1,A=((x*rr==-1?x:x+rr)/(1+x*rr)+1)/2,B=1-A;return fi({red:Math.floor(ct.red*A+bn.red*B),green:Math.floor(ct.green*A+bn.green*B),blue:Math.floor(ct.blue*A+bn.blue*B),alpha:ct.alpha*(parseFloat($)/1)+bn.alpha*(1-parseFloat($)/1)})}var zr=ls(Zr);function dr($,ie){if(ie==="transparent")return ie;var ge=es(ie);return fi(a({},ge,{alpha:Be(0,1,(100*(typeof ge.alpha=="number"?ge.alpha:1)+100*parseFloat($))/100)}))}var Pr=ls(dr);function Br($,ie,ge,Ye){ie===void 0&&(ie="#000"),ge===void 0&&(ge="#fff"),Ye===void 0&&(Ye=!0);var ct=hn($)>.179,Rt=ct?ie:ge;return!Ye||un($,Rt)>=4.5?Rt:ct?"#000":"#fff"}function Kr($){if(typeof $=="object"&&typeof $.red=="number"&&typeof $.green=="number"&&typeof $.blue=="number")return typeof $.alpha=="number"?fi({red:$.red,green:$.green,blue:$.blue,alpha:$.alpha}):bs({red:$.red,green:$.green,blue:$.blue});throw new k(46)}function xi($,ie){if(ie==="transparent")return ie;var ge=Cs(ie);return Zi(a({},ge,{saturation:Be(0,1,ge.saturation+parseFloat($))}))}var Vi=ls(xi);function ts($,ie){return ie==="transparent"?ie:Zi(a({},Cs(ie),{hue:parseFloat($)}))}var Ro=ls(ts);function _o($,ie){return ie==="transparent"?ie:Zi(a({},Cs(ie),{lightness:parseFloat($)}))}var Di=ls(_o);function Us($,ie){return ie==="transparent"?ie:Zi(a({},Cs(ie),{saturation:parseFloat($)}))}var Ai=ls(Us);function oa($,ie){return ie==="transparent"?ie:zr(parseFloat($),"rgb(0, 0, 0)",ie)}var iu=ls(oa);function Gs($,ie){return ie==="transparent"?ie:zr(parseFloat($),"rgb(255, 255, 255)",ie)}var ko=ls(Gs);function Ta($,ie){if(ie==="transparent")return ie;var ge=es(ie);return fi(a({},ge,{alpha:Be(0,1,+(100*(typeof ge.alpha=="number"?ge.alpha:1)-100*parseFloat($)).toFixed(2)/100)}))}var qa=ls(Ta);function Wo(){for(var $=arguments.length,ie=new Array($),ge=0;ge<$;ge++)ie[ge]=arguments[ge];var Ye=Array.isArray(ie[0]);if(!Ye&&ie.length>8)throw new k(64);var ct=ie.map(function(Rt){if(Ye&&!Array.isArray(Rt)||!Ye&&Array.isArray(Rt))throw new k(65);if(Array.isArray(Rt)&&Rt.length>8)throw new k(66);return Array.isArray(Rt)?Rt.join(" "):Rt}).join(", ");return{animation:ct}}function Oo(){for(var $=arguments.length,ie=new Array($),ge=0;ge<$;ge++)ie[ge]=arguments[ge];return{backgroundImage:ie.join(", ")}}function Wr(){for(var $=arguments.length,ie=new Array($),ge=0;ge<$;ge++)ie[ge]=arguments[ge];return{background:ie.join(", ")}}var ol=["top","right","bottom","left"];function Os($){for(var ie=arguments.length,ge=new Array(ie>1?ie-1:0),Ye=1;Ye<ie;Ye++)ge[Ye-1]=arguments[Ye];var ct;return typeof $=="string"&&ol.indexOf($)>=0?((ct={})["border"+ce($)+"Width"]=ge[0],ct["border"+ce($)+"Style"]=ge[1],ct["border"+ce($)+"Color"]=ge[2],ct):(ge.unshift($),{borderWidth:ge[0],borderStyle:ge[1],borderColor:ge[2]})}function Io(){for(var $=arguments.length,ie=new Array($),ge=0;ge<$;ge++)ie[ge]=arguments[ge];return R.apply(void 0,["borderColor"].concat(ie))}function Lr($,ie){var ge,Ye,ct=ce($);if(!ie&&ie!==0)throw new k(62);if(ct==="Top"||ct==="Bottom")return(ge={})["border"+ct+"RightRadius"]=ie,ge["border"+ct+"LeftRadius"]=ie,ge;if(ct==="Left"||ct==="Right")return(Ye={})["borderTop"+ct+"Radius"]=ie,Ye["borderBottom"+ct+"Radius"]=ie,Ye;throw new k(63)}function qo(){for(var $=arguments.length,ie=new Array($),ge=0;ge<$;ge++)ie[ge]=arguments[ge];return R.apply(void 0,["borderStyle"].concat(ie))}function Ca(){for(var $=arguments.length,ie=new Array($),ge=0;ge<$;ge++)ie[ge]=arguments[ge];return R.apply(void 0,["borderWidth"].concat(ie))}function aa($,ie){return $(ie?":"+ie:"")}function la($,ie,ge){if(!ie)throw new k(67);if($.length===0)return aa(ie,null);for(var Ye=[],ct=0;ct<$.length;ct+=1){if(ge&&ge.indexOf($[ct])<0)throw new k(68);Ye.push(aa(ie,$[ct]))}return Ye=Ye.join(",")}var no=[void 0,null,"active","focus","hover"];function us($){return"button"+$+`,
  input[type="button"]`+$+`,
  input[type="reset"]`+$+`,
  input[type="submit"]`+$}function _s(){for(var $=arguments.length,ie=new Array($),ge=0;ge<$;ge++)ie[ge]=arguments[ge];return la(ie,us,no)}function ro(){for(var $=arguments.length,ie=new Array($),ge=0;ge<$;ge++)ie[ge]=arguments[ge];return R.apply(void 0,["margin"].concat(ie))}function No(){for(var $=arguments.length,ie=new Array($),ge=0;ge<$;ge++)ie[ge]=arguments[ge];return R.apply(void 0,["padding"].concat(ie))}var Ss=["absolute","fixed","relative","static","sticky"];function io($){for(var ie=arguments.length,ge=new Array(ie>1?ie-1:0),Ye=1;Ye<ie;Ye++)ge[Ye-1]=arguments[Ye];return Ss.indexOf($)>=0&&$?a({},R.apply(void 0,[""].concat(ge)),{position:$}):R.apply(void 0,["",$].concat(ge))}function La($,ie){return ie===void 0&&(ie=$),{height:$,width:ie}}var Ti=[void 0,null,"active","focus","hover"];function so($){return'input[type="color"]'+$+`,
    input[type="date"]`+$+`,
    input[type="datetime"]`+$+`,
    input[type="datetime-local"]`+$+`,
    input[type="email"]`+$+`,
    input[type="month"]`+$+`,
    input[type="number"]`+$+`,
    input[type="password"]`+$+`,
    input[type="search"]`+$+`,
    input[type="tel"]`+$+`,
    input[type="text"]`+$+`,
    input[type="time"]`+$+`,
    input[type="url"]`+$+`,
    input[type="week"]`+$+`,
    input:not([type])`+$+`,
    textarea`+$}function wl(){for(var $=arguments.length,ie=new Array($),ge=0;ge<$;ge++)ie[ge]=arguments[ge];return la(ie,so,Ti)}function ua(){for(var $=arguments.length,ie=new Array($),ge=0;ge<$;ge++)ie[ge]=arguments[ge];if(Array.isArray(ie[0])&&ie.length===2){var Ye=ie[1];if(typeof Ye!="string")throw new k(61);var ct=ie[0].map(function(Rt){return Rt+" "+Ye}).join(", ");return{transition:ct}}return{transition:ie.join(", ")}}},function(O,r){O.exports=function(n,a,c,d){var f=c?c.call(d,n,a):void 0;if(f!==void 0)return!!f;if(n===a)return!0;if(typeof n!="object"||!n||typeof a!="object"||!a)return!1;var m=Object.keys(n),b=Object.keys(a);if(m.length!==b.length)return!1;for(var _=Object.prototype.hasOwnProperty.bind(a),E=0;E<m.length;E++){var C=m[E];if(!_(C))return!1;var k=n[C],V=a[C];if((f=c?c.call(d,k,V,C):void 0)===!1||f===void 0&&k!==V)return!1}return!0}},function(O,r,n){r.a=function(a){function c(ke,it,Ct){var Gt=it.trim().split(W);it=Gt;var be=Gt.length,It=ke.length;switch(It){case 0:case 1:var vt=0;for(ke=It===0?"":ke[0]+" ";vt<be;++vt)it[vt]=d(ke,it[vt],Ct).trim();break;default:var Re=vt=0;for(it=[];vt<be;++vt)for(var nn=0;nn<It;++nn)it[Re++]=d(ke[nn]+" ",Gt[vt],Ct).trim()}return it}function d(ke,it,Ct){var Gt=it.charCodeAt(0);switch(33>Gt&&(Gt=(it=it.trim()).charCodeAt(0)),Gt){case 38:return it.replace(ne,"$1"+ke.trim());case 58:return ke.trim()+it.replace(ne,"$1"+ke.trim());default:if(0<1*Ct&&0<it.indexOf("\f"))return it.replace(ne,(ke.charCodeAt(0)===58?"":"$1")+ke.trim())}return ke+it}function f(ke,it,Ct,Gt){var be=ke+";",It=2*it+3*Ct+4*Gt;if(It===944){ke=be.indexOf(":",9)+1;var vt=be.substring(ke,be.length-1).trim();return vt=be.substring(0,ke).trim()+vt+";",We===1||We===2&&m(vt,1)?"-webkit-"+vt+vt:vt}if(We===0||We===2&&!m(be,1))return be;switch(It){case 1015:return be.charCodeAt(10)===97?"-webkit-"+be+be:be;case 951:return be.charCodeAt(3)===116?"-webkit-"+be+be:be;case 963:return be.charCodeAt(5)===110?"-webkit-"+be+be:be;case 1009:if(be.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+be+be;case 978:return"-webkit-"+be+"-moz-"+be+be;case 1019:case 983:return"-webkit-"+be+"-moz-"+be+"-ms-"+be+be;case 883:if(be.charCodeAt(8)===45)return"-webkit-"+be+be;if(0<be.indexOf("image-set(",11))return be.replace(Ze,"$1-webkit-$2")+be;break;case 932:if(be.charCodeAt(4)===45)switch(be.charCodeAt(5)){case 103:return"-webkit-box-"+be.replace("-grow","")+"-webkit-"+be+"-ms-"+be.replace("grow","positive")+be;case 115:return"-webkit-"+be+"-ms-"+be.replace("shrink","negative")+be;case 98:return"-webkit-"+be+"-ms-"+be.replace("basis","preferred-size")+be}return"-webkit-"+be+"-ms-"+be+be;case 964:return"-webkit-"+be+"-ms-flex-"+be+be;case 1023:if(be.charCodeAt(8)!==99)break;return"-webkit-box-pack"+(vt=be.substring(be.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+be+"-ms-flex-pack"+vt+be;case 1005:return Y.test(be)?be.replace(q,":-webkit-")+be.replace(q,":-moz-")+be:be;case 1e3:switch(it=(vt=be.substring(13).trim()).indexOf("-")+1,vt.charCodeAt(0)+vt.charCodeAt(it)){case 226:vt=be.replace(we,"tb");break;case 232:vt=be.replace(we,"tb-rl");break;case 220:vt=be.replace(we,"lr");break;default:return be}return"-webkit-"+be+"-ms-"+vt+be;case 1017:if(be.indexOf("sticky",9)===-1)break;case 975:switch(it=(be=ke).length-10,It=(vt=(be.charCodeAt(it)===33?be.substring(0,it):be).substring(ke.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|vt.charCodeAt(7))){case 203:if(111>vt.charCodeAt(8))break;case 115:be=be.replace(vt,"-webkit-"+vt)+";"+be;break;case 207:case 102:be=be.replace(vt,"-webkit-"+(102<It?"inline-":"")+"box")+";"+be.replace(vt,"-webkit-"+vt)+";"+be.replace(vt,"-ms-"+vt+"box")+";"+be}return be+";";case 938:if(be.charCodeAt(5)===45)switch(be.charCodeAt(6)){case 105:return vt=be.replace("-items",""),"-webkit-"+be+"-webkit-box-"+vt+"-ms-flex-"+vt+be;case 115:return"-webkit-"+be+"-ms-flex-item-"+be.replace(nt,"")+be;default:return"-webkit-"+be+"-ms-flex-line-pack"+be.replace("align-content","").replace(nt,"")+be}break;case 973:case 989:if(be.charCodeAt(3)!==45||be.charCodeAt(4)===122)break;case 931:case 953:if(wt.test(ke)===!0)return(vt=ke.substring(ke.indexOf(":")+1)).charCodeAt(0)===115?f(ke.replace("stretch","fill-available"),it,Ct,Gt).replace(":fill-available",":stretch"):be.replace(vt,"-webkit-"+vt)+be.replace(vt,"-moz-"+vt.replace("fill-",""))+be;break;case 962:if(be="-webkit-"+be+(be.charCodeAt(5)===102?"-ms-"+be:"")+be,Ct+Gt===211&&be.charCodeAt(13)===105&&0<be.indexOf("transform",10))return be.substring(0,be.indexOf(";",27)+1).replace(Z,"$1-webkit-$2")+be}return be}function m(ke,it){var Ct=ke.indexOf(it===1?":":"{"),Gt=ke.substring(0,it!==3?Ct:10);return Ct=ke.substring(Ct+1,ke.length-1),lt(it!==2?Gt:Gt.replace(dt,"$1"),Ct,it)}function b(ke,it){var Ct=f(it,it.charCodeAt(0),it.charCodeAt(1),it.charCodeAt(2));return Ct!==it+";"?Ct.replace(R," or ($1)").substring(4):"("+it+")"}function _(ke,it,Ct,Gt,be,It,vt,Re,nn,Rn){for(var xr,pn=0,xn=it;pn<te;++pn)switch(xr=Ge[pn].call(C,ke,xn,Ct,Gt,be,It,vt,Re,nn,Rn)){case void 0:case!1:case!0:case null:break;default:xn=xr}if(xn!==it)return xn}function E(ke){return(ke=ke.prefix)!==void 0&&(lt=null,ke?typeof ke!="function"?We=1:(We=2,lt=ke):We=0),E}function C(ke,it){var Ct=ke;if(33>Ct.charCodeAt(0)&&(Ct=Ct.trim()),Ct=[Ct],0<te){var Gt=_(-1,it,Ct,Ct,ot,rt,0,0,0,0);Gt!==void 0&&typeof Gt=="string"&&(it=Gt)}var be=function It(vt,Re,nn,Rn,xr){for(var pn,xn,yn,Jt,$e,Jn=0,ar=0,lr=0,Vn=0,ur=0,wr=0,_r=yn=pn=0,Wn=0,Fr=0,di=0,Or=0,vi=nn.length,Nr=vi-1,Ln="",er="",Ir="",yi="";Wn<vi;){if(xn=nn.charCodeAt(Wn),Wn===Nr&&ar+Vn+lr+Jn!==0&&(ar!==0&&(xn=ar===47?10:47),Vn=lr=Jn=0,vi++,Nr++),ar+Vn+lr+Jn===0){if(Wn===Nr&&(0<Fr&&(Ln=Ln.replace(V,"")),0<Ln.trim().length)){switch(xn){case 32:case 9:case 59:case 13:case 10:break;default:Ln+=nn.charAt(Wn)}xn=59}switch(xn){case 123:for(pn=(Ln=Ln.trim()).charCodeAt(0),yn=1,Or=++Wn;Wn<vi;){switch(xn=nn.charCodeAt(Wn)){case 123:yn++;break;case 125:yn--;break;case 47:switch(xn=nn.charCodeAt(Wn+1)){case 42:case 47:e:{for(_r=Wn+1;_r<Nr;++_r)switch(nn.charCodeAt(_r)){case 47:if(xn===42&&nn.charCodeAt(_r-1)===42&&Wn+2!==_r){Wn=_r+1;break e}break;case 10:if(xn===47){Wn=_r+1;break e}}Wn=_r}}break;case 91:xn++;case 40:xn++;case 34:case 39:for(;Wn++<Nr&&nn.charCodeAt(Wn)!==xn;);}if(yn===0)break;Wn++}switch(yn=nn.substring(Or,Wn),pn===0&&(pn=(Ln=Ln.replace(k,"").trim()).charCodeAt(0)),pn){case 64:switch(0<Fr&&(Ln=Ln.replace(V,"")),xn=Ln.charCodeAt(1)){case 100:case 109:case 115:case 45:Fr=Re;break;default:Fr=at}if(Or=(yn=It(Re,Fr,yn,xn,xr+1)).length,0<te&&($e=_(3,yn,Fr=c(at,Ln,di),Re,ot,rt,Or,xn,xr,Rn),Ln=Fr.join(""),$e!==void 0&&(Or=(yn=$e.trim()).length)===0&&(xn=0,yn="")),0<Or)switch(xn){case 115:Ln=Ln.replace(Fe,b);case 100:case 109:case 45:yn=Ln+"{"+yn+"}";break;case 107:yn=(Ln=Ln.replace(le,"$1 $2"))+"{"+yn+"}",yn=We===1||We===2&&m("@"+yn,3)?"@-webkit-"+yn+"@"+yn:"@"+yn;break;default:yn=Ln+yn,Rn===112&&(er+=yn,yn="")}else yn="";break;default:yn=It(Re,c(Re,Ln,di),yn,Rn,xr+1)}Ir+=yn,yn=di=Fr=_r=pn=0,Ln="",xn=nn.charCodeAt(++Wn);break;case 125:case 59:if(1<(Or=(Ln=(0<Fr?Ln.replace(V,""):Ln).trim()).length))switch(_r===0&&(pn=Ln.charCodeAt(0),pn===45||96<pn&&123>pn)&&(Or=(Ln=Ln.replace(" ",":")).length),0<te&&($e=_(1,Ln,Re,vt,ot,rt,er.length,Rn,xr,Rn))!==void 0&&(Or=(Ln=$e.trim()).length)===0&&(Ln="\0\0"),pn=Ln.charCodeAt(0),xn=Ln.charCodeAt(1),pn){case 0:break;case 64:if(xn===105||xn===99){yi+=Ln+nn.charAt(Wn);break}default:Ln.charCodeAt(Or-1)!==58&&(er+=f(Ln,pn,xn,Ln.charCodeAt(2)))}di=Fr=_r=pn=0,Ln="",xn=nn.charCodeAt(++Wn)}}switch(xn){case 13:case 10:ar===47?ar=0:1+pn===0&&Rn!==107&&0<Ln.length&&(Fr=1,Ln+="\0"),0<te*Ee&&_(0,Ln,Re,vt,ot,rt,er.length,Rn,xr,Rn),rt=1,ot++;break;case 59:case 125:if(ar+Vn+lr+Jn===0){rt++;break}default:switch(rt++,Jt=nn.charAt(Wn),xn){case 9:case 32:if(Vn+Jn+ar===0)switch(ur){case 44:case 58:case 9:case 32:Jt="";break;default:xn!==32&&(Jt=" ")}break;case 0:Jt="\\0";break;case 12:Jt="\\f";break;case 11:Jt="\\v";break;case 38:Vn+ar+Jn===0&&(Fr=di=1,Jt="\f"+Jt);break;case 108:if(Vn+ar+Jn+xt===0&&0<_r)switch(Wn-_r){case 2:ur===112&&nn.charCodeAt(Wn-3)===58&&(xt=ur);case 8:wr===111&&(xt=wr)}break;case 58:Vn+ar+Jn===0&&(_r=Wn);break;case 44:ar+lr+Vn+Jn===0&&(Fr=1,Jt+="\r");break;case 34:case 39:ar===0&&(Vn=Vn===xn?0:Vn===0?xn:Vn);break;case 91:Vn+ar+lr===0&&Jn++;break;case 93:Vn+ar+lr===0&&Jn--;break;case 41:Vn+ar+Jn===0&&lr--;break;case 40:if(Vn+ar+Jn===0){if(pn===0)switch(2*ur+3*wr){case 533:break;default:pn=1}lr++}break;case 64:ar+lr+Vn+Jn+_r+yn===0&&(yn=1);break;case 42:case 47:if(!(0<Vn+Jn+lr))switch(ar){case 0:switch(2*xn+3*nn.charCodeAt(Wn+1)){case 235:ar=47;break;case 220:Or=Wn,ar=42}break;case 42:xn===47&&ur===42&&Or+2!==Wn&&(nn.charCodeAt(Or+2)===33&&(er+=nn.substring(Or,Wn+1)),Jt="",ar=0)}}ar===0&&(Ln+=Jt)}wr=ur,ur=xn,Wn++}if(0<(Or=er.length)){if(Fr=Re,0<te&&($e=_(2,er,Fr,vt,ot,rt,Or,Rn,xr,Rn))!==void 0&&(er=$e).length===0)return yi+er+Ir;if(er=Fr.join(",")+"{"+er+"}",We*xt!=0){switch(We!==2||m(er,2)||(xt=0),xt){case 111:er=er.replace(Te,":-moz-$1")+er;break;case 112:er=er.replace(ce,"::-webkit-input-$1")+er.replace(ce,"::-moz-$1")+er.replace(ce,":-ms-input-$1")+er}xt=0}}return yi+er+Ir}(at,Ct,it,0,0);return 0<te&&(Gt=_(-2,be,Ct,Ct,ot,rt,be.length,0,0,0))!==void 0&&(be=Gt),xt=0,rt=ot=1,be}var k=/^\0+/g,V=/[\0\r\f]/g,q=/: */g,Y=/zoo|gra/,Z=/([,: ])(transform)/g,W=/,\r+?/g,ne=/([\t\r\n ])*\f?&/g,le=/@(k\w+)\s*(\S*)\s*/,ce=/::(place)/g,Te=/:(read-only)/g,we=/[svh]\w+-[tblr]{2}/,Fe=/\(\s*(.*)\s*\)/g,R=/([\s\S]*?);/g,nt=/-self|flex-/g,dt=/[^]*?(:[rp][el]a[\w-]+)[^]*/,wt=/stretch|:\s*\w+\-(?:conte|avail)/,Ze=/([^-])(image-set\()/,rt=1,ot=1,xt=0,We=1,at=[],Ge=[],te=0,lt=null,Ee=0;return C.use=function ke(it){switch(it){case void 0:case null:te=Ge.length=0;break;default:if(typeof it=="function")Ge[te++]=it;else if(typeof it=="object")for(var Ct=0,Gt=it.length;Ct<Gt;++Ct)ke(it[Ct]);else Ee=0|!!it}return ke},C.set=E,a!==void 0&&E(a),C}},function(O,r,n){r.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(O,r,n){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BoltLoader",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"BookLoader",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"BoxesLoader",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"CircleLoader",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"FlipFlopLoader",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(r,"ScatterBoxLoader",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(r,"SquircleLoader",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(r,"SunspotLoader",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(r,"ThreeDLoader",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(r,"WifiLoader",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(r,"XlviLoader",{enumerable:!0,get:function(){return V.default}});var a=q(n(25)),c=q(n(30)),d=q(n(31)),f=q(n(32)),m=q(n(33)),b=q(n(34)),_=q(n(35)),E=q(n(44)),C=q(n(45)),k=q(n(46)),V=q(n(47));function q(Y){return Y&&Y.__esModule?Y:{default:Y}}},function(O,r,n){function a(te){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt})(te)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=function(te){if(te&&te.__esModule)return te;if(te===null||a(te)!=="object"&&typeof te!="function")return{default:te};var lt=E();if(lt&&lt.has(te))return lt.get(te);var Ee={},ke=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var it in te)if(Object.prototype.hasOwnProperty.call(te,it)){var Ct=ke?Object.getOwnPropertyDescriptor(te,it):null;Ct&&(Ct.get||Ct.set)?Object.defineProperty(Ee,it,Ct):Ee[it]=te[it]}return Ee.default=te,lt&&lt.set(te,Ee),Ee}(n(0)),d=n(7),f=_(n(1)),m=_(n(14)),b=n(2);function _(te){return te&&te.__esModule?te:{default:te}}function E(){if(typeof WeakMap!="function")return null;var te=new WeakMap;return E=function(){return te},te}function C(){var te=we([`
  display: block;
  width: `,`px;
  height: `,`px;
  background: `,`;
  clip-path: polygon(40% 0%, 100% 0, 65% 40%, 88% 40%, 8% 100%, 36% 50%, 0 50%);
`]);return C=function(){return te},te}function k(){var te=we([`
  display: block;
  position: relative;
  :before {
    content: "";
    position: absolute;
    left: 50%;
    top: 44%;
    width: 112px;
    height: 112px;
    margin: -56px 0 0 -56px;
    background: #cdd9ed;
    filter: blur(124px);
  }
  :after {
    content: "";
    position: absolute;
    left: 50%;
    top: 44%;
    width: 64px;
    height: 64px;
    margin: -32px 0 0 -32px;
    background: `,`;
    z-index: 1;
    filter: blur(60px);
  }
`]);return k=function(){return te},te}function V(){var te=we([`
  --r: 20deg;
  --s: -1;
  right: 0;
`]);return V=function(){return te},te}function q(){var te=we([`
  --r: -20deg;
  left: 0;
`]);return q=function(){return te},te}function Y(){var te=we([`
  --r: 40deg;
  right: -24px;
`]);return Y=function(){return te},te}function Z(){var te=we([`
  --r: 130deg;
  left: -24px;
`]);return Z=function(){return te},te}function W(){var te=we([`
  --r: 0deg;
  --s: 1;
  top: 30%;
  z-index: 1;
  stroke: #fff;
  stroke-dashoffset: 241px;
  stroke-dasharray: 0px 240px;
  transform: rotate(var(--r)) scaleX(var(--s));
`]);return W=function(){return te},te}function ne(){var te=we([`
  --r: 0deg;
  top: 95%;
  width: 70px;
  height: 3px;
  stroke-dashoffset: 71px;
  stroke-dasharray: 0px 70px;
  transform: rotate(var(--r));
`]);return ne=function(){return te},te}function le(){var te=we([`
  left: 7px;
  top: 100%;
  width: 112px;
  height: 44px;
  stroke-dashoffset: 179px;
  stroke-dasharray: 0px 178px;
`]);return le=function(){return te},te}function ce(){var te=we([`
  position: absolute;
  display: block;
  stroke-width: 4;
  fill: none;
  stroke-linecap: round;
  stroke: `,`;
`]);return ce=function(){return te},te}function Te(){var te=we([`
  width: `,`px;
  height: `,`px;
  position: relative;
  padding: 20px;
  background: `,`;
`]);return Te=function(){return te},te}function we(te,lt){return lt||(lt=te.slice(0)),Object.freeze(Object.defineProperties(te,{raw:{value:Object.freeze(lt)}}))}var Fe=f.default.div(Te(),function(te){return te.bolterWidth},function(te){return te.bolterHeight},function(te){return te.background}),R=f.default.svg(ce(),function(te){return te.boltColor}),nt=(0,f.default)(R)(le()),dt=(0,f.default)(R)(ne()),wt=(0,f.default)(R)(W()),Ze=(0,f.default)(dt)(Z()),rt=(0,f.default)(dt)(Y()),ot=(0,f.default)(wt)(q()),xt=(0,f.default)(wt)(V()),We=f.default.div(k(),function(te){return te.backgroundBlurColor}),at=f.default.span(C(),function(te){return te.bolterWidth},function(te){return te.bolterHeight},function(te){return te.boltColor}),Ge=function(te){var lt=te.className,Ee=lt===void 0?"boltloader":lt,ke=te.background,it=ke===void 0?"transparent":ke,Ct=te.boltColor,Gt=Ct===void 0?"#f2de10":Ct,be=te.backgroundBlurColor,It=be===void 0?"#fff9bc":be,vt=te.size,Re=vt===void 0?"64px":vt,nn=te.desktopSize,Rn=nn===void 0?"":nn,xr=te.mobileSize,pn=xr===void 0?"":xr,xn=(0,b.useMediaQuery)({query:"(min-width: 1224px)"}),yn=(0,b.useMediaQuery)({query:"(max-width: 1224px)"}),Jt=0;xn&&(Jt=Rn!==""?parseFloat(Rn):2*parseFloat(Re)),yn&&(Jt=parseFloat(pn!==""?pn:Re));var $e=parseFloat(Jt),Jn=63*$e/64,ar=93*$e/64;return(0,c.useEffect)(function(){(0,m.default)("."+Ee).each(function(lr){var Vn=(0,m.default)(this),ur=(0,m.default)(this).children(".boltloadersparkdiv");Vn.addClass("boltloaderanimatedelement");var wr=d.gsap.timeline({onComplete:function(){Vn.removeClass("boltloaderanimatedelement"),setTimeout(function(){Vn.addClass("boltloaderanimatedelement"),wr.restart()},400)}}).set(ur,{rotation:360}).to(ur,.7,{y:80,rotation:370}).to(ur,.6,{y:-140,rotation:20}).to(ur,.1,{rotation:-24,y:80}).to(ur,.8,{ease:d.Back.easeOut.config(1.6),rotation:0,y:0})})}),c.default.createElement("div",null,c.default.createElement("style",null,`
          .`.concat(Ee,".boltloaderanimatedelement div:before, .").concat(Ee,`.boltloaderanimatedelement div:after {
                animation: shine 2s ease; 
            } 
            .`).concat(Ee,`.boltloaderanimatedelement div span {
                animation: morph 2s ease;
            }
            .`).concat(Ee,`.boltloaderanimatedelement svg.circle {
                animation: circle 0.45s cubic-bezier(0.77, 0, 0.175, 1) forwards 1.3s;
            }
            .`).concat(Ee,`.boltloaderanimatedelement svg.line {
                animation: line 0.45s cubic-bezier(0.77, 0, 0.175, 1) forwards 1.3s;
            }
            .`).concat(Ee,`.boltloaderanimatedelement svg.white {
                animation: white 0.45s cubic-bezier(0.77, 0, 0.175, 1) forwards 1.45s;
            }
            .`).concat(Ee,`.boltloaderanimatedelement svg.white.right {
                animation-delay: 1.6s;
            }
            @keyframes circle {
                100% {
                    stroke-dasharray: 178px 178px;
            }
            }
            @keyframes white {
                100% {
                    stroke-dasharray: 240px 240px;
            }
            }
            @keyframes line {
                100% {
                    stroke-dasharray: 70px 70px;
            }
            }
            @keyframes shine {
                30%, 70% {
                    opacity: 0;
            }
            }
            @keyframes morph {
                12% {
                    clip-path: polygon(40% 5%, 100% 0, 65% 40%, 65% 40%, 8% 100%, 24% 50%, 24% 50%);
            }
                24%, 72% {
                    clip-path: polygon(36% 40%, 82% 40%, 82% 40%, 82% 40%, 36% 71%, 36% 40%, 36% 40%);
            }
                84% {
                    clip-path: polygon(40% 5%, 100% 0, 65% 40%, 65% 40%, 8% 100%, 24% 50%, 24% 50%);
            }
            } 
    `)),c.default.createElement(Fe,{className:Ee,background:it,bolterWidth:Jn,bolterHeight:ar},c.default.createElement(ot,{boltColor:Gt,viewBox:"0 0 170 57",className:"white left"},c.default.createElement("path",{d:"M36.2701759,17.9733192 C-0.981139498,45.4810755 -7.86361824,57.6618438 15.6227397,54.5156241 C50.8522766,49.7962945 201.109341,31.1461782 161.361488,2"})),c.default.createElement(xt,{boltColor:Gt,viewBox:"0 0 170 57",className:"white right"},c.default.createElement("path",{d:"M36.2701759,17.9733192 C-0.981139498,45.4810755 -7.86361824,57.6618438 15.6227397,54.5156241 C50.8522766,49.7962945 201.109341,31.1461782 161.361488,2"})),c.default.createElement(We,{className:"boltloadersparkdiv",backgroundBlurColor:It},c.default.createElement(at,{boltColor:Gt,bolterWidth:Jn,bolterHeight:ar,className:"boltloadersparkdivspan"})),c.default.createElement(nt,{boltColor:Gt,viewBox:"0 0 112 44",className:"circle"},c.default.createElement("path",{d:"M96.9355003,2 C109.46067,13.4022454 131.614152,42 56.9906735,42 C-17.6328048,42 1.51790702,13.5493875 13.0513641,2"})),c.default.createElement(Ze,{boltColor:Gt,viewBox:"0 0 70 3",className:"line left"},c.default.createElement("path",{transform:"translate(-2.000000, 0.000000)",d:"M2,1.5 L70,1.5"})),c.default.createElement(rt,{boltColor:Gt,viewBox:"0 0 70 3",className:"line right"},c.default.createElement("path",{transform:"translate(-2.000000, 0.000000)",d:"M2,1.5 L70,1.5"}))))};r.default=Ge},function(O,r){var n,a,c=O.exports={};function d(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function m(Z){if(n===setTimeout)return setTimeout(Z,0);if((n===d||!n)&&setTimeout)return n=setTimeout,setTimeout(Z,0);try{return n(Z,0)}catch{try{return n.call(null,Z,0)}catch{return n.call(this,Z,0)}}}(function(){try{n=typeof setTimeout=="function"?setTimeout:d}catch{n=d}try{a=typeof clearTimeout=="function"?clearTimeout:f}catch{a=f}})();var b,_=[],E=!1,C=-1;function k(){E&&b&&(E=!1,b.length?_=b.concat(_):C=-1,_.length&&V())}function V(){if(!E){var Z=m(k);E=!0;for(var W=_.length;W;){for(b=_,_=[];++C<W;)b&&b[C].run();C=-1,W=_.length}b=null,E=!1,function(ne){if(a===clearTimeout)return clearTimeout(ne);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(ne);try{a(ne)}catch{try{return a.call(null,ne)}catch{return a.call(this,ne)}}}(Z)}}function q(Z,W){this.fun=Z,this.array=W}function Y(){}c.nextTick=function(Z){var W=new Array(arguments.length-1);if(arguments.length>1)for(var ne=1;ne<arguments.length;ne++)W[ne-1]=arguments[ne];_.push(new q(Z,W)),_.length!==1||E||m(V)},q.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=Y,c.addListener=Y,c.once=Y,c.off=Y,c.removeListener=Y,c.removeAllListeners=Y,c.emit=Y,c.prependListener=Y,c.prependOnceListener=Y,c.listeners=function(Z){return[]},c.binding=function(Z){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(Z){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(O,r,n){/** @license React v17.0.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var a=60103,c=60106,d=60107,f=60108,m=60114,b=60109,_=60110,E=60112,C=60113,k=60120,V=60115,q=60116,Y=60121,Z=60122,W=60117,ne=60129,le=60131;if(typeof Symbol=="function"&&Symbol.for){var ce=Symbol.for;a=ce("react.element"),c=ce("react.portal"),d=ce("react.fragment"),f=ce("react.strict_mode"),m=ce("react.profiler"),b=ce("react.provider"),_=ce("react.context"),E=ce("react.forward_ref"),C=ce("react.suspense"),k=ce("react.suspense_list"),V=ce("react.memo"),q=ce("react.lazy"),Y=ce("react.block"),Z=ce("react.server.block"),W=ce("react.fundamental"),ne=ce("react.debug_trace_mode"),le=ce("react.legacy_hidden")}function Te(We){if(typeof We=="object"&&We!==null){var at=We.$$typeof;switch(at){case a:switch(We=We.type){case d:case m:case f:case C:case k:return We;default:switch(We=We&&We.$$typeof){case _:case E:case q:case V:case b:return We;default:return at}}case c:return at}}}var we=b,Fe=a,R=E,nt=d,dt=q,wt=V,Ze=c,rt=m,ot=f,xt=C;r.ContextConsumer=_,r.ContextProvider=we,r.Element=Fe,r.ForwardRef=R,r.Fragment=nt,r.Lazy=dt,r.Memo=wt,r.Portal=Ze,r.Profiler=rt,r.StrictMode=ot,r.Suspense=xt,r.isAsyncMode=function(){return!1},r.isConcurrentMode=function(){return!1},r.isContextConsumer=function(We){return Te(We)===_},r.isContextProvider=function(We){return Te(We)===b},r.isElement=function(We){return typeof We=="object"&&We!==null&&We.$$typeof===a},r.isForwardRef=function(We){return Te(We)===E},r.isFragment=function(We){return Te(We)===d},r.isLazy=function(We){return Te(We)===q},r.isMemo=function(We){return Te(We)===V},r.isPortal=function(We){return Te(We)===c},r.isProfiler=function(We){return Te(We)===m},r.isStrictMode=function(We){return Te(We)===f},r.isSuspense=function(We){return Te(We)===C},r.isValidElementType=function(We){return typeof We=="string"||typeof We=="function"||We===d||We===m||We===ne||We===f||We===C||We===k||We===le||typeof We=="object"&&We!==null&&(We.$$typeof===q||We.$$typeof===V||We.$$typeof===b||We.$$typeof===_||We.$$typeof===E||We.$$typeof===W||We.$$typeof===Y||We[0]===Z)},r.typeOf=Te},function(O,r,n){O.exports=n(29)},function(O,r,n){/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var a=typeof Symbol=="function"&&Symbol.for,c=a?Symbol.for("react.element"):60103,d=a?Symbol.for("react.portal"):60106,f=a?Symbol.for("react.fragment"):60107,m=a?Symbol.for("react.strict_mode"):60108,b=a?Symbol.for("react.profiler"):60114,_=a?Symbol.for("react.provider"):60109,E=a?Symbol.for("react.context"):60110,C=a?Symbol.for("react.async_mode"):60111,k=a?Symbol.for("react.concurrent_mode"):60111,V=a?Symbol.for("react.forward_ref"):60112,q=a?Symbol.for("react.suspense"):60113,Y=a?Symbol.for("react.suspense_list"):60120,Z=a?Symbol.for("react.memo"):60115,W=a?Symbol.for("react.lazy"):60116,ne=a?Symbol.for("react.block"):60121,le=a?Symbol.for("react.fundamental"):60117,ce=a?Symbol.for("react.responder"):60118,Te=a?Symbol.for("react.scope"):60119;function we(R){if(typeof R=="object"&&R!==null){var nt=R.$$typeof;switch(nt){case c:switch(R=R.type){case C:case k:case f:case b:case m:case q:return R;default:switch(R=R&&R.$$typeof){case E:case V:case W:case Z:case _:return R;default:return nt}}case d:return nt}}}function Fe(R){return we(R)===k}r.AsyncMode=C,r.ConcurrentMode=k,r.ContextConsumer=E,r.ContextProvider=_,r.Element=c,r.ForwardRef=V,r.Fragment=f,r.Lazy=W,r.Memo=Z,r.Portal=d,r.Profiler=b,r.StrictMode=m,r.Suspense=q,r.isAsyncMode=function(R){return Fe(R)||we(R)===C},r.isConcurrentMode=Fe,r.isContextConsumer=function(R){return we(R)===E},r.isContextProvider=function(R){return we(R)===_},r.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===c},r.isForwardRef=function(R){return we(R)===V},r.isFragment=function(R){return we(R)===f},r.isLazy=function(R){return we(R)===W},r.isMemo=function(R){return we(R)===Z},r.isPortal=function(R){return we(R)===d},r.isProfiler=function(R){return we(R)===b},r.isStrictMode=function(R){return we(R)===m},r.isSuspense=function(R){return we(R)===q},r.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===f||R===k||R===b||R===m||R===q||R===Y||typeof R=="object"&&R!==null&&(R.$$typeof===W||R.$$typeof===Z||R.$$typeof===_||R.$$typeof===E||R.$$typeof===V||R.$$typeof===le||R.$$typeof===ce||R.$$typeof===Te||R.$$typeof===ne)},r.typeOf=we},function(O,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=f(n(0)),c=f(n(1)),d=n(2);function f(te){return te&&te.__esModule?te:{default:te}}function m(){var te=ce([`
  display: block;
  top: 100%;
  font-size: `,`px;
  margin-top: 20px;
  text-align: center;
  color: `,`;
`]);return m=function(){return te},te}function b(){var te=ce([`
  --o: 1;
`]);return b=function(){return te},te}function _(){var te=ce([`
  @keyframes page-5 {
    45% {
      transform: rotateY(180deg);
      opacity: 0;
    }
    65% {
      opacity: 1;
    }
    80%,
    100% {
      opacity: 0;
    }
    95%,
    100% {
      transform: rotateY(0deg);
    }
  }
  --c: `,`;
  animation-name: page-5;
`]);return _=function(){return te},te}function E(){var te=ce([`
  @keyframes page-4 {
    30% {
      transform: rotateY(180deg);
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    65%,
    100% {
      opacity: 0;
    }
    80%,
    100% {
      transform: rotateY(0deg);
    }
  }
  --c: `,`;
  animation-name: page-4;
`]);return E=function(){return te},te}function C(){var te=ce([`
  @keyframes page-3 {
    15% {
      transform: rotateY(180deg);
      opacity: 0;
    }
    35% {
      opacity: 1;
    }
    50%,
    100% {
      opacity: 0;
    }
    65%,
    100% {
      transform: rotateY(0deg);
    }
  }
  --c: `,`;
  animation-name: page-3;
`]);return C=function(){return te},te}function k(){var te=ce([`
  @keyframes page-2 {
    0% {
      transform: rotateY(180deg);
      opacity: 0;
    }
    20% {
      opacity: 1;
    }
    35%,
    100% {
      opacity: 0;
    }
    50%,
    100% {
      transform: rotateY(0deg);
    }
  }
  --c: `,`;
  animation-name: page-2;
`]);return k=function(){return te},te}function V(){var te=ce([`
  --r: 0deg;
  --o: 1;
`]);return V=function(){return te},te}function q(){var te=ce([`
  --r: 180deg;
  --o: 0;
  --c: `,`;
  position: absolute;
  top: `,`px;
  left: `,`px;
  transform-origin: 100% 50%;
  color: var(--c);
  opacity: var(--o);
  transform: rotateY(var(--r));
  animation: `,` ease infinite;
`]);return q=function(){return te},te}function Y(){var te=ce([`
  width: `,`px;
  height: `,`px;
  display: block;
`]);return Y=function(){return te},te}function Z(){var te=ce([`
  margin: 0;
  padding: 0;
  list-style: none;
  position: relative;
`]);return Z=function(){return te},te}function W(){var te=ce([`
  width: 100%;
  height: 100%;
  border-radius: `,`px;
  position: relative;
  z-index: 1;
  perspective: 600px;
  box-shadow: 0 4px 6px `,`;
  background-image: `,`;
`]);return W=function(){return te},te}function ne(){var te=ce([`
  width: `,`px;
  height: `,`px;
  position: relative;
  &:before {
    --r: -6deg;
    content: "";
    position: absolute;
    width: `,`px;
    box-shadow: 0 `,`px
      `,"px ",`;
    transform: rotate(var(--r));
  }
  &:after {
    --r: -6deg;
    content: "";
    position: absolute;
    box-shadow: 0 `,`px
      `,"px ",`;
    transform: rotate(var(--r));
    --r: 6deg;
  }
`]);return ne=function(){return te},te}function le(){var te=ce([`
  -webkit-font-smoothing: antialiased;
  display: flex;
  font-family: "Roboto", Arial;
  padding: 20px;
`]);return le=function(){return te},te}function ce(te,lt){return lt||(lt=te.slice(0)),Object.freeze(Object.defineProperties(te,{raw:{value:Object.freeze(lt)}}))}var Te=c.default.div(le()),we=c.default.div(ne(),function(te){return te.sizeParentWidth},function(te){return te.sizeParentHeight},function(te){return te.sizeParentBeforeWidth},function(te){return te.sizeParentShadow1},function(te){return te.sizeParentShadow2},function(te){return te.shadowColor},function(te){return te.sizeParentShadow1},function(te){return te.sizeParentShadow2},function(te){return te.shadowColor}),Fe=c.default.div(W(),function(te){return te.sizeDivBorderRadius},function(te){return te.shadowColor},function(te){return te.background}),R=c.default.ul(Z()),nt=c.default.svg(Y(),function(te){return te.sizeSVGWidth},function(te){return te.sizeSVGHeight}),dt=c.default.li(q(),function(te){return te.pageColor},function(te){return te.sizeLi},function(te){return te.sizeLi},function(te){return te.duration}),wt=(0,c.default)(dt)(V()),Ze=(0,c.default)(dt)(k(),function(te){return te.foldPageColor}),rt=(0,c.default)(dt)(C(),function(te){return te.foldPageColor}),ot=(0,c.default)(dt)(E(),function(te){return te.foldPageColor}),xt=(0,c.default)(dt)(_(),function(te){return te.foldPageColor}),We=(0,c.default)(dt)(b()),at=c.default.span(m(),function(te){return te.sizeText},function(te){return te.textColor}),Ge=function(te){var lt=te.className,Ee=lt===void 0?"bookloader":lt,ke=te.text,it=ke===void 0?"Loading...":ke,Ct=te.background,Gt=Ct===void 0?"linear-gradient(135deg, #23c4f8, #275efe)":Ct,be=te.shadowColor,It=be===void 0?"rgba(39, 94, 254, .28)":be,vt=te.textColor,Re=vt===void 0?"#6c7486":vt,nn=te.pageColor,Rn=nn===void 0?"rgba(255, 255, 255, .36)":nn,xr=te.foldPageColor,pn=xr===void 0?"rgba(255, 255, 255, .52)":xr,xn=te.duration,yn=xn===void 0?"3s":xn,Jt=te.size,$e=Jt===void 0?"64px":Jt,Jn=te.desktopSize,ar=Jn===void 0?"":Jn,lr=te.mobileSize,Vn=lr===void 0?"":lr,ur=(0,d.useMediaQuery)({query:"(min-width: 1224px)"}),wr=(0,d.useMediaQuery)({query:"(max-width: 1224px)"}),_r=0;ur&&(_r=ar!==""?parseFloat(ar):2*parseFloat($e)),wr&&(_r=parseFloat(Vn!==""?Vn:$e));var Wn=parseFloat(_r),Fr=Wn/64,di=120*Wn/64,Or=200*Wn/64,vi=140*Wn/64,Nr=16*Wn/64,Ln=12*Wn/64,er=13*Wn/64,Ir=10*Wn/64,yi=90*Wn/64,$i=120*Wn/64,Yi=1.5*Fr*20/2;return Fr===1&&(Yi=14),a.default.createElement(Te,{className:Ee},a.default.createElement(we,{sizeParentShadow1:Nr,sizeParentShadow2:Ln,sizeParentBeforeWidth:di,sizeParentWidth:Or,sizeParentHeight:vi,shadowColor:It,className:"loader"},a.default.createElement(Fe,{sizeDivBorderRadius:er,shadowColor:It,background:Gt},a.default.createElement(R,null,a.default.createElement(wt,{sizeLi:Ir,pageColor:Rn,duration:yn},a.default.createElement(nt,{sizeSVGWidth:yi,sizeSVGHeight:$i,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))),a.default.createElement(Ze,{sizeLi:Ir,pageColor:Rn,duration:yn,foldPageColor:pn},a.default.createElement(nt,{sizeSVGWidth:yi,sizeSVGHeight:$i,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))),a.default.createElement(rt,{sizeLi:Ir,pageColor:Rn,duration:yn,foldPageColor:pn},a.default.createElement(nt,{sizeSVGWidth:yi,sizeSVGHeight:$i,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))),a.default.createElement(ot,{sizeLi:Ir,pageColor:Rn,duration:yn,foldPageColor:pn},a.default.createElement(nt,{sizeSVGWidth:yi,sizeSVGHeight:$i,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))),a.default.createElement(xt,{sizeLi:Ir,pageColor:Rn,duration:yn,foldPageColor:pn},a.default.createElement(nt,{sizeSVGWidth:yi,sizeSVGHeight:$i,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))),a.default.createElement(We,{sizeLi:Ir,pageColor:Rn,duration:yn},a.default.createElement(nt,{sizeSVGWidth:yi,sizeSVGHeight:$i,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))))),a.default.createElement(at,{sizeText:Yi,textColor:Re},it)))};r.default=Ge},function(O,r,n){function a(le){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(le)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c,d=(c=n(0))&&c.__esModule?c:{default:c},f=function(le){if(le&&le.__esModule)return le;if(le===null||a(le)!=="object"&&typeof le!="function")return{default:le};var ce=_();if(ce&&ce.has(le))return ce.get(le);var Te={},we=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Fe in le)if(Object.prototype.hasOwnProperty.call(le,Fe)){var R=we?Object.getOwnPropertyDescriptor(le,Fe):null;R&&(R.get||R.set)?Object.defineProperty(Te,Fe,R):Te[Fe]=le[Fe]}return Te.default=le,ce&&ce.set(le,Te),Te}(n(1)),m=n(2),b=n(20);function _(){if(typeof WeakMap!="function")return null;var le=new WeakMap;return _=function(){return le},le}function E(){var le=q([`
  --background: `,`;
  --top: `,`;
  --right: `,`;
  --bottom: `,`;
  --left: `,`;
  --translateZ: `,`;
  --rotateY: `,`;
  --rotateX: `,`;
  position: absolute;
  width: 100%;
  height: 100%;
  background: var(--background);
  top: var(--top);
  right: var(--right);
  bottom: var(--bottom);
  left: var(--left);
  transform: rotateY(var(--rotateY)) rotateX(var(--rotateX))
    translateZ(var(--translateZ));
`]);return E=function(){return le},le}function C(){var le=q([`
  --size: `,`px;
  --duration: 800ms;
  width: var(--size);
  height: var(--size);
  top: 0;
  left: 0;
  position: absolute;
  transform-style: preserve-3d;
  transform: translate(
    `,`%,
    `,`%
  );
  animation: `,` var(--duration) linear
    infinite;

  & > div {
    --background: `,`;
    --top: auto;
    --right: auto;
    --bottom: auto;
    --left: auto;
    --translateZ: calc(var(--size) / 2);
    --rotateY: 0deg;
    --rotateX: 0deg;
    position: absolute;
    width: 100%;
    height: 100%;
    background: var(--background);
    top: var(--top);
    right: var(--right);
    bottom: var(--bottom);
    left: var(--left);
    transform: rotateY(var(--rotateY)) rotateX(var(--rotateX))
      translateZ(var(--translateZ));
  }

  & > div:nth-child(1) {
    --top: 0;
    --left: 0;
  }
  & > div:nth-child(2) {
    --background: `,`;
    --right: 0;
    --rotateY: 90deg;
  }
  & > div:nth-child(3) {
    --background: `,`;
    --rotateX: -90deg;
  }
  & > div:nth-child(4) {
    --background: `,`;
    --top: 0;
    --left: 0;
    --translateZ: calc(var(--size) * 3 * -1);
  }
`]);return C=function(){return le},le}function k(){var le=q([`
  --size: `,`px;
  --duration: 800ms;
  height: calc(var(--size) * 2);
  width: calc(var(--size) * 3);
  position: relative;
  transform-style: preserve-3d;
  transform-origin: 50% 50%;
  margin-bottom: `,`px;
  // margin-top: calc(var(--size) * 1.5 * -1);
  padding: 70px;
  transform: rotateX(60deg) rotateZ(45deg) rotateY(0deg) translateZ(0px);
`]);return k=function(){return le},le}function V(){var le=q([`
0%{
    transform: translate(`,"%, ",`%);
}
50% {
    transform: translate(`,"%, ",`%);
}
100% {
    transform: translate(`,"%, ",`%);
}
`]);return V=function(){return le},le}function q(le,ce){return ce||(ce=le.slice(0)),Object.freeze(Object.defineProperties(le,{raw:{value:Object.freeze(ce)}}))}var Y=f.default.div(k(),function(le){return le.sizeBoxes},function(le){return le.sizeMarginBottom}),Z=f.default.div(C(),function(le){return le.sizeBoxes},function(le){return le.boxTransforms[0]},function(le){return le.boxTransforms[1]},function(le){return ce=le.animParams,(0,f.keyframes)(V(),ce.start[0],ce.end[0],ce.start[1],ce.end[1],ce.start[2],ce.end[2]);var ce},function(le){return le.colors.main},function(le){return le.colors.right},function(le){return le.colors.left},function(le){return le.colors.shadow}),W=f.default.div(E(),function(le){return le.boxDivParams.background},function(le){return le.boxDivParams.top},function(le){return le.boxDivParams.right},function(le){return le.boxDivParams.bottom},function(le){return le.boxDivParams.left},function(le){return le.boxDivParams.translateZ},function(le){return le.boxDivParams.rotateX},function(le){return le.boxDivParams.rotateY}),ne=function(le){var ce=le.className,Te=ce===void 0?"boxesloader":ce,we=le.boxColor,Fe=we===void 0?"#5C8DF6":we,R=le.shadowColor,nt=R===void 0?"#dbe3f4":R,dt=le.duration,wt=dt===void 0?800:dt,Ze=le.size,rt=Ze===void 0?"64px":Ze,ot=le.desktopSize,xt=ot===void 0?"":ot,We=le.mobileSize,at=We===void 0?"":We,Ge=(0,m.useMediaQuery)({query:"(min-width: 1224px)"}),te=(0,m.useMediaQuery)({query:"(max-width: 1224px)"}),lt=0;Ge&&(lt=xt!==""?parseFloat(xt):2*parseFloat(rt)),te&&(lt=parseFloat(at!==""?at:rt));var Ee=parseFloat(lt),ke=32*Ee/64,it=50*Ee/64,Ct=(0,b.darken)(.15,Fe),Gt=(0,b.darken)(.05,Fe),be={main:Fe,right:Ct,left:Gt,shadow:nt},It=[{start:[100,100,200],end:[0,0,0]},{start:[0,0,100],end:[100,0,0]},{start:[100,100,0],end:[100,100,100]},{start:[200,200,100],end:[0,100,100]}],vt=[[100,0],[0,100],[100,100],[200,0]],Re=[{top:"0",right:"auto",bottom:"auto",left:"0",background:Fe,rotateX:"0deg",rotateY:"0deg",translateZ:"calc(var(--size) / 2)"},{top:"auto",right:"0",bottom:"auto",left:"auto",background:Ct,rotateX:"0deg",rotateY:"90deg",translateZ:"calc(var(--size) / 2)"},{top:"auto",right:"auto",bottom:"auto",left:"auto",background:Gt,rotateX:"-90deg",rotateY:"0deg",translateZ:"calc(var(--size) / 2)"},{top:"0",right:"auto",bottom:"auto",left:"0",background:nt,rotateX:"0deg",rotateY:"0deg",translateZ:"calc(var(--size) * 3 * -1)"}];return d.default.createElement(Y,{sizeMarginBottom:it,duration:wt,sizeBoxes:ke,className:Te},d.default.createElement(Z,{duration:wt,colors:be,sizeBoxes:ke,animParams:It[0],boxTransforms:vt[0]},d.default.createElement(W,{boxDivParams:Re[0]}),d.default.createElement(W,{boxDivParams:Re[1]}),d.default.createElement(W,{boxDivParams:Re[2]}),d.default.createElement(W,{boxDivParams:Re[3]})),d.default.createElement(Z,{duration:wt,colors:be,sizeBoxes:ke,animParams:It[1],boxTransforms:vt[1]},d.default.createElement(W,{boxDivParams:Re[0]}),d.default.createElement(W,{boxDivParams:Re[1]}),d.default.createElement(W,{boxDivParams:Re[2]}),d.default.createElement(W,{boxDivParams:Re[3]})),d.default.createElement(Z,{duration:wt,colors:be,sizeBoxes:ke,animParams:It[2],boxTransforms:vt[2]},d.default.createElement(W,{boxDivParams:Re[0]}),d.default.createElement(W,{boxDivParams:Re[1]}),d.default.createElement(W,{boxDivParams:Re[2]}),d.default.createElement(W,{boxDivParams:Re[3]})),d.default.createElement(Z,{duration:wt,colors:be,sizeBoxes:ke,animParams:It[3],boxTransforms:vt[3]},d.default.createElement(W,{boxDivParams:Re[0]}),d.default.createElement(W,{boxDivParams:Re[1]}),d.default.createElement(W,{boxDivParams:Re[2]}),d.default.createElement(W,{boxDivParams:Re[3]})))};r.default=ne},function(O,r,n){function a(C){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(C)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=_(n(0)),d=_(n(10)),f=n(7),m=n(2);function b(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return b=function(){return C},C}function _(C){if(C&&C.__esModule)return C;if(C===null||a(C)!=="object"&&typeof C!="function")return{default:C};var k=b();if(k&&k.has(C))return k.get(C);var V={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in C)if(Object.prototype.hasOwnProperty.call(C,Y)){var Z=q?Object.getOwnPropertyDescriptor(C,Y):null;Z&&(Z.get||Z.set)?Object.defineProperty(V,Y,Z):V[Y]=C[Y]}return V.default=C,k&&k.set(C,V),V}var E=function(C){var k=C.className,V=k===void 0?"circleloader":k,q=C.meshColor,Y=q===void 0?"#6366F1":q,Z=C.lightColor,W=Z===void 0?"#FFFFFF":Z,ne=C.lightIntensity,le=ne===void 0?.4:ne,ce=C.ambientLightColor,Te=ce===void 0?"#E8EBFB":ce,we=C.duration,Fe=we===void 0?1:we,R=C.size,nt=R===void 0?"64px":R,dt=C.desktopSize,wt=dt===void 0?"":dt,Ze=C.mobileSize,rt=Ze===void 0?"":Ze,ot=(0,m.useMediaQuery)({query:"(min-width: 1224px)"}),xt=(0,m.useMediaQuery)({query:"(max-width: 1224px)"}),We=0;ot&&(We=wt!==""?parseFloat(wt):2*parseFloat(nt)),xt&&(We=parseFloat(rt!==""?rt:nt));var at=220*parseFloat(We)/64;return(0,c.useEffect)(function(){var Ge=at,te=at,lt=function(xr){var pn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return pn.querySelector(xr)}("."+V),Ee=new d.WebGLRenderer({canvas:lt,context:lt.getContext("webgl2"),antialias:!0,alpha:!0}),ke=function(){var xr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:13,pn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,xn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:6,yn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:60,Jt=new d.Shape,$e=new d.Path;Jt.moveTo(pn,0),Jt.absarc(0,0,pn,0,2*Math.PI,!1),$e.moveTo(xr,0),$e.absarc(0,0,xr,0,2*Math.PI,!0),Jt.holes.push($e);var Jn=new d.ExtrudeGeometry(Jt,{depth:xn,bevelEnabled:!1,curveSegments:yn}),ar=new d.MeshLambertMaterial({color:Y}),lr=new d.Mesh(Jn,ar),Vn=new Proxy({z:null,s:null},{set:function(ur,wr,_r){return ur[wr]=_r,ur.z!==null&&(lr.position.z=ur.z),ur.s!==null&&(lr.scale.x=ur.s,lr.scale.y=ur.s),!0},get:function(ur,wr){return ur[wr]}});return lr.castShadow=!0,lr.receiveShadow=!0,{geometry:Jn,object:lr,proxy:Vn}};Ee.setSize(Ge,te),Ee.setPixelRatio(2),Ee.shadowMap.enabled=!0,Ee.shadowMap.type=d.PCFSoftShadowMap;var it=new d.Scene,Ct=new d.PerspectiveCamera(17,Ge/te,.1,1e3);Ct.position.z=100,Ct.position.y=-160,Ct.rotation.x=d.Math.degToRad(60);var Gt=new d.PlaneGeometry(200,200),be=new d.ShadowMaterial;be.opacity=.1;var It=new d.Mesh(Gt,be);It.position.y=6,It.receiveShadow=!0,it.add(It);var vt=new d.DirectionalLight(W,le);vt.position.set(100,100,200),vt.castShadow=!0,vt.shadow.camera.left=-40,vt.shadow.camera.right=40,vt.shadow.camera.top=40,vt.shadow.camera.bottom=-40,vt.shadow.radius=8,it.add(vt),it.add(new d.AmbientLight(Te));var Re=ke(),nn=ke(),Rn=ke();it.add(Re.object),it.add(nn.object),it.add(Rn.object),Re.proxy.s=.8,nn.proxy.z=9,nn.proxy.s=.55,Rn.proxy.z=18,Rn.proxy.s=.35,f.gsap.to(Re.proxy,{repeat:-1,duration:Fe,keyframes:[{z:9,s:.95},{z:18,s:.35},{z:0,s:.3},{z:0,s:.8,delay:-.1}]}),f.gsap.to(nn.proxy,{repeat:-1,duration:Fe,keyframes:[{z:10,s:.5},{z:0,s:.5},{z:4,s:.65},{z:8,s:.55}]}),f.gsap.to(Rn.proxy,{repeat:-1,duration:Fe,keyframes:[{z:0,s:.3},{z:0,s:.8,delay:-.1},{z:9,s:.95},{z:18,s:.35}]}),function xr(){requestAnimationFrame(xr),Ee.render(it,Ct)}()},[]),c.default.createElement("canvas",{className:V})};r.default=E},function(O,r,n){function a(R){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(nt){return typeof nt}:function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt})(R)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c,d=C(n(0)),f=C(n(10)),m=n(7),b=(c=n(1))&&c.__esModule?c:{default:c},_=n(2);function E(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return E=function(){return R},R}function C(R){if(R&&R.__esModule)return R;if(R===null||a(R)!=="object"&&typeof R!="function")return{default:R};var nt=E();if(nt&&nt.has(R))return nt.get(R);var dt={},wt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ze in R)if(Object.prototype.hasOwnProperty.call(R,Ze)){var rt=wt?Object.getOwnPropertyDescriptor(R,Ze):null;rt&&(rt.get||rt.set)?Object.defineProperty(dt,Ze,rt):dt[Ze]=R[Ze]}return dt.default=R,nt&&nt.set(R,dt),dt}function k(){var R=W([`
  transform: translateX(calc(var(--x-l) * -1px));
`]);return k=function(){return R},R}function V(){var R=W([`
  transform: translateX(calc(var(--x-f) * 1px));
`]);return V=function(){return R},R}function q(){var R=W([`
  display: block;
  font-family: "Roboto", Arial;
  font-size: `,`px;
  font-weight: 900;
  color: `,`;
  letter-spacing: 4px;
`]);return q=function(){return R},R}function Y(){var R=W([`
  display: block;
  width: `,`px;
  height: `,`px;
  transform: translateY(-1px);
`]);return Y=function(){return R},R}function Z(){var R=W([`
  display: flex;
  align-items: center;
`]);return Z=function(){return R},R}function W(R,nt){return nt||(nt=R.slice(0)),Object.freeze(Object.defineProperties(R,{raw:{value:Object.freeze(nt)}}))}var ne=b.default.div(Z()),le=b.default.canvas(Y(),function(R){return R.sizeRing},function(R){return R.sizeRing}),ce=b.default.span(q(),function(R){return R.sizeFont},function(R){return R.textColor}),Te=(0,b.default)(ce)(V()),we=(0,b.default)(ce)(k()),Fe=function(R){var nt=R.className,dt=nt===void 0?"flipfloploader":nt,wt=R.textColor,Ze=wt===void 0?"#4F46E5":wt,rt=R.ringColor,ot=rt===void 0?"#4F46E5":rt,xt=R.ringShiness,We=xt===void 0?20:xt,at=R.ringOpacity,Ge=at===void 0?.96:at,te=R.ringTransparency,lt=te===void 0||te,Ee=R.ringLightColor,ke=Ee===void 0?"#FFFFFF":Ee,it=R.ringLightIntensity,Ct=it===void 0?0:it,Gt=R.ringAmbientLightColor,be=Gt===void 0?"#eef4ff":Gt,It=R.textBeforeRing,vt=It===void 0?"FL":It,Re=R.textAfterRing,nn=Re===void 0?"P...":Re,Rn=R.size,xr=Rn===void 0?"64px":Rn,pn=R.desktopSize,xn=pn===void 0?"":pn,yn=R.mobileSize,Jt=yn===void 0?"":yn,$e=(0,_.useMediaQuery)({query:"(min-width: 1224px)"}),Jn=(0,_.useMediaQuery)({query:"(max-width: 1224px)"}),ar=0;$e&&(ar=xn!==""?parseFloat(xn):2*parseFloat(xr)),Jn&&(ar=parseFloat(Jt!==""?Jt:xr));var lr=parseFloat(ar),Vn=40*lr/64,ur=32*lr/64,wr=8*lr/64,_r=5*lr/64,Wn=14*lr/64,Fr=12*lr/64;return(0,d.useEffect)(function(){var di=document.querySelector(".flipflop-loader-canvas"),Or=new f.WebGLRenderer({canvas:di,context:di.getContext("webgl2"),antialias:!0,alpha:!0});Or.setSize(Vn,Vn),Or.setPixelRatio(8),Or.shadowMap.enabled=!0;var vi=new f.Scene,Nr=new f.PerspectiveCamera(45,1,.1,1e3);Nr.position.z=89;var Ln=function(Mi,Hs,ji,ir){var ia={depth:ji,bevelEnabled:!1,curveSegments:ir},as=new f.Shape;as.moveTo(Hs,0),as.absarc(0,0,Hs,0,2*Math.PI,!1);var Hi=new f.Path;return Hi.moveTo(Mi,0),Hi.absarc(0,0,Mi,0,2*Math.PI,!0),as.holes.push(Hi),new f.ExtrudeGeometry(as,ia)}(12,20,9,60);Ln.translate(0,0,-4.5);var er=new f.MeshPhongMaterial({color:ot,shininess:We,opacity:Ge,transparent:lt}),Ir=new f.Mesh(Ln,er);vi.add(Ir);var yi=new f.DirectionalLight(ke,Ct);yi.position.set(0,40,80),yi.castShadow=!0,vi.add(yi);var $i=new f.DirectionalLight(ke,Ct);$i.position.set(0,20,0),$i.castShadow=!0,vi.add($i);var Yi=new f.DirectionalLight(ke,Ct);Yi.position.set(0,-40,80),Yi.castShadow=!0,vi.add(Yi),vi.add(new f.AmbientLight(be));var br=document.getElementsByClassName(dt)[0],ii={xf:wr,xl:_r};console.log(br),new m.gsap.timeline({repeat:-1,yoyo:!0,onUpdate:function(){br.style.setProperty("--x-f",ii.xf),br.style.setProperty("--x-l",ii.xl)},repeatDelay:.32}).to(ii,1.6,{ease:m.Elastic.easeInOut.config(1.2,.5),xf:Wn,xl:Fr}).to(Ir.rotation,1.6,{ease:m.Elastic.easeInOut.config(1.2,.5),x:f.Math.degToRad(90),y:f.Math.degToRad(90)},0),function Mi(){requestAnimationFrame(Mi),Or.render(vi,Nr)}()}),d.default.createElement(ne,{className:dt},d.default.createElement(Te,{sizeFont:ur,textColor:Ze},vt),d.default.createElement(le,{sizeRing:Vn,className:"flipflop-loader-canvas"}),d.default.createElement(we,{sizeFont:ur,textColor:Ze},nn))};r.default=Fe},function(O,r,n){function a(Re){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(nn){return typeof nn}:function(nn){return nn&&typeof Symbol=="function"&&nn.constructor===Symbol&&nn!==Symbol.prototype?"symbol":typeof nn})(Re)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c,d=(c=n(0))&&c.__esModule?c:{default:c},f=function(Re){if(Re&&Re.__esModule)return Re;if(Re===null||a(Re)!=="object"&&typeof Re!="function")return{default:Re};var nn=b();if(nn&&nn.has(Re))return nn.get(Re);var Rn={},xr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var pn in Re)if(Object.prototype.hasOwnProperty.call(Re,pn)){var xn=xr?Object.getOwnPropertyDescriptor(Re,pn):null;xn&&(xn.get||xn.set)?Object.defineProperty(Rn,pn,xn):Rn[pn]=Re[pn]}return Rn.default=Re,nn&&nn.set(Re,Rn),Rn}(n(1)),m=n(20);function b(){if(typeof WeakMap!="function")return null;var Re=new WeakMap;return b=function(){return Re},Re}function _(){var Re=dt([`
  --x: -240px;
  --y: 200px;
  left: 58px;
  top: 87px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return _=function(){return Re},Re}function E(){var Re=dt([`
  --x: -260px;
  --y: 120px;
  left: 91px;
  top: 76px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return E=function(){return Re},Re}function C(){var Re=dt([`
  --x: -220px;
  --y: -120px;
  left: 25px;
  top: 76px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return C=function(){return Re},Re}function k(){var Re=dt([`
  --x: 60px;
  --y: 200px;
  left: 58px;
  top: 132px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return k=function(){return Re},Re}function V(){var Re=dt([`
  --x: 280px;
  --y: -40px;
  left: 91px;
  top: 120px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return V=function(){return Re},Re}function q(){var Re=dt([`
  --x: 120px;
  --y: -190px;
  left: 58px;
  top: 64px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return q=function(){return Re},Re}function Y(){var Re=dt([`
  --x: -260px;
  --y: 120px;
  left: 25px;
  top: 120px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return Y=function(){return Re},Re}function Z(){var Re=dt([`
  --x: -220px;
  --y: -120px;
  left: 58px;
  top: 108px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return Z=function(){return Re},Re}function W(){var Re=dt([`
  --x: 0px;
  --y: 0px;
  position: absolute;
  animation: var(--duration) linear forwards infinite;
  transform: translate(var(--x), var(--y));
  & > div {
    background-color: var(--primary);
    width: 48px;
    height: 48px;
    position: relative;
    transform-style: preserve-3d;
    animation: var(--duration) ease forwards infinite;
    transform: rotateY(-47deg) rotateX(-15deg) rotateZ(15deg) scale(0);
  }
  & > div:before,
  & > div:after {
    --rx: 90deg;
    --ry: 0deg;
    --z: 24px;
    --y: -24px;
    --x: 0;
    content: "";
    position: absolute;
    background-color: inherit;
    width: inherit;
    height: inherit;
    transform: rotateX(var(--rx)) rotateY(var(--ry))
      translate(var(--x), var(--y)) translateZ(var(--z));
    filter: brightness(var(--b, 1.2));
  }
  & > div:after {
    --rx: 0deg;
    --ry: 90deg;
    --x: 24px;
    --y: 0;
    --b: 1.4;
  }
`]);return W=function(){return Re},Re}function ne(){var Re=dt([`
  position: absolute;
  left: -50px;
  bottom: -120px;
  transform-style: preserve-3d;
  transform: rotateY(-47deg) rotateX(-15deg) rotateZ(15deg) scale(1);
`]);return ne=function(){return Re},Re}function le(){var Re=dt([`
  transform: rotateX(90deg) rotateY(0deg) translate(-48px, -120px)
    translateZ(100px) scale(0);
  width: 200px;
  height: 200px;
  background: var(--primary);
  background: linear-gradient(
    45deg,
    var(--primary) 0%,
    var(--primary) 50%,
    var(--primary-light) 50%,
    var(--primary-light) 100%
  );
  transform-style: preserve-3d;
  animation: `,` var(--duration) linear forwards infinite;
  :before,
  :after {
    --rx: 90deg;
    --ry: 0deg;
    --x: 44px;
    --y: 162px;
    --z: -50px;
    content: "";
    width: 156px;
    height: 300px;
    opacity: 0;
    background: linear-gradient(var(--primary), var(--primary-rgba));
    position: absolute;
    transform: rotateX(var(--rx)) rotateY(var(--ry))
      translate(var(--x), var(--y)) translateZ(var(--z));
    animation: `,` var(--duration) linear forwards infinite;
  }
  :after {
    --rx: 90deg;
    --ry: 90deg;
    --x: 0;
    --y: 177px;
    --z: 150px;
  }
`]);return le=function(){return Re},Re}function ce(){var Re=dt([`
  --background: `,`; //#121621;
  --duration: `,`s;
  --primary: `,`; //rgba(39, 94, 254, 1);
  --primary-light: `,`; //#2f71ff;
  --primary-rgba: `,`00; //rgba(39, 94, 254, 0);
  width: 200px;
  height: 320px;
  position: relative;
  transform-style: preserve-3d;
  @media (max-width: 480px) {
    zoom: 0.44;
  }
  :before,
  :after {
    --r: 20.5deg;
    content: "";
    width: 320px;
    height: 140px;
    position: absolute;
    right: 32%;
    bottom: -11px;
    background: var(--background);
    transform: translateZ(200px) rotate(var(--r));
    animation: `,` var(--duration) linear forwards infinite;
  }
  :after {
    --r: -20.5deg;
    right: auto;
    left: 32%;
  }
`]);return ce=function(){return Re},Re}function Te(){var Re=dt([`
0%, 65% {
    opacity: 0;
}
66%, 100% {
    opacity: 1;
}
`]);return Te=function(){return Re},Re}function we(){var Re=dt([`
0%, 70% {
    opacity: 0;
}
75%, 87% {
    opacity: 0.2;
}
100% {
    opacity: 0;
}
`]);return we=function(){return Re},Re}function Fe(){var Re=dt([`
0%, 65% {
    transform: rotateX(90deg) rotateY(0deg) translate(-48px, -120px) translateZ(100px) scale(0);
}
75%, 90% {
    transform: rotateX(90deg) rotateY(0deg) translate(-48px, -120px) translateZ(100px) scale(1);
}
100% {
    transform: rotateX(90deg) rotateY(0deg) translate(-48px, -120px) translateZ(100px) scale(0);
}
`]);return Fe=function(){return Re},Re}function R(){var Re=dt([`
`,`% {
    transform: rotateY(-47deg) rotateX(-15deg) rotateZ(15deg) scale(0);
}
`,`%, 100% {
    transform: rotateY(-47deg) rotateX(-15deg) rotateZ(15deg) scale(1);
}
`]);return R=function(){return Re},Re}function nt(){var Re=dt([`
`,`% {
    transform: translate(var(--x), var(--y));
}
`,`%, 52% {
    transform: translate(0, 0);
}
80% {
    transform: translate(0, -32px);
}
90%, 100% {
    transform: translate(0, 188px);
}
`]);return nt=function(){return Re},Re}function dt(Re,nn){return nn||(nn=Re.slice(0)),Object.freeze(Object.defineProperties(Re,{raw:{value:Object.freeze(nn)}}))}var wt=function(Re){return(0,f.keyframes)(nt(),Re[0],Re[1])},Ze=function(Re){return(0,f.keyframes)(R(),Re[0],Re[1])},rt=(0,f.keyframes)(Fe()),ot=(0,f.keyframes)(we()),xt=(0,f.keyframes)(Te()),We=f.default.div(ce(),function(Re){return Re.background},function(Re){return Re.duration},function(Re){return Re.primaryColor},function(Re){return Re.primary},function(Re){return Re.primaryRGBA},xt),at=f.default.div(le(),rt,ot),Ge=f.default.div(ne()),te=f.default.div(W()),lt=(0,f.default)(te)(Z(),function(Re){return wt(Re.boxMoveParams)},function(Re){return Ze(Re.boxScaleParams)}),Ee=(0,f.default)(te)(Y(),function(Re){return wt(Re.boxMoveParams)},function(Re){return Ze(Re.boxScaleParams)}),ke=(0,f.default)(te)(q(),function(Re){return wt(Re.boxMoveParams)},function(Re){return Ze(Re.boxScaleParams)}),it=(0,f.default)(te)(V(),function(Re){return wt(Re.boxMoveParams)},function(Re){return Ze(Re.boxScaleParams)}),Ct=(0,f.default)(te)(k(),function(Re){return wt(Re.boxMoveParams)},function(Re){return Ze(Re.boxScaleParams)}),Gt=(0,f.default)(te)(C(),function(Re){return wt(Re.boxMoveParams)},function(Re){return Ze(Re.boxScaleParams)}),be=(0,f.default)(te)(E(),function(Re){return wt(Re.boxMoveParams)},function(Re){return Ze(Re.boxScaleParams)}),It=(0,f.default)(te)(_(),function(Re){return wt(Re.boxMoveParams)},function(Re){return Ze(Re.boxScaleParams)}),vt=function(Re){var nn=Re.className,Rn=nn===void 0?"scatterboxloader":nn,xr=Re.background,pn=xr===void 0?"#FFFFFF":xr,xn=Re.primaryColor,yn=xn===void 0?"#2f71ff":xn,Jt=Re.duration,$e=Jt===void 0?5:Jt,Jn=(Re.size,Re.desktopSize,Re.mobileSize,(0,m.darken)(.15,yn)),ar=(0,m.lighten)(.15,yn),lr=[[12,25],[16,29],[20,33],[24,37],[28,41],[32,45],[36,49],[40,53]],Vn=[[6,14],[10,18],[14,22],[18,26],[22,30],[26,34],[30,38],[34,42]];return d.default.createElement(We,{duration:$e,background:pn,primary:Jn,primaryColor:yn,primaryRGBA:ar,className:Rn},d.default.createElement(lt,{boxMoveParams:lr[0],boxScaleParams:Vn[0]},d.default.createElement("div",null)),d.default.createElement(Ee,{boxMoveParams:lr[1],boxScaleParams:Vn[1]},d.default.createElement("div",null)),d.default.createElement(ke,{boxMoveParams:lr[2],boxScaleParams:Vn[2]},d.default.createElement("div",null)),d.default.createElement(it,{boxMoveParams:lr[3],boxScaleParams:Vn[3]},d.default.createElement("div",null)),d.default.createElement(Ct,{boxMoveParams:lr[4],boxScaleParams:Vn[4]},d.default.createElement("div",null)),d.default.createElement(Gt,{boxMoveParams:lr[5],boxScaleParams:Vn[5]},d.default.createElement("div",null)),d.default.createElement(be,{boxMoveParams:lr[6],boxScaleParams:Vn[6]},d.default.createElement("div",null)),d.default.createElement(It,{boxMoveParams:lr[0],boxScaleParams:Vn[0]},d.default.createElement("div",null)),d.default.createElement(Ge,null,d.default.createElement(at,null)))};r.default=vt},function(O,r,n){function a(Y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(Y)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c,d=function(Y){if(Y&&Y.__esModule)return Y;if(Y===null||a(Y)!=="object"&&typeof Y!="function")return{default:Y};var Z=E();if(Z&&Z.has(Y))return Z.get(Y);var W={},ne=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var le in Y)if(Object.prototype.hasOwnProperty.call(Y,le)){var ce=ne?Object.getOwnPropertyDescriptor(Y,le):null;ce&&(ce.get||ce.set)?Object.defineProperty(W,le,ce):W[le]=Y[le]}return W.default=Y,Z&&Z.set(Y,W),W}(n(0)),f=(c=n(1))&&c.__esModule?c:{default:c},m=n(7),b=n(36),_=n(2);function E(){if(typeof WeakMap!="function")return null;var Y=new WeakMap;return E=function(){return Y},Y}function C(){var Y=function(Z,W){return W||(W=Z.slice(0)),Object.freeze(Object.defineProperties(Z,{raw:{value:Object.freeze(W)}}))}([`
  width: `,`px;
  heigt: `,`px;
`]);return C=function(){return Y},Y}var k=f.default.div(C(),function(Y){return Y.sizeDiv},function(Y){return Y.sizeDiv});function V(Y){return Y*(Math.PI/180)}var q=function(Y){var Z=Y.className,W=Z===void 0?"squircleloader":Z,ne=Y.color,le=ne===void 0?"#EF4444":ne,ce=Y.backfaceColor,Te=ce===void 0?"#4F46E5":ce,we=Y.alternateColor,Fe=we===void 0?"#10B981":we,R=Y.size,nt=R===void 0?"64px":R,dt=Y.desktopSize,wt=dt===void 0?"":dt,Ze=Y.mobileSize,rt=Ze===void 0?"":Ze,ot=(0,_.useMediaQuery)({query:"(min-width: 1224px)"}),xt=(0,_.useMediaQuery)({query:"(max-width: 1224px)"}),We=0;ot&&(We=wt!==""?parseFloat(wt):2*parseFloat(nt)),xt&&(We=parseFloat(rt!==""?rt:nt));var at=200*parseFloat(We)/64;return(0,d.useEffect)(function(){var Ge=function(ke,it,Ct){var Gt,be=m.gsap.parseEase(ke),It=m.gsap.parseEase(it);return Ct=typeof(Gt=Ct)=="function"?Gt:m.gsap.parseEase("power4.inOut"),function(vt){var Re=Ct(vt);return be(vt)*(1-Re)+It(vt)*Re}}("expo.in","circ"),te=document.querySelector(".zdog-svg-squircle-loader"),lt=new b.Anchor({translate:{x:400,y:300},scale:2}),Ee=new b.Cylinder({addTo:lt,diameter:200,length:200,stroke:!1,color:le,backface:Te});m.gsap.timeline({repeat:-1,onUpdate:function(){lt.updateGraph(),lt.renderGraphSvg(te)}}).to(Ee.rotate,{y:"+=".concat(V(90)),ease:Ge},"+=0.5").to(Ee.rotate,{y:"+=".concat(V(90)),ease:Ge},"+=0.5").call(function(){m.gsap.to(Ee,{color:Ee.color===le?Te:Ee.color===Te?Fe:le})}),console.log(Ee)}),d.default.createElement(k,{className:W,sizeDiv:at},d.default.createElement("svg",{className:"zdog-svg-squircle-loader",viewBox:"0 0 800 600"}))};r.default=q},function(O,r,n){var a,c,d,f,m,b,_,E,C,k,V,q,Y,Z,W,ne,le,ce,Te,we,Fe,R;f=this,O.exports?O.exports=(m=n(3),b=n(15),_=n(16),E=n(6),C=n(4),k=n(17),V=n(37),q=n(8),Y=n(5),Z=n(18),W=n(19),ne=n(38),le=n(9),ce=n(39),Te=n(40),we=n(41),Fe=n(42),R=n(43),m.CanvasRenderer=b,m.SvgRenderer=_,m.Vector=E,m.Anchor=C,m.Dragger=k,m.Illustration=V,m.PathCommand=q,m.Shape=Y,m.Group=Z,m.Rect=W,m.RoundedRect=ne,m.Ellipse=le,m.Polygon=ce,m.Hemisphere=Te,m.Cylinder=we,m.Cone=Fe,m.Box=R,m):(c=[],a=f.Zdog,(d=typeof a=="function"?a.apply(r,c):a)===void 0||(O.exports=d))},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(3),n(4),n(17));else{var d=a.Zdog;d.Illustration=c(d,d.Anchor,d.Dragger)}})(this,function(a,c,d){function f(){}var m=a.TAU,b=c.subclass({element:void 0,centered:!0,zoom:1,dragRotate:!1,resize:!1,onPrerender:f,onDragStart:f,onDragMove:f,onDragEnd:f,onResize:f});return a.extend(b.prototype,d.prototype),b.prototype.create=function(_){c.prototype.create.call(this,_),d.prototype.create.call(this,_),this.setElement(this.element),this.setDragRotate(this.dragRotate),this.setResize(this.resize)},b.prototype.setElement=function(_){if(!(_=this.getQueryElement(_)))throw new Error("Zdog.Illustration element required. Set to "+_);var E=_.nodeName.toLowerCase();E=="canvas"?this.setCanvas(_):E=="svg"&&this.setSvg(_)},b.prototype.setSize=function(_,E){_=Math.round(_),E=Math.round(E),this.isCanvas?this.setSizeCanvas(_,E):this.isSvg&&this.setSizeSvg(_,E)},b.prototype.setResize=function(_){this.resize=_,this.resizeListener||(this.resizeListener=this.onWindowResize.bind(this)),_?(window.addEventListener("resize",this.resizeListener),this.onWindowResize()):window.removeEventListener("resize",this.resizeListener)},b.prototype.onWindowResize=function(){this.setMeasuredSize(),this.onResize(this.width,this.height)},b.prototype.setMeasuredSize=function(){var _,E;if(this.resize=="fullscreen")_=window.innerWidth,E=window.innerHeight;else{var C=this.element.getBoundingClientRect();_=C.width,E=C.height}this.setSize(_,E)},b.prototype.renderGraph=function(_){this.isCanvas?this.renderGraphCanvas(_):this.isSvg&&this.renderGraphSvg(_)},b.prototype.updateRenderGraph=function(_){this.updateGraph(),this.renderGraph(_)},b.prototype.setCanvas=function(_){this.element=_,this.isCanvas=!0,this.ctx=this.element.getContext("2d"),this.setSizeCanvas(_.width,_.height)},b.prototype.setSizeCanvas=function(_,E){this.width=_,this.height=E;var C=this.pixelRatio=window.devicePixelRatio||1;this.element.width=this.canvasWidth=_*C,this.element.height=this.canvasHeight=E*C,C>1&&!this.resize&&(this.element.style.width=_+"px",this.element.style.height=E+"px")},b.prototype.renderGraphCanvas=function(_){_=_||this,this.prerenderCanvas(),c.prototype.renderGraphCanvas.call(_,this.ctx),this.postrenderCanvas()},b.prototype.prerenderCanvas=function(){var _=this.ctx;if(_.lineCap="round",_.lineJoin="round",_.clearRect(0,0,this.canvasWidth,this.canvasHeight),_.save(),this.centered){var E=this.width/2*this.pixelRatio,C=this.height/2*this.pixelRatio;_.translate(E,C)}var k=this.pixelRatio*this.zoom;_.scale(k,k),this.onPrerender(_)},b.prototype.postrenderCanvas=function(){this.ctx.restore()},b.prototype.setSvg=function(_){this.element=_,this.isSvg=!0,this.pixelRatio=1;var E=_.getAttribute("width"),C=_.getAttribute("height");this.setSizeSvg(E,C)},b.prototype.setSizeSvg=function(_,E){this.width=_,this.height=E;var C=_/this.zoom,k=E/this.zoom,V=this.centered?-C/2:0,q=this.centered?-k/2:0;this.element.setAttribute("viewBox",V+" "+q+" "+C+" "+k),this.resize?(this.element.removeAttribute("width"),this.element.removeAttribute("height")):(this.element.setAttribute("width",_),this.element.setAttribute("height",E))},b.prototype.renderGraphSvg=function(_){_=_||this,function(E){for(;E.firstChild;)E.removeChild(E.firstChild)}(this.element),this.onPrerender(this.element),c.prototype.renderGraphSvg.call(_,this.element)},b.prototype.setDragRotate=function(_){_&&(_===!0&&(_=this),this.dragRotate=_,this.bindDrag(this.element))},b.prototype.dragStart=function(){this.dragStartRX=this.dragRotate.rotate.x,this.dragStartRY=this.dragRotate.rotate.y,d.prototype.dragStart.apply(this,arguments)},b.prototype.dragMove=function(_,E){var C=E.pageX-this.dragStartX,k=E.pageY-this.dragStartY,V=Math.min(this.width,this.height),q=C/V*m,Y=k/V*m;this.dragRotate.rotate.x=this.dragStartRX-Y,this.dragRotate.rotate.y=this.dragStartRY-q,d.prototype.dragMove.apply(this,arguments)},b})},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(5));else{var d=a.Zdog;d.RoundedRect=c(d.Shape)}})(this,function(a){var c=a.subclass({width:1,height:1,cornerRadius:.25,closed:!1});return c.prototype.setPath=function(){var d=this.width/2,f=this.height/2,m=Math.min(d,f),b=Math.min(this.cornerRadius,m),_=d-b,E=f-b,C=[{x:_,y:-f},{arc:[{x:d,y:-f},{x:d,y:-E}]}];E&&C.push({x:d,y:E}),C.push({arc:[{x:d,y:f},{x:_,y:f}]}),_&&C.push({x:-_,y:f}),C.push({arc:[{x:-d,y:f},{x:-d,y:E}]}),E&&C.push({x:-d,y:-E}),C.push({arc:[{x:-d,y:-f},{x:-_,y:-f}]}),_&&C.push({x:_,y:-f}),this.path=C},c})},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(3),n(5));else{var d=a.Zdog;d.Polygon=c(d,d.Shape)}})(this,function(a,c){var d=c.subclass({sides:3,radius:.5}),f=a.TAU;return d.prototype.setPath=function(){this.path=[];for(var m=0;m<this.sides;m++){var b=m/this.sides*f-f/4,_=Math.cos(b)*this.radius,E=Math.sin(b)*this.radius;this.path.push({x:_,y:E})}},d})},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(3),n(6),n(4),n(9));else{var d=a.Zdog;d.Hemisphere=c(d,d.Vector,d.Anchor,d.Ellipse)}})(this,function(a,c,d,f){var m=f.subclass({fill:!0}),b=a.TAU;return m.prototype.create=function(){f.prototype.create.apply(this,arguments),this.apex=new d({addTo:this,translate:{z:this.diameter/2}}),this.renderCentroid=new c},m.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,3/8),this.sortValue=this.renderCentroid.z},m.prototype.render=function(_,E){this.renderDome(_,E),f.prototype.render.apply(this,arguments)},m.prototype.renderDome=function(_,E){if(this.visible){var C=this.getDomeRenderElement(_,E),k=Math.atan2(this.renderNormal.y,this.renderNormal.x),V=this.diameter/2*this.renderNormal.magnitude(),q=this.renderOrigin.x,Y=this.renderOrigin.y;if(E.isCanvas){var Z=k+b/4,W=k-b/4;_.beginPath(),_.arc(q,Y,V,Z,W)}else E.isSvg&&(k=(k-b/4)/b*360,this.domeSvgElement.setAttribute("d","M "+-V+",0 A "+V+","+V+" 0 0 1 "+V+",0"),this.domeSvgElement.setAttribute("transform","translate("+q+","+Y+" ) rotate("+k+")"));E.stroke(_,C,this.stroke,this.color,this.getLineWidth()),E.fill(_,C,this.fill,this.color),E.end(_,C)}},m.prototype.getDomeRenderElement=function(_,E){if(E.isSvg)return this.domeSvgElement||(this.domeSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.domeSvgElement.setAttribute("stroke-linecap","round"),this.domeSvgElement.setAttribute("stroke-linejoin","round")),this.domeSvgElement},m})},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(3),n(8),n(5),n(18),n(9));else{var d=a.Zdog;d.Cylinder=c(d,d.PathCommand,d.Shape,d.Group,d.Ellipse)}})(this,function(a,c,d,f,m){function b(){}var _=f.subclass({color:"#333",updateSort:!0});_.prototype.create=function(){f.prototype.create.apply(this,arguments),this.pathCommands=[new c("move",[{}]),new c("line",[{}])]},_.prototype.render=function(k,V){this.renderCylinderSurface(k,V),f.prototype.render.apply(this,arguments)},_.prototype.renderCylinderSurface=function(k,V){if(this.visible){var q=this.getRenderElement(k,V),Y=this.frontBase,Z=this.rearBase,W=Y.renderNormal.magnitude(),ne=Y.diameter*W+Y.getLineWidth();this.pathCommands[0].renderPoints[0].set(Y.renderOrigin),this.pathCommands[1].renderPoints[0].set(Z.renderOrigin),V.isCanvas&&(k.lineCap="butt"),V.renderPath(k,q,this.pathCommands),V.stroke(k,q,!0,this.color,ne),V.end(k,q),V.isCanvas&&(k.lineCap="round")}},_.prototype.getRenderElement=function(k,V){if(V.isSvg)return this.svgElement||(this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","path")),this.svgElement},_.prototype.copyGraph=b,m.subclass().prototype.copyGraph=b;var E=d.subclass({diameter:1,length:1,frontFace:void 0,fill:!0}),C=a.TAU;return E.prototype.create=function(){d.prototype.create.apply(this,arguments),this.group=new _({addTo:this,color:this.color,visible:this.visible});var k=this.length/2,V=this.backface||!0;this.frontBase=this.group.frontBase=new m({addTo:this.group,diameter:this.diameter,translate:{z:k},rotate:{y:C/2},color:this.color,stroke:this.stroke,fill:this.fill,backface:this.frontFace||V,visible:this.visible}),this.rearBase=this.group.rearBase=this.frontBase.copy({translate:{z:-k},rotate:{y:0},backface:V})},E.prototype.render=function(){},["stroke","fill","color","visible"].forEach(function(k){var V="_"+k;Object.defineProperty(E.prototype,k,{get:function(){return this[V]},set:function(q){this[V]=q,this.frontBase&&(this.frontBase[k]=q,this.rearBase[k]=q,this.group[k]=q)}})}),E})},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(3),n(6),n(8),n(4),n(9));else{var d=a.Zdog;d.Cone=c(d,d.Vector,d.PathCommand,d.Anchor,d.Ellipse)}})(this,function(a,c,d,f,m){var b=m.subclass({length:1,fill:!0}),_=a.TAU;return b.prototype.create=function(){m.prototype.create.apply(this,arguments),this.apex=new f({addTo:this,translate:{z:this.length}}),this.renderApex=new c,this.renderCentroid=new c,this.tangentA=new c,this.tangentB=new c,this.surfacePathCommands=[new d("move",[{}]),new d("line",[{}]),new d("line",[{}])]},b.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,1/3),this.sortValue=this.renderCentroid.z},b.prototype.render=function(E,C){this.renderConeSurface(E,C),m.prototype.render.apply(this,arguments)},b.prototype.renderConeSurface=function(E,C){if(this.visible){this.renderApex.set(this.apex.renderOrigin).subtract(this.renderOrigin);var k=this.renderNormal.magnitude(),V=this.renderApex.magnitude2d(),q=this.renderNormal.magnitude2d(),Y=Math.acos(q/k),Z=Math.sin(Y),W=this.diameter/2*k;if(W*Z<V){var ne=Math.atan2(this.renderNormal.y,this.renderNormal.x)+_/2,le=V/Z,ce=Math.acos(W/le),Te=this.tangentA,we=this.tangentB;Te.x=Math.cos(ce)*W*Z,Te.y=Math.sin(ce)*W,we.set(this.tangentA),we.y*=-1,Te.rotateZ(ne),we.rotateZ(ne),Te.add(this.renderOrigin),we.add(this.renderOrigin),this.setSurfaceRenderPoint(0,Te),this.setSurfaceRenderPoint(1,this.apex.renderOrigin),this.setSurfaceRenderPoint(2,we);var Fe=this.getSurfaceRenderElement(E,C);C.renderPath(E,Fe,this.surfacePathCommands),C.stroke(E,Fe,this.stroke,this.color,this.getLineWidth()),C.fill(E,Fe,this.fill,this.color),C.end(E,Fe)}}},b.prototype.getSurfaceRenderElement=function(E,C){if(C.isSvg)return this.surfaceSvgElement||(this.surfaceSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.surfaceSvgElement.setAttribute("stroke-linecap","round"),this.surfaceSvgElement.setAttribute("stroke-linejoin","round")),this.surfaceSvgElement},b.prototype.setSurfaceRenderPoint=function(E,C){this.surfacePathCommands[E].renderPoints[0].set(C)},b})},function(O,r,n){(function(a,c){if(O.exports)O.exports=c(n(3),n(4),n(5),n(19));else{var d=a.Zdog;d.Box=c(d,d.Anchor,d.Shape,d.Rect)}})(this,function(a,c,d,f){var m=f.subclass();m.prototype.copyGraph=function(){};var b=a.TAU,_=["frontFace","rearFace","leftFace","rightFace","topFace","bottomFace"],E=a.extend({},d.defaults);delete E.path,_.forEach(function(k){E[k]=!0}),a.extend(E,{width:1,height:1,depth:1,fill:!0});var C=c.subclass(E);return C.prototype.create=function(k){c.prototype.create.call(this,k),this.updatePath(),this.fill=this.fill},C.prototype.updatePath=function(){_.forEach(function(k){this[k]=this[k]},this)},_.forEach(function(k){var V="_"+k;Object.defineProperty(C.prototype,k,{get:function(){return this[V]},set:function(q){this[V]=q,this.setFace(k,q)}})}),C.prototype.setFace=function(k,V){var q=k+"Rect",Y=this[q];if(V){var Z=this.getFaceOptions(k);Z.color=typeof V=="string"?V:this.color,Y?Y.setOptions(Z):Y=this[q]=new m(Z),Y.updatePath(),this.addChild(Y)}else this.removeChild(Y)},C.prototype.getFaceOptions=function(k){return{frontFace:{width:this.width,height:this.height,translate:{z:this.depth/2}},rearFace:{width:this.width,height:this.height,translate:{z:-this.depth/2},rotate:{y:b/2}},leftFace:{width:this.depth,height:this.height,translate:{x:-this.width/2},rotate:{y:-b/4}},rightFace:{width:this.depth,height:this.height,translate:{x:this.width/2},rotate:{y:b/4}},topFace:{width:this.width,height:this.depth,translate:{y:-this.height/2},rotate:{x:-b/4}},bottomFace:{width:this.width,height:this.depth,translate:{y:this.height/2},rotate:{x:b/4}}}[k]},["color","stroke","fill","backface","front","visible"].forEach(function(k){var V="_"+k;Object.defineProperty(C.prototype,k,{get:function(){return this[V]},set:function(q){this[V]=q,_.forEach(function(Y){var Z=this[Y+"Rect"],W=typeof this[Y]=="string";Z&&!(k=="color"&&W)&&(Z[k]=q)},this)}})}),C})},function(O,r,n){function a(Z){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(Z)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c,d=function(Z){if(Z&&Z.__esModule)return Z;if(Z===null||a(Z)!=="object"&&typeof Z!="function")return{default:Z};var W=_();if(W&&W.has(Z))return W.get(Z);var ne={},le=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ce in Z)if(Object.prototype.hasOwnProperty.call(Z,ce)){var Te=le?Object.getOwnPropertyDescriptor(Z,ce):null;Te&&(Te.get||Te.set)?Object.defineProperty(ne,ce,Te):ne[ce]=Z[ce]}return ne.default=Z,W&&W.set(Z,ne),ne}(n(0)),f=n(2),m=(c=n(1))&&c.__esModule?c:{default:c},b=n(7);function _(){if(typeof WeakMap!="function")return null;var Z=new WeakMap;return _=function(){return Z},Z}function E(){var Z=k([`
  width: 100%;
  height: 100%;
  visibility: hidden;
`]);return E=function(){return Z},Z}function C(){var Z=k([`
  width: `,`px;
  height: `,`px;
  background: `,`;
`]);return C=function(){return Z},Z}function k(Z,W){return W||(W=Z.slice(0)),Object.freeze(Object.defineProperties(Z,{raw:{value:Object.freeze(W)}}))}var V=m.default.div(C(),function(Z){return Z.sizeSVG},function(Z){return Z.sizeSVG},function(Z){return Z.background}),q=m.default.svg(E()),Y=function(Z){var W=Z.className,ne=W===void 0?"sunspotloader":W,le=Z.background,ce=le===void 0?"transparent":le,Te=Z.gradientColors,we=Te===void 0?["#FF4F59","#FFFC31"]:Te,Fe=Z.shadowColor,R=Fe===void 0?"#5B1E00":Fe,nt=Z.shadowOpacity,dt=nt===void 0?"0.05":nt,wt=Z.size,Ze=wt===void 0?"64px":wt,rt=Z.desktopSize,ot=rt===void 0?"":rt,xt=Z.mobileSize,We=xt===void 0?"":xt,at=[];if(we.constructor===String&&(we===""&&(we="#FF4F59"),at.push(we)),we.constructor===Array){var Ge=we.length;Ge===0&&(we.push("#FF4F59"),Ge=we.length);for(var te=0;te<2;te+=1)te<Ge?at.push(we[te]):at.push(we[Ge-1])}var lt=(0,f.useMediaQuery)({query:"(min-width: 1224px)"}),Ee=(0,f.useMediaQuery)({query:"(max-width: 1224px)"}),ke=0;lt&&(ke=ot!==""?parseFloat(ot):2*parseFloat(Ze)),Ee&&(ke=parseFloat(We!==""?We:Ze));var it=150*parseFloat(ke)/64;return(0,d.useEffect)(function(){var Ct=function(Rn){return document.querySelector(Rn)},Gt=(Ct("#mainSVG"),Ct("#container")),be=Ct(".seg"),It=[];b.gsap.set("svg",{visibility:"visible"}),It.push(be);for(var vt=1;vt<16;vt++){var Re=be.cloneNode(!0);Gt.appendChild(Re),b.gsap.set(Re,{rotation:15*vt,svgOrigin:"400 300"}),It.push(Re)}var nn=b.gsap.timeline({});It.forEach(function(Rn,xr){var pn=b.gsap.timeline();pn.to(Rn,{rotation:"-=120",svgOrigin:"400 300",repeat:-1,repeatRefresh:!0,ease:"sine.inOut",repeatDelay:3.5}),nn.add(pn,.25*xr)}),b.gsap.to(Gt,{duration:1,rotation:360,svgOrigin:"400 300",ease:"linear",repeat:-1},0),b.gsap.globalTimeline.timeScale(.5)},[]),d.default.createElement(V,{sizeSVG:it,background:ce,className:ne},d.default.createElement(q,{id:"mainSVG",xmlns:"http://www.w3.org/2000/svg",viewBox:"335 235 150 150"},d.default.createElement("defs",null,d.default.createElement("g",{id:"container",filter:"url(#goo)"},d.default.createElement("path",{className:"seg",d:"M412.9,251.7c-4.1-1.1-8.5-1.7-12.9-1.7"})),d.default.createElement("filter",{id:"goo",colorInterpolationFilters:"sRGB",filterUnits:"objectBoundingBox",x:"-100%",y:"-100%",width:"250%",height:"250%"},d.default.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),d.default.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 21 -9",result:"cm"}),d.default.createElement("feBlend",null)),d.default.createElement("radialGradient",{id:"grad",cx:"400.5176",cy:"298.0287",r:"125.9247",gradientUnits:"userSpaceOnUse"},d.default.createElement("stop",{offset:"0.39",style:{stopColor:at[0]}}),d.default.createElement("stop",{offset:"0.45",style:{stopColor:at[1]}}))),d.default.createElement("g",{id:"wrapper"},d.default.createElement("use",{x:"20",y:"20",xlinkHref:"#container",fill:"none",strokeWidth:"20",strokeMiterlimit:"10",strokeLinejoin:"round",strokeLinecap:"round",stroke:R,opacity:dt}),d.default.createElement("use",{xlinkHref:"#container",fill:"none",strokeWidth:"20",strokeMiterlimit:"10",strokeLinejoin:"round",strokeLinecap:"round",stroke:"url(#grad)"}))))};r.default=Y},function(O,r,n){function a(ne){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le})(ne)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=C(n(0)),d=C(n(10)),f=_(n(14)),m=_(n(1)),b=n(2);function _(ne){return ne&&ne.__esModule?ne:{default:ne}}function E(){if(typeof WeakMap!="function")return null;var ne=new WeakMap;return E=function(){return ne},ne}function C(ne){if(ne&&ne.__esModule)return ne;if(ne===null||a(ne)!=="object"&&typeof ne!="function")return{default:ne};var le=E();if(le&&le.has(ne))return le.get(ne);var ce={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var we in ne)if(Object.prototype.hasOwnProperty.call(ne,we)){var Fe=Te?Object.getOwnPropertyDescriptor(ne,we):null;Fe&&(Fe.get||Fe.set)?Object.defineProperty(ce,we,Fe):ce[we]=ne[we]}return ce.default=ne,le&&le.set(ne,ce),ce}function k(){var ne=q([`
  width: `,`px;
  height: `,`px;
`]);return k=function(){return ne},ne}function V(){var ne=q([`
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
`]);return V=function(){return ne},ne}function q(ne,le){return le||(le=ne.slice(0)),Object.freeze(Object.defineProperties(ne,{raw:{value:Object.freeze(le)}}))}var Y=m.default.div(V()),Z=m.default.canvas(k(),function(ne){return ne.sizeCanvas},function(ne){return ne.sizeCanvas}),W=function(ne){var le=ne.className,ce=le===void 0?"threedloader":le,Te=ne.colorRing1,we=Te===void 0?"#4F46E5":Te,Fe=ne.colorRing2,R=Fe===void 0?"#4F46E5":Fe,nt=ne.colorLight,dt=nt===void 0?"#FFFFFF":nt,wt=ne.colorAmbientLight,Ze=wt===void 0?"#cdd9ed":wt,rt=ne.size,ot=rt===void 0?"64px":rt,xt=ne.desktopSize,We=xt===void 0?"":xt,at=ne.mobileSize,Ge=at===void 0?"":at,te=(0,b.useMediaQuery)({query:"(min-width: 1224px)"}),lt=(0,b.useMediaQuery)({query:"(max-width: 1224px)"}),Ee=0;te&&(Ee=We!==""?parseFloat(We):2*parseFloat(ot)),lt&&(Ee=parseFloat(Ge!==""?Ge:ot));var ke=240*parseFloat(Ee)/64;return(0,c.useEffect)(function(){(0,f.default)(document).ready(function(){var it=(0,f.default)(".threed-loader-canvas"),Ct=it[0],Gt=new d.WebGLRenderer({canvas:Ct,context:Ct.getContext("webgl2"),antialias:!0,alpha:!0});Gt.setSize(it.width(),it.height()),Gt.setPixelRatio(window.devicePixelRatio||1),Gt.shadowMap.enabled=!0;var be=new d.Scene,It=new d.PerspectiveCamera(45,it.width()/it.height(),.1,1e3);It.position.z=500;var vt=new d.MeshPhongMaterial({color:we,shininess:20}),Re=new d.MeshPhongMaterial({color:R,shininess:20}),nn=new d.TorusGeometry(60,20,60,180),Rn=new d.Mesh(nn,vt),xr=new d.Mesh(nn,Re);Rn.castShadow=!0,Rn.receiveShadow=!0,xr.castShadow=!0,xr.receiveShadow=!0,be.add(Rn),xr.position.set(60,0,0);var pn=new d.Object3D;pn.castShadow=!0,pn.receiveShadow=!0,pn.add(xr),be.add(pn),pn.rotation.y-=Math.PI/2,Rn.rotation.x-=Math.PI/2;var xn=new d.PointLight(dt,.25);xn.position.set(0,300,300),xn.castShadow=!0,be.add(xn);var yn=new d.PointLight(dt,.4);yn.position.set(0,0,400),yn.castShadow=!0,be.add(yn);var Jt=new d.PointLight(dt,.1);Jt.position.set(0,-300,0),Jt.castShadow=!0,be.add(Jt),be.add(new d.AmbientLight(Ze)),function $e(){requestAnimationFrame($e),Rn.rotation.x-=.024,pn.rotation.x-=.024,pn.rotation.y+=.024,Gt.render(be,It)}()})}),c.default.createElement(Y,{className:ce},c.default.createElement(Z,{sizeCanvas:ke,className:"threed-loader-canvas"}))};r.default=W},function(O,r,n){function a($e){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Jn){return typeof Jn}:function(Jn){return Jn&&typeof Symbol=="function"&&Jn.constructor===Symbol&&Jn!==Symbol.prototype?"symbol":typeof Jn})($e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c,d=(c=n(0))&&c.__esModule?c:{default:c},f=function($e){if($e&&$e.__esModule)return $e;if($e===null||a($e)!=="object"&&typeof $e!="function")return{default:$e};var Jn=b();if(Jn&&Jn.has($e))return Jn.get($e);var ar={},lr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Vn in $e)if(Object.prototype.hasOwnProperty.call($e,Vn)){var ur=lr?Object.getOwnPropertyDescriptor($e,Vn):null;ur&&(ur.get||ur.set)?Object.defineProperty(ar,Vn,ur):ar[Vn]=$e[Vn]}return ar.default=$e,Jn&&Jn.set($e,ar),ar}(n(1)),m=n(2);function b(){if(typeof WeakMap!="function")return null;var $e=new WeakMap;return b=function(){return $e},$e}function _(){var $e=ot([`
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: 500;
  font-size: `,`px;
  letter-spacing: 0.2px;
  margin-top: `,`px;
  ::before {
    content: attr(data-text);
    color: `,`;
  }
  ::after {
    content: attr(data-text);
    color: `,`;
    animation: `,` 3.6s ease infinite;
    position: absolute;
  }
`]);return _=function(){return $e},$e}function E(){var $e=ot([`
  animation: `,` 1.8s ease infinite 0.05s;
  stroke: `,`;
`]);return E=function(){return $e},$e}function C(){var $e=ot([`
  animation: `,` 1.8s ease infinite 0.2s;
  stroke: `,`;
`]);return C=function(){return $e},$e}function k(){var $e=ot([`
  stroke-dasharray: 22 66;
`]);return k=function(){return $e},$e}function V(){var $e=ot([`
  animation: `,` 1.8s ease infinite 0.1s;
  stroke: `,`;
`]);return V=function(){return $e},$e}function q(){var $e=ot([`
  animation: `,` 1.8s ease infinite 0.25s;
  stroke: `,`;
`]);return q=function(){return $e},$e}function Y(){var $e=ot([`
  stroke-dasharray: 42.5 127.5;
`]);return Y=function(){return $e},$e}function Z(){var $e=ot([`
  animation: `,` 1.8s ease infinite 0.15s;
  stroke: `,`;
`]);return Z=function(){return $e},$e}function W(){var $e=ot([`
  animation: `,` 1.8s ease infinite 0.3s;
  stroke: `,`;
`]);return W=function(){return $e},$e}function ne(){var $e=ot([`
  stroke-dasharray: 62.75 188.25;
`]);return ne=function(){return $e},$e}function le(){var $e=ot([`
  position: absolute;
  fill: none;
  stroke-width: 6px;
  stroke-linecap: round;
  stroke-linejoin: round;
  transform: rotate(-100deg);
  transform-origin: center;
`]);return le=function(){return $e},$e}function ce(){var $e=ot([`
  height: `,`px;
  width: `,`px;
`]);return ce=function(){return $e},$e}function Te(){var $e=ot([`
  height: `,`px;
  width: `,`px;
`]);return Te=function(){return $e},$e}function we(){var $e=ot([`
  height: `,`px;
  width: `,`px;
`]);return we=function(){return $e},$e}function Fe(){var $e=ot([`
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
`]);return Fe=function(){return $e},$e}function R(){var $e=ot([`
  background: `,`;
  width: `,`px;
  height: `,`px;
  border-radius: 50px;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
`]);return R=function(){return $e},$e}function nt(){var $e=ot([`
  background: `,`;
  font: 400 16px "Varela Round", sans-serif;
  display: flex;
  flex-direction: column;
  padding: `,`px;
`]);return nt=function(){return $e},$e}function dt(){var $e=ot([`
0% {
    clip-path: inset(0 100% 0 0);
}
50% {
    clip-path: inset(0);
}
100% {
    clip-path: inset(0 0 0 100%);
}
`]);return dt=function(){return $e},$e}function wt(){var $e=ot([`
0% {
    stroke-dashoffset: 9;
}
25% {
    stroke-dashoffset: 0;
}
65% {
    stroke-dashoffset: 106;
}
80% {
    stroke-dashoffset: 97;
}
100% {
    stroke-dashoffset: 97;
}
`]);return wt=function(){return $e},$e}function Ze(){var $e=ot([`
0% {
    stroke-dashoffset: 17;
}
25% {
    stroke-dashoffset: 0;
}
65% {
    stroke-dashoffset: 204;
}
80% {
    stroke-dashoffset: 187;
}
100% {
    stroke-dashoffset: 187;
}
`]);return Ze=function(){return $e},$e}function rt(){var $e=ot([`
    0% {
        stroke-dashoffset: 25;
    }
    25% {
        stroke-dashoffset: 0;
    }
    65% {
        stroke-dashoffset: 301;
    }
    80% {
        stroke-dashoffset: 276;
    }
    100% {
        stroke-dashoffset: 276;
    }
`]);return rt=function(){return $e},$e}function ot($e,Jn){return Jn||(Jn=$e.slice(0)),Object.freeze(Object.defineProperties($e,{raw:{value:Object.freeze(Jn)}}))}var xt=(0,f.keyframes)(rt()),We=(0,f.keyframes)(Ze()),at=(0,f.keyframes)(wt()),Ge=(0,f.keyframes)(dt()),te=f.default.div(nt(),function($e){return $e.background},function($e){return $e.paddingPassed}),lt=f.default.div(R(),function($e){return $e.background},function($e){return $e.passedSize},function($e){return $e.passedSize}),Ee=f.default.svg(Fe()),ke=(0,f.default)(Ee)(we(),function($e){return $e.passedSize},function($e){return $e.passedSize}),it=(0,f.default)(Ee)(Te(),function($e){return $e.passedSize},function($e){return $e.passedSize}),Ct=(0,f.default)(Ee)(ce(),function($e){return $e.passedSize},function($e){return $e.passedSize}),Gt=f.default.circle(le()),be=(0,f.default)(Gt)(ne()),It=(0,f.default)(be)(W(),xt,function($e){return $e.backColor}),vt=(0,f.default)(be)(Z(),xt,function($e){return $e.frontColor}),Re=(0,f.default)(Gt)(Y()),nn=(0,f.default)(Re)(q(),We,function($e){return $e.backColor}),Rn=(0,f.default)(Re)(V(),We,function($e){return $e.frontColor}),xr=(0,f.default)(Gt)(k()),pn=(0,f.default)(xr)(C(),at,function($e){return $e.backColor}),xn=(0,f.default)(xr)(E(),at,function($e){return $e.frontColor}),yn=f.default.div(_(),function($e){return $e.passedSize},function($e){return $e.passedMargin},function($e){return $e.textColor},function($e){return $e.frontColor},Ge),Jt=function($e){var Jn=$e.className,ar=Jn===void 0?"wifiloader":Jn,lr=$e.text,Vn=lr===void 0?"Loading...":lr,ur=$e.background,wr=ur===void 0?"transparent":ur,_r=$e.frontColor,Wn=_r===void 0?"#4F29F0":_r,Fr=$e.backColor,di=Fr===void 0?"#C3C8DE":Fr,Or=$e.textColor,vi=Or===void 0?"#414856":Or,Nr=$e.size,Ln=Nr===void 0?"64px":Nr,er=$e.desktopSize,Ir=er===void 0?"":er,yi=$e.mobileSize,$i=yi===void 0?"":yi,Yi=(0,m.useMediaQuery)({query:"(min-width: 1224px)"}),br=(0,m.useMediaQuery)({query:"(max-width: 1224px)"}),ii=0;Yi&&(ii=Ir!==""?parseFloat(Ir):2*parseFloat(Ln)),br&&(ii=parseFloat($i!==""?$i:Ln));var Mi=parseFloat(ii),Hs=Mi/64,ji=20*Mi/64,ir=1.5*Hs*14/2,ia=120*Mi/64,as=86*Mi/64,Hi=60*Mi/64,es=34*Mi/64;return Hs===1&&(ir=14),console.log(as),console.log(Hi),console.log(es),d.default.createElement(te,{background:wr,paddingPassed:ji,className:ar},d.default.createElement(lt,{id:"wifi-loader",background:wr,passedSize:Mi},d.default.createElement(ke,{className:"circle-outer",passedSize:as,viewBox:"0 0 86 86"},d.default.createElement(It,{className:"back",backColor:di,cx:"43",cy:"43",r:"40"}),d.default.createElement(vt,{className:"front",frontColor:Wn,cx:"43",cy:"43",r:"40"})),d.default.createElement(it,{className:"circle-middle",passedSize:Hi,viewBox:"0 0 60 60"},d.default.createElement(nn,{className:"back",backColor:di,cx:"30",cy:"30",r:"27"}),d.default.createElement(Rn,{className:"front",frontColor:Wn,cx:"30",cy:"30",r:"27"})),d.default.createElement(Ct,{className:"circle-inner",passedSize:es,viewBox:"0 0 34 34"},d.default.createElement(pn,{className:"back",backColor:di,cx:"17",cy:"17",r:"14"}),d.default.createElement(xn,{className:"front",frontColor:Wn,cx:"17",cy:"17",r:"14"})),d.default.createElement(yn,{textColor:vi,frontColor:Wn,passedSize:ir,passedMargin:ia,"data-text":Vn})))};r.default=Jt},function(O,r,n){function a(Z){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(Z)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c,d=(c=n(0))&&c.__esModule?c:{default:c},f=function(Z){if(Z&&Z.__esModule)return Z;if(Z===null||a(Z)!=="object"&&typeof Z!="function")return{default:Z};var W=b();if(W&&W.has(Z))return W.get(Z);var ne={},le=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ce in Z)if(Object.prototype.hasOwnProperty.call(Z,ce)){var Te=le?Object.getOwnPropertyDescriptor(Z,ce):null;Te&&(Te.get||Te.set)?Object.defineProperty(ne,ce,Te):ne[ce]=Z[ce]}return ne.default=Z,W&&W.set(Z,ne),ne}(n(1)),m=n(2);function b(){if(typeof WeakMap!="function")return null;var Z=new WeakMap;return b=function(){return Z},Z}function _(){var Z=k([`
  box-sizing: border-box;
  position: absolute;
  display: block;
  border-radius: `,`px;
  border: `,`px solid
    `,`;
  width: `,`px;
  height: `,`px;
  margin-top: `,`px;
  margin-left: `,`px;
  animation: `,` 3s 0s forwards
    cubic-bezier(0.25, 0.1, 0.25, 1) infinite;
`]);return _=function(){return Z},Z}function E(){var Z=k([`
  background: `,`;
  width: `,`px;
  height: `,`px;
  padding: 20px;
`]);return E=function(){return Z},Z}function C(){var Z=k([`
0% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

12.5% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

25% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

37.5% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

50% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

62.5% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

75% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

87.5% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

100% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}
`]);return C=function(){return Z},Z}function k(Z,W){return W||(W=Z.slice(0)),Object.freeze(Object.defineProperties(Z,{raw:{value:Object.freeze(W)}}))}var V=f.default.div(E(),function(Z){return Z.background},function(Z){return Z.sizeContainer},function(Z){return Z.sizeContainer}),q=f.default.div(_(),function(Z){return Z.sizeBorderRadius},function(Z){return Z.sizeBorderThickness},function(Z){return Z.borderColor},function(Z){return Z.boxParams.w},function(Z){return Z.boxParams.h},function(Z){return Z.boxParams.mt},function(Z){return Z.boxParams.ml},function(Z){return W=Z.animParams,(0,f.keyframes)(C(),W.w[0],W.h[0],W.mt[0],W.ml[0],W.w[1],W.h[1],W.mt[1],W.ml[1],W.w[2],W.h[2],W.mt[2],W.ml[2],W.w[3],W.h[3],W.mt[3],W.ml[3],W.w[4],W.h[4],W.mt[4],W.ml[4],W.w[5],W.h[5],W.mt[5],W.ml[5],W.w[6],W.h[6],W.mt[6],W.ml[6],W.w[7],W.h[7],W.mt[7],W.ml[7],W.w[8],W.h[8],W.mt[8],W.ml[8]);var W}),Y=function(Z){var W=Z.className,ne=W===void 0?"xlviloader":W,le=Z.backgound,ce=le===void 0?"transparent":le,Te=Z.boxColors,we=Te===void 0?["#333"]:Te,Fe=Z.size,R=Fe===void 0?"64px":Fe,nt=Z.desktopSize,dt=nt===void 0?"":nt,wt=Z.mobileSize,Ze=wt===void 0?"":wt,rt=[];if(we.constructor===String&&(we===""&&(we="#333"),rt.push(we)),we.constructor===Array){var ot=we.length;ot===0&&(we.push("#333"),ot=we.length);for(var xt=0;xt<3;xt+=1)xt<ot?rt.push(we[xt]):rt.push(we[ot-1])}var We=(0,m.useMediaQuery)({query:"(min-width: 1224px)"}),at=(0,m.useMediaQuery)({query:"(max-width: 1224px)"}),Ge=0;We&&(Ge=dt!==""?parseFloat(dt):2*parseFloat(R)),at&&(Ge=parseFloat(Ze!==""?Ze:R));var te=parseFloat(Ge),lt=112*te/64,Ee=24*te/64,ke=16*te/64,it={w:112*te/64,h:48*te/64,mt:64*te/64,ml:0},Ct={w:48*te/64,h:48*te/64,mt:0,ml:0},Gt={w:48*te/64,h:48*te/64,mt:0,ml:64*te/64},be={w:[112*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64],h:[48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,112*te/64,48*te/64,48*te/64],mt:[64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,0,0,0],ml:[0,0,0,0,0,0,0,0,0]},It={w:[48*te/64,48*te/64,48*te/64,48*te/64,112*te/64,48*te/64,48*te/64,48*te/64,48*te/64],h:[48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64],mt:[0,0,0,0,0,0,0,0,0],ml:[0,0,0,0,0,64*te/64,64*te/64,64*te/64,64*te/64]},vt={w:[48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,112*te/64],h:[48*te/64,48*te/64,112*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64],mt:[0,0,0,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64],ml:[64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,0]};return d.default.createElement(V,{sizeContainer:lt,background:ce,className:ne},d.default.createElement(q,{boxParams:it,sizeBorderRadius:Ee,sizeBorderThickness:ke,borderColor:rt[0],animParams:be,className:"box1"}),d.default.createElement(q,{boxParams:Ct,sizeBorderRadius:Ee,sizeBorderThickness:ke,borderColor:rt[1],animParams:It,className:"box2"}),d.default.createElement(q,{boxParams:Gt,sizeBorderRadius:Ee,sizeBorderThickness:ke,borderColor:rt[2],animParams:vt,className:"box3"}))};r.default=Y}])),zw}var tM=zC();const BC=({onComplete:O})=>{const[r,n]=Iu.useState(""),a="Welcome to my portfolio";return Iu.useEffect(()=>{let c=0;const d=setInterval(()=>{n(a.substring(0,c)),c++,c>a.length&&(clearInterval(d),setTimeout(()=>{O()},800))},75);return()=>clearInterval(d)},[O]),st.jsxs("div",{className:"fixed inset-0 z-40 bg-black text-gray-100 flex flex-col items-center justify-center",children:[st.jsx(tM.BoxesLoader,{boxColor:"#3d5a81",shadowColor:"#85C1E9",style:{marginBottom:"10px"},desktopSize:"80x",mobileSize:"80px"}),st.jsxs("div",{className:"mb-30 text-4xl font-mono font-bold",children:[r,st.jsx("span",{className:"animate-pulse",children:"|"})]})]})},jC=({menuOpen:O,setMenuOpen:r})=>(Iu.useEffect(()=>{document.body.style.overflow=O?"hidden":""},[O]),st.jsx("nav",{className:"fixed top-0 left-0 right-0 w-full z-50 bg-[rgba(10, 10, 10, 0.8)] backdrop-blur-xs border-b border-white/10 shadow-lg m-0 p-0",children:st.jsx("div",{className:"max-w-5xl mx-auto px-4",children:st.jsxs("div",{className:"flex justify-between items-center h-16",children:[st.jsxs("div",{className:"hidden md:flex items-center space-x-4 font-bold mt-18 ",children:[st.jsx("a",{href:"#home",children:st.jsx(tM.BoxesLoader,{boxColor:"#3d5a81",shadowColor:"#85C1E9",size:"12px"})}),st.jsxs("a",{href:"#home",className:"text-2xl md:text-2xl font-bold bg-gradient-to-r from-[#85C1E9] to-[#242C38] bg-clip-text text-transparent mb-20 -ml-12",children:["Tim",st.jsx("span",{className:"text-white-500",children:".tech"})]})]}),st.jsx("div",{className:"w-7 h-5 relative cursor-pointer z-40 md:hidden",onClick:()=>r(n=>!n),children:"☰"}),st.jsxs("div",{className:"hidden md:flex space-x-4 font-bold",children:[st.jsx("a",{href:"#home",className:"text-[#85C1E9] relative hover:text-black transition-all",children:"Home"}),st.jsx("a",{href:"#about",className:"text-[#658FAE] hover:text-black transition-all",children:"About"}),st.jsx("a",{href:"#projects",className:"text-[#445E73] hover:text-black transition-all",children:"Projects"}),st.jsx("a",{href:"#resume",className:"text-[var(--color-secondary)] hover:text-black transition-all",children:"Resume"})]})]})})})),HC=({menuOpen:O,setMenuOpen:r})=>st.jsxs("div",{className:`fixed top-0 left-0 w-full bg-[rgba(10,10,10,0.8)] z-40 flex flex-col items-center justify-center
                     transition-all duration-500 ease-in-out

                     ${O?"h-screen opacity-100 pointer-events-auto":"h-0 opacity-0 pointer-events-none"}
                   `,children:[st.jsx("button",{onClick:()=>r(!1),className:"absolute top-6 right-6 text-white  text-3xl focus:outline-none cursor-pointer","aria-label":"Close Menu",children:"×"}),st.jsx("a",{href:"#home",onClick:()=>r(!1),className:`text-2xl font-semibold text-white my-4 transform transition-transform duration-300
                    ${O?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}        
            `,children:"Home"}),st.jsx("a",{href:"#About",onClick:()=>r(!1),className:`text-2xl font-semibold text-white my-4 transform transition-transform duration-300
            ${O?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}        
    `,children:"About"}),st.jsx("a",{href:"#projects",onClick:()=>r(!1),className:`text-2xl font-semibold text-white my-4 transform transition-transform duration-300
            ${O?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}        
    `,children:"Projects"}),st.jsx("a",{href:"#resume",onClick:()=>r(!1),className:`text-2xl font-semibold text-white my-4 transform transition-transform duration-300
            ${O?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}        
    `,children:"Resume"})]}),z1=({children:O})=>{const r=Iu.useRef(null);return Iu.useEffect(()=>{const n=new IntersectionObserver(([a])=>{a.isIntersecting&&r.current.classList.add("visible")},{threshold:.2,rootMargin:"0px 0px -50px 0px"});return r.current&&n.observe(r.current),()=>n.disconnect()}),st.jsx("div",{ref:r,className:"reveal",children:O})},UC=()=>st.jsx("section",{id:"home",className:"home-section min-h-screen flex items-center justify-center relative",children:st.jsx(z1,{children:st.jsxs("div",{className:"text-center z-10 px-4",children:[st.jsx("h2",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent leading-normal",children:"Hello, I'm Tim Tsenguun"}),st.jsx("p",{className:"text-[var(--color-description)] text-l mb-8 max-w-lg mx-auto text-center backdrop-blur-xs",children:"Hungry-to-learn Data Analytics Engineer with strong analytical skills and last two years of academic experience in predictive analytics. Seeking roles in data engineering or analysis."}),st.jsxs("div",{className:"flex justify-center space-x-4",children:[st.jsx("a",{href:"#projects",className:"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] text-white font-semibold py-2 px-6 rounded-full shadow-md hover:shadow-lg hover:scale-105 transform transition duration-300",children:"View Projects"}),st.jsx("a",{href:"#resume",className:"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] text-white font-semibold py-2 px-6 rounded-full shadow-md hover:shadow-lg hover:scale-105 transform transition duration-300",children:"Resume"})]})]})})}),GC=()=>{const O=["Python","SQL","HTML","JavaScript","React"],r=["Tableau","PowerBI","QuickSight"],n=["Docker","FastAPI","FlaskAPI","Git","PySpark"],a=["Athena","Glue","S3","Redshift","Lambda"];return st.jsx("section",{id:"about",className:"min-h-screen flex items-center justify-center py-20",children:st.jsx(z1,{children:st.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[st.jsxs("h2",{className:"text-3xl font-bold mb-8 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent text-center",children:[" ","About Me"]}),st.jsxs("div",{className:"box_transition",children:[st.jsx("p",{className:"text-[var(--color-description)] mb-6",children:"Passionate developer with expertise in building scalable web applications and creating innovative solutions."}),st.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 ",children:[st.jsxs("div",{className:"rounded-xl p-6 hover:-translate-y-1 transition-all",children:[st.jsx("h3",{className:"text-xl font-bold mb-4",children:" Programming"}),st.jsx("div",{className:"flex flex-wrap gap-2 ",children:O.map((c,d)=>st.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:c},d))})]}),st.jsxs("div",{className:"rounded-xl p-6 hover:-translate-y-1 transition-all",children:[st.jsx("h3",{className:"text-xl font-bold mb-4",children:" AWS "}),st.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((c,d)=>st.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:c},d))})]}),st.jsxs("div",{className:"rounded-xl p-6 hover:-translate-y-1 transition-all",children:[st.jsx("h3",{className:"text-xl font-bold mb-4",children:" Data Engineering"}),st.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((c,d)=>st.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:c},d))})]}),st.jsxs("div",{className:"rounded-xl p-6 hover:-translate-y-1 transition-all",children:[st.jsx("h3",{className:"text-xl font-bold mb-4",children:" Data Viz"}),st.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((c,d)=>st.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:c},d))})]})]})]}),st.jsxs("div",{className:"grid grid-cols-3 items-center mb-8 mt-8",children:[st.jsxs("div",{className:"col-span-1 text-center relative group cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[st.jsx("div",{className:"box_transition absolute inset-0 "}),st.jsx("h1",{className:"text-2xl font-bold whitespace-nowrap text-white relative z-10 px-2 py-2 ",children:"Education"})]}),st.jsx("div",{className:"col-span-1"}),st.jsxs("div",{className:"col-span-1 text-center relative group cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[st.jsx("div",{className:"box_transition absolute inset-0"}),st.jsx("h1",{className:"text-2xl font-bold whitespace-nowrap text-white relative z-10 px-2 py-2",children:"Experience"})]})]}),st.jsxs("div",{className:"relative mt-16",children:[st.jsx("div",{className:"absolute left-1/2 top-0 w-1 bg-gray-500 h-full transform -translate-x-1/2 opacity-35"}),st.jsxs("div",{className:"space-y-8",children:[st.jsxs("div",{className:"grid grid-cols-3 items-center group hover:-translate-y-1",children:[st.jsx("div",{className:"col-span-1"}),st.jsx("div",{className:"col-span-1 relative",children:st.jsx("span",{className:"absolute left-1/2 top-0 -translate-x-1/2 block w-3 h-3 bg-[var(--color-primary)] rounded-full border border-white group-hover:border-gray-600 transition-colors duration-200"})}),st.jsxs("div",{className:"col-span-1 pr-8 text-center",children:[st.jsx("h3",{className:"font-bold text-xl whitespace-nowrap",children:"Data Analytics Engineer"}),st.jsx("h4",{className:"font-semibold text-l",children:"Maptek PTY LTD"}),st.jsx("p",{className:"text-gray-300 text-base",children:"2024-2025"})]})]}),st.jsxs("div",{className:"grid grid-cols-3 items-center group hover:-translate-y-1",children:[st.jsxs("div",{className:"col-span-1 -pr-8 text-center",children:[st.jsx("h3",{className:"font-bold text-xl whitespace-nowrap",children:"Master of Information Technology"}),st.jsx("h4",{className:"font-s emibold text-l",children:"UNSW"}),st.jsx("p",{className:"text-gray-300 text-base",children:"2022-2024"})]}),st.jsx("div",{className:"col-span-1 relative",children:st.jsx("span",{className:"absolute left-1/2 top-0 transform -translate-x-1/2 block w-3 h-3 bg-[var(--color-secondary)] rounded-full border-1 border-white group-hover:border-gray-600 transition-colors duration-200"})}),st.jsx("div",{className:"col-span-1"})]}),st.jsxs("div",{className:"grid grid-cols-3 items-center group hover:-translate-y-1",children:[st.jsx("div",{className:"col-span-1"}),st.jsx("div",{className:"col-span-1 relative",children:st.jsx("span",{className:"absolute left-1/2 top-0 -translate-x-1/2 block w-3 h-3 bg-[var(--color-primary)] rounded-full border border-white-700 group-hover:border-gray-600 transition-colors duration-200"})}),st.jsxs("div",{className:"col-span-1 pr-8 text-center",children:[st.jsx("h3",{className:"font-bold text-xl whitespace-nowrap",children:"System and Data Specialist"}),st.jsx("h4",{className:"font-semibold text-l",children:"Rio Tinto, Oyu Tolgoi Project"}),st.jsx("p",{className:"text-gray-300 text-base",children:"2016-2022"})]})]}),st.jsxs("div",{className:"grid grid-cols-3 items-center group hover:-translate-y-1",children:[st.jsx("div",{className:"col-span-1"}),st.jsx("div",{className:"col-span-1 relative",children:st.jsx("span",{className:"absolute left-1/2 top-0 -translate-x-1/2 block w-3 h-3 bg-[var(--color-primary)] rounded-full border border-white-700 group-hover:border-gray-600 transition-colors duration-200"})}),st.jsxs("div",{className:"col-span-1 pr-8 text-center",children:[st.jsx("h3",{className:"font-bold text-xl whitespace-nowrap",children:"Automation Engineer"}),st.jsx("h4",{className:"font-semibold text-l",children:"MCS International"}),st.jsx("p",{className:"text-gray-300 text-base",children:"2013-2015"})]})]}),st.jsxs("div",{className:"grid grid-cols-3 items-center group hover:-translate-y-1",children:[st.jsxs("div",{className:"col-span-1 -pr-8 text-center",children:[st.jsx("h3",{className:"font-bold text-xl whitespace-nowrap",children:"Bachelor of Computer Science"}),st.jsx("h4",{className:"font-semibold text-l",children:"MUST"}),st.jsx("p",{className:"text-gray-300 text-base",children:"2009-2013"})]}),st.jsx("div",{className:"col-span-1 relative",children:st.jsx("span",{className:"absolute left-1/2 top-0 transform -translate-x-1/2 block w-3 h-3 bg-[var(--color-secondary)] rounded-full border-1 border-white-700 group-hover:border-gray-600 transition-colors duration-200"})}),st.jsx("div",{className:"col-span-1"})]})]})]})]})})})},VC=()=>st.jsx("section",{id:"projects",className:"min-h-screen flex items-center justify-center py-15",children:st.jsx(z1,{children:st.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[st.jsxs("h2",{className:"text-3xl md:text-3xl font-bold mb-6 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent leading-normal",children:[" ","Featured Projects"]}),st.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[st.jsxs("div",{className:"box_transition",children:[st.jsxs("h3",{className:"text-xl font-bold mb-2",children:[" ","Anomaly Detection in Data Pipeline"," "]}),st.jsx("p",{className:"text-[var(--color-description)] mb-4 text-sm",children:"Built a Flask and MySQL backend for data management and secure authentication. Integrated unsupervised machine learning (Isolation Forest, Auto Encoder, K-Means) for precise anomaly detection."}),st.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["MySQL","Machine Learning","Data Modelling"].map((O,r)=>st.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:O},r))}),st.jsx("div",{className:"flex justify-between items-center",children:st.jsx("a",{href:"https://github.com/TsenguunO/Anomaly-Detection-in-Data-Pipeline",className:"text-[var(--color-description)] hover:text-blue-300 transition-colors my-4",target:"_blank",children:"View Project →"})})]}),st.jsxs("div",{className:"box_transition",children:[st.jsx("h3",{className:"text-xl font-bold mb-2",children:"Music Genre Classification"}),st.jsx("p",{className:"text--[var(--color-description)] mb-4 text-sm",children:"Developed LSTM and Bidirectional LSTM models to classify song genres (pop, rock, hip-hop) based on lyrics, achieving 68% accuracy and outperforming baselines on minority genres."}),st.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Python","LSTM","Data Augmentation"].map((O,r)=>st.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:O},r))}),st.jsx("div",{className:"flex justify-between items-center",children:st.jsx("a",{href:"https://github.com/TsenguunO/Music-Genre-Classification",className:"text-[var(--color-description)] hover:text-blue-300 transition-colors my-4",target:"_blank",children:"View Project →"})})]}),st.jsxs("div",{className:"box_transition",children:[st.jsx("h3",{className:"text-xl font-bold mb-2",children:"Image Classification"}),st.jsx("p",{className:"text-[var(--color-description)] mb-4 text-sm",children:"Classified turtle and penguin images using YOLOv7 and Python. Applied data augmentation techniques to enhance model performance and improve accuracy in distinguishing between the two species."}),st.jsx("div",{className:"flex flex-wrap gap-2 mb-4 ",children:["Yolo7","Python","Data Augmentation"].map((O,r)=>st.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:O},r))}),st.jsx("div",{className:"flex justify-between items-center ",children:st.jsx("a",{href:"https://github.com/TsenguunO/Image-Classification-Turtle-Penguin",className:"text-[var(--color-description)] hover:text-blue-300 transition-colors my-4",target:"_blank",children:"View Project →"})})]}),st.jsxs("div",{className:"box_transition",children:[st.jsx("h3",{className:"text-xl font-bold mb-2",children:"Weather Data Interface"}),st.jsx("p",{className:"text-[var(--color-description)] mb-4 text-sm",children:"Developed a weather data interface using Python and FlaskAPI. Extracted hourly, daily, and weekly weather data from a government API and built a web interface to display weather information for Sydney suburbs."}),st.jsx("div",{className:"flex flex-wrap gap-2 mb-4 ",children:["Python","FlaskAPI"].map((O,r)=>st.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:O},r))}),st.jsx("div",{className:"flex justify-between items-center ",children:st.jsx("a",{href:"https://github.com/TsenguunO/Weather-data-interface",className:"text-[var(--color-description)] hover:text-blue-300 transition-colors my-4",target:"_blank",children:"View Project →"})})]}),st.jsxs("div",{className:"box_transition",children:[st.jsx("h3",{className:"text-xl font-bold mb-2",children:"Mine To Mill"}),st.jsx("p",{className:"text-[var(--color-description)] mb-4 text-sm",children:"Extracted data from mining systems, created a centralized database, and integrated it with the mill database to improve operational efficiency. Designed and implemented Data Pipeline."}),st.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Data Modelling","ETL","Data Viz","Continuous Improvement","MSSQL","Automation & Scripting"].map(O=>st.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:O},O))}),st.jsx("div",{className:"flex justify-between items-center",children:st.jsx("a",{className:"text-[var(--color-description)] hover:text-blue-300 transition-colors my-4",children:"Private Org Project"})})]})]})]})})}),WC="modulepreload",qC=function(O){return"/portfolio/"+O},kE={},Rb=function(r,n,a){let c=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));c=Promise.allSettled(n.map(b=>{if(b=qC(b),b in kE)return;kE[b]=!0;const _=b.endsWith(".css"),E=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${E}`))return;const C=document.createElement("link");if(C.rel=_?"stylesheet":WC,_||(C.as="script"),C.crossOrigin="",C.href=b,m&&C.setAttribute("nonce",m),document.head.appendChild(C),_)return new Promise((k,V)=>{C.addEventListener("load",k),C.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${b}`)))})}))}function d(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&d(m.reason);return r().catch(d)})};var dy={};dy.d=(O,r)=>{for(var n in r)dy.o(r,n)&&!dy.o(O,n)&&Object.defineProperty(O,n,{enumerable:!0,get:r[n]})};dy.o=(O,r)=>Object.prototype.hasOwnProperty.call(O,r);var Xr=globalThis.pdfjsLib={};dy.d(Xr,{AbortException:()=>Qm,AnnotationEditorLayer:()=>tS,AnnotationEditorParamsType:()=>Vr,AnnotationEditorType:()=>ui,AnnotationEditorUIManager:()=>$m,AnnotationLayer:()=>VL,AnnotationMode:()=>Lf,ColorPicker:()=>g1,DOMSVGFactory:()=>xS,DrawLayer:()=>sS,FeatureTest:()=>Il,GlobalWorkerOptions:()=>jd,ImageKind:()=>Fb,InvalidPDFException:()=>rM,MissingPDFException:()=>Jm,OPS:()=>Hc,OutputScale:()=>Yw,PDFDataRangeTransport:()=>QM,PDFDateString:()=>dS,PDFWorker:()=>Yg,PasswordResponses:()=>ZC,PermissionFlag:()=>YC,PixelsPerInch:()=>rp,RenderingCancelledException:()=>cS,TextLayer:()=>my,UnexpectedResponseException:()=>U1,Util:()=>vr,VerbosityLevel:()=>B1,XfaLayer:()=>tA,build:()=>EL,createValidAbsoluteUrl:()=>e2,fetchData:()=>V1,getDocument:()=>mL,getFilenameFromUrl:()=>u2,getPdfFilenameFromUrl:()=>c2,getXfaPageViewport:()=>h2,isDataScheme:()=>W1,isPdfFile:()=>hS,noContextMenu:()=>pc,normalizeUnicode:()=>o2,setLayerDimensions:()=>Xm,shadow:()=>Ni,version:()=>SL});const bl=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),nM=[1,0,0,1,0,0],Ww=[.001,0,0,.001,0,0],XC=1e7,Bw=1.35,ku={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Lf={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},$C="pdfjs_internal_editor_",ui={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Vr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},YC={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},pl={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Fb={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},xa={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},X0={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},B1={ERRORS:0,WARNINGS:1,INFOS:5},Hc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},ZC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let j1=B1.WARNINGS;function KC(O){Number.isInteger(O)&&(j1=O)}function JC(){return j1}function H1(O){j1>=B1.INFOS&&console.log(`Info: ${O}`)}function gi(O){j1>=B1.WARNINGS&&console.log(`Warning: ${O}`)}function $s(O){throw new Error(O)}function Ea(O,r){O||$s(r)}function QC(O){switch(O==null?void 0:O.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function e2(O,r=null,n=null){if(!O)return null;try{if(n&&typeof O=="string"){if(n.addDefaultProtocol&&O.startsWith("www.")){const c=O.match(/\./g);(c==null?void 0:c.length)>=2&&(O=`http://${O}`)}if(n.tryConvertEncoding)try{O=s2(O)}catch{}}const a=r?new URL(O,r):new URL(O);if(QC(a))return a}catch{}return null}function Ni(O,r,n,a=!1){return Object.defineProperty(O,r,{value:n,enumerable:!a,configurable:!0,writable:!1}),n}const ap=function(){function r(n,a){this.message=n,this.name=a}return r.prototype=new Error,r.constructor=r,r}();class qw extends ap{constructor(r,n){super(r,"PasswordException"),this.code=n}}class Xw extends ap{constructor(r,n){super(r,"UnknownErrorException"),this.details=n}}class rM extends ap{constructor(r){super(r,"InvalidPDFException")}}class Jm extends ap{constructor(r){super(r,"MissingPDFException")}}class U1 extends ap{constructor(r,n){super(r,"UnexpectedResponseException"),this.status=n}}class t2 extends ap{constructor(r){super(r,"FormatError")}}class Qm extends ap{constructor(r){super(r,"AbortException")}}function iM(O){(typeof O!="object"||(O==null?void 0:O.length)===void 0)&&$s("Invalid argument for bytesToString");const r=O.length,n=8192;if(r<n)return String.fromCharCode.apply(null,O);const a=[];for(let c=0;c<r;c+=n){const d=Math.min(c+n,r),f=O.subarray(c,d);a.push(String.fromCharCode.apply(null,f))}return a.join("")}function G1(O){typeof O!="string"&&$s("Invalid argument for stringToBytes");const r=O.length,n=new Uint8Array(r);for(let a=0;a<r;++a)n[a]=O.charCodeAt(a)&255;return n}function n2(O){return String.fromCharCode(O>>24&255,O>>16&255,O>>8&255,O&255)}function lS(O){const r=Object.create(null);for(const[n,a]of O)r[n]=a;return r}function r2(){const O=new Uint8Array(4);return O[0]=1,new Uint32Array(O.buffer,0,1)[0]===1}function i2(){try{return new Function(""),!0}catch{return!1}}class Il{static get isLittleEndian(){return Ni(this,"isLittleEndian",r2())}static get isEvalSupported(){return Ni(this,"isEvalSupported",i2())}static get isOffscreenCanvasSupported(){return Ni(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ni(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ni(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var r,n;return Ni(this,"isCSSRoundSupported",(n=(r=globalThis.CSS)==null?void 0:r.supports)==null?void 0:n.call(r,"width: round(1.5px, 1px)"))}}const jw=Array.from(Array(256).keys(),O=>O.toString(16).padStart(2,"0"));var Ud,zb,$w;class vr{static makeHexColor(r,n,a){return`#${jw[r]}${jw[n]}${jw[a]}`}static scaleMinMax(r,n){let a;r[0]?(r[0]<0&&(a=n[0],n[0]=n[2],n[2]=a),n[0]*=r[0],n[2]*=r[0],r[3]<0&&(a=n[1],n[1]=n[3],n[3]=a),n[1]*=r[3],n[3]*=r[3]):(a=n[0],n[0]=n[1],n[1]=a,a=n[2],n[2]=n[3],n[3]=a,r[1]<0&&(a=n[1],n[1]=n[3],n[3]=a),n[1]*=r[1],n[3]*=r[1],r[2]<0&&(a=n[0],n[0]=n[2],n[2]=a),n[0]*=r[2],n[2]*=r[2]),n[0]+=r[4],n[1]+=r[5],n[2]+=r[4],n[3]+=r[5]}static transform(r,n){return[r[0]*n[0]+r[2]*n[1],r[1]*n[0]+r[3]*n[1],r[0]*n[2]+r[2]*n[3],r[1]*n[2]+r[3]*n[3],r[0]*n[4]+r[2]*n[5]+r[4],r[1]*n[4]+r[3]*n[5]+r[5]]}static applyTransform(r,n){const a=r[0]*n[0]+r[1]*n[2]+n[4],c=r[0]*n[1]+r[1]*n[3]+n[5];return[a,c]}static applyInverseTransform(r,n){const a=n[0]*n[3]-n[1]*n[2],c=(r[0]*n[3]-r[1]*n[2]+n[2]*n[5]-n[4]*n[3])/a,d=(-r[0]*n[1]+r[1]*n[0]+n[4]*n[1]-n[5]*n[0])/a;return[c,d]}static getAxialAlignedBoundingBox(r,n){const a=this.applyTransform(r,n),c=this.applyTransform(r.slice(2,4),n),d=this.applyTransform([r[0],r[3]],n),f=this.applyTransform([r[2],r[1]],n);return[Math.min(a[0],c[0],d[0],f[0]),Math.min(a[1],c[1],d[1],f[1]),Math.max(a[0],c[0],d[0],f[0]),Math.max(a[1],c[1],d[1],f[1])]}static inverseTransform(r){const n=r[0]*r[3]-r[1]*r[2];return[r[3]/n,-r[1]/n,-r[2]/n,r[0]/n,(r[2]*r[5]-r[4]*r[3])/n,(r[4]*r[1]-r[5]*r[0])/n]}static singularValueDecompose2dScale(r){const n=[r[0],r[2],r[1],r[3]],a=r[0]*n[0]+r[1]*n[2],c=r[0]*n[1]+r[1]*n[3],d=r[2]*n[0]+r[3]*n[2],f=r[2]*n[1]+r[3]*n[3],m=(a+f)/2,b=Math.sqrt((a+f)**2-4*(a*f-d*c))/2,_=m+b||1,E=m-b||1;return[Math.sqrt(_),Math.sqrt(E)]}static normalizeRect(r){const n=r.slice(0);return r[0]>r[2]&&(n[0]=r[2],n[2]=r[0]),r[1]>r[3]&&(n[1]=r[3],n[3]=r[1]),n}static intersect(r,n){const a=Math.max(Math.min(r[0],r[2]),Math.min(n[0],n[2])),c=Math.min(Math.max(r[0],r[2]),Math.max(n[0],n[2]));if(a>c)return null;const d=Math.max(Math.min(r[1],r[3]),Math.min(n[1],n[3])),f=Math.min(Math.max(r[1],r[3]),Math.max(n[1],n[3]));return d>f?null:[a,d,c,f]}static bezierBoundingBox(r,n,a,c,d,f,m,b,_){return _?(_[0]=Math.min(_[0],r,m),_[1]=Math.min(_[1],n,b),_[2]=Math.max(_[2],r,m),_[3]=Math.max(_[3],n,b)):_=[Math.min(r,m),Math.min(n,b),Math.max(r,m),Math.max(n,b)],ue(this,Ud,$w).call(this,r,a,d,m,n,c,f,b,3*(-r+3*(a-d)+m),6*(r-2*a+d),3*(a-r),_),ue(this,Ud,$w).call(this,r,a,d,m,n,c,f,b,3*(-n+3*(c-f)+b),6*(n-2*c+f),3*(c-n),_),_}}Ud=new WeakSet,zb=function(r,n,a,c,d,f,m,b,_,E){if(_<=0||_>=1)return;const C=1-_,k=_*_,V=k*_,q=C*(C*(C*r+3*_*n)+3*k*a)+V*c,Y=C*(C*(C*d+3*_*f)+3*k*m)+V*b;E[0]=Math.min(E[0],q),E[1]=Math.min(E[1],Y),E[2]=Math.max(E[2],q),E[3]=Math.max(E[3],Y)},$w=function(r,n,a,c,d,f,m,b,_,E,C,k){if(Math.abs(_)<1e-12){Math.abs(E)>=1e-12&&ue(this,Ud,zb).call(this,r,n,a,c,d,f,m,b,-C/E,k);return}const V=E**2-4*C*_;if(V<0)return;const q=Math.sqrt(V),Y=2*_;ue(this,Ud,zb).call(this,r,n,a,c,d,f,m,b,(-E+q)/Y,k),ue(this,Ud,zb).call(this,r,n,a,c,d,f,m,b,(-E-q)/Y,k)},fe(vr,Ud);function s2(O){return decodeURIComponent(escape(O))}let Hw=null,OE=null;function o2(O){return Hw||(Hw=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,OE=new Map([["ﬅ","ſt"]])),O.replaceAll(Hw,(r,n,a)=>n?n.normalize("NFKC"):OE.get(a))}function a2(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const O=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(O);else for(let r=0;r<32;r++)O[r]=Math.floor(Math.random()*255);return iM(O)}const uS="pdfjs_internal_id_",hd={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function l2(O){return Uint8Array.prototype.toBase64?O.toBase64():btoa(iM(O))}const fd="http://www.w3.org/2000/svg",$p=class $p{};Gr($p,"CSS",96),Gr($p,"PDF",72),Gr($p,"PDF_TO_CSS_UNITS",$p.CSS/$p.PDF);let rp=$p;async function V1(O,r="text"){if(Z0(O,document.baseURI)){const n=await fetch(O);if(!n.ok)throw new Error(n.statusText);switch(r){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,a)=>{const c=new XMLHttpRequest;c.open("GET",O,!0),c.responseType=r,c.onreadystatechange=()=>{if(c.readyState===XMLHttpRequest.DONE){if(c.status===200||c.status===0){switch(r){case"arraybuffer":case"blob":case"json":n(c.response);return}n(c.responseText);return}a(new Error(c.statusText))}},c.send(null)})}class kx{constructor({viewBox:r,scale:n,rotation:a,offsetX:c=0,offsetY:d=0,dontFlip:f=!1}){this.viewBox=r,this.scale=n,this.rotation=a,this.offsetX=c,this.offsetY=d;const m=(r[2]+r[0])/2,b=(r[3]+r[1])/2;let _,E,C,k;switch(a%=360,a<0&&(a+=360),a){case 180:_=-1,E=0,C=0,k=1;break;case 90:_=0,E=1,C=1,k=0;break;case 270:_=0,E=-1,C=-1,k=0;break;case 0:_=1,E=0,C=0,k=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}f&&(C=-C,k=-k);let V,q,Y,Z;_===0?(V=Math.abs(b-r[1])*n+c,q=Math.abs(m-r[0])*n+d,Y=(r[3]-r[1])*n,Z=(r[2]-r[0])*n):(V=Math.abs(m-r[0])*n+c,q=Math.abs(b-r[1])*n+d,Y=(r[2]-r[0])*n,Z=(r[3]-r[1])*n),this.transform=[_*n,E*n,C*n,k*n,V-_*n*m-C*n*b,q-E*n*m-k*n*b],this.width=Y,this.height=Z}get rawDims(){const{viewBox:r}=this;return Ni(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:r=this.scale,rotation:n=this.rotation,offsetX:a=this.offsetX,offsetY:c=this.offsetY,dontFlip:d=!1}={}){return new kx({viewBox:this.viewBox.slice(),scale:r,rotation:n,offsetX:a,offsetY:c,dontFlip:d})}convertToViewportPoint(r,n){return vr.applyTransform([r,n],this.transform)}convertToViewportRectangle(r){const n=vr.applyTransform([r[0],r[1]],this.transform),a=vr.applyTransform([r[2],r[3]],this.transform);return[n[0],n[1],a[0],a[1]]}convertToPdfPoint(r,n){return vr.applyInverseTransform([r,n],this.transform)}}class cS extends ap{constructor(r,n=0){super(r,"RenderingCancelledException"),this.extraDelay=n}}function W1(O){const r=O.length;let n=0;for(;n<r&&O[n].trim()==="";)n++;return O.substring(n,n+5).toLowerCase()==="data:"}function hS(O){return typeof O=="string"&&/\.pdf$/i.test(O)}function u2(O){return[O]=O.split(/[#?]/,1),O.substring(O.lastIndexOf("/")+1)}function c2(O,r="document.pdf"){if(typeof O!="string")return r;if(W1(O))return gi('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),r;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,a=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,c=n.exec(O);let d=a.exec(c[1])||a.exec(c[2])||a.exec(c[3]);if(d&&(d=d[0],d.includes("%")))try{d=a.exec(decodeURIComponent(d))[0]}catch{}return d||r}class IE{constructor(){Gr(this,"started",Object.create(null));Gr(this,"times",[])}time(r){r in this.started&&gi(`Timer is already running for ${r}`),this.started[r]=Date.now()}timeEnd(r){r in this.started||gi(`Timer has not been started for ${r}`),this.times.push({name:r,start:this.started[r],end:Date.now()}),delete this.started[r]}toString(){const r=[];let n=0;for(const{name:a}of this.times)n=Math.max(a.length,n);for(const{name:a,start:c,end:d}of this.times)r.push(`${a.padEnd(n)} ${d-c}ms
`);return r.join("")}}function Z0(O,r){try{const{protocol:n}=r?new URL(O,r):new URL(O);return n==="http:"||n==="https:"}catch{return!1}}function pc(O){O.preventDefault()}function NE(O){console.log("Deprecated API usage: "+O)}var vy;class dS{static toDateObject(r){if(!r||typeof r!="string")return null;y(this,vy)||se(this,vy,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=y(this,vy).exec(r);if(!n)return null;const a=parseInt(n[1],10);let c=parseInt(n[2],10);c=c>=1&&c<=12?c-1:0;let d=parseInt(n[3],10);d=d>=1&&d<=31?d:1;let f=parseInt(n[4],10);f=f>=0&&f<=23?f:0;let m=parseInt(n[5],10);m=m>=0&&m<=59?m:0;let b=parseInt(n[6],10);b=b>=0&&b<=59?b:0;const _=n[7]||"Z";let E=parseInt(n[8],10);E=E>=0&&E<=23?E:0;let C=parseInt(n[9],10)||0;return C=C>=0&&C<=59?C:0,_==="-"?(f+=E,m+=C):_==="+"&&(f-=E,m-=C),new Date(Date.UTC(a,c,d,f,m,b))}}vy=new WeakMap,fe(dS,vy);function h2(O,{scale:r=1,rotation:n=0}){const{width:a,height:c}=O.attributes.style,d=[0,0,parseInt(a),parseInt(c)];return new kx({viewBox:d,scale:r,rotation:n})}function fS(O){if(O.startsWith("#")){const r=parseInt(O.slice(1),16);return[(r&16711680)>>16,(r&65280)>>8,r&255]}return O.startsWith("rgb(")?O.slice(4,-1).split(",").map(r=>parseInt(r)):O.startsWith("rgba(")?O.slice(5,-1).split(",").map(r=>parseInt(r)).slice(0,3):(gi(`Not a valid color format: "${O}"`),[0,0,0])}function d2(O){const r=document.createElement("span");r.style.visibility="hidden",document.body.append(r);for(const n of O.keys()){r.style.color=n;const a=window.getComputedStyle(r).color;O.set(n,fS(a))}r.remove()}function xo(O){const{a:r,b:n,c:a,d:c,e:d,f}=O.getTransform();return[r,n,a,c,d,f]}function dd(O){const{a:r,b:n,c:a,d:c,e:d,f}=O.getTransform().invertSelf();return[r,n,a,c,d,f]}function Xm(O,r,n=!1,a=!0){if(r instanceof kx){const{pageWidth:c,pageHeight:d}=r.rawDims,{style:f}=O,m=Il.isCSSRoundSupported,b=`var(--scale-factor) * ${c}px`,_=`var(--scale-factor) * ${d}px`,E=m?`round(down, ${b}, var(--scale-round-x, 1px))`:`calc(${b})`,C=m?`round(down, ${_}, var(--scale-round-y, 1px))`:`calc(${_})`;!n||r.rotation%180===0?(f.width=E,f.height=C):(f.width=C,f.height=E)}a&&O.setAttribute("data-main-rotation",r.rotation)}class Yw{constructor(){const r=window.devicePixelRatio||1;this.sx=r,this.sy=r}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Pf,Zp,Uc,Kp,yy,xy,b1,sM,Nl,oM,aM,Bb,lM,Kw;const pd=class pd{constructor(r){fe(this,Nl);fe(this,Pf,null);fe(this,Zp,null);fe(this,Uc);fe(this,Kp,null);fe(this,yy,null);se(this,Uc,r),y(pd,xy)||se(pd,xy,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const r=se(this,Pf,document.createElement("div"));r.classList.add("editToolbar","hidden"),r.setAttribute("role","toolbar");const n=y(this,Uc)._uiManager._signal;r.addEventListener("contextmenu",pc,{signal:n}),r.addEventListener("pointerdown",ue(pd,b1,sM),{signal:n});const a=se(this,Kp,document.createElement("div"));a.className="buttons",r.append(a);const c=y(this,Uc).toolbarPosition;if(c){const{style:d}=r,f=y(this,Uc)._uiManager.direction==="ltr"?1-c[0]:c[0];d.insetInlineEnd=`${100*f}%`,d.top=`calc(${100*c[1]}% + var(--editor-toolbar-vert-offset))`}return ue(this,Nl,lM).call(this),r}get div(){return y(this,Pf)}hide(){var r;y(this,Pf).classList.add("hidden"),(r=y(this,Zp))==null||r.hideDropdown()}show(){var r;y(this,Pf).classList.remove("hidden"),(r=y(this,yy))==null||r.shown()}async addAltText(r){const n=await r.render();ue(this,Nl,Bb).call(this,n),y(this,Kp).prepend(n,y(this,Nl,Kw)),se(this,yy,r)}addColorPicker(r){se(this,Zp,r);const n=r.renderButton();ue(this,Nl,Bb).call(this,n),y(this,Kp).prepend(n,y(this,Nl,Kw))}remove(){var r;y(this,Pf).remove(),(r=y(this,Zp))==null||r.destroy(),se(this,Zp,null)}};Pf=new WeakMap,Zp=new WeakMap,Uc=new WeakMap,Kp=new WeakMap,yy=new WeakMap,xy=new WeakMap,b1=new WeakSet,sM=function(r){r.stopPropagation()},Nl=new WeakSet,oM=function(r){y(this,Uc)._focusEventsAllowed=!1,r.preventDefault(),r.stopPropagation()},aM=function(r){y(this,Uc)._focusEventsAllowed=!0,r.preventDefault(),r.stopPropagation()},Bb=function(r){const n=y(this,Uc)._uiManager._signal;r.addEventListener("focusin",ue(this,Nl,oM).bind(this),{capture:!0,signal:n}),r.addEventListener("focusout",ue(this,Nl,aM).bind(this),{capture:!0,signal:n}),r.addEventListener("contextmenu",pc,{signal:n})},lM=function(){const{editorType:r,_uiManager:n}=y(this,Uc),a=document.createElement("button");a.className="delete",a.tabIndex=0,a.setAttribute("data-l10n-id",y(pd,xy)[r]),ue(this,Nl,Bb).call(this,a),a.addEventListener("click",c=>{n.delete()},{signal:n._signal}),y(this,Kp).append(a)},Kw=function(){const r=document.createElement("div");return r.className="divider",r},fe(pd,b1),fe(pd,xy,null);let Zw=pd;var by,Jp,Qp,sp,uM,cM,hM;class f2{constructor(r){fe(this,sp);fe(this,by,null);fe(this,Jp,null);fe(this,Qp);se(this,Qp,r)}show(r,n,a){const[c,d]=ue(this,sp,cM).call(this,n,a),{style:f}=y(this,Jp)||se(this,Jp,ue(this,sp,uM).call(this));r.append(y(this,Jp)),f.insetInlineEnd=`${100*c}%`,f.top=`calc(${100*d}% + var(--editor-toolbar-vert-offset))`}hide(){y(this,Jp).remove()}}by=new WeakMap,Jp=new WeakMap,Qp=new WeakMap,sp=new WeakSet,uM=function(){const r=se(this,Jp,document.createElement("div"));r.className="editToolbar",r.setAttribute("role","toolbar"),r.addEventListener("contextmenu",pc,{signal:y(this,Qp)._signal});const n=se(this,by,document.createElement("div"));return n.className="buttons",r.append(n),ue(this,sp,hM).call(this),r},cM=function(r,n){let a=0,c=0;for(const d of r){const f=d.y+d.height;if(f<a)continue;const m=d.x+(n?d.width:0);if(f>a){c=m,a=f;continue}n?m>c&&(c=m):m<c&&(c=m)}return[n?1-c:c,a]},hM=function(){const r=document.createElement("button");r.className="highlightButton",r.tabIndex=0,r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");r.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const a=y(this,Qp)._signal;r.addEventListener("contextmenu",pc,{signal:a}),r.addEventListener("click",()=>{y(this,Qp).highlightSelection("floating_button")},{signal:a}),y(this,by).append(r)};function f1(O,r,n){for(const a of n)r.addEventListener(a,O[a].bind(O))}function p2(O){return Math.round(Math.min(255,Math.max(1,255*O))).toString(16).padStart(2,"0")}var w1;class m2{constructor(){fe(this,w1,0)}get id(){return`${$C}${Pl(this,w1)._++}`}}w1=new WeakMap;var Zg,wy,gl,Kg,jb;const wS=class wS{constructor(){fe(this,Kg);fe(this,Zg,a2());fe(this,wy,0);fe(this,gl,null)}static get _isSVGFittingCanvas(){const r='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',a=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),c=new Image;c.src=r;const d=c.decode().then(()=>(a.drawImage(c,0,0,1,1,0,0,1,3),new Uint32Array(a.getImageData(0,0,1,1).data.buffer)[0]===0));return Ni(this,"_isSVGFittingCanvas",d)}async getFromFile(r){const{lastModified:n,name:a,size:c,type:d}=r;return ue(this,Kg,jb).call(this,`${n}_${a}_${c}_${d}`,r)}async getFromUrl(r){return ue(this,Kg,jb).call(this,r,r)}async getFromBlob(r,n){const a=await n;return ue(this,Kg,jb).call(this,r,a)}async getFromId(r){y(this,gl)||se(this,gl,new Map);const n=y(this,gl).get(r);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:a}=n;return delete n.blobPromise,this.getFromBlob(n.id,a)}return this.getFromUrl(n.url)}getFromCanvas(r,n){y(this,gl)||se(this,gl,new Map);let a=y(this,gl).get(r);if(a!=null&&a.bitmap)return a.refCounter+=1,a;const c=new OffscreenCanvas(n.width,n.height);return c.getContext("2d").drawImage(n,0,0),a={bitmap:c.transferToImageBitmap(),id:`image_${y(this,Zg)}_${Pl(this,wy)._++}`,refCounter:1,isSvg:!1},y(this,gl).set(r,a),y(this,gl).set(a.id,a),a}getSvgUrl(r){const n=y(this,gl).get(r);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(r){var c;y(this,gl)||se(this,gl,new Map);const n=y(this,gl).get(r);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:a}=n;if(!n.url&&!n.file){const d=new OffscreenCanvas(a.width,a.height);d.getContext("bitmaprenderer").transferFromImageBitmap(a),n.blobPromise=d.convertToBlob()}(c=a.close)==null||c.call(a),n.bitmap=null}isValidId(r){return r.startsWith(`image_${y(this,Zg)}_`)}};Zg=new WeakMap,wy=new WeakMap,gl=new WeakMap,Kg=new WeakSet,jb=async function(r,n){y(this,gl)||se(this,gl,new Map);let a=y(this,gl).get(r);if(a===null)return null;if(a!=null&&a.bitmap)return a.refCounter+=1,a;try{a||(a={bitmap:null,id:`image_${y(this,Zg)}_${Pl(this,wy)._++}`,refCounter:0,isSvg:!1});let c;if(typeof n=="string"?(a.url=n,c=await V1(n,"blob")):n instanceof File?c=a.file=n:n instanceof Blob&&(c=n),c.type==="image/svg+xml"){const d=wS._isSVGFittingCanvas,f=new FileReader,m=new Image,b=new Promise((_,E)=>{m.onload=()=>{a.bitmap=m,a.isSvg=!0,_()},f.onload=async()=>{const C=a.svgUrl=f.result;m.src=await d?`${C}#svgView(preserveAspectRatio(none))`:C},m.onerror=f.onerror=E});f.readAsDataURL(c),await b}else a.bitmap=await createImageBitmap(c);a.refCounter=1}catch(c){console.error(c),a=null}return y(this,gl).set(r,a),a&&y(this,gl).set(a.id,a),a};let Jw=wS;var Ha,Rf,_y,Ua;class g2{constructor(r=128){fe(this,Ha,[]);fe(this,Rf,!1);fe(this,_y);fe(this,Ua,-1);se(this,_y,r)}add({cmd:r,undo:n,post:a,mustExec:c,type:d=NaN,overwriteIfSameType:f=!1,keepUndo:m=!1}){if(c&&r(),y(this,Rf))return;const b={cmd:r,undo:n,post:a,type:d};if(y(this,Ua)===-1){y(this,Ha).length>0&&(y(this,Ha).length=0),se(this,Ua,0),y(this,Ha).push(b);return}if(f&&y(this,Ha)[y(this,Ua)].type===d){m&&(b.undo=y(this,Ha)[y(this,Ua)].undo),y(this,Ha)[y(this,Ua)]=b;return}const _=y(this,Ua)+1;_===y(this,_y)?y(this,Ha).splice(0,1):(se(this,Ua,_),_<y(this,Ha).length&&y(this,Ha).splice(_)),y(this,Ha).push(b)}undo(){if(y(this,Ua)===-1)return;se(this,Rf,!0);const{undo:r,post:n}=y(this,Ha)[y(this,Ua)];r(),n==null||n(),se(this,Rf,!1),se(this,Ua,y(this,Ua)-1)}redo(){if(y(this,Ua)<y(this,Ha).length-1){se(this,Ua,y(this,Ua)+1),se(this,Rf,!0);const{cmd:r,post:n}=y(this,Ha)[y(this,Ua)];r(),n==null||n(),se(this,Rf,!1)}}hasSomethingToUndo(){return y(this,Ua)!==-1}hasSomethingToRedo(){return y(this,Ua)<y(this,Ha).length-1}destroy(){se(this,Ha,null)}}Ha=new WeakMap,Rf=new WeakMap,_y=new WeakMap,Ua=new WeakMap;var _1,dM;class Ox{constructor(r){fe(this,_1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Il.platform;for(const[a,c,d={}]of r)for(const f of a){const m=f.startsWith("mac+");n&&m?(this.callbacks.set(f.slice(4),{callback:c,options:d}),this.allKeys.add(f.split("+").at(-1))):!n&&!m&&(this.callbacks.set(f,{callback:c,options:d}),this.allKeys.add(f.split("+").at(-1)))}}exec(r,n){if(!this.allKeys.has(n.key))return;const a=this.callbacks.get(ue(this,_1,dM).call(this,n));if(!a)return;const{callback:c,options:{bubbles:d=!1,args:f=[],checker:m=null}}=a;m&&!m(r,n)||(c.bind(r,...f,n)(),d||(n.stopPropagation(),n.preventDefault()))}}_1=new WeakSet,dM=function(r){r.altKey&&this.buffer.push("alt"),r.ctrlKey&&this.buffer.push("ctrl"),r.metaKey&&this.buffer.push("meta"),r.shiftKey&&this.buffer.push("shift"),this.buffer.push(r.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const S1=class S1{get _colors(){const r=new Map([["CanvasText",null],["Canvas",null]]);return d2(r),Ni(this,"_colors",r)}convert(r){const n=fS(r);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[a,c]of this._colors)if(c.every((d,f)=>d===n[f]))return S1._colorsMapping.get(a);return n}getHexCode(r){const n=this._colors.get(r);return n?vr.makeHexColor(...n):r}};Gr(S1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Qw=S1;var Jg,Eu,wa,nl,Qg,gd,ev,Gc,kf,tv,em,Ph,Vc,tm,Sy,Ey,nv,My,Rh,Of,rv,If,kh,E1,Nf,Ay,Df,nm,Ty,Cy,Ga,vs,vd,rm,Ly,Py,Ff,Oh,yd,Ry,oc,jn,Hb,e_,fM,pM,Ub,mM,gM,vM,t_,yM,n_,r_,xM,Rl,Tf,bM,wM,i_,_M,K0,s_;const Xg=class Xg{constructor(r,n,a,c,d,f,m,b,_,E,C){fe(this,jn);fe(this,Jg,new AbortController);fe(this,Eu,null);fe(this,wa,new Map);fe(this,nl,new Map);fe(this,Qg,null);fe(this,gd,null);fe(this,ev,null);fe(this,Gc,new g2);fe(this,kf,null);fe(this,tv,0);fe(this,em,new Set);fe(this,Ph,null);fe(this,Vc,null);fe(this,tm,new Set);fe(this,Sy,!1);fe(this,Ey,!1);fe(this,nv,!1);fe(this,My,null);fe(this,Rh,null);fe(this,Of,null);fe(this,rv,null);fe(this,If,!1);fe(this,kh,null);fe(this,E1,new m2);fe(this,Nf,!1);fe(this,Ay,!1);fe(this,Df,null);fe(this,nm,null);fe(this,Ty,null);fe(this,Cy,null);fe(this,Ga,ui.NONE);fe(this,vs,new Set);fe(this,vd,null);fe(this,rm,null);fe(this,Ly,null);fe(this,Py,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});fe(this,Ff,[0,0]);fe(this,Oh,null);fe(this,yd,null);fe(this,Ry,null);fe(this,oc,null);const k=this._signal=y(this,Jg).signal;se(this,yd,r),se(this,Ry,n),se(this,Qg,a),this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:k}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:k}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:k}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:k}),c._on("setpreference",this.onSetPreference.bind(this),{signal:k}),c._on("switchannotationeditorparams",V=>this.updateParams(V.type,V.value),{signal:k}),ue(this,jn,mM).call(this),ue(this,jn,xM).call(this),ue(this,jn,t_).call(this),se(this,gd,d.annotationStorage),se(this,My,d.filterFactory),se(this,rm,f),se(this,rv,m||null),se(this,Sy,b),se(this,Ey,_),se(this,nv,E),se(this,Cy,C||null),this.viewParameters={realScale:rp.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const r=Xg.prototype,n=f=>y(f,yd).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&f.hasSomethingToControl(),a=(f,{target:m})=>{if(m instanceof HTMLInputElement){const{type:b}=m;return b!=="text"&&b!=="number"}return!0},c=this.TRANSLATE_SMALL,d=this.TRANSLATE_BIG;return Ni(this,"_keyboardManager",new Ox([[["ctrl+a","mac+meta+a"],r.selectAll,{checker:a}],[["ctrl+z","mac+meta+z"],r.undo,{checker:a}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],r.redo,{checker:a}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],r.delete,{checker:a}],[["Enter","mac+Enter"],r.addNewEditorFromKeyboard,{checker:(f,{target:m})=>!(m instanceof HTMLButtonElement)&&y(f,yd).contains(m)&&!f.isEnterHandled}],[[" ","mac+ "],r.addNewEditorFromKeyboard,{checker:(f,{target:m})=>!(m instanceof HTMLButtonElement)&&y(f,yd).contains(document.activeElement)}],[["Escape","mac+Escape"],r.unselectAll],[["ArrowLeft","mac+ArrowLeft"],r.translateSelectedEditors,{args:[-c,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r.translateSelectedEditors,{args:[-d,0],checker:n}],[["ArrowRight","mac+ArrowRight"],r.translateSelectedEditors,{args:[c,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r.translateSelectedEditors,{args:[d,0],checker:n}],[["ArrowUp","mac+ArrowUp"],r.translateSelectedEditors,{args:[0,-c],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r.translateSelectedEditors,{args:[0,-d],checker:n}],[["ArrowDown","mac+ArrowDown"],r.translateSelectedEditors,{args:[0,c],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r.translateSelectedEditors,{args:[0,d],checker:n}]]))}destroy(){var r,n,a,c;(r=y(this,oc))==null||r.resolve(),se(this,oc,null),(n=y(this,Jg))==null||n.abort(),se(this,Jg,null),this._signal=null;for(const d of y(this,nl).values())d.destroy();y(this,nl).clear(),y(this,wa).clear(),y(this,tm).clear(),se(this,Eu,null),y(this,vs).clear(),y(this,Gc).destroy(),(a=y(this,Qg))==null||a.destroy(),(c=y(this,kh))==null||c.hide(),se(this,kh,null),y(this,Rh)&&(clearTimeout(y(this,Rh)),se(this,Rh,null)),y(this,Oh)&&(clearTimeout(y(this,Oh)),se(this,Oh,null))}combinedSignal(r){return AbortSignal.any([this._signal,r.signal])}get mlManager(){return y(this,Cy)}get useNewAltTextFlow(){return y(this,Ey)}get useNewAltTextWhenAddingImage(){return y(this,nv)}get hcmFilter(){return Ni(this,"hcmFilter",y(this,rm)?y(this,My).addHCMFilter(y(this,rm).foreground,y(this,rm).background):"none")}get direction(){return Ni(this,"direction",getComputedStyle(y(this,yd)).direction)}get highlightColors(){return Ni(this,"highlightColors",y(this,rv)?new Map(y(this,rv).split(",").map(r=>r.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Ni(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,r=>r.reverse())):null)}setMainHighlightColorPicker(r){se(this,Ty,r)}editAltText(r,n=!1){var a;(a=y(this,Qg))==null||a.editAltText(this,r,n)}switchToMode(r,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:r})}setPreference(r,n){this._eventBus.dispatch("setpreference",{source:this,name:r,value:n})}onSetPreference({name:r,value:n}){switch(r){case"enableNewAltTextWhenAddingImage":se(this,nv,n);break}}onPageChanging({pageNumber:r}){se(this,tv,r-1)}focusMainContainer(){y(this,yd).focus()}findParent(r,n){for(const a of y(this,nl).values()){const{x:c,y:d,width:f,height:m}=a.div.getBoundingClientRect();if(r>=c&&r<=c+f&&n>=d&&n<=d+m)return a}return null}disableUserSelect(r=!1){y(this,Ry).classList.toggle("noUserSelect",r)}addShouldRescale(r){y(this,tm).add(r)}removeShouldRescale(r){y(this,tm).delete(r)}onScaleChanging({scale:r}){this.commitOrRemove(),this.viewParameters.realScale=r*rp.PDF_TO_CSS_UNITS;for(const n of y(this,tm))n.onScaleChanging()}onRotationChanging({pagesRotation:r}){this.commitOrRemove(),this.viewParameters.rotation=r}highlightSelection(r=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:a,anchorOffset:c,focusNode:d,focusOffset:f}=n,m=n.toString(),_=ue(this,jn,Hb).call(this,n).closest(".textLayer"),E=this.getSelectionBoxes(_);if(!E)return;n.empty();const C=ue(this,jn,e_).call(this,_),k=y(this,Ga)===ui.NONE,V=()=>{C==null||C.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:r,boxes:E,anchorNode:a,anchorOffset:c,focusNode:d,focusOffset:f,text:m}),k&&this.showAllEditors("highlight",!0,!0)};if(k){this.switchToMode(ui.HIGHLIGHT,V);return}V()}addToAnnotationStorage(r){!r.isEmpty()&&y(this,gd)&&!y(this,gd).has(r.id)&&y(this,gd).setValue(r.id,r)}blur(){if(this.isShiftKeyDown=!1,y(this,If)&&(se(this,If,!1),ue(this,jn,Ub).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:r}=document;for(const n of y(this,vs))if(n.div.contains(r)){se(this,nm,[n,r]),n._focusEventsAllowed=!1;break}}focus(){if(!y(this,nm))return;const[r,n]=y(this,nm);se(this,nm,null),n.addEventListener("focusin",()=>{r._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){ue(this,jn,t_).call(this),ue(this,jn,n_).call(this)}removeEditListeners(){ue(this,jn,yM).call(this),ue(this,jn,r_).call(this)}dragOver(r){for(const{type:n}of r.dataTransfer.items)for(const a of y(this,Vc))if(a.isHandlingMimeForPasting(n)){r.dataTransfer.dropEffect="copy",r.preventDefault();return}}drop(r){for(const n of r.dataTransfer.items)for(const a of y(this,Vc))if(a.isHandlingMimeForPasting(n.type)){a.paste(n,this.currentLayer),r.preventDefault();return}}copy(r){var a;if(r.preventDefault(),(a=y(this,Eu))==null||a.commitOrRemove(),!this.hasSelection)return;const n=[];for(const c of y(this,vs)){const d=c.serialize(!0);d&&n.push(d)}n.length!==0&&r.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(r){this.copy(r),this.delete()}async paste(r){r.preventDefault();const{clipboardData:n}=r;for(const d of n.items)for(const f of y(this,Vc))if(f.isHandlingMimeForPasting(d.type)){f.paste(d,this.currentLayer);return}let a=n.getData("application/pdfjs");if(!a)return;try{a=JSON.parse(a)}catch(d){gi(`paste: "${d.message}".`);return}if(!Array.isArray(a))return;this.unselectAll();const c=this.currentLayer;try{const d=[];for(const b of a){const _=await c.deserialize(b);if(!_)return;d.push(_)}const f=()=>{for(const b of d)ue(this,jn,i_).call(this,b);ue(this,jn,s_).call(this,d)},m=()=>{for(const b of d)b.remove()};this.addCommands({cmd:f,undo:m,mustExec:!0})}catch(d){gi(`paste: "${d.message}".`)}}keydown(r){!this.isShiftKeyDown&&r.key==="Shift"&&(this.isShiftKeyDown=!0),y(this,Ga)!==ui.NONE&&!this.isEditorHandlingKeyboard&&Xg._keyboardManager.exec(this,r)}keyup(r){this.isShiftKeyDown&&r.key==="Shift"&&(this.isShiftKeyDown=!1,y(this,If)&&(se(this,If,!1),ue(this,jn,Ub).call(this,"main_toolbar")))}onEditingAction({name:r}){switch(r){case"undo":case"redo":case"delete":case"selectAll":this[r]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(r){r?(ue(this,jn,gM).call(this),ue(this,jn,n_).call(this),ue(this,jn,Rl).call(this,{isEditing:y(this,Ga)!==ui.NONE,isEmpty:ue(this,jn,K0).call(this),hasSomethingToUndo:y(this,Gc).hasSomethingToUndo(),hasSomethingToRedo:y(this,Gc).hasSomethingToRedo(),hasSelectedEditor:!1})):(ue(this,jn,vM).call(this),ue(this,jn,r_).call(this),ue(this,jn,Rl).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(r){if(!y(this,Vc)){se(this,Vc,r);for(const n of y(this,Vc))ue(this,jn,Tf).call(this,n.defaultPropertiesToUpdate)}}getId(){return y(this,E1).id}get currentLayer(){return y(this,nl).get(y(this,tv))}getLayer(r){return y(this,nl).get(r)}get currentPageIndex(){return y(this,tv)}addLayer(r){y(this,nl).set(r.pageIndex,r),y(this,Nf)?r.enable():r.disable()}removeLayer(r){y(this,nl).delete(r.pageIndex)}async updateMode(r,n=null,a=!1){if(y(this,Ga)!==r&&!(y(this,oc)&&(await y(this,oc).promise,!y(this,oc)))){if(se(this,oc,Promise.withResolvers()),se(this,Ga,r),r===ui.NONE){this.setEditingState(!1),ue(this,jn,wM).call(this),y(this,oc).resolve();return}this.setEditingState(!0),await ue(this,jn,bM).call(this),this.unselectAll();for(const c of y(this,nl).values())c.updateMode(r);if(!n){a&&this.addNewEditorFromKeyboard(),y(this,oc).resolve();return}for(const c of y(this,wa).values())c.annotationElementId===n?(this.setSelected(c),c.enterInEditMode()):c.unselect();y(this,oc).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(r){r!==y(this,Ga)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:r})}updateParams(r,n){var a;if(y(this,Vc)){switch(r){case Vr.CREATE:this.currentLayer.addNewEditor();return;case Vr.HIGHLIGHT_DEFAULT_COLOR:(a=y(this,Ty))==null||a.updateColor(n);break;case Vr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(y(this,Ly)||se(this,Ly,new Map)).set(r,n),this.showAllEditors("highlight",n);break}for(const c of y(this,vs))c.updateParams(r,n);for(const c of y(this,Vc))c.updateDefaultParams(r,n)}}showAllEditors(r,n,a=!1){var d;for(const f of y(this,wa).values())f.editorType===r&&f.show(n);(((d=y(this,Ly))==null?void 0:d.get(Vr.HIGHLIGHT_SHOW_ALL))??!0)!==n&&ue(this,jn,Tf).call(this,[[Vr.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(r=!1){if(y(this,Ay)!==r){se(this,Ay,r);for(const n of y(this,nl).values())r?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",r)}}getEditors(r){const n=[];for(const a of y(this,wa).values())a.pageIndex===r&&n.push(a);return n}getEditor(r){return y(this,wa).get(r)}addEditor(r){y(this,wa).set(r.id,r)}removeEditor(r){var n;r.div.contains(document.activeElement)&&(y(this,Rh)&&clearTimeout(y(this,Rh)),se(this,Rh,setTimeout(()=>{this.focusMainContainer(),se(this,Rh,null)},0))),y(this,wa).delete(r.id),this.unselect(r),(!r.annotationElementId||!y(this,em).has(r.annotationElementId))&&((n=y(this,gd))==null||n.remove(r.id))}addDeletedAnnotationElement(r){y(this,em).add(r.annotationElementId),this.addChangedExistingAnnotation(r),r.deleted=!0}isDeletedAnnotationElement(r){return y(this,em).has(r)}removeDeletedAnnotationElement(r){y(this,em).delete(r.annotationElementId),this.removeChangedExistingAnnotation(r),r.deleted=!1}setActiveEditor(r){y(this,Eu)!==r&&(se(this,Eu,r),r&&ue(this,jn,Tf).call(this,r.propertiesToUpdate))}updateUI(r){y(this,jn,_M)===r&&ue(this,jn,Tf).call(this,r.propertiesToUpdate)}toggleSelected(r){if(y(this,vs).has(r)){y(this,vs).delete(r),r.unselect(),ue(this,jn,Rl).call(this,{hasSelectedEditor:this.hasSelection});return}y(this,vs).add(r),r.select(),ue(this,jn,Tf).call(this,r.propertiesToUpdate),ue(this,jn,Rl).call(this,{hasSelectedEditor:!0})}setSelected(r){for(const n of y(this,vs))n!==r&&n.unselect();y(this,vs).clear(),y(this,vs).add(r),r.select(),ue(this,jn,Tf).call(this,r.propertiesToUpdate),ue(this,jn,Rl).call(this,{hasSelectedEditor:!0})}isSelected(r){return y(this,vs).has(r)}get firstSelectedEditor(){return y(this,vs).values().next().value}unselect(r){r.unselect(),y(this,vs).delete(r),ue(this,jn,Rl).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return y(this,vs).size!==0}get isEnterHandled(){return y(this,vs).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){y(this,Gc).undo(),ue(this,jn,Rl).call(this,{hasSomethingToUndo:y(this,Gc).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ue(this,jn,K0).call(this)})}redo(){y(this,Gc).redo(),ue(this,jn,Rl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:y(this,Gc).hasSomethingToRedo(),isEmpty:ue(this,jn,K0).call(this)})}addCommands(r){y(this,Gc).add(r),ue(this,jn,Rl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ue(this,jn,K0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const r=[...y(this,vs)],n=()=>{for(const c of r)c.remove()},a=()=>{for(const c of r)ue(this,jn,i_).call(this,c)};this.addCommands({cmd:n,undo:a,mustExec:!0})}commitOrRemove(){var r;(r=y(this,Eu))==null||r.commitOrRemove()}hasSomethingToControl(){return y(this,Eu)||this.hasSelection}selectAll(){for(const r of y(this,vs))r.commit();ue(this,jn,s_).call(this,y(this,wa).values())}unselectAll(){if(!(y(this,Eu)&&(y(this,Eu).commitOrRemove(),y(this,Ga)!==ui.NONE))&&this.hasSelection){for(const r of y(this,vs))r.unselect();y(this,vs).clear(),ue(this,jn,Rl).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(r,n,a=!1){if(a||this.commitOrRemove(),!this.hasSelection)return;y(this,Ff)[0]+=r,y(this,Ff)[1]+=n;const[c,d]=y(this,Ff),f=[...y(this,vs)],m=1e3;y(this,Oh)&&clearTimeout(y(this,Oh)),se(this,Oh,setTimeout(()=>{se(this,Oh,null),y(this,Ff)[0]=y(this,Ff)[1]=0,this.addCommands({cmd:()=>{for(const b of f)y(this,wa).has(b.id)&&b.translateInPage(c,d)},undo:()=>{for(const b of f)y(this,wa).has(b.id)&&b.translateInPage(-c,-d)},mustExec:!1})},m));for(const b of f)b.translateInPage(r,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),se(this,Ph,new Map);for(const r of y(this,vs))y(this,Ph).set(r,{savedX:r.x,savedY:r.y,savedPageIndex:r.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!y(this,Ph))return!1;this.disableUserSelect(!1);const r=y(this,Ph);se(this,Ph,null);let n=!1;for(const[{x:c,y:d,pageIndex:f},m]of r)m.newX=c,m.newY=d,m.newPageIndex=f,n||(n=c!==m.savedX||d!==m.savedY||f!==m.savedPageIndex);if(!n)return!1;const a=(c,d,f,m)=>{if(y(this,wa).has(c.id)){const b=y(this,nl).get(m);b?c._setParentAndPosition(b,d,f):(c.pageIndex=m,c.x=d,c.y=f)}};return this.addCommands({cmd:()=>{for(const[c,{newX:d,newY:f,newPageIndex:m}]of r)a(c,d,f,m)},undo:()=>{for(const[c,{savedX:d,savedY:f,savedPageIndex:m}]of r)a(c,d,f,m)},mustExec:!0}),!0}dragSelectedEditors(r,n){if(y(this,Ph))for(const a of y(this,Ph).keys())a.drag(r,n)}rebuild(r){if(r.parent===null){const n=this.getLayer(r.pageIndex);n?(n.changeParent(r),n.addOrRebuild(r)):(this.addEditor(r),this.addToAnnotationStorage(r),r.rebuild())}else r.parent.addOrRebuild(r)}get isEditorHandlingKeyboard(){var r;return((r=this.getActive())==null?void 0:r.shouldGetKeyboardEvents())||y(this,vs).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(r){return y(this,Eu)===r}getActive(){return y(this,Eu)}getMode(){return y(this,Ga)}get imageManager(){return Ni(this,"imageManager",new Jw)}getSelectionBoxes(r){if(!r)return null;const n=document.getSelection();for(let _=0,E=n.rangeCount;_<E;_++)if(!r.contains(n.getRangeAt(_).commonAncestorContainer))return null;const{x:a,y:c,width:d,height:f}=r.getBoundingClientRect();let m;switch(r.getAttribute("data-main-rotation")){case"90":m=(_,E,C,k)=>({x:(E-c)/f,y:1-(_+C-a)/d,width:k/f,height:C/d});break;case"180":m=(_,E,C,k)=>({x:1-(_+C-a)/d,y:1-(E+k-c)/f,width:C/d,height:k/f});break;case"270":m=(_,E,C,k)=>({x:1-(E+k-c)/f,y:(_-a)/d,width:k/f,height:C/d});break;default:m=(_,E,C,k)=>({x:(_-a)/d,y:(E-c)/f,width:C/d,height:k/f});break}const b=[];for(let _=0,E=n.rangeCount;_<E;_++){const C=n.getRangeAt(_);if(!C.collapsed)for(const{x:k,y:V,width:q,height:Y}of C.getClientRects())q===0||Y===0||b.push(m(k,V,q,Y))}return b.length===0?null:b}addChangedExistingAnnotation({annotationElementId:r,id:n}){(y(this,ev)||se(this,ev,new Map)).set(r,n)}removeChangedExistingAnnotation({annotationElementId:r}){var n;(n=y(this,ev))==null||n.delete(r)}renderAnnotationElement(r){var c;const n=(c=y(this,ev))==null?void 0:c.get(r.data.id);if(!n)return;const a=y(this,gd).getRawValue(n);a&&(y(this,Ga)===ui.NONE&&!a.hasBeenModified||a.renderAnnotationElement(r))}};Jg=new WeakMap,Eu=new WeakMap,wa=new WeakMap,nl=new WeakMap,Qg=new WeakMap,gd=new WeakMap,ev=new WeakMap,Gc=new WeakMap,kf=new WeakMap,tv=new WeakMap,em=new WeakMap,Ph=new WeakMap,Vc=new WeakMap,tm=new WeakMap,Sy=new WeakMap,Ey=new WeakMap,nv=new WeakMap,My=new WeakMap,Rh=new WeakMap,Of=new WeakMap,rv=new WeakMap,If=new WeakMap,kh=new WeakMap,E1=new WeakMap,Nf=new WeakMap,Ay=new WeakMap,Df=new WeakMap,nm=new WeakMap,Ty=new WeakMap,Cy=new WeakMap,Ga=new WeakMap,vs=new WeakMap,vd=new WeakMap,rm=new WeakMap,Ly=new WeakMap,Py=new WeakMap,Ff=new WeakMap,Oh=new WeakMap,yd=new WeakMap,Ry=new WeakMap,oc=new WeakMap,jn=new WeakSet,Hb=function({anchorNode:r}){return r.nodeType===Node.TEXT_NODE?r.parentElement:r},e_=function(r){const{currentLayer:n}=this;if(n.hasTextLayer(r))return n;for(const a of y(this,nl).values())if(a.hasTextLayer(r))return a;return null},fM=function(){const r=document.getSelection();if(!r||r.isCollapsed)return;const a=ue(this,jn,Hb).call(this,r).closest(".textLayer"),c=this.getSelectionBoxes(a);c&&(y(this,kh)||se(this,kh,new f2(this)),y(this,kh).show(a,c,this.direction==="ltr"))},pM=function(){var d,f,m;const r=document.getSelection();if(!r||r.isCollapsed){y(this,vd)&&((d=y(this,kh))==null||d.hide(),se(this,vd,null),ue(this,jn,Rl).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=r;if(n===y(this,vd))return;const c=ue(this,jn,Hb).call(this,r).closest(".textLayer");if(!c){y(this,vd)&&((f=y(this,kh))==null||f.hide(),se(this,vd,null),ue(this,jn,Rl).call(this,{hasSelectedText:!1}));return}if((m=y(this,kh))==null||m.hide(),se(this,vd,n),ue(this,jn,Rl).call(this,{hasSelectedText:!0}),!(y(this,Ga)!==ui.HIGHLIGHT&&y(this,Ga)!==ui.NONE)&&(y(this,Ga)===ui.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),se(this,If,this.isShiftKeyDown),!this.isShiftKeyDown)){const b=y(this,Ga)===ui.HIGHLIGHT?ue(this,jn,e_).call(this,c):null;b==null||b.toggleDrawing();const _=new AbortController,E=this.combinedSignal(_),C=k=>{k.type==="pointerup"&&k.button!==0||(_.abort(),b==null||b.toggleDrawing(!0),k.type==="pointerup"&&ue(this,jn,Ub).call(this,"main_toolbar"))};window.addEventListener("pointerup",C,{signal:E}),window.addEventListener("blur",C,{signal:E})}},Ub=function(r=""){y(this,Ga)===ui.HIGHLIGHT?this.highlightSelection(r):y(this,Sy)&&ue(this,jn,fM).call(this)},mM=function(){document.addEventListener("selectionchange",ue(this,jn,pM).bind(this),{signal:this._signal})},gM=function(){if(y(this,Of))return;se(this,Of,new AbortController);const r=this.combinedSignal(y(this,Of));window.addEventListener("focus",this.focus.bind(this),{signal:r}),window.addEventListener("blur",this.blur.bind(this),{signal:r})},vM=function(){var r;(r=y(this,Of))==null||r.abort(),se(this,Of,null)},t_=function(){if(y(this,Df))return;se(this,Df,new AbortController);const r=this.combinedSignal(y(this,Df));window.addEventListener("keydown",this.keydown.bind(this),{signal:r}),window.addEventListener("keyup",this.keyup.bind(this),{signal:r})},yM=function(){var r;(r=y(this,Df))==null||r.abort(),se(this,Df,null)},n_=function(){if(y(this,kf))return;se(this,kf,new AbortController);const r=this.combinedSignal(y(this,kf));document.addEventListener("copy",this.copy.bind(this),{signal:r}),document.addEventListener("cut",this.cut.bind(this),{signal:r}),document.addEventListener("paste",this.paste.bind(this),{signal:r})},r_=function(){var r;(r=y(this,kf))==null||r.abort(),se(this,kf,null)},xM=function(){const r=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:r}),document.addEventListener("drop",this.drop.bind(this),{signal:r})},Rl=function(r){Object.entries(r).some(([a,c])=>y(this,Py)[a]!==c)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(y(this,Py),r)}),y(this,Ga)===ui.HIGHLIGHT&&r.hasSelectedEditor===!1&&ue(this,jn,Tf).call(this,[[Vr.HIGHLIGHT_FREE,!0]]))},Tf=function(r){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:r})},bM=async function(){if(!y(this,Nf)){se(this,Nf,!0);const r=[];for(const n of y(this,nl).values())r.push(n.enable());await Promise.all(r);for(const n of y(this,wa).values())n.enable()}},wM=function(){if(this.unselectAll(),y(this,Nf)){se(this,Nf,!1);for(const r of y(this,nl).values())r.disable();for(const r of y(this,wa).values())r.disable()}},i_=function(r){const n=y(this,nl).get(r.pageIndex);n?n.addOrRebuild(r):(this.addEditor(r),this.addToAnnotationStorage(r))},_M=function(){let r=null;for(r of y(this,vs));return r},K0=function(){if(y(this,wa).size===0)return!0;if(y(this,wa).size===1)for(const r of y(this,wa).values())return r.isEmpty();return!1},s_=function(r){for(const n of y(this,vs))n.unselect();y(this,vs).clear();for(const n of r)n.isEmpty()||(y(this,vs).add(n),n.select());ue(this,jn,Rl).call(this,{hasSelectedEditor:this.hasSelection})},Gr(Xg,"TRANSLATE_SMALL",1),Gr(Xg,"TRANSLATE_BIG",10);let $m=Xg;var Va,Ih,Wc,iv,Nh,Mu,sv,Dh,Ql,xd,im,Fh,zf,th,J0,Gb;const kl=class kl{constructor(r){fe(this,th);fe(this,Va,null);fe(this,Ih,!1);fe(this,Wc,null);fe(this,iv,null);fe(this,Nh,null);fe(this,Mu,null);fe(this,sv,!1);fe(this,Dh,null);fe(this,Ql,null);fe(this,xd,null);fe(this,im,null);fe(this,Fh,!1);se(this,Ql,r),se(this,Fh,r._uiManager.useNewAltTextFlow),y(kl,zf)||se(kl,zf,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(r){kl._l10n??(kl._l10n=r)}async render(){const r=se(this,Wc,document.createElement("button"));r.className="altText",r.tabIndex="0";const n=se(this,iv,document.createElement("span"));r.append(n),y(this,Fh)?(r.classList.add("new"),r.setAttribute("data-l10n-id",y(kl,zf).missing),n.setAttribute("data-l10n-id",y(kl,zf)["missing-label"])):(r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const a=y(this,Ql)._uiManager._signal;r.addEventListener("contextmenu",pc,{signal:a}),r.addEventListener("pointerdown",d=>d.stopPropagation(),{signal:a});const c=d=>{d.preventDefault(),y(this,Ql)._uiManager.editAltText(y(this,Ql)),y(this,Fh)&&y(this,Ql)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:y(this,th,J0)}})};return r.addEventListener("click",c,{capture:!0,signal:a}),r.addEventListener("keydown",d=>{d.target===r&&d.key==="Enter"&&(se(this,sv,!0),c(d))},{signal:a}),await ue(this,th,Gb).call(this),r}finish(){y(this,Wc)&&(y(this,Wc).focus({focusVisible:y(this,sv)}),se(this,sv,!1))}isEmpty(){return y(this,Fh)?y(this,Va)===null:!y(this,Va)&&!y(this,Ih)}hasData(){return y(this,Fh)?y(this,Va)!==null||!!y(this,xd):this.isEmpty()}get guessedText(){return y(this,xd)}async setGuessedText(r){y(this,Va)===null&&(se(this,xd,r),se(this,im,await kl._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:r})),ue(this,th,Gb).call(this))}toggleAltTextBadge(r=!1){var n;if(!y(this,Fh)||y(this,Va)){(n=y(this,Dh))==null||n.remove(),se(this,Dh,null);return}if(!y(this,Dh)){const a=se(this,Dh,document.createElement("div"));a.className="noAltTextBadge",y(this,Ql).div.append(a)}y(this,Dh).classList.toggle("hidden",!r)}serialize(r){let n=y(this,Va);return!r&&y(this,xd)===n&&(n=y(this,im)),{altText:n,decorative:y(this,Ih),guessedText:y(this,xd),textWithDisclaimer:y(this,im)}}get data(){return{altText:y(this,Va),decorative:y(this,Ih)}}set data({altText:r,decorative:n,guessedText:a,textWithDisclaimer:c,cancel:d=!1}){a&&(se(this,xd,a),se(this,im,c)),!(y(this,Va)===r&&y(this,Ih)===n)&&(d||(se(this,Va,r),se(this,Ih,n)),ue(this,th,Gb).call(this))}toggle(r=!1){y(this,Wc)&&(!r&&y(this,Mu)&&(clearTimeout(y(this,Mu)),se(this,Mu,null)),y(this,Wc).disabled=!r)}shown(){y(this,Ql)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:y(this,th,J0)}})}destroy(){var r,n;(r=y(this,Wc))==null||r.remove(),se(this,Wc,null),se(this,iv,null),se(this,Nh,null),(n=y(this,Dh))==null||n.remove(),se(this,Dh,null)}};Va=new WeakMap,Ih=new WeakMap,Wc=new WeakMap,iv=new WeakMap,Nh=new WeakMap,Mu=new WeakMap,sv=new WeakMap,Dh=new WeakMap,Ql=new WeakMap,xd=new WeakMap,im=new WeakMap,Fh=new WeakMap,zf=new WeakMap,th=new WeakSet,J0=function(){return y(this,Va)&&"added"||y(this,Va)===null&&this.guessedText&&"review"||"missing"},Gb=async function(){var c,d,f;const r=y(this,Wc);if(!r)return;if(y(this,Fh)){if(r.classList.toggle("done",!!y(this,Va)),r.setAttribute("data-l10n-id",y(kl,zf)[y(this,th,J0)]),(c=y(this,iv))==null||c.setAttribute("data-l10n-id",y(kl,zf)[`${y(this,th,J0)}-label`]),!y(this,Va)){(d=y(this,Nh))==null||d.remove();return}}else{if(!y(this,Va)&&!y(this,Ih)){r.classList.remove("done"),(f=y(this,Nh))==null||f.remove();return}r.classList.add("done"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=y(this,Nh);if(!n){se(this,Nh,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${y(this,Ql).id}`;const m=100,b=y(this,Ql)._uiManager._signal;b.addEventListener("abort",()=>{clearTimeout(y(this,Mu)),se(this,Mu,null)},{once:!0}),r.addEventListener("mouseenter",()=>{se(this,Mu,setTimeout(()=>{se(this,Mu,null),y(this,Nh).classList.add("show"),y(this,Ql)._reportTelemetry({action:"alt_text_tooltip"})},m))},{signal:b}),r.addEventListener("mouseleave",()=>{var _;y(this,Mu)&&(clearTimeout(y(this,Mu)),se(this,Mu,null)),(_=y(this,Nh))==null||_.classList.remove("show")},{signal:b})}y(this,Ih)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=y(this,Va)),n.parentNode||r.append(n);const a=y(this,Ql).getImageForAltText();a==null||a.setAttribute("aria-describedby",n.id)},fe(kl,zf,null),Gr(kl,"_l10n",null);let p1=kl;var sm,qc,vo,ov,om,rl,am,Bf,ky,lm,jf,Oy,um,bd,zh,av,lv,ac,Iy,M1,hi,o_,Ny,a_,l_,SM,EM,u_,c_,h_,MM,d_,AM,TM,CM,f_,Q0;const os=class os{constructor(r){fe(this,hi);fe(this,sm,null);fe(this,qc,null);fe(this,vo,null);fe(this,ov,!1);fe(this,om,!1);fe(this,rl,null);fe(this,am,null);fe(this,Bf,null);fe(this,ky,"");fe(this,lm,!1);fe(this,jf,null);fe(this,Oy,!1);fe(this,um,!1);fe(this,bd,!1);fe(this,zh,null);fe(this,av,0);fe(this,lv,0);fe(this,ac,null);Gr(this,"_editToolbar",null);Gr(this,"_initialOptions",Object.create(null));Gr(this,"_initialData",null);Gr(this,"_isVisible",!0);Gr(this,"_uiManager",null);Gr(this,"_focusEventsAllowed",!0);fe(this,Iy,!1);fe(this,M1,os._zIndex++);this.parent=r.parent,this.id=r.id,this.width=this.height=null,this.pageIndex=r.parent.pageIndex,this.name=r.name,this.div=null,this._uiManager=r.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=r.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:a,pageHeight:c,pageX:d,pageY:f}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,c],this.pageTranslation=[d,f];const[m,b]=this.parentDimensions;this.x=r.x/m,this.y=r.y/b,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const r=os.prototype._resizeWithKeyboard,n=$m.TRANSLATE_SMALL,a=$m.TRANSLATE_BIG;return Ni(this,"_resizerKeyboardManager",new Ox([[["ArrowLeft","mac+ArrowLeft"],r,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r,{args:[-a,0]}],[["ArrowRight","mac+ArrowRight"],r,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r,{args:[a,0]}],[["ArrowUp","mac+ArrowUp"],r,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r,{args:[0,-a]}],[["ArrowDown","mac+ArrowDown"],r,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r,{args:[0,a]}],[["Escape","mac+Escape"],os.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ni(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(r){const n=new v2({id:r.parent.getNextId(),parent:r.parent,uiManager:r._uiManager});n.annotationElementId=r.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(r,n){if(os._l10n??(os._l10n=r),os._l10nResizer||(os._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),os._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);os._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(r,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(r){return!1}static paste(r,n){$s("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return y(this,Iy)}set _isDraggable(r){var n;se(this,Iy,r),(n=this.div)==null||n.classList.toggle("draggable",r)}get isEnterHandled(){return!0}center(){const[r,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(r*2),this.y+=this.width*r/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(r*2),this.y-=this.width*r/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(r){this._uiManager.addCommands(r)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=y(this,M1)}setParent(r){r!==null?(this.pageIndex=r.pageIndex,this.pageDimensions=r.pageDimensions):ue(this,hi,Q0).call(this),this.parent=r}focusin(r){this._focusEventsAllowed&&(y(this,lm)?se(this,lm,!1):this.parent.setSelected(this))}focusout(r){var a;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=r.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(r.preventDefault(),(a=this.parent)!=null&&a.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(r,n,a,c){const[d,f]=this.parentDimensions;[a,c]=this.screenToPageTranslation(a,c),this.x=(r+a)/d,this.y=(n+c)/f,this.fixAndSetPosition()}translate(r,n){ue(this,hi,o_).call(this,this.parentDimensions,r,n)}translateInPage(r,n){y(this,jf)||se(this,jf,[this.x,this.y]),ue(this,hi,o_).call(this,this.pageDimensions,r,n),this.div.scrollIntoView({block:"nearest"})}drag(r,n){y(this,jf)||se(this,jf,[this.x,this.y]);const[a,c]=this.parentDimensions;if(this.x+=r/a,this.y+=n/c,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:_,y:E}=this.div.getBoundingClientRect();this.parent.findNewParent(this,_,E)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:d,y:f}=this;const[m,b]=this.getBaseTranslation();d+=m,f+=b,this.div.style.left=`${(100*d).toFixed(2)}%`,this.div.style.top=`${(100*f).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!y(this,jf)&&(y(this,jf)[0]!==this.x||y(this,jf)[1]!==this.y)}getBaseTranslation(){const[r,n]=this.parentDimensions,{_borderLineWidth:a}=os,c=a/r,d=a/n;switch(this.rotation){case 90:return[-c,d];case 180:return[c,d];case 270:return[c,-d];default:return[-c,-d]}}get _mustFixPosition(){return!0}fixAndSetPosition(r=this.rotation){const[n,a]=this.pageDimensions;let{x:c,y:d,width:f,height:m}=this;if(f*=n,m*=a,c*=n,d*=a,this._mustFixPosition)switch(r){case 0:c=Math.max(0,Math.min(n-f,c)),d=Math.max(0,Math.min(a-m,d));break;case 90:c=Math.max(0,Math.min(n-m,c)),d=Math.min(a,Math.max(f,d));break;case 180:c=Math.min(n,Math.max(f,c)),d=Math.min(a,Math.max(m,d));break;case 270:c=Math.min(n,Math.max(m,c)),d=Math.max(0,Math.min(a-f,d));break}this.x=c/=n,this.y=d/=a;const[b,_]=this.getBaseTranslation();c+=b,d+=_;const{style:E}=this.div;E.left=`${(100*c).toFixed(2)}%`,E.top=`${(100*d).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(r,n){var a;return ue(a=os,Ny,a_).call(a,r,n,this.parentRotation)}pageTranslationToScreen(r,n){var a;return ue(a=os,Ny,a_).call(a,r,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:r,pageDimensions:[n,a]}=this;return[n*r,a*r]}setDims(r,n){const[a,c]=this.parentDimensions;this.div.style.width=`${(100*r/a).toFixed(2)}%`,y(this,om)||(this.div.style.height=`${(100*n/c).toFixed(2)}%`)}fixDims(){const{style:r}=this.div,{height:n,width:a}=r,c=a.endsWith("%"),d=!y(this,om)&&n.endsWith("%");if(c&&d)return;const[f,m]=this.parentDimensions;c||(r.width=`${(100*parseFloat(a)/f).toFixed(2)}%`),!y(this,om)&&!d&&(r.height=`${(100*parseFloat(n)/m).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var r;(r=y(this,vo))==null||r.finish()}async addEditToolbar(){return this._editToolbar||y(this,um)?this._editToolbar:(this._editToolbar=new Zw(this),this.div.append(this._editToolbar.render()),y(this,vo)&&await this._editToolbar.addAltText(y(this,vo)),this._editToolbar)}removeEditToolbar(){var r;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(r=y(this,vo))==null||r.destroy())}addContainer(r){var a;const n=(a=this._editToolbar)==null?void 0:a.div;n?n.before(r):this.div.append(r)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){y(this,vo)||(p1.initialize(os._l10n),se(this,vo,new p1(this)),y(this,sm)&&(y(this,vo).data=y(this,sm),se(this,sm,null)),await this.addEditToolbar())}get altTextData(){var r;return(r=y(this,vo))==null?void 0:r.data}set altTextData(r){y(this,vo)&&(y(this,vo).data=r)}get guessedAltText(){var r;return(r=y(this,vo))==null?void 0:r.guessedText}async setGuessedAltText(r){var n;await((n=y(this,vo))==null?void 0:n.setGuessedText(r))}serializeAltText(r){var n;return(n=y(this,vo))==null?void 0:n.serialize(r)}hasAltText(){return!!y(this,vo)&&!y(this,vo).isEmpty()}hasAltTextData(){var r;return((r=y(this,vo))==null?void 0:r.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=y(this,ov)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),ue(this,hi,d_).call(this);const[r,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/r).toFixed(2)}%`,this.div.style.maxHeight=`${(100*r/n).toFixed(2)}%`);const[a,c]=this.getInitialTranslation();return this.translate(a,c),f1(this,this.div,["pointerdown"]),this.div}pointerdown(r){const{isMac:n}=Il.platform;if(r.button!==0||r.ctrlKey&&n){r.preventDefault();return}if(se(this,lm,!0),this._isDraggable){ue(this,hi,MM).call(this,r);return}ue(this,hi,h_).call(this,r)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){y(this,zh)&&clearTimeout(y(this,zh)),se(this,zh,setTimeout(()=>{var r;se(this,zh,null),(r=this.parent)==null||r.moveEditorInDOM(this)},0))}_setParentAndPosition(r,n,a){r.changeParent(this),this.x=n,this.y=a,this.fixAndSetPosition()}getRect(r,n,a=this.rotation){const c=this.parentScale,[d,f]=this.pageDimensions,[m,b]=this.pageTranslation,_=r/c,E=n/c,C=this.x*d,k=this.y*f,V=this.width*d,q=this.height*f;switch(a){case 0:return[C+_+m,f-k-E-q+b,C+_+V+m,f-k-E+b];case 90:return[C+E+m,f-k+_+b,C+E+q+m,f-k+_+V+b];case 180:return[C-_-V+m,f-k+E+b,C-_+m,f-k+E+q+b];case 270:return[C-E-q+m,f-k-_-V+b,C-E+m,f-k-_+b];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(r,n){const[a,c,d,f]=r,m=d-a,b=f-c;switch(this.rotation){case 0:return[a,n-f,m,b];case 90:return[a,n-c,b,m];case 180:return[d,n-c,m,b];case 270:return[d,n-f,b,m];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){se(this,um,!0)}disableEditMode(){se(this,um,!1)}isInEditMode(){return y(this,um)}shouldGetKeyboardEvents(){return y(this,bd)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){ue(this,hi,d_).call(this)}rotate(r){}serializeDeleted(){var r;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}serialize(r=!1,n=null){$s("An editor must be serializable")}static async deserialize(r,n,a){const c=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:a});c.rotation=r.rotation,se(c,sm,r.accessibilityData);const[d,f]=c.pageDimensions,[m,b,_,E]=c.getRectInCurrentCoords(r.rect,f);return c.x=m/d,c.y=b/f,c.width=_/d,c.height=E/f,c}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var r;if((r=y(this,Bf))==null||r.abort(),se(this,Bf,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),y(this,zh)&&(clearTimeout(y(this,zh)),se(this,zh,null)),ue(this,hi,Q0).call(this),this.removeEditToolbar(),y(this,ac)){for(const n of y(this,ac).values())clearTimeout(n);se(this,ac,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(ue(this,hi,SM).call(this),y(this,rl).classList.remove("hidden"),f1(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(r){if(!this.isResizable||r.target!==this.div||r.key!=="Enter")return;this._uiManager.setSelected(this),se(this,am,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=y(this,rl).children;if(!y(this,qc)){se(this,qc,Array.from(n));const f=ue(this,hi,AM).bind(this),m=ue(this,hi,TM).bind(this),b=this._uiManager._signal;for(const _ of y(this,qc)){const E=_.getAttribute("data-resizer-name");_.setAttribute("role","spinbutton"),_.addEventListener("keydown",f,{signal:b}),_.addEventListener("blur",m,{signal:b}),_.addEventListener("focus",ue(this,hi,CM).bind(this,E),{signal:b}),_.setAttribute("data-l10n-id",os._l10nResizer[E])}}const a=y(this,qc)[0];let c=0;for(const f of n){if(f===a)break;c++}const d=(360-this.rotation+this.parentRotation)%360/90*(y(this,qc).length/4);if(d!==c){if(d<c)for(let m=0;m<c-d;m++)y(this,rl).append(y(this,rl).firstChild);else if(d>c)for(let m=0;m<d-c;m++)y(this,rl).firstChild.before(y(this,rl).lastChild);let f=0;for(const m of n){const _=y(this,qc)[f++].getAttribute("data-resizer-name");m.setAttribute("data-l10n-id",os._l10nResizer[_])}}ue(this,hi,f_).call(this,0),se(this,bd,!0),y(this,rl).firstChild.focus({focusVisible:!0}),r.preventDefault(),r.stopImmediatePropagation()}_resizeWithKeyboard(r,n){y(this,bd)&&ue(this,hi,c_).call(this,y(this,ky),{movementX:r,movementY:n})}_stopResizingWithKeyboard(){ue(this,hi,Q0).call(this),this.div.focus()}select(){var r,n,a;if(this.makeResizable(),(r=this.div)==null||r.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var c,d;(c=this.div)!=null&&c.classList.contains("selectedEditor")&&((d=this._editToolbar)==null||d.show())});return}(n=this._editToolbar)==null||n.show(),(a=y(this,vo))==null||a.toggleAltTextBadge(!1)}unselect(){var r,n,a,c,d;(r=y(this,rl))==null||r.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(a=this.div)!=null&&a.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(c=this._editToolbar)==null||c.hide(),(d=y(this,vo))==null||d.toggleAltTextBadge(!0)}updateParams(r,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return y(this,Oy)}set isEditing(r){se(this,Oy,r),this.parent&&(r?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(r,n){se(this,om,!0);const a=r/n,{style:c}=this.div;c.aspectRatio=a,c.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(r,n=!1){if(n){y(this,ac)||se(this,ac,new Map);const{action:a}=r;let c=y(this,ac).get(a);c&&clearTimeout(c),c=setTimeout(()=>{this._reportTelemetry(r),y(this,ac).delete(a),y(this,ac).size===0&&se(this,ac,null)},os._telemetryTimeout),y(this,ac).set(a,c);return}r.type||(r.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:r}})}show(r=this._isVisible){this.div.classList.toggle("hidden",!r),this._isVisible=r}enable(){this.div&&(this.div.tabIndex=0),se(this,ov,!1)}disable(){this.div&&(this.div.tabIndex=-1),se(this,ov,!0)}renderAnnotationElement(r){let n=r.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.container.prepend(n);else if(n.nodeName==="CANVAS"){const a=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),a.before(n)}return n}resetAnnotationElement(r){const{firstChild:n}=r.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};sm=new WeakMap,qc=new WeakMap,vo=new WeakMap,ov=new WeakMap,om=new WeakMap,rl=new WeakMap,am=new WeakMap,Bf=new WeakMap,ky=new WeakMap,lm=new WeakMap,jf=new WeakMap,Oy=new WeakMap,um=new WeakMap,bd=new WeakMap,zh=new WeakMap,av=new WeakMap,lv=new WeakMap,ac=new WeakMap,Iy=new WeakMap,M1=new WeakMap,hi=new WeakSet,o_=function([r,n],a,c){[a,c]=this.screenToPageTranslation(a,c),this.x+=a/r,this.y+=c/n,this.fixAndSetPosition()},Ny=new WeakSet,a_=function(r,n,a){switch(a){case 90:return[n,-r];case 180:return[-r,-n];case 270:return[-n,r];default:return[r,n]}},l_=function(r){switch(r){case 90:{const[n,a]=this.pageDimensions;return[0,-n/a,a/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,a]=this.pageDimensions;return[0,n/a,-a/n,0]}default:return[1,0,0,1]}},SM=function(){if(y(this,rl))return;se(this,rl,document.createElement("div")),y(this,rl).classList.add("resizers");const r=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const a of r){const c=document.createElement("div");y(this,rl).append(c),c.classList.add("resizer",a),c.setAttribute("data-resizer-name",a),c.addEventListener("pointerdown",ue(this,hi,EM).bind(this,a),{signal:n}),c.addEventListener("contextmenu",pc,{signal:n}),c.tabIndex=-1}this.div.prepend(y(this,rl))},EM=function(r,n){var q;n.preventDefault();const{isMac:a}=Il.platform;if(n.button!==0||n.ctrlKey&&a)return;(q=y(this,vo))==null||q.toggle(!1);const c=this._isDraggable;this._isDraggable=!1;const d=new AbortController,f=this._uiManager.combinedSignal(d);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ue(this,hi,c_).bind(this,r),{passive:!0,capture:!0,signal:f}),window.addEventListener("contextmenu",pc,{signal:f});const m=this.x,b=this.y,_=this.width,E=this.height,C=this.parent.div.style.cursor,k=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const V=()=>{var Y;d.abort(),this.parent.togglePointerEvents(!0),(Y=y(this,vo))==null||Y.toggle(!0),this._isDraggable=c,this.parent.div.style.cursor=C,this.div.style.cursor=k,ue(this,hi,u_).call(this,m,b,_,E)};window.addEventListener("pointerup",V,{signal:f}),window.addEventListener("blur",V,{signal:f})},u_=function(r,n,a,c){const d=this.x,f=this.y,m=this.width,b=this.height;d===r&&f===n&&m===a&&b===c||this.addCommands({cmd:()=>{this.width=m,this.height=b,this.x=d,this.y=f;const[_,E]=this.parentDimensions;this.setDims(_*m,E*b),this.fixAndSetPosition()},undo:()=>{this.width=a,this.height=c,this.x=r,this.y=n;const[_,E]=this.parentDimensions;this.setDims(_*a,E*c),this.fixAndSetPosition()},mustExec:!0})},c_=function(r,n){const[a,c]=this.parentDimensions,d=this.x,f=this.y,m=this.width,b=this.height,_=os.MIN_SIZE/a,E=os.MIN_SIZE/c,C=at=>Math.round(at*1e4)/1e4,k=ue(this,hi,l_).call(this,this.rotation),V=(at,Ge)=>[k[0]*at+k[2]*Ge,k[1]*at+k[3]*Ge],q=ue(this,hi,l_).call(this,360-this.rotation),Y=(at,Ge)=>[q[0]*at+q[2]*Ge,q[1]*at+q[3]*Ge];let Z,W,ne=!1,le=!1;switch(r){case"topLeft":ne=!0,Z=(at,Ge)=>[0,0],W=(at,Ge)=>[at,Ge];break;case"topMiddle":Z=(at,Ge)=>[at/2,0],W=(at,Ge)=>[at/2,Ge];break;case"topRight":ne=!0,Z=(at,Ge)=>[at,0],W=(at,Ge)=>[0,Ge];break;case"middleRight":le=!0,Z=(at,Ge)=>[at,Ge/2],W=(at,Ge)=>[0,Ge/2];break;case"bottomRight":ne=!0,Z=(at,Ge)=>[at,Ge],W=(at,Ge)=>[0,0];break;case"bottomMiddle":Z=(at,Ge)=>[at/2,Ge],W=(at,Ge)=>[at/2,0];break;case"bottomLeft":ne=!0,Z=(at,Ge)=>[0,Ge],W=(at,Ge)=>[at,0];break;case"middleLeft":le=!0,Z=(at,Ge)=>[0,Ge/2],W=(at,Ge)=>[at,Ge/2];break}const ce=Z(m,b),Te=W(m,b);let we=V(...Te);const Fe=C(d+we[0]),R=C(f+we[1]);let nt=1,dt=1,[wt,Ze]=this.screenToPageTranslation(n.movementX,n.movementY);if([wt,Ze]=Y(wt/a,Ze/c),ne){const at=Math.hypot(m,b);nt=dt=Math.max(Math.min(Math.hypot(Te[0]-ce[0]-wt,Te[1]-ce[1]-Ze)/at,1/m,1/b),_/m,E/b)}else le?nt=Math.max(_,Math.min(1,Math.abs(Te[0]-ce[0]-wt)))/m:dt=Math.max(E,Math.min(1,Math.abs(Te[1]-ce[1]-Ze)))/b;const rt=C(m*nt),ot=C(b*dt);we=V(...W(rt,ot));const xt=Fe-we[0],We=R-we[1];this.width=rt,this.height=ot,this.x=xt,this.y=We,this.setDims(a*rt,c*ot),this.fixAndSetPosition()},h_=function(r){const{isMac:n}=Il.platform;r.ctrlKey&&!n||r.shiftKey||r.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},MM=function(r){const{isSelected:n}=this;this._uiManager.setUpDragSession();const a=new AbortController,c=this._uiManager.combinedSignal(a);if(n){this.div.classList.add("moving"),se(this,av,r.clientX),se(this,lv,r.clientY);const f=m=>{const{clientX:b,clientY:_}=m,[E,C]=this.screenToPageTranslation(b-y(this,av),_-y(this,lv));se(this,av,b),se(this,lv,_),this._uiManager.dragSelectedEditors(E,C)};window.addEventListener("pointermove",f,{passive:!0,capture:!0,signal:c})}const d=()=>{a.abort(),n&&this.div.classList.remove("moving"),se(this,lm,!1),this._uiManager.endDragSession()||ue(this,hi,h_).call(this,r)};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})},d_=function(){if(y(this,Bf)||!this.div)return;se(this,Bf,new AbortController);const r=this._uiManager.combinedSignal(y(this,Bf));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:r}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:r})},AM=function(r){os._resizerKeyboardManager.exec(this,r)},TM=function(r){var n;y(this,bd)&&((n=r.relatedTarget)==null?void 0:n.parentNode)!==y(this,rl)&&ue(this,hi,Q0).call(this)},CM=function(r){se(this,ky,y(this,bd)?r:"")},f_=function(r){if(y(this,qc))for(const n of y(this,qc))n.tabIndex=r},Q0=function(){if(se(this,bd,!1),ue(this,hi,f_).call(this,-1),y(this,am)){const{savedX:r,savedY:n,savedWidth:a,savedHeight:c}=y(this,am);ue(this,hi,u_).call(this,r,n,a,c),se(this,am,null)}},fe(os,Ny),Gr(os,"_l10n",null),Gr(os,"_l10nResizer",null),Gr(os,"_borderLineWidth",-1),Gr(os,"_colorManager",new Qw),Gr(os,"_zIndex",1),Gr(os,"_telemetryTimeout",1e3);let xs=os;class v2 extends xs{constructor(r){super(r),this.annotationElementId=r.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const DE=3285377520,sc=4294901760,Lh=65535;class LM{constructor(r){this.h1=r?r&4294967295:DE,this.h2=r?r&4294967295:DE}update(r){let n,a;if(typeof r=="string"){n=new Uint8Array(r.length*2),a=0;for(let Y=0,Z=r.length;Y<Z;Y++){const W=r.charCodeAt(Y);W<=255?n[a++]=W:(n[a++]=W>>>8,n[a++]=W&255)}}else if(ArrayBuffer.isView(r))n=r.slice(),a=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const c=a>>2,d=a-c*4,f=new Uint32Array(n.buffer,0,c);let m=0,b=0,_=this.h1,E=this.h2;const C=3432918353,k=461845907,V=C&Lh,q=k&Lh;for(let Y=0;Y<c;Y++)Y&1?(m=f[Y],m=m*C&sc|m*V&Lh,m=m<<15|m>>>17,m=m*k&sc|m*q&Lh,_^=m,_=_<<13|_>>>19,_=_*5+3864292196):(b=f[Y],b=b*C&sc|b*V&Lh,b=b<<15|b>>>17,b=b*k&sc|b*q&Lh,E^=b,E=E<<13|E>>>19,E=E*5+3864292196);switch(m=0,d){case 3:m^=n[c*4+2]<<16;case 2:m^=n[c*4+1]<<8;case 1:m^=n[c*4],m=m*C&sc|m*V&Lh,m=m<<15|m>>>17,m=m*k&sc|m*q&Lh,c&1?_^=m:E^=m}this.h1=_,this.h2=E}hexdigest(){let r=this.h1,n=this.h2;return r^=n>>>1,r=r*3981806797&sc|r*36045&Lh,n=n*4283543511&sc|((n<<16|r>>>16)*2950163797&sc)>>>16,r^=n>>>1,r=r*444984403&sc|r*60499&Lh,n=n*3301882366&sc|((n<<16|r>>>16)*3120437893&sc)>>>16,r^=n>>>1,(r>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const p_=Object.freeze({map:null,hash:"",transfer:void 0});var cm,hm,Wa,A1,PM;class pS{constructor(){fe(this,A1);fe(this,cm,!1);fe(this,hm,null);fe(this,Wa,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(r,n){const a=y(this,Wa).get(r);return a===void 0?n:Object.assign(n,a)}getRawValue(r){return y(this,Wa).get(r)}remove(r){if(y(this,Wa).delete(r),y(this,Wa).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of y(this,Wa).values())if(n instanceof xs)return;this.onAnnotationEditor(null)}}setValue(r,n){const a=y(this,Wa).get(r);let c=!1;if(a!==void 0)for(const[d,f]of Object.entries(n))a[d]!==f&&(c=!0,a[d]=f);else c=!0,y(this,Wa).set(r,n);c&&ue(this,A1,PM).call(this),n instanceof xs&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(r){return y(this,Wa).has(r)}getAll(){return y(this,Wa).size>0?lS(y(this,Wa)):null}setAll(r){for(const[n,a]of Object.entries(r))this.setValue(n,a)}get size(){return y(this,Wa).size}resetModified(){y(this,cm)&&(se(this,cm,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new RM(this)}get serializable(){if(y(this,Wa).size===0)return p_;const r=new Map,n=new LM,a=[],c=Object.create(null);let d=!1;for(const[f,m]of y(this,Wa)){const b=m instanceof xs?m.serialize(!1,c):m;b&&(r.set(f,b),n.update(`${f}:${JSON.stringify(b)}`),d||(d=!!b.bitmap))}if(d)for(const f of r.values())f.bitmap&&a.push(f.bitmap);return r.size>0?{map:r,hash:n.hexdigest(),transfer:a}:p_}get editorStats(){let r=null;const n=new Map;for(const a of y(this,Wa).values()){if(!(a instanceof xs))continue;const c=a.telemetryFinalData;if(!c)continue;const{type:d}=c;n.has(d)||n.set(d,Object.getPrototypeOf(a).constructor),r||(r=Object.create(null));const f=r[d]||(r[d]=new Map);for(const[m,b]of Object.entries(c)){if(m==="type")continue;let _=f.get(m);_||(_=new Map,f.set(m,_));const E=_.get(b)??0;_.set(b,E+1)}}for(const[a,c]of n)r[a]=c.computeTelemetryFinalData(r[a]);return r}resetModifiedIds(){se(this,hm,null)}get modifiedIds(){if(y(this,hm))return y(this,hm);const r=[];for(const n of y(this,Wa).values())!(n instanceof xs)||!n.annotationElementId||!n.serialize()||r.push(n.annotationElementId);return se(this,hm,{ids:new Set(r),hash:r.join(",")})}}cm=new WeakMap,hm=new WeakMap,Wa=new WeakMap,A1=new WeakSet,PM=function(){y(this,cm)||(se(this,cm,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Dy;class RM extends pS{constructor(n){super();fe(this,Dy);const{map:a,hash:c,transfer:d}=n.serializable,f=structuredClone(a,d?{transfer:d}:null);se(this,Dy,{map:f,hash:c,transfer:d})}get print(){$s("Should not call PrintAnnotationStorage.print")}get serializable(){return y(this,Dy)}get modifiedIds(){return Ni(this,"modifiedIds",{ids:new Set,hash:""})}}Dy=new WeakMap;var uv;class y2{constructor({ownerDocument:r=globalThis.document,styleElement:n=null}){fe(this,uv,new Set);this._document=r,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(r){this.nativeFontFaces.add(r),this._document.fonts.add(r)}removeNativeFontFace(r){this.nativeFontFaces.delete(r),this._document.fonts.delete(r)}insertRule(r){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(r,n.cssRules.length)}clear(){for(const r of this.nativeFontFaces)this._document.fonts.delete(r);this.nativeFontFaces.clear(),y(this,uv).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:r,_inspectFont:n}){if(!(!r||y(this,uv).has(r.loadedName))){if(Ea(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:c,style:d}=r,f=new FontFace(a,c,d);this.addNativeFontFace(f);try{await f.load(),y(this,uv).add(a),n==null||n(r)}catch{gi(`Cannot load system font: ${r.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(f)}return}$s("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(r){if(r.attached||r.missingFile&&!r.systemFontInfo)return;if(r.attached=!0,r.systemFontInfo){await this.loadSystemFont(r);return}if(this.isFontLoadingAPISupported){const a=r.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(c){throw gi(`Failed to load font '${a.family}': '${c}'.`),r.disableFontFace=!0,c}}return}const n=r.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(a=>{const c=this._queueLoadingCallback(a);this._prepareFontLoadEvent(r,c)})}}get isFontLoadingAPISupported(){var n;const r=!!((n=this._document)!=null&&n.fonts);return Ni(this,"isFontLoadingAPISupported",r)}get isSyncFontLoadingSupported(){let r=!1;return(bl||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(r=!0),Ni(this,"isSyncFontLoadingSupported",r)}_queueLoadingCallback(r){function n(){for(Ea(!c.done,"completeRequest() cannot be called twice."),c.done=!0;a.length>0&&a[0].done;){const d=a.shift();setTimeout(d.callback,0)}}const{loadingRequests:a}=this,c={done:!1,complete:n,callback:r};return a.push(c),c}get _loadTestFont(){const r=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ni(this,"_loadTestFont",r)}_prepareFontLoadEvent(r,n){function a(ce,Te){return ce.charCodeAt(Te)<<24|ce.charCodeAt(Te+1)<<16|ce.charCodeAt(Te+2)<<8|ce.charCodeAt(Te+3)&255}function c(ce,Te,we,Fe){const R=ce.substring(0,Te),nt=ce.substring(Te+we);return R+Fe+nt}let d,f;const m=this._document.createElement("canvas");m.width=1,m.height=1;const b=m.getContext("2d");let _=0;function E(ce,Te){if(++_>30){gi("Load test font never loaded."),Te();return}if(b.font="30px "+ce,b.fillText(".",0,20),b.getImageData(0,0,1,1).data[3]>0){Te();return}setTimeout(E.bind(null,ce,Te))}const C=`lt${Date.now()}${this.loadTestFontId++}`;let k=this._loadTestFont;k=c(k,976,C.length,C);const q=16,Y=1482184792;let Z=a(k,q);for(d=0,f=C.length-3;d<f;d+=4)Z=Z-Y+a(C,d)|0;d<C.length&&(Z=Z-Y+a(C+"XXX",d)|0),k=c(k,q,4,n2(Z));const W=`url(data:font/opentype;base64,${btoa(k)});`,ne=`@font-face {font-family:"${C}";src:${W}}`;this.insertRule(ne);const le=this._document.createElement("div");le.style.visibility="hidden",le.style.width=le.style.height="10px",le.style.position="absolute",le.style.top=le.style.left="0px";for(const ce of[r.loadedName,C]){const Te=this._document.createElement("span");Te.textContent="Hi",Te.style.fontFamily=ce,le.append(Te)}this._document.body.append(le),E(C,()=>{le.remove(),n.complete()})}}uv=new WeakMap;class x2{constructor(r,{disableFontFace:n=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(const c in r)this[c]=r[c];this.disableFontFace=n===!0,this._inspectFont=a}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let r;if(!this.cssFontInfo)r=new FontFace(this.loadedName,this.data,{});else{const a={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(a.style=`oblique ${this.cssFontInfo.italicAngle}deg`),r=new FontFace(this.cssFontInfo.fontFamily,this.data,a)}return(n=this._inspectFont)==null||n.call(this,this),r}createFontFaceRule(){var a;if(!this.data||this.disableFontFace)return null;const r=`url(data:${this.mimetype};base64,${l2(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${r}}`;else{let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${r}}`}return(a=this._inspectFont)==null||a.call(this,this,r),n}getPathGenerator(r,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let a;try{a=r.get(this.loadedName+"_path_"+n)}catch(d){gi(`getPathGenerator - ignoring character: "${d}".`)}if(!Array.isArray(a)||a.length===0)return this.compiledGlyphs[n]=function(d,f){};const c=[];for(let d=0,f=a.length;d<f;)switch(a[d++]){case hd.BEZIER_CURVE_TO:{const[m,b,_,E,C,k]=a.slice(d,d+6);c.push(V=>V.bezierCurveTo(m,b,_,E,C,k)),d+=6}break;case hd.MOVE_TO:{const[m,b]=a.slice(d,d+2);c.push(_=>_.moveTo(m,b)),d+=2}break;case hd.LINE_TO:{const[m,b]=a.slice(d,d+2);c.push(_=>_.lineTo(m,b)),d+=2}break;case hd.QUADRATIC_CURVE_TO:{const[m,b,_,E]=a.slice(d,d+4);c.push(C=>C.quadraticCurveTo(m,b,_,E)),d+=4}break;case hd.RESTORE:c.push(m=>m.restore());break;case hd.SAVE:c.push(m=>m.save());break;case hd.SCALE:Ea(c.length===2,"Scale command is only valid at the third position.");break;case hd.TRANSFORM:{const[m,b,_,E,C,k]=a.slice(d,d+6);c.push(V=>V.transform(m,b,_,E,C,k)),d+=6}break;case hd.TRANSLATE:{const[m,b]=a.slice(d,d+2);c.push(_=>_.translate(m,b)),d+=2}break}return this.compiledGlyphs[n]=function(f,m){c[0](f),c[1](f),f.scale(m,-m);for(let b=2,_=c.length;b<_;b++)c[b](f)}}}var Fy;class kM{constructor({enableHWA:r=!1}){fe(this,Fy,!1);se(this,Fy,r)}create(r,n){if(r<=0||n<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(r,n);return{canvas:a,context:a.getContext("2d",{willReadFrequently:!y(this,Fy)})}}reset(r,n,a){if(!r.canvas)throw new Error("Canvas is not specified");if(n<=0||a<=0)throw new Error("Invalid canvas size");r.canvas.width=n,r.canvas.height=a}destroy(r){if(!r.canvas)throw new Error("Canvas is not specified");r.canvas.width=0,r.canvas.height=0,r.canvas=null,r.context=null}_createCanvas(r,n){$s("Abstract method `_createCanvas` called.")}}Fy=new WeakMap;class b2 extends kM{constructor({ownerDocument:r=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=r}_createCanvas(r,n){const a=this._document.createElement("canvas");return a.width=r,a.height=n,a}}class OM{constructor({baseUrl:r=null,isCompressed:n=!0}){this.baseUrl=r,this.isCompressed=n}async fetch({name:r}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!r)throw new Error("CMap name must be specified.");const n=this.baseUrl+r+(this.isCompressed?".bcmap":"");return this._fetch(n).then(a=>({cMapData:a,isCompressed:this.isCompressed})).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(r){$s("Abstract method `_fetch` called.")}}class IM extends OM{async _fetch(r){const n=await V1(r,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):G1(n)}}class NM{addFilter(r){return"none"}addHCMFilter(r,n){return"none"}addAlphaFilter(r){return"none"}addLuminosityFilter(r){return"none"}addHighlightHCMFilter(r,n,a,c,d){return"none"}destroy(r=!1){}}var dm,fm,Bh,wd,vl,T1,pm,Kn,ml,Bg,jg,Vb,Hg,DM,m_,Ug,ey,ty,g_,ny;class w2 extends NM{constructor({docId:n,ownerDocument:a=globalThis.document}){super();fe(this,Kn);fe(this,dm);fe(this,fm);fe(this,Bh);fe(this,wd);fe(this,vl);fe(this,T1);fe(this,pm,0);se(this,wd,n),se(this,vl,a)}addFilter(n){if(!n)return"none";let a=y(this,Kn,ml).get(n);if(a)return a;const[c,d,f]=ue(this,Kn,Vb).call(this,n),m=n.length===1?c:`${c}${d}${f}`;if(a=y(this,Kn,ml).get(m),a)return y(this,Kn,ml).set(n,a),a;const b=`g_${y(this,wd)}_transfer_map_${Pl(this,pm)._++}`,_=ue(this,Kn,Hg).call(this,b);y(this,Kn,ml).set(n,_),y(this,Kn,ml).set(m,_);const E=ue(this,Kn,Ug).call(this,b);return ue(this,Kn,ty).call(this,c,d,f,E),_}addHCMFilter(n,a){var q;const c=`${n}-${a}`,d="base";let f=y(this,Kn,Bg).get(d);if((f==null?void 0:f.key)===c||(f?((q=f.filter)==null||q.remove(),f.key=c,f.url="none",f.filter=null):(f={key:c,url:"none",filter:null},y(this,Kn,Bg).set(d,f)),!n||!a))return f.url;const m=ue(this,Kn,ny).call(this,n);n=vr.makeHexColor(...m);const b=ue(this,Kn,ny).call(this,a);if(a=vr.makeHexColor(...b),y(this,Kn,jg).style.color="",n==="#000000"&&a==="#ffffff"||n===a)return f.url;const _=new Array(256);for(let Y=0;Y<=255;Y++){const Z=Y/255;_[Y]=Z<=.03928?Z/12.92:((Z+.055)/1.055)**2.4}const E=_.join(","),C=`g_${y(this,wd)}_hcm_filter`,k=f.filter=ue(this,Kn,Ug).call(this,C);ue(this,Kn,ty).call(this,E,E,E,k),ue(this,Kn,m_).call(this,k);const V=(Y,Z)=>{const W=m[Y]/255,ne=b[Y]/255,le=new Array(Z+1);for(let ce=0;ce<=Z;ce++)le[ce]=W+ce/Z*(ne-W);return le.join(",")};return ue(this,Kn,ty).call(this,V(0,5),V(1,5),V(2,5),k),f.url=ue(this,Kn,Hg).call(this,C),f.url}addAlphaFilter(n){let a=y(this,Kn,ml).get(n);if(a)return a;const[c]=ue(this,Kn,Vb).call(this,[n]),d=`alpha_${c}`;if(a=y(this,Kn,ml).get(d),a)return y(this,Kn,ml).set(n,a),a;const f=`g_${y(this,wd)}_alpha_map_${Pl(this,pm)._++}`,m=ue(this,Kn,Hg).call(this,f);y(this,Kn,ml).set(n,m),y(this,Kn,ml).set(d,m);const b=ue(this,Kn,Ug).call(this,f);return ue(this,Kn,g_).call(this,c,b),m}addLuminosityFilter(n){let a=y(this,Kn,ml).get(n||"luminosity");if(a)return a;let c,d;if(n?([c]=ue(this,Kn,Vb).call(this,[n]),d=`luminosity_${c}`):d="luminosity",a=y(this,Kn,ml).get(d),a)return y(this,Kn,ml).set(n,a),a;const f=`g_${y(this,wd)}_luminosity_map_${Pl(this,pm)._++}`,m=ue(this,Kn,Hg).call(this,f);y(this,Kn,ml).set(n,m),y(this,Kn,ml).set(d,m);const b=ue(this,Kn,Ug).call(this,f);return ue(this,Kn,DM).call(this,b),n&&ue(this,Kn,g_).call(this,c,b),m}addHighlightHCMFilter(n,a,c,d,f){var ne;const m=`${a}-${c}-${d}-${f}`;let b=y(this,Kn,Bg).get(n);if((b==null?void 0:b.key)===m||(b?((ne=b.filter)==null||ne.remove(),b.key=m,b.url="none",b.filter=null):(b={key:m,url:"none",filter:null},y(this,Kn,Bg).set(n,b)),!a||!c))return b.url;const[_,E]=[a,c].map(ue(this,Kn,ny).bind(this));let C=Math.round(.2126*_[0]+.7152*_[1]+.0722*_[2]),k=Math.round(.2126*E[0]+.7152*E[1]+.0722*E[2]),[V,q]=[d,f].map(ue(this,Kn,ny).bind(this));k<C&&([C,k,V,q]=[k,C,q,V]),y(this,Kn,jg).style.color="";const Y=(le,ce,Te)=>{const we=new Array(256),Fe=(k-C)/Te,R=le/255,nt=(ce-le)/(255*Te);let dt=0;for(let wt=0;wt<=Te;wt++){const Ze=Math.round(C+wt*Fe),rt=R+wt*nt;for(let ot=dt;ot<=Ze;ot++)we[ot]=rt;dt=Ze+1}for(let wt=dt;wt<256;wt++)we[wt]=we[dt-1];return we.join(",")},Z=`g_${y(this,wd)}_hcm_${n}_filter`,W=b.filter=ue(this,Kn,Ug).call(this,Z);return ue(this,Kn,m_).call(this,W),ue(this,Kn,ty).call(this,Y(V[0],q[0],5),Y(V[1],q[1],5),Y(V[2],q[2],5),W),b.url=ue(this,Kn,Hg).call(this,Z),b.url}destroy(n=!1){n&&y(this,Kn,Bg).size!==0||(y(this,Bh)&&(y(this,Bh).parentNode.parentNode.remove(),se(this,Bh,null)),y(this,fm)&&(y(this,fm).clear(),se(this,fm,null)),se(this,pm,0))}}dm=new WeakMap,fm=new WeakMap,Bh=new WeakMap,wd=new WeakMap,vl=new WeakMap,T1=new WeakMap,pm=new WeakMap,Kn=new WeakSet,ml=function(){return y(this,fm)||se(this,fm,new Map)},Bg=function(){return y(this,T1)||se(this,T1,new Map)},jg=function(){if(!y(this,Bh)){const n=y(this,vl).createElement("div"),{style:a}=n;a.visibility="hidden",a.contain="strict",a.width=a.height=0,a.position="absolute",a.top=a.left=0,a.zIndex=-1;const c=y(this,vl).createElementNS(fd,"svg");c.setAttribute("width",0),c.setAttribute("height",0),se(this,Bh,y(this,vl).createElementNS(fd,"defs")),n.append(c),c.append(y(this,Bh)),y(this,vl).body.append(n)}return y(this,Bh)},Vb=function(n){if(n.length===1){const _=n[0],E=new Array(256);for(let k=0;k<256;k++)E[k]=_[k]/255;const C=E.join(",");return[C,C,C]}const[a,c,d]=n,f=new Array(256),m=new Array(256),b=new Array(256);for(let _=0;_<256;_++)f[_]=a[_]/255,m[_]=c[_]/255,b[_]=d[_]/255;return[f.join(","),m.join(","),b.join(",")]},Hg=function(n){if(y(this,dm)===void 0){se(this,dm,"");const a=y(this,vl).URL;a!==y(this,vl).baseURI&&(W1(a)?gi('#createUrl: ignore "data:"-URL for performance reasons.'):se(this,dm,a.split("#",1)[0]))}return`url(${y(this,dm)}#${n})`},DM=function(n){const a=y(this,vl).createElementNS(fd,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(a)},m_=function(n){const a=y(this,vl).createElementNS(fd,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(a)},Ug=function(n){const a=y(this,vl).createElementNS(fd,"filter");return a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("id",n),y(this,Kn,jg).append(a),a},ey=function(n,a,c){const d=y(this,vl).createElementNS(fd,a);d.setAttribute("type","discrete"),d.setAttribute("tableValues",c),n.append(d)},ty=function(n,a,c,d){const f=y(this,vl).createElementNS(fd,"feComponentTransfer");d.append(f),ue(this,Kn,ey).call(this,f,"feFuncR",n),ue(this,Kn,ey).call(this,f,"feFuncG",a),ue(this,Kn,ey).call(this,f,"feFuncB",c)},g_=function(n,a){const c=y(this,vl).createElementNS(fd,"feComponentTransfer");a.append(c),ue(this,Kn,ey).call(this,c,"feFuncA",n)},ny=function(n){return y(this,Kn,jg).style.color=n,fS(getComputedStyle(y(this,Kn,jg)).getPropertyValue("color"))};class FM{constructor({baseUrl:r=null}){this.baseUrl=r}async fetch({filename:r}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!r)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${r}`;return this._fetch(n).catch(a=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(r){$s("Abstract method `_fetch` called.")}}class zM extends FM{async _fetch(r){const n=await V1(r,"arraybuffer");return new Uint8Array(n)}}if(bl){var v_=Promise.withResolvers(),fy=null;(async()=>{const r=await Rb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Rb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a=await Rb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),c=await Rb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let d,f;return new Map(Object.entries({fs:r,http:n,https:a,url:c,canvas:d,path2d:f}))})().then(r=>{fy=r,v_.resolve()},r=>{gi(`loadPackages: ${r}`),fy=new Map,v_.resolve()})}class ip{static get promise(){return v_.promise}static get(r){return fy==null?void 0:fy.get(r)}}async function BM(O){const n=await ip.get("fs").promises.readFile(O);return new Uint8Array(n)}class _2 extends NM{}class S2 extends kM{_createCanvas(r,n){return ip.get("canvas").createCanvas(r,n)}}class E2 extends OM{async _fetch(r){return BM(r)}}class M2 extends FM{async _fetch(r){return BM(r)}}const Ol={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function y_(O,r){if(!r)return;const n=r[2]-r[0],a=r[3]-r[1],c=new Path2D;c.rect(r[0],r[1],n,a),O.clip(c)}class mS{getPattern(){$s("Abstract method `getPattern` called.")}}class A2 extends mS{constructor(r){super(),this._type=r[1],this._bbox=r[2],this._colorStops=r[3],this._p0=r[4],this._p1=r[5],this._r0=r[6],this._r1=r[7],this.matrix=null}_createGradient(r){let n;this._type==="axial"?n=r.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=r.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)n.addColorStop(a[0],a[1]);return n}getPattern(r,n,a,c){let d;if(c===Ol.STROKE||c===Ol.FILL){const f=n.current.getClippedPathBoundingBox(c,xo(r))||[0,0,0,0],m=Math.ceil(f[2]-f[0])||1,b=Math.ceil(f[3]-f[1])||1,_=n.cachedCanvases.getCanvas("pattern",m,b),E=_.context;E.clearRect(0,0,E.canvas.width,E.canvas.height),E.beginPath(),E.rect(0,0,E.canvas.width,E.canvas.height),E.translate(-f[0],-f[1]),a=vr.transform(a,[1,0,0,1,f[0],f[1]]),E.transform(...n.baseTransform),this.matrix&&E.transform(...this.matrix),y_(E,this._bbox),E.fillStyle=this._createGradient(E),E.fill(),d=r.createPattern(_.canvas,"no-repeat");const C=new DOMMatrix(a);d.setTransform(C)}else y_(r,this._bbox),d=this._createGradient(r);return d}}function Uw(O,r,n,a,c,d,f,m){const b=r.coords,_=r.colors,E=O.data,C=O.width*4;let k;b[n+1]>b[a+1]&&(k=n,n=a,a=k,k=d,d=f,f=k),b[a+1]>b[c+1]&&(k=a,a=c,c=k,k=f,f=m,m=k),b[n+1]>b[a+1]&&(k=n,n=a,a=k,k=d,d=f,f=k);const V=(b[n]+r.offsetX)*r.scaleX,q=(b[n+1]+r.offsetY)*r.scaleY,Y=(b[a]+r.offsetX)*r.scaleX,Z=(b[a+1]+r.offsetY)*r.scaleY,W=(b[c]+r.offsetX)*r.scaleX,ne=(b[c+1]+r.offsetY)*r.scaleY;if(q>=ne)return;const le=_[d],ce=_[d+1],Te=_[d+2],we=_[f],Fe=_[f+1],R=_[f+2],nt=_[m],dt=_[m+1],wt=_[m+2],Ze=Math.round(q),rt=Math.round(ne);let ot,xt,We,at,Ge,te,lt,Ee;for(let ke=Ze;ke<=rt;ke++){if(ke<Z){const It=ke<q?0:(q-ke)/(q-Z);ot=V-(V-Y)*It,xt=le-(le-we)*It,We=ce-(ce-Fe)*It,at=Te-(Te-R)*It}else{let It;ke>ne?It=1:Z===ne?It=0:It=(Z-ke)/(Z-ne),ot=Y-(Y-W)*It,xt=we-(we-nt)*It,We=Fe-(Fe-dt)*It,at=R-(R-wt)*It}let it;ke<q?it=0:ke>ne?it=1:it=(q-ke)/(q-ne),Ge=V-(V-W)*it,te=le-(le-nt)*it,lt=ce-(ce-dt)*it,Ee=Te-(Te-wt)*it;const Ct=Math.round(Math.min(ot,Ge)),Gt=Math.round(Math.max(ot,Ge));let be=C*ke+Ct*4;for(let It=Ct;It<=Gt;It++)it=(ot-It)/(ot-Ge),it<0?it=0:it>1&&(it=1),E[be++]=xt-(xt-te)*it|0,E[be++]=We-(We-lt)*it|0,E[be++]=at-(at-Ee)*it|0,E[be++]=255}}function T2(O,r,n){const a=r.coords,c=r.colors;let d,f;switch(r.type){case"lattice":const m=r.verticesPerRow,b=Math.floor(a.length/m)-1,_=m-1;for(d=0;d<b;d++){let E=d*m;for(let C=0;C<_;C++,E++)Uw(O,n,a[E],a[E+1],a[E+m],c[E],c[E+1],c[E+m]),Uw(O,n,a[E+m+1],a[E+1],a[E+m],c[E+m+1],c[E+1],c[E+m])}break;case"triangles":for(d=0,f=a.length;d<f;d+=3)Uw(O,n,a[d],a[d+1],a[d+2],c[d],c[d+1],c[d+2]);break;default:throw new Error("illegal figure")}}class C2 extends mS{constructor(r){super(),this._coords=r[2],this._colors=r[3],this._figures=r[4],this._bounds=r[5],this._bbox=r[7],this._background=r[8],this.matrix=null}_createMeshCanvas(r,n,a){const m=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),_=Math.ceil(this._bounds[2])-m,E=Math.ceil(this._bounds[3])-b,C=Math.min(Math.ceil(Math.abs(_*r[0]*1.1)),3e3),k=Math.min(Math.ceil(Math.abs(E*r[1]*1.1)),3e3),V=_/C,q=E/k,Y={coords:this._coords,colors:this._colors,offsetX:-m,offsetY:-b,scaleX:1/V,scaleY:1/q},Z=C+2*2,W=k+2*2,ne=a.getCanvas("mesh",Z,W),le=ne.context,ce=le.createImageData(C,k);if(n){const we=ce.data;for(let Fe=0,R=we.length;Fe<R;Fe+=4)we[Fe]=n[0],we[Fe+1]=n[1],we[Fe+2]=n[2],we[Fe+3]=255}for(const we of this._figures)T2(ce,we,Y);return le.putImageData(ce,2,2),{canvas:ne.canvas,offsetX:m-2*V,offsetY:b-2*q,scaleX:V,scaleY:q}}getPattern(r,n,a,c){y_(r,this._bbox);let d;if(c===Ol.SHADING)d=vr.singularValueDecompose2dScale(xo(r));else if(d=vr.singularValueDecompose2dScale(n.baseTransform),this.matrix){const m=vr.singularValueDecompose2dScale(this.matrix);d=[d[0]*m[0],d[1]*m[1]]}const f=this._createMeshCanvas(d,c===Ol.SHADING?null:this._background,n.cachedCanvases);return c!==Ol.SHADING&&(r.setTransform(...n.baseTransform),this.matrix&&r.transform(...this.matrix)),r.translate(f.offsetX,f.offsetY),r.scale(f.scaleX,f.scaleY),r.createPattern(f.canvas,"no-repeat")}}class L2 extends mS{getPattern(){return"hotpink"}}function P2(O){switch(O[0]){case"RadialAxial":return new A2(O);case"Mesh":return new C2(O);case"Dummy":return new L2}throw new Error(`Unknown IR type: ${O[0]}`)}const FE={COLORED:1,UNCOLORED:2},C1=class C1{constructor(r,n,a,c,d){this.operatorList=r[2],this.matrix=r[3],this.bbox=r[4],this.xstep=r[5],this.ystep=r[6],this.paintType=r[7],this.tilingType=r[8],this.color=n,this.ctx=a,this.canvasGraphicsFactory=c,this.baseTransform=d}createPatternCanvas(r){const{bbox:n,operatorList:a,paintType:c,tilingType:d,color:f,canvasGraphicsFactory:m}=this;let{xstep:b,ystep:_}=this;b=Math.abs(b),_=Math.abs(_),H1("TilingType: "+d);const E=n[0],C=n[1],k=n[2],V=n[3],q=k-E,Y=V-C,Z=vr.singularValueDecompose2dScale(this.matrix),W=vr.singularValueDecompose2dScale(this.baseTransform),ne=Z[0]*W[0],le=Z[1]*W[1];let ce=q,Te=Y,we=!1,Fe=!1;const R=Math.ceil(b*ne),nt=Math.ceil(_*le),dt=Math.ceil(q*ne),wt=Math.ceil(Y*le);R>=dt?ce=b:we=!0,nt>=wt?Te=_:Fe=!0;const Ze=this.getSizeAndScale(ce,this.ctx.canvas.width,ne),rt=this.getSizeAndScale(Te,this.ctx.canvas.height,le),ot=r.cachedCanvases.getCanvas("pattern",Ze.size,rt.size),xt=ot.context,We=m.createCanvasGraphics(xt);if(We.groupLevel=r.groupLevel,this.setFillAndStrokeStyleToContext(We,c,f),xt.translate(-Ze.scale*E,-rt.scale*C),We.transform(Ze.scale,0,0,rt.scale,0,0),xt.save(),this.clipBbox(We,E,C,k,V),We.baseTransform=xo(We.ctx),We.executeOperatorList(a),We.endDrawing(),xt.restore(),we||Fe){const at=ot.canvas;we&&(ce=b),Fe&&(Te=_);const Ge=this.getSizeAndScale(ce,this.ctx.canvas.width,ne),te=this.getSizeAndScale(Te,this.ctx.canvas.height,le),lt=Ge.size,Ee=te.size,ke=r.cachedCanvases.getCanvas("pattern-workaround",lt,Ee),it=ke.context,Ct=we?Math.floor(q/b):0,Gt=Fe?Math.floor(Y/_):0;for(let be=0;be<=Ct;be++)for(let It=0;It<=Gt;It++)it.drawImage(at,lt*be,Ee*It,lt,Ee,0,0,lt,Ee);return{canvas:ke.canvas,scaleX:Ge.scale,scaleY:te.scale,offsetX:E,offsetY:C}}return{canvas:ot.canvas,scaleX:Ze.scale,scaleY:rt.scale,offsetX:E,offsetY:C}}getSizeAndScale(r,n,a){const c=Math.max(C1.MAX_PATTERN_SIZE,n);let d=Math.ceil(r*a);return d>=c?d=c:a=d/r,{scale:a,size:d}}clipBbox(r,n,a,c,d){const f=c-n,m=d-a;r.ctx.rect(n,a,f,m),r.current.updateRectMinMax(xo(r.ctx),[n,a,c,d]),r.clip(),r.endPath()}setFillAndStrokeStyleToContext(r,n,a){const c=r.ctx,d=r.current;switch(n){case FE.COLORED:const f=this.ctx;c.fillStyle=f.fillStyle,c.strokeStyle=f.strokeStyle,d.fillColor=f.fillStyle,d.strokeColor=f.strokeStyle;break;case FE.UNCOLORED:const m=vr.makeHexColor(a[0],a[1],a[2]);c.fillStyle=m,c.strokeStyle=m,d.fillColor=m,d.strokeColor=m;break;default:throw new t2(`Unsupported paint type: ${n}`)}}getPattern(r,n,a,c){let d=a;c!==Ol.SHADING&&(d=vr.transform(d,n.baseTransform),this.matrix&&(d=vr.transform(d,this.matrix)));const f=this.createPatternCanvas(n);let m=new DOMMatrix(d);m=m.translate(f.offsetX,f.offsetY),m=m.scale(1/f.scaleX,1/f.scaleY);const b=r.createPattern(f.canvas,"repeat");return b.setTransform(m),b}};Gr(C1,"MAX_PATTERN_SIZE",3e3);let x_=C1;function R2({src:O,srcPos:r=0,dest:n,width:a,height:c,nonBlackColor:d=4294967295,inverseDecode:f=!1}){const m=Il.isLittleEndian?4278190080:255,[b,_]=f?[d,m]:[m,d],E=a>>3,C=a&7,k=O.length;n=new Uint32Array(n.buffer);let V=0;for(let q=0;q<c;q++){for(const Z=r+E;r<Z;r++){const W=r<k?O[r]:255;n[V++]=W&128?_:b,n[V++]=W&64?_:b,n[V++]=W&32?_:b,n[V++]=W&16?_:b,n[V++]=W&8?_:b,n[V++]=W&4?_:b,n[V++]=W&2?_:b,n[V++]=W&1?_:b}if(C===0)continue;const Y=r<k?O[r++]:255;for(let Z=0;Z<C;Z++)n[V++]=Y&1<<7-Z?_:b}return{srcPos:r,destPos:V}}const zE=16,BE=100,k2=15,jE=10,HE=1e3,nu=16;function O2(O,r){if(O._removeMirroring)throw new Error("Context is already forwarding operations.");O.__originalSave=O.save,O.__originalRestore=O.restore,O.__originalRotate=O.rotate,O.__originalScale=O.scale,O.__originalTranslate=O.translate,O.__originalTransform=O.transform,O.__originalSetTransform=O.setTransform,O.__originalResetTransform=O.resetTransform,O.__originalClip=O.clip,O.__originalMoveTo=O.moveTo,O.__originalLineTo=O.lineTo,O.__originalBezierCurveTo=O.bezierCurveTo,O.__originalRect=O.rect,O.__originalClosePath=O.closePath,O.__originalBeginPath=O.beginPath,O._removeMirroring=()=>{O.save=O.__originalSave,O.restore=O.__originalRestore,O.rotate=O.__originalRotate,O.scale=O.__originalScale,O.translate=O.__originalTranslate,O.transform=O.__originalTransform,O.setTransform=O.__originalSetTransform,O.resetTransform=O.__originalResetTransform,O.clip=O.__originalClip,O.moveTo=O.__originalMoveTo,O.lineTo=O.__originalLineTo,O.bezierCurveTo=O.__originalBezierCurveTo,O.rect=O.__originalRect,O.closePath=O.__originalClosePath,O.beginPath=O.__originalBeginPath,delete O._removeMirroring},O.save=function(){r.save(),this.__originalSave()},O.restore=function(){r.restore(),this.__originalRestore()},O.translate=function(a,c){r.translate(a,c),this.__originalTranslate(a,c)},O.scale=function(a,c){r.scale(a,c),this.__originalScale(a,c)},O.transform=function(a,c,d,f,m,b){r.transform(a,c,d,f,m,b),this.__originalTransform(a,c,d,f,m,b)},O.setTransform=function(a,c,d,f,m,b){r.setTransform(a,c,d,f,m,b),this.__originalSetTransform(a,c,d,f,m,b)},O.resetTransform=function(){r.resetTransform(),this.__originalResetTransform()},O.rotate=function(a){r.rotate(a),this.__originalRotate(a)},O.clip=function(a){r.clip(a),this.__originalClip(a)},O.moveTo=function(n,a){r.moveTo(n,a),this.__originalMoveTo(n,a)},O.lineTo=function(n,a){r.lineTo(n,a),this.__originalLineTo(n,a)},O.bezierCurveTo=function(n,a,c,d,f,m){r.bezierCurveTo(n,a,c,d,f,m),this.__originalBezierCurveTo(n,a,c,d,f,m)},O.rect=function(n,a,c,d){r.rect(n,a,c,d),this.__originalRect(n,a,c,d)},O.closePath=function(){r.closePath(),this.__originalClosePath()},O.beginPath=function(){r.beginPath(),this.__originalBeginPath()}}class I2{constructor(r){this.canvasFactory=r,this.cache=Object.create(null)}getCanvas(r,n,a){let c;return this.cache[r]!==void 0?(c=this.cache[r],this.canvasFactory.reset(c,n,a)):(c=this.canvasFactory.create(n,a),this.cache[r]=c),c}delete(r){delete this.cache[r]}clear(){for(const r in this.cache){const n=this.cache[r];this.canvasFactory.destroy(n),delete this.cache[r]}}}function kb(O,r,n,a,c,d,f,m,b,_){const[E,C,k,V,q,Y]=xo(O);if(C===0&&k===0){const ne=f*E+q,le=Math.round(ne),ce=m*V+Y,Te=Math.round(ce),we=(f+b)*E+q,Fe=Math.abs(Math.round(we)-le)||1,R=(m+_)*V+Y,nt=Math.abs(Math.round(R)-Te)||1;return O.setTransform(Math.sign(E),0,0,Math.sign(V),le,Te),O.drawImage(r,n,a,c,d,0,0,Fe,nt),O.setTransform(E,C,k,V,q,Y),[Fe,nt]}if(E===0&&V===0){const ne=m*k+q,le=Math.round(ne),ce=f*C+Y,Te=Math.round(ce),we=(m+_)*k+q,Fe=Math.abs(Math.round(we)-le)||1,R=(f+b)*C+Y,nt=Math.abs(Math.round(R)-Te)||1;return O.setTransform(0,Math.sign(C),Math.sign(k),0,le,Te),O.drawImage(r,n,a,c,d,0,0,nt,Fe),O.setTransform(E,C,k,V,q,Y),[nt,Fe]}O.drawImage(r,n,a,c,d,f,m,b,_);const Z=Math.hypot(E,C),W=Math.hypot(k,V);return[Z*b,W*_]}function N2(O){const{width:r,height:n}=O;if(r>HE||n>HE)return null;const a=1e3,c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=r+1;let f=new Uint8Array(d*(n+1)),m,b,_;const E=r+7&-8;let C=new Uint8Array(E*n),k=0;for(const W of O.data){let ne=128;for(;ne>0;)C[k++]=W&ne?0:255,ne>>=1}let V=0;for(k=0,C[k]!==0&&(f[0]=1,++V),b=1;b<r;b++)C[k]!==C[k+1]&&(f[b]=C[k]?2:1,++V),k++;for(C[k]!==0&&(f[b]=2,++V),m=1;m<n;m++){k=m*E,_=m*d,C[k-E]!==C[k]&&(f[_]=C[k]?1:8,++V);let W=(C[k]?4:0)+(C[k-E]?8:0);for(b=1;b<r;b++)W=(W>>2)+(C[k+1]?4:0)+(C[k-E+1]?8:0),c[W]&&(f[_+b]=c[W],++V),k++;if(C[k-E]!==C[k]&&(f[_+b]=C[k]?2:4,++V),V>a)return null}for(k=E*(n-1),_=m*d,C[k]!==0&&(f[_]=8,++V),b=1;b<r;b++)C[k]!==C[k+1]&&(f[_+b]=C[k]?4:8,++V),k++;if(C[k]!==0&&(f[_+b]=4,++V),V>a)return null;const q=new Int32Array([0,d,-1,0,-d,0,0,0,1]),Y=new Path2D;for(m=0;V&&m<=n;m++){let W=m*d;const ne=W+r;for(;W<ne&&!f[W];)W++;if(W===ne)continue;Y.moveTo(W%d,m);const le=W;let ce=f[W];do{const Te=q[ce];do W+=Te;while(!f[W]);const we=f[W];we!==5&&we!==10?(ce=we,f[W]=0):(ce=we&51*ce>>4,f[W]&=ce>>2|ce<<2),Y.lineTo(W%d,W/d|0),f[W]||--V}while(le!==W);--m}return C=null,f=null,function(W){W.save(),W.scale(1/r,-1/n),W.translate(0,-n),W.fill(Y),W.beginPath(),W.restore()}}class UE{constructor(r,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=nM,this.textMatrixScale=1,this.fontMatrix=Ww,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=pl.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,r,n])}clone(){const r=Object.create(this);return r.clipBox=this.clipBox.slice(),r}setCurrentPoint(r,n){this.x=r,this.y=n}updatePathMinMax(r,n,a){[n,a]=vr.applyTransform([n,a],r),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,a),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,a)}updateRectMinMax(r,n){const a=vr.applyTransform(n,r),c=vr.applyTransform(n.slice(2),r),d=vr.applyTransform([n[0],n[3]],r),f=vr.applyTransform([n[2],n[1]],r);this.minX=Math.min(this.minX,a[0],c[0],d[0],f[0]),this.minY=Math.min(this.minY,a[1],c[1],d[1],f[1]),this.maxX=Math.max(this.maxX,a[0],c[0],d[0],f[0]),this.maxY=Math.max(this.maxY,a[1],c[1],d[1],f[1])}updateScalingPathMinMax(r,n){vr.scaleMinMax(r,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(r,n,a,c,d,f,m,b,_,E){const C=vr.bezierBoundingBox(n,a,c,d,f,m,b,_,E);E||this.updateRectMinMax(r,C)}getPathBoundingBox(r=Ol.FILL,n=null){const a=[this.minX,this.minY,this.maxX,this.maxY];if(r===Ol.STROKE){n||$s("Stroke bounding box must include transform.");const c=vr.singularValueDecompose2dScale(n),d=c[0]*this.lineWidth/2,f=c[1]*this.lineWidth/2;a[0]-=d,a[1]-=f,a[2]+=d,a[3]+=f}return a}updateClipFromPath(){const r=vr.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(r||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(r){this.clipBox=r,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(r=Ol.FILL,n=null){return vr.intersect(this.clipBox,this.getPathBoundingBox(r,n))}}function GE(O,r){if(typeof ImageData<"u"&&r instanceof ImageData){O.putImageData(r,0,0);return}const n=r.height,a=r.width,c=n%nu,d=(n-c)/nu,f=c===0?d:d+1,m=O.createImageData(a,nu);let b=0,_;const E=r.data,C=m.data;let k,V,q,Y;if(r.kind===Fb.GRAYSCALE_1BPP){const Z=E.byteLength,W=new Uint32Array(C.buffer,0,C.byteLength>>2),ne=W.length,le=a+7>>3,ce=4294967295,Te=Il.isLittleEndian?4278190080:255;for(k=0;k<f;k++){for(q=k<d?nu:c,_=0,V=0;V<q;V++){const we=Z-b;let Fe=0;const R=we>le?a:we*8-7,nt=R&-8;let dt=0,wt=0;for(;Fe<nt;Fe+=8)wt=E[b++],W[_++]=wt&128?ce:Te,W[_++]=wt&64?ce:Te,W[_++]=wt&32?ce:Te,W[_++]=wt&16?ce:Te,W[_++]=wt&8?ce:Te,W[_++]=wt&4?ce:Te,W[_++]=wt&2?ce:Te,W[_++]=wt&1?ce:Te;for(;Fe<R;Fe++)dt===0&&(wt=E[b++],dt=128),W[_++]=wt&dt?ce:Te,dt>>=1}for(;_<ne;)W[_++]=0;O.putImageData(m,0,k*nu)}}else if(r.kind===Fb.RGBA_32BPP){for(V=0,Y=a*nu*4,k=0;k<d;k++)C.set(E.subarray(b,b+Y)),b+=Y,O.putImageData(m,0,V),V+=nu;k<f&&(Y=a*c*4,C.set(E.subarray(b,b+Y)),O.putImageData(m,0,V))}else if(r.kind===Fb.RGB_24BPP)for(q=nu,Y=a*q,k=0;k<f;k++){for(k>=d&&(q=c,Y=a*q),_=0,V=Y;V--;)C[_++]=E[b++],C[_++]=E[b++],C[_++]=E[b++],C[_++]=255;O.putImageData(m,0,k*nu)}else throw new Error(`bad image kind: ${r.kind}`)}function VE(O,r){if(r.bitmap){O.drawImage(r.bitmap,0,0);return}const n=r.height,a=r.width,c=n%nu,d=(n-c)/nu,f=c===0?d:d+1,m=O.createImageData(a,nu);let b=0;const _=r.data,E=m.data;for(let C=0;C<f;C++){const k=C<d?nu:c;({srcPos:b}=R2({src:_,srcPos:b,dest:E,width:a,height:k,nonBlackColor:0})),O.putImageData(m,0,C*nu)}}function $0(O,r){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of n)O[a]!==void 0&&(r[a]=O[a]);O.setLineDash!==void 0&&(r.setLineDash(O.getLineDash()),r.lineDashOffset=O.lineDashOffset)}function Ob(O){if(O.strokeStyle=O.fillStyle="#000000",O.fillRule="nonzero",O.globalAlpha=1,O.lineWidth=1,O.lineCap="butt",O.lineJoin="miter",O.miterLimit=10,O.globalCompositeOperation="source-over",O.font="10px sans-serif",O.setLineDash!==void 0&&(O.setLineDash([]),O.lineDashOffset=0),!bl){const{filter:r}=O;r!=="none"&&r!==""&&(O.filter="none")}}function WE(O,r){if(r)return!0;const n=vr.singularValueDecompose2dScale(O);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const a=Math.fround((globalThis.devicePixelRatio||1)*rp.PDF_TO_CSS_UNITS);return n[0]<=a&&n[1]<=a}const D2=["butt","round","square"],F2=["miter","round","bevel"],z2={},qE={};var op,b_,w_;const _S=class _S{constructor(r,n,a,c,d,{optionalContentConfig:f,markedContentStack:m=null},b,_){fe(this,op);this.ctx=r,this.current=new UE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=a,this.canvasFactory=c,this.filterFactory=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=m||[],this.optionalContentConfig=f,this.cachedCanvases=new I2(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=b,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=_,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(r,n=null){return typeof r=="string"?r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r):n}beginDrawing({transform:r,viewport:n,transparency:a=!1,background:c=null}){const d=this.ctx.canvas.width,f=this.ctx.canvas.height,m=this.ctx.fillStyle;if(this.ctx.fillStyle=c||"#ffffff",this.ctx.fillRect(0,0,d,f),this.ctx.fillStyle=m,a){const b=this.cachedCanvases.getCanvas("transparent",d,f);this.compositeCtx=this.ctx,this.transparentCanvas=b.canvas,this.ctx=b.context,this.ctx.save(),this.ctx.transform(...xo(this.compositeCtx))}this.ctx.save(),Ob(this.ctx),r&&(this.ctx.transform(...r),this.outputScaleX=r[0],this.outputScaleY=r[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=xo(this.ctx)}executeOperatorList(r,n,a,c){const d=r.argsArray,f=r.fnArray;let m=n||0;const b=d.length;if(b===m)return m;const _=b-m>jE&&typeof a=="function",E=_?Date.now()+k2:0;let C=0;const k=this.commonObjs,V=this.objs;let q;for(;;){if(c!==void 0&&m===c.nextBreakPoint)return c.breakIt(m,a),m;if(q=f[m],q!==Hc.dependency)this[q].apply(this,d[m]);else for(const Y of d[m]){const Z=Y.startsWith("g_")?k:V;if(!Z.has(Y))return Z.get(Y,a),m}if(m++,m===b)return m;if(_&&++C>jE){if(Date.now()>E)return a(),m;C=0}}}endDrawing(){ue(this,op,b_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const r of this._cachedBitmapsMap.values()){for(const n of r.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);r.clear()}this._cachedBitmapsMap.clear(),ue(this,op,w_).call(this)}_scaleImage(r,n){const a=r.width??r.displayWidth,c=r.height??r.displayHeight;let d=Math.max(Math.hypot(n[0],n[1]),1),f=Math.max(Math.hypot(n[2],n[3]),1),m=a,b=c,_="prescale1",E,C;for(;d>2&&m>1||f>2&&b>1;){let k=m,V=b;d>2&&m>1&&(k=m>=16384?Math.floor(m/2)-1||1:Math.ceil(m/2),d/=m/k),f>2&&b>1&&(V=b>=16384?Math.floor(b/2)-1||1:Math.ceil(b)/2,f/=b/V),E=this.cachedCanvases.getCanvas(_,k,V),C=E.context,C.clearRect(0,0,k,V),C.drawImage(r,0,0,m,b,0,0,k,V),r=E.canvas,m=k,b=V,_=_==="prescale1"?"prescale2":"prescale1"}return{img:r,paintWidth:m,paintHeight:b}}_createMaskCanvas(r){const n=this.ctx,{width:a,height:c}=r,d=this.current.fillColor,f=this.current.patternFill,m=xo(n);let b,_,E,C;if((r.bitmap||r.data)&&r.count>1){const R=r.bitmap||r.data.buffer;_=JSON.stringify(f?m:[m.slice(0,4),d]),b=this._cachedBitmapsMap.get(R),b||(b=new Map,this._cachedBitmapsMap.set(R,b));const nt=b.get(_);if(nt&&!f){const dt=Math.round(Math.min(m[0],m[2])+m[4]),wt=Math.round(Math.min(m[1],m[3])+m[5]);return{canvas:nt,offsetX:dt,offsetY:wt}}E=nt}E||(C=this.cachedCanvases.getCanvas("maskCanvas",a,c),VE(C.context,r));let k=vr.transform(m,[1/a,0,0,-1/c,0,0]);k=vr.transform(k,[1,0,0,1,0,-c]);const[V,q,Y,Z]=vr.getAxialAlignedBoundingBox([0,0,a,c],k),W=Math.round(Y-V)||1,ne=Math.round(Z-q)||1,le=this.cachedCanvases.getCanvas("fillCanvas",W,ne),ce=le.context,Te=V,we=q;ce.translate(-Te,-we),ce.transform(...k),E||(E=this._scaleImage(C.canvas,dd(ce)),E=E.img,b&&f&&b.set(_,E)),ce.imageSmoothingEnabled=WE(xo(ce),r.interpolate),kb(ce,E,0,0,E.width,E.height,0,0,a,c),ce.globalCompositeOperation="source-in";const Fe=vr.transform(dd(ce),[1,0,0,1,-Te,-we]);return ce.fillStyle=f?d.getPattern(n,this,Fe,Ol.FILL):d,ce.fillRect(0,0,a,c),b&&!f&&(this.cachedCanvases.delete("fillCanvas"),b.set(_,le.canvas)),{canvas:le.canvas,offsetX:Math.round(Te),offsetY:Math.round(we)}}setLineWidth(r){r!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=r,this.ctx.lineWidth=r}setLineCap(r){this.ctx.lineCap=D2[r]}setLineJoin(r){this.ctx.lineJoin=F2[r]}setMiterLimit(r){this.ctx.miterLimit=r}setDash(r,n){const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(r),a.lineDashOffset=n)}setRenderingIntent(r){}setFlatness(r){}setGState(r){for(const[n,a]of r)switch(n){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const r=this.inSMaskMode;this.current.activeSMask&&!r?this.beginSMaskMode():!this.current.activeSMask&&r&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const r=this.ctx.canvas.width,n=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,c=this.cachedCanvases.getCanvas(a,r,n);this.suspendedCtx=this.ctx,this.ctx=c.context;const d=this.ctx;d.setTransform(...xo(this.suspendedCtx)),$0(this.suspendedCtx,d),O2(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(r){if(!this.current.activeSMask)return;r?(r[0]=Math.floor(r[0]),r[1]=Math.floor(r[1]),r[2]=Math.ceil(r[2]),r[3]=Math.ceil(r[3])):r=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,a=this.suspendedCtx;this.composeSMask(a,n,this.ctx,r),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(r,n,a,c){const d=c[0],f=c[1],m=c[2]-d,b=c[3]-f;m===0||b===0||(this.genericComposeSMask(n.context,a,m,b,n.subtype,n.backdrop,n.transferMap,d,f,n.offsetX,n.offsetY),r.save(),r.globalAlpha=1,r.globalCompositeOperation="source-over",r.setTransform(1,0,0,1,0,0),r.drawImage(a.canvas,0,0),r.restore())}genericComposeSMask(r,n,a,c,d,f,m,b,_,E,C){let k=r.canvas,V=b-E,q=_-C;if(f){const Z=vr.makeHexColor(...f);if(V<0||q<0||V+a>k.width||q+c>k.height){const W=this.cachedCanvases.getCanvas("maskExtension",a,c),ne=W.context;ne.drawImage(k,-V,-q),ne.globalCompositeOperation="destination-atop",ne.fillStyle=Z,ne.fillRect(0,0,a,c),ne.globalCompositeOperation="source-over",k=W.canvas,V=q=0}else{r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0);const W=new Path2D;W.rect(V,q,a,c),r.clip(W),r.globalCompositeOperation="destination-atop",r.fillStyle=Z,r.fillRect(V,q,a,c),r.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),d==="Alpha"&&m?n.filter=this.filterFactory.addAlphaFilter(m):d==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(m));const Y=new Path2D;Y.rect(b,_,a,c),n.clip(Y),n.globalCompositeOperation="destination-in",n.drawImage(k,V,q,a,c,b,_,a,c),n.restore()}save(){this.inSMaskMode?($0(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const r=this.current;this.stateStack.push(r),this.current=r.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),$0(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(r,n,a,c,d,f){this.ctx.transform(r,n,a,c,d,f),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(r,n,a){const c=this.ctx,d=this.current;let f=d.x,m=d.y,b,_;const E=xo(c),C=E[0]===0&&E[3]===0||E[1]===0&&E[2]===0,k=C?a.slice(0):null;for(let V=0,q=0,Y=r.length;V<Y;V++)switch(r[V]|0){case Hc.rectangle:f=n[q++],m=n[q++];const Z=n[q++],W=n[q++],ne=f+Z,le=m+W;c.moveTo(f,m),Z===0||W===0?c.lineTo(ne,le):(c.lineTo(ne,m),c.lineTo(ne,le),c.lineTo(f,le)),C||d.updateRectMinMax(E,[f,m,ne,le]),c.closePath();break;case Hc.moveTo:f=n[q++],m=n[q++],c.moveTo(f,m),C||d.updatePathMinMax(E,f,m);break;case Hc.lineTo:f=n[q++],m=n[q++],c.lineTo(f,m),C||d.updatePathMinMax(E,f,m);break;case Hc.curveTo:b=f,_=m,f=n[q+4],m=n[q+5],c.bezierCurveTo(n[q],n[q+1],n[q+2],n[q+3],f,m),d.updateCurvePathMinMax(E,b,_,n[q],n[q+1],n[q+2],n[q+3],f,m,k),q+=6;break;case Hc.curveTo2:b=f,_=m,c.bezierCurveTo(f,m,n[q],n[q+1],n[q+2],n[q+3]),d.updateCurvePathMinMax(E,b,_,f,m,n[q],n[q+1],n[q+2],n[q+3],k),f=n[q+2],m=n[q+3],q+=4;break;case Hc.curveTo3:b=f,_=m,f=n[q+2],m=n[q+3],c.bezierCurveTo(n[q],n[q+1],f,m,f,m),d.updateCurvePathMinMax(E,b,_,n[q],n[q+1],f,m,f,m,k),q+=4;break;case Hc.closePath:c.closePath();break}C&&d.updateScalingPathMinMax(E,k),d.setCurrentPoint(f,m)}closePath(){this.ctx.closePath()}stroke(r=!0){const n=this.ctx,a=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof a=="object"&&(a!=null&&a.getPattern)?(n.save(),n.strokeStyle=a.getPattern(n,this,dd(n),Ol.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),r&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(r=!0){const n=this.ctx,a=this.current.fillColor,c=this.current.patternFill;let d=!1;c&&(n.save(),n.fillStyle=a.getPattern(n,this,dd(n),Ol.FILL),d=!0);const f=this.current.getClippedPathBoundingBox();this.contentVisible&&f!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),d&&n.restore(),r&&this.consumePath(f)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=z2}eoClip(){this.pendingClip=qE}beginText(){this.current.textMatrix=nM,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const r=this.pendingTextPaths,n=this.ctx;if(r===void 0){n.beginPath();return}n.save(),n.beginPath();for(const a of r)n.setTransform(...a.transform),n.translate(a.x,a.y),a.addToPath(n,a.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(r){this.current.charSpacing=r}setWordSpacing(r){this.current.wordSpacing=r}setHScale(r){this.current.textHScale=r/100}setLeading(r){this.current.leading=-r}setFont(r,n){var E;const a=this.commonObjs.get(r),c=this.current;if(!a)throw new Error(`Can't find font for ${r}`);if(c.fontMatrix=a.fontMatrix||Ww,(c.fontMatrix[0]===0||c.fontMatrix[3]===0)&&gi("Invalid font matrix for font "+r),n<0?(n=-n,c.fontDirection=-1):c.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const d=a.loadedName||"sans-serif",f=((E=a.systemFontInfo)==null?void 0:E.css)||`"${d}", ${a.fallbackName}`;let m="normal";a.black?m="900":a.bold&&(m="bold");const b=a.italic?"italic":"normal";let _=n;n<zE?_=zE:n>BE&&(_=BE),this.current.fontSizeScale=n/_,this.ctx.font=`${b} ${m} ${_}px ${f}`}setTextRenderingMode(r){this.current.textRenderingMode=r}setTextRise(r){this.current.textRise=r}moveText(r,n){this.current.x=this.current.lineX+=r,this.current.y=this.current.lineY+=n}setLeadingMoveText(r,n){this.setLeading(-n),this.moveText(r,n)}setTextMatrix(r,n,a,c,d,f){this.current.textMatrix=[r,n,a,c,d,f],this.current.textMatrixScale=Math.hypot(r,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(r,n,a,c){const d=this.ctx,f=this.current,m=f.font,b=f.textRenderingMode,_=f.fontSize/f.fontSizeScale,E=b&pl.FILL_STROKE_MASK,C=!!(b&pl.ADD_TO_PATH_FLAG),k=f.patternFill&&!m.missingFile;let V;(m.disableFontFace||C||k)&&(V=m.getPathGenerator(this.commonObjs,r)),m.disableFontFace||k?(d.save(),d.translate(n,a),d.beginPath(),V(d,_),c&&d.setTransform(...c),(E===pl.FILL||E===pl.FILL_STROKE)&&d.fill(),(E===pl.STROKE||E===pl.FILL_STROKE)&&d.stroke(),d.restore()):((E===pl.FILL||E===pl.FILL_STROKE)&&d.fillText(r,n,a),(E===pl.STROKE||E===pl.FILL_STROKE)&&d.strokeText(r,n,a)),C&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:xo(d),x:n,y:a,fontSize:_,addToPath:V})}get isFontSubpixelAAEnabled(){const{context:r}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);r.scale(1.5,1),r.fillText("I",0,10);const n=r.getImageData(0,0,10,10).data;let a=!1;for(let c=3;c<n.length;c+=4)if(n[c]>0&&n[c]<255){a=!0;break}return Ni(this,"isFontSubpixelAAEnabled",a)}showText(r){const n=this.current,a=n.font;if(a.isType3Font)return this.showType3Text(r);const c=n.fontSize;if(c===0)return;const d=this.ctx,f=n.fontSizeScale,m=n.charSpacing,b=n.wordSpacing,_=n.fontDirection,E=n.textHScale*_,C=r.length,k=a.vertical,V=k?1:-1,q=a.defaultVMetrics,Y=c*n.fontMatrix[0],Z=n.textRenderingMode===pl.FILL&&!a.disableFontFace&&!n.patternFill;d.save(),d.transform(...n.textMatrix),d.translate(n.x,n.y+n.textRise),_>0?d.scale(E,-1):d.scale(E,1);let W;if(n.patternFill){d.save();const we=n.fillColor.getPattern(d,this,dd(d),Ol.FILL);W=xo(d),d.restore(),d.fillStyle=we}let ne=n.lineWidth;const le=n.textMatrixScale;if(le===0||ne===0){const we=n.textRenderingMode&pl.FILL_STROKE_MASK;(we===pl.STROKE||we===pl.FILL_STROKE)&&(ne=this.getSinglePixelWidth())}else ne/=le;if(f!==1&&(d.scale(f,f),ne/=f),d.lineWidth=ne,a.isInvalidPDFjsFont){const we=[];let Fe=0;for(const R of r)we.push(R.unicode),Fe+=R.width;d.fillText(we.join(""),0,0),n.x+=Fe*Y*E,d.restore(),this.compose();return}let ce=0,Te;for(Te=0;Te<C;++Te){const we=r[Te];if(typeof we=="number"){ce+=V*we*c/1e3;continue}let Fe=!1;const R=(we.isSpace?b:0)+m,nt=we.fontChar,dt=we.accent;let wt,Ze,rt=we.width;if(k){const xt=we.vmetric||q,We=-(we.vmetric?xt[1]:rt*.5)*Y,at=xt[2]*Y;rt=xt?-xt[0]:rt,wt=We/f,Ze=(ce+at)/f}else wt=ce/f,Ze=0;if(a.remeasure&&rt>0){const xt=d.measureText(nt).width*1e3/c*f;if(rt<xt&&this.isFontSubpixelAAEnabled){const We=rt/xt;Fe=!0,d.save(),d.scale(We,1),wt/=We}else rt!==xt&&(wt+=(rt-xt)/2e3*c/f)}if(this.contentVisible&&(we.isInFont||a.missingFile)){if(Z&&!dt)d.fillText(nt,wt,Ze);else if(this.paintChar(nt,wt,Ze,W),dt){const xt=wt+c*dt.offset.x/f,We=Ze-c*dt.offset.y/f;this.paintChar(dt.fontChar,xt,We,W)}}const ot=k?rt*Y-R*_:rt*Y+R*_;ce+=ot,Fe&&d.restore()}k?n.y-=ce:n.x+=ce*E,d.restore(),this.compose()}showType3Text(r){const n=this.ctx,a=this.current,c=a.font,d=a.fontSize,f=a.fontDirection,m=c.vertical?1:-1,b=a.charSpacing,_=a.wordSpacing,E=a.textHScale*f,C=a.fontMatrix||Ww,k=r.length,V=a.textRenderingMode===pl.INVISIBLE;let q,Y,Z,W;if(!(V||d===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...a.textMatrix),n.translate(a.x,a.y),n.scale(E,f),q=0;q<k;++q){if(Y=r[q],typeof Y=="number"){W=m*Y*d/1e3,this.ctx.translate(W,0),a.x+=W*E;continue}const ne=(Y.isSpace?_:0)+b,le=c.charProcOperatorList[Y.operatorListId];if(!le){gi(`Type3 character "${Y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Y,this.save(),n.scale(d,d),n.transform(...C),this.executeOperatorList(le),this.restore()),Z=vr.applyTransform([Y.width,0],C)[0]*d+ne,n.translate(Z,0),a.x+=Z*E}n.restore(),this.processingType3=null}}setCharWidth(r,n){}setCharWidthAndBounds(r,n,a,c,d,f){this.ctx.rect(a,c,d-a,f-c),this.ctx.clip(),this.endPath()}getColorN_Pattern(r){let n;if(r[0]==="TilingPattern"){const a=r[1],c=this.baseTransform||xo(this.ctx),d={createCanvasGraphics:f=>new _S(f,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new x_(r,a,this.ctx,d,c)}else n=this._getPattern(r[1],r[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(r,n,a){this.ctx.strokeStyle=this.current.strokeColor=vr.makeHexColor(r,n,a)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(r,n,a){this.ctx.fillStyle=this.current.fillColor=vr.makeHexColor(r,n,a),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(r,n=null){let a;return this.cachedPatterns.has(r)?a=this.cachedPatterns.get(r):(a=P2(this.getObject(r)),this.cachedPatterns.set(r,a)),n&&(a.matrix=n),a}shadingFill(r){if(!this.contentVisible)return;const n=this.ctx;this.save();const a=this._getPattern(r);n.fillStyle=a.getPattern(n,this,dd(n),Ol.SHADING);const c=dd(n);if(c){const{width:d,height:f}=n.canvas,[m,b,_,E]=vr.getAxialAlignedBoundingBox([0,0,d,f],c);this.ctx.fillRect(m,b,_-m,E-b)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){$s("Should not call beginInlineImage")}beginImageData(){$s("Should not call beginImageData")}paintFormXObjectBegin(r,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),r&&this.transform(...r),this.baseTransform=xo(this.ctx),n)){const a=n[2]-n[0],c=n[3]-n[1];this.ctx.rect(n[0],n[1],a,c),this.current.updateRectMinMax(xo(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(r){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;r.isolated||H1("TODO: Support non-isolated groups."),r.knockout&&gi("Knockout groups not supported.");const a=xo(n);if(r.matrix&&n.transform(...r.matrix),!r.bbox)throw new Error("Bounding box is required.");let c=vr.getAxialAlignedBoundingBox(r.bbox,xo(n));const d=[0,0,n.canvas.width,n.canvas.height];c=vr.intersect(c,d)||[0,0,0,0];const f=Math.floor(c[0]),m=Math.floor(c[1]),b=Math.max(Math.ceil(c[2])-f,1),_=Math.max(Math.ceil(c[3])-m,1);this.current.startNewPathAndClipBox([0,0,b,_]);let E="groupAt"+this.groupLevel;r.smask&&(E+="_smask_"+this.smaskCounter++%2);const C=this.cachedCanvases.getCanvas(E,b,_),k=C.context;k.translate(-f,-m),k.transform(...a),r.smask?this.smaskStack.push({canvas:C.canvas,context:k,offsetX:f,offsetY:m,subtype:r.smask.subtype,backdrop:r.smask.backdrop,transferMap:r.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(f,m),n.save()),$0(n,k),this.ctx=k,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(r){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,r.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const c=xo(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...c);const d=vr.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],c);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotation(r,n,a,c,d){if(ue(this,op,b_).call(this),Ob(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const f=n[2]-n[0],m=n[3]-n[1];if(d&&this.annotationCanvasMap){a=a.slice(),a[4]-=n[0],a[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=f,n[3]=m;const[b,_]=vr.singularValueDecompose2dScale(xo(this.ctx)),{viewportScale:E}=this,C=Math.ceil(f*this.outputScaleX*E),k=Math.ceil(m*this.outputScaleY*E);this.annotationCanvas=this.canvasFactory.create(C,k);const{canvas:V,context:q}=this.annotationCanvas;this.annotationCanvasMap.set(r,V),this.annotationCanvas.savedCtx=this.ctx,this.ctx=q,this.ctx.save(),this.ctx.setTransform(b,0,0,-_,0,m*_),Ob(this.ctx)}else Ob(this.ctx),this.endPath(),this.ctx.rect(n[0],n[1],f,m),this.ctx.clip(),this.ctx.beginPath()}this.current=new UE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...a),this.transform(...c)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ue(this,op,w_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(r){if(!this.contentVisible)return;const n=r.count;r=this.getObject(r.data,r),r.count=n;const a=this.ctx,c=this.processingType3;if(c&&(c.compiled===void 0&&(c.compiled=N2(r)),c.compiled)){c.compiled(a);return}const d=this._createMaskCanvas(r),f=d.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(f,d.offsetX,d.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(r,n,a=0,c=0,d,f){if(!this.contentVisible)return;r=this.getObject(r.data,r);const m=this.ctx;m.save();const b=xo(m);m.transform(n,a,c,d,0,0);const _=this._createMaskCanvas(r);m.setTransform(1,0,0,1,_.offsetX-b[4],_.offsetY-b[5]);for(let E=0,C=f.length;E<C;E+=2){const k=vr.transform(b,[n,a,c,d,f[E],f[E+1]]),[V,q]=vr.applyTransform([0,0],k);m.drawImage(_.canvas,V,q)}m.restore(),this.compose()}paintImageMaskXObjectGroup(r){if(!this.contentVisible)return;const n=this.ctx,a=this.current.fillColor,c=this.current.patternFill;for(const d of r){const{data:f,width:m,height:b,transform:_}=d,E=this.cachedCanvases.getCanvas("maskCanvas",m,b),C=E.context;C.save();const k=this.getObject(f,d);VE(C,k),C.globalCompositeOperation="source-in",C.fillStyle=c?a.getPattern(C,this,dd(n),Ol.FILL):a,C.fillRect(0,0,m,b),C.restore(),n.save(),n.transform(..._),n.scale(1,-1),kb(n,E.canvas,0,0,m,b,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(r){if(!this.contentVisible)return;const n=this.getObject(r);if(!n){gi("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(r,n,a,c){if(!this.contentVisible)return;const d=this.getObject(r);if(!d){gi("Dependent image isn't ready yet");return}const f=d.width,m=d.height,b=[];for(let _=0,E=c.length;_<E;_+=2)b.push({transform:[n,0,0,a,c[_],c[_+1]],x:0,y:0,w:f,h:m});this.paintInlineImageXObjectGroup(d,b)}applyTransferMapsToCanvas(r){return this.current.transferMaps!=="none"&&(r.filter=this.current.transferMaps,r.drawImage(r.canvas,0,0),r.filter="none"),r.canvas}applyTransferMapsToBitmap(r){if(this.current.transferMaps==="none")return r.bitmap;const{bitmap:n,width:a,height:c}=r,d=this.cachedCanvases.getCanvas("inlineImage",a,c),f=d.context;return f.filter=this.current.transferMaps,f.drawImage(n,0,0),f.filter="none",d.canvas}paintInlineImageXObject(r){if(!this.contentVisible)return;const n=r.width,a=r.height,c=this.ctx;if(this.save(),!bl){const{filter:m}=c;m!=="none"&&m!==""&&(c.filter="none")}c.scale(1/n,-1/a);let d;if(r.bitmap)d=this.applyTransferMapsToBitmap(r);else if(typeof HTMLElement=="function"&&r instanceof HTMLElement||!r.data)d=r;else{const b=this.cachedCanvases.getCanvas("inlineImage",n,a).context;GE(b,r),d=this.applyTransferMapsToCanvas(b)}const f=this._scaleImage(d,dd(c));c.imageSmoothingEnabled=WE(xo(c),r.interpolate),kb(c,f.img,0,0,f.paintWidth,f.paintHeight,0,-a,n,a),this.compose(),this.restore()}paintInlineImageXObjectGroup(r,n){if(!this.contentVisible)return;const a=this.ctx;let c;if(r.bitmap)c=r.bitmap;else{const d=r.width,f=r.height,b=this.cachedCanvases.getCanvas("inlineImage",d,f).context;GE(b,r),c=this.applyTransferMapsToCanvas(b)}for(const d of n)a.save(),a.transform(...d.transform),a.scale(1,-1),kb(a,c,d.x,d.y,d.w,d.h,0,-1,1,1),a.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(r){}markPointProps(r,n){}beginMarkedContent(r){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(r,n){r==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(r){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const a=this.ctx;this.pendingClip&&(n||(this.pendingClip===qE?a.clip("evenodd"):a.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const r=xo(this.ctx);if(r[1]===0&&r[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(r[0]),Math.abs(r[3]));else{const n=Math.abs(r[0]*r[3]-r[2]*r[1]),a=Math.hypot(r[0],r[2]),c=Math.hypot(r[1],r[3]);this._cachedGetSinglePixelWidth=Math.max(a,c)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:r}=this.current,{a:n,b:a,c,d}=this.ctx.getTransform();let f,m;if(a===0&&c===0){const b=Math.abs(n),_=Math.abs(d);if(b===_)if(r===0)f=m=1/b;else{const E=b*r;f=m=E<1?1/E:1}else if(r===0)f=1/b,m=1/_;else{const E=b*r,C=_*r;f=E<1?1/E:1,m=C<1?1/C:1}}else{const b=Math.abs(n*d-a*c),_=Math.hypot(n,a),E=Math.hypot(c,d);if(r===0)f=E/b,m=_/b;else{const C=r*b;f=E>C?E/C:1,m=_>C?_/C:1}}this._cachedScaleForStroking[0]=f,this._cachedScaleForStroking[1]=m}return this._cachedScaleForStroking}rescaleAndStroke(r){const{ctx:n}=this,{lineWidth:a}=this.current,[c,d]=this.getScaleForStroking();if(n.lineWidth=a||1,c===1&&d===1){n.stroke();return}const f=n.getLineDash();if(r&&n.save(),n.scale(c,d),f.length>0){const m=Math.max(c,d);n.setLineDash(f.map(b=>b/m)),n.lineDashOffset/=m}n.stroke(),r&&n.restore()}isContentVisible(){for(let r=this.markedContentStack.length-1;r>=0;r--)if(!this.markedContentStack[r].visible)return!1;return!0}};op=new WeakSet,b_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},w_=function(){if(this.pageColors){const r=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(r!=="none"){const n=this.ctx.filter;this.ctx.filter=r,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let $g=_S;for(const O in Hc)$g.prototype[O]!==void 0&&($g.prototype[Hc[O]]=$g.prototype[O]);var zy,By;class jd{static get workerPort(){return y(this,zy)}static set workerPort(r){if(!(typeof Worker<"u"&&r instanceof Worker)&&r!==null)throw new Error("Invalid `workerPort` type.");se(this,zy,r)}static get workerSrc(){return y(this,By)}static set workerSrc(r){if(typeof r!="string")throw new Error("Invalid `workerSrc` type.");se(this,By,r)}}zy=new WeakMap,By=new WeakMap,fe(jd,zy,null),fe(jd,By,"");const Ib={DATA:1,ERROR:2},ta={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Su(O){switch(O instanceof Error||typeof O=="object"&&O!==null||$s('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),O.name){case"AbortException":return new Qm(O.message);case"MissingPDFException":return new Jm(O.message);case"PasswordException":return new qw(O.message,O.code);case"UnexpectedResponseException":return new U1(O.message,O.status);case"UnknownErrorException":return new Xw(O.message,O.details);default:return new Xw(O.message,O.toString())}}var cv,fc,jM,HM,UM,Wb;class ry{constructor(r,n,a){fe(this,fc);fe(this,cv,new AbortController);this.sourceName=r,this.targetName=n,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),a.addEventListener("message",ue(this,fc,jM).bind(this),{signal:y(this,cv).signal})}on(r,n){const a=this.actionHandler;if(a[r])throw new Error(`There is already an actionName called "${r}"`);a[r]=n}send(r,n,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,data:n},a)}sendWithPromise(r,n,a){const c=this.callbackId++,d=Promise.withResolvers();this.callbackCapabilities[c]=d;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,callbackId:c,data:n},a)}catch(f){d.reject(f)}return d.promise}sendWithStream(r,n,a,c){const d=this.streamId++,f=this.sourceName,m=this.targetName,b=this.comObj;return new ReadableStream({start:_=>{const E=Promise.withResolvers();return this.streamControllers[d]={controller:_,startCall:E,pullCall:null,cancelCall:null,isClosed:!1},b.postMessage({sourceName:f,targetName:m,action:r,streamId:d,data:n,desiredSize:_.desiredSize},c),E.promise},pull:_=>{const E=Promise.withResolvers();return this.streamControllers[d].pullCall=E,b.postMessage({sourceName:f,targetName:m,stream:ta.PULL,streamId:d,desiredSize:_.desiredSize}),E.promise},cancel:_=>{Ea(_ instanceof Error,"cancel must have a valid reason");const E=Promise.withResolvers();return this.streamControllers[d].cancelCall=E,this.streamControllers[d].isClosed=!0,b.postMessage({sourceName:f,targetName:m,stream:ta.CANCEL,streamId:d,reason:Su(_)}),E.promise}},a)}destroy(){var r;(r=y(this,cv))==null||r.abort(),se(this,cv,null)}}cv=new WeakMap,fc=new WeakSet,jM=function({data:r}){if(r.targetName!==this.sourceName)return;if(r.stream){ue(this,fc,UM).call(this,r);return}if(r.callback){const a=r.callbackId,c=this.callbackCapabilities[a];if(!c)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],r.callback===Ib.DATA)c.resolve(r.data);else if(r.callback===Ib.ERROR)c.reject(Su(r.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[r.action];if(!n)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const a=this.sourceName,c=r.sourceName,d=this.comObj;new Promise(function(f){f(n(r.data))}).then(function(f){d.postMessage({sourceName:a,targetName:c,callback:Ib.DATA,callbackId:r.callbackId,data:f})},function(f){d.postMessage({sourceName:a,targetName:c,callback:Ib.ERROR,callbackId:r.callbackId,reason:Su(f)})});return}if(r.streamId){ue(this,fc,HM).call(this,r);return}n(r.data)},HM=function(r){const n=r.streamId,a=this.sourceName,c=r.sourceName,d=this.comObj,f=this,m=this.actionHandler[r.action],b={enqueue(_,E=1,C){if(this.isCancelled)return;const k=this.desiredSize;this.desiredSize-=E,k>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),d.postMessage({sourceName:a,targetName:c,stream:ta.ENQUEUE,streamId:n,chunk:_},C)},close(){this.isCancelled||(this.isCancelled=!0,d.postMessage({sourceName:a,targetName:c,stream:ta.CLOSE,streamId:n}),delete f.streamSinks[n])},error(_){Ea(_ instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,d.postMessage({sourceName:a,targetName:c,stream:ta.ERROR,streamId:n,reason:Su(_)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:r.desiredSize,ready:null};b.sinkCapability.resolve(),b.ready=b.sinkCapability.promise,this.streamSinks[n]=b,new Promise(function(_){_(m(r.data,b))}).then(function(){d.postMessage({sourceName:a,targetName:c,stream:ta.START_COMPLETE,streamId:n,success:!0})},function(_){d.postMessage({sourceName:a,targetName:c,stream:ta.START_COMPLETE,streamId:n,reason:Su(_)})})},UM=function(r){const n=r.streamId,a=this.sourceName,c=r.sourceName,d=this.comObj,f=this.streamControllers[n],m=this.streamSinks[n];switch(r.stream){case ta.START_COMPLETE:r.success?f.startCall.resolve():f.startCall.reject(Su(r.reason));break;case ta.PULL_COMPLETE:r.success?f.pullCall.resolve():f.pullCall.reject(Su(r.reason));break;case ta.PULL:if(!m){d.postMessage({sourceName:a,targetName:c,stream:ta.PULL_COMPLETE,streamId:n,success:!0});break}m.desiredSize<=0&&r.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=r.desiredSize,new Promise(function(b){var _;b((_=m.onPull)==null?void 0:_.call(m))}).then(function(){d.postMessage({sourceName:a,targetName:c,stream:ta.PULL_COMPLETE,streamId:n,success:!0})},function(b){d.postMessage({sourceName:a,targetName:c,stream:ta.PULL_COMPLETE,streamId:n,reason:Su(b)})});break;case ta.ENQUEUE:if(Ea(f,"enqueue should have stream controller"),f.isClosed)break;f.controller.enqueue(r.chunk);break;case ta.CLOSE:if(Ea(f,"close should have stream controller"),f.isClosed)break;f.isClosed=!0,f.controller.close(),ue(this,fc,Wb).call(this,f,n);break;case ta.ERROR:Ea(f,"error should have stream controller"),f.controller.error(Su(r.reason)),ue(this,fc,Wb).call(this,f,n);break;case ta.CANCEL_COMPLETE:r.success?f.cancelCall.resolve():f.cancelCall.reject(Su(r.reason)),ue(this,fc,Wb).call(this,f,n);break;case ta.CANCEL:if(!m)break;new Promise(function(b){var _;b((_=m.onCancel)==null?void 0:_.call(m,Su(r.reason)))}).then(function(){d.postMessage({sourceName:a,targetName:c,stream:ta.CANCEL_COMPLETE,streamId:n,success:!0})},function(b){d.postMessage({sourceName:a,targetName:c,stream:ta.CANCEL_COMPLETE,streamId:n,reason:Su(b)})}),m.sinkCapability.reject(Su(r.reason)),m.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},Wb=async function(r,n){var a,c,d;await Promise.allSettled([(a=r.startCall)==null?void 0:a.promise,(c=r.pullCall)==null?void 0:c.promise,(d=r.cancelCall)==null?void 0:d.promise]),delete this.streamControllers[n]};var mm,jy;class B2{constructor({parsedData:r,rawData:n}){fe(this,mm);fe(this,jy);se(this,mm,r),se(this,jy,n)}getRaw(){return y(this,jy)}get(r){return y(this,mm).get(r)??null}getAll(){return lS(y(this,mm))}has(r){return y(this,mm).has(r)}}mm=new WeakMap,jy=new WeakMap;const Gg=Symbol("INTERNAL");var Hy,Uy,Gy,hv;class j2{constructor(r,{name:n,intent:a,usage:c,rbGroups:d}){fe(this,Hy,!1);fe(this,Uy,!1);fe(this,Gy,!1);fe(this,hv,!0);se(this,Hy,!!(r&ku.DISPLAY)),se(this,Uy,!!(r&ku.PRINT)),this.name=n,this.intent=a,this.usage=c,this.rbGroups=d}get visible(){if(y(this,Gy))return y(this,hv);if(!y(this,hv))return!1;const{print:r,view:n}=this.usage;return y(this,Hy)?(n==null?void 0:n.viewState)!=="OFF":y(this,Uy)?(r==null?void 0:r.printState)!=="OFF":!0}_setVisible(r,n,a=!1){r!==Gg&&$s("Internal method `_setVisible` called."),se(this,Gy,a),se(this,hv,n)}}Hy=new WeakMap,Uy=new WeakMap,Gy=new WeakMap,hv=new WeakMap;var Hf,ys,dv,fv,Vy,__;class H2{constructor(r,n=ku.DISPLAY){fe(this,Vy);fe(this,Hf,null);fe(this,ys,new Map);fe(this,dv,null);fe(this,fv,null);if(this.renderingIntent=n,this.name=null,this.creator=null,r!==null){this.name=r.name,this.creator=r.creator,se(this,fv,r.order);for(const a of r.groups)y(this,ys).set(a.id,new j2(n,a));if(r.baseState==="OFF")for(const a of y(this,ys).values())a._setVisible(Gg,!1);for(const a of r.on)y(this,ys).get(a)._setVisible(Gg,!0);for(const a of r.off)y(this,ys).get(a)._setVisible(Gg,!1);se(this,dv,this.getHash())}}isVisible(r){if(y(this,ys).size===0)return!0;if(!r)return H1("Optional content group not defined."),!0;if(r.type==="OCG")return y(this,ys).has(r.id)?y(this,ys).get(r.id).visible:(gi(`Optional content group not found: ${r.id}`),!0);if(r.type==="OCMD"){if(r.expression)return ue(this,Vy,__).call(this,r.expression);if(!r.policy||r.policy==="AnyOn"){for(const n of r.ids){if(!y(this,ys).has(n))return gi(`Optional content group not found: ${n}`),!0;if(y(this,ys).get(n).visible)return!0}return!1}else if(r.policy==="AllOn"){for(const n of r.ids){if(!y(this,ys).has(n))return gi(`Optional content group not found: ${n}`),!0;if(!y(this,ys).get(n).visible)return!1}return!0}else if(r.policy==="AnyOff"){for(const n of r.ids){if(!y(this,ys).has(n))return gi(`Optional content group not found: ${n}`),!0;if(!y(this,ys).get(n).visible)return!0}return!1}else if(r.policy==="AllOff"){for(const n of r.ids){if(!y(this,ys).has(n))return gi(`Optional content group not found: ${n}`),!0;if(y(this,ys).get(n).visible)return!1}return!0}return gi(`Unknown optional content policy ${r.policy}.`),!0}return gi(`Unknown group type ${r.type}.`),!0}setVisibility(r,n=!0,a=!0){var d;const c=y(this,ys).get(r);if(!c){gi(`Optional content group not found: ${r}`);return}if(a&&n&&c.rbGroups.length)for(const f of c.rbGroups)for(const m of f)m!==r&&((d=y(this,ys).get(m))==null||d._setVisible(Gg,!1,!0));c._setVisible(Gg,!!n,!0),se(this,Hf,null)}setOCGState({state:r,preserveRB:n}){let a;for(const c of r){switch(c){case"ON":case"OFF":case"Toggle":a=c;continue}const d=y(this,ys).get(c);if(d)switch(a){case"ON":this.setVisibility(c,!0,n);break;case"OFF":this.setVisibility(c,!1,n);break;case"Toggle":this.setVisibility(c,!d.visible,n);break}}se(this,Hf,null)}get hasInitialVisibility(){return y(this,dv)===null||this.getHash()===y(this,dv)}getOrder(){return y(this,ys).size?y(this,fv)?y(this,fv).slice():[...y(this,ys).keys()]:null}getGroups(){return y(this,ys).size>0?lS(y(this,ys)):null}getGroup(r){return y(this,ys).get(r)||null}getHash(){if(y(this,Hf)!==null)return y(this,Hf);const r=new LM;for(const[n,a]of y(this,ys))r.update(`${n}:${a.visible}`);return se(this,Hf,r.hexdigest())}}Hf=new WeakMap,ys=new WeakMap,dv=new WeakMap,fv=new WeakMap,Vy=new WeakSet,__=function(r){const n=r.length;if(n<2)return!0;const a=r[0];for(let c=1;c<n;c++){const d=r[c];let f;if(Array.isArray(d))f=ue(this,Vy,__).call(this,d);else if(y(this,ys).has(d))f=y(this,ys).get(d).visible;else return gi(`Optional content group not found: ${d}`),!0;switch(a){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return a==="And"};class U2{constructor(r,{disableRange:n=!1,disableStream:a=!1}){Ea(r,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:c,initialData:d,progressiveDone:f,contentDispositionFilename:m}=r;if(this._queuedChunks=[],this._progressiveDone=f,this._contentDispositionFilename=m,(d==null?void 0:d.length)>0){const b=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;this._queuedChunks.push(b)}this._pdfDataRangeTransport=r,this._isStreamingSupported=!a,this._isRangeSupported=!n,this._contentLength=c,this._fullRequestReader=null,this._rangeReaders=[],r.addRangeListener((b,_)=>{this._onReceiveData({begin:b,chunk:_})}),r.addProgressListener((b,_)=>{this._onProgress({loaded:b,total:_})}),r.addProgressiveReadListener(b=>{this._onReceiveData({chunk:b})}),r.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),r.transportReady()}_onReceiveData({begin:r,chunk:n}){const a=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(r===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const c=this._rangeReaders.some(function(d){return d._begin!==r?!1:(d._enqueue(a),!0)});Ea(c,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}_onProgress(r){var n,a,c,d;r.total===void 0?(a=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||a.call(n,{loaded:r.loaded}):(d=(c=this._fullRequestReader)==null?void 0:c.onProgress)==null||d.call(c,{loaded:r.loaded,total:r.total})}_onProgressiveDone(){var r;(r=this._fullRequestReader)==null||r.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(r){const n=this._rangeReaders.indexOf(r);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Ea(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const r=this._queuedChunks;return this._queuedChunks=null,new G2(this,r,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(r,n){if(n<=this._progressiveDataLength)return null;const a=new V2(this,r,n);return this._pdfDataRangeTransport.requestDataRange(r,n),this._rangeReaders.push(a),a}cancelAllRequests(r){var n;(n=this._fullRequestReader)==null||n.cancel(r);for(const a of this._rangeReaders.slice(0))a.cancel(r);this._pdfDataRangeTransport.abort()}}class G2{constructor(r,n,a=!1,c=null){this._stream=r,this._done=a||!1,this._filename=hS(c)?c:null,this._queuedChunks=n||[],this._loaded=0;for(const d of this._queuedChunks)this._loaded+=d.byteLength;this._requests=[],this._headersReady=Promise.resolve(),r._fullRequestReader=this,this.onProgress=null}_enqueue(r){this._done||(this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunks.push(r),this._loaded+=r.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class V2{constructor(r,n,a){this._stream=r,this._begin=n,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(r){if(!this._done){if(this._requests.length===0)this._queuedChunk=r;else{this._requests.shift().resolve({value:r,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function W2(O){let r=!0,n=a("filename\\*","i").exec(O);if(n){n=n[1];let E=m(n);return E=unescape(E),E=b(E),E=_(E),d(E)}if(n=f(O),n){const E=_(n);return d(E)}if(n=a("filename","i").exec(O),n){n=n[1];let E=m(n);return E=_(E),d(E)}function a(E,C){return new RegExp("(?:^|;)\\s*"+E+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',C)}function c(E,C){if(E){if(!/^[\x00-\xFF]+$/.test(C))return C;try{const k=new TextDecoder(E,{fatal:!0}),V=G1(C);C=k.decode(V),r=!1}catch{}}return C}function d(E){return r&&/[\x80-\xff]/.test(E)&&(E=c("utf-8",E),r&&(E=c("iso-8859-1",E))),E}function f(E){const C=[];let k;const V=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(k=V.exec(E))!==null;){let[,Y,Z,W]=k;if(Y=parseInt(Y,10),Y in C){if(Y===0)break;continue}C[Y]=[Z,W]}const q=[];for(let Y=0;Y<C.length&&Y in C;++Y){let[Z,W]=C[Y];W=m(W),Z&&(W=unescape(W),Y===0&&(W=b(W))),q.push(W)}return q.join("")}function m(E){if(E.startsWith('"')){const C=E.slice(1).split('\\"');for(let k=0;k<C.length;++k){const V=C[k].indexOf('"');V!==-1&&(C[k]=C[k].slice(0,V),C.length=k+1),C[k]=C[k].replaceAll(/\\(.)/g,"$1")}E=C.join('"')}return E}function b(E){const C=E.indexOf("'");if(C===-1)return E;const k=E.slice(0,C),q=E.slice(C+1).replace(/^[^']*'/,"");return c(k,q)}function _(E){return!E.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(E)?E:E.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(C,k,V,q){if(V==="q"||V==="Q")return q=q.replaceAll("_"," "),q=q.replaceAll(/=([0-9a-fA-F]{2})/g,function(Y,Z){return String.fromCharCode(parseInt(Z,16))}),c(k,q);try{q=atob(q)}catch{}return c(k,q)})}return""}function gS(O,r){const n=new Headers;if(!O||!r||typeof r!="object")return n;for(const a in r){const c=r[a];c!==void 0&&n.append(a,c)}return n}function vS({responseHeaders:O,isHttp:r,rangeChunkSize:n,disableRange:a}){const c={allowRangeRequests:!1,suggestedLength:void 0},d=parseInt(O.get("Content-Length"),10);return!Number.isInteger(d)||(c.suggestedLength=d,d<=2*n)||a||!r||O.get("Accept-Ranges")!=="bytes"||(O.get("Content-Encoding")||"identity")!=="identity"||(c.allowRangeRequests=!0),c}function yS(O){const r=O.get("Content-Disposition");if(r){let n=W2(r);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(hS(n))return n}return null}function q1(O,r){return O===404||O===0&&r.startsWith("file:")?new Jm('Missing PDF "'+r+'".'):new U1(`Unexpected server response (${O}) while retrieving PDF "${r}".`,O)}function GM(O){return O===200||O===206}function VM(O,r,n){return{method:"GET",headers:O,signal:n.signal,mode:"cors",credentials:r?"include":"same-origin",redirect:"follow"}}function WM(O){return O instanceof Uint8Array?O.buffer:O instanceof ArrayBuffer?O:(gi(`getArrayBuffer - unexpected data format: ${O}`),new Uint8Array(O).buffer)}class XE{constructor(r){this.source=r,this.isHttp=/^https?:/i.test(r.url),this.headers=gS(this.isHttp,r.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}getFullReader(){return Ea(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new q2(this),this._fullRequestReader}getRangeReader(r,n){if(n<=this._progressiveDataLength)return null;const a=new X2(this,r,n);return this._rangeRequestReaders.push(a),a}cancelAllRequests(r){var n;(n=this._fullRequestReader)==null||n.cancel(r);for(const a of this._rangeRequestReaders.slice(0))a.cancel(r)}}class q2{constructor(r){this._stream=r,this._reader=null,this._loaded=0,this._filename=null;const n=r.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const a=new Headers(r.headers),c=n.url;fetch(c,VM(a,this._withCredentials,this._abortController)).then(d=>{if(!GM(d.status))throw q1(d.status,c);this._reader=d.body.getReader(),this._headersCapability.resolve();const f=d.headers,{allowRangeRequests:m,suggestedLength:b}=vS({responseHeaders:f,isHttp:r.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=b||this._contentLength,this._filename=yS(f),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Qm("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._headersCapability.promise;const{value:r,done:n}=await this._reader.read();return n?{value:r,done:n}:(this._loaded+=r.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:WM(r),done:!1})}cancel(r){var n;(n=this._reader)==null||n.cancel(r),this._abortController.abort()}}class X2{constructor(r,n,a){this._stream=r,this._reader=null,this._loaded=0;const c=r.source;this._withCredentials=c.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!c.disableStream,this._abortController=new AbortController;const d=new Headers(r.headers);d.append("Range",`bytes=${n}-${a-1}`);const f=c.url;fetch(f,VM(d,this._withCredentials,this._abortController)).then(m=>{if(!GM(m.status))throw q1(m.status,f);this._readCapability.resolve(),this._reader=m.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._readCapability.promise;const{value:r,done:n}=await this._reader.read();return n?{value:r,done:n}:(this._loaded+=r.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:WM(r),done:!1})}cancel(r){var n;(n=this._reader)==null||n.cancel(r),this._abortController.abort()}}const Gw=200,Vw=206;function $2(O){const r=O.response;return typeof r!="string"?r:G1(r).buffer}class Y2{constructor({url:r,httpHeaders:n,withCredentials:a}){this.url=r,this.isHttp=/^https?:/i.test(r),this.headers=gS(this.isHttp,n),this.withCredentials=a||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(r,n,a){const c={begin:r,end:n};for(const d in a)c[d]=a[d];return this.request(c)}requestFull(r){return this.request(r)}request(r){const n=new XMLHttpRequest,a=this.currXhrId++,c=this.pendingRequests[a]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[d,f]of this.headers)n.setRequestHeader(d,f);return this.isHttp&&"begin"in r&&"end"in r?(n.setRequestHeader("Range",`bytes=${r.begin}-${r.end-1}`),c.expectedStatus=Vw):c.expectedStatus=Gw,n.responseType="arraybuffer",r.onError&&(n.onerror=function(d){r.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,a),n.onprogress=this.onProgress.bind(this,a),c.onHeadersReceived=r.onHeadersReceived,c.onDone=r.onDone,c.onError=r.onError,c.onProgress=r.onProgress,n.send(null),a}onProgress(r,n){var c;const a=this.pendingRequests[r];a&&((c=a.onProgress)==null||c.call(a,n))}onStateChange(r,n){var b,_,E;const a=this.pendingRequests[r];if(!a)return;const c=a.xhr;if(c.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),c.readyState!==4||!(r in this.pendingRequests))return;if(delete this.pendingRequests[r],c.status===0&&this.isHttp){(b=a.onError)==null||b.call(a,c.status);return}const d=c.status||Gw;if(!(d===Gw&&a.expectedStatus===Vw)&&d!==a.expectedStatus){(_=a.onError)==null||_.call(a,c.status);return}const m=$2(c);if(d===Vw){const C=c.getResponseHeader("Content-Range"),k=/bytes (\d+)-(\d+)\/(\d+)/.exec(C);a.onDone({begin:parseInt(k[1],10),chunk:m})}else m?a.onDone({begin:0,chunk:m}):(E=a.onError)==null||E.call(a,c.status)}getRequestXhr(r){return this.pendingRequests[r].xhr}isPendingRequest(r){return r in this.pendingRequests}abortRequest(r){const n=this.pendingRequests[r].xhr;delete this.pendingRequests[r],n.abort()}}class Z2{constructor(r){this._source=r,this._manager=new Y2(r),this._rangeChunkSize=r.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(r){const n=this._rangeRequestReaders.indexOf(r);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Ea(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new K2(this._manager,this._source),this._fullRequestReader}getRangeReader(r,n){const a=new J2(this._manager,r,n);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}cancelAllRequests(r){var n;(n=this._fullRequestReader)==null||n.cancel(r);for(const a of this._rangeRequestReaders.slice(0))a.cancel(r)}}class K2{constructor(r,n){this._manager=r;const a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=r.requestFull(a),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const r=this._fullRequestId,n=this._manager.getRequestXhr(r),a=new Headers(n.getAllResponseHeaders().trim().split(/[\r\n]+/).map(f=>{const[m,...b]=f.split(": ");return[m,b.join(": ")]})),{allowRangeRequests:c,suggestedLength:d}=vS({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});c&&(this._isRangeSupported=!0),this._contentLength=d||this._contentLength,this._filename=yS(a),this._isRangeSupported&&this._manager.abortRequest(r),this._headersCapability.resolve()}_onDone(r){if(r&&(this._requests.length>0?this._requests.shift().resolve({value:r.chunk,done:!1}):this._cachedChunks.push(r.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(r){this._storedError=q1(r,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(r){var n;(n=this.onProgress)==null||n.call(this,{loaded:r.loaded,total:r.lengthComputable?r.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0,this._headersCapability.reject(r);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class J2{constructor(r,n,a){this._manager=r;const c={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._requestId=r.requestRange(n,a,c),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var r;(r=this.onClosed)==null||r.call(this,this)}_onDone(r){const n=r.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(r){this._storedError=q1(r,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(r){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:r.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Q2=/^[a-z][a-z0-9\-+.]+:/i;function eL(O){if(Q2.test(O))return new URL(O);const r=ip.get("url");return new URL(r.pathToFileURL(O))}function qM(O,r,n){return O.protocol==="http:"?ip.get("http").request(O,{headers:r},n):ip.get("https").request(O,{headers:r},n)}class tL{constructor(r){this.source=r,this.url=eL(r.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=gS(this.isHttp,r.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}getFullReader(){return Ea(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new iL(this):new nL(this),this._fullRequestReader}getRangeReader(r,n){if(n<=this._progressiveDataLength)return null;const a=this.isFsUrl?new sL(this,r,n):new rL(this,r,n);return this._rangeRequestReaders.push(a),a}cancelAllRequests(r){var n;(n=this._fullRequestReader)==null||n.cancel(r);for(const a of this._rangeRequestReaders.slice(0))a.cancel(r)}}class XM{constructor(r){this._url=r.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=r.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const r=this._readableStream.read();return r===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=r.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){if(!this._readableStream){this._error(r);return}this._readableStream.destroy(r)}_error(r){this._storedError=r,this._readCapability.resolve()}_setReadableStream(r){this._readableStream=r,r.on("readable",()=>{this._readCapability.resolve()}),r.on("end",()=>{r.destroy(),this._done=!0,this._readCapability.resolve()}),r.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Qm("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class $M{constructor(r){this._url=r.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=r.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const r=this._readableStream.read();return r===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=r.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){if(!this._readableStream){this._error(r);return}this._readableStream.destroy(r)}_error(r){this._storedError=r,this._readCapability.resolve()}_setReadableStream(r){this._readableStream=r,r.on("readable",()=>{this._readCapability.resolve()}),r.on("end",()=>{r.destroy(),this._done=!0,this._readCapability.resolve()}),r.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class nL extends XM{constructor(r){super(r);const n=Object.fromEntries(r.headers),a=c=>{if(c.statusCode===404){const b=new Jm(`Missing PDF "${this._url}".`);this._storedError=b,this._headersCapability.reject(b);return}this._headersCapability.resolve(),this._setReadableStream(c);const d=new Headers(this._readableStream.headers),{allowRangeRequests:f,suggestedLength:m}=vS({responseHeaders:d,isHttp:r.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=f,this._contentLength=m||this._contentLength,this._filename=yS(d)};this._request=qM(this._url,n,a),this._request.on("error",c=>{this._storedError=c,this._headersCapability.reject(c)}),this._request.end()}}class rL extends $M{constructor(r,n,a){super(r);const c=Object.fromEntries(r.headers);c.Range=`bytes=${n}-${a-1}`;const d=f=>{if(f.statusCode===404){const m=new Jm(`Missing PDF "${this._url}".`);this._storedError=m;return}this._setReadableStream(f)};this._request=qM(this._url,c,d),this._request.on("error",f=>{this._storedError=f}),this._request.end()}}class iL extends XM{constructor(r){super(r);const n=ip.get("fs");n.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=new Jm(`Missing PDF "${this._url}".`)),this._storedError=a,this._headersCapability.reject(a)})}}class sL extends $M{constructor(r,n,a){super(r);const c=ip.get("fs");this._setReadableStream(c.createReadStream(this._url,{start:n,end:a-1}))}}const oL=1e5,Kl=30,aL=.8;var eM,Uf,eu,Wy,qy,gm,_d,Xy,$y,vm,pv,mv,Gf,gv,Yy,vv,ym,Zy,Ky,xm,bm,Jy,Vf,yv,Vd,YM,ZM,S_,Nu,qb,E_,KM,JM;const ba=class ba{constructor({textContentSource:r,container:n,viewport:a}){fe(this,Vd);fe(this,Uf,Promise.withResolvers());fe(this,eu,null);fe(this,Wy,!1);fe(this,qy,!!((eM=globalThis.FontInspector)!=null&&eM.enabled));fe(this,gm,null);fe(this,_d,null);fe(this,Xy,0);fe(this,$y,0);fe(this,vm,null);fe(this,pv,null);fe(this,mv,0);fe(this,Gf,0);fe(this,gv,Object.create(null));fe(this,Yy,[]);fe(this,vv,null);fe(this,ym,[]);fe(this,Zy,new WeakMap);fe(this,Ky,null);var b;if(r instanceof ReadableStream)se(this,vv,r);else if(typeof r=="object")se(this,vv,new ReadableStream({start(_){_.enqueue(r),_.close()}}));else throw new Error('No "textContentSource" parameter specified.');se(this,eu,se(this,pv,n)),se(this,Gf,a.scale*(globalThis.devicePixelRatio||1)),se(this,mv,a.rotation),se(this,_d,{div:null,properties:null,ctx:null});const{pageWidth:c,pageHeight:d,pageX:f,pageY:m}=a.rawDims;se(this,Ky,[1,0,0,-1,-f,m+d]),se(this,$y,c),se(this,Xy,d),ue(b=ba,Nu,KM).call(b),Xm(n,a),y(this,Uf).promise.finally(()=>{y(ba,yv).delete(this),se(this,_d,null),se(this,gv,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:r,isFirefox:n}=Il.platform;return Ni(this,"fontFamilyMap",new Map([["sans-serif",`${r&&n?"Calibri, ":""}sans-serif`],["monospace",`${r&&n?"Lucida Console, ":""}monospace`]]))}render(){const r=()=>{y(this,vm).read().then(({value:n,done:a})=>{if(a){y(this,Uf).resolve();return}y(this,gm)??se(this,gm,n.lang),Object.assign(y(this,gv),n.styles),ue(this,Vd,YM).call(this,n.items),r()},y(this,Uf).reject)};return se(this,vm,y(this,vv).getReader()),y(ba,yv).add(this),r(),y(this,Uf).promise}update({viewport:r,onBefore:n=null}){var d;const a=r.scale*(globalThis.devicePixelRatio||1),c=r.rotation;if(c!==y(this,mv)&&(n==null||n(),se(this,mv,c),Xm(y(this,pv),{rotation:c})),a!==y(this,Gf)){n==null||n(),se(this,Gf,a);const f={div:null,properties:null,ctx:ue(d=ba,Nu,qb).call(d,y(this,gm))};for(const m of y(this,ym))f.properties=y(this,Zy).get(m),f.div=m,ue(this,Vd,S_).call(this,f)}}cancel(){var n;const r=new Qm("TextLayer task cancelled.");(n=y(this,vm))==null||n.cancel(r).catch(()=>{}),se(this,vm,null),y(this,Uf).reject(r)}get textDivs(){return y(this,ym)}get textContentItemsStr(){return y(this,Yy)}static cleanup(){if(!(y(this,yv).size>0)){y(this,xm).clear();for(const{canvas:r}of y(this,bm).values())r.remove();y(this,bm).clear()}}};Uf=new WeakMap,eu=new WeakMap,Wy=new WeakMap,qy=new WeakMap,gm=new WeakMap,_d=new WeakMap,Xy=new WeakMap,$y=new WeakMap,vm=new WeakMap,pv=new WeakMap,mv=new WeakMap,Gf=new WeakMap,gv=new WeakMap,Yy=new WeakMap,vv=new WeakMap,ym=new WeakMap,Zy=new WeakMap,Ky=new WeakMap,xm=new WeakMap,bm=new WeakMap,Jy=new WeakMap,Vf=new WeakMap,yv=new WeakMap,Vd=new WeakSet,YM=function(r){var c,d;if(y(this,Wy))return;(d=y(this,_d)).ctx??(d.ctx=ue(c=ba,Nu,qb).call(c,y(this,gm)));const n=y(this,ym),a=y(this,Yy);for(const f of r){if(n.length>oL){gi("Ignoring additional textDivs for performance reasons."),se(this,Wy,!0);return}if(f.str===void 0){if(f.type==="beginMarkedContentProps"||f.type==="beginMarkedContent"){const m=y(this,eu);se(this,eu,document.createElement("span")),y(this,eu).classList.add("markedContent"),f.id!==null&&y(this,eu).setAttribute("id",`${f.id}`),m.append(y(this,eu))}else f.type==="endMarkedContent"&&se(this,eu,y(this,eu).parentNode);continue}a.push(f.str),ue(this,Vd,ZM).call(this,f)}},ZM=function(r){var Y;const n=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:r.str!=="",hasEOL:r.hasEOL,fontSize:0};y(this,ym).push(n);const c=vr.transform(y(this,Ky),r.transform);let d=Math.atan2(c[1],c[0]);const f=y(this,gv)[r.fontName];f.vertical&&(d+=Math.PI/2);let m=y(this,qy)&&f.fontSubstitution||f.fontFamily;m=ba.fontFamilyMap.get(m)||m;const b=Math.hypot(c[2],c[3]),_=b*ue(Y=ba,Nu,JM).call(Y,m,y(this,gm));let E,C;d===0?(E=c[4],C=c[5]-_):(E=c[4]+_*Math.sin(d),C=c[5]-_*Math.cos(d));const k="calc(var(--scale-factor)*",V=n.style;y(this,eu)===y(this,pv)?(V.left=`${(100*E/y(this,$y)).toFixed(2)}%`,V.top=`${(100*C/y(this,Xy)).toFixed(2)}%`):(V.left=`${k}${E.toFixed(2)}px)`,V.top=`${k}${C.toFixed(2)}px)`),V.fontSize=`${k}${(y(ba,Vf)*b).toFixed(2)}px)`,V.fontFamily=m,a.fontSize=b,n.setAttribute("role","presentation"),n.textContent=r.str,n.dir=r.dir,y(this,qy)&&(n.dataset.fontName=f.fontSubstitutionLoadedName||r.fontName),d!==0&&(a.angle=d*(180/Math.PI));let q=!1;if(r.str.length>1)q=!0;else if(r.str!==" "&&r.transform[0]!==r.transform[3]){const Z=Math.abs(r.transform[0]),W=Math.abs(r.transform[3]);Z!==W&&Math.max(Z,W)/Math.min(Z,W)>1.5&&(q=!0)}if(q&&(a.canvasWidth=f.vertical?r.height:r.width),y(this,Zy).set(n,a),y(this,_d).div=n,y(this,_d).properties=a,ue(this,Vd,S_).call(this,y(this,_d)),a.hasText&&y(this,eu).append(n),a.hasEOL){const Z=document.createElement("br");Z.setAttribute("role","presentation"),y(this,eu).append(Z)}},S_=function(r){var m;const{div:n,properties:a,ctx:c}=r,{style:d}=n;let f="";if(y(ba,Vf)>1&&(f=`scale(${1/y(ba,Vf)})`),a.canvasWidth!==0&&a.hasText){const{fontFamily:b}=d,{canvasWidth:_,fontSize:E}=a;ue(m=ba,Nu,E_).call(m,c,E*y(this,Gf),b);const{width:C}=c.measureText(n.textContent);C>0&&(f=`scaleX(${_*y(this,Gf)/C}) ${f}`)}a.angle!==0&&(f=`rotate(${a.angle}deg) ${f}`),f.length>0&&(d.transform=f)},Nu=new WeakSet,qb=function(r=null){let n=y(this,bm).get(r||(r=""));if(!n){const a=document.createElement("canvas");a.className="hiddenCanvasElement",a.lang=r,document.body.append(a),n=a.getContext("2d",{alpha:!1,willReadFrequently:!0}),y(this,bm).set(r,n),y(this,Jy).set(n,{size:0,family:""})}return n},E_=function(r,n,a){const c=y(this,Jy).get(r);n===c.size&&a===c.family||(r.font=`${n}px ${a}`,c.size=n,c.family=a)},KM=function(){if(y(this,Vf)!==null)return;const r=document.createElement("div");r.style.opacity=0,r.style.lineHeight=1,r.style.fontSize="1px",r.style.position="absolute",r.textContent="X",document.body.append(r),se(this,Vf,r.getBoundingClientRect().height),r.remove()},JM=function(r,n){const a=y(this,xm).get(r);if(a)return a;const c=ue(this,Nu,qb).call(this,n);c.canvas.width=c.canvas.height=Kl,ue(this,Nu,E_).call(this,c,Kl,r);const d=c.measureText("");let f=d.fontBoundingBoxAscent,m=Math.abs(d.fontBoundingBoxDescent);if(f){const E=f/(f+m);return y(this,xm).set(r,E),c.canvas.width=c.canvas.height=0,E}c.strokeStyle="red",c.clearRect(0,0,Kl,Kl),c.strokeText("g",0,0);let b=c.getImageData(0,0,Kl,Kl).data;m=0;for(let E=b.length-1-3;E>=0;E-=4)if(b[E]>0){m=Math.ceil(E/4/Kl);break}c.clearRect(0,0,Kl,Kl),c.strokeText("A",0,Kl),b=c.getImageData(0,0,Kl,Kl).data,f=0;for(let E=0,C=b.length;E<C;E+=4)if(b[E]>0){f=Kl-Math.floor(E/4/Kl);break}c.canvas.width=c.canvas.height=0;const _=f?f/(f+m):aL;return y(this,xm).set(r,_),_},fe(ba,Nu),fe(ba,xm,new Map),fe(ba,bm,new Map),fe(ba,Jy,new WeakMap),fe(ba,Vf,null),fe(ba,yv,new Set);let my=ba;class gy{static textContent(r){const n=[],a={items:n,styles:Object.create(null)};function c(d){var b;if(!d)return;let f=null;const m=d.name;if(m==="#text")f=d.value;else if(gy.shouldBuildText(m))(b=d==null?void 0:d.attributes)!=null&&b.textContent?f=d.attributes.textContent:d.value&&(f=d.value);else return;if(f!==null&&n.push({str:f}),!!d.children)for(const _ of d.children)c(_)}return c(r),a}static shouldBuildText(r){return!(r==="textarea"||r==="input"||r==="option"||r==="select")}}const lL=65536,uL=100,cL=5e3,hL=bl?S2:b2,dL=bl?E2:IM,fL=bl?_2:w2,pL=bl?M2:zM;function mL(O={}){typeof O=="string"||O instanceof URL?O={url:O}:(O instanceof ArrayBuffer||ArrayBuffer.isView(O))&&(O={data:O});const r=new M_,{docId:n}=r,a=O.url?gL(O.url):null,c=O.data?vL(O.data):null,d=O.httpHeaders||null,f=O.withCredentials===!0,m=O.password??null,b=O.range instanceof QM?O.range:null,_=Number.isInteger(O.rangeChunkSize)&&O.rangeChunkSize>0?O.rangeChunkSize:lL;let E=O.worker instanceof Yg?O.worker:null;const C=O.verbosity,k=typeof O.docBaseUrl=="string"&&!W1(O.docBaseUrl)?O.docBaseUrl:null,V=typeof O.cMapUrl=="string"?O.cMapUrl:null,q=O.cMapPacked!==!1,Y=O.CMapReaderFactory||dL,Z=typeof O.standardFontDataUrl=="string"?O.standardFontDataUrl:null,W=O.StandardFontDataFactory||pL,ne=O.stopAtErrors!==!0,le=Number.isInteger(O.maxImageSize)&&O.maxImageSize>-1?O.maxImageSize:-1,ce=O.isEvalSupported!==!1,Te=typeof O.isOffscreenCanvasSupported=="boolean"?O.isOffscreenCanvasSupported:!bl,we=typeof O.isChrome=="boolean"?O.isChrome:!Il.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),Fe=Number.isInteger(O.canvasMaxAreaInBytes)?O.canvasMaxAreaInBytes:-1,R=typeof O.disableFontFace=="boolean"?O.disableFontFace:bl,nt=O.fontExtraProperties===!0,dt=O.enableXfa===!0,wt=O.ownerDocument||globalThis.document,Ze=O.disableRange===!0,rt=O.disableStream===!0,ot=O.disableAutoFetch===!0,xt=O.pdfBug===!0,We=O.CanvasFactory||hL,at=O.FilterFactory||fL,Ge=O.enableHWA===!0,te=b?b.length:O.length??NaN,lt=typeof O.useSystemFonts=="boolean"?O.useSystemFonts:!bl&&!R,Ee=typeof O.useWorkerFetch=="boolean"?O.useWorkerFetch:Y===IM&&W===zM&&V&&Z&&Z0(V,document.baseURI)&&Z0(Z,document.baseURI);O.canvasFactory&&NE("`canvasFactory`-instance option, please use `CanvasFactory` instead."),O.filterFactory&&NE("`filterFactory`-instance option, please use `FilterFactory` instead.");const ke=null;KC(C);const it={canvasFactory:new We({ownerDocument:wt,enableHWA:Ge}),filterFactory:new at({docId:n,ownerDocument:wt}),cMapReaderFactory:Ee?null:new Y({baseUrl:V,isCompressed:q}),standardFontDataFactory:Ee?null:new W({baseUrl:Z})};if(!E){const be={verbosity:C,port:jd.workerPort};E=be.port?Yg.fromPort(be):new Yg(be),r._worker=E}const Ct={docId:n,apiVersion:"4.8.69",data:c,password:m,disableAutoFetch:ot,rangeChunkSize:_,length:te,docBaseUrl:k,enableXfa:dt,evaluatorOptions:{maxImageSize:le,disableFontFace:R,ignoreErrors:ne,isEvalSupported:ce,isOffscreenCanvasSupported:Te,isChrome:we,canvasMaxAreaInBytes:Fe,fontExtraProperties:nt,useSystemFonts:lt,cMapUrl:Ee?V:null,standardFontDataUrl:Ee?Z:null}},Gt={disableFontFace:R,fontExtraProperties:nt,ownerDocument:wt,pdfBug:xt,styleElement:ke,loadingParams:{disableAutoFetch:ot,enableXfa:dt}};return E.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");if(E.destroyed)throw new Error("Worker was destroyed");const be=E.messageHandler.sendWithPromise("GetDocRequest",Ct,c?[c.buffer]:null);let It;if(b)It=new U2(b,{disableRange:Ze,disableStream:rt});else if(!c){if(!a)throw new Error("getDocument - no `url` parameter provided.");let vt;bl?vt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Z0(a)?XE:tL:vt=Z0(a)?XE:Z2,It=new vt({url:a,length:te,httpHeaders:d,withCredentials:f,rangeChunkSize:_,disableRange:Ze,disableStream:rt})}return be.then(vt=>{if(r.destroyed)throw new Error("Loading aborted");if(E.destroyed)throw new Error("Worker was destroyed");const Re=new ry(n,vt,E.port),nn=new wL(Re,r,It,Gt,it);r._transport=nn,Re.send("Ready",null)})}).catch(r._capability.reject),r}function gL(O){if(O instanceof URL)return O.href;try{return new URL(O,window.location).href}catch{if(bl&&typeof O=="string")return O}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function vL(O){if(bl&&typeof Buffer<"u"&&O instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(O instanceof Uint8Array&&O.byteLength===O.buffer.byteLength)return O;if(typeof O=="string")return G1(O);if(O instanceof ArrayBuffer||ArrayBuffer.isView(O)||typeof O=="object"&&!isNaN(O==null?void 0:O.length))return new Uint8Array(O);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function $E(O){return typeof O=="object"&&Number.isInteger(O==null?void 0:O.num)&&O.num>=0&&Number.isInteger(O==null?void 0:O.gen)&&O.gen>=0}var L1;const P1=class P1{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Pl(P1,L1)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var r,n,a;this.destroyed=!0;try{(r=this._worker)!=null&&r.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(c){throw(a=this._worker)!=null&&a.port&&delete this._worker._pendingDestroy,c}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};L1=new WeakMap,fe(P1,L1,0);let M_=P1;class QM{constructor(r,n,a=!1,c=null){this.length=r,this.initialData=n,this.progressiveDone=a,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(r){this._rangeListeners.push(r)}addProgressListener(r){this._progressListeners.push(r)}addProgressiveReadListener(r){this._progressiveReadListeners.push(r)}addProgressiveDoneListener(r){this._progressiveDoneListeners.push(r)}onDataRange(r,n){for(const a of this._rangeListeners)a(r,n)}onDataProgress(r,n){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(r,n)})}onDataProgressiveRead(r){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(r)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const r of this._progressiveDoneListeners)r()})}transportReady(){this._readyCapability.resolve()}requestDataRange(r,n){$s("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class yL{constructor(r,n){this._pdfInfo=r,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ni(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(r){return this._transport.getPage(r)}getPageIndex(r){return this._transport.getPageIndex(r)}getDestinations(){return this._transport.getDestinations()}getDestination(r){return this._transport.getDestination(r)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:r="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(r);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(r=!1){return this._transport.startCleanup(r||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(r){return this._transport.cachedPageNumber(r)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Wf,Sd,hc,Vg,Xb;class xL{constructor(r,n,a,c=!1){fe(this,hc);fe(this,Wf,null);fe(this,Sd,!1);this._pageIndex=r,this._pageInfo=n,this._transport=a,this._stats=c?new IE:null,this._pdfBug=c,this.commonObjs=a.commonObjs,this.objs=new eA,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:r,rotation:n=this.rotate,offsetX:a=0,offsetY:c=0,dontFlip:d=!1}={}){return new kx({viewBox:this.view,scale:r,rotation:n,offsetX:a,offsetY:c,dontFlip:d})}getAnnotations({intent:r="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(r);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ni(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var r;return((r=this._transport._htmlForXfa)==null?void 0:r.children[this._pageIndex])||null}render({canvasContext:r,viewport:n,intent:a="display",annotationMode:c=Lf.ENABLE,transform:d=null,background:f=null,optionalContentConfigPromise:m=null,annotationCanvasMap:b=null,pageColors:_=null,printAnnotationStorage:E=null,isEditing:C=!1}){var ce,Te;(ce=this._stats)==null||ce.time("Overall");const k=this._transport.getRenderingIntent(a,c,E,C),{renderingIntent:V,cacheKey:q}=k;se(this,Sd,!1),ue(this,hc,Xb).call(this),m||(m=this._transport.getOptionalContentConfig(V));let Y=this._intentStates.get(q);Y||(Y=Object.create(null),this._intentStates.set(q,Y)),Y.streamReaderCancelTimeout&&(clearTimeout(Y.streamReaderCancelTimeout),Y.streamReaderCancelTimeout=null);const Z=!!(V&ku.PRINT);Y.displayReadyCapability||(Y.displayReadyCapability=Promise.withResolvers(),Y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Te=this._stats)==null||Te.time("Page Request"),this._pumpOperatorList(k));const W=we=>{var Fe;Y.renderTasks.delete(ne),(this._maybeCleanupAfterRender||Z)&&se(this,Sd,!0),ue(this,hc,Vg).call(this,!Z),we?(ne.capability.reject(we),this._abortOperatorList({intentState:Y,reason:we instanceof Error?we:new Error(we)})):ne.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Fe=globalThis.Stats)!=null&&Fe.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},ne=new T_({callback:W,params:{canvasContext:r,viewport:n,transform:d,background:f},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:b,operatorList:Y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Z,pdfBug:this._pdfBug,pageColors:_});(Y.renderTasks||(Y.renderTasks=new Set)).add(ne);const le=ne.task;return Promise.all([Y.displayReadyCapability.promise,m]).then(([we,Fe])=>{var R;if(this.destroyed){W();return}if((R=this._stats)==null||R.time("Rendering"),!(Fe.renderingIntent&V))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");ne.initializeGraphics({transparency:we,optionalContentConfig:Fe}),ne.operatorListChanged()}).catch(W),le}getOperatorList({intent:r="display",annotationMode:n=Lf.ENABLE,printAnnotationStorage:a=null,isEditing:c=!1}={}){var _;function d(){m.operatorList.lastChunk&&(m.opListReadCapability.resolve(m.operatorList),m.renderTasks.delete(b))}const f=this._transport.getRenderingIntent(r,n,a,c,!0);let m=this._intentStates.get(f.cacheKey);m||(m=Object.create(null),this._intentStates.set(f.cacheKey,m));let b;return m.opListReadCapability||(b=Object.create(null),b.operatorListChanged=d,m.opListReadCapability=Promise.withResolvers(),(m.renderTasks||(m.renderTasks=new Set)).add(b),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(f)),m.opListReadCapability.promise}streamTextContent({includeMarkedContent:r=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:r===!0,disableNormalization:n===!0},{highWaterMark:100,size(c){return c.items.length}})}getTextContent(r={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>gy.textContent(a));const n=this.streamTextContent(r);return new Promise(function(a,c){function d(){f.read().then(function({value:b,done:_}){if(_){a(m);return}m.lang??(m.lang=b.lang),Object.assign(m.styles,b.styles),m.items.push(...b.items),d()},c)}const f=n.getReader(),m={items:[],styles:Object.create(null),lang:null};d()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const r=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const a of n.renderTasks)r.push(a.completed),a.cancel();return this.objs.clear(),se(this,Sd,!1),ue(this,hc,Xb).call(this),Promise.all(r)}cleanup(r=!1){se(this,Sd,!0);const n=ue(this,hc,Vg).call(this,!1);return r&&n&&this._stats&&(this._stats=new IE),n}_startRenderPage(r,n){var c,d;const a=this._intentStates.get(n);a&&((c=this._stats)==null||c.timeEnd("Page Request"),(d=a.displayReadyCapability)==null||d.resolve(r))}_renderPageChunk(r,n){for(let a=0,c=r.length;a<c;a++)n.operatorList.fnArray.push(r.fnArray[a]),n.operatorList.argsArray.push(r.argsArray[a]);n.operatorList.lastChunk=r.lastChunk,n.operatorList.separateAnnots=r.separateAnnots;for(const a of n.renderTasks)a.operatorListChanged();r.lastChunk&&ue(this,hc,Vg).call(this,!0)}_pumpOperatorList({renderingIntent:r,cacheKey:n,annotationStorageSerializable:a,modifiedIds:c}){const{map:d,transfer:f}=a,b=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:n,annotationStorage:d,modifiedIds:c},f).getReader(),_=this._intentStates.get(n);_.streamReader=b;const E=()=>{b.read().then(({value:C,done:k})=>{if(k){_.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(C,_),E())},C=>{if(_.streamReader=null,!this._transport.destroyed){if(_.operatorList){_.operatorList.lastChunk=!0;for(const k of _.renderTasks)k.operatorListChanged();ue(this,hc,Vg).call(this,!0)}if(_.displayReadyCapability)_.displayReadyCapability.reject(C);else if(_.opListReadCapability)_.opListReadCapability.reject(C);else throw C}})};E()}_abortOperatorList({intentState:r,reason:n,force:a=!1}){if(r.streamReader){if(r.streamReaderCancelTimeout&&(clearTimeout(r.streamReaderCancelTimeout),r.streamReaderCancelTimeout=null),!a){if(r.renderTasks.size>0)return;if(n instanceof cS){let c=uL;n.extraDelay>0&&n.extraDelay<1e3&&(c+=n.extraDelay),r.streamReaderCancelTimeout=setTimeout(()=>{r.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:r,reason:n,force:!0})},c);return}}if(r.streamReader.cancel(new Qm(n.message)).catch(()=>{}),r.streamReader=null,!this._transport.destroyed){for(const[c,d]of this._intentStates)if(d===r){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}Wf=new WeakMap,Sd=new WeakMap,hc=new WeakSet,Vg=function(r=!1){if(ue(this,hc,Xb).call(this),!y(this,Sd)||this.destroyed)return!1;if(r)return se(this,Wf,setTimeout(()=>{se(this,Wf,null),ue(this,hc,Vg).call(this,!1)},cL)),!1;for(const{renderTasks:n,operatorList:a}of this._intentStates.values())if(n.size>0||!a.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),se(this,Sd,!1),!0},Xb=function(){y(this,Wf)&&(clearTimeout(y(this,Wf)),se(this,Wf,null))};var Ed,R1;class bL{constructor(){fe(this,Ed,new Map);fe(this,R1,Promise.resolve())}postMessage(r,n){const a={data:structuredClone(r,n?{transfer:n}:null)};y(this,R1).then(()=>{for(const[c]of y(this,Ed))c.call(this,a)})}addEventListener(r,n,a=null){let c=null;if((a==null?void 0:a.signal)instanceof AbortSignal){const{signal:d}=a;if(d.aborted){gi("LoopbackPort - cannot use an `aborted` signal.");return}const f=()=>this.removeEventListener(r,n);c=()=>d.removeEventListener("abort",f),d.addEventListener("abort",f)}y(this,Ed).set(n,c)}removeEventListener(r,n){const a=y(this,Ed).get(n);a==null||a(),y(this,Ed).delete(n)}terminate(){for(const[,r]of y(this,Ed))r==null||r();y(this,Ed).clear()}}Ed=new WeakMap,R1=new WeakMap;var k1,wm,_m,xv,$b,bv,Yb;const eo=class eo{constructor({name:r=null,port:n=null,verbosity:a=JC()}={}){fe(this,xv);var c;if(this.name=r,this.destroyed=!1,this.verbosity=a,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((c=y(eo,_m))!=null&&c.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(y(eo,_m)||se(eo,_m,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return bl?Promise.all([ip.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(r){this._port=r,this._messageHandler=new ry("main","worker",r),this._messageHandler.on("ready",function(){}),ue(this,xv,$b).call(this)}_initialize(){if(y(eo,wm)||y(eo,bv,Yb)){this._setupFakeWorker();return}let{workerSrc:r}=eo;try{eo._isSameOrigin(window.location.href,r)||(r=eo._createCDNWrapper(new URL(r,window.location).href));const n=new Worker(r,{type:"module"}),a=new ry("main","worker",n),c=()=>{d.abort(),a.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},d=new AbortController;n.addEventListener("error",()=>{this._webWorker||c()},{signal:d.signal}),a.on("test",m=>{if(d.abort(),this.destroyed||!m){c();return}this._messageHandler=a,this._port=n,this._webWorker=n,ue(this,xv,$b).call(this)}),a.on("ready",m=>{if(d.abort(),this.destroyed){c();return}try{f()}catch{this._setupFakeWorker()}});const f=()=>{const m=new Uint8Array;a.send("test",m,[m.buffer])};f();return}catch{H1("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){y(eo,wm)||(gi("Setting up fake worker."),se(eo,wm,!0)),eo._setupFakeWorkerGlobal.then(r=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new bL;this._port=n;const a=`fake${Pl(eo,k1)._++}`,c=new ry(a+"_worker",a,n);r.setup(c,n),this._messageHandler=new ry(a,a+"_worker",n),ue(this,xv,$b).call(this)}).catch(r=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${r.message}".`))})}destroy(){var r;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(r=y(eo,_m))==null||r.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(r){var a;if(!(r!=null&&r.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(a=y(this,_m))==null?void 0:a.get(r.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new eo(r)}static get workerSrc(){if(jd.workerSrc)return jd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ni(this,"_setupFakeWorkerGlobal",(async()=>y(this,bv,Yb)?y(this,bv,Yb):(await import(this.workerSrc)).WorkerMessageHandler)())}};k1=new WeakMap,wm=new WeakMap,_m=new WeakMap,xv=new WeakSet,$b=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},bv=new WeakSet,Yb=function(){var r;try{return((r=globalThis.pdfjsWorker)==null?void 0:r.WorkerMessageHandler)||null}catch{return null}},fe(eo,bv),fe(eo,k1,0),fe(eo,wm,!1),fe(eo,_m),bl&&(se(eo,wm,!0),jd.workerSrc||(jd.workerSrc="./pdf.worker.mjs")),eo._isSameOrigin=(r,n)=>{let a;try{if(a=new URL(r),!a.origin||a.origin==="null")return!1}catch{return!1}const c=new URL(n,a);return a.origin===c.origin},eo._createCDNWrapper=r=>{const n=`await import("${r}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))};let Yg=eo;var Md,jh,wv,_v,Hh,Sm,iy;class wL{constructor(r,n,a,c,d){fe(this,Sm);fe(this,Md,new Map);fe(this,jh,new Map);fe(this,wv,new Map);fe(this,_v,new Map);fe(this,Hh,null);this.messageHandler=r,this.loadingTask=n,this.commonObjs=new eA,this.fontLoader=new y2({ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this.loadingParams=c.loadingParams,this._params=c,this.canvasFactory=d.canvasFactory,this.filterFactory=d.filterFactory,this.cMapReaderFactory=d.cMapReaderFactory,this.standardFontDataFactory=d.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ni(this,"annotationStorage",new pS)}getRenderingIntent(r,n=Lf.ENABLE,a=null,c=!1,d=!1){let f=ku.DISPLAY,m=p_;switch(r){case"any":f=ku.ANY;break;case"display":break;case"print":f=ku.PRINT;break;default:gi(`getRenderingIntent - invalid intent: ${r}`)}const b=f&ku.PRINT&&a instanceof RM?a:this.annotationStorage;switch(n){case Lf.DISABLE:f+=ku.ANNOTATIONS_DISABLE;break;case Lf.ENABLE:break;case Lf.ENABLE_FORMS:f+=ku.ANNOTATIONS_FORMS;break;case Lf.ENABLE_STORAGE:f+=ku.ANNOTATIONS_STORAGE,m=b.serializable;break;default:gi(`getRenderingIntent - invalid annotationMode: ${n}`)}c&&(f+=ku.IS_EDITING),d&&(f+=ku.OPLIST);const{ids:_,hash:E}=b.modifiedIds,C=[f,m.hash,E];return{renderingIntent:f,cacheKey:C.join("_"),annotationStorageSerializable:m,modifiedIds:_}}destroy(){var a;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(a=y(this,Hh))==null||a.reject(new Error("Worker was destroyed during onPassword callback"));const r=[];for(const c of y(this,jh).values())r.push(c._destroy());y(this,jh).clear(),y(this,wv).clear(),y(this,_v).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return r.push(n),Promise.all(r).then(()=>{var c;this.commonObjs.clear(),this.fontLoader.clear(),y(this,Md).clear(),this.filterFactory.destroy(),my.cleanup(),(c=this._networkStream)==null||c.cancelAllRequests(new Qm("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:r,loadingTask:n}=this;r.on("GetReader",(a,c)=>{Ea(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=d=>{this._lastProgress={loaded:d.loaded,total:d.total}},c.onPull=()=>{this._fullReader.read().then(function({value:d,done:f}){if(f){c.close();return}Ea(d instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(d),1,[d])}).catch(d=>{c.error(d)})},c.onCancel=d=>{this._fullReader.cancel(d),c.ready.catch(f=>{if(!this.destroyed)throw f})}}),r.on("ReaderHeadersReady",async a=>{var m;await this._fullReader.headersReady;const{isStreamingSupported:c,isRangeSupported:d,contentLength:f}=this._fullReader;return(!c||!d)&&(this._lastProgress&&((m=n.onProgress)==null||m.call(n,this._lastProgress)),this._fullReader.onProgress=b=>{var _;(_=n.onProgress)==null||_.call(n,{loaded:b.loaded,total:b.total})}),{isStreamingSupported:c,isRangeSupported:d,contentLength:f}}),r.on("GetRangeReader",(a,c)=>{Ea(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const d=this._networkStream.getRangeReader(a.begin,a.end);if(!d){c.close();return}c.onPull=()=>{d.read().then(function({value:f,done:m}){if(m){c.close();return}Ea(f instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(f),1,[f])}).catch(f=>{c.error(f)})},c.onCancel=f=>{d.cancel(f),c.ready.catch(m=>{if(!this.destroyed)throw m})}}),r.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,n._capability.resolve(new yL(a,this))}),r.on("DocException",function(a){let c;switch(a.name){case"PasswordException":c=new qw(a.message,a.code);break;case"InvalidPDFException":c=new rM(a.message);break;case"MissingPDFException":c=new Jm(a.message);break;case"UnexpectedResponseException":c=new U1(a.message,a.status);break;case"UnknownErrorException":c=new Xw(a.message,a.details);break;default:$s("DocException - expected a valid Error.")}n._capability.reject(c)}),r.on("PasswordRequest",a=>{if(se(this,Hh,Promise.withResolvers()),n.onPassword){const c=d=>{d instanceof Error?y(this,Hh).reject(d):y(this,Hh).resolve({password:d})};try{n.onPassword(c,a.code)}catch(d){y(this,Hh).reject(d)}}else y(this,Hh).reject(new qw(a.message,a.code));return y(this,Hh).promise}),r.on("DataLoaded",a=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),r.on("StartRenderPage",a=>{if(this.destroyed)return;y(this,jh).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),r.on("commonobj",([a,c,d])=>{var f;if(this.destroyed||this.commonObjs.has(a))return null;switch(c){case"Font":const{disableFontFace:m,fontExtraProperties:b,pdfBug:_}=this._params;if("error"in d){const V=d.error;gi(`Error during font loading: ${V}`),this.commonObjs.resolve(a,V);break}const E=_&&((f=globalThis.FontInspector)!=null&&f.enabled)?(V,q)=>globalThis.FontInspector.fontAdded(V,q):null,C=new x2(d,{disableFontFace:m,inspectFont:E});this.fontLoader.bind(C).catch(()=>r.sendWithPromise("FontFallback",{id:a})).finally(()=>{!b&&C.data&&(C.data=null),this.commonObjs.resolve(a,C)});break;case"CopyLocalImage":const{imageRef:k}=d;Ea(k,"The imageRef must be defined.");for(const V of y(this,jh).values())for(const[,q]of V.objs)if((q==null?void 0:q.ref)===k)return q.dataLen?(this.commonObjs.resolve(a,structuredClone(q)),q.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,d);break;default:throw new Error(`Got unknown common object type ${c}`)}return null}),r.on("obj",([a,c,d,f])=>{var b;if(this.destroyed)return;const m=y(this,jh).get(c);if(!m.objs.has(a)){if(m._intentStates.size===0){(b=f==null?void 0:f.bitmap)==null||b.close();return}switch(d){case"Image":m.objs.resolve(a,f),(f==null?void 0:f.dataLen)>XC&&(m._maybeCleanupAfterRender=!0);break;case"Pattern":m.objs.resolve(a,f);break;default:throw new Error(`Got unknown object type ${d}`)}}}),r.on("DocProgress",a=>{var c;this.destroyed||(c=n.onProgress)==null||c.call(n,{loaded:a.loaded,total:a.total})}),r.on("FetchBuiltInCMap",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(a)}),r.on("FetchStandardFontData",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(a)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var a;this.annotationStorage.size<=0&&gi("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:r,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:r,filename:((a=this._fullReader)==null?void 0:a.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(r){if(!Number.isInteger(r)||r<=0||r>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=r-1,a=y(this,wv).get(n);if(a)return a;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(d=>{if(this.destroyed)throw new Error("Transport destroyed");d.refStr&&y(this,_v).set(d.refStr,r);const f=new xL(n,d,this,this._params.pdfBug);return y(this,jh).set(n,f),f});return y(this,wv).set(n,c),c}getPageIndex(r){return $E(r)?this.messageHandler.sendWithPromise("GetPageIndex",{num:r.num,gen:r.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(r,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:r,intent:n})}getFieldObjects(){return ue(this,Sm,iy).call(this,"GetFieldObjects")}hasJSActions(){return ue(this,Sm,iy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(r){return typeof r!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:r})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ue(this,Sm,iy).call(this,"GetDocJSActions")}getPageJSActions(r){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:r})}getStructTree(r){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:r})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(r){return ue(this,Sm,iy).call(this,"GetOptionalContentConfig").then(n=>new H2(n,r))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const r="GetMetadata",n=y(this,Md).get(r);if(n)return n;const a=this.messageHandler.sendWithPromise(r,null).then(c=>{var d,f;return{info:c[0],metadata:c[1]?new B2(c[1]):null,contentDispositionFilename:((d=this._fullReader)==null?void 0:d.filename)??null,contentLength:((f=this._fullReader)==null?void 0:f.contentLength)??null}});return y(this,Md).set(r,a),a}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(r=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of y(this,jh).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),r||this.fontLoader.clear(),y(this,Md).clear(),this.filterFactory.destroy(!0),my.cleanup()}}cachedPageNumber(r){if(!$E(r))return null;const n=r.gen===0?`${r.num}R`:`${r.num}R${r.gen}`;return y(this,_v).get(n)??null}}Md=new WeakMap,jh=new WeakMap,wv=new WeakMap,_v=new WeakMap,Hh=new WeakMap,Sm=new WeakSet,iy=function(r,n=null){const a=y(this,Md).get(r);if(a)return a;const c=this.messageHandler.sendWithPromise(r,n);return y(this,Md).set(r,c),c};const Nb=Symbol("INITIAL_DATA");var Xc,Qy,A_;class eA{constructor(){fe(this,Qy);fe(this,Xc,Object.create(null))}get(r,n=null){if(n){const c=ue(this,Qy,A_).call(this,r);return c.promise.then(()=>n(c.data)),null}const a=y(this,Xc)[r];if(!a||a.data===Nb)throw new Error(`Requesting object that isn't resolved yet ${r}.`);return a.data}has(r){const n=y(this,Xc)[r];return!!n&&n.data!==Nb}resolve(r,n=null){const a=ue(this,Qy,A_).call(this,r);a.data=n,a.resolve()}clear(){var r;for(const n in y(this,Xc)){const{data:a}=y(this,Xc)[n];(r=a==null?void 0:a.bitmap)==null||r.close()}se(this,Xc,Object.create(null))}*[Symbol.iterator](){for(const r in y(this,Xc)){const{data:n}=y(this,Xc)[r];n!==Nb&&(yield[r,n])}}}Xc=new WeakMap,Qy=new WeakSet,A_=function(r){var n;return(n=y(this,Xc))[r]||(n[r]={...Promise.withResolvers(),data:Nb})};var qf;class _L{constructor(r){fe(this,qf,null);se(this,qf,r),this.onContinue=null}get promise(){return y(this,qf).capability.promise}cancel(r=0){y(this,qf).cancel(null,r)}get separateAnnots(){const{separateAnnots:r}=y(this,qf).operatorList;if(!r)return!1;const{annotationCanvasMap:n}=y(this,qf);return r.form||r.canvas&&(n==null?void 0:n.size)>0}}qf=new WeakMap;var Xf,Em;const Yp=class Yp{constructor({callback:r,params:n,objs:a,commonObjs:c,annotationCanvasMap:d,operatorList:f,pageIndex:m,canvasFactory:b,filterFactory:_,useRequestAnimationFrame:E=!1,pdfBug:C=!1,pageColors:k=null}){fe(this,Xf,null);this.callback=r,this.params=n,this.objs=a,this.commonObjs=c,this.annotationCanvasMap=d,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=m,this.canvasFactory=b,this.filterFactory=_,this._pdfBug=C,this.pageColors=k,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=E===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new _L(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:r=!1,optionalContentConfig:n}){var m,b;if(this.cancelled)return;if(this._canvas){if(y(Yp,Em).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");y(Yp,Em).add(this._canvas)}this._pdfBug&&((m=globalThis.StepperManager)!=null&&m.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:c,transform:d,background:f}=this.params;this.gfx=new $g(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:d,viewport:c,transparency:r,background:f}),this.operatorListIdx=0,this.graphicsReady=!0,(b=this.graphicsReadyCallback)==null||b.call(this)}cancel(r=null,n=0){var a;this.running=!1,this.cancelled=!0,(a=this.gfx)==null||a.endDrawing(),y(this,Xf)&&(window.cancelAnimationFrame(y(this,Xf)),se(this,Xf,null)),y(Yp,Em).delete(this._canvas),this.callback(r||new cS(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var r;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(r=this.stepper)==null||r.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?se(this,Xf,window.requestAnimationFrame(()=>{se(this,Xf,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),y(Yp,Em).delete(this._canvas),this.callback())))}};Xf=new WeakMap,Em=new WeakMap,fe(Yp,Em,new WeakSet);let T_=Yp;const SL="4.8.69",EL="3634dab10";function YE(O){return Math.floor(Math.max(0,Math.min(1,O))*255).toString(16).padStart(2,"0")}function Y0(O){return Math.max(0,Math.min(255,255*O))}class ZE{static CMYK_G([r,n,a,c]){return["G",1-Math.min(1,.3*r+.59*a+.11*n+c)]}static G_CMYK([r]){return["CMYK",0,0,0,1-r]}static G_RGB([r]){return["RGB",r,r,r]}static G_rgb([r]){return r=Y0(r),[r,r,r]}static G_HTML([r]){const n=YE(r);return`#${n}${n}${n}`}static RGB_G([r,n,a]){return["G",.3*r+.59*n+.11*a]}static RGB_rgb(r){return r.map(Y0)}static RGB_HTML(r){return`#${r.map(YE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([r,n,a,c]){return["RGB",1-Math.min(1,r+c),1-Math.min(1,a+c),1-Math.min(1,n+c)]}static CMYK_rgb([r,n,a,c]){return[Y0(1-Math.min(1,r+c)),Y0(1-Math.min(1,a+c)),Y0(1-Math.min(1,n+c))]}static CMYK_HTML(r){const n=this.CMYK_RGB(r).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([r,n,a]){const c=1-r,d=1-n,f=1-a,m=Math.min(c,d,f);return["CMYK",c,d,f,m]}}class ML{create(r,n,a=!1){if(r<=0||n<=0)throw new Error("Invalid SVG dimensions");const c=this._createSVG("svg:svg");return c.setAttribute("version","1.1"),a||(c.setAttribute("width",`${r}px`),c.setAttribute("height",`${n}px`)),c.setAttribute("preserveAspectRatio","none"),c.setAttribute("viewBox",`0 0 ${r} ${n}`),c}createElement(r){if(typeof r!="string")throw new Error("Invalid SVG element type");return this._createSVG(r)}_createSVG(r){$s("Abstract method `_createSVG` called.")}}class xS extends ML{_createSVG(r){return document.createElementNS(fd,r)}}class tA{static setupStorage(r,n,a,c,d){const f=c.getValue(n,{value:null});switch(a.name){case"textarea":if(f.value!==null&&(r.textContent=f.value),d==="print")break;r.addEventListener("input",m=>{c.setValue(n,{value:m.target.value})});break;case"input":if(a.attributes.type==="radio"||a.attributes.type==="checkbox"){if(f.value===a.attributes.xfaOn?r.setAttribute("checked",!0):f.value===a.attributes.xfaOff&&r.removeAttribute("checked"),d==="print")break;r.addEventListener("change",m=>{c.setValue(n,{value:m.target.checked?m.target.getAttribute("xfaOn"):m.target.getAttribute("xfaOff")})})}else{if(f.value!==null&&r.setAttribute("value",f.value),d==="print")break;r.addEventListener("input",m=>{c.setValue(n,{value:m.target.value})})}break;case"select":if(f.value!==null){r.setAttribute("value",f.value);for(const m of a.children)m.attributes.value===f.value?m.attributes.selected=!0:m.attributes.hasOwnProperty("selected")&&delete m.attributes.selected}r.addEventListener("input",m=>{const b=m.target.options,_=b.selectedIndex===-1?"":b[b.selectedIndex].value;c.setValue(n,{value:_})});break}}static setAttributes({html:r,element:n,storage:a=null,intent:c,linkService:d}){const{attributes:f}=n,m=r instanceof HTMLAnchorElement;f.type==="radio"&&(f.name=`${f.name}-${c}`);for(const[b,_]of Object.entries(f))if(_!=null)switch(b){case"class":_.length&&r.setAttribute(b,_.join(" "));break;case"dataId":break;case"id":r.setAttribute("data-element-id",_);break;case"style":Object.assign(r.style,_);break;case"textContent":r.textContent=_;break;default:(!m||b!=="href"&&b!=="newWindow")&&r.setAttribute(b,_)}m&&d.addLinkAttributes(r,f.href,f.newWindow),a&&f.dataId&&this.setupStorage(r,f.dataId,n,a)}static render(r){var C,k;const n=r.annotationStorage,a=r.linkService,c=r.xfaHtml,d=r.intent||"display",f=document.createElement(c.name);c.attributes&&this.setAttributes({html:f,element:c,intent:d,linkService:a});const m=d!=="richText",b=r.div;if(b.append(f),r.viewport){const V=`matrix(${r.viewport.transform.join(",")})`;b.style.transform=V}m&&b.setAttribute("class","xfaLayer xfaFont");const _=[];if(c.children.length===0){if(c.value){const V=document.createTextNode(c.value);f.append(V),m&&gy.shouldBuildText(c.name)&&_.push(V)}return{textDivs:_}}const E=[[c,-1,f]];for(;E.length>0;){const[V,q,Y]=E.at(-1);if(q+1===V.children.length){E.pop();continue}const Z=V.children[++E.at(-1)[1]];if(Z===null)continue;const{name:W}=Z;if(W==="#text"){const le=document.createTextNode(Z.value);_.push(le),Y.append(le);continue}const ne=(C=Z==null?void 0:Z.attributes)!=null&&C.xmlns?document.createElementNS(Z.attributes.xmlns,W):document.createElement(W);if(Y.append(ne),Z.attributes&&this.setAttributes({html:ne,element:Z,storage:n,intent:d,linkService:a}),((k=Z.children)==null?void 0:k.length)>0)E.push([Z,-1,ne]);else if(Z.value){const le=document.createTextNode(Z.value);m&&gy.shouldBuildText(W)&&_.push(le),ne.append(le)}}for(const V of b.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))V.setAttribute("readOnly",!0);return{textDivs:_}}static update(r){const n=`matrix(${r.viewport.transform.join(",")})`;r.div.style.transform=n,r.div.hidden=!1}}const Ix=1e3,AL=9,Ym=new WeakSet;function Hd(O){return{width:O[2]-O[0],height:O[3]-O[1]}}class TL{static create(r){switch(r.data.annotationType){case xa.LINK:return new nA(r);case xa.TEXT:return new CL(r);case xa.WIDGET:switch(r.data.fieldType){case"Tx":return new LL(r);case"Btn":return r.data.radioButton?new sA(r):r.data.checkBox?new RL(r):new kL(r);case"Ch":return new OL(r);case"Sig":return new PL(r)}return new eg(r);case xa.POPUP:return new L_(r);case xa.FREETEXT:return new cA(r);case xa.LINE:return new NL(r);case xa.SQUARE:return new DL(r);case xa.CIRCLE:return new FL(r);case xa.POLYLINE:return new hA(r);case xa.CARET:return new BL(r);case xa.INK:return new bS(r);case xa.POLYGON:return new zL(r);case xa.HIGHLIGHT:return new dA(r);case xa.UNDERLINE:return new jL(r);case xa.SQUIGGLY:return new HL(r);case xa.STRIKEOUT:return new UL(r);case xa.STAMP:return new fA(r);case xa.FILEATTACHMENT:return new GL(r);default:return new Vo(r)}}}var Mm,Sv,Ev,ex,C_;const SS=class SS{constructor(r,{isRenderable:n=!1,ignoreBorder:a=!1,createQuadrilaterals:c=!1}={}){fe(this,ex);fe(this,Mm,null);fe(this,Sv,!1);fe(this,Ev,null);this.isRenderable=n,this.data=r.data,this.layer=r.layer,this.linkService=r.linkService,this.downloadManager=r.downloadManager,this.imageResourcesPath=r.imageResourcesPath,this.renderForms=r.renderForms,this.svgFactory=r.svgFactory,this.annotationStorage=r.annotationStorage,this.enableScripting=r.enableScripting,this.hasJSActions=r.hasJSActions,this._fieldObjects=r.fieldObjects,this.parent=r.parent,n&&(this.container=this._createContainer(a)),c&&this._createQuadrilaterals()}static _hasPopupData({titleObj:r,contentsObj:n,richText:a}){return!!(r!=null&&r.str||n!=null&&n.str||a!=null&&a.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return SS._hasPopupData(this.data)}updateEdited(r){var a;if(!this.container)return;y(this,Mm)||se(this,Mm,{rect:this.data.rect.slice(0)});const{rect:n}=r;n&&ue(this,ex,C_).call(this,n),(a=y(this,Ev))==null||a.popup.updateEdited(r)}resetEdited(){var r;y(this,Mm)&&(ue(this,ex,C_).call(this,y(this,Mm).rect),(r=y(this,Ev))==null||r.popup.resetEdited(),se(this,Mm,null))}_createContainer(r){const{data:n,parent:{page:a,viewport:c}}=this,d=document.createElement("section");d.setAttribute("data-annotation-id",n.id),this instanceof eg||(d.tabIndex=Ix);const{style:f}=d;if(f.zIndex=this.parent.zIndex++,n.alternativeText&&(d.title=n.alternativeText),n.noRotate&&d.classList.add("norotate"),!n.rect||this instanceof L_){const{rotation:Y}=n;return!n.hasOwnCanvas&&Y!==0&&this.setRotation(Y,d),d}const{width:m,height:b}=Hd(n.rect);if(!r&&n.borderStyle.width>0){f.borderWidth=`${n.borderStyle.width}px`;const Y=n.borderStyle.horizontalCornerRadius,Z=n.borderStyle.verticalCornerRadius;if(Y>0||Z>0){const ne=`calc(${Y}px * var(--scale-factor)) / calc(${Z}px * var(--scale-factor))`;f.borderRadius=ne}else if(this instanceof sA){const ne=`calc(${m}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;f.borderRadius=ne}switch(n.borderStyle.style){case X0.SOLID:f.borderStyle="solid";break;case X0.DASHED:f.borderStyle="dashed";break;case X0.BEVELED:gi("Unimplemented border style: beveled");break;case X0.INSET:gi("Unimplemented border style: inset");break;case X0.UNDERLINE:f.borderBottomStyle="solid";break}const W=n.borderColor||null;W?(se(this,Sv,!0),f.borderColor=vr.makeHexColor(W[0]|0,W[1]|0,W[2]|0)):f.borderWidth=0}const _=vr.normalizeRect([n.rect[0],a.view[3]-n.rect[1]+a.view[1],n.rect[2],a.view[3]-n.rect[3]+a.view[1]]),{pageWidth:E,pageHeight:C,pageX:k,pageY:V}=c.rawDims;f.left=`${100*(_[0]-k)/E}%`,f.top=`${100*(_[1]-V)/C}%`;const{rotation:q}=n;return n.hasOwnCanvas||q===0?(f.width=`${100*m/E}%`,f.height=`${100*b/C}%`):this.setRotation(q,d),d}setRotation(r,n=this.container){if(!this.data.rect)return;const{pageWidth:a,pageHeight:c}=this.parent.viewport.rawDims,{width:d,height:f}=Hd(this.data.rect);let m,b;r%180===0?(m=100*d/a,b=100*f/c):(m=100*f/a,b=100*d/c),n.style.width=`${m}%`,n.style.height=`${b}%`,n.setAttribute("data-main-rotation",(360-r)%360)}get _commonActions(){const r=(n,a,c)=>{const d=c.detail[n],f=d[0],m=d.slice(1);c.target.style[a]=ZE[`${f}_HTML`](m),this.annotationStorage.setValue(this.data.id,{[a]:ZE[`${f}_rgb`](m)})};return Ni(this,"_commonActions",{display:n=>{const{display:a}=n.detail,c=a%2===1;this.container.style.visibility=c?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:c,noPrint:a===1||a===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:a}=n.detail;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:a,noView:a})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{r("bgColor","backgroundColor",n)},fillColor:n=>{r("fillColor","backgroundColor",n)},fgColor:n=>{r("fgColor","color",n)},textColor:n=>{r("textColor","color",n)},borderColor:n=>{r("borderColor","borderColor",n)},strokeColor:n=>{r("strokeColor","borderColor",n)},rotation:n=>{const a=n.detail.rotation;this.setRotation(a),this.annotationStorage.setValue(this.data.id,{rotation:a})}})}_dispatchEventFromSandbox(r,n){const a=this._commonActions;for(const c of Object.keys(n.detail)){const d=r[c]||a[c];d==null||d(n)}}_setDefaultPropertiesFromJS(r){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const a=this._commonActions;for(const[c,d]of Object.entries(n)){const f=a[c];if(f){const m={detail:{[c]:d},target:r};f(m),delete n[c]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:r}=this.data;if(!r)return;const[n,a,c,d]=this.data.rect.map(Y=>Math.fround(Y));if(r.length===8){const[Y,Z,W,ne]=r.subarray(2,6);if(c===Y&&d===Z&&n===W&&a===ne)return}const{style:f}=this.container;let m;if(y(this,Sv)){const{borderColor:Y,borderWidth:Z}=f;f.borderWidth=0,m=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Y}" stroke-width="${Z}">`],this.container.classList.add("hasBorder")}const b=c-n,_=d-a,{svgFactory:E}=this,C=E.createElement("svg");C.classList.add("quadrilateralsContainer"),C.setAttribute("width",0),C.setAttribute("height",0);const k=E.createElement("defs");C.append(k);const V=E.createElement("clipPath"),q=`clippath_${this.data.id}`;V.setAttribute("id",q),V.setAttribute("clipPathUnits","objectBoundingBox"),k.append(V);for(let Y=2,Z=r.length;Y<Z;Y+=8){const W=r[Y],ne=r[Y+1],le=r[Y+2],ce=r[Y+3],Te=E.createElement("rect"),we=(le-n)/b,Fe=(d-ne)/_,R=(W-le)/b,nt=(ne-ce)/_;Te.setAttribute("x",we),Te.setAttribute("y",Fe),Te.setAttribute("width",R),Te.setAttribute("height",nt),V.append(Te),m==null||m.push(`<rect vector-effect="non-scaling-stroke" x="${we}" y="${Fe}" width="${R}" height="${nt}"/>`)}y(this,Sv)&&(m.push("</g></svg>')"),f.backgroundImage=m.join("")),this.container.append(C),this.container.style.clipPath=`url(#${q})`}_createPopup(){const{data:r}=this,n=se(this,Ev,new L_({data:{color:r.color,titleObj:r.titleObj,modificationDate:r.modificationDate,contentsObj:r.contentsObj,richText:r.richText,parentRect:r.rect,borderStyle:0,id:`popup_${r.id}`,rotation:r.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){$s("Abstract method `AnnotationElement.render` called")}_getElementsByName(r,n=null){const a=[];if(this._fieldObjects){const c=this._fieldObjects[r];if(c)for(const{page:d,id:f,exportValues:m}of c){if(d===-1||f===n)continue;const b=typeof m=="string"?m:null,_=document.querySelector(`[data-element-id="${f}"]`);if(_&&!Ym.has(_)){gi(`_getElementsByName - element not allowed: ${f}`);continue}a.push({id:f,exportValue:b,domElement:_})}return a}for(const c of document.getElementsByName(r)){const{exportValue:d}=c,f=c.getAttribute("data-element-id");f!==n&&Ym.has(c)&&a.push({id:f,exportValue:d,domElement:c})}return a}show(){var r;this.container&&(this.container.hidden=!1),(r=this.popup)==null||r.maybeShow()}hide(){var r;this.container&&(this.container.hidden=!0),(r=this.popup)==null||r.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const r=this.getElementsToTriggerPopup();if(Array.isArray(r))for(const n of r)n.classList.add("highlightArea");else r.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:r,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("switchannotationeditormode",{source:this,mode:r,editId:n})})}};Mm=new WeakMap,Sv=new WeakMap,Ev=new WeakMap,ex=new WeakSet,C_=function(r){const{container:{style:n},data:{rect:a,rotation:c},parent:{viewport:{rawDims:{pageWidth:d,pageHeight:f,pageX:m,pageY:b}}}}=this;a==null||a.splice(0,4,...r);const{width:_,height:E}=Hd(r);n.left=`${100*(r[0]-m)/d}%`,n.top=`${100*(f-r[3]+b)/f}%`,c===0?(n.width=`${100*_/d}%`,n.height=`${100*E/f}%`):this.setRotation(c)};let Vo=SS;var Ou,Vp,rA,iA;class nA extends Vo{constructor(n,a=null){super(n,{isRenderable:!0,ignoreBorder:!!(a!=null&&a.ignoreBorder),createQuadrilaterals:!0});fe(this,Ou);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:a}=this,c=document.createElement("a");c.setAttribute("data-element-id",n.id);let d=!1;return n.url?(a.addLinkAttributes(c,n.url,n.newWindow),d=!0):n.action?(this._bindNamedAction(c,n.action),d=!0):n.attachment?(ue(this,Ou,rA).call(this,c,n.attachment,n.attachmentDest),d=!0):n.setOCGState?(ue(this,Ou,iA).call(this,c,n.setOCGState),d=!0):n.dest?(this._bindLink(c,n.dest),d=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(c,n),d=!0),n.resetForm?(this._bindResetFormAction(c,n.resetForm),d=!0):this.isTooltipOnly&&!d&&(this._bindLink(c,""),d=!0)),this.container.classList.add("linkAnnotation"),d&&this.container.append(c),this.container}_bindLink(n,a){n.href=this.linkService.getDestinationHash(a),n.onclick=()=>(a&&this.linkService.goToDestination(a),!1),(a||a==="")&&ue(this,Ou,Vp).call(this)}_bindNamedAction(n,a){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(a),!1),ue(this,Ou,Vp).call(this)}_bindJSAction(n,a){n.href=this.linkService.getAnchorUrl("");const c=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const d of Object.keys(a.actions)){const f=c.get(d);f&&(n[f]=()=>{var m;return(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a.id,name:d}}),!1})}n.onclick||(n.onclick=()=>!1),ue(this,Ou,Vp).call(this)}_bindResetFormAction(n,a){const c=n.onclick;if(c||(n.href=this.linkService.getAnchorUrl("")),ue(this,Ou,Vp).call(this),!this._fieldObjects){gi('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),c||(n.onclick=()=>!1);return}n.onclick=()=>{var C;c==null||c();const{fields:d,refs:f,include:m}=a,b=[];if(d.length!==0||f.length!==0){const k=new Set(f);for(const V of d){const q=this._fieldObjects[V]||[];for(const{id:Y}of q)k.add(Y)}for(const V of Object.values(this._fieldObjects))for(const q of V)k.has(q.id)===m&&b.push(q)}else for(const k of Object.values(this._fieldObjects))b.push(...k);const _=this.annotationStorage,E=[];for(const k of b){const{id:V}=k;switch(E.push(V),k.type){case"text":{const Y=k.defaultValue||"";_.setValue(V,{value:Y});break}case"checkbox":case"radiobutton":{const Y=k.defaultValue===k.exportValues;_.setValue(V,{value:Y});break}case"combobox":case"listbox":{const Y=k.defaultValue||"";_.setValue(V,{value:Y});break}default:continue}const q=document.querySelector(`[data-element-id="${V}"]`);if(q){if(!Ym.has(q)){gi(`_bindResetFormAction - element not allowed: ${V}`);continue}}else continue;q.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:E,name:"ResetForm"}})),!1}}}Ou=new WeakSet,Vp=function(){this.container.setAttribute("data-internal-link","")},rA=function(n,a,c=null){n.href=this.linkService.getAnchorUrl(""),a.description&&(n.title=a.description),n.onclick=()=>{var d;return(d=this.downloadManager)==null||d.openOrDownloadData(a.content,a.filename,c),!1},ue(this,Ou,Vp).call(this)},iA=function(n,a){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(a),!1),ue(this,Ou,Vp).call(this)};class CL extends Vo{constructor(r){super(r,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const r=document.createElement("img");return r.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",r.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),r.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(r),this.container}}class eg extends Vo{render(){return this.container}showElementAndHideCanvas(r){var n;this.data.hasOwnCanvas&&(((n=r.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(r.previousSibling.hidden=!0),r.hidden=!1)}_getKeyModifier(r){return Il.platform.isMac?r.metaKey:r.ctrlKey}_setEventListener(r,n,a,c,d){a.includes("mouse")?r.addEventListener(a,f=>{var m;(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:c,value:d(f),shift:f.shiftKey,modifier:this._getKeyModifier(f)}})}):r.addEventListener(a,f=>{var m;if(a==="blur"){if(!n.focused||!f.relatedTarget)return;n.focused=!1}else if(a==="focus"){if(n.focused)return;n.focused=!0}d&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:c,value:d(f)}}))})}_setEventListeners(r,n,a,c){var d,f,m;for(const[b,_]of a)(_==="Action"||(d=this.data.actions)!=null&&d[_])&&((_==="Focus"||_==="Blur")&&(n||(n={focused:!1})),this._setEventListener(r,n,b,_,c),_==="Focus"&&!((f=this.data.actions)!=null&&f.Blur)?this._setEventListener(r,n,"blur","Blur",null):_==="Blur"&&!((m=this.data.actions)!=null&&m.Focus)&&this._setEventListener(r,n,"focus","Focus",null))}_setBackgroundColor(r){const n=this.data.backgroundColor||null;r.style.backgroundColor=n===null?"transparent":vr.makeHexColor(n[0],n[1],n[2])}_setTextStyle(r){const n=["left","center","right"],{fontColor:a}=this.data.defaultAppearanceData,c=this.data.defaultAppearanceData.fontSize||AL,d=r.style;let f;const m=2,b=_=>Math.round(10*_)/10;if(this.data.multiLine){const _=Math.abs(this.data.rect[3]-this.data.rect[1]-m),E=Math.round(_/(Bw*c))||1,C=_/E;f=Math.min(c,b(C/Bw))}else{const _=Math.abs(this.data.rect[3]-this.data.rect[1]-m);f=Math.min(c,b(_/Bw))}d.fontSize=`calc(${f}px * var(--scale-factor))`,d.color=vr.makeHexColor(a[0],a[1],a[2]),this.data.textAlignment!==null&&(d.textAlign=n[this.data.textAlignment])}_setRequired(r,n){n?r.setAttribute("required",!0):r.removeAttribute("required"),r.setAttribute("aria-required",n)}}class LL extends eg{constructor(r){const n=r.renderForms||r.data.hasOwnCanvas||!r.data.hasAppearance&&!!r.data.fieldValue;super(r,{isRenderable:n})}setPropertyOnSiblings(r,n,a,c){const d=this.annotationStorage;for(const f of this._getElementsByName(r.name,r.id))f.domElement&&(f.domElement[n]=a),d.setValue(f.id,{[c]:a})}render(){var c,d;const r=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let a=null;if(this.renderForms){const f=r.getValue(n,{value:this.data.fieldValue});let m=f.value||"";const b=r.getValue(n,{charLimit:this.data.maxLen}).charLimit;b&&m.length>b&&(m=m.slice(0,b));let _=f.formattedValue||((c=this.data.textContent)==null?void 0:c.join(`
`))||null;_&&this.data.comb&&(_=_.replaceAll(/\s+/g,""));const E={userValue:m,formattedValue:_,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(a=document.createElement("textarea"),a.textContent=_??m,this.data.doNotScroll&&(a.style.overflowY="hidden")):(a=document.createElement("input"),a.type="text",a.setAttribute("value",_??m),this.data.doNotScroll&&(a.style.overflowX="hidden")),this.data.hasOwnCanvas&&(a.hidden=!0),Ym.add(a),a.setAttribute("data-element-id",n),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=Ix,this._setRequired(a,this.data.required),b&&(a.maxLength=b),a.addEventListener("input",k=>{r.setValue(n,{value:k.target.value}),this.setPropertyOnSiblings(a,"value",k.target.value,"value"),E.formattedValue=null}),a.addEventListener("resetform",k=>{const V=this.data.defaultFieldValue??"";a.value=E.userValue=V,E.formattedValue=null});let C=k=>{const{formattedValue:V}=E;V!=null&&(k.target.value=V),k.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){a.addEventListener("focus",V=>{var Y;if(E.focused)return;const{target:q}=V;E.userValue&&(q.value=E.userValue),E.lastCommittedValue=q.value,E.commitKey=1,(Y=this.data.actions)!=null&&Y.Focus||(E.focused=!0)}),a.addEventListener("updatefromsandbox",V=>{this.showElementAndHideCanvas(V.target);const q={value(Y){E.userValue=Y.detail.value??"",r.setValue(n,{value:E.userValue.toString()}),Y.target.value=E.userValue},formattedValue(Y){const{formattedValue:Z}=Y.detail;E.formattedValue=Z,Z!=null&&Y.target!==document.activeElement&&(Y.target.value=Z),r.setValue(n,{formattedValue:Z})},selRange(Y){Y.target.setSelectionRange(...Y.detail.selRange)},charLimit:Y=>{var le;const{charLimit:Z}=Y.detail,{target:W}=Y;if(Z===0){W.removeAttribute("maxLength");return}W.setAttribute("maxLength",Z);let ne=E.userValue;!ne||ne.length<=Z||(ne=ne.slice(0,Z),W.value=E.userValue=ne,r.setValue(n,{value:ne}),(le=this.linkService.eventBus)==null||le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:ne,willCommit:!0,commitKey:1,selStart:W.selectionStart,selEnd:W.selectionEnd}}))}};this._dispatchEventFromSandbox(q,V)}),a.addEventListener("keydown",V=>{var Z;E.commitKey=1;let q=-1;if(V.key==="Escape"?q=0:V.key==="Enter"&&!this.data.multiLine?q=2:V.key==="Tab"&&(E.commitKey=3),q===-1)return;const{value:Y}=V.target;E.lastCommittedValue!==Y&&(E.lastCommittedValue=Y,E.userValue=Y,(Z=this.linkService.eventBus)==null||Z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:Y,willCommit:!0,commitKey:q,selStart:V.target.selectionStart,selEnd:V.target.selectionEnd}}))});const k=C;C=null,a.addEventListener("blur",V=>{var Y,Z;if(!E.focused||!V.relatedTarget)return;(Y=this.data.actions)!=null&&Y.Blur||(E.focused=!1);const{value:q}=V.target;E.userValue=q,E.lastCommittedValue!==q&&((Z=this.linkService.eventBus)==null||Z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:q,willCommit:!0,commitKey:E.commitKey,selStart:V.target.selectionStart,selEnd:V.target.selectionEnd}})),k(V)}),(d=this.data.actions)!=null&&d.Keystroke&&a.addEventListener("beforeinput",V=>{var Te;E.lastCommittedValue=null;const{data:q,target:Y}=V,{value:Z,selectionStart:W,selectionEnd:ne}=Y;let le=W,ce=ne;switch(V.inputType){case"deleteWordBackward":{const we=Z.substring(0,W).match(/\w*[^\w]*$/);we&&(le-=we[0].length);break}case"deleteWordForward":{const we=Z.substring(W).match(/^[^\w]*\w*/);we&&(ce+=we[0].length);break}case"deleteContentBackward":W===ne&&(le-=1);break;case"deleteContentForward":W===ne&&(ce+=1);break}V.preventDefault(),(Te=this.linkService.eventBus)==null||Te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:Z,change:q||"",willCommit:!1,selStart:le,selEnd:ce}})}),this._setEventListeners(a,E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.value)}if(C&&a.addEventListener("blur",C),this.data.comb){const V=(this.data.rect[2]-this.data.rect[0])/b;a.classList.add("comb"),a.style.letterSpacing=`calc(${V}px * var(--scale-factor) - 1ch)`}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell",this.data.hasOwnCanvas&&(a.hidden=!0);return this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class PL extends eg{constructor(r){super(r,{isRenderable:!!r.data.hasOwnCanvas})}}class RL extends eg{constructor(r){super(r,{isRenderable:r.renderForms})}render(){const r=this.annotationStorage,n=this.data,a=n.id;let c=r.getValue(a,{value:n.exportValue===n.fieldValue}).value;typeof c=="string"&&(c=c!=="Off",r.setValue(a,{value:c})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const d=document.createElement("input");return Ym.add(d),d.setAttribute("data-element-id",a),d.disabled=n.readOnly,this._setRequired(d,this.data.required),d.type="checkbox",d.name=n.fieldName,c&&d.setAttribute("checked",!0),d.setAttribute("exportValue",n.exportValue),d.tabIndex=Ix,d.addEventListener("change",f=>{const{name:m,checked:b}=f.target;for(const _ of this._getElementsByName(m,a)){const E=b&&_.exportValue===n.exportValue;_.domElement&&(_.domElement.checked=E),r.setValue(_.id,{value:E})}r.setValue(a,{value:b})}),d.addEventListener("resetform",f=>{const m=n.defaultFieldValue||"Off";f.target.checked=m===n.exportValue}),this.enableScripting&&this.hasJSActions&&(d.addEventListener("updatefromsandbox",f=>{const m={value(b){b.target.checked=b.detail.value!=="Off",r.setValue(a,{value:b.target.checked})}};this._dispatchEventFromSandbox(m,f)}),this._setEventListeners(d,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.checked)),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.append(d),this.container}}class sA extends eg{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const r=this.annotationStorage,n=this.data,a=n.id;let c=r.getValue(a,{value:n.fieldValue===n.buttonValue}).value;if(typeof c=="string"&&(c=c!==n.buttonValue,r.setValue(a,{value:c})),c)for(const f of this._getElementsByName(n.fieldName,a))r.setValue(f.id,{value:!1});const d=document.createElement("input");if(Ym.add(d),d.setAttribute("data-element-id",a),d.disabled=n.readOnly,this._setRequired(d,this.data.required),d.type="radio",d.name=n.fieldName,c&&d.setAttribute("checked",!0),d.tabIndex=Ix,d.addEventListener("change",f=>{const{name:m,checked:b}=f.target;for(const _ of this._getElementsByName(m,a))r.setValue(_.id,{value:!1});r.setValue(a,{value:b})}),d.addEventListener("resetform",f=>{const m=n.defaultFieldValue;f.target.checked=m!=null&&m===n.buttonValue}),this.enableScripting&&this.hasJSActions){const f=n.buttonValue;d.addEventListener("updatefromsandbox",m=>{const b={value:_=>{const E=f===_.detail.value;for(const C of this._getElementsByName(_.target.name)){const k=E&&C.id===a;C.domElement&&(C.domElement.checked=k),r.setValue(C.id,{value:k})}}};this._dispatchEventFromSandbox(b,m)}),this._setEventListeners(d,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.checked)}return this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.append(d),this.container}}class kL extends nA{constructor(r){super(r,{ignoreBorder:r.data.hasAppearance})}render(){const r=super.render();r.classList.add("buttonWidgetAnnotation","pushButton");const n=r.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({},a)})),r}}class OL extends eg{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const r=this.annotationStorage,n=this.data.id,a=r.getValue(n,{value:this.data.fieldValue}),c=document.createElement("select");Ym.add(c),c.setAttribute("data-element-id",n),c.disabled=this.data.readOnly,this._setRequired(c,this.data.required),c.name=this.data.fieldName,c.tabIndex=Ix;let d=this.data.combo&&this.data.options.length>0;this.data.combo||(c.size=this.data.options.length,this.data.multiSelect&&(c.multiple=!0)),c.addEventListener("resetform",E=>{const C=this.data.defaultFieldValue;for(const k of c.options)k.selected=k.value===C});for(const E of this.data.options){const C=document.createElement("option");C.textContent=E.displayValue,C.value=E.exportValue,a.value.includes(E.exportValue)&&(C.setAttribute("selected",!0),d=!1),c.append(C)}let f=null;if(d){const E=document.createElement("option");E.value=" ",E.setAttribute("hidden",!0),E.setAttribute("selected",!0),c.prepend(E),f=()=>{E.remove(),c.removeEventListener("input",f),f=null},c.addEventListener("input",f)}const m=E=>{const C=E?"value":"textContent",{options:k,multiple:V}=c;return V?Array.prototype.filter.call(k,q=>q.selected).map(q=>q[C]):k.selectedIndex===-1?null:k[k.selectedIndex][C]};let b=m(!1);const _=E=>{const C=E.target.options;return Array.prototype.map.call(C,k=>({displayValue:k.textContent,exportValue:k.value}))};return this.enableScripting&&this.hasJSActions?(c.addEventListener("updatefromsandbox",E=>{const C={value(k){f==null||f();const V=k.detail.value,q=new Set(Array.isArray(V)?V:[V]);for(const Y of c.options)Y.selected=q.has(Y.value);r.setValue(n,{value:m(!0)}),b=m(!1)},multipleSelection(k){c.multiple=!0},remove(k){const V=c.options,q=k.detail.remove;V[q].selected=!1,c.remove(q),V.length>0&&Array.prototype.findIndex.call(V,Z=>Z.selected)===-1&&(V[0].selected=!0),r.setValue(n,{value:m(!0),items:_(k)}),b=m(!1)},clear(k){for(;c.length!==0;)c.remove(0);r.setValue(n,{value:null,items:[]}),b=m(!1)},insert(k){const{index:V,displayValue:q,exportValue:Y}=k.detail.insert,Z=c.children[V],W=document.createElement("option");W.textContent=q,W.value=Y,Z?Z.before(W):c.append(W),r.setValue(n,{value:m(!0),items:_(k)}),b=m(!1)},items(k){const{items:V}=k.detail;for(;c.length!==0;)c.remove(0);for(const q of V){const{displayValue:Y,exportValue:Z}=q,W=document.createElement("option");W.textContent=Y,W.value=Z,c.append(W)}c.options.length>0&&(c.options[0].selected=!0),r.setValue(n,{value:m(!0),items:_(k)}),b=m(!1)},indices(k){const V=new Set(k.detail.indices);for(const q of k.target.options)q.selected=V.has(q.index);r.setValue(n,{value:m(!0)}),b=m(!1)},editable(k){k.target.disabled=!k.detail.editable}};this._dispatchEventFromSandbox(C,E)}),c.addEventListener("input",E=>{var V;const C=m(!0),k=m(!1);r.setValue(n,{value:C}),E.preventDefault(),(V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:b,change:k,changeEx:C,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(c,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],E=>E.target.value)):c.addEventListener("input",function(E){r.setValue(n,{value:m(!0)})}),this.data.combo&&this._setTextStyle(c),this._setBackgroundColor(c),this._setDefaultPropertiesFromJS(c),this.container.append(c),this.container}}class L_ extends Vo{constructor(r){const{data:n,elements:a}=r;super(r,{isRenderable:Vo._hasPopupData(n)}),this.elements=a,this.popup=null}render(){this.container.classList.add("popupAnnotation");const r=this.popup=new IL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const a of this.elements)a.popup=r,a.container.ariaHasPopup="dialog",n.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(a=>`${uS}${a}`).join(",")),this.container}}var Mv,O1,I1,Av,Am,Po,Ad,Tv,tx,nx,Cv,Td,$c,Cd,rx,Ld,ix,Tm,Cm,Ts,Zb,P_,oA,aA,lA,uA,Kb,Jb,R_;class IL{constructor({container:r,color:n,elements:a,titleObj:c,modificationDate:d,contentsObj:f,richText:m,parent:b,rect:_,parentRect:E,open:C}){fe(this,Ts);fe(this,Mv,ue(this,Ts,lA).bind(this));fe(this,O1,ue(this,Ts,R_).bind(this));fe(this,I1,ue(this,Ts,Jb).bind(this));fe(this,Av,ue(this,Ts,Kb).bind(this));fe(this,Am,null);fe(this,Po,null);fe(this,Ad,null);fe(this,Tv,null);fe(this,tx,null);fe(this,nx,null);fe(this,Cv,null);fe(this,Td,!1);fe(this,$c,null);fe(this,Cd,null);fe(this,rx,null);fe(this,Ld,null);fe(this,ix,null);fe(this,Tm,null);fe(this,Cm,!1);var k;se(this,Po,r),se(this,ix,c),se(this,Ad,f),se(this,Ld,m),se(this,nx,b),se(this,Am,n),se(this,rx,_),se(this,Cv,E),se(this,tx,a),se(this,Tv,dS.toDateObject(d)),this.trigger=a.flatMap(V=>V.getElementsToTriggerPopup());for(const V of this.trigger)V.addEventListener("click",y(this,Av)),V.addEventListener("mouseenter",y(this,I1)),V.addEventListener("mouseleave",y(this,O1)),V.classList.add("popupTriggerArea");for(const V of a)(k=V.container)==null||k.addEventListener("keydown",y(this,Mv));y(this,Po).hidden=!0,C&&ue(this,Ts,Kb).call(this)}render(){if(y(this,$c))return;const r=se(this,$c,document.createElement("div"));if(r.className="popup",y(this,Am)){const d=r.style.outlineColor=vr.makeHexColor(...y(this,Am));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?r.style.backgroundColor=`color-mix(in srgb, ${d} 30%, white)`:r.style.backgroundColor=vr.makeHexColor(...y(this,Am).map(m=>Math.floor(.7*(255-m)+m)))}const n=document.createElement("span");n.className="header";const a=document.createElement("h1");if(n.append(a),{dir:a.dir,str:a.textContent}=y(this,ix),r.append(n),y(this,Tv)){const d=document.createElement("span");d.classList.add("popupDate"),d.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),d.setAttribute("data-l10n-args",JSON.stringify({dateObj:y(this,Tv).valueOf()})),n.append(d)}const c=y(this,Ts,Zb);if(c)tA.render({xfaHtml:c,intent:"richText",div:r}),r.lastChild.classList.add("richText","popupContent");else{const d=this._formatContents(y(this,Ad));r.append(d)}y(this,Po).append(r)}_formatContents({str:r,dir:n}){const a=document.createElement("p");a.classList.add("popupContent"),a.dir=n;const c=r.split(/(?:\r\n?|\n)/);for(let d=0,f=c.length;d<f;++d){const m=c[d];a.append(document.createTextNode(m)),d<f-1&&a.append(document.createElement("br"))}return a}updateEdited({rect:r,popupContent:n}){var a;y(this,Tm)||se(this,Tm,{contentsObj:y(this,Ad),richText:y(this,Ld)}),r&&se(this,Cd,null),n&&(se(this,Ld,ue(this,Ts,aA).call(this,n)),se(this,Ad,null)),(a=y(this,$c))==null||a.remove(),se(this,$c,null)}resetEdited(){var r;y(this,Tm)&&({contentsObj:Pl(this,Ad)._,richText:Pl(this,Ld)._}=y(this,Tm),se(this,Tm,null),(r=y(this,$c))==null||r.remove(),se(this,$c,null),se(this,Cd,null))}forceHide(){se(this,Cm,this.isVisible),y(this,Cm)&&(y(this,Po).hidden=!0)}maybeShow(){y(this,Cm)&&(y(this,$c)||ue(this,Ts,Jb).call(this),se(this,Cm,!1),y(this,Po).hidden=!1)}get isVisible(){return y(this,Po).hidden===!1}}Mv=new WeakMap,O1=new WeakMap,I1=new WeakMap,Av=new WeakMap,Am=new WeakMap,Po=new WeakMap,Ad=new WeakMap,Tv=new WeakMap,tx=new WeakMap,nx=new WeakMap,Cv=new WeakMap,Td=new WeakMap,$c=new WeakMap,Cd=new WeakMap,rx=new WeakMap,Ld=new WeakMap,ix=new WeakMap,Tm=new WeakMap,Cm=new WeakMap,Ts=new WeakSet,Zb=function(){const r=y(this,Ld),n=y(this,Ad);return r!=null&&r.str&&(!(n!=null&&n.str)||n.str===r.str)&&y(this,Ld).html||null},P_=function(){var r,n,a;return((a=(n=(r=y(this,Ts,Zb))==null?void 0:r.attributes)==null?void 0:n.style)==null?void 0:a.fontSize)||0},oA=function(){var r,n,a;return((a=(n=(r=y(this,Ts,Zb))==null?void 0:r.attributes)==null?void 0:n.style)==null?void 0:a.color)||null},aA=function(r){const n=[],a={str:r,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},c={style:{color:y(this,Ts,oA),fontSize:y(this,Ts,P_)?`calc(${y(this,Ts,P_)}px * var(--scale-factor))`:""}};for(const d of r.split(`
`))n.push({name:"span",value:d,attributes:c});return a},lA=function(r){r.altKey||r.shiftKey||r.ctrlKey||r.metaKey||(r.key==="Enter"||r.key==="Escape"&&y(this,Td))&&ue(this,Ts,Kb).call(this)},uA=function(){if(y(this,Cd)!==null)return;const{page:{view:r},viewport:{rawDims:{pageWidth:n,pageHeight:a,pageX:c,pageY:d}}}=y(this,nx);let f=!!y(this,Cv),m=f?y(this,Cv):y(this,rx);for(const q of y(this,tx))if(!m||vr.intersect(q.data.rect,m)!==null){m=q.data.rect,f=!0;break}const b=vr.normalizeRect([m[0],r[3]-m[1]+r[1],m[2],r[3]-m[3]+r[1]]),E=f?m[2]-m[0]+5:0,C=b[0]+E,k=b[1];se(this,Cd,[100*(C-c)/n,100*(k-d)/a]);const{style:V}=y(this,Po);V.left=`${y(this,Cd)[0]}%`,V.top=`${y(this,Cd)[1]}%`},Kb=function(){se(this,Td,!y(this,Td)),y(this,Td)?(ue(this,Ts,Jb).call(this),y(this,Po).addEventListener("click",y(this,Av)),y(this,Po).addEventListener("keydown",y(this,Mv))):(ue(this,Ts,R_).call(this),y(this,Po).removeEventListener("click",y(this,Av)),y(this,Po).removeEventListener("keydown",y(this,Mv)))},Jb=function(){y(this,$c)||this.render(),this.isVisible?y(this,Td)&&y(this,Po).classList.add("focused"):(ue(this,Ts,uA).call(this),y(this,Po).hidden=!1,y(this,Po).style.zIndex=parseInt(y(this,Po).style.zIndex)+1e3)},R_=function(){y(this,Po).classList.remove("focused"),!(y(this,Td)||!this.isVisible)&&(y(this,Po).hidden=!0,y(this,Po).style.zIndex=parseInt(y(this,Po).style.zIndex)-1e3)};class cA extends Vo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0}),this.textContent=r.data.textContent,this.textPosition=r.data.textPosition,this.annotationEditorType=ui.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const r=document.createElement("div");r.classList.add("annotationTextContent"),r.setAttribute("role","comment");for(const n of this.textContent){const a=document.createElement("span");a.textContent=n,r.append(a)}this.container.append(r)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var sx;class NL extends Vo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});fe(this,sx,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:a,height:c}=Hd(n.rect),d=this.svgFactory.create(a,c,!0),f=se(this,sx,this.svgFactory.createElement("svg:line"));return f.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),f.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),f.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),f.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),f.setAttribute("stroke-width",n.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),d.append(f),this.container.append(d),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,sx)}addHighlightArea(){this.container.classList.add("highlightArea")}}sx=new WeakMap;var ox;class DL extends Vo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});fe(this,ox,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:a,height:c}=Hd(n.rect),d=this.svgFactory.create(a,c,!0),f=n.borderStyle.width,m=se(this,ox,this.svgFactory.createElement("svg:rect"));return m.setAttribute("x",f/2),m.setAttribute("y",f/2),m.setAttribute("width",a-f),m.setAttribute("height",c-f),m.setAttribute("stroke-width",f||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),d.append(m),this.container.append(d),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,ox)}addHighlightArea(){this.container.classList.add("highlightArea")}}ox=new WeakMap;var ax;class FL extends Vo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});fe(this,ax,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:a,height:c}=Hd(n.rect),d=this.svgFactory.create(a,c,!0),f=n.borderStyle.width,m=se(this,ax,this.svgFactory.createElement("svg:ellipse"));return m.setAttribute("cx",a/2),m.setAttribute("cy",c/2),m.setAttribute("rx",a/2-f/2),m.setAttribute("ry",c/2-f/2),m.setAttribute("stroke-width",f||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),d.append(m),this.container.append(d),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,ax)}addHighlightArea(){this.container.classList.add("highlightArea")}}ax=new WeakMap;var lx;class hA extends Vo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});fe(this,lx,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:a,borderStyle:c,popupRef:d}}=this;if(!a)return this.container;const{width:f,height:m}=Hd(n),b=this.svgFactory.create(f,m,!0);let _=[];for(let C=0,k=a.length;C<k;C+=2){const V=a[C]-n[0],q=n[3]-a[C+1];_.push(`${V},${q}`)}_=_.join(" ");const E=se(this,lx,this.svgFactory.createElement(this.svgElementName));return E.setAttribute("points",_),E.setAttribute("stroke-width",c.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),b.append(E),this.container.append(b),!d&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,lx)}addHighlightArea(){this.container.classList.add("highlightArea")}}lx=new WeakMap;class zL extends hA{constructor(r){super(r),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class BL extends Vo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ux;class bS extends Vo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});fe(this,ux,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ui.HIGHLIGHT:ui.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:a,borderStyle:c,popupRef:d}}=this,{width:f,height:m}=Hd(n),b=this.svgFactory.create(f,m,!0);for(const _ of a){let E=[];for(let k=0,V=_.length;k<V;k+=2){const q=_[k]-n[0],Y=n[3]-_[k+1];E.push(`${q},${Y}`)}E=E.join(" ");const C=this.svgFactory.createElement(this.svgElementName);y(this,ux).push(C),C.setAttribute("points",E),C.setAttribute("stroke-width",c.width||1),C.setAttribute("stroke","transparent"),C.setAttribute("fill","transparent"),b.append(C)}return!d&&this.hasPopupData&&this._createPopup(),this.container.append(b),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return y(this,ux)}addHighlightArea(){this.container.classList.add("highlightArea")}}ux=new WeakMap;class dA extends Vo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ui.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class jL extends Vo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class HL extends Vo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class UL extends Vo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class fA extends Vo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ui.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var cx,hx,k_;class GL extends Vo{constructor(n){var c;super(n,{isRenderable:!0});fe(this,hx);fe(this,cx,null);const{file:a}=this.data;this.filename=a.filename,this.content=a.content,(c=this.linkService.eventBus)==null||c.dispatch("fileattachmentannotation",{source:this,...a})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:a}=this;let c;a.hasAppearance||a.fillAlpha===0?c=document.createElement("div"):(c=document.createElement("img"),c.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(a.name)?"paperclip":"pushpin"}.svg`,a.fillAlpha&&a.fillAlpha<1&&(c.style=`filter: opacity(${Math.round(a.fillAlpha*100)}%);`)),c.addEventListener("dblclick",ue(this,hx,k_).bind(this)),se(this,cx,c);const{isMac:d}=Il.platform;return n.addEventListener("keydown",f=>{f.key==="Enter"&&(d?f.metaKey:f.ctrlKey)&&ue(this,hx,k_).call(this)}),!a.popupRef&&this.hasPopupData?this._createPopup():c.classList.add("popupTriggerArea"),n.append(c),n}getElementsToTriggerPopup(){return y(this,cx)}addHighlightArea(){this.container.classList.add("highlightArea")}}cx=new WeakMap,hx=new WeakSet,k_=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var dx,Lm,Pm,fx,Zm,pA,O_;class VL{constructor({div:r,accessibilityManager:n,annotationCanvasMap:a,annotationEditorUIManager:c,page:d,viewport:f,structTreeLayer:m}){fe(this,Zm);fe(this,dx,null);fe(this,Lm,null);fe(this,Pm,new Map);fe(this,fx,null);this.div=r,se(this,dx,n),se(this,Lm,a),se(this,fx,m||null),this.page=d,this.viewport=f,this.zIndex=0,this._annotationEditorUIManager=c}hasEditableAnnotations(){return y(this,Pm).size>0}async render(r){var f;const{annotations:n}=r,a=this.div;Xm(a,this.viewport);const c=new Map,d={data:null,layer:a,linkService:r.linkService,downloadManager:r.downloadManager,imageResourcesPath:r.imageResourcesPath||"",renderForms:r.renderForms!==!1,svgFactory:new xS,annotationStorage:r.annotationStorage||new pS,enableScripting:r.enableScripting===!0,hasJSActions:r.hasJSActions,fieldObjects:r.fieldObjects,parent:this,elements:null};for(const m of n){if(m.noHTML)continue;const b=m.annotationType===xa.POPUP;if(b){const C=c.get(m.id);if(!C)continue;d.elements=C}else{const{width:C,height:k}=Hd(m.rect);if(C<=0||k<=0)continue}d.data=m;const _=TL.create(d);if(!_.isRenderable)continue;if(!b&&m.popupRef){const C=c.get(m.popupRef);C?C.push(_):c.set(m.popupRef,[_])}const E=_.render();m.hidden&&(E.style.visibility="hidden"),await ue(this,Zm,pA).call(this,E,m.id),_._isEditable&&(y(this,Pm).set(_.data.id,_),(f=this._annotationEditorUIManager)==null||f.renderAnnotationElement(_))}ue(this,Zm,O_).call(this)}update({viewport:r}){const n=this.div;this.viewport=r,Xm(n,{rotation:r.rotation}),ue(this,Zm,O_).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(y(this,Pm).values())}getEditableAnnotation(r){return y(this,Pm).get(r)}}dx=new WeakMap,Lm=new WeakMap,Pm=new WeakMap,fx=new WeakMap,Zm=new WeakSet,pA=async function(r,n){var f,m;const a=r.firstChild||r,c=a.id=`${uS}${n}`,d=await((f=y(this,fx))==null?void 0:f.getAriaAttributes(c));if(d)for(const[b,_]of d)a.setAttribute(b,_);this.div.append(r),(m=y(this,dx))==null||m.moveElementInDOM(this.div,r,a,!1)},O_=function(){if(!y(this,Lm))return;const r=this.div;for(const[n,a]of y(this,Lm)){const c=r.querySelector(`[data-annotation-id="${n}"]`);if(!c)continue;a.className="annotationContent";const{firstChild:d}=c;d?d.nodeName==="CANVAS"?d.replaceWith(a):d.classList.contains("annotationContent")?d.after(a):d.before(a):c.append(a)}y(this,Lm).clear()};const Db=/\r\n?|\n/g;var Yc,Au,px,Rm,Tu,ra,mA,gA,vA,Qb,Gd,e1,t1,yA,N_,xA;const js=class js extends xs{constructor(n){super({...n,name:"freeTextEditor"});fe(this,ra);fe(this,Yc);fe(this,Au,"");fe(this,px,`${this.id}-editor`);fe(this,Rm,null);fe(this,Tu);se(this,Yc,n.color||js._defaultColor||xs._defaultLineColor),se(this,Tu,n.fontSize||js._defaultFontSize)}static get _keyboardManager(){const n=js.prototype,a=f=>f.isEmpty(),c=$m.TRANSLATE_SMALL,d=$m.TRANSLATE_BIG;return Ni(this,"_keyboardManager",new Ox([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-c,0],checker:a}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-d,0],checker:a}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[c,0],checker:a}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[d,0],checker:a}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-c],checker:a}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-d],checker:a}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,c],checker:a}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,d],checker:a}]]))}static initialize(n,a){xs.initialize(n,a);const c=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(c.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,a){switch(n){case Vr.FREETEXT_SIZE:js._defaultFontSize=a;break;case Vr.FREETEXT_COLOR:js._defaultColor=a;break}}updateParams(n,a){switch(n){case Vr.FREETEXT_SIZE:ue(this,ra,mA).call(this,a);break;case Vr.FREETEXT_COLOR:ue(this,ra,gA).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[Vr.FREETEXT_SIZE,js._defaultFontSize],[Vr.FREETEXT_COLOR,js._defaultColor||xs._defaultLineColor]]}get propertiesToUpdate(){return[[Vr.FREETEXT_SIZE,y(this,Tu)],[Vr.FREETEXT_COLOR,y(this,Yc)]]}_translateEmpty(n,a){this._uiManager.translateSelectedEditors(n,a,!0)}getInitialTranslation(){const n=this.parentScale;return[-js._internalPadding*n,-(js._internalPadding+y(this,Tu))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(ui.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),se(this,Rm,new AbortController);const n=this._uiManager.combinedSignal(y(this,Rm));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n})}disableEditMode(){var n;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",y(this,px)),this._isDraggable=!0,(n=y(this,Rm))==null||n.abort(),se(this,Rm,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=y(this,Au),a=se(this,Au,ue(this,ra,vA).call(this).trimEnd());if(n===a)return;const c=d=>{if(se(this,Au,d),!d){this.remove();return}ue(this,ra,t1).call(this),this._uiManager.rebuild(this),ue(this,ra,Qb).call(this)};this.addCommands({cmd:()=>{c(a)},undo:()=>{c(n)},mustExec:!1}),ue(this,ra,Qb).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){js._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,a;this.width&&(n=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",y(this,px)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:c}=this.editorDiv;if(c.fontSize=`calc(${y(this,Tu)}px * var(--scale-factor))`,c.color=y(this,Yc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),f1(this,this.div,["dblclick","keydown"]),this.width){const[d,f]=this.parentDimensions;if(this.annotationElementId){const{position:m}=this._initialData;let[b,_]=this.getInitialTranslation();[b,_]=this.pageTranslationToScreen(b,_);const[E,C]=this.pageDimensions,[k,V]=this.pageTranslation;let q,Y;switch(this.rotation){case 0:q=n+(m[0]-k)/E,Y=a+this.height-(m[1]-V)/C;break;case 90:q=n+(m[0]-k)/E,Y=a-(m[1]-V)/C,[b,_]=[_,-b];break;case 180:q=n-this.width+(m[0]-k)/E,Y=a-(m[1]-V)/C,[b,_]=[-b,-_];break;case 270:q=n+(m[0]-k-this.height*C)/E,Y=a+(m[1]-V-this.width*E)/C,[b,_]=[-_,b];break}this.setAt(q*d,Y*f,b,_)}else this.setAt(n*d,a*f,this.width*d,this.height*f);ue(this,ra,t1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var q,Y,Z;const a=n.clipboardData||window.clipboardData,{types:c}=a;if(c.length===1&&c[0]==="text/plain")return;n.preventDefault();const d=ue(q=js,Gd,N_).call(q,a.getData("text")||"").replaceAll(Db,`
`);if(!d)return;const f=window.getSelection();if(!f.rangeCount)return;this.editorDiv.normalize(),f.deleteFromDocument();const m=f.getRangeAt(0);if(!d.includes(`
`)){m.insertNode(document.createTextNode(d)),this.editorDiv.normalize(),f.collapseToStart();return}const{startContainer:b,startOffset:_}=m,E=[],C=[];if(b.nodeType===Node.TEXT_NODE){const W=b.parentElement;if(C.push(b.nodeValue.slice(_).replaceAll(Db,"")),W!==this.editorDiv){let ne=E;for(const le of this.editorDiv.childNodes){if(le===W){ne=C;continue}ne.push(ue(Y=js,Gd,e1).call(Y,le))}}E.push(b.nodeValue.slice(0,_).replaceAll(Db,""))}else if(b===this.editorDiv){let W=E,ne=0;for(const le of this.editorDiv.childNodes)ne++===_&&(W=C),W.push(ue(Z=js,Gd,e1).call(Z,le))}se(this,Au,`${E.join(`
`)}${d}${C.join(`
`)}`),ue(this,ra,t1).call(this);const k=new Range;let V=E.reduce((W,ne)=>W+ne.length,0);for(const{firstChild:W}of this.editorDiv.childNodes)if(W.nodeType===Node.TEXT_NODE){const ne=W.nodeValue.length;if(V<=ne){k.setStart(W,V),k.setEnd(W,V);break}V-=ne}f.removeAllRanges(),f.addRange(k)}get contentDiv(){return this.editorDiv}static async deserialize(n,a,c){var m;let d=null;if(n instanceof cA){const{data:{defaultAppearanceData:{fontSize:b,fontColor:_},rect:E,rotation:C,id:k,popupRef:V},textContent:q,textPosition:Y,parent:{page:{pageNumber:Z}}}=n;if(!q||q.length===0)return null;d=n={annotationType:ui.FREETEXT,color:Array.from(_),fontSize:b,value:q.join(`
`),position:Y,pageIndex:Z-1,rect:E.slice(0),rotation:C,id:k,deleted:!1,popupRef:V}}const f=await super.deserialize(n,a,c);return se(f,Tu,n.fontSize),se(f,Yc,vr.makeHexColor(...n.color)),se(f,Au,ue(m=js,Gd,N_).call(m,n.value)),f.annotationElementId=n.id||null,f._initialData=d,f}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a=js._internalPadding*this.parentScale,c=this.getRect(a,a),d=xs._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:y(this,Yc)),f={annotationType:ui.FREETEXT,color:d,fontSize:y(this,Tu),value:ue(this,ra,yA).call(this),pageIndex:this.pageIndex,rect:c,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?f:this.annotationElementId&&!ue(this,ra,xA).call(this,f)?null:(f.id=this.annotationElementId,f)}renderAnnotationElement(n){const a=super.renderAnnotationElement(n);if(this.deleted)return a;const{style:c}=a;c.fontSize=`calc(${y(this,Tu)}px * var(--scale-factor))`,c.color=y(this,Yc),a.replaceChildren();for(const f of y(this,Au).split(`
`)){const m=document.createElement("div");m.append(f?document.createTextNode(f):document.createElement("br")),a.append(m)}const d=js._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(d,d),popupContent:y(this,Au)}),a}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Yc=new WeakMap,Au=new WeakMap,px=new WeakMap,Rm=new WeakMap,Tu=new WeakMap,ra=new WeakSet,mA=function(n){const a=d=>{this.editorDiv.style.fontSize=`calc(${d}px * var(--scale-factor))`,this.translate(0,-(d-y(this,Tu))*this.parentScale),se(this,Tu,d),ue(this,ra,Qb).call(this)},c=y(this,Tu);this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},gA=function(n){const a=d=>{se(this,Yc,this.editorDiv.style.color=d)},c=y(this,Yc);this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vA=function(){var c;const n=[];this.editorDiv.normalize();let a=null;for(const d of this.editorDiv.childNodes)(a==null?void 0:a.nodeType)===Node.TEXT_NODE&&d.nodeName==="BR"||(n.push(ue(c=js,Gd,e1).call(c,d)),a=d);return n.join(`
`)},Qb=function(){const[n,a]=this.parentDimensions;let c;if(this.isAttachedToDOM)c=this.div.getBoundingClientRect();else{const{currentLayer:d,div:f}=this,m=f.style.display,b=f.classList.contains("hidden");f.classList.remove("hidden"),f.style.display="hidden",d.div.append(this.div),c=f.getBoundingClientRect(),f.remove(),f.style.display=m,f.classList.toggle("hidden",b)}this.rotation%180===this.parentRotation%180?(this.width=c.width/n,this.height=c.height/a):(this.width=c.height/n,this.height=c.width/a),this.fixAndSetPosition()},Gd=new WeakSet,e1=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(Db,"")},t1=function(){if(this.editorDiv.replaceChildren(),!!y(this,Au))for(const n of y(this,Au).split(`
`)){const a=document.createElement("div");a.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(a)}},yA=function(){return y(this,Au).replaceAll(" "," ")},N_=function(n){return n.replaceAll(" "," ")},xA=function(n){const{value:a,fontSize:c,color:d,pageIndex:f}=this._initialData;return this._hasBeenMoved||n.value!==a||n.fontSize!==c||n.color.some((m,b)=>m!==d[b])||n.pageIndex!==f},fe(js,Gd),Gr(js,"_freeTextDefaultContent",""),Gr(js,"_internalPadding",0),Gr(js,"_defaultColor",null),Gr(js,"_defaultFontSize",10),Gr(js,"_type","freetext"),Gr(js,"_editorType",ui.FREETEXT);let I_=js;class bA{toSVGPath(){$s("Abstract method `toSVGPath` must be implemented.")}get box(){$s("Abstract getter `box` must be implemented.")}serialize(r,n){$s("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){$s("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){$s("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Cu,Zc,Lv,Pv,Uh,_i,km,Om,mx,gx,Rv,kv,$f,vx,N1,D1,Ma,sy,wA,_A,SA,EA,MA,AA;const md=class md{constructor({x:r,y:n},a,c,d,f,m=0){fe(this,Ma);fe(this,Cu);fe(this,Zc,[]);fe(this,Lv);fe(this,Pv);fe(this,Uh,[]);fe(this,_i,new Float64Array(18));fe(this,km);fe(this,Om);fe(this,mx);fe(this,gx);fe(this,Rv);fe(this,kv);fe(this,$f,[]);se(this,Cu,a),se(this,kv,d*c),se(this,Pv,f),y(this,_i).set([NaN,NaN,NaN,NaN,r,n],6),se(this,Lv,m),se(this,gx,y(md,vx)*c),se(this,mx,y(md,D1)*c),se(this,Rv,c),y(this,$f).push(r,n)}isEmpty(){return isNaN(y(this,_i)[8])}add({x:r,y:n}){var nt;se(this,km,r),se(this,Om,n);const[a,c,d,f]=y(this,Cu);let[m,b,_,E]=y(this,_i).subarray(8,12);const C=r-_,k=n-E,V=Math.hypot(C,k);if(V<y(this,mx))return!1;const q=V-y(this,gx),Y=q/V,Z=Y*C,W=Y*k;let ne=m,le=b;m=_,b=E,_+=Z,E+=W,(nt=y(this,$f))==null||nt.push(r,n);const ce=-W/q,Te=Z/q,we=ce*y(this,kv),Fe=Te*y(this,kv);return y(this,_i).set(y(this,_i).subarray(2,8),0),y(this,_i).set([_+we,E+Fe],4),y(this,_i).set(y(this,_i).subarray(14,18),12),y(this,_i).set([_-we,E-Fe],16),isNaN(y(this,_i)[6])?(y(this,Uh).length===0&&(y(this,_i).set([m+we,b+Fe],2),y(this,Uh).push(NaN,NaN,NaN,NaN,(m+we-a)/d,(b+Fe-c)/f),y(this,_i).set([m-we,b-Fe],14),y(this,Zc).push(NaN,NaN,NaN,NaN,(m-we-a)/d,(b-Fe-c)/f)),y(this,_i).set([ne,le,m,b,_,E],6),!this.isEmpty()):(y(this,_i).set([ne,le,m,b,_,E],6),Math.abs(Math.atan2(le-b,ne-m)-Math.atan2(W,Z))<Math.PI/2?([m,b,_,E]=y(this,_i).subarray(2,6),y(this,Uh).push(NaN,NaN,NaN,NaN,((m+_)/2-a)/d,((b+E)/2-c)/f),[m,b,ne,le]=y(this,_i).subarray(14,18),y(this,Zc).push(NaN,NaN,NaN,NaN,((ne+m)/2-a)/d,((le+b)/2-c)/f),!0):([ne,le,m,b,_,E]=y(this,_i).subarray(0,6),y(this,Uh).push(((ne+5*m)/6-a)/d,((le+5*b)/6-c)/f,((5*m+_)/6-a)/d,((5*b+E)/6-c)/f,((m+_)/2-a)/d,((b+E)/2-c)/f),[_,E,m,b,ne,le]=y(this,_i).subarray(12,18),y(this,Zc).push(((ne+5*m)/6-a)/d,((le+5*b)/6-c)/f,((5*m+_)/6-a)/d,((5*b+E)/6-c)/f,((m+_)/2-a)/d,((b+E)/2-c)/f),!0))}toSVGPath(){if(this.isEmpty())return"";const r=y(this,Uh),n=y(this,Zc);if(isNaN(y(this,_i)[6])&&!this.isEmpty())return ue(this,Ma,wA).call(this);const a=[];a.push(`M${r[4]} ${r[5]}`);for(let c=6;c<r.length;c+=6)isNaN(r[c])?a.push(`L${r[c+4]} ${r[c+5]}`):a.push(`C${r[c]} ${r[c+1]} ${r[c+2]} ${r[c+3]} ${r[c+4]} ${r[c+5]}`);ue(this,Ma,SA).call(this,a);for(let c=n.length-6;c>=6;c-=6)isNaN(n[c])?a.push(`L${n[c+4]} ${n[c+5]}`):a.push(`C${n[c]} ${n[c+1]} ${n[c+2]} ${n[c+3]} ${n[c+4]} ${n[c+5]}`);return ue(this,Ma,_A).call(this,a),a.join(" ")}newFreeDrawOutline(r,n,a,c,d,f){return new TA(r,n,a,c,d,f)}getOutlines(){var C;const r=y(this,Uh),n=y(this,Zc),a=y(this,_i),[c,d,f,m]=y(this,Cu),b=new Float64Array((((C=y(this,$f))==null?void 0:C.length)??0)+2);for(let k=0,V=b.length-2;k<V;k+=2)b[k]=(y(this,$f)[k]-c)/f,b[k+1]=(y(this,$f)[k+1]-d)/m;if(b[b.length-2]=(y(this,km)-c)/f,b[b.length-1]=(y(this,Om)-d)/m,isNaN(a[6])&&!this.isEmpty())return ue(this,Ma,EA).call(this,b);const _=new Float64Array(y(this,Uh).length+24+y(this,Zc).length);let E=r.length;for(let k=0;k<E;k+=2){if(isNaN(r[k])){_[k]=_[k+1]=NaN;continue}_[k]=r[k],_[k+1]=r[k+1]}E=ue(this,Ma,AA).call(this,_,E);for(let k=n.length-6;k>=6;k-=6)for(let V=0;V<6;V+=2){if(isNaN(n[k+V])){_[E]=_[E+1]=NaN,E+=2;continue}_[E]=n[k+V],_[E+1]=n[k+V+1],E+=2}return ue(this,Ma,MA).call(this,_,E),this.newFreeDrawOutline(_,b,y(this,Cu),y(this,Rv),y(this,Lv),y(this,Pv))}};Cu=new WeakMap,Zc=new WeakMap,Lv=new WeakMap,Pv=new WeakMap,Uh=new WeakMap,_i=new WeakMap,km=new WeakMap,Om=new WeakMap,mx=new WeakMap,gx=new WeakMap,Rv=new WeakMap,kv=new WeakMap,$f=new WeakMap,vx=new WeakMap,N1=new WeakMap,D1=new WeakMap,Ma=new WeakSet,sy=function(){const r=y(this,_i).subarray(4,6),n=y(this,_i).subarray(16,18),[a,c,d,f]=y(this,Cu);return[(y(this,km)+(r[0]-n[0])/2-a)/d,(y(this,Om)+(r[1]-n[1])/2-c)/f,(y(this,km)+(n[0]-r[0])/2-a)/d,(y(this,Om)+(n[1]-r[1])/2-c)/f]},wA=function(){const[r,n,a,c]=y(this,Cu),[d,f,m,b]=ue(this,Ma,sy).call(this);return`M${(y(this,_i)[2]-r)/a} ${(y(this,_i)[3]-n)/c} L${(y(this,_i)[4]-r)/a} ${(y(this,_i)[5]-n)/c} L${d} ${f} L${m} ${b} L${(y(this,_i)[16]-r)/a} ${(y(this,_i)[17]-n)/c} L${(y(this,_i)[14]-r)/a} ${(y(this,_i)[15]-n)/c} Z`},_A=function(r){const n=y(this,Zc);r.push(`L${n[4]} ${n[5]} Z`)},SA=function(r){const[n,a,c,d]=y(this,Cu),f=y(this,_i).subarray(4,6),m=y(this,_i).subarray(16,18),[b,_,E,C]=ue(this,Ma,sy).call(this);r.push(`L${(f[0]-n)/c} ${(f[1]-a)/d} L${b} ${_} L${E} ${C} L${(m[0]-n)/c} ${(m[1]-a)/d}`)},EA=function(r){const n=y(this,_i),[a,c,d,f]=y(this,Cu),[m,b,_,E]=ue(this,Ma,sy).call(this),C=new Float64Array(36);return C.set([NaN,NaN,NaN,NaN,(n[2]-a)/d,(n[3]-c)/f,NaN,NaN,NaN,NaN,(n[4]-a)/d,(n[5]-c)/f,NaN,NaN,NaN,NaN,m,b,NaN,NaN,NaN,NaN,_,E,NaN,NaN,NaN,NaN,(n[16]-a)/d,(n[17]-c)/f,NaN,NaN,NaN,NaN,(n[14]-a)/d,(n[15]-c)/f],0),this.newFreeDrawOutline(C,r,y(this,Cu),y(this,Rv),y(this,Lv),y(this,Pv))},MA=function(r,n){const a=y(this,Zc);return r.set([NaN,NaN,NaN,NaN,a[4],a[5]],n),n+=6},AA=function(r,n){const a=y(this,_i).subarray(4,6),c=y(this,_i).subarray(16,18),[d,f,m,b]=y(this,Cu),[_,E,C,k]=ue(this,Ma,sy).call(this);return r.set([NaN,NaN,NaN,NaN,(a[0]-d)/m,(a[1]-f)/b,NaN,NaN,NaN,NaN,_,E,NaN,NaN,NaN,NaN,C,k,NaN,NaN,NaN,NaN,(c[0]-d)/m,(c[1]-f)/b],n),n+=24},fe(md,vx,8),fe(md,N1,2),fe(md,D1,y(md,vx)+y(md,N1));let m1=md;var Ov,Im,Pd,yx,Lu,xx,Go,ru,oy,ay,CA;class TA extends bA{constructor(n,a,c,d,f,m){super();fe(this,ru);fe(this,Ov);fe(this,Im,null);fe(this,Pd);fe(this,yx);fe(this,Lu);fe(this,xx);fe(this,Go);se(this,Go,n),se(this,Lu,a),se(this,Ov,c),se(this,xx,d),se(this,Pd,f),se(this,yx,m),ue(this,ru,CA).call(this,m);const{x:b,y:_,width:E,height:C}=y(this,Im);for(let k=0,V=n.length;k<V;k+=2)n[k]=(n[k]-b)/E,n[k+1]=(n[k+1]-_)/C;for(let k=0,V=a.length;k<V;k+=2)a[k]=(a[k]-b)/E,a[k+1]=(a[k+1]-_)/C}toSVGPath(){const n=[`M${y(this,Go)[4]} ${y(this,Go)[5]}`];for(let a=6,c=y(this,Go).length;a<c;a+=6){if(isNaN(y(this,Go)[a])){n.push(`L${y(this,Go)[a+4]} ${y(this,Go)[a+5]}`);continue}n.push(`C${y(this,Go)[a]} ${y(this,Go)[a+1]} ${y(this,Go)[a+2]} ${y(this,Go)[a+3]} ${y(this,Go)[a+4]} ${y(this,Go)[a+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,a,c,d],f){const m=c-n,b=d-a;let _,E;switch(f){case 0:_=ue(this,ru,oy).call(this,y(this,Go),n,d,m,-b),E=ue(this,ru,oy).call(this,y(this,Lu),n,d,m,-b);break;case 90:_=ue(this,ru,ay).call(this,y(this,Go),n,a,m,b),E=ue(this,ru,ay).call(this,y(this,Lu),n,a,m,b);break;case 180:_=ue(this,ru,oy).call(this,y(this,Go),c,a,-m,b),E=ue(this,ru,oy).call(this,y(this,Lu),c,a,-m,b);break;case 270:_=ue(this,ru,ay).call(this,y(this,Go),c,d,-m,-b),E=ue(this,ru,ay).call(this,y(this,Lu),c,d,-m,-b);break}return{outline:Array.from(_),points:[Array.from(E)]}}get box(){return y(this,Im)}newOutliner(n,a,c,d,f,m=0){return new m1(n,a,c,d,f,m)}getNewOutline(n,a){const{x:c,y:d,width:f,height:m}=y(this,Im),[b,_,E,C]=y(this,Ov),k=f*E,V=m*C,q=c*E+b,Y=d*C+_,Z=this.newOutliner({x:y(this,Lu)[0]*k+q,y:y(this,Lu)[1]*V+Y},y(this,Ov),y(this,xx),n,y(this,yx),a??y(this,Pd));for(let W=2;W<y(this,Lu).length;W+=2)Z.add({x:y(this,Lu)[W]*k+q,y:y(this,Lu)[W+1]*V+Y});return Z.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Ov=new WeakMap,Im=new WeakMap,Pd=new WeakMap,yx=new WeakMap,Lu=new WeakMap,xx=new WeakMap,Go=new WeakMap,ru=new WeakSet,oy=function(n,a,c,d,f){const m=new Float64Array(n.length);for(let b=0,_=n.length;b<_;b+=2)m[b]=a+n[b]*d,m[b+1]=c+n[b+1]*f;return m},ay=function(n,a,c,d,f){const m=new Float64Array(n.length);for(let b=0,_=n.length;b<_;b+=2)m[b]=a+n[b+1]*d,m[b+1]=c+n[b]*f;return m},CA=function(n){const a=y(this,Go);let c=a[4],d=a[5],f=c,m=d,b=c,_=d,E=c,C=d;const k=n?Math.max:Math.min;for(let W=6,ne=a.length;W<ne;W+=6){if(isNaN(a[W]))f=Math.min(f,a[W+4]),m=Math.min(m,a[W+5]),b=Math.max(b,a[W+4]),_=Math.max(_,a[W+5]),C<a[W+5]?(E=a[W+4],C=a[W+5]):C===a[W+5]&&(E=k(E,a[W+4]));else{const le=vr.bezierBoundingBox(c,d,...a.slice(W,W+6));f=Math.min(f,le[0]),m=Math.min(m,le[1]),b=Math.max(b,le[2]),_=Math.max(_,le[3]),C<le[3]?(E=le[2],C=le[3]):C===le[3]&&(E=k(E,le[2]))}c=a[W+4],d=a[W+5]}const V=f-y(this,Pd),q=m-y(this,Pd),Y=b-f+2*y(this,Pd),Z=_-m+2*y(this,Pd);se(this,Im,{x:V,y:q,width:Y,height:Z,lastPoint:[E,C]})};var bx,Yf,Kc,Dl,LA,n1,PA,RA,D_;class KE{constructor(r,n=0,a=0,c=!0){fe(this,Dl);fe(this,bx);fe(this,Yf,[]);fe(this,Kc,[]);let d=1/0,f=-1/0,m=1/0,b=-1/0;const _=10**-4;for(const{x:Z,y:W,width:ne,height:le}of r){const ce=Math.floor((Z-n)/_)*_,Te=Math.ceil((Z+ne+n)/_)*_,we=Math.floor((W-n)/_)*_,Fe=Math.ceil((W+le+n)/_)*_,R=[ce,we,Fe,!0],nt=[Te,we,Fe,!1];y(this,Yf).push(R,nt),d=Math.min(d,ce),f=Math.max(f,Te),m=Math.min(m,we),b=Math.max(b,Fe)}const E=f-d+2*a,C=b-m+2*a,k=d-a,V=m-a,q=y(this,Yf).at(c?-1:-2),Y=[q[0],q[2]];for(const Z of y(this,Yf)){const[W,ne,le]=Z;Z[0]=(W-k)/E,Z[1]=(ne-V)/C,Z[2]=(le-V)/C}se(this,bx,{x:k,y:V,width:E,height:C,lastPoint:Y})}getOutlines(){y(this,Yf).sort((n,a)=>n[0]-a[0]||n[1]-a[1]||n[2]-a[2]);const r=[];for(const n of y(this,Yf))n[3]?(r.push(...ue(this,Dl,D_).call(this,n)),ue(this,Dl,PA).call(this,n)):(ue(this,Dl,RA).call(this,n),r.push(...ue(this,Dl,D_).call(this,n)));return ue(this,Dl,LA).call(this,r)}}bx=new WeakMap,Yf=new WeakMap,Kc=new WeakMap,Dl=new WeakSet,LA=function(r){const n=[],a=new Set;for(const f of r){const[m,b,_]=f;n.push([m,b,f],[m,_,f])}n.sort((f,m)=>f[1]-m[1]||f[0]-m[0]);for(let f=0,m=n.length;f<m;f+=2){const b=n[f][2],_=n[f+1][2];b.push(_),_.push(b),a.add(b),a.add(_)}const c=[];let d;for(;a.size>0;){const f=a.values().next().value;let[m,b,_,E,C]=f;a.delete(f);let k=m,V=b;for(d=[m,_],c.push(d);;){let q;if(a.has(E))q=E;else if(a.has(C))q=C;else break;a.delete(q),[m,b,_,E,C]=q,k!==m&&(d.push(k,V,m,V===b?b:_),k=m),V=V===b?_:b}d.push(k,V)}return new WL(c,y(this,bx))},n1=function(r){const n=y(this,Kc);let a=0,c=n.length-1;for(;a<=c;){const d=a+c>>1,f=n[d][0];if(f===r)return d;f<r?a=d+1:c=d-1}return c+1},PA=function([,r,n]){const a=ue(this,Dl,n1).call(this,r);y(this,Kc).splice(a,0,[r,n])},RA=function([,r,n]){const a=ue(this,Dl,n1).call(this,r);for(let c=a;c<y(this,Kc).length;c++){const[d,f]=y(this,Kc)[c];if(d!==r)break;if(d===r&&f===n){y(this,Kc).splice(c,1);return}}for(let c=a-1;c>=0;c--){const[d,f]=y(this,Kc)[c];if(d!==r)break;if(d===r&&f===n){y(this,Kc).splice(c,1);return}}},D_=function(r){const[n,a,c]=r,d=[[n,a,c]],f=ue(this,Dl,n1).call(this,c);for(let m=0;m<f;m++){const[b,_]=y(this,Kc)[m];for(let E=0,C=d.length;E<C;E++){const[,k,V]=d[E];if(!(_<=k||V<=b)){if(k>=b){if(V>_)d[E][1]=_;else{if(C===1)return[];d.splice(E,1),E--,C--}continue}d[E][2]=b,V>_&&d.push([n,_,V])}}}return d};var wx,Iv;class WL extends bA{constructor(n,a){super();fe(this,wx);fe(this,Iv);se(this,Iv,n),se(this,wx,a)}toSVGPath(){const n=[];for(const a of y(this,Iv)){let[c,d]=a;n.push(`M${c} ${d}`);for(let f=2;f<a.length;f+=2){const m=a[f],b=a[f+1];m===c?(n.push(`V${b}`),d=b):b===d&&(n.push(`H${m}`),c=m)}n.push("Z")}return n.join(" ")}serialize([n,a,c,d],f){const m=[],b=c-n,_=d-a;for(const E of y(this,Iv)){const C=new Array(E.length);for(let k=0;k<E.length;k+=2)C[k]=n+E[k]*b,C[k+1]=d-E[k+1]*_;m.push(C)}return m}get box(){return y(this,wx)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}wx=new WeakMap,Iv=new WeakMap;class F_ extends m1{newFreeDrawOutline(r,n,a,c,d,f){return new qL(r,n,a,c,d,f)}get classNamesForDrawing(){return["highlight","free"]}}class qL extends TA{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(r,n,a,c,d,f=0){return new F_(r,n,a,c,d,f)}}var Jc,Nm,Nv,_a,_x,Dv,Sx,Ex,Zf,Qc,Fv,Mx,As,z_,B_,j_,Wp,kA,Cf;const Jl=class Jl{constructor({editor:r=null,uiManager:n=null}){fe(this,As);fe(this,Jc,null);fe(this,Nm,null);fe(this,Nv);fe(this,_a,null);fe(this,_x,!1);fe(this,Dv,!1);fe(this,Sx,null);fe(this,Ex);fe(this,Zf,null);fe(this,Qc,null);fe(this,Fv);var a;r?(se(this,Dv,!1),se(this,Fv,Vr.HIGHLIGHT_COLOR),se(this,Sx,r)):(se(this,Dv,!0),se(this,Fv,Vr.HIGHLIGHT_DEFAULT_COLOR)),se(this,Qc,(r==null?void 0:r._uiManager)||n),se(this,Ex,y(this,Qc)._eventBus),se(this,Nv,(r==null?void 0:r.color)||((a=y(this,Qc))==null?void 0:a.highlightColors.values().next().value)||"#FFFF98"),y(Jl,Mx)||se(Jl,Mx,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ni(this,"_keyboardManager",new Ox([[["Escape","mac+Escape"],Jl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Jl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Jl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Jl.prototype._moveToPrevious],[["Home","mac+Home"],Jl.prototype._moveToBeginning],[["End","mac+End"],Jl.prototype._moveToEnd]]))}renderButton(){const r=se(this,Jc,document.createElement("button"));r.className="colorPicker",r.tabIndex="0",r.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),r.setAttribute("aria-haspopup",!0);const n=y(this,Qc)._signal;r.addEventListener("click",ue(this,As,Wp).bind(this),{signal:n}),r.addEventListener("keydown",ue(this,As,j_).bind(this),{signal:n});const a=se(this,Nm,document.createElement("span"));return a.className="swatch",a.setAttribute("aria-hidden",!0),a.style.backgroundColor=y(this,Nv),r.append(a),r}renderMainDropdown(){const r=se(this,_a,ue(this,As,z_).call(this));return r.setAttribute("aria-orientation","horizontal"),r.setAttribute("aria-labelledby","highlightColorPickerLabel"),r}_colorSelectFromKeyboard(r){if(r.target===y(this,Jc)){ue(this,As,Wp).call(this,r);return}const n=r.target.getAttribute("data-color");n&&ue(this,As,B_).call(this,n,r)}_moveToNext(r){var n,a;if(!y(this,As,Cf)){ue(this,As,Wp).call(this,r);return}if(r.target===y(this,Jc)){(n=y(this,_a).firstChild)==null||n.focus();return}(a=r.target.nextSibling)==null||a.focus()}_moveToPrevious(r){var n,a;if(r.target===((n=y(this,_a))==null?void 0:n.firstChild)||r.target===y(this,Jc)){y(this,As,Cf)&&this._hideDropdownFromKeyboard();return}y(this,As,Cf)||ue(this,As,Wp).call(this,r),(a=r.target.previousSibling)==null||a.focus()}_moveToBeginning(r){var n;if(!y(this,As,Cf)){ue(this,As,Wp).call(this,r);return}(n=y(this,_a).firstChild)==null||n.focus()}_moveToEnd(r){var n;if(!y(this,As,Cf)){ue(this,As,Wp).call(this,r);return}(n=y(this,_a).lastChild)==null||n.focus()}hideDropdown(){var r,n;(r=y(this,_a))==null||r.classList.add("hidden"),(n=y(this,Zf))==null||n.abort(),se(this,Zf,null)}_hideDropdownFromKeyboard(){var r;if(!y(this,Dv)){if(!y(this,As,Cf)){(r=y(this,Sx))==null||r.unselect();return}this.hideDropdown(),y(this,Jc).focus({preventScroll:!0,focusVisible:y(this,_x)})}}updateColor(r){if(y(this,Nm)&&(y(this,Nm).style.backgroundColor=r),!y(this,_a))return;const n=y(this,Qc).highlightColors.values();for(const a of y(this,_a).children)a.setAttribute("aria-selected",n.next().value===r)}destroy(){var r,n;(r=y(this,Jc))==null||r.remove(),se(this,Jc,null),se(this,Nm,null),(n=y(this,_a))==null||n.remove(),se(this,_a,null)}};Jc=new WeakMap,Nm=new WeakMap,Nv=new WeakMap,_a=new WeakMap,_x=new WeakMap,Dv=new WeakMap,Sx=new WeakMap,Ex=new WeakMap,Zf=new WeakMap,Qc=new WeakMap,Fv=new WeakMap,Mx=new WeakMap,As=new WeakSet,z_=function(){const r=document.createElement("div"),n=y(this,Qc)._signal;r.addEventListener("contextmenu",pc,{signal:n}),r.className="dropdown",r.role="listbox",r.setAttribute("aria-multiselectable",!1),r.setAttribute("aria-orientation","vertical"),r.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[a,c]of y(this,Qc).highlightColors){const d=document.createElement("button");d.tabIndex="0",d.role="option",d.setAttribute("data-color",c),d.title=a,d.setAttribute("data-l10n-id",y(Jl,Mx)[a]);const f=document.createElement("span");d.append(f),f.className="swatch",f.style.backgroundColor=c,d.setAttribute("aria-selected",c===y(this,Nv)),d.addEventListener("click",ue(this,As,B_).bind(this,c),{signal:n}),r.append(d)}return r.addEventListener("keydown",ue(this,As,j_).bind(this),{signal:n}),r},B_=function(r,n){n.stopPropagation(),y(this,Ex).dispatch("switchannotationeditorparams",{source:this,type:y(this,Fv),value:r})},j_=function(r){Jl._keyboardManager.exec(this,r)},Wp=function(r){if(y(this,As,Cf)){this.hideDropdown();return}if(se(this,_x,r.detail===0),y(this,Zf)||(se(this,Zf,new AbortController),window.addEventListener("pointerdown",ue(this,As,kA).bind(this),{signal:y(this,Qc).combinedSignal(y(this,Zf))})),y(this,_a)){y(this,_a).classList.remove("hidden");return}const n=se(this,_a,ue(this,As,z_).call(this));y(this,Jc).append(n)},kA=function(r){var n;(n=y(this,_a))!=null&&n.contains(r.target)||this.hideDropdown()},Cf=function(){return y(this,_a)&&!y(this,_a).classList.contains("hidden")},fe(Jl,Mx,null);let g1=Jl;var zv,Ax,Rd,Dm,Bv,lc,Tx,Cx,Fm,eh,yl,tu,jv,kd,Sa,Hv,uc,Lx,ri,H_,r1,OA,IA,NA,U_,qp,dc,Wg,DA,i1,ly,FA,zA,BA,jA,HA;const Qi=class Qi extends xs{constructor(n){super({...n,name:"highlightEditor"});fe(this,ri);fe(this,zv,null);fe(this,Ax,0);fe(this,Rd);fe(this,Dm,null);fe(this,Bv,null);fe(this,lc,null);fe(this,Tx,null);fe(this,Cx,0);fe(this,Fm,null);fe(this,eh,null);fe(this,yl,null);fe(this,tu,!1);fe(this,jv,null);fe(this,kd);fe(this,Sa,null);fe(this,Hv,"");fe(this,uc);fe(this,Lx,"");this.color=n.color||Qi._defaultColor,se(this,uc,n.thickness||Qi._defaultThickness),se(this,kd,n.opacity||Qi._defaultOpacity),se(this,Rd,n.boxes||null),se(this,Lx,n.methodOfCreation||""),se(this,Hv,n.text||""),this._isDraggable=!1,n.highlightId>-1?(se(this,tu,!0),ue(this,ri,r1).call(this,n),ue(this,ri,qp).call(this)):y(this,Rd)&&(se(this,zv,n.anchorNode),se(this,Ax,n.anchorOffset),se(this,Tx,n.focusNode),se(this,Cx,n.focusOffset),ue(this,ri,H_).call(this),ue(this,ri,qp).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=Qi.prototype;return Ni(this,"_keyboardManager",new Ox([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:y(this,tu)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:y(this,uc),methodOfCreation:y(this,Lx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,a){var c;xs.initialize(n,a),Qi._defaultColor||(Qi._defaultColor=((c=a.highlightColors)==null?void 0:c.values().next().value)||"#fff066")}static updateDefaultParams(n,a){switch(n){case Vr.HIGHLIGHT_DEFAULT_COLOR:Qi._defaultColor=a;break;case Vr.HIGHLIGHT_THICKNESS:Qi._defaultThickness=a;break}}translateInPage(n,a){}get toolbarPosition(){return y(this,jv)}updateParams(n,a){switch(n){case Vr.HIGHLIGHT_COLOR:ue(this,ri,OA).call(this,a);break;case Vr.HIGHLIGHT_THICKNESS:ue(this,ri,IA).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[Vr.HIGHLIGHT_DEFAULT_COLOR,Qi._defaultColor],[Vr.HIGHLIGHT_THICKNESS,Qi._defaultThickness]]}get propertiesToUpdate(){return[[Vr.HIGHLIGHT_COLOR,this.color||Qi._defaultColor],[Vr.HIGHLIGHT_THICKNESS,y(this,uc)||Qi._defaultThickness],[Vr.HIGHLIGHT_FREE,y(this,tu)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(se(this,Bv,new g1({editor:this})),n.addColorPicker(y(this,Bv))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ue(this,ri,ly).call(this))}getBaseTranslation(){return[0,0]}getRect(n,a){return super.getRect(n,a,ue(this,ri,ly).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){ue(this,ri,U_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ue(this,ri,qp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var c;let a=!1;this.parent&&!n?ue(this,ri,U_).call(this):n&&(ue(this,ri,qp).call(this,n),a=!this.parent&&((c=this.div)==null?void 0:c.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),a&&this.select()}rotate(n){var d,f,m;const{drawLayer:a}=this.parent;let c;y(this,tu)?(n=(n-this.rotation+360)%360,c=ue(d=Qi,dc,Wg).call(d,y(this,eh).box,n)):c=ue(f=Qi,dc,Wg).call(f,this,n),a.rotate(y(this,yl),n),a.rotate(y(this,Sa),n),a.updateBox(y(this,yl),c),a.updateBox(y(this,Sa),ue(m=Qi,dc,Wg).call(m,y(this,lc).box,n))}render(){if(this.div)return this.div;const n=super.render();y(this,Hv)&&(n.setAttribute("aria-label",y(this,Hv)),n.setAttribute("role","mark")),y(this,tu)?n.classList.add("free"):this.div.addEventListener("keydown",ue(this,ri,DA).bind(this),{signal:this._uiManager._signal});const a=se(this,Fm,document.createElement("div"));n.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",a.style.clipPath=y(this,Dm);const[c,d]=this.parentDimensions;return this.setDims(this.width*c,this.height*d),f1(this,y(this,Fm),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.isSelected||this.parent.drawLayer.addClass(y(this,Sa),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(y(this,Sa),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:ue(this,ri,i1).call(this,!0);break;case 1:case 3:ue(this,ri,i1).call(this,!1);break}}select(){var n,a;super.select(),y(this,Sa)&&((n=this.parent)==null||n.drawLayer.removeClass(y(this,Sa),"hovered"),(a=this.parent)==null||a.drawLayer.addClass(y(this,Sa),"selected"))}unselect(){var n;super.unselect(),y(this,Sa)&&((n=this.parent)==null||n.drawLayer.removeClass(y(this,Sa),"selected"),y(this,tu)||ue(this,ri,i1).call(this,!1))}get _mustFixPosition(){return!y(this,tu)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(y(this,yl),n),this.parent.drawLayer.show(y(this,Sa),n))}static startHighlighting(n,a,{target:c,x:d,y:f}){const{x:m,y:b,width:_,height:E}=c.getBoundingClientRect(),C=new AbortController,k=n.combinedSignal(C),V=Y=>{Y.preventDefault(),Y.stopPropagation()},q=Y=>{C.abort(),ue(this,dc,jA).call(this,n,Y)};window.addEventListener("blur",q,{signal:k}),window.addEventListener("pointerup",q,{signal:k}),window.addEventListener("pointerdown",V,{capture:!0,passive:!1,signal:k}),window.addEventListener("contextmenu",pc,{signal:k}),c.addEventListener("pointermove",ue(this,dc,BA).bind(this,n),{signal:k}),this._freeHighlight=new F_({x:d,y:f},[m,b,_,E],n.scale,this._defaultThickness/2,a,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(n,a,c){var Y,Z,W,ne;let d=null;if(n instanceof dA){const{data:{quadPoints:le,rect:ce,rotation:Te,id:we,color:Fe,opacity:R,popupRef:nt},parent:{page:{pageNumber:dt}}}=n;d=n={annotationType:ui.HIGHLIGHT,color:Array.from(Fe),opacity:R,quadPoints:le,boxes:null,pageIndex:dt-1,rect:ce.slice(0),rotation:Te,id:we,deleted:!1,popupRef:nt}}else if(n instanceof bS){const{data:{inkLists:le,rect:ce,rotation:Te,id:we,color:Fe,borderStyle:{rawWidth:R},popupRef:nt},parent:{page:{pageNumber:dt}}}=n;d=n={annotationType:ui.HIGHLIGHT,color:Array.from(Fe),thickness:R,inkLists:le,boxes:null,pageIndex:dt-1,rect:ce.slice(0),rotation:Te,id:we,deleted:!1,popupRef:nt}}const{color:f,quadPoints:m,inkLists:b,opacity:_}=n,E=await super.deserialize(n,a,c);E.color=vr.makeHexColor(...f),se(E,kd,_||1),b&&se(E,uc,n.thickness),E.annotationElementId=n.id||null,E._initialData=d;const[C,k]=E.pageDimensions,[V,q]=E.pageTranslation;if(m){const le=se(E,Rd,[]);for(let ce=0;ce<m.length;ce+=8)le.push({x:(m[ce]-V)/C,y:1-(m[ce+1]-q)/k,width:(m[ce+2]-m[ce])/C,height:(m[ce+1]-m[ce+5])/k});ue(Y=E,ri,H_).call(Y),ue(Z=E,ri,qp).call(Z),E.rotate(E.rotation)}else if(b){se(E,tu,!0);const le=b[0],ce={x:le[0]-V,y:k-(le[1]-q)},Te=new F_(ce,[0,0,C,k],1,y(E,uc)/2,!0,.001);for(let R=0,nt=le.length;R<nt;R+=2)ce.x=le[R]-V,ce.y=k-(le[R+1]-q),Te.add(ce);const{id:we,clipPathId:Fe}=a.drawLayer.draw(Te,E.color,E._defaultOpacity,!0);ue(W=E,ri,r1).call(W,{highlightOutlines:Te.getOutlines(),highlightId:we,clipPathId:Fe}),ue(ne=E,ri,qp).call(ne)}return E}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const a=this.getRect(0,0),c=xs._colorManager.convert(this.color),d={annotationType:ui.HIGHLIGHT,color:c,opacity:y(this,kd),thickness:y(this,uc),quadPoints:ue(this,ri,FA).call(this),outlines:ue(this,ri,zA).call(this,a),pageIndex:this.pageIndex,rect:a,rotation:ue(this,ri,ly).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!ue(this,ri,HA).call(this,d)?null:(d.id=this.annotationElementId,d)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};zv=new WeakMap,Ax=new WeakMap,Rd=new WeakMap,Dm=new WeakMap,Bv=new WeakMap,lc=new WeakMap,Tx=new WeakMap,Cx=new WeakMap,Fm=new WeakMap,eh=new WeakMap,yl=new WeakMap,tu=new WeakMap,jv=new WeakMap,kd=new WeakMap,Sa=new WeakMap,Hv=new WeakMap,uc=new WeakMap,Lx=new WeakMap,ri=new WeakSet,H_=function(){const n=new KE(y(this,Rd),.001);se(this,eh,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=y(this,eh).box;const a=new KE(y(this,Rd),.0025,.001,this._uiManager.direction==="ltr");se(this,lc,a.getOutlines());const{lastPoint:c}=y(this,lc).box;se(this,jv,[(c[0]-this.x)/this.width,(c[1]-this.y)/this.height])},r1=function({highlightOutlines:n,highlightId:a,clipPathId:c}){var C,k;if(se(this,eh,n),se(this,lc,n.getNewOutline(y(this,uc)/2+1.5,.0025)),a>=0)se(this,yl,a),se(this,Dm,c),this.parent.drawLayer.finalizeLine(a,n),se(this,Sa,this.parent.drawLayer.drawOutline(y(this,lc)));else if(this.parent){const V=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(y(this,yl),n),this.parent.drawLayer.updateBox(y(this,yl),ue(C=Qi,dc,Wg).call(C,y(this,eh).box,(V-this.rotation+360)%360)),this.parent.drawLayer.updateLine(y(this,Sa),y(this,lc)),this.parent.drawLayer.updateBox(y(this,Sa),ue(k=Qi,dc,Wg).call(k,y(this,lc).box,V))}const{x:f,y:m,width:b,height:_}=n.box;switch(this.rotation){case 0:this.x=f,this.y=m,this.width=b,this.height=_;break;case 90:{const[V,q]=this.parentDimensions;this.x=m,this.y=1-f,this.width=b*q/V,this.height=_*V/q;break}case 180:this.x=1-f,this.y=1-m,this.width=b,this.height=_;break;case 270:{const[V,q]=this.parentDimensions;this.x=1-m,this.y=f,this.width=b*q/V,this.height=_*V/q;break}}const{lastPoint:E}=y(this,lc).box;se(this,jv,[(E[0]-f)/b,(E[1]-m)/_])},OA=function(n){const a=(f,m)=>{var b,_,E;this.color=f,(b=this.parent)==null||b.drawLayer.changeColor(y(this,yl),f),(_=y(this,Bv))==null||_.updateColor(f),se(this,kd,m),(E=this.parent)==null||E.drawLayer.changeOpacity(y(this,yl),m)},c=this.color,d=y(this,kd);this.addCommands({cmd:a.bind(this,n,Qi._defaultOpacity),undo:a.bind(this,c,d),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},IA=function(n){const a=y(this,uc),c=d=>{se(this,uc,d),ue(this,ri,NA).call(this,d)};this.addCommands({cmd:c.bind(this,n),undo:c.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},NA=function(n){if(!y(this,tu))return;ue(this,ri,r1).call(this,{highlightOutlines:y(this,eh).getNewOutline(n/2)}),this.fixAndSetPosition();const[a,c]=this.parentDimensions;this.setDims(this.width*a,this.height*c)},U_=function(){y(this,yl)===null||!this.parent||(this.parent.drawLayer.remove(y(this,yl)),se(this,yl,null),this.parent.drawLayer.remove(y(this,Sa)),se(this,Sa,null))},qp=function(n=this.parent){y(this,yl)===null&&({id:Pl(this,yl)._,clipPathId:Pl(this,Dm)._}=n.drawLayer.draw(y(this,eh),this.color,y(this,kd)),se(this,Sa,n.drawLayer.drawOutline(y(this,lc))),y(this,Fm)&&(y(this,Fm).style.clipPath=y(this,Dm)))},dc=new WeakSet,Wg=function({x:n,y:a,width:c,height:d},f){switch(f){case 90:return{x:1-a-d,y:n,width:d,height:c};case 180:return{x:1-n-c,y:1-a-d,width:c,height:d};case 270:return{x:a,y:1-n-c,width:d,height:c}}return{x:n,y:a,width:c,height:d}},DA=function(n){Qi._keyboardManager.exec(this,n)},i1=function(n){if(!y(this,zv))return;const a=window.getSelection();n?a.setPosition(y(this,zv),y(this,Ax)):a.setPosition(y(this,Tx),y(this,Cx))},ly=function(){return y(this,tu)?this.rotation:0},FA=function(){if(y(this,tu))return null;const[n,a]=this.pageDimensions,[c,d]=this.pageTranslation,f=y(this,Rd),m=new Float32Array(f.length*8);let b=0;for(const{x:_,y:E,width:C,height:k}of f){const V=_*n+c,q=(1-E-k)*a+d;m[b]=m[b+4]=V,m[b+1]=m[b+3]=q,m[b+2]=m[b+6]=V+C*n,m[b+5]=m[b+7]=q+k*a,b+=8}return m},zA=function(n){return y(this,eh).serialize(n,ue(this,ri,ly).call(this))},BA=function(n,a){this._freeHighlight.add(a)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},jA=function(n,a){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(a,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},HA=function(n){const{color:a}=this._initialData;return n.color.some((c,d)=>c!==a[d])},fe(Qi,dc),Gr(Qi,"_defaultColor",null),Gr(Qi,"_defaultOpacity",1),Gr(Qi,"_defaultThickness",12),Gr(Qi,"_type","highlight"),Gr(Qi,"_editorType",ui.HIGHLIGHT),Gr(Qi,"_freeHighlightId",-1),Gr(Qi,"_freeHighlight",null),Gr(Qi,"_freeHighlightClipId","");let v1=Qi;var zm,Bm,Gh,Od,cc,jm,Hm,Um,Id,Uv,Gm,Vm,Kf,On,UA,GA,VA,WA,V_,qA,W_,XA,$A,YA,ZA,KA,Xp,q_,X_,$_,s1,o1,qg,Y_,a1,Wd,JA,Z_,QA,eT,K_,l1,uy;const go=class go extends xs{constructor(n){super({...n,name:"inkEditor"});fe(this,On);fe(this,zm,0);fe(this,Bm,0);fe(this,Gh,null);fe(this,Od,new Path2D);fe(this,cc,!1);fe(this,jm,null);fe(this,Hm,!1);fe(this,Um,!1);fe(this,Id,null);fe(this,Uv,null);fe(this,Gm,0);fe(this,Vm,0);fe(this,Kf,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,a){xs.initialize(n,a)}static updateDefaultParams(n,a){switch(n){case Vr.INK_THICKNESS:go._defaultThickness=a;break;case Vr.INK_COLOR:go._defaultColor=a;break;case Vr.INK_OPACITY:go._defaultOpacity=a/100;break}}updateParams(n,a){switch(n){case Vr.INK_THICKNESS:ue(this,On,UA).call(this,a);break;case Vr.INK_COLOR:ue(this,On,GA).call(this,a);break;case Vr.INK_OPACITY:ue(this,On,VA).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[Vr.INK_THICKNESS,go._defaultThickness],[Vr.INK_COLOR,go._defaultColor||xs._defaultLineColor],[Vr.INK_OPACITY,Math.round(go._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Vr.INK_THICKNESS,this.thickness||go._defaultThickness],[Vr.INK_COLOR,this.color||go._defaultColor||xs._defaultLineColor],[Vr.INK_OPACITY,Math.round(100*(this.opacity??go._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ue(this,On,s1).call(this),ue(this,On,o1).call(this)),this.isAttachedToDOM||(this.parent.add(this),ue(this,On,qg).call(this)),ue(this,On,uy).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,y(this,Gh)&&(clearTimeout(y(this,Gh)),se(this,Gh,null)),(n=y(this,Id))==null||n.disconnect(),se(this,Id,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,a]=this.parentDimensions,c=this.width*n,d=this.height*a;this.setDimensions(c,d)}enableEditMode(){y(this,cc)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,ue(this,On,q_).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),ue(this,On,X_).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){y(this,cc)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),se(this,cc,!0),this.div.classList.add("disabled"),ue(this,On,uy).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||y(this,cc)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),ue(this,On,qA).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),ue(this,On,W_).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),ue(this,On,$_).call(this,n)}canvasPointerleave(n){ue(this,On,$_).call(this,n)}get isResizable(){return!this.isEmpty()&&y(this,cc)}render(){if(this.div)return this.div;let n,a;this.width&&(n=this.x,a=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[c,d,f,m]=ue(this,On,WA).call(this);if(this.setAt(c,d,0,0),this.setDims(f,m),ue(this,On,s1).call(this),this.width){const[b,_]=this.parentDimensions;this.setAspectRatio(this.width*b,this.height*_),this.setAt(n*b,a*_,this.width*b,this.height*_),se(this,Um,!0),ue(this,On,qg).call(this),this.setDims(this.width*b,this.height*_),ue(this,On,Xp).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ue(this,On,o1).call(this),this.div}setDimensions(n,a){const c=Math.round(n),d=Math.round(a);if(y(this,Gm)===c&&y(this,Vm)===d)return;se(this,Gm,c),se(this,Vm,d),this.canvas.style.visibility="hidden";const[f,m]=this.parentDimensions;this.width=n/f,this.height=a/m,this.fixAndSetPosition(),y(this,cc)&&ue(this,On,Y_).call(this,n,a),ue(this,On,qg).call(this),ue(this,On,Xp).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(n,a,c){var Z,W,ne;if(n instanceof bS)return null;const d=await super.deserialize(n,a,c);d.thickness=n.thickness,d.color=vr.makeHexColor(...n.color),d.opacity=n.opacity;const[f,m]=d.pageDimensions,b=d.width*f,_=d.height*m,E=d.parentScale,C=n.thickness/2;se(d,cc,!0),se(d,Gm,Math.round(b)),se(d,Vm,Math.round(_));const{paths:k,rect:V,rotation:q}=n;for(let{bezier:le}of k){le=ue(Z=go,Wd,QA).call(Z,le,V,q);const ce=[];d.paths.push(ce);let Te=E*(le[0]-C),we=E*(le[1]-C);for(let R=2,nt=le.length;R<nt;R+=6){const dt=E*(le[R]-C),wt=E*(le[R+1]-C),Ze=E*(le[R+2]-C),rt=E*(le[R+3]-C),ot=E*(le[R+4]-C),xt=E*(le[R+5]-C);ce.push([[Te,we],[dt,wt],[Ze,rt],[ot,xt]]),Te=ot,we=xt}const Fe=ue(this,Wd,JA).call(this,ce);d.bezierPath2D.push(Fe)}const Y=ue(W=d,On,K_).call(W);return se(d,Bm,Math.max(xs.MIN_SIZE,Y[2]-Y[0])),se(d,zm,Math.max(xs.MIN_SIZE,Y[3]-Y[1])),ue(ne=d,On,Y_).call(ne,b,_),d}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),a=xs._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ui.INK,color:a,thickness:this.thickness,opacity:this.opacity,paths:ue(this,On,eT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};zm=new WeakMap,Bm=new WeakMap,Gh=new WeakMap,Od=new WeakMap,cc=new WeakMap,jm=new WeakMap,Hm=new WeakMap,Um=new WeakMap,Id=new WeakMap,Uv=new WeakMap,Gm=new WeakMap,Vm=new WeakMap,Kf=new WeakMap,On=new WeakSet,UA=function(n){const a=d=>{this.thickness=d,ue(this,On,uy).call(this)},c=this.thickness;this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},GA=function(n){const a=d=>{this.color=d,ue(this,On,Xp).call(this)},c=this.color;this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},VA=function(n){const a=d=>{this.opacity=d,ue(this,On,Xp).call(this)};n/=100;const c=this.opacity;this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},WA=function(){const{parentRotation:n,parentDimensions:[a,c]}=this;switch(n){case 90:return[0,c,c,a];case 180:return[a,c,a,c];case 270:return[a,0,c,a];default:return[0,0,a,c]}},V_=function(){const{ctx:n,color:a,opacity:c,thickness:d,parentScale:f,scaleFactor:m}=this;n.lineWidth=d*f/m,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${a}${p2(c)}`},qA=function(n,a){this.canvas.addEventListener("contextmenu",pc,{signal:this._uiManager._signal}),ue(this,On,X_).call(this),se(this,jm,new AbortController);const c=this._uiManager.combinedSignal(y(this,jm));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:c}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:c}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:c}),this.isEditing=!0,y(this,Um)||(se(this,Um,!0),ue(this,On,qg).call(this),this.thickness||(this.thickness=go._defaultThickness),this.color||(this.color=go._defaultColor||xs._defaultLineColor),this.opacity??(this.opacity=go._defaultOpacity)),this.currentPath.push([n,a]),se(this,Hm,!1),ue(this,On,V_).call(this),se(this,Kf,()=>{ue(this,On,YA).call(this),y(this,Kf)&&window.requestAnimationFrame(y(this,Kf))}),window.requestAnimationFrame(y(this,Kf))},W_=function(n,a){const[c,d]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===c&&a===d)return;const f=this.currentPath;let m=y(this,Od);if(f.push([n,a]),se(this,Hm,!0),f.length<=2){m.moveTo(...f[0]),m.lineTo(n,a);return}f.length===3&&(se(this,Od,m=new Path2D),m.moveTo(...f[0])),ue(this,On,ZA).call(this,m,...f.at(-3),...f.at(-2),n,a)},XA=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);y(this,Od).lineTo(...n)},$A=function(n,a){se(this,Kf,null),n=Math.min(Math.max(n,0),this.canvas.width),a=Math.min(Math.max(a,0),this.canvas.height),ue(this,On,W_).call(this,n,a),ue(this,On,XA).call(this);let c;if(this.currentPath.length!==1)c=ue(this,On,KA).call(this);else{const _=[n,a];c=[[_,_.slice(),_.slice(),_]]}const d=y(this,Od),f=this.currentPath;this.currentPath=[],se(this,Od,new Path2D);const m=()=>{this.allRawPaths.push(f),this.paths.push(c),this.bezierPath2D.push(d),this._uiManager.rebuild(this)},b=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ue(this,On,s1).call(this),ue(this,On,o1).call(this)),ue(this,On,uy).call(this))};this.addCommands({cmd:m,undo:b,mustExec:!0})},YA=function(){if(!y(this,Hm))return;se(this,Hm,!1);const n=Math.ceil(this.thickness*this.parentScale),a=this.currentPath.slice(-3),c=a.map(m=>m[0]),d=a.map(m=>m[1]);Math.min(...c)-n,Math.max(...c)+n,Math.min(...d)-n,Math.max(...d)+n;const{ctx:f}=this;f.save(),f.clearRect(0,0,this.canvas.width,this.canvas.height);for(const m of this.bezierPath2D)f.stroke(m);f.stroke(y(this,Od)),f.restore()},ZA=function(n,a,c,d,f,m,b){const _=(a+d)/2,E=(c+f)/2,C=(d+m)/2,k=(f+b)/2;n.bezierCurveTo(_+2*(d-_)/3,E+2*(f-E)/3,C+2*(d-C)/3,k+2*(f-k)/3,C,k)},KA=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const a=[];let c,[d,f]=n[0];for(c=1;c<n.length-2;c++){const[V,q]=n[c],[Y,Z]=n[c+1],W=(V+Y)/2,ne=(q+Z)/2,le=[d+2*(V-d)/3,f+2*(q-f)/3],ce=[W+2*(V-W)/3,ne+2*(q-ne)/3];a.push([[d,f],le,ce,[W,ne]]),[d,f]=[W,ne]}const[m,b]=n[c],[_,E]=n[c+1],C=[d+2*(m-d)/3,f+2*(b-f)/3],k=[_+2*(m-_)/3,E+2*(b-E)/3];return a.push([[d,f],C,k,[_,E]]),a},Xp=function(){if(this.isEmpty()){ue(this,On,a1).call(this);return}ue(this,On,V_).call(this);const{canvas:n,ctx:a}=this;a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,n.width,n.height),ue(this,On,a1).call(this);for(const c of this.bezierPath2D)a.stroke(c)},q_=function(){if(y(this,Uv))return;se(this,Uv,new AbortController);const n=this._uiManager.combinedSignal(y(this,Uv));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:n})},X_=function(){var n;(n=this.pointerdownAC)==null||n.abort(),this.pointerdownAC=null},$_=function(n){var a;(a=y(this,jm))==null||a.abort(),se(this,jm,null),ue(this,On,q_).call(this),y(this,Gh)&&clearTimeout(y(this,Gh)),se(this,Gh,setTimeout(()=>{se(this,Gh,null),this.canvas.removeEventListener("contextmenu",pc)},10)),ue(this,On,$A).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},s1=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},o1=function(){se(this,Id,new ResizeObserver(n=>{const a=n[0].contentRect;a.width&&a.height&&this.setDimensions(a.width,a.height)})),y(this,Id).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=y(this,Id))==null||n.disconnect(),se(this,Id,null)},{once:!0})},qg=function(){if(!y(this,Um))return;const[n,a]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*a),ue(this,On,a1).call(this)},Y_=function(n,a){const c=ue(this,On,l1).call(this),d=(n-c)/y(this,Bm),f=(a-c)/y(this,zm);this.scaleFactor=Math.min(d,f)},a1=function(){const n=ue(this,On,l1).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},Wd=new WeakSet,JA=function(n){const a=new Path2D;for(let c=0,d=n.length;c<d;c++){const[f,m,b,_]=n[c];c===0&&a.moveTo(...f),a.bezierCurveTo(m[0],m[1],b[0],b[1],_[0],_[1])}return a},Z_=function(n,a,c){const[d,f,m,b]=a;switch(c){case 0:for(let _=0,E=n.length;_<E;_+=2)n[_]+=d,n[_+1]=b-n[_+1];break;case 90:for(let _=0,E=n.length;_<E;_+=2){const C=n[_];n[_]=n[_+1]+d,n[_+1]=C+f}break;case 180:for(let _=0,E=n.length;_<E;_+=2)n[_]=m-n[_],n[_+1]+=f;break;case 270:for(let _=0,E=n.length;_<E;_+=2){const C=n[_];n[_]=m-n[_+1],n[_+1]=b-C}break;default:throw new Error("Invalid rotation")}return n},QA=function(n,a,c){const[d,f,m,b]=a;switch(c){case 0:for(let _=0,E=n.length;_<E;_+=2)n[_]-=d,n[_+1]=b-n[_+1];break;case 90:for(let _=0,E=n.length;_<E;_+=2){const C=n[_];n[_]=n[_+1]-f,n[_+1]=C-d}break;case 180:for(let _=0,E=n.length;_<E;_+=2)n[_]=m-n[_],n[_+1]-=f;break;case 270:for(let _=0,E=n.length;_<E;_+=2){const C=n[_];n[_]=b-n[_+1],n[_+1]=m-C}break;default:throw new Error("Invalid rotation")}return n},eT=function(n,a,c,d){var E,C;const f=[],m=this.thickness/2,b=n*a+m,_=n*c+m;for(const k of this.paths){const V=[],q=[];for(let Y=0,Z=k.length;Y<Z;Y++){const[W,ne,le,ce]=k[Y];if(W[0]===ce[0]&&W[1]===ce[1]&&Z===1){const rt=n*W[0]+b,ot=n*W[1]+_;V.push(rt,ot),q.push(rt,ot);break}const Te=n*W[0]+b,we=n*W[1]+_,Fe=n*ne[0]+b,R=n*ne[1]+_,nt=n*le[0]+b,dt=n*le[1]+_,wt=n*ce[0]+b,Ze=n*ce[1]+_;Y===0&&(V.push(Te,we),q.push(Te,we)),V.push(Fe,R,nt,dt,wt,Ze),q.push(Fe,R),Y===Z-1&&q.push(wt,Ze)}f.push({bezier:ue(E=go,Wd,Z_).call(E,V,d,this.rotation),points:ue(C=go,Wd,Z_).call(C,q,d,this.rotation)})}return f},K_=function(){let n=1/0,a=-1/0,c=1/0,d=-1/0;for(const f of this.paths)for(const[m,b,_,E]of f){const C=vr.bezierBoundingBox(...m,...b,..._,...E);n=Math.min(n,C[0]),c=Math.min(c,C[1]),a=Math.max(a,C[2]),d=Math.max(d,C[3])}return[n,c,a,d]},l1=function(){return y(this,cc)?Math.ceil(this.thickness*this.parentScale):0},uy=function(n=!1){if(this.isEmpty())return;if(!y(this,cc)){ue(this,On,Xp).call(this);return}const a=ue(this,On,K_).call(this),c=ue(this,On,l1).call(this);se(this,Bm,Math.max(xs.MIN_SIZE,a[2]-a[0])),se(this,zm,Math.max(xs.MIN_SIZE,a[3]-a[1]));const d=Math.ceil(c+y(this,Bm)*this.scaleFactor),f=Math.ceil(c+y(this,zm)*this.scaleFactor),[m,b]=this.parentDimensions;this.width=d/m,this.height=f/b,this.setAspectRatio(d,f);const _=this.translationX,E=this.translationY;this.translationX=-a[0],this.translationY=-a[1],ue(this,On,qg).call(this),ue(this,On,Xp).call(this),se(this,Gm,d),se(this,Vm,f),this.setDims(d,f);const C=n?c/this.scaleFactor/2:0;this.translate(_-this.translationX-C,E-this.translationY-C)},fe(go,Wd),Gr(go,"_defaultColor",null),Gr(go,"_defaultOpacity",1),Gr(go,"_defaultThickness",1),Gr(go,"_type","ink"),Gr(go,"_editorType",ui.INK);let G_=go;var yo,il,Jf,Nd,Qf,Gv,Vh,Dd,Wh,Pu,Vv,ki,cy,hy,u1,Q_,tT,c1,eS,h1,nT,rT;const py=class py extends xs{constructor(n){super({...n,name:"stampEditor"});fe(this,ki);fe(this,yo,null);fe(this,il,null);fe(this,Jf,null);fe(this,Nd,null);fe(this,Qf,null);fe(this,Gv,"");fe(this,Vh,null);fe(this,Dd,null);fe(this,Wh,null);fe(this,Pu,!1);fe(this,Vv,!1);se(this,Nd,n.bitmapUrl),se(this,Qf,n.bitmapFile)}static initialize(n,a){xs.initialize(n,a)}static get supportedTypes(){return Ni(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(a=>`image/${a}`))}static get supportedTypesStr(){return Ni(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,a){a.pasteEditor(ui.STAMP,{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const a=n.get("hasAltText");return{hasAltText:a.get(!0)??0,hasNoAltText:a.get(!1)??0}}async mlGuessAltText(n=null,a=!0){if(this.hasAltTextData())return null;const{mlManager:c}=this._uiManager;if(!c)throw new Error("No ML.");if(!await c.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:d,width:f,height:m}=n||this.copyCanvas(null,null,!0).imageData,b=await c.guess({name:"altText",request:{data:d,width:f,height:m,channels:d.length/(f*m)}});if(!b)throw new Error("No response from the AI service.");if(b.error)throw new Error("Error from the AI service.");if(b.cancel)return null;if(!b.output)throw new Error("No valid response from the AI service.");const _=b.output;return await this.setGuessedAltText(_),a&&!this.hasAltTextData()&&(this.altTextData={alt:_,decorative:!1}),_}remove(){var n,a;y(this,il)&&(se(this,yo,null),this._uiManager.imageManager.deleteId(y(this,il)),(n=y(this,Vh))==null||n.remove(),se(this,Vh,null),(a=y(this,Dd))==null||a.disconnect(),se(this,Dd,null),y(this,Wh)&&(clearTimeout(y(this,Wh)),se(this,Wh,null))),super.remove()}rebuild(){if(!this.parent){y(this,il)&&ue(this,ki,u1).call(this);return}super.rebuild(),this.div!==null&&(y(this,il)&&y(this,Vh)===null&&ue(this,ki,u1).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(y(this,Jf)||y(this,yo)||y(this,Nd)||y(this,Qf)||y(this,il))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,a;if(this.width&&(n=this.x,a=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),y(this,yo)?ue(this,ki,Q_).call(this):ue(this,ki,u1).call(this),this.width&&!this.annotationElementId){const[c,d]=this.parentDimensions;this.setAt(n*c,a*d,this.width*c,this.height*d)}return this.div}copyCanvas(n,a,c=!1){var V;n||(n=224);const{width:d,height:f}=y(this,yo),m=new Yw;let b=y(this,yo),_=d,E=f,C=null;if(a){if(d>a||f>a){const R=Math.min(a/d,a/f);_=Math.floor(d*R),E=Math.floor(f*R)}C=document.createElement("canvas");const q=C.width=Math.ceil(_*m.sx),Y=C.height=Math.ceil(E*m.sy);y(this,Pu)||(b=ue(this,ki,c1).call(this,q,Y));const Z=C.getContext("2d");Z.filter=this._uiManager.hcmFilter;let W="white",ne="#cfcfd8";this._uiManager.hcmFilter!=="none"?ne="black":(V=window.matchMedia)!=null&&V.call(window,"(prefers-color-scheme: dark)").matches&&(W="#8f8f9d",ne="#42414d");const le=15,ce=le*m.sx,Te=le*m.sy,we=new OffscreenCanvas(ce*2,Te*2),Fe=we.getContext("2d");Fe.fillStyle=W,Fe.fillRect(0,0,ce*2,Te*2),Fe.fillStyle=ne,Fe.fillRect(0,0,ce,Te),Fe.fillRect(ce,Te,ce,Te),Z.fillStyle=Z.createPattern(we,"repeat"),Z.fillRect(0,0,q,Y),Z.drawImage(b,0,0,b.width,b.height,0,0,q,Y)}let k=null;if(c){let q,Y;if(m.symmetric&&b.width<n&&b.height<n)q=b.width,Y=b.height;else if(b=y(this,yo),d>n||f>n){const ne=Math.min(n/d,n/f);q=Math.floor(d*ne),Y=Math.floor(f*ne),y(this,Pu)||(b=ue(this,ki,c1).call(this,q,Y))}const W=new OffscreenCanvas(q,Y).getContext("2d",{willReadFrequently:!0});W.drawImage(b,0,0,b.width,b.height,0,0,q,Y),k={width:q,height:Y,data:W.getImageData(0,0,q,Y).data}}return{canvas:C,width:_,height:E,imageData:k}}getImageForAltText(){return y(this,Vh)}static async deserialize(n,a,c){var Y;let d=null;if(n instanceof fA){const{data:{rect:Z,rotation:W,id:ne,structParent:le,popupRef:ce},container:Te,parent:{page:{pageNumber:we}}}=n,Fe=Te.querySelector("canvas"),R=c.imageManager.getFromCanvas(Te.id,Fe);Fe.remove();const nt=((Y=await a._structTree.getAriaAttributes(`${uS}${ne}`))==null?void 0:Y.get("aria-label"))||"";d=n={annotationType:ui.STAMP,bitmapId:R.id,bitmap:R.bitmap,pageIndex:we-1,rect:Z.slice(0),rotation:W,id:ne,deleted:!1,accessibilityData:{decorative:!1,altText:nt},isSvg:!1,structParent:le,popupRef:ce}}const f=await super.deserialize(n,a,c),{rect:m,bitmap:b,bitmapUrl:_,bitmapId:E,isSvg:C,accessibilityData:k}=n;E&&c.imageManager.isValidId(E)?(se(f,il,E),b&&se(f,yo,b)):se(f,Nd,_),se(f,Pu,C);const[V,q]=f.pageDimensions;return f.width=(m[2]-m[0])/V,f.height=(m[3]-m[1])/q,f.annotationElementId=n.id||null,k&&(f.altTextData=k),f._initialData=d,se(f,Vv,!!d),f}serialize(n=!1,a=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const c={annotationType:ui.STAMP,bitmapId:y(this,il),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:y(this,Pu),structTreeParentId:this._structTreeParentId};if(n)return c.bitmapUrl=ue(this,ki,h1).call(this,!0),c.accessibilityData=this.serializeAltText(!0),c;const{decorative:d,altText:f}=this.serializeAltText(!1);if(!d&&f&&(c.accessibilityData={type:"Figure",alt:f}),this.annotationElementId){const b=ue(this,ki,rT).call(this,c);if(b.isSame)return null;b.isSameAltText?delete c.accessibilityData:c.accessibilityData.structParent=this._initialData.structParent??-1}if(c.id=this.annotationElementId,a===null)return c;a.stamps||(a.stamps=new Map);const m=y(this,Pu)?(c.rect[2]-c.rect[0])*(c.rect[3]-c.rect[1]):null;if(!a.stamps.has(y(this,il)))a.stamps.set(y(this,il),{area:m,serialized:c}),c.bitmap=ue(this,ki,h1).call(this,!1);else if(y(this,Pu)){const b=a.stamps.get(y(this,il));m>b.area&&(b.area=m,b.serialized.bitmap.close(),b.serialized.bitmap=ue(this,ki,h1).call(this,!1))}return c}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}};yo=new WeakMap,il=new WeakMap,Jf=new WeakMap,Nd=new WeakMap,Qf=new WeakMap,Gv=new WeakMap,Vh=new WeakMap,Dd=new WeakMap,Wh=new WeakMap,Pu=new WeakMap,Vv=new WeakMap,ki=new WeakSet,cy=function(n,a=!1){if(!n){this.remove();return}se(this,yo,n.bitmap),a||(se(this,il,n.id),se(this,Pu,n.isSvg)),n.file&&se(this,Gv,n.file.name),ue(this,ki,Q_).call(this)},hy=function(){if(se(this,Jf,null),this._uiManager.enableWaiting(!1),!!y(this,Vh)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,yo)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,yo)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},u1=function(){if(y(this,il)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(y(this,il)).then(c=>ue(this,ki,cy).call(this,c,!0)).finally(()=>ue(this,ki,hy).call(this));return}if(y(this,Nd)){const c=y(this,Nd);se(this,Nd,null),this._uiManager.enableWaiting(!0),se(this,Jf,this._uiManager.imageManager.getFromUrl(c).then(d=>ue(this,ki,cy).call(this,d)).finally(()=>ue(this,ki,hy).call(this)));return}if(y(this,Qf)){const c=y(this,Qf);se(this,Qf,null),this._uiManager.enableWaiting(!0),se(this,Jf,this._uiManager.imageManager.getFromFile(c).then(d=>ue(this,ki,cy).call(this,d)).finally(()=>ue(this,ki,hy).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=py.supportedTypesStr;const a=this._uiManager._signal;se(this,Jf,new Promise(c=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const d=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ue(this,ki,cy).call(this,d)}c()},{signal:a}),n.addEventListener("cancel",()=>{this.remove(),c()},{signal:a})}).finally(()=>ue(this,ki,hy).call(this))),n.click()},Q_=function(){const{div:n}=this;let{width:a,height:c}=y(this,yo);const[d,f]=this.pageDimensions,m=.75;if(this.width)a=this.width*d,c=this.height*f;else if(a>m*d||c>m*f){const C=Math.min(m*d/a,m*f/c);a*=C,c*=C}const[b,_]=this.parentDimensions;this.setDims(a*b/d,c*_/f),this._uiManager.enableWaiting(!1);const E=se(this,Vh,document.createElement("canvas"));E.setAttribute("role","img"),this.addContainer(E),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),ue(this,ki,eS).call(this,a,c),ue(this,ki,nT).call(this),y(this,Vv)||(this.parent.addUndoableEditor(this),se(this,Vv,!0)),this._reportTelemetry({action:"inserted_image"}),y(this,Gv)&&E.setAttribute("aria-label",y(this,Gv))},tT=function(n,a){var m;const[c,d]=this.parentDimensions;this.width=n/c,this.height=a/d,(m=this._initialOptions)!=null&&m.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,y(this,Wh)!==null&&clearTimeout(y(this,Wh)),se(this,Wh,setTimeout(()=>{se(this,Wh,null),ue(this,ki,eS).call(this,n,a)},200))},c1=function(n,a){const{width:c,height:d}=y(this,yo);let f=c,m=d,b=y(this,yo);for(;f>2*n||m>2*a;){const _=f,E=m;f>2*n&&(f=f>=16384?Math.floor(f/2)-1:Math.ceil(f/2)),m>2*a&&(m=m>=16384?Math.floor(m/2)-1:Math.ceil(m/2));const C=new OffscreenCanvas(f,m);C.getContext("2d").drawImage(b,0,0,_,E,0,0,f,m),b=C.transferToImageBitmap()}return b},eS=function(n,a){const c=new Yw,d=Math.ceil(n*c.sx),f=Math.ceil(a*c.sy),m=y(this,Vh);if(!m||m.width===d&&m.height===f)return;m.width=d,m.height=f;const b=y(this,Pu)?y(this,yo):ue(this,ki,c1).call(this,d,f),_=m.getContext("2d");_.filter=this._uiManager.hcmFilter,_.drawImage(b,0,0,b.width,b.height,0,0,d,f)},h1=function(n){if(n){if(y(this,Pu)){const d=this._uiManager.imageManager.getSvgUrl(y(this,il));if(d)return d}const a=document.createElement("canvas");return{width:a.width,height:a.height}=y(this,yo),a.getContext("2d").drawImage(y(this,yo),0,0),a.toDataURL()}if(y(this,Pu)){const[a,c]=this.pageDimensions,d=Math.round(this.width*a*rp.PDF_TO_CSS_UNITS),f=Math.round(this.height*c*rp.PDF_TO_CSS_UNITS),m=new OffscreenCanvas(d,f);return m.getContext("2d").drawImage(y(this,yo),0,0,y(this,yo).width,y(this,yo).height,0,0,d,f),m.transferToImageBitmap()}return structuredClone(y(this,yo))},nT=function(){this._uiManager._signal&&(se(this,Dd,new ResizeObserver(n=>{const a=n[0].contentRect;a.width&&a.height&&ue(this,ki,tT).call(this,a.width,a.height)})),y(this,Dd).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=y(this,Dd))==null||n.disconnect(),se(this,Dd,null)},{once:!0}))},rT=function(n){var _;const{rect:a,pageIndex:c,accessibilityData:{altText:d}}=this._initialData,f=n.rect.every((E,C)=>Math.abs(E-a[C])<1),m=n.pageIndex===c,b=(((_=n.accessibilityData)==null?void 0:_.alt)||"")===d;return{isSame:f&&m&&b,isSameAltText:b}},Gr(py,"_type","stamp"),Gr(py,"_editorType",ui.STAMP);let J_=py;var Wm,Wv,qh,ep,Fd,Ru,tp,qv,Xv,xl,zd,Ar,np,sl,iT,nS,rS,iS,d1;const jc=class jc{constructor({uiManager:r,pageIndex:n,div:a,structTreeLayer:c,accessibilityManager:d,annotationLayer:f,drawLayer:m,textLayer:b,viewport:_,l10n:E}){fe(this,sl);fe(this,Wm);fe(this,Wv,!1);fe(this,qh,null);fe(this,ep,null);fe(this,Fd,null);fe(this,Ru,new Map);fe(this,tp,!1);fe(this,qv,!1);fe(this,Xv,!1);fe(this,xl,null);fe(this,zd,null);fe(this,Ar);const C=[...y(jc,np).values()];if(!jc._initialized){jc._initialized=!0;for(const k of C)k.initialize(E,r)}r.registerEditorTypes(C),se(this,Ar,r),this.pageIndex=n,this.div=a,se(this,Wm,d),se(this,qh,f),this.viewport=_,se(this,xl,b),this.drawLayer=m,this._structTree=c,y(this,Ar).addLayer(this)}get isEmpty(){return y(this,Ru).size===0}get isInvisible(){return this.isEmpty&&y(this,Ar).getMode()===ui.NONE}updateToolbar(r){y(this,Ar).updateToolbar(r)}updateMode(r=y(this,Ar).getMode()){switch(ue(this,sl,d1).call(this),r){case ui.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ui.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ui.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const a of y(jc,np).values())n.toggle(`${a._type}Editing`,r===a._editorType);this.div.hidden=!1}hasTextLayer(r){var n;return r===((n=y(this,xl))==null?void 0:n.div)}addInkEditorIfNeeded(r){if(y(this,Ar).getMode()!==ui.INK)return;if(!r){for(const a of y(this,Ru).values())if(a.isEmpty()){a.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(r){y(this,Ar).setEditingState(r)}addCommands(r){y(this,Ar).addCommands(r)}toggleDrawing(r=!1){this.div.classList.toggle("drawing",!r)}togglePointerEvents(r=!1){this.div.classList.toggle("disabled",!r)}toggleAnnotationLayerPointerEvents(r=!1){var n;(n=y(this,qh))==null||n.div.classList.toggle("disabled",!r)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const r=new Set;for(const a of y(this,Ru).values())a.enableEditing(),a.show(!0),a.annotationElementId&&(y(this,Ar).removeChangedExistingAnnotation(a),r.add(a.annotationElementId));if(!y(this,qh))return;const n=y(this,qh).getEditableAnnotations();for(const a of n){if(a.hide(),y(this,Ar).isDeletedAnnotationElement(a.data.id)||r.has(a.data.id))continue;const c=await this.deserialize(a);c&&(this.addOrRebuild(c),c.enableEditing())}}disable(){var c;se(this,Xv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const r=new Map,n=new Map;for(const d of y(this,Ru).values())if(d.disableEditing(),!!d.annotationElementId){if(d.serialize()!==null){r.set(d.annotationElementId,d);continue}else n.set(d.annotationElementId,d);(c=this.getEditableAnnotation(d.annotationElementId))==null||c.show(),d.remove()}if(y(this,qh)){const d=y(this,qh).getEditableAnnotations();for(const f of d){const{id:m}=f.data;if(y(this,Ar).isDeletedAnnotationElement(m))continue;let b=n.get(m);if(b){b.resetAnnotationElement(f),b.show(!1),f.show();continue}b=r.get(m),b&&(y(this,Ar).addChangedExistingAnnotation(b),b.renderAnnotationElement(f)&&b.show(!1)),f.show()}}ue(this,sl,d1).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:a}=this.div;for(const d of y(jc,np).values())a.remove(`${d._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),se(this,Xv,!1)}getEditableAnnotation(r){var n;return((n=y(this,qh))==null?void 0:n.getEditableAnnotation(r))||null}setActiveEditor(r){y(this,Ar).getActive()!==r&&y(this,Ar).setActiveEditor(r)}enableTextSelection(){var r;if(this.div.tabIndex=-1,(r=y(this,xl))!=null&&r.div&&!y(this,zd)){se(this,zd,new AbortController);const n=y(this,Ar).combinedSignal(y(this,zd));y(this,xl).div.addEventListener("pointerdown",ue(this,sl,iT).bind(this),{signal:n}),y(this,xl).div.classList.add("highlighting")}}disableTextSelection(){var r;this.div.tabIndex=0,(r=y(this,xl))!=null&&r.div&&y(this,zd)&&(y(this,zd).abort(),se(this,zd,null),y(this,xl).div.classList.remove("highlighting"))}enableClick(){if(y(this,ep))return;se(this,ep,new AbortController);const r=y(this,Ar).combinedSignal(y(this,ep));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:r}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:r})}disableClick(){var r;(r=y(this,ep))==null||r.abort(),se(this,ep,null)}attach(r){y(this,Ru).set(r.id,r);const{annotationElementId:n}=r;n&&y(this,Ar).isDeletedAnnotationElement(n)&&y(this,Ar).removeDeletedAnnotationElement(r)}detach(r){var n;y(this,Ru).delete(r.id),(n=y(this,Wm))==null||n.removePointerInTextLayer(r.contentDiv),!y(this,Xv)&&r.annotationElementId&&y(this,Ar).addDeletedAnnotationElement(r)}remove(r){this.detach(r),y(this,Ar).removeEditor(r),r.div.remove(),r.isAttachedToDOM=!1,y(this,qv)||this.addInkEditorIfNeeded(!1)}changeParent(r){var n;r.parent!==this&&(r.parent&&r.annotationElementId&&(y(this,Ar).addDeletedAnnotationElement(r.annotationElementId),xs.deleteAnnotationElement(r),r.annotationElementId=null),this.attach(r),(n=r.parent)==null||n.detach(r),r.setParent(this),r.div&&r.isAttachedToDOM&&(r.div.remove(),this.div.append(r.div)))}add(r){if(!(r.parent===this&&r.isAttachedToDOM)){if(this.changeParent(r),y(this,Ar).addEditor(r),this.attach(r),!r.isAttachedToDOM){const n=r.render();this.div.append(n),r.isAttachedToDOM=!0}r.fixAndSetPosition(),r.onceAdded(),y(this,Ar).addToAnnotationStorage(r),r._reportTelemetry(r.telemetryInitialData)}}moveEditorInDOM(r){var a;if(!r.isAttachedToDOM)return;const{activeElement:n}=document;r.div.contains(n)&&!y(this,Fd)&&(r._focusEventsAllowed=!1,se(this,Fd,setTimeout(()=>{se(this,Fd,null),r.div.contains(document.activeElement)?r._focusEventsAllowed=!0:(r.div.addEventListener("focusin",()=>{r._focusEventsAllowed=!0},{once:!0,signal:y(this,Ar)._signal}),n.focus())},0))),r._structTreeParentId=(a=y(this,Wm))==null?void 0:a.moveElementInDOM(this.div,r.div,r.contentDiv,!0)}addOrRebuild(r){r.needsToBeRebuilt()?(r.parent||(r.parent=this),r.rebuild(),r.show()):this.add(r)}addUndoableEditor(r){const n=()=>r._uiManager.rebuild(r),a=()=>{r.remove()};this.addCommands({cmd:n,undo:a,mustExec:!1})}getNextId(){return y(this,Ar).getId()}combinedSignal(r){return y(this,Ar).combinedSignal(r)}canCreateNewEmptyEditor(){var r;return(r=y(this,sl,nS))==null?void 0:r.canCreateNewEmptyEditor()}pasteEditor(r,n){y(this,Ar).updateToolbar(r),y(this,Ar).updateMode(r);const{offsetX:a,offsetY:c}=ue(this,sl,iS).call(this),d=this.getNextId(),f=ue(this,sl,rS).call(this,{parent:this,id:d,x:a,y:c,uiManager:y(this,Ar),isCentered:!0,...n});f&&this.add(f)}async deserialize(r){var n;return await((n=y(jc,np).get(r.annotationType??r.annotationEditorType))==null?void 0:n.deserialize(r,this,y(this,Ar)))||null}createAndAddNewEditor(r,n,a={}){const c=this.getNextId(),d=ue(this,sl,rS).call(this,{parent:this,id:c,x:r.offsetX,y:r.offsetY,uiManager:y(this,Ar),isCentered:n,...a});return d&&this.add(d),d}addNewEditor(){this.createAndAddNewEditor(ue(this,sl,iS).call(this),!0)}setSelected(r){y(this,Ar).setSelected(r)}toggleSelected(r){y(this,Ar).toggleSelected(r)}unselect(r){y(this,Ar).unselect(r)}pointerup(r){const{isMac:n}=Il.platform;if(!(r.button!==0||r.ctrlKey&&n)&&r.target===this.div&&y(this,tp)){if(se(this,tp,!1),!y(this,Wv)){se(this,Wv,!0);return}if(y(this,Ar).getMode()===ui.STAMP){y(this,Ar).unselectAll();return}this.createAndAddNewEditor(r,!1)}}pointerdown(r){if(y(this,Ar).getMode()===ui.HIGHLIGHT&&this.enableTextSelection(),y(this,tp)){se(this,tp,!1);return}const{isMac:n}=Il.platform;if(r.button!==0||r.ctrlKey&&n||r.target!==this.div)return;se(this,tp,!0);const a=y(this,Ar).getActive();se(this,Wv,!a||a.isEmpty())}findNewParent(r,n,a){const c=y(this,Ar).findParent(n,a);return c===null||c===this?!1:(c.changeParent(r),!0)}destroy(){var r,n;((r=y(this,Ar).getActive())==null?void 0:r.parent)===this&&(y(this,Ar).commitOrRemove(),y(this,Ar).setActiveEditor(null)),y(this,Fd)&&(clearTimeout(y(this,Fd)),se(this,Fd,null));for(const a of y(this,Ru).values())(n=y(this,Wm))==null||n.removePointerInTextLayer(a.contentDiv),a.setParent(null),a.isAttachedToDOM=!1,a.div.remove();this.div=null,y(this,Ru).clear(),y(this,Ar).removeLayer(this)}render({viewport:r}){this.viewport=r,Xm(this.div,r);for(const n of y(this,Ar).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:r}){y(this,Ar).commitOrRemove(),ue(this,sl,d1).call(this);const n=this.viewport.rotation,a=r.rotation;if(this.viewport=r,Xm(this.div,{rotation:a}),n!==a)for(const c of y(this,Ru).values())c.rotate(a);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:r,pageHeight:n}=this.viewport.rawDims;return[r,n]}get scale(){return y(this,Ar).viewParameters.realScale}};Wm=new WeakMap,Wv=new WeakMap,qh=new WeakMap,ep=new WeakMap,Fd=new WeakMap,Ru=new WeakMap,tp=new WeakMap,qv=new WeakMap,Xv=new WeakMap,xl=new WeakMap,zd=new WeakMap,Ar=new WeakMap,np=new WeakMap,sl=new WeakSet,iT=function(r){y(this,Ar).unselectAll();const{target:n}=r;if(n===y(this,xl).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&y(this,xl).div.contains(n)){const{isMac:a}=Il.platform;if(r.button!==0||r.ctrlKey&&a)return;y(this,Ar).showAllEditors("highlight",!0,!0),y(this,xl).div.classList.add("free"),this.toggleDrawing(),v1.startHighlighting(this,y(this,Ar).direction==="ltr",{target:y(this,xl).div,x:r.x,y:r.y}),y(this,xl).div.addEventListener("pointerup",()=>{y(this,xl).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:y(this,Ar)._signal}),r.preventDefault()}},nS=function(){return y(jc,np).get(y(this,Ar).getMode())},rS=function(r){const n=y(this,sl,nS);return n?new n.prototype.constructor(r):null},iS=function(){const{x:r,y:n,width:a,height:c}=this.div.getBoundingClientRect(),d=Math.max(0,r),f=Math.max(0,n),m=Math.min(window.innerWidth,r+a),b=Math.min(window.innerHeight,n+c),_=(d+m)/2-r,E=(f+b)/2-n,[C,k]=this.viewport.rotation%180===0?[_,E]:[E,_];return{offsetX:C,offsetY:k}},d1=function(){se(this,qv,!0);for(const r of y(this,Ru).values())r.isEmpty()&&r.remove();se(this,qv,!1)},Gr(jc,"_initialized",!1),fe(jc,np,new Map([I_,G_,J_,v1].map(r=>[r._editorType,r])));let tS=jc;var Xh,Px,na,Bd,Rx,oS,Km,aS,sT;const tl=class tl{constructor({pageIndex:r}){fe(this,Km);fe(this,Xh,null);fe(this,Px,0);fe(this,na,new Map);fe(this,Bd,new Map);this.pageIndex=r}setParent(r){if(!y(this,Xh)){se(this,Xh,r);return}if(y(this,Xh)!==r){if(y(this,na).size>0)for(const n of y(this,na).values())n.remove(),r.append(n);se(this,Xh,r)}}static get _svgFactory(){return Ni(this,"_svgFactory",new xS)}draw(r,n,a,c=!1){const d=Pl(this,Px)._++,f=ue(this,Km,aS).call(this,r.box);f.classList.add(...r.classNamesForDrawing);const m=tl._svgFactory.createElement("defs");f.append(m);const b=tl._svgFactory.createElement("path");m.append(b);const _=`path_p${this.pageIndex}_${d}`;b.setAttribute("id",_),b.setAttribute("d",r.toSVGPath()),c&&y(this,Bd).set(d,b);const E=ue(this,Km,sT).call(this,m,_),C=tl._svgFactory.createElement("use");return f.append(C),f.setAttribute("fill",n),f.setAttribute("fill-opacity",a),C.setAttribute("href",`#${_}`),y(this,na).set(d,f),{id:d,clipPathId:`url(#${E})`}}drawOutline(r){const n=Pl(this,Px)._++,a=ue(this,Km,aS).call(this,r.box);a.classList.add(...r.classNamesForOutlining);const c=tl._svgFactory.createElement("defs");a.append(c);const d=tl._svgFactory.createElement("path");c.append(d);const f=`path_p${this.pageIndex}_${n}`;d.setAttribute("id",f),d.setAttribute("d",r.toSVGPath()),d.setAttribute("vector-effect","non-scaling-stroke");let m;if(r.mustRemoveSelfIntersections){const E=tl._svgFactory.createElement("mask");c.append(E),m=`mask_p${this.pageIndex}_${n}`,E.setAttribute("id",m),E.setAttribute("maskUnits","objectBoundingBox");const C=tl._svgFactory.createElement("rect");E.append(C),C.setAttribute("width","1"),C.setAttribute("height","1"),C.setAttribute("fill","white");const k=tl._svgFactory.createElement("use");E.append(k),k.setAttribute("href",`#${f}`),k.setAttribute("stroke","none"),k.setAttribute("fill","black"),k.setAttribute("fill-rule","nonzero"),k.classList.add("mask")}const b=tl._svgFactory.createElement("use");a.append(b),b.setAttribute("href",`#${f}`),m&&b.setAttribute("mask",`url(#${m})`);const _=b.cloneNode();return a.append(_),b.classList.add("mainOutline"),_.classList.add("secondaryOutline"),y(this,na).set(n,a),n}finalizeLine(r,n){const a=y(this,Bd).get(r);y(this,Bd).delete(r),this.updateBox(r,n.box),a.setAttribute("d",n.toSVGPath())}updateLine(r,n){y(this,na).get(r).firstChild.firstChild.setAttribute("d",n.toSVGPath())}updatePath(r,n){y(this,Bd).get(r).setAttribute("d",n.toSVGPath())}updateBox(r,n){var a;ue(a=tl,Rx,oS).call(a,y(this,na).get(r),n)}show(r,n){y(this,na).get(r).classList.toggle("hidden",!n)}rotate(r,n){y(this,na).get(r).setAttribute("data-main-rotation",n)}changeColor(r,n){y(this,na).get(r).setAttribute("fill",n)}changeOpacity(r,n){y(this,na).get(r).setAttribute("fill-opacity",n)}addClass(r,n){y(this,na).get(r).classList.add(n)}removeClass(r,n){y(this,na).get(r).classList.remove(n)}getSVGRoot(r){return y(this,na).get(r)}remove(r){y(this,Bd).delete(r),y(this,Xh)!==null&&(y(this,na).get(r).remove(),y(this,na).delete(r))}destroy(){se(this,Xh,null);for(const r of y(this,na).values())r.remove();y(this,na).clear(),y(this,Bd).clear()}};Xh=new WeakMap,Px=new WeakMap,na=new WeakMap,Bd=new WeakMap,Rx=new WeakSet,oS=function(r,{x:n=0,y:a=0,width:c=1,height:d=1}={}){const{style:f}=r;f.top=`${100*a}%`,f.left=`${100*n}%`,f.width=`${100*c}%`,f.height=`${100*d}%`},Km=new WeakSet,aS=function(r){var a;const n=tl._svgFactory.create(1,1,!0);return y(this,Xh).append(n),n.setAttribute("aria-hidden",!0),ue(a=tl,Rx,oS).call(a,n,r),n},sT=function(r,n){const a=tl._svgFactory.createElement("clipPath");r.append(a);const c=`clip_${n}`;a.setAttribute("id",c),a.setAttribute("clipPathUnits","objectBoundingBox");const d=tl._svgFactory.createElement("use");return a.append(d),d.setAttribute("href",`#${n}`),d.classList.add("clip"),c},fe(tl,Rx);let sS=tl;Xr.AbortException;Xr.AnnotationEditorLayer;Xr.AnnotationEditorParamsType;Xr.AnnotationEditorType;Xr.AnnotationEditorUIManager;Xr.AnnotationLayer;Xr.AnnotationMode;Xr.ColorPicker;Xr.DOMSVGFactory;Xr.DrawLayer;Xr.FeatureTest;var XL=Xr.GlobalWorkerOptions;Xr.ImageKind;Xr.InvalidPDFException;Xr.MissingPDFException;Xr.OPS;Xr.OutputScale;Xr.PDFDataRangeTransport;Xr.PDFDateString;Xr.PDFWorker;Xr.PasswordResponses;Xr.PermissionFlag;Xr.PixelsPerInch;Xr.RenderingCancelledException;Xr.TextLayer;Xr.UnexpectedResponseException;Xr.Util;Xr.VerbosityLevel;Xr.XfaLayer;Xr.build;Xr.createValidAbsoluteUrl;Xr.fetchData;Xr.getDocument;Xr.getFilenameFromUrl;Xr.getPdfFilenameFromUrl;Xr.getXfaPageViewport;Xr.isDataScheme;Xr.isPdfFile;Xr.noContextMenu;Xr.normalizeUnicode;Xr.setLayerDimensions;Xr.shadow;var $L=Xr.version;const YL="/portfolio/resume_page.pdf";var oT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},JE=qm.createContext&&qm.createContext(oT),ZL=["attr","size","title"];function KL(O,r){if(O==null)return{};var n=JL(O,r),a,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(O);for(c=0;c<d.length;c++)a=d[c],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(O,a)&&(n[a]=O[a])}return n}function JL(O,r){if(O==null)return{};var n={};for(var a in O)if(Object.prototype.hasOwnProperty.call(O,a)){if(r.indexOf(a)>=0)continue;n[a]=O[a]}return n}function y1(){return y1=Object.assign?Object.assign.bind():function(O){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(O[a]=n[a])}return O},y1.apply(this,arguments)}function QE(O,r){var n=Object.keys(O);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(O);r&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(O,c).enumerable})),n.push.apply(n,a)}return n}function x1(O){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?QE(Object(n),!0).forEach(function(a){QL(O,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(a){Object.defineProperty(O,a,Object.getOwnPropertyDescriptor(n,a))})}return O}function QL(O,r,n){return r=eP(r),r in O?Object.defineProperty(O,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):O[r]=n,O}function eP(O){var r=tP(O,"string");return typeof r=="symbol"?r:r+""}function tP(O,r){if(typeof O!="object"||!O)return O;var n=O[Symbol.toPrimitive];if(n!==void 0){var a=n.call(O,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(O)}function aT(O){return O&&O.map((r,n)=>qm.createElement(r.tag,x1({key:n},r.attr),aT(r.child)))}function lT(O){return r=>qm.createElement(nP,y1({attr:x1({},O.attr)},r),aT(O.child))}function nP(O){var r=n=>{var{attr:a,size:c,title:d}=O,f=KL(O,ZL),m=c||n.size||"1em",b;return n.className&&(b=n.className),O.className&&(b=(b?b+" ":"")+O.className),qm.createElement("svg",y1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:b,style:x1(x1({color:O.color||n.color},n.style),O.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),d&&qm.createElement("title",null,d),O.children)};return JE!==void 0?qm.createElement(JE.Consumer,null,n=>r(n)):r(oT)}function rP(O){return lT({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"},child:[]}]})(O)}function iP(O){return lT({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(O)}XL.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${$L}/pdf.worker.min.js`;const sP=()=>{const[O,r]=Iu.useState(window.innerWidth);return Iu.useEffect(()=>{const n=()=>r(window.innerWidth);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),st.jsx("section",{id:"resume",className:"min-h-screen flex flex-col justify-between",children:st.jsx(z1,{children:st.jsxs("div",{className:"flex-grow max-w-6xl mx-auto px-4 py-30",children:[st.jsx("h2",{className:"text-3xl md:text-3xl font-bold mb-6 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent leading-normal",children:"Resume"}),st.jsx("div",{className:"flex justify-center mb-6",children:st.jsxs("a",{href:YL,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] text-white font-semibold py-2 px-6 rounded-full shadow-md hover:shadow-lg hover:scale-105 transform transition duration-300 flex items-center justify-center",children:[st.jsx("svg",{className:"mr-2",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:st.jsx("path",{d:"M19 9H15V3H9V9H5L12 16L19 9ZM5 18V20H19V18H5Z",fill:"white"})}),"Download"]})})]})})})},oP=()=>st.jsx("footer",{className:"bg-[rgba(10,10,10,0.1)] border-t border-white/10 shadow-lg text-white py-4 w-full fixed bottom-0 left-0 z-50",children:st.jsxs("div",{className:"max-w-5xl mx-auto px-4 flex justify-between items-center",children:[st.jsxs("p",{className:"text-left",children:["© ",new Date().getFullYear()," Tim Tsenguun. All rights reserved."]}),st.jsxs("ul",{className:"flex space-x-4",children:[st.jsx("li",{children:st.jsx("a",{href:"https://github.com/tsenguunO",className:"text-white cursor-pointer inline-block transition-transform hover:-translate-y-1",target:"_blank",rel:"noopener noreferrer",children:st.jsx(rP,{size:24})})}),st.jsx("li",{children:st.jsx("a",{href:"https://www.linkedin.com/in/tsenguun-tim/",className:"text-white cursor-pointer inline-block transition-transform hover:-translate-y-1",target:"_blank",rel:"noopener noreferrer",children:st.jsx(iP,{size:24})})})]})]})});function aP(){const[O,r]=Iu.useState(!1),[n,a]=Iu.useState(!1),[c,d]=Iu.useState(!0);return Iu.useEffect(()=>{const f=()=>{const m=document.getElementById("home"),b=document.getElementById("about"),_=document.getElementById("resume");if(!m||!b||!_)return;const E=m.offsetTop,C=m.offsetHeight,k=b.offsetTop,V=b.offsetHeight,q=_.offsetTop,Y=_.offsetHeight;window.scrollY>=k-100&&window.scrollY<k+V?d(!1):window.scrollY>=E&&window.scrollY<E+C||window.scrollY>=q&&window.scrollY<q+Y?d(!0):d(!1)};return window.addEventListener("scroll",f),f(),()=>{window.removeEventListener("scroll",f)}},[]),st.jsxs(st.Fragment,{children:[!O&&st.jsx(BC,{onComplete:()=>r(!0)}),st.jsxs("div",{className:`min-h-screen flex flex-col transition-opacity duration-700 ${O?"opacity-100":"opacity-0"} text-gray-100`,children:[st.jsx(jC,{menuOpen:n,setMenuOpen:a}),st.jsx(HC,{menuOpen:n,setMenuOpen:a}),st.jsxs("main",{className:"flex-grow",children:[st.jsx(UC,{id:"home"}),st.jsx(GC,{id:"about"}),st.jsx(VC,{}),st.jsx(sP,{id:"resume"})]})]}),c&&st.jsx(oP,{})]})}FC.createRoot(document.getElementById("root")).render(st.jsx(Iu.StrictMode,{children:st.jsx(aP,{})}));
