var c2=Object.defineProperty;var NE=A=>{throw TypeError(A)};var h2=(A,n,r)=>n in A?c2(A,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):A[n]=r;var Wr=(A,n,r)=>h2(A,typeof n!="symbol"?n+"":n,r),j1=(A,n,r)=>n.has(A)||NE("Cannot "+r);var y=(A,n,r)=>(j1(A,n,"read from private field"),r?r.call(A):n.get(A)),fe=(A,n,r)=>n.has(A)?NE("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(A):n.set(A,r),se=(A,n,r,a)=>(j1(A,n,"write to private field"),a?a.call(A,r):n.set(A,r),r),ce=(A,n,r)=>(j1(A,n,"access private method"),r);var Il=(A,n,r,a)=>({set _(c){se(A,n,c,r)},get _(){return y(A,n,a)}});(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(c){if(c.ep)return;c.ep=!0;const h=r(c);fetch(c.href,h)}})();function d2(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}var U1={exports:{}},Qy={},G1={exports:{}},_i={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function f2(){if(FE)return _i;FE=1;var A=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function k(_e){return _e===null||typeof _e!="object"?null:(_e=T&&_e[T]||_e["@@iterator"],typeof _e=="function"?_e:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,X={};function Y(_e,ke,rt){this.props=_e,this.context=ke,this.refs=X,this.updater=rt||G}Y.prototype.isReactComponent={},Y.prototype.setState=function(_e,ke){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,ke,"setState")},Y.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function W(){}W.prototype=Y.prototype;function ne(_e,ke,rt){this.props=_e,this.context=ke,this.refs=X,this.updater=rt||G}var oe=ne.prototype=new W;oe.constructor=ne,q(oe,Y.prototype),oe.isPureReactComponent=!0;var le=Array.isArray,Se=Object.prototype.hasOwnProperty,be={current:null},Pe={key:!0,ref:!0,__self:!0,__source:!0};function P(_e,ke,rt){var St,Ut={},we=null,Pt=null;if(ke!=null)for(St in ke.ref!==void 0&&(Pt=ke.ref),ke.key!==void 0&&(we=""+ke.key),ke)Se.call(ke,St)&&!Pe.hasOwnProperty(St)&&(Ut[St]=ke[St]);var gt=arguments.length-2;if(gt===1)Ut.children=rt;else if(1<gt){for(var Le=Array(gt),Bt=0;Bt<gt;Bt++)Le[Bt]=arguments[Bt+2];Ut.children=Le}if(_e&&_e.defaultProps)for(St in gt=_e.defaultProps,gt)Ut[St]===void 0&&(Ut[St]=gt[St]);return{$$typeof:A,type:_e,key:we,ref:Pt,props:Ut,_owner:be.current}}function We(_e,ke){return{$$typeof:A,type:_e.type,key:ke,ref:_e.ref,props:_e.props,_owner:_e._owner}}function tt(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===A}function dt(_e){var ke={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(rt){return ke[rt]})}var Ke=/\/+/g;function Ze(_e,ke){return typeof _e=="object"&&_e!==null&&_e.key!=null?dt(""+_e.key):ke.toString(36)}function Xe(_e,ke,rt,St,Ut){var we=typeof _e;(we==="undefined"||we==="boolean")&&(_e=null);var Pt=!1;if(_e===null)Pt=!0;else switch(we){case"string":case"number":Pt=!0;break;case"object":switch(_e.$$typeof){case A:case n:Pt=!0}}if(Pt)return Pt=_e,Ut=Ut(Pt),_e=St===""?"."+Ze(Pt,0):St,le(Ut)?(rt="",_e!=null&&(rt=_e.replace(Ke,"$&/")+"/"),Xe(Ut,ke,rt,"",function(Bt){return Bt})):Ut!=null&&(tt(Ut)&&(Ut=We(Ut,rt+(!Ut.key||Pt&&Pt.key===Ut.key?"":(""+Ut.key).replace(Ke,"$&/")+"/")+_e)),ke.push(Ut)),1;if(Pt=0,St=St===""?".":St+":",le(_e))for(var gt=0;gt<_e.length;gt++){we=_e[gt];var Le=St+Ze(we,gt);Pt+=Xe(we,ke,rt,Le,Ut)}else if(Le=k(_e),typeof Le=="function")for(_e=Le.call(_e),gt=0;!(we=_e.next()).done;)we=we.value,Le=St+Ze(we,gt++),Pt+=Xe(we,ke,rt,Le,Ut);else if(we==="object")throw ke=String(_e),Error("Objects are not valid as a React child (found: "+(ke==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":ke)+"). If you meant to render a collection of children, use an array instead.");return Pt}function ft(_e,ke,rt){if(_e==null)return _e;var St=[],Ut=0;return Xe(_e,St,"","",function(we){return ke.call(rt,we,Ut++)}),St}function Be(_e){if(_e._status===-1){var ke=_e._result;ke=ke(),ke.then(function(rt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=rt)},function(rt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=rt)}),_e._status===-1&&(_e._status=0,_e._result=ke)}if(_e._status===1)return _e._result.default;throw _e._result}var Qe={current:null},Ue={transition:null},te={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Ue,ReactCurrentOwner:be};function lt(){throw Error("act(...) is not supported in production builds of React.")}return _i.Children={map:ft,forEach:function(_e,ke,rt){ft(_e,function(){ke.apply(this,arguments)},rt)},count:function(_e){var ke=0;return ft(_e,function(){ke++}),ke},toArray:function(_e){return ft(_e,function(ke){return ke})||[]},only:function(_e){if(!tt(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}},_i.Component=Y,_i.Fragment=r,_i.Profiler=c,_i.PureComponent=ne,_i.StrictMode=a,_i.Suspense=b,_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,_i.act=lt,_i.cloneElement=function(_e,ke,rt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var St=q({},_e.props),Ut=_e.key,we=_e.ref,Pt=_e._owner;if(ke!=null){if(ke.ref!==void 0&&(we=ke.ref,Pt=be.current),ke.key!==void 0&&(Ut=""+ke.key),_e.type&&_e.type.defaultProps)var gt=_e.type.defaultProps;for(Le in ke)Se.call(ke,Le)&&!Pe.hasOwnProperty(Le)&&(St[Le]=ke[Le]===void 0&&gt!==void 0?gt[Le]:ke[Le])}var Le=arguments.length-2;if(Le===1)St.children=rt;else if(1<Le){gt=Array(Le);for(var Bt=0;Bt<Le;Bt++)gt[Bt]=arguments[Bt+2];St.children=gt}return{$$typeof:A,type:_e.type,key:Ut,ref:we,props:St,_owner:Pt}},_i.createContext=function(_e){return _e={$$typeof:f,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:h,_context:_e},_e.Consumer=_e},_i.createElement=P,_i.createFactory=function(_e){var ke=P.bind(null,_e);return ke.type=_e,ke},_i.createRef=function(){return{current:null}},_i.forwardRef=function(_e){return{$$typeof:m,render:_e}},_i.isValidElement=tt,_i.lazy=function(_e){return{$$typeof:E,_payload:{_status:-1,_result:_e},_init:Be}},_i.memo=function(_e,ke){return{$$typeof:_,type:_e,compare:ke===void 0?null:ke}},_i.startTransition=function(_e){var ke=Ue.transition;Ue.transition={};try{_e()}finally{Ue.transition=ke}},_i.unstable_act=lt,_i.useCallback=function(_e,ke){return Qe.current.useCallback(_e,ke)},_i.useContext=function(_e){return Qe.current.useContext(_e)},_i.useDebugValue=function(){},_i.useDeferredValue=function(_e){return Qe.current.useDeferredValue(_e)},_i.useEffect=function(_e,ke){return Qe.current.useEffect(_e,ke)},_i.useId=function(){return Qe.current.useId()},_i.useImperativeHandle=function(_e,ke,rt){return Qe.current.useImperativeHandle(_e,ke,rt)},_i.useInsertionEffect=function(_e,ke){return Qe.current.useInsertionEffect(_e,ke)},_i.useLayoutEffect=function(_e,ke){return Qe.current.useLayoutEffect(_e,ke)},_i.useMemo=function(_e,ke){return Qe.current.useMemo(_e,ke)},_i.useReducer=function(_e,ke,rt){return Qe.current.useReducer(_e,ke,rt)},_i.useRef=function(_e){return Qe.current.useRef(_e)},_i.useState=function(_e){return Qe.current.useState(_e)},_i.useSyncExternalStore=function(_e,ke,rt){return Qe.current.useSyncExternalStore(_e,ke,rt)},_i.useTransition=function(){return Qe.current.useTransition()},_i.version="18.3.1",_i}var zE;function Uw(){return zE||(zE=1,G1.exports=f2()),G1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function p2(){if(BE)return Qy;BE=1;var A=Uw(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function f(m,b,_){var E,T={},k=null,G=null;_!==void 0&&(k=""+_),b.key!==void 0&&(k=""+b.key),b.ref!==void 0&&(G=b.ref);for(E in b)a.call(b,E)&&!h.hasOwnProperty(E)&&(T[E]=b[E]);if(m&&m.defaultProps)for(E in b=m.defaultProps,b)T[E]===void 0&&(T[E]=b[E]);return{$$typeof:n,type:m,key:k,ref:G,props:T,_owner:c.current}}return Qy.Fragment=r,Qy.jsx=f,Qy.jsxs=f,Qy}var HE;function m2(){return HE||(HE=1,U1.exports=p2()),U1.exports}var _t=m2(),er=Uw(),Fb={},V1={exports:{}},eu={},W1={exports:{}},q1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function g2(){return jE||(jE=1,function(A){function n(Ue,te){var lt=Ue.length;Ue.push(te);e:for(;0<lt;){var _e=lt-1>>>1,ke=Ue[_e];if(0<c(ke,te))Ue[_e]=te,Ue[lt]=ke,lt=_e;else break e}}function r(Ue){return Ue.length===0?null:Ue[0]}function a(Ue){if(Ue.length===0)return null;var te=Ue[0],lt=Ue.pop();if(lt!==te){Ue[0]=lt;e:for(var _e=0,ke=Ue.length,rt=ke>>>1;_e<rt;){var St=2*(_e+1)-1,Ut=Ue[St],we=St+1,Pt=Ue[we];if(0>c(Ut,lt))we<ke&&0>c(Pt,Ut)?(Ue[_e]=Pt,Ue[we]=lt,_e=we):(Ue[_e]=Ut,Ue[St]=lt,_e=St);else if(we<ke&&0>c(Pt,lt))Ue[_e]=Pt,Ue[we]=lt,_e=we;else break e}}return te}function c(Ue,te){var lt=Ue.sortIndex-te.sortIndex;return lt!==0?lt:Ue.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;A.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();A.unstable_now=function(){return f.now()-m}}var b=[],_=[],E=1,T=null,k=3,G=!1,q=!1,X=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(Ue){for(var te=r(_);te!==null;){if(te.callback===null)a(_);else if(te.startTime<=Ue)a(_),te.sortIndex=te.expirationTime,n(b,te);else break;te=r(_)}}function le(Ue){if(X=!1,oe(Ue),!q)if(r(b)!==null)q=!0,Be(Se);else{var te=r(_);te!==null&&Qe(le,te.startTime-Ue)}}function Se(Ue,te){q=!1,X&&(X=!1,W(P),P=-1),G=!0;var lt=k;try{for(oe(te),T=r(b);T!==null&&(!(T.expirationTime>te)||Ue&&!dt());){var _e=T.callback;if(typeof _e=="function"){T.callback=null,k=T.priorityLevel;var ke=_e(T.expirationTime<=te);te=A.unstable_now(),typeof ke=="function"?T.callback=ke:T===r(b)&&a(b),oe(te)}else a(b);T=r(b)}if(T!==null)var rt=!0;else{var St=r(_);St!==null&&Qe(le,St.startTime-te),rt=!1}return rt}finally{T=null,k=lt,G=!1}}var be=!1,Pe=null,P=-1,We=5,tt=-1;function dt(){return!(A.unstable_now()-tt<We)}function Ke(){if(Pe!==null){var Ue=A.unstable_now();tt=Ue;var te=!0;try{te=Pe(!0,Ue)}finally{te?Ze():(be=!1,Pe=null)}}else be=!1}var Ze;if(typeof ne=="function")Ze=function(){ne(Ke)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,ft=Xe.port2;Xe.port1.onmessage=Ke,Ze=function(){ft.postMessage(null)}}else Ze=function(){Y(Ke,0)};function Be(Ue){Pe=Ue,be||(be=!0,Ze())}function Qe(Ue,te){P=Y(function(){Ue(A.unstable_now())},te)}A.unstable_IdlePriority=5,A.unstable_ImmediatePriority=1,A.unstable_LowPriority=4,A.unstable_NormalPriority=3,A.unstable_Profiling=null,A.unstable_UserBlockingPriority=2,A.unstable_cancelCallback=function(Ue){Ue.callback=null},A.unstable_continueExecution=function(){q||G||(q=!0,Be(Se))},A.unstable_forceFrameRate=function(Ue){0>Ue||125<Ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):We=0<Ue?Math.floor(1e3/Ue):5},A.unstable_getCurrentPriorityLevel=function(){return k},A.unstable_getFirstCallbackNode=function(){return r(b)},A.unstable_next=function(Ue){switch(k){case 1:case 2:case 3:var te=3;break;default:te=k}var lt=k;k=te;try{return Ue()}finally{k=lt}},A.unstable_pauseExecution=function(){},A.unstable_requestPaint=function(){},A.unstable_runWithPriority=function(Ue,te){switch(Ue){case 1:case 2:case 3:case 4:case 5:break;default:Ue=3}var lt=k;k=Ue;try{return te()}finally{k=lt}},A.unstable_scheduleCallback=function(Ue,te,lt){var _e=A.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?_e+lt:_e):lt=_e,Ue){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=lt+ke,Ue={id:E++,callback:te,priorityLevel:Ue,startTime:lt,expirationTime:ke,sortIndex:-1},lt>_e?(Ue.sortIndex=lt,n(_,Ue),r(b)===null&&Ue===r(_)&&(X?(W(P),P=-1):X=!0,Qe(le,lt-_e))):(Ue.sortIndex=ke,n(b,Ue),q||G||(q=!0,Be(Se))),Ue},A.unstable_shouldYield=dt,A.unstable_wrapCallback=function(Ue){var te=k;return function(){var lt=k;k=te;try{return Ue.apply(this,arguments)}finally{k=lt}}}}(q1)),q1}var UE;function v2(){return UE||(UE=1,W1.exports=g2()),W1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function y2(){if(GE)return eu;GE=1;var A=Uw(),n=v2();function r(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function h(s,u){f(s,u),f(s+"Capture",u)}function f(s,u){for(c[s]=u,s=0;s<u.length;s++)a.add(u[s])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function k(s){return b.call(T,s)?!0:b.call(E,s)?!1:_.test(s)?T[s]=!0:(E[s]=!0,!1)}function G(s,u,p,M){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return M?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function q(s,u,p,M){if(u===null||typeof u>"u"||G(s,u,p,M))return!0;if(M)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function X(s,u,p,M,z,V,ae){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=M,this.attributeNamespace=z,this.mustUseProperty=p,this.propertyName=s,this.type=u,this.sanitizeURL=V,this.removeEmptyString=ae}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){Y[s]=new X(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];Y[u]=new X(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){Y[s]=new X(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){Y[s]=new X(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){Y[s]=new X(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){Y[s]=new X(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){Y[s]=new X(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){Y[s]=new X(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){Y[s]=new X(s,5,!1,s.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function ne(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(W,ne);Y[u]=new X(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(W,ne);Y[u]=new X(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(W,ne);Y[u]=new X(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){Y[s]=new X(s,1,!1,s.toLowerCase(),null,!1,!1)}),Y.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){Y[s]=new X(s,1,!1,s.toLowerCase(),null,!0,!0)});function oe(s,u,p,M){var z=Y.hasOwnProperty(u)?Y[u]:null;(z!==null?z.type!==0:M||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(q(u,p,z,M)&&(p=null),M||z===null?k(u)&&(p===null?s.removeAttribute(u):s.setAttribute(u,""+p)):z.mustUseProperty?s[z.propertyName]=p===null?z.type===3?!1:"":p:(u=z.attributeName,M=z.attributeNamespace,p===null?s.removeAttribute(u):(z=z.type,p=z===3||z===4&&p===!0?"":""+p,M?s.setAttributeNS(M,u,p):s.setAttribute(u,p))))}var le=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),be=Symbol.for("react.portal"),Pe=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),We=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),dt=Symbol.for("react.context"),Ke=Symbol.for("react.forward_ref"),Ze=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),Ue=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=Ue&&s[Ue]||s["@@iterator"],typeof s=="function"?s:null)}var lt=Object.assign,_e;function ke(s){if(_e===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);_e=u&&u[1]||""}return`
`+_e+s}var rt=!1;function St(s,u){if(!s||rt)return"";rt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(xt){var M=xt}Reflect.construct(s,[],u)}else{try{u.call()}catch(xt){M=xt}s.call(u.prototype)}else{try{throw Error()}catch(xt){M=xt}s()}}catch(xt){if(xt&&M&&typeof xt.stack=="string"){for(var z=xt.stack.split(`
`),V=M.stack.split(`
`),ae=z.length-1,Ae=V.length-1;1<=ae&&0<=Ae&&z[ae]!==V[Ae];)Ae--;for(;1<=ae&&0<=Ae;ae--,Ae--)if(z[ae]!==V[Ae]){if(ae!==1||Ae!==1)do if(ae--,Ae--,0>Ae||z[ae]!==V[Ae]){var Ge=`
`+z[ae].replace(" at new "," at ");return s.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",s.displayName)),Ge}while(1<=ae&&0<=Ae);break}}}finally{rt=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?ke(s):""}function Ut(s){switch(s.tag){case 5:return ke(s.type);case 16:return ke("Lazy");case 13:return ke("Suspense");case 19:return ke("SuspenseList");case 0:case 2:case 15:return s=St(s.type,!1),s;case 11:return s=St(s.type.render,!1),s;case 1:return s=St(s.type,!0),s;default:return""}}function we(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Pe:return"Fragment";case be:return"Portal";case We:return"Profiler";case P:return"StrictMode";case Ze:return"Suspense";case Xe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case dt:return(s.displayName||"Context")+".Consumer";case tt:return(s._context.displayName||"Context")+".Provider";case Ke:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ft:return u=s.displayName||null,u!==null?u:we(s.type)||"Memo";case Be:u=s._payload,s=s._init;try{return we(s(u))}catch{}}return null}function Pt(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function gt(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Le(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Bt(s){var u=Le(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),M=""+s[u];if(!s.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var z=p.get,V=p.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return z.call(this)},set:function(ae){M=""+ae,V.call(this,ae)}}),Object.defineProperty(s,u,{enumerable:p.enumerable}),{getValue:function(){return M},setValue:function(ae){M=""+ae},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function bn(s){s._valueTracker||(s._valueTracker=Bt(s))}function cr(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var p=u.getValue(),M="";return s&&(M=Le(s)?s.checked?"true":"false":s.value),s=M,s!==p?(u.setValue(s),!0):!1}function qt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function tn(s,u){var p=u.checked;return lt({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function on(s,u){var p=u.defaultValue==null?"":u.defaultValue,M=u.checked!=null?u.checked:u.defaultChecked;p=gt(u.value!=null?u.value:p),s._wrapperState={initialChecked:M,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function jt(s,u){u=u.checked,u!=null&&oe(s,"checked",u,!1)}function $e(s,u){jt(s,u);var p=gt(u.value),M=u.type;if(p!=null)M==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(M==="submit"||M==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?sr(s,u.type,p):u.hasOwnProperty("defaultValue")&&sr(s,u.type,gt(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function Gn(s,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var M=u.type;if(!(M!=="submit"&&M!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,p||u===s.value||(s.value=u),s.defaultValue=u}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function sr(s,u,p){(u!=="number"||qt(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var or=Array.isArray;function zn(s,u,p,M){if(s=s.options,u){u={};for(var z=0;z<p.length;z++)u["$"+p[z]]=!0;for(p=0;p<s.length;p++)z=u.hasOwnProperty("$"+s[p].value),s[p].selected!==z&&(s[p].selected=z),z&&M&&(s[p].defaultSelected=!0)}else{for(p=""+gt(p),u=null,z=0;z<s.length;z++){if(s[z].value===p){s[z].selected=!0,M&&(s[z].defaultSelected=!0);return}u!==null||s[z].disabled||(u=s[z])}u!==null&&(u.selected=!0)}}function hr(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return lt({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function br(s,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(r(92));if(or(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),p=u}s._wrapperState={initialValue:gt(p)}}function wr(s,u){var p=gt(u.value),M=gt(u.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),u.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),M!=null&&(s.defaultValue=""+M)}function Vn(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function Nr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zr(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?Nr(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Cr,Zr=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,M,z){MSApp.execUnsafeLocalFunction(function(){return s(u,p,M,z)})}:s}(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Cr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function Ir(s,u){if(u){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=u;return}}s.textContent=u}var Pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tr=["Webkit","ms","Moz","O"];Object.keys(Pn).forEach(function(s){tr.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),Pn[u]=Pn[s]})});function Fr(s,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||Pn.hasOwnProperty(s)&&Pn[s]?(""+u).trim():u+"px"}function xi(s,u){s=s.style;for(var p in u)if(u.hasOwnProperty(p)){var M=p.indexOf("--")===0,z=Fr(p,u[p],M);p==="float"&&(p="cssFloat"),M?s.setProperty(p,z):s[p]=z}}var Yi=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zi(s,u){if(u){if(Yi[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Sr(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=null;function Ai(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gs=null,ji=null,ar=null;function aa(s){if(s=dp(s)){if(typeof Gs!="function")throw Error(r(280));var u=s.stateNode;u&&(u=sg(u),Gs(s.stateNode,s.type,u))}}function ls(s){ji?ar?ar.push(s):ar=[s]:ji=s}function Ui(){if(ji){var s=ji,u=ar;if(ar=ji=null,aa(s),u)for(s=0;s<u.length;s++)aa(u[s])}}function ts(s,u){return s(u)}function Ls(){}var Ps=!1;function Kr(s,u,p){if(Ps)return s(u,p);Ps=!0;try{return ts(s,u,p)}finally{Ps=!1,(ji!==null||ar!==null)&&(Ls(),Ui())}}function Ca(s,u){var p=s.stateNode;if(p===null)return null;var M=sg(p);if(M===null)return null;p=M[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(s=s.type,M=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!M;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var la=!1;if(m)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){la=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{la=!1}function So(s,u,p,M,z,V,ae,Ae,Ge){var xt=Array.prototype.slice.call(arguments,3);try{u.apply(p,xt)}catch(sn){this.onError(sn)}}var ro=!1,ws=null,mi=!1,Ki=null,us={onError:function(s){ro=!0,ws=s}};function jl(s,u,p,M,z,V,ae,Ae,Ge){ro=!1,ws=null,So.apply(us,arguments)}function Ks(s,u,p,M,z,V,ae,Ae,Ge){if(jl.apply(this,arguments),ro){if(ro){var xt=ws;ro=!1,ws=null}else throw Error(r(198));mi||(mi=!0,Ki=xt)}}function _s(s){var u=s,p=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,u.flags&4098&&(p=u.return),s=u.return;while(s)}return u.tag===3?p:null}function He(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function yt(s){if(_s(s)!==s)throw Error(r(188))}function je(s){var u=s.alternate;if(!u){if(u=_s(s),u===null)throw Error(r(188));return u!==s?null:s}for(var p=s,M=u;;){var z=p.return;if(z===null)break;var V=z.alternate;if(V===null){if(M=z.return,M!==null){p=M;continue}break}if(z.child===V.child){for(V=z.child;V;){if(V===p)return yt(z),s;if(V===M)return yt(z),u;V=V.sibling}throw Error(r(188))}if(p.return!==M.return)p=z,M=V;else{for(var ae=!1,Ae=z.child;Ae;){if(Ae===p){ae=!0,p=z,M=V;break}if(Ae===M){ae=!0,M=z,p=V;break}Ae=Ae.sibling}if(!ae){for(Ae=V.child;Ae;){if(Ae===p){ae=!0,p=V,M=z;break}if(Ae===M){ae=!0,M=V,p=z;break}Ae=Ae.sibling}if(!ae)throw Error(r(189))}}if(p.alternate!==M)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?s:u}function it(s){return s=je(s),s!==null?Yt(s):null}function Yt(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=Yt(s);if(u!==null)return u;s=s.sibling}return null}var pn=n.unstable_scheduleCallback,dn=n.unstable_cancelCallback,Kn=n.unstable_shouldYield,Jr=n.unstable_requestPaint,Sn=n.unstable_now,Mr=n.unstable_getCurrentPriorityLevel,ri=n.unstable_ImmediatePriority,Br=n.unstable_UserBlockingPriority,Qr=n.unstable_NormalPriority,Hr=n.unstable_LowPriority,pr=n.unstable_IdlePriority,kr=null,jr=null;function ei(s){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(kr,s,void 0,(s.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:Io,Wi=Math.log,ns=Math.LN2;function Io(s){return s>>>=0,s===0?32:31-(Wi(s)/ns|0)|0}var Eo=64,Fi=4194304;function Vs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ti(s,u){var p=s.pendingLanes;if(p===0)return 0;var M=0,z=s.suspendedLanes,V=s.pingedLanes,ae=p&268435455;if(ae!==0){var Ae=ae&~z;Ae!==0?M=Vs(Ae):(V&=ae,V!==0&&(M=Vs(V)))}else ae=p&~z,ae!==0?M=Vs(ae):V!==0&&(M=Vs(V));if(M===0)return 0;if(u!==0&&u!==M&&!(u&z)&&(z=M&-M,V=u&-u,z>=V||z===16&&(V&4194240)!==0))return u;if(M&4&&(M|=p&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=M;0<u;)p=31-bi(u),z=1<<p,M|=s[p],u&=~z;return M}function ua(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(s,u){for(var p=s.suspendedLanes,M=s.pingedLanes,z=s.expirationTimes,V=s.pendingLanes;0<V;){var ae=31-bi(V),Ae=1<<ae,Ge=z[ae];Ge===-1?(!(Ae&p)||Ae&M)&&(z[ae]=ua(Ae,u)):Ge<=u&&(s.expiredLanes|=Ae),V&=~Ae}}function Ws(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Do(){var s=Eo;return Eo<<=1,!(Eo&4194240)&&(Eo=64),s}function La(s){for(var u=[],p=0;31>p;p++)u.push(s);return u}function Ya(s,u,p){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-bi(u),s[u]=p}function $o(s,u){var p=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var M=s.eventTimes;for(s=s.expirationTimes;0<p;){var z=31-bi(p),V=1<<z;u[z]=0,M[z]=-1,s[z]=-1,p&=~V}}function No(s,u){var p=s.entangledLanes|=u;for(s=s.entanglements;p;){var M=31-bi(p),z=1<<M;z&u|s[M]&u&&(s[M]|=u),p&=~z}}var Xr=0;function ul(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ds,Fo,Rr,Yo,Pa,ca=!1,ha=[],io=null,cs=null,Ss=null,so=new Map,zo=new Map,Es=[],oo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ra(s,u){switch(s){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":so.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(u.pointerId)}}function Ci(s,u,p,M,z,V){return s===null||s.nativeEvent!==V?(s={blockedOn:u,domEventName:p,eventSystemFlags:M,nativeEvent:V,targetContainers:[z]},u!==null&&(u=dp(u),u!==null&&Fo(u)),s):(s.eventSystemFlags|=M,u=s.targetContainers,z!==null&&u.indexOf(z)===-1&&u.push(z),s)}function ao(s,u,p,M,z){switch(u){case"focusin":return io=Ci(io,s,u,p,M,z),!0;case"dragenter":return cs=Ci(cs,s,u,p,M,z),!0;case"mouseover":return Ss=Ci(Ss,s,u,p,M,z),!0;case"pointerover":var V=z.pointerId;return so.set(V,Ci(so.get(V)||null,s,u,p,M,z)),!0;case"gotpointercapture":return V=z.pointerId,zo.set(V,Ci(zo.get(V)||null,s,u,p,M,z)),!0}return!1}function Ml(s){var u=lh(s.target);if(u!==null){var p=_s(u);if(p!==null){if(u=p.tag,u===13){if(u=He(p),u!==null){s.blockedOn=u,Pa(s.priority,function(){Rr(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function da(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var p=B(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var M=new p.constructor(p.type,p);ai=M,p.target.dispatchEvent(M),ai=null}else return u=dp(p),u!==null&&Fo(u),s.blockedOn=p,!1;u.shift()}return!0}function Z(s,u,p){da(s)&&p.delete(u)}function ie(){ca=!1,io!==null&&da(io)&&(io=null),cs!==null&&da(cs)&&(cs=null),Ss!==null&&da(Ss)&&(Ss=null),so.forEach(Z),zo.forEach(Z)}function ge(s,u){s.blockedOn===u&&(s.blockedOn=null,ca||(ca=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ie)))}function et(s){function u(z){return ge(z,s)}if(0<ha.length){ge(ha[0],s);for(var p=1;p<ha.length;p++){var M=ha[p];M.blockedOn===s&&(M.blockedOn=null)}}for(io!==null&&ge(io,s),cs!==null&&ge(cs,s),Ss!==null&&ge(Ss,s),so.forEach(u),zo.forEach(u),p=0;p<Es.length;p++)M=Es[p],M.blockedOn===s&&(M.blockedOn=null);for(;0<Es.length&&(p=Es[0],p.blockedOn===null);)Ml(p),p.blockedOn===null&&Es.shift()}var ct=le.ReactCurrentBatchConfig,kt=!0;function wn(s,u,p,M){var z=Xr,V=ct.transition;ct.transition=null;try{Xr=1,x(s,u,p,M)}finally{Xr=z,ct.transition=V}}function ir(s,u,p,M){var z=Xr,V=ct.transition;ct.transition=null;try{Xr=4,x(s,u,p,M)}finally{Xr=z,ct.transition=V}}function x(s,u,p,M){if(kt){var z=B(s,u,p,M);if(z===null)xn(s,u,M,C,p),Ra(s,M);else if(ao(z,s,u,p,M))M.stopPropagation();else if(Ra(s,M),u&4&&-1<oo.indexOf(s)){for(;z!==null;){var V=dp(z);if(V!==null&&Ds(V),V=B(s,u,p,M),V===null&&xn(s,u,M,C,p),V===z)break;z=V}z!==null&&M.stopPropagation()}else xn(s,u,M,null,p)}}var C=null;function B(s,u,p,M){if(C=null,s=Ai(M),s=lh(s),s!==null)if(u=_s(s),u===null)s=null;else if(p=u.tag,p===13){if(s=He(u),s!==null)return s;s=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return C=s,null}function U(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mr()){case ri:return 1;case Br:return 4;case Qr:case Hr:return 16;case pr:return 536870912;default:return 16}default:return 16}}var Q=null,ue=null,he=null;function Ie(){if(he)return he;var s,u=ue,p=u.length,M,z="value"in Q?Q.value:Q.textContent,V=z.length;for(s=0;s<p&&u[s]===z[s];s++);var ae=p-s;for(M=1;M<=ae&&u[p-M]===z[V-M];M++);return he=z.slice(s,1<M?1-M:void 0)}function ze(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function at(){return!0}function Lt(){return!1}function Et(s){function u(p,M,z,V,ae){this._reactName=p,this._targetInst=z,this.type=M,this.nativeEvent=V,this.target=ae,this.currentTarget=null;for(var Ae in s)s.hasOwnProperty(Ae)&&(p=s[Ae],this[Ae]=p?p(V):V[Ae]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?at:Lt,this.isPropagationStopped=Lt,this}return lt(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=at)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=at)},persist:function(){},isPersistent:at}),u}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mt=Et(pt),Bn=lt({},pt,{view:0,detail:0}),lr=Et(Bn),Wn,fi,zi,Js=lt({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zi&&(zi&&s.type==="mousemove"?(Wn=s.screenX-zi.screenX,fi=s.screenY-zi.screenY):fi=Wn=0,zi=s),Wn)},movementY:function(s){return"movementY"in s?s.movementY:fi}}),li=Et(Js),Er=lt({},Js,{dataTransfer:0}),Bo=Et(Er),ui=lt({},Bn,{relatedTarget:0}),Ii=Et(ui),Za=lt({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),sh=Et(Za),fa=lt({},pt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),uu=Et(fa),Bu=lt({},pt,{data:0}),Ho=Et(Bu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ka={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=hs[s])?!!u[s]:!1}function rs(){return jo}var qi=lt({},Bn,{key:function(s){if(s.key){var u=Hu[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=ze(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ka[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(s){return s.type==="keypress"?ze(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ze(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Lr=Et(qi),Tn=lt({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),It=Et(Tn),Gi=lt({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),Ji=Et(Gi),Xi=lt({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oa=Et(Xi),ii=lt({},Js,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ul=Et(ii),Di=[9,13,27,32],Uo=m&&"CompositionEvent"in window,cl=null;m&&"documentMode"in document&&(cl=document.documentMode);var ds=m&&"TextEvent"in window&&!cl,ye=m&&(!Uo||cl&&8<cl&&11>=cl),oh=" ",cu=!1;function Ka(s,u){switch(s){case"keyup":return Di.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fs=!1;function pa(s,u){switch(s){case"compositionend":return hu(u);case"keypress":return u.which!==32?null:(cu=!0,oh);case"textInput":return s=u.data,s===oh&&cu?null:s;default:return null}}function ah(s,u){if(fs)return s==="compositionend"||!Uo&&Ka(s,u)?(s=Ie(),he=ue=Q=null,fs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ye&&u.locale!=="ko"?null:u.data;default:return null}}var du={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gl(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!du[s.type]:u==="textarea"}function fu(s,u,p,M){ls(M),u=Wt(u,"onChange"),0<u.length&&(p=new Mt("onChange","change",null,p,M),s.push({event:p,listeners:u}))}var $r=null,Vi=null;function is(s){qe(s,0)}function Ns(s){var u=Gu(s);if(cr(u))return s}function Zo(s,u){if(s==="change")return u}var pu=!1;if(m){var Ko;if(m){var yc="oninput"in document;if(!yc){var ma=document.createElement("div");ma.setAttribute("oninput","return;"),yc=typeof ma.oninput=="function"}Ko=yc}else Ko=!1;pu=Ko&&(!document.documentMode||9<document.documentMode)}function lo(){$r&&($r.detachEvent("onpropertychange",mu),Vi=$r=null)}function mu(s){if(s.propertyName==="value"&&Ns(Vi)){var u=[];fu(u,Vi,s,Ai(s)),Kr(is,u)}}function ju(s,u,p){s==="focusin"?(lo(),$r=u,Vi=p,$r.attachEvent("onpropertychange",mu)):s==="focusout"&&lo()}function Jo(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ns(Vi)}function ga(s,u){if(s==="click")return Ns(u)}function gu(s,u){if(s==="input"||s==="change")return Ns(u)}function va(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var ps=typeof Object.is=="function"?Object.is:va;function Pr(s,u){if(ps(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var p=Object.keys(s),M=Object.keys(u);if(p.length!==M.length)return!1;for(M=0;M<p.length;M++){var z=p[M];if(!b.call(u,z)||!ps(s[z],u[z]))return!1}return!0}function pe(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Oe(s,u){var p=pe(s);s=0;for(var M;p;){if(p.nodeType===3){if(M=s+p.textContent.length,s<=u&&M>=u)return{node:p,offset:u-s};s=M}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=pe(p)}}function Je(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?Je(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function Ht(){for(var s=window,u=qt();u instanceof s.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)s=u.contentWindow;else break;u=qt(s.document)}return u}function st(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function Zt(s){var u=Ht(),p=s.focusedElem,M=s.selectionRange;if(u!==p&&p&&p.ownerDocument&&Je(p.ownerDocument.documentElement,p)){if(M!==null&&st(p)){if(u=M.start,s=M.end,s===void 0&&(s=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(s,p.value.length);else if(s=(u=p.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var z=p.textContent.length,V=Math.min(M.start,z);M=M.end===void 0?V:Math.min(M.end,z),!s.extend&&V>M&&(z=M,M=V,V=z),z=Oe(p,V);var ae=Oe(p,M);z&&ae&&(s.rangeCount!==1||s.anchorNode!==z.node||s.anchorOffset!==z.offset||s.focusNode!==ae.node||s.focusOffset!==ae.offset)&&(u=u.createRange(),u.setStart(z.node,z.offset),s.removeAllRanges(),V>M?(s.addRange(u),s.extend(ae.node,ae.offset)):(u.setEnd(ae.node,ae.offset),s.addRange(u)))}}for(u=[],s=p;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)s=u[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Jt=m&&"documentMode"in document&&11>=document.documentMode,ln=null,En=null,dr=null,mr=!1;function _r(s,u,p){var M=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;mr||ln==null||ln!==qt(M)||(M=ln,"selectionStart"in M&&st(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),dr&&Pr(dr,M)||(dr=M,M=Wt(En,"onSelect"),0<M.length&&(u=new Mt("onSelect","select",null,u,p),s.push({event:u,listeners:M}),u.target=ln)))}function Ur(s,u){var p={};return p[s.toLowerCase()]=u.toLowerCase(),p["Webkit"+s]="webkit"+u,p["Moz"+s]="moz"+u,p}var wi={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionend:Ur("Transition","TransitionEnd")},fr={},ms={};m&&(ms=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Qi(s){if(fr[s])return fr[s];if(!wi[s])return s;var u=wi[s],p;for(p in u)if(u.hasOwnProperty(p)&&p in ms)return fr[s]=u[p];return s}var Qs=Qi("animationend"),Li=Qi("animationiteration"),Qo=Qi("animationstart"),Fs=Qi("transitionend"),Ms=new Map,O="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function N(s,u){Ms.set(s,u),h(u,[s])}for(var D=0;D<O.length;D++){var j=O[D],J=j.toLowerCase(),re=j[0].toUpperCase()+j.slice(1);N(J,"on"+re)}N(Qs,"onAnimationEnd"),N(Li,"onAnimationIteration"),N(Qo,"onAnimationStart"),N("dblclick","onDoubleClick"),N("focusin","onFocus"),N("focusout","onBlur"),N(Fs,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var de="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ve=new Set("cancel close invalid load scroll toggle".split(" ").concat(de));function Ce(s,u,p){var M=s.type||"unknown-event";s.currentTarget=p,Ks(M,u,void 0,s),s.currentTarget=null}function qe(s,u){u=(u&4)!==0;for(var p=0;p<s.length;p++){var M=s[p],z=M.event;M=M.listeners;e:{var V=void 0;if(u)for(var ae=M.length-1;0<=ae;ae--){var Ae=M[ae],Ge=Ae.instance,xt=Ae.currentTarget;if(Ae=Ae.listener,Ge!==V&&z.isPropagationStopped())break e;Ce(z,Ae,xt),V=Ge}else for(ae=0;ae<M.length;ae++){if(Ae=M[ae],Ge=Ae.instance,xt=Ae.currentTarget,Ae=Ae.listener,Ge!==V&&z.isPropagationStopped())break e;Ce(z,Ae,xt),V=Ge}}}if(mi)throw s=Ki,mi=!1,Ki=null,s}function Fe(s,u){var p=u[Dn];p===void 0&&(p=u[Dn]=new Set);var M=s+"__bubble";p.has(M)||(Rn(u,s,2,!1),p.add(M))}function nt(s,u,p){var M=0;u&&(M|=4),Rn(p,s,M,u)}var Tt="_reactListening"+Math.random().toString(36).slice(2);function Ct(s){if(!s[Tt]){s[Tt]=!0,a.forEach(function(p){p!=="selectionchange"&&(ve.has(p)||nt(p,!1,s),nt(p,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Tt]||(u[Tt]=!0,nt("selectionchange",!1,u))}}function Rn(s,u,p,M){switch(U(u)){case 1:var z=wn;break;case 4:z=ir;break;default:z=x}p=z.bind(null,u,p,s),z=void 0,!la||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(z=!0),M?z!==void 0?s.addEventListener(u,p,{capture:!0,passive:z}):s.addEventListener(u,p,!0):z!==void 0?s.addEventListener(u,p,{passive:z}):s.addEventListener(u,p,!1)}function xn(s,u,p,M,z){var V=M;if(!(u&1)&&!(u&2)&&M!==null)e:for(;;){if(M===null)return;var ae=M.tag;if(ae===3||ae===4){var Ae=M.stateNode.containerInfo;if(Ae===z||Ae.nodeType===8&&Ae.parentNode===z)break;if(ae===4)for(ae=M.return;ae!==null;){var Ge=ae.tag;if((Ge===3||Ge===4)&&(Ge=ae.stateNode.containerInfo,Ge===z||Ge.nodeType===8&&Ge.parentNode===z))return;ae=ae.return}for(;Ae!==null;){if(ae=lh(Ae),ae===null)return;if(Ge=ae.tag,Ge===5||Ge===6){M=V=ae;continue e}Ae=Ae.parentNode}}M=M.return}Kr(function(){var xt=V,sn=Ai(p),un=[];e:{var Ot=Ms.get(s);if(Ot!==void 0){var Ln=Mt,Fn=s;switch(s){case"keypress":if(ze(p)===0)break e;case"keydown":case"keyup":Ln=Lr;break;case"focusin":Fn="focus",Ln=Ii;break;case"focusout":Fn="blur",Ln=Ii;break;case"beforeblur":case"afterblur":Ln=Ii;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ln=li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ln=Bo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ln=Ji;break;case Qs:case Li:case Qo:Ln=sh;break;case Fs:Ln=Oa;break;case"scroll":Ln=lr;break;case"wheel":Ln=Ul;break;case"copy":case"cut":case"paste":Ln=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ln=It}var nr=(u&4)!==0,Ys=!nr&&s==="scroll",ht=nr?Ot!==null?Ot+"Capture":null:Ot;nr=[];for(var Ye=xt,mt;Ye!==null;){mt=Ye;var fn=mt.stateNode;if(mt.tag===5&&fn!==null&&(mt=fn,ht!==null&&(fn=Ca(Ye,ht),fn!=null&&nr.push(nn(Ye,fn,mt)))),Ys)break;Ye=Ye.return}0<nr.length&&(Ot=new Ln(Ot,Fn,null,p,sn),un.push({event:Ot,listeners:nr}))}}if(!(u&7)){e:{if(Ot=s==="mouseover"||s==="pointerover",Ln=s==="mouseout"||s==="pointerout",Ot&&p!==ai&&(Fn=p.relatedTarget||p.fromElement)&&(lh(Fn)||Fn[Al]))break e;if((Ln||Ot)&&(Ot=sn.window===sn?sn:(Ot=sn.ownerDocument)?Ot.defaultView||Ot.parentWindow:window,Ln?(Fn=p.relatedTarget||p.toElement,Ln=xt,Fn=Fn?lh(Fn):null,Fn!==null&&(Ys=_s(Fn),Fn!==Ys||Fn.tag!==5&&Fn.tag!==6)&&(Fn=null)):(Ln=null,Fn=xt),Ln!==Fn)){if(nr=li,fn="onMouseLeave",ht="onMouseEnter",Ye="mouse",(s==="pointerout"||s==="pointerover")&&(nr=It,fn="onPointerLeave",ht="onPointerEnter",Ye="pointer"),Ys=Ln==null?Ot:Gu(Ln),mt=Fn==null?Ot:Gu(Fn),Ot=new nr(fn,Ye+"leave",Ln,p,sn),Ot.target=Ys,Ot.relatedTarget=mt,fn=null,lh(sn)===xt&&(nr=new nr(ht,Ye+"enter",Fn,p,sn),nr.target=mt,nr.relatedTarget=Ys,fn=nr),Ys=fn,Ln&&Fn)t:{for(nr=Ln,ht=Fn,Ye=0,mt=nr;mt;mt=Kt(mt))Ye++;for(mt=0,fn=ht;fn;fn=Kt(fn))mt++;for(;0<Ye-mt;)nr=Kt(nr),Ye--;for(;0<mt-Ye;)ht=Kt(ht),mt--;for(;Ye--;){if(nr===ht||ht!==null&&nr===ht.alternate)break t;nr=Kt(nr),ht=Kt(ht)}nr=null}else nr=null;Ln!==null&&At(un,Ot,Ln,nr,!1),Fn!==null&&Ys!==null&&At(un,Ys,Fn,nr,!0)}}e:{if(Ot=xt?Gu(xt):window,Ln=Ot.nodeName&&Ot.nodeName.toLowerCase(),Ln==="select"||Ln==="input"&&Ot.type==="file")var Xt=Zo;else if(Gl(Ot))if(pu)Xt=gu;else{Xt=Jo;var rr=ju}else(Ln=Ot.nodeName)&&Ln.toLowerCase()==="input"&&(Ot.type==="checkbox"||Ot.type==="radio")&&(Xt=ga);if(Xt&&(Xt=Xt(s,xt))){fu(un,Xt,p,sn);break e}rr&&rr(s,Ot,xt),s==="focusout"&&(rr=Ot._wrapperState)&&rr.controlled&&Ot.type==="number"&&sr(Ot,"number",Ot.value)}switch(rr=xt?Gu(xt):window,s){case"focusin":(Gl(rr)||rr.contentEditable==="true")&&(ln=rr,En=xt,dr=null);break;case"focusout":dr=En=ln=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,_r(un,p,sn);break;case"selectionchange":if(Jt)break;case"keydown":case"keyup":_r(un,p,sn)}var gr;if(Uo)e:{switch(s){case"compositionstart":var Or="onCompositionStart";break e;case"compositionend":Or="onCompositionEnd";break e;case"compositionupdate":Or="onCompositionUpdate";break e}Or=void 0}else fs?Ka(s,p)&&(Or="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Or="onCompositionStart");Or&&(ye&&p.locale!=="ko"&&(fs||Or!=="onCompositionStart"?Or==="onCompositionEnd"&&fs&&(gr=Ie()):(Q=sn,ue="value"in Q?Q.value:Q.textContent,fs=!0)),rr=Wt(xt,Or),0<rr.length&&(Or=new Ho(Or,s,null,p,sn),un.push({event:Or,listeners:rr}),gr?Or.data=gr:(gr=hu(p),gr!==null&&(Or.data=gr)))),(gr=ds?pa(s,p):ah(s,p))&&(xt=Wt(xt,"onBeforeInput"),0<xt.length&&(sn=new Ho("onBeforeInput","beforeinput",null,p,sn),un.push({event:sn,listeners:xt}),sn.data=gr))}qe(un,u)})}function nn(s,u,p){return{instance:s,listener:u,currentTarget:p}}function Wt(s,u){for(var p=u+"Capture",M=[];s!==null;){var z=s,V=z.stateNode;z.tag===5&&V!==null&&(z=V,V=Ca(s,p),V!=null&&M.unshift(nn(s,V,z)),V=Ca(s,u),V!=null&&M.push(nn(s,V,z))),s=s.return}return M}function Kt(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function At(s,u,p,M,z){for(var V=u._reactName,ae=[];p!==null&&p!==M;){var Ae=p,Ge=Ae.alternate,xt=Ae.stateNode;if(Ge!==null&&Ge===M)break;Ae.tag===5&&xt!==null&&(Ae=xt,z?(Ge=Ca(p,V),Ge!=null&&ae.unshift(nn(p,Ge,Ae))):z||(Ge=Ca(p,V),Ge!=null&&ae.push(nn(p,Ge,Ae)))),p=p.return}ae.length!==0&&s.push({event:u,listeners:ae})}var an=/\r\n?/g,_n=/\u0000|\uFFFD/g;function In(s){return(typeof s=="string"?s:""+s).replace(an,`
`).replace(_n,"")}function Mn(s,u,p){if(u=In(u),In(s)!==u&&p)throw Error(r(425))}function zt(){}var Dr=null,Pi=null;function yn(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ei=typeof setTimeout=="function"?setTimeout:void 0,Qn=typeof clearTimeout=="function"?clearTimeout:void 0,qs=typeof Promise=="function"?Promise:void 0,Xn=typeof queueMicrotask=="function"?queueMicrotask:typeof qs<"u"?function(s){return qs.resolve(null).then(s).catch(uo)}:Ei;function uo(s){setTimeout(function(){throw s})}function Go(s,u){var p=u,M=0;do{var z=p.nextSibling;if(s.removeChild(p),z&&z.nodeType===8)if(p=z.data,p==="/$"){if(M===0){s.removeChild(z),et(u);return}M--}else p!=="$"&&p!=="$?"&&p!=="$!"||M++;p=z}while(p);et(u)}function zs(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function Uu(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return s;u--}else p==="/$"&&u++}s=s.previousSibling}return null}var hl=Math.random().toString(36).slice(2),ea="__reactFiber$"+hl,vu="__reactProps$"+hl,Al="__reactContainer$"+hl,Dn="__reactEvents$"+hl,hp="__reactListeners$"+hl,n1="__reactHandles$"+hl;function lh(s){var u=s[ea];if(u)return u;for(var p=s.parentNode;p;){if(u=p[Al]||p[ea]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(s=Uu(s);s!==null;){if(p=s[ea])return p;s=Uu(s)}return u}s=p,p=s.parentNode}return null}function dp(s){return s=s[ea]||s[Al],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Gu(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function sg(s){return s[vu]||null}var Vl=[],uh=-1;function Tl(s){return{current:s}}function gi(s){0>uh||(s.current=Vl[uh],Vl[uh]=null,uh--)}function $i(s,u){uh++,Vl[uh]=s.current,s.current=u}var Rs={},$n=Tl(Rs),Ja=Tl(!1),Cl=Rs;function ch(s,u){var p=s.type.contextTypes;if(!p)return Rs;var M=s.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===u)return M.__reactInternalMemoizedMaskedChildContext;var z={},V;for(V in p)z[V]=u[V];return M&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=z),z}function co(s){return s=s.childContextTypes,s!=null}function yu(){gi(Ja),gi($n)}function xc(s,u,p){if($n.current!==Rs)throw Error(r(168));$i($n,u),$i(Ja,p)}function og(s,u,p){var M=s.stateNode;if(u=u.childContextTypes,typeof M.getChildContext!="function")return p;M=M.getChildContext();for(var z in M)if(!(z in u))throw Error(r(108,Pt(s)||"Unknown",z));return lt({},p,M)}function Yd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Rs,Cl=$n.current,$i($n,s),$i(Ja,Ja.current),!0}function ag(s,u,p){var M=s.stateNode;if(!M)throw Error(r(169));p?(s=og(s,u,Cl),M.__reactInternalMemoizedMergedChildContext=s,gi(Ja),gi($n),$i($n,s)):gi(Ja),$i(Ja,p)}var Wl=null,Kh=!1,Zd=!1;function Jh(s){Wl===null?Wl=[s]:Wl.push(s)}function Kd(s){Kh=!0,Jh(s)}function Ll(){if(!Zd&&Wl!==null){Zd=!0;var s=0,u=Xr;try{var p=Wl;for(Xr=1;s<p.length;s++){var M=p[s];do M=M(!0);while(M!==null)}Wl=null,Kh=!1}catch(z){throw Wl!==null&&(Wl=Wl.slice(s+1)),pn(ri,Ll),z}finally{Xr=u,Zd=!1}}return null}var Vu=[],bc=0,ss=null,fp=0,Qa=[],Ia=0,ql=null,Bs=1,Wu="";function ho(s,u){Vu[bc++]=fp,Vu[bc++]=ss,ss=s,fp=u}function xu(s,u,p){Qa[Ia++]=Bs,Qa[Ia++]=Wu,Qa[Ia++]=ql,ql=s;var M=Bs;s=Wu;var z=32-bi(M)-1;M&=~(1<<z),p+=1;var V=32-bi(u)+z;if(30<V){var ae=z-z%5;V=(M&(1<<ae)-1).toString(32),M>>=ae,z-=ae,Bs=1<<32-bi(u)+z|p<<z|M,Wu=V+s}else Bs=1<<V|p<<z|M,Wu=s}function eo(s){s.return!==null&&(ho(s,1),xu(s,1,0))}function wc(s){for(;s===ss;)ss=Vu[--bc],Vu[bc]=null,fp=Vu[--bc],Vu[bc]=null;for(;s===ql;)ql=Qa[--Ia],Qa[Ia]=null,Wu=Qa[--Ia],Qa[Ia]=null,Bs=Qa[--Ia],Qa[Ia]=null}var to=null,fo=null,Bi=!1,Da=null;function pp(s,u){var p=nl(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=s,u=s.deletions,u===null?(s.deletions=[p],s.flags|=16):u.push(p)}function Jd(s,u){switch(s.tag){case 5:var p=s.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,to=s,fo=zs(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,to=s,fo=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=ql!==null?{id:Bs,overflow:Wu}:null,s.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=nl(18,null,null,0),p.stateNode=u,p.return=s,s.child=p,to=s,fo=null,!0):!1;default:return!1}}function lg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ty(s){if(Bi){var u=fo;if(u){var p=u;if(!Jd(s,u)){if(lg(s))throw Error(r(418));u=zs(p.nextSibling);var M=to;u&&Jd(s,u)?pp(M,p):(s.flags=s.flags&-4097|2,Bi=!1,to=s)}}else{if(lg(s))throw Error(r(418));s.flags=s.flags&-4097|2,Bi=!1,to=s}}}function mp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;to=s}function ti(s){if(s!==to)return!1;if(!Bi)return mp(s),Bi=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!yn(s.type,s.memoizedProps)),u&&(u=fo)){if(lg(s))throw Nn(),Error(r(418));for(;u;)pp(s,u),u=zs(u.nextSibling)}if(mp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(u===0){fo=zs(s.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}s=s.nextSibling}fo=null}}else fo=to?zs(s.stateNode.nextSibling):null;return!0}function Nn(){for(var s=fo;s;)s=zs(s.nextSibling)}function Na(){fo=to=null,Bi=!1}function ny(s){Da===null?Da=[s]:Da.push(s)}var r1=le.ReactCurrentBatchConfig;function gp(s,u,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var M=p.stateNode}if(!M)throw Error(r(147,s));var z=M,V=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===V?u.ref:(u=function(ae){var Ae=z.refs;ae===null?delete Ae[V]:Ae[V]=ae},u._stringRef=V,u)}if(typeof s!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,s))}return s}function ug(s,u){throw s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function Ux(s){var u=s._init;return u(s._payload)}function Gx(s){function u(ht,Ye){if(s){var mt=ht.deletions;mt===null?(ht.deletions=[Ye],ht.flags|=16):mt.push(Ye)}}function p(ht,Ye){if(!s)return null;for(;Ye!==null;)u(ht,Ye),Ye=Ye.sibling;return null}function M(ht,Ye){for(ht=new Map;Ye!==null;)Ye.key!==null?ht.set(Ye.key,Ye):ht.set(Ye.index,Ye),Ye=Ye.sibling;return ht}function z(ht,Ye){return ht=Ic(ht,Ye),ht.index=0,ht.sibling=null,ht}function V(ht,Ye,mt){return ht.index=mt,s?(mt=ht.alternate,mt!==null?(mt=mt.index,mt<Ye?(ht.flags|=2,Ye):mt):(ht.flags|=2,Ye)):(ht.flags|=1048576,Ye)}function ae(ht){return s&&ht.alternate===null&&(ht.flags|=2),ht}function Ae(ht,Ye,mt,fn){return Ye===null||Ye.tag!==6?(Ye=Ng(mt,ht.mode,fn),Ye.return=ht,Ye):(Ye=z(Ye,mt),Ye.return=ht,Ye)}function Ge(ht,Ye,mt,fn){var Xt=mt.type;return Xt===Pe?sn(ht,Ye,mt.props.children,fn,mt.key):Ye!==null&&(Ye.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===Be&&Ux(Xt)===Ye.type)?(fn=z(Ye,mt.props),fn.ref=gp(ht,Ye,mt),fn.return=ht,fn):(fn=Mf(mt.type,mt.key,mt.props,null,ht.mode,fn),fn.ref=gp(ht,Ye,mt),fn.return=ht,fn)}function xt(ht,Ye,mt,fn){return Ye===null||Ye.tag!==4||Ye.stateNode.containerInfo!==mt.containerInfo||Ye.stateNode.implementation!==mt.implementation?(Ye=Bp(mt,ht.mode,fn),Ye.return=ht,Ye):(Ye=z(Ye,mt.children||[]),Ye.return=ht,Ye)}function sn(ht,Ye,mt,fn,Xt){return Ye===null||Ye.tag!==7?(Ye=Sh(mt,ht.mode,fn,Xt),Ye.return=ht,Ye):(Ye=z(Ye,mt),Ye.return=ht,Ye)}function un(ht,Ye,mt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return Ye=Ng(""+Ye,ht.mode,mt),Ye.return=ht,Ye;if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case Se:return mt=Mf(Ye.type,Ye.key,Ye.props,null,ht.mode,mt),mt.ref=gp(ht,null,Ye),mt.return=ht,mt;case be:return Ye=Bp(Ye,ht.mode,mt),Ye.return=ht,Ye;case Be:var fn=Ye._init;return un(ht,fn(Ye._payload),mt)}if(or(Ye)||te(Ye))return Ye=Sh(Ye,ht.mode,mt,null),Ye.return=ht,Ye;ug(ht,Ye)}return null}function Ot(ht,Ye,mt,fn){var Xt=Ye!==null?Ye.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number")return Xt!==null?null:Ae(ht,Ye,""+mt,fn);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case Se:return mt.key===Xt?Ge(ht,Ye,mt,fn):null;case be:return mt.key===Xt?xt(ht,Ye,mt,fn):null;case Be:return Xt=mt._init,Ot(ht,Ye,Xt(mt._payload),fn)}if(or(mt)||te(mt))return Xt!==null?null:sn(ht,Ye,mt,fn,null);ug(ht,mt)}return null}function Ln(ht,Ye,mt,fn,Xt){if(typeof fn=="string"&&fn!==""||typeof fn=="number")return ht=ht.get(mt)||null,Ae(Ye,ht,""+fn,Xt);if(typeof fn=="object"&&fn!==null){switch(fn.$$typeof){case Se:return ht=ht.get(fn.key===null?mt:fn.key)||null,Ge(Ye,ht,fn,Xt);case be:return ht=ht.get(fn.key===null?mt:fn.key)||null,xt(Ye,ht,fn,Xt);case Be:var rr=fn._init;return Ln(ht,Ye,mt,rr(fn._payload),Xt)}if(or(fn)||te(fn))return ht=ht.get(mt)||null,sn(Ye,ht,fn,Xt,null);ug(Ye,fn)}return null}function Fn(ht,Ye,mt,fn){for(var Xt=null,rr=null,gr=Ye,Or=Ye=0,vo=null;gr!==null&&Or<mt.length;Or++){gr.index>Or?(vo=gr,gr=null):vo=gr.sibling;var Ri=Ot(ht,gr,mt[Or],fn);if(Ri===null){gr===null&&(gr=vo);break}s&&gr&&Ri.alternate===null&&u(ht,gr),Ye=V(Ri,Ye,Or),rr===null?Xt=Ri:rr.sibling=Ri,rr=Ri,gr=vo}if(Or===mt.length)return p(ht,gr),Bi&&ho(ht,Or),Xt;if(gr===null){for(;Or<mt.length;Or++)gr=un(ht,mt[Or],fn),gr!==null&&(Ye=V(gr,Ye,Or),rr===null?Xt=gr:rr.sibling=gr,rr=gr);return Bi&&ho(ht,Or),Xt}for(gr=M(ht,gr);Or<mt.length;Or++)vo=Ln(gr,ht,Or,mt[Or],fn),vo!==null&&(s&&vo.alternate!==null&&gr.delete(vo.key===null?Or:vo.key),Ye=V(vo,Ye,Or),rr===null?Xt=vo:rr.sibling=vo,rr=vo);return s&&gr.forEach(function(sc){return u(ht,sc)}),Bi&&ho(ht,Or),Xt}function nr(ht,Ye,mt,fn){var Xt=te(mt);if(typeof Xt!="function")throw Error(r(150));if(mt=Xt.call(mt),mt==null)throw Error(r(151));for(var rr=Xt=null,gr=Ye,Or=Ye=0,vo=null,Ri=mt.next();gr!==null&&!Ri.done;Or++,Ri=mt.next()){gr.index>Or?(vo=gr,gr=null):vo=gr.sibling;var sc=Ot(ht,gr,Ri.value,fn);if(sc===null){gr===null&&(gr=vo);break}s&&gr&&sc.alternate===null&&u(ht,gr),Ye=V(sc,Ye,Or),rr===null?Xt=sc:rr.sibling=sc,rr=sc,gr=vo}if(Ri.done)return p(ht,gr),Bi&&ho(ht,Or),Xt;if(gr===null){for(;!Ri.done;Or++,Ri=mt.next())Ri=un(ht,Ri.value,fn),Ri!==null&&(Ye=V(Ri,Ye,Or),rr===null?Xt=Ri:rr.sibling=Ri,rr=Ri);return Bi&&ho(ht,Or),Xt}for(gr=M(ht,gr);!Ri.done;Or++,Ri=mt.next())Ri=Ln(gr,ht,Or,Ri.value,fn),Ri!==null&&(s&&Ri.alternate!==null&&gr.delete(Ri.key===null?Or:Ri.key),Ye=V(Ri,Ye,Or),rr===null?Xt=Ri:rr.sibling=Ri,rr=Ri);return s&&gr.forEach(function(Vy){return u(ht,Vy)}),Bi&&ho(ht,Or),Xt}function Ys(ht,Ye,mt,fn){if(typeof mt=="object"&&mt!==null&&mt.type===Pe&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case Se:e:{for(var Xt=mt.key,rr=Ye;rr!==null;){if(rr.key===Xt){if(Xt=mt.type,Xt===Pe){if(rr.tag===7){p(ht,rr.sibling),Ye=z(rr,mt.props.children),Ye.return=ht,ht=Ye;break e}}else if(rr.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===Be&&Ux(Xt)===rr.type){p(ht,rr.sibling),Ye=z(rr,mt.props),Ye.ref=gp(ht,rr,mt),Ye.return=ht,ht=Ye;break e}p(ht,rr);break}else u(ht,rr);rr=rr.sibling}mt.type===Pe?(Ye=Sh(mt.props.children,ht.mode,fn,mt.key),Ye.return=ht,ht=Ye):(fn=Mf(mt.type,mt.key,mt.props,null,ht.mode,fn),fn.ref=gp(ht,Ye,mt),fn.return=ht,ht=fn)}return ae(ht);case be:e:{for(rr=mt.key;Ye!==null;){if(Ye.key===rr)if(Ye.tag===4&&Ye.stateNode.containerInfo===mt.containerInfo&&Ye.stateNode.implementation===mt.implementation){p(ht,Ye.sibling),Ye=z(Ye,mt.children||[]),Ye.return=ht,ht=Ye;break e}else{p(ht,Ye);break}else u(ht,Ye);Ye=Ye.sibling}Ye=Bp(mt,ht.mode,fn),Ye.return=ht,ht=Ye}return ae(ht);case Be:return rr=mt._init,Ys(ht,Ye,rr(mt._payload),fn)}if(or(mt))return Fn(ht,Ye,mt,fn);if(te(mt))return nr(ht,Ye,mt,fn);ug(ht,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"?(mt=""+mt,Ye!==null&&Ye.tag===6?(p(ht,Ye.sibling),Ye=z(Ye,mt),Ye.return=ht,ht=Ye):(p(ht,Ye),Ye=Ng(mt,ht.mode,fn),Ye.return=ht,ht=Ye),ae(ht)):p(ht,Ye)}return Ys}var Qd=Gx(!0),Vx=Gx(!1),cg=Tl(null),hg=null,ef=null,ry=null;function iy(){ry=ef=hg=null}function sy(s){var u=cg.current;gi(cg),s._currentValue=u}function hh(s,u,p){for(;s!==null;){var M=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,M!==null&&(M.childLanes|=u)):M!==null&&(M.childLanes&u)!==u&&(M.childLanes|=u),s===p)break;s=s.return}}function bu(s,u){hg=s,ry=ef=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&u&&(za=!0),s.firstContext=null)}function Pl(s){var u=s._currentValue;if(ry!==s)if(s={context:s,memoizedValue:u,next:null},ef===null){if(hg===null)throw Error(r(308));ef=s,hg.dependencies={lanes:0,firstContext:s}}else ef=ef.next=s;return u}var Qh=null;function oy(s){Qh===null?Qh=[s]:Qh.push(s)}function ay(s,u,p,M){var z=u.interleaved;return z===null?(p.next=p,oy(u)):(p.next=z.next,z.next=p),u.interleaved=p,qu(s,M)}function qu(s,u){s.lanes|=u;var p=s.alternate;for(p!==null&&(p.lanes|=u),p=s,s=s.return;s!==null;)s.childLanes|=u,p=s.alternate,p!==null&&(p.childLanes|=u),p=s,s=s.return;return p.tag===3?p.stateNode:null}var _c=!1;function dg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ly(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Xu(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function Rl(s,u,p){var M=s.updateQueue;if(M===null)return null;if(M=M.shared,Mi&2){var z=M.pending;return z===null?u.next=u:(u.next=z.next,z.next=u),M.pending=u,qu(s,p)}return z=M.interleaved,z===null?(u.next=u,oy(M)):(u.next=z.next,z.next=u),M.interleaved=u,qu(s,p)}function el(s,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var M=u.lanes;M&=s.pendingLanes,p|=M,u.lanes=p,No(s,p)}}function dl(s,u){var p=s.updateQueue,M=s.alternate;if(M!==null&&(M=M.updateQueue,p===M)){var z=null,V=null;if(p=p.firstBaseUpdate,p!==null){do{var ae={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};V===null?z=V=ae:V=V.next=ae,p=p.next}while(p!==null);V===null?z=V=u:V=V.next=u}else z=V=u;p={baseState:M.baseState,firstBaseUpdate:z,lastBaseUpdate:V,shared:M.shared,effects:M.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=u:s.next=u,p.lastBaseUpdate=u}function vp(s,u,p,M){var z=s.updateQueue;_c=!1;var V=z.firstBaseUpdate,ae=z.lastBaseUpdate,Ae=z.shared.pending;if(Ae!==null){z.shared.pending=null;var Ge=Ae,xt=Ge.next;Ge.next=null,ae===null?V=xt:ae.next=xt,ae=Ge;var sn=s.alternate;sn!==null&&(sn=sn.updateQueue,Ae=sn.lastBaseUpdate,Ae!==ae&&(Ae===null?sn.firstBaseUpdate=xt:Ae.next=xt,sn.lastBaseUpdate=Ge))}if(V!==null){var un=z.baseState;ae=0,sn=xt=Ge=null,Ae=V;do{var Ot=Ae.lane,Ln=Ae.eventTime;if((M&Ot)===Ot){sn!==null&&(sn=sn.next={eventTime:Ln,lane:0,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null});e:{var Fn=s,nr=Ae;switch(Ot=u,Ln=p,nr.tag){case 1:if(Fn=nr.payload,typeof Fn=="function"){un=Fn.call(Ln,un,Ot);break e}un=Fn;break e;case 3:Fn.flags=Fn.flags&-65537|128;case 0:if(Fn=nr.payload,Ot=typeof Fn=="function"?Fn.call(Ln,un,Ot):Fn,Ot==null)break e;un=lt({},un,Ot);break e;case 2:_c=!0}}Ae.callback!==null&&Ae.lane!==0&&(s.flags|=64,Ot=z.effects,Ot===null?z.effects=[Ae]:Ot.push(Ae))}else Ln={eventTime:Ln,lane:Ot,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},sn===null?(xt=sn=Ln,Ge=un):sn=sn.next=Ln,ae|=Ot;if(Ae=Ae.next,Ae===null){if(Ae=z.shared.pending,Ae===null)break;Ot=Ae,Ae=Ot.next,Ot.next=null,z.lastBaseUpdate=Ot,z.shared.pending=null}}while(!0);if(sn===null&&(Ge=un),z.baseState=Ge,z.firstBaseUpdate=xt,z.lastBaseUpdate=sn,u=z.shared.interleaved,u!==null){z=u;do ae|=z.lane,z=z.next;while(z!==u)}else V===null&&(z.shared.lanes=0);Lc|=ae,s.lanes=ae,s.memoizedState=un}}function Wx(s,u,p){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var M=s[u],z=M.callback;if(z!==null){if(M.callback=null,M=p,typeof z!="function")throw Error(r(191,z));z.call(M)}}}var yp={},$u=Tl(yp),xp=Tl(yp),bp=Tl(yp);function ed(s){if(s===yp)throw Error(r(174));return s}function uy(s,u){switch($i(bp,u),$i(xp,s),$i($u,yp),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:zr(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=zr(u,s)}gi($u),$i($u,u)}function tf(){gi($u),gi(xp),gi(bp)}function qx(s){ed(bp.current);var u=ed($u.current),p=zr(u,s.type);u!==p&&($i(xp,s),$i($u,p))}function cy(s){xp.current===s&&(gi($u),gi(xp))}var Xs=Tl(0);function fg(s){for(var u=s;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var hy=[];function dy(){for(var s=0;s<hy.length;s++)hy[s]._workInProgressVersionPrimary=null;hy.length=0}var pg=le.ReactCurrentDispatcher,fy=le.ReactCurrentBatchConfig,td=0,$s=null,Vo=null,ta=null,mg=!1,wp=!1,_p=0,i1=0;function Fa(){throw Error(r(321))}function py(s,u){if(u===null)return!1;for(var p=0;p<u.length&&p<s.length;p++)if(!ps(s[p],u[p]))return!1;return!0}function my(s,u,p,M,z,V){if(td=V,$s=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,pg.current=s===null||s.memoizedState===null?l1:u1,s=p(M,z),wp){V=0;do{if(wp=!1,_p=0,25<=V)throw Error(r(301));V+=1,ta=Vo=null,u.updateQueue=null,pg.current=c1,s=p(M,z)}while(wp)}if(pg.current=xg,u=Vo!==null&&Vo.next!==null,td=0,ta=Vo=$s=null,mg=!1,u)throw Error(r(300));return s}function gy(){var s=_p!==0;return _p=0,s}function Yu(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ta===null?$s.memoizedState=ta=s:ta=ta.next=s,ta}function Xl(){if(Vo===null){var s=$s.alternate;s=s!==null?s.memoizedState:null}else s=Vo.next;var u=ta===null?$s.memoizedState:ta.next;if(u!==null)ta=u,Vo=s;else{if(s===null)throw Error(r(310));Vo=s,s={memoizedState:Vo.memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},ta===null?$s.memoizedState=ta=s:ta=ta.next=s}return ta}function nf(s,u){return typeof u=="function"?u(s):u}function gg(s){var u=Xl(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var M=Vo,z=M.baseQueue,V=p.pending;if(V!==null){if(z!==null){var ae=z.next;z.next=V.next,V.next=ae}M.baseQueue=z=V,p.pending=null}if(z!==null){V=z.next,M=M.baseState;var Ae=ae=null,Ge=null,xt=V;do{var sn=xt.lane;if((td&sn)===sn)Ge!==null&&(Ge=Ge.next={lane:0,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null}),M=xt.hasEagerState?xt.eagerState:s(M,xt.action);else{var un={lane:sn,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null};Ge===null?(Ae=Ge=un,ae=M):Ge=Ge.next=un,$s.lanes|=sn,Lc|=sn}xt=xt.next}while(xt!==null&&xt!==V);Ge===null?ae=M:Ge.next=Ae,ps(M,u.memoizedState)||(za=!0),u.memoizedState=M,u.baseState=ae,u.baseQueue=Ge,p.lastRenderedState=M}if(s=p.interleaved,s!==null){z=s;do V=z.lane,$s.lanes|=V,Lc|=V,z=z.next;while(z!==s)}else z===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function Sp(s){var u=Xl(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var M=p.dispatch,z=p.pending,V=u.memoizedState;if(z!==null){p.pending=null;var ae=z=z.next;do V=s(V,ae.action),ae=ae.next;while(ae!==z);ps(V,u.memoizedState)||(za=!0),u.memoizedState=V,u.baseQueue===null&&(u.baseState=V),p.lastRenderedState=V}return[V,M]}function vy(){}function Xx(s,u){var p=$s,M=Xl(),z=u(),V=!ps(M.memoizedState,z);if(V&&(M.memoizedState=z,za=!0),M=M.queue,_y($x.bind(null,p,M,s),[s]),M.getSnapshot!==u||V||ta!==null&&ta.memoizedState.tag&1){if(p.flags|=2048,Ep(9,yy.bind(null,p,M,z,u),void 0,null),To===null)throw Error(r(349));td&30||Sc(p,u,z)}return z}function Sc(s,u,p){s.flags|=16384,s={getSnapshot:u,value:p},u=$s.updateQueue,u===null?(u={lastEffect:null,stores:null},$s.updateQueue=u,u.stores=[s]):(p=u.stores,p===null?u.stores=[s]:p.push(s))}function yy(s,u,p,M){u.value=p,u.getSnapshot=M,xy(u)&&by(s)}function $x(s,u,p){return p(function(){xy(u)&&by(s)})}function xy(s){var u=s.getSnapshot;s=s.value;try{var p=u();return!ps(s,p)}catch{return!0}}function by(s){var u=qu(s,1);u!==null&&Ha(u,s,1,-1)}function rf(s){var u=Yu();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nf,lastRenderedState:s},u.queue=s,s=s.dispatch=a1.bind(null,$s,s),[u.memoizedState,s]}function Ep(s,u,p,M){return s={tag:s,create:u,destroy:p,deps:M,next:null},u=$s.updateQueue,u===null?(u={lastEffect:null,stores:null},$s.updateQueue=u,u.lastEffect=s.next=s):(p=u.lastEffect,p===null?u.lastEffect=s.next=s:(M=p.next,p.next=s,s.next=M,u.lastEffect=s)),s}function Yx(){return Xl().memoizedState}function dh(s,u,p,M){var z=Yu();$s.flags|=s,z.memoizedState=Ep(1|u,p,void 0,M===void 0?null:M)}function Mp(s,u,p,M){var z=Xl();M=M===void 0?null:M;var V=void 0;if(Vo!==null){var ae=Vo.memoizedState;if(V=ae.destroy,M!==null&&py(M,ae.deps)){z.memoizedState=Ep(u,p,V,M);return}}$s.flags|=s,z.memoizedState=Ep(1|u,p,V,M)}function wy(s,u){return dh(8390656,8,s,u)}function _y(s,u){return Mp(2048,8,s,u)}function vg(s,u){return Mp(4,2,s,u)}function Zx(s,u){return Mp(4,4,s,u)}function Kx(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function Jx(s,u,p){return p=p!=null?p.concat([s]):null,Mp(4,4,Kx.bind(null,u,s),p)}function yg(){}function Qx(s,u){var p=Xl();u=u===void 0?null:u;var M=p.memoizedState;return M!==null&&u!==null&&py(u,M[1])?M[0]:(p.memoizedState=[s,u],s)}function Sy(s,u){var p=Xl();u=u===void 0?null:u;var M=p.memoizedState;return M!==null&&u!==null&&py(u,M[1])?M[0]:(s=s(),p.memoizedState=[s,u],s)}function Ey(s,u,p){return td&21?(ps(p,u)||(p=Do(),$s.lanes|=p,Lc|=p,s.baseState=!0),u):(s.baseState&&(s.baseState=!1,za=!0),s.memoizedState=p)}function s1(s,u){var p=Xr;Xr=p!==0&&4>p?p:4,s(!0);var M=fy.transition;fy.transition={};try{s(!1),u()}finally{Xr=p,fy.transition=M}}function eb(){return Xl().memoizedState}function o1(s,u,p){var M=bh(s);if(p={lane:M,action:p,hasEagerState:!1,eagerState:null,next:null},tb(s))My(u,p);else if(p=ay(s,u,p,M),p!==null){var z=ba();Ha(p,s,M,z),nb(p,u,M)}}function a1(s,u,p){var M=bh(s),z={lane:M,action:p,hasEagerState:!1,eagerState:null,next:null};if(tb(s))My(u,z);else{var V=s.alternate;if(s.lanes===0&&(V===null||V.lanes===0)&&(V=u.lastRenderedReducer,V!==null))try{var ae=u.lastRenderedState,Ae=V(ae,p);if(z.hasEagerState=!0,z.eagerState=Ae,ps(Ae,ae)){var Ge=u.interleaved;Ge===null?(z.next=z,oy(u)):(z.next=Ge.next,Ge.next=z),u.interleaved=z;return}}catch{}finally{}p=ay(s,u,z,M),p!==null&&(z=ba(),Ha(p,s,M,z),nb(p,u,M))}}function tb(s){var u=s.alternate;return s===$s||u!==null&&u===$s}function My(s,u){wp=mg=!0;var p=s.pending;p===null?u.next=u:(u.next=p.next,p.next=u),s.pending=u}function nb(s,u,p){if(p&4194240){var M=u.lanes;M&=s.pendingLanes,p|=M,u.lanes=p,No(s,p)}}var xg={readContext:Pl,useCallback:Fa,useContext:Fa,useEffect:Fa,useImperativeHandle:Fa,useInsertionEffect:Fa,useLayoutEffect:Fa,useMemo:Fa,useReducer:Fa,useRef:Fa,useState:Fa,useDebugValue:Fa,useDeferredValue:Fa,useTransition:Fa,useMutableSource:Fa,useSyncExternalStore:Fa,useId:Fa,unstable_isNewReconciler:!1},l1={readContext:Pl,useCallback:function(s,u){return Yu().memoizedState=[s,u===void 0?null:u],s},useContext:Pl,useEffect:wy,useImperativeHandle:function(s,u,p){return p=p!=null?p.concat([s]):null,dh(4194308,4,Kx.bind(null,u,s),p)},useLayoutEffect:function(s,u){return dh(4194308,4,s,u)},useInsertionEffect:function(s,u){return dh(4,2,s,u)},useMemo:function(s,u){var p=Yu();return u=u===void 0?null:u,s=s(),p.memoizedState=[s,u],s},useReducer:function(s,u,p){var M=Yu();return u=p!==void 0?p(u):u,M.memoizedState=M.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},M.queue=s,s=s.dispatch=o1.bind(null,$s,s),[M.memoizedState,s]},useRef:function(s){var u=Yu();return s={current:s},u.memoizedState=s},useState:rf,useDebugValue:yg,useDeferredValue:function(s){return Yu().memoizedState=s},useTransition:function(){var s=rf(!1),u=s[0];return s=s1.bind(null,s[1]),Yu().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,p){var M=$s,z=Yu();if(Bi){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),To===null)throw Error(r(349));td&30||Sc(M,u,p)}z.memoizedState=p;var V={value:p,getSnapshot:u};return z.queue=V,wy($x.bind(null,M,V,s),[s]),M.flags|=2048,Ep(9,yy.bind(null,M,V,p,u),void 0,null),p},useId:function(){var s=Yu(),u=To.identifierPrefix;if(Bi){var p=Wu,M=Bs;p=(M&~(1<<32-bi(M)-1)).toString(32)+p,u=":"+u+"R"+p,p=_p++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=i1++,u=":"+u+"r"+p.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},u1={readContext:Pl,useCallback:Qx,useContext:Pl,useEffect:_y,useImperativeHandle:Jx,useInsertionEffect:vg,useLayoutEffect:Zx,useMemo:Sy,useReducer:gg,useRef:Yx,useState:function(){return gg(nf)},useDebugValue:yg,useDeferredValue:function(s){var u=Xl();return Ey(u,Vo.memoizedState,s)},useTransition:function(){var s=gg(nf)[0],u=Xl().memoizedState;return[s,u]},useMutableSource:vy,useSyncExternalStore:Xx,useId:eb,unstable_isNewReconciler:!1},c1={readContext:Pl,useCallback:Qx,useContext:Pl,useEffect:_y,useImperativeHandle:Jx,useInsertionEffect:vg,useLayoutEffect:Zx,useMemo:Sy,useReducer:Sp,useRef:Yx,useState:function(){return Sp(nf)},useDebugValue:yg,useDeferredValue:function(s){var u=Xl();return Vo===null?u.memoizedState=s:Ey(u,Vo.memoizedState,s)},useTransition:function(){var s=Sp(nf)[0],u=Xl().memoizedState;return[s,u]},useMutableSource:vy,useSyncExternalStore:Xx,useId:eb,unstable_isNewReconciler:!1};function $l(s,u){if(s&&s.defaultProps){u=lt({},u),s=s.defaultProps;for(var p in s)u[p]===void 0&&(u[p]=s[p]);return u}return u}function Ay(s,u,p,M){u=s.memoizedState,p=p(M,u),p=p==null?u:lt({},u,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var wu={isMounted:function(s){return(s=s._reactInternals)?_s(s)===s:!1},enqueueSetState:function(s,u,p){s=s._reactInternals;var M=ba(),z=bh(s),V=Xu(M,z);V.payload=u,p!=null&&(V.callback=p),u=Rl(s,V,z),u!==null&&(Ha(u,s,z,M),el(u,s,z))},enqueueReplaceState:function(s,u,p){s=s._reactInternals;var M=ba(),z=bh(s),V=Xu(M,z);V.tag=1,V.payload=u,p!=null&&(V.callback=p),u=Rl(s,V,z),u!==null&&(Ha(u,s,z,M),el(u,s,z))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var p=ba(),M=bh(s),z=Xu(p,M);z.tag=2,u!=null&&(z.callback=u),u=Rl(s,z,M),u!==null&&(Ha(u,s,M,p),el(u,s,M))}};function Ec(s,u,p,M,z,V,ae){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(M,V,ae):u.prototype&&u.prototype.isPureReactComponent?!Pr(p,M)||!Pr(z,V):!0}function Ty(s,u,p){var M=!1,z=Rs,V=u.contextType;return typeof V=="object"&&V!==null?V=Pl(V):(z=co(u)?Cl:$n.current,M=u.contextTypes,V=(M=M!=null)?ch(s,z):Rs),u=new u(p,V),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=wu,s.stateNode=u,u._reactInternals=s,M&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=z,s.__reactInternalMemoizedMaskedChildContext=V),u}function rb(s,u,p,M){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,M),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,M),u.state!==s&&wu.enqueueReplaceState(u,u.state,null)}function Cy(s,u,p,M){var z=s.stateNode;z.props=p,z.state=s.memoizedState,z.refs={},dg(s);var V=u.contextType;typeof V=="object"&&V!==null?z.context=Pl(V):(V=co(u)?Cl:$n.current,z.context=ch(s,V)),z.state=s.memoizedState,V=u.getDerivedStateFromProps,typeof V=="function"&&(Ay(s,u,V,p),z.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(u=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),u!==z.state&&wu.enqueueReplaceState(z,z.state,null),vp(s,p,z,M),z.state=s.memoizedState),typeof z.componentDidMount=="function"&&(s.flags|=4194308)}function nd(s,u){try{var p="",M=u;do p+=Ut(M),M=M.return;while(M);var z=p}catch(V){z=`
Error generating stack: `+V.message+`
`+V.stack}return{value:s,source:u,stack:z,digest:null}}function sf(s,u,p){return{value:s,source:null,stack:p??null,digest:u??null}}function Zu(s,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var Ap=typeof WeakMap=="function"?WeakMap:Map;function Ly(s,u,p){p=Xu(-1,p),p.tag=3,p.payload={element:null};var M=u.value;return p.callback=function(){Np||(Np=!0,Qu=M),Zu(s,u)},p}function ib(s,u,p){p=Xu(-1,p),p.tag=3;var M=s.type.getDerivedStateFromError;if(typeof M=="function"){var z=u.value;p.payload=function(){return M(z)},p.callback=function(){Zu(s,u)}}var V=s.stateNode;return V!==null&&typeof V.componentDidCatch=="function"&&(p.callback=function(){Zu(s,u),typeof M!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var ae=u.stack;this.componentDidCatch(u.value,{componentStack:ae!==null?ae:""})}),p}function of(s,u,p){var M=s.pingCache;if(M===null){M=s.pingCache=new Ap;var z=new Set;M.set(u,z)}else z=M.get(u),z===void 0&&(z=new Set,M.set(u,z));z.has(p)||(z.add(p),s=zp.bind(null,s,u,p),u.then(s,s))}function bg(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function Tp(s,u,p,M,z){return s.mode&1?(s.flags|=65536,s.lanes=z,s):(s===u?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=Xu(-1,1),u.tag=2,Rl(p,u,1))),p.lanes|=1),s)}var wg=le.ReactCurrentOwner,za=!1;function gs(s,u,p,M){u.child=s===null?Vx(u,null,p,M):Qd(u,s.child,p,M)}function fh(s,u,p,M,z){p=p.render;var V=u.ref;return bu(u,z),M=my(s,u,p,M,V,z),p=gy(),s!==null&&!za?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~z,kl(s,u,z)):(Bi&&p&&eo(u),u.flags|=1,gs(s,u,M,z),u.child)}function Mc(s,u,p,M,z){if(s===null){var V=p.type;return typeof V=="function"&&!Dg(V)&&V.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=V,Ac(s,u,V,M,z)):(s=Mf(p.type,null,M,u,u.mode,z),s.ref=u.ref,s.return=u,u.child=s)}if(V=s.child,!(s.lanes&z)){var ae=V.memoizedProps;if(p=p.compare,p=p!==null?p:Pr,p(ae,M)&&s.ref===u.ref)return kl(s,u,z)}return u.flags|=1,s=Ic(V,M),s.ref=u.ref,s.return=u,u.child=s}function Ac(s,u,p,M,z){if(s!==null){var V=s.memoizedProps;if(Pr(V,M)&&s.ref===u.ref)if(za=!1,u.pendingProps=M=V,(s.lanes&z)!==0)s.flags&131072&&(za=!0);else return u.lanes=s.lanes,kl(s,u,z)}return ph(s,u,p,M,z)}function rd(s,u,p){var M=u.pendingProps,z=M.children,V=s!==null?s.memoizedState:null;if(M.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},$i(ld,tl),tl|=p;else{if(!(p&1073741824))return s=V!==null?V.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,$i(ld,tl),tl|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=V!==null?V.baseLanes:p,$i(ld,tl),tl|=M}else V!==null?(M=V.baseLanes|p,u.memoizedState=null):M=p,$i(ld,tl),tl|=M;return gs(s,u,z,p),u.child}function af(s,u){var p=u.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function ph(s,u,p,M,z){var V=co(p)?Cl:$n.current;return V=ch(u,V),bu(u,z),p=my(s,u,p,M,V,z),M=gy(),s!==null&&!za?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~z,kl(s,u,z)):(Bi&&M&&eo(u),u.flags|=1,gs(s,u,p,z),u.child)}function id(s,u,p,M,z){if(co(p)){var V=!0;Yd(u)}else V=!1;if(bu(u,z),u.stateNode===null)Pp(s,u),Ty(u,p,M),Cy(u,p,M,z),M=!0;else if(s===null){var ae=u.stateNode,Ae=u.memoizedProps;ae.props=Ae;var Ge=ae.context,xt=p.contextType;typeof xt=="object"&&xt!==null?xt=Pl(xt):(xt=co(p)?Cl:$n.current,xt=ch(u,xt));var sn=p.getDerivedStateFromProps,un=typeof sn=="function"||typeof ae.getSnapshotBeforeUpdate=="function";un||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(Ae!==M||Ge!==xt)&&rb(u,ae,M,xt),_c=!1;var Ot=u.memoizedState;ae.state=Ot,vp(u,M,ae,z),Ge=u.memoizedState,Ae!==M||Ot!==Ge||Ja.current||_c?(typeof sn=="function"&&(Ay(u,p,sn,M),Ge=u.memoizedState),(Ae=_c||Ec(u,p,Ae,M,Ot,Ge,xt))?(un||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(u.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=M,u.memoizedState=Ge),ae.props=M,ae.state=Ge,ae.context=xt,M=Ae):(typeof ae.componentDidMount=="function"&&(u.flags|=4194308),M=!1)}else{ae=u.stateNode,ly(s,u),Ae=u.memoizedProps,xt=u.type===u.elementType?Ae:$l(u.type,Ae),ae.props=xt,un=u.pendingProps,Ot=ae.context,Ge=p.contextType,typeof Ge=="object"&&Ge!==null?Ge=Pl(Ge):(Ge=co(p)?Cl:$n.current,Ge=ch(u,Ge));var Ln=p.getDerivedStateFromProps;(sn=typeof Ln=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(Ae!==un||Ot!==Ge)&&rb(u,ae,M,Ge),_c=!1,Ot=u.memoizedState,ae.state=Ot,vp(u,M,ae,z);var Fn=u.memoizedState;Ae!==un||Ot!==Fn||Ja.current||_c?(typeof Ln=="function"&&(Ay(u,p,Ln,M),Fn=u.memoizedState),(xt=_c||Ec(u,p,xt,M,Ot,Fn,Ge)||!1)?(sn||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(M,Fn,Ge),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(M,Fn,Ge)),typeof ae.componentDidUpdate=="function"&&(u.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof ae.componentDidUpdate!="function"||Ae===s.memoizedProps&&Ot===s.memoizedState||(u.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||Ae===s.memoizedProps&&Ot===s.memoizedState||(u.flags|=1024),u.memoizedProps=M,u.memoizedState=Fn),ae.props=M,ae.state=Fn,ae.context=Ge,M=xt):(typeof ae.componentDidUpdate!="function"||Ae===s.memoizedProps&&Ot===s.memoizedState||(u.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||Ae===s.memoizedProps&&Ot===s.memoizedState||(u.flags|=1024),M=!1)}return mh(s,u,p,M,V,z)}function mh(s,u,p,M,z,V){af(s,u);var ae=(u.flags&128)!==0;if(!M&&!ae)return z&&ag(u,p,!1),kl(s,u,V);M=u.stateNode,wg.current=u;var Ae=ae&&typeof p.getDerivedStateFromError!="function"?null:M.render();return u.flags|=1,s!==null&&ae?(u.child=Qd(u,s.child,null,V),u.child=Qd(u,null,Ae,V)):gs(s,u,Ae,V),u.memoizedState=M.state,z&&ag(u,p,!0),u.child}function lf(s){var u=s.stateNode;u.pendingContext?xc(s,u.pendingContext,u.pendingContext!==u.context):u.context&&xc(s,u.context,!1),uy(s,u.containerInfo)}function Py(s,u,p,M,z){return Na(),ny(z),u.flags|=256,gs(s,u,p,M),u.child}var uf={dehydrated:null,treeContext:null,retryLane:0};function sd(s){return{baseLanes:s,cachePool:null,transitions:null}}function Cp(s,u,p){var M=u.pendingProps,z=Xs.current,V=!1,ae=(u.flags&128)!==0,Ae;if((Ae=ae)||(Ae=s!==null&&s.memoizedState===null?!1:(z&2)!==0),Ae?(V=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(z|=1),$i(Xs,z&1),s===null)return ty(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(u.mode&1?s.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(ae=M.children,s=M.fallback,V?(M=u.mode,V=u.child,ae={mode:"hidden",children:ae},!(M&1)&&V!==null?(V.childLanes=0,V.pendingProps=ae):V=Af(ae,M,0,null),s=Sh(s,M,p,null),V.return=u,s.return=u,V.sibling=s,u.child=V,u.child.memoizedState=sd(p),u.memoizedState=uf,s):_g(u,ae));if(z=s.memoizedState,z!==null&&(Ae=z.dehydrated,Ae!==null))return sb(s,u,ae,M,Ae,z,p);if(V){V=M.fallback,ae=u.mode,z=s.child,Ae=z.sibling;var Ge={mode:"hidden",children:M.children};return!(ae&1)&&u.child!==z?(M=u.child,M.childLanes=0,M.pendingProps=Ge,u.deletions=null):(M=Ic(z,Ge),M.subtreeFlags=z.subtreeFlags&14680064),Ae!==null?V=Ic(Ae,V):(V=Sh(V,ae,p,null),V.flags|=2),V.return=u,M.return=u,M.sibling=V,u.child=M,M=V,V=u.child,ae=s.child.memoizedState,ae=ae===null?sd(p):{baseLanes:ae.baseLanes|p,cachePool:null,transitions:ae.transitions},V.memoizedState=ae,V.childLanes=s.childLanes&~p,u.memoizedState=uf,M}return V=s.child,s=V.sibling,M=Ic(V,{mode:"visible",children:M.children}),!(u.mode&1)&&(M.lanes=p),M.return=u,M.sibling=null,s!==null&&(p=u.deletions,p===null?(u.deletions=[s],u.flags|=16):p.push(s)),u.child=M,u.memoizedState=null,M}function _g(s,u){return u=Af({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function cf(s,u,p,M){return M!==null&&ny(M),Qd(u,s.child,null,p),s=_g(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function sb(s,u,p,M,z,V,ae){if(p)return u.flags&256?(u.flags&=-257,M=sf(Error(r(422))),cf(s,u,ae,M)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(V=M.fallback,z=u.mode,M=Af({mode:"visible",children:M.children},z,0,null),V=Sh(V,z,ae,null),V.flags|=2,M.return=u,V.return=u,M.sibling=V,u.child=M,u.mode&1&&Qd(u,s.child,null,ae),u.child.memoizedState=sd(ae),u.memoizedState=uf,V);if(!(u.mode&1))return cf(s,u,ae,null);if(z.data==="$!"){if(M=z.nextSibling&&z.nextSibling.dataset,M)var Ae=M.dgst;return M=Ae,V=Error(r(419)),M=sf(V,M,void 0),cf(s,u,ae,M)}if(Ae=(ae&s.childLanes)!==0,za||Ae){if(M=To,M!==null){switch(ae&-ae){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}z=z&(M.suspendedLanes|ae)?0:z,z!==0&&z!==V.retryLane&&(V.retryLane=z,qu(s,z),Ha(M,s,z,-1))}return kg(),M=sf(Error(r(421))),cf(s,u,ae,M)}return z.data==="$?"?(u.flags|=128,u.child=s.child,u=fb.bind(null,s),z._reactRetry=u,null):(s=V.treeContext,fo=zs(z.nextSibling),to=u,Bi=!0,Da=null,s!==null&&(Qa[Ia++]=Bs,Qa[Ia++]=Wu,Qa[Ia++]=ql,Bs=s.id,Wu=s.overflow,ql=u),u=_g(u,M.children),u.flags|=4096,u)}function hf(s,u,p){s.lanes|=u;var M=s.alternate;M!==null&&(M.lanes|=u),hh(s.return,u,p)}function df(s,u,p,M,z){var V=s.memoizedState;V===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:M,tail:p,tailMode:z}:(V.isBackwards=u,V.rendering=null,V.renderingStartTime=0,V.last=M,V.tail=p,V.tailMode=z)}function Lp(s,u,p){var M=u.pendingProps,z=M.revealOrder,V=M.tail;if(gs(s,u,M.children,p),M=Xs.current,M&2)M=M&1|2,u.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&hf(s,p,u);else if(s.tag===19)hf(s,p,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}M&=1}if($i(Xs,M),!(u.mode&1))u.memoizedState=null;else switch(z){case"forwards":for(p=u.child,z=null;p!==null;)s=p.alternate,s!==null&&fg(s)===null&&(z=p),p=p.sibling;p=z,p===null?(z=u.child,u.child=null):(z=p.sibling,p.sibling=null),df(u,!1,z,p,V);break;case"backwards":for(p=null,z=u.child,u.child=null;z!==null;){if(s=z.alternate,s!==null&&fg(s)===null){u.child=z;break}s=z.sibling,z.sibling=p,p=z,z=s}df(u,!0,p,null,V);break;case"together":df(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Pp(s,u){!(u.mode&1)&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function kl(s,u,p){if(s!==null&&(u.dependencies=s.dependencies),Lc|=u.lanes,!(p&u.childLanes))return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,p=Ic(s,s.pendingProps),u.child=p,p.return=u;s.sibling!==null;)s=s.sibling,p=p.sibling=Ic(s,s.pendingProps),p.return=u;p.sibling=null}return u.child}function ob(s,u,p){switch(u.tag){case 3:lf(u),Na();break;case 5:qx(u);break;case 1:co(u.type)&&Yd(u);break;case 4:uy(u,u.stateNode.containerInfo);break;case 10:var M=u.type._context,z=u.memoizedProps.value;$i(cg,M._currentValue),M._currentValue=z;break;case 13:if(M=u.memoizedState,M!==null)return M.dehydrated!==null?($i(Xs,Xs.current&1),u.flags|=128,null):p&u.child.childLanes?Cp(s,u,p):($i(Xs,Xs.current&1),s=kl(s,u,p),s!==null?s.sibling:null);$i(Xs,Xs.current&1);break;case 19:if(M=(p&u.childLanes)!==0,s.flags&128){if(M)return Lp(s,u,p);u.flags|=128}if(z=u.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),$i(Xs,Xs.current),M)break;return null;case 22:case 23:return u.lanes=0,rd(s,u,p)}return kl(s,u,p)}var Ry,Sg,ab,ky;Ry=function(s,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Sg=function(){},ab=function(s,u,p,M){var z=s.memoizedProps;if(z!==M){s=u.stateNode,ed($u.current);var V=null;switch(p){case"input":z=tn(s,z),M=tn(s,M),V=[];break;case"select":z=lt({},z,{value:void 0}),M=lt({},M,{value:void 0}),V=[];break;case"textarea":z=hr(s,z),M=hr(s,M),V=[];break;default:typeof z.onClick!="function"&&typeof M.onClick=="function"&&(s.onclick=zt)}Zi(p,M);var ae;p=null;for(xt in z)if(!M.hasOwnProperty(xt)&&z.hasOwnProperty(xt)&&z[xt]!=null)if(xt==="style"){var Ae=z[xt];for(ae in Ae)Ae.hasOwnProperty(ae)&&(p||(p={}),p[ae]="")}else xt!=="dangerouslySetInnerHTML"&&xt!=="children"&&xt!=="suppressContentEditableWarning"&&xt!=="suppressHydrationWarning"&&xt!=="autoFocus"&&(c.hasOwnProperty(xt)?V||(V=[]):(V=V||[]).push(xt,null));for(xt in M){var Ge=M[xt];if(Ae=z!=null?z[xt]:void 0,M.hasOwnProperty(xt)&&Ge!==Ae&&(Ge!=null||Ae!=null))if(xt==="style")if(Ae){for(ae in Ae)!Ae.hasOwnProperty(ae)||Ge&&Ge.hasOwnProperty(ae)||(p||(p={}),p[ae]="");for(ae in Ge)Ge.hasOwnProperty(ae)&&Ae[ae]!==Ge[ae]&&(p||(p={}),p[ae]=Ge[ae])}else p||(V||(V=[]),V.push(xt,p)),p=Ge;else xt==="dangerouslySetInnerHTML"?(Ge=Ge?Ge.__html:void 0,Ae=Ae?Ae.__html:void 0,Ge!=null&&Ae!==Ge&&(V=V||[]).push(xt,Ge)):xt==="children"?typeof Ge!="string"&&typeof Ge!="number"||(V=V||[]).push(xt,""+Ge):xt!=="suppressContentEditableWarning"&&xt!=="suppressHydrationWarning"&&(c.hasOwnProperty(xt)?(Ge!=null&&xt==="onScroll"&&Fe("scroll",s),V||Ae===Ge||(V=[])):(V=V||[]).push(xt,Ge))}p&&(V=V||[]).push("style",p);var xt=V;(u.updateQueue=xt)&&(u.flags|=4)}},ky=function(s,u,p,M){p!==M&&(u.flags|=4)};function Tc(s,u){if(!Bi)switch(s.tailMode){case"hidden":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var M=null;p!==null;)p.alternate!==null&&(M=p),p=p.sibling;M===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:M.sibling=null}}function Mo(s){var u=s.alternate!==null&&s.alternate.child===s.child,p=0,M=0;if(u)for(var z=s.child;z!==null;)p|=z.lanes|z.childLanes,M|=z.subtreeFlags&14680064,M|=z.flags&14680064,z.return=s,z=z.sibling;else for(z=s.child;z!==null;)p|=z.lanes|z.childLanes,M|=z.subtreeFlags,M|=z.flags,z.return=s,z=z.sibling;return s.subtreeFlags|=M,s.childLanes=p,u}function lb(s,u,p){var M=u.pendingProps;switch(wc(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mo(u),null;case 1:return co(u.type)&&yu(),Mo(u),null;case 3:return M=u.stateNode,tf(),gi(Ja),gi($n),dy(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(s===null||s.child===null)&&(ti(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Da!==null&&(Lg(Da),Da=null))),Sg(s,u),Mo(u),null;case 5:cy(u);var z=ed(bp.current);if(p=u.type,s!==null&&u.stateNode!=null)ab(s,u,p,M,z),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!M){if(u.stateNode===null)throw Error(r(166));return Mo(u),null}if(s=ed($u.current),ti(u)){M=u.stateNode,p=u.type;var V=u.memoizedProps;switch(M[ea]=u,M[vu]=V,s=(u.mode&1)!==0,p){case"dialog":Fe("cancel",M),Fe("close",M);break;case"iframe":case"object":case"embed":Fe("load",M);break;case"video":case"audio":for(z=0;z<de.length;z++)Fe(de[z],M);break;case"source":Fe("error",M);break;case"img":case"image":case"link":Fe("error",M),Fe("load",M);break;case"details":Fe("toggle",M);break;case"input":on(M,V),Fe("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!V.multiple},Fe("invalid",M);break;case"textarea":br(M,V),Fe("invalid",M)}Zi(p,V),z=null;for(var ae in V)if(V.hasOwnProperty(ae)){var Ae=V[ae];ae==="children"?typeof Ae=="string"?M.textContent!==Ae&&(V.suppressHydrationWarning!==!0&&Mn(M.textContent,Ae,s),z=["children",Ae]):typeof Ae=="number"&&M.textContent!==""+Ae&&(V.suppressHydrationWarning!==!0&&Mn(M.textContent,Ae,s),z=["children",""+Ae]):c.hasOwnProperty(ae)&&Ae!=null&&ae==="onScroll"&&Fe("scroll",M)}switch(p){case"input":bn(M),Gn(M,V,!0);break;case"textarea":bn(M),Vn(M);break;case"select":case"option":break;default:typeof V.onClick=="function"&&(M.onclick=zt)}M=z,u.updateQueue=M,M!==null&&(u.flags|=4)}else{ae=z.nodeType===9?z:z.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Nr(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=ae.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof M.is=="string"?s=ae.createElement(p,{is:M.is}):(s=ae.createElement(p),p==="select"&&(ae=s,M.multiple?ae.multiple=!0:M.size&&(ae.size=M.size))):s=ae.createElementNS(s,p),s[ea]=u,s[vu]=M,Ry(s,u,!1,!1),u.stateNode=s;e:{switch(ae=Sr(p,M),p){case"dialog":Fe("cancel",s),Fe("close",s),z=M;break;case"iframe":case"object":case"embed":Fe("load",s),z=M;break;case"video":case"audio":for(z=0;z<de.length;z++)Fe(de[z],s);z=M;break;case"source":Fe("error",s),z=M;break;case"img":case"image":case"link":Fe("error",s),Fe("load",s),z=M;break;case"details":Fe("toggle",s),z=M;break;case"input":on(s,M),z=tn(s,M),Fe("invalid",s);break;case"option":z=M;break;case"select":s._wrapperState={wasMultiple:!!M.multiple},z=lt({},M,{value:void 0}),Fe("invalid",s);break;case"textarea":br(s,M),z=hr(s,M),Fe("invalid",s);break;default:z=M}Zi(p,z),Ae=z;for(V in Ae)if(Ae.hasOwnProperty(V)){var Ge=Ae[V];V==="style"?xi(s,Ge):V==="dangerouslySetInnerHTML"?(Ge=Ge?Ge.__html:void 0,Ge!=null&&Zr(s,Ge)):V==="children"?typeof Ge=="string"?(p!=="textarea"||Ge!=="")&&Ir(s,Ge):typeof Ge=="number"&&Ir(s,""+Ge):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(c.hasOwnProperty(V)?Ge!=null&&V==="onScroll"&&Fe("scroll",s):Ge!=null&&oe(s,V,Ge,ae))}switch(p){case"input":bn(s),Gn(s,M,!1);break;case"textarea":bn(s),Vn(s);break;case"option":M.value!=null&&s.setAttribute("value",""+gt(M.value));break;case"select":s.multiple=!!M.multiple,V=M.value,V!=null?zn(s,!!M.multiple,V,!1):M.defaultValue!=null&&zn(s,!!M.multiple,M.defaultValue,!0);break;default:typeof z.onClick=="function"&&(s.onclick=zt)}switch(p){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Mo(u),null;case 6:if(s&&u.stateNode!=null)ky(s,u,s.memoizedProps,M);else{if(typeof M!="string"&&u.stateNode===null)throw Error(r(166));if(p=ed(bp.current),ed($u.current),ti(u)){if(M=u.stateNode,p=u.memoizedProps,M[ea]=u,(V=M.nodeValue!==p)&&(s=to,s!==null))switch(s.tag){case 3:Mn(M.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Mn(M.nodeValue,p,(s.mode&1)!==0)}V&&(u.flags|=4)}else M=(p.nodeType===9?p:p.ownerDocument).createTextNode(M),M[ea]=u,u.stateNode=M}return Mo(u),null;case 13:if(gi(Xs),M=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Bi&&fo!==null&&u.mode&1&&!(u.flags&128))Nn(),Na(),u.flags|=98560,V=!1;else if(V=ti(u),M!==null&&M.dehydrated!==null){if(s===null){if(!V)throw Error(r(318));if(V=u.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(r(317));V[ea]=u}else Na(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;Mo(u),V=!1}else Da!==null&&(Lg(Da),Da=null),V=!0;if(!V)return u.flags&65536?u:null}return u.flags&128?(u.lanes=p,u):(M=M!==null,M!==(s!==null&&s.memoizedState!==null)&&M&&(u.child.flags|=8192,u.mode&1&&(s===null||Xs.current&1?Co===0&&(Co=3):kg())),u.updateQueue!==null&&(u.flags|=4),Mo(u),null);case 4:return tf(),Sg(s,u),s===null&&Ct(u.stateNode.containerInfo),Mo(u),null;case 10:return sy(u.type._context),Mo(u),null;case 17:return co(u.type)&&yu(),Mo(u),null;case 19:if(gi(Xs),V=u.memoizedState,V===null)return Mo(u),null;if(M=(u.flags&128)!==0,ae=V.rendering,ae===null)if(M)Tc(V,!1);else{if(Co!==0||s!==null&&s.flags&128)for(s=u.child;s!==null;){if(ae=fg(s),ae!==null){for(u.flags|=128,Tc(V,!1),M=ae.updateQueue,M!==null&&(u.updateQueue=M,u.flags|=4),u.subtreeFlags=0,M=p,p=u.child;p!==null;)V=p,s=M,V.flags&=14680066,ae=V.alternate,ae===null?(V.childLanes=0,V.lanes=s,V.child=null,V.subtreeFlags=0,V.memoizedProps=null,V.memoizedState=null,V.updateQueue=null,V.dependencies=null,V.stateNode=null):(V.childLanes=ae.childLanes,V.lanes=ae.lanes,V.child=ae.child,V.subtreeFlags=0,V.deletions=null,V.memoizedProps=ae.memoizedProps,V.memoizedState=ae.memoizedState,V.updateQueue=ae.updateQueue,V.type=ae.type,s=ae.dependencies,V.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return $i(Xs,Xs.current&1|2),u.child}s=s.sibling}V.tail!==null&&Sn()>yh&&(u.flags|=128,M=!0,Tc(V,!1),u.lanes=4194304)}else{if(!M)if(s=fg(ae),s!==null){if(u.flags|=128,M=!0,p=s.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Tc(V,!0),V.tail===null&&V.tailMode==="hidden"&&!ae.alternate&&!Bi)return Mo(u),null}else 2*Sn()-V.renderingStartTime>yh&&p!==1073741824&&(u.flags|=128,M=!0,Tc(V,!1),u.lanes=4194304);V.isBackwards?(ae.sibling=u.child,u.child=ae):(p=V.last,p!==null?p.sibling=ae:u.child=ae,V.last=ae)}return V.tail!==null?(u=V.tail,V.rendering=u,V.tail=u.sibling,V.renderingStartTime=Sn(),u.sibling=null,p=Xs.current,$i(Xs,M?p&1|2:p&1),u):(Mo(u),null);case 22:case 23:return ud(),M=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==M&&(u.flags|=8192),M&&u.mode&1?tl&1073741824&&(Mo(u),u.subtreeFlags&6&&(u.flags|=8192)):Mo(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function h1(s,u){switch(wc(u),u.tag){case 1:return co(u.type)&&yu(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return tf(),gi(Ja),gi($n),dy(),s=u.flags,s&65536&&!(s&128)?(u.flags=s&-65537|128,u):null;case 5:return cy(u),null;case 13:if(gi(Xs),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Na()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return gi(Xs),null;case 4:return tf(),null;case 10:return sy(u.type._context),null;case 22:case 23:return ud(),null;case 24:return null;default:return null}}var gh=!1,ya=!1,ub=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function Ku(s,u){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(M){vs(s,u,M)}else p.current=null}function ff(s,u,p){try{p()}catch(M){vs(s,u,M)}}var ks=!1;function cb(s,u){if(Dr=kt,s=Ht(),st(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var M=p.getSelection&&p.getSelection();if(M&&M.rangeCount!==0){p=M.anchorNode;var z=M.anchorOffset,V=M.focusNode;M=M.focusOffset;try{p.nodeType,V.nodeType}catch{p=null;break e}var ae=0,Ae=-1,Ge=-1,xt=0,sn=0,un=s,Ot=null;t:for(;;){for(var Ln;un!==p||z!==0&&un.nodeType!==3||(Ae=ae+z),un!==V||M!==0&&un.nodeType!==3||(Ge=ae+M),un.nodeType===3&&(ae+=un.nodeValue.length),(Ln=un.firstChild)!==null;)Ot=un,un=Ln;for(;;){if(un===s)break t;if(Ot===p&&++xt===z&&(Ae=ae),Ot===V&&++sn===M&&(Ge=ae),(Ln=un.nextSibling)!==null)break;un=Ot,Ot=un.parentNode}un=Ln}p=Ae===-1||Ge===-1?null:{start:Ae,end:Ge}}else p=null}p=p||{start:0,end:0}}else p=null;for(Pi={focusedElem:s,selectionRange:p},kt=!1,Yn=u;Yn!==null;)if(u=Yn,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Yn=s;else for(;Yn!==null;){u=Yn;try{var Fn=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Fn!==null){var nr=Fn.memoizedProps,Ys=Fn.memoizedState,ht=u.stateNode,Ye=ht.getSnapshotBeforeUpdate(u.elementType===u.type?nr:$l(u.type,nr),Ys);ht.__reactInternalSnapshotBeforeUpdate=Ye}break;case 3:var mt=u.stateNode.containerInfo;mt.nodeType===1?mt.textContent="":mt.nodeType===9&&mt.documentElement&&mt.removeChild(mt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fn){vs(u,u.return,fn)}if(s=u.sibling,s!==null){s.return=u.return,Yn=s;break}Yn=u.return}return Fn=ks,ks=!1,Fn}function pf(s,u,p){var M=u.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var z=M=M.next;do{if((z.tag&s)===s){var V=z.destroy;z.destroy=void 0,V!==void 0&&ff(u,p,V)}z=z.next}while(z!==M)}}function Rp(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&s)===s){var M=p.create;p.destroy=M()}p=p.next}while(p!==u)}}function mf(s){var u=s.ref;if(u!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof u=="function"?u(s):u.current=s}}function kp(s){var u=s.alternate;u!==null&&(s.alternate=null,kp(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[ea],delete u[vu],delete u[Dn],delete u[hp],delete u[n1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ol(s){return s.tag===5||s.tag===3||s.tag===4}function Op(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ol(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function gf(s,u,p){var M=s.tag;if(M===5||M===6)s=s.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(s,u):p.insertBefore(s,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(s,p)):(u=p,u.appendChild(s)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=zt));else if(M!==4&&(s=s.child,s!==null))for(gf(s,u,p),s=s.sibling;s!==null;)gf(s,u,p),s=s.sibling}function xa(s,u,p){var M=s.tag;if(M===5||M===6)s=s.stateNode,u?p.insertBefore(s,u):p.appendChild(s);else if(M!==4&&(s=s.child,s!==null))for(xa(s,u,p),s=s.sibling;s!==null;)xa(s,u,p),s=s.sibling}var Ao=null,po=!1;function Cc(s,u,p){for(p=p.child;p!==null;)Eg(s,u,p),p=p.sibling}function Eg(s,u,p){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(kr,p)}catch{}switch(p.tag){case 5:ya||Ku(p,u);case 6:var M=Ao,z=po;Ao=null,Cc(s,u,p),Ao=M,po=z,Ao!==null&&(po?(s=Ao,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):Ao.removeChild(p.stateNode));break;case 18:Ao!==null&&(po?(s=Ao,p=p.stateNode,s.nodeType===8?Go(s.parentNode,p):s.nodeType===1&&Go(s,p),et(s)):Go(Ao,p.stateNode));break;case 4:M=Ao,z=po,Ao=p.stateNode.containerInfo,po=!0,Cc(s,u,p),Ao=M,po=z;break;case 0:case 11:case 14:case 15:if(!ya&&(M=p.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){z=M=M.next;do{var V=z,ae=V.destroy;V=V.tag,ae!==void 0&&(V&2||V&4)&&ff(p,u,ae),z=z.next}while(z!==M)}Cc(s,u,p);break;case 1:if(!ya&&(Ku(p,u),M=p.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=p.memoizedProps,M.state=p.memoizedState,M.componentWillUnmount()}catch(Ae){vs(p,u,Ae)}Cc(s,u,p);break;case 21:Cc(s,u,p);break;case 22:p.mode&1?(ya=(M=ya)||p.memoizedState!==null,Cc(s,u,p),ya=M):Cc(s,u,p);break;default:Cc(s,u,p)}}function Ip(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new ub),u.forEach(function(M){var z=Hy.bind(null,s,M);p.has(M)||(p.add(M),M.then(z,z))})}}function fl(s,u){var p=u.deletions;if(p!==null)for(var M=0;M<p.length;M++){var z=p[M];try{var V=s,ae=u,Ae=ae;e:for(;Ae!==null;){switch(Ae.tag){case 5:Ao=Ae.stateNode,po=!1;break e;case 3:Ao=Ae.stateNode.containerInfo,po=!0;break e;case 4:Ao=Ae.stateNode.containerInfo,po=!0;break e}Ae=Ae.return}if(Ao===null)throw Error(r(160));Eg(V,ae,z),Ao=null,po=!1;var Ge=z.alternate;Ge!==null&&(Ge.return=null),z.return=null}catch(xt){vs(z,u,xt)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)od(u,s),u=u.sibling}function od(s,u){var p=s.alternate,M=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(fl(u,s),Yl(s),M&4){try{pf(3,s,s.return),Rp(3,s)}catch(nr){vs(s,s.return,nr)}try{pf(5,s,s.return)}catch(nr){vs(s,s.return,nr)}}break;case 1:fl(u,s),Yl(s),M&512&&p!==null&&Ku(p,p.return);break;case 5:if(fl(u,s),Yl(s),M&512&&p!==null&&Ku(p,p.return),s.flags&32){var z=s.stateNode;try{Ir(z,"")}catch(nr){vs(s,s.return,nr)}}if(M&4&&(z=s.stateNode,z!=null)){var V=s.memoizedProps,ae=p!==null?p.memoizedProps:V,Ae=s.type,Ge=s.updateQueue;if(s.updateQueue=null,Ge!==null)try{Ae==="input"&&V.type==="radio"&&V.name!=null&&jt(z,V),Sr(Ae,ae);var xt=Sr(Ae,V);for(ae=0;ae<Ge.length;ae+=2){var sn=Ge[ae],un=Ge[ae+1];sn==="style"?xi(z,un):sn==="dangerouslySetInnerHTML"?Zr(z,un):sn==="children"?Ir(z,un):oe(z,sn,un,xt)}switch(Ae){case"input":$e(z,V);break;case"textarea":wr(z,V);break;case"select":var Ot=z._wrapperState.wasMultiple;z._wrapperState.wasMultiple=!!V.multiple;var Ln=V.value;Ln!=null?zn(z,!!V.multiple,Ln,!1):Ot!==!!V.multiple&&(V.defaultValue!=null?zn(z,!!V.multiple,V.defaultValue,!0):zn(z,!!V.multiple,V.multiple?[]:"",!1))}z[vu]=V}catch(nr){vs(s,s.return,nr)}}break;case 6:if(fl(u,s),Yl(s),M&4){if(s.stateNode===null)throw Error(r(162));z=s.stateNode,V=s.memoizedProps;try{z.nodeValue=V}catch(nr){vs(s,s.return,nr)}}break;case 3:if(fl(u,s),Yl(s),M&4&&p!==null&&p.memoizedState.isDehydrated)try{et(u.containerInfo)}catch(nr){vs(s,s.return,nr)}break;case 4:fl(u,s),Yl(s);break;case 13:fl(u,s),Yl(s),z=s.child,z.flags&8192&&(V=z.memoizedState!==null,z.stateNode.isHidden=V,!V||z.alternate!==null&&z.alternate.memoizedState!==null||(_f=Sn())),M&4&&Ip(s);break;case 22:if(sn=p!==null&&p.memoizedState!==null,s.mode&1?(ya=(xt=ya)||sn,fl(u,s),ya=xt):fl(u,s),Yl(s),M&8192){if(xt=s.memoizedState!==null,(s.stateNode.isHidden=xt)&&!sn&&s.mode&1)for(Yn=s,sn=s.child;sn!==null;){for(un=Yn=sn;Yn!==null;){switch(Ot=Yn,Ln=Ot.child,Ot.tag){case 0:case 11:case 14:case 15:pf(4,Ot,Ot.return);break;case 1:Ku(Ot,Ot.return);var Fn=Ot.stateNode;if(typeof Fn.componentWillUnmount=="function"){M=Ot,p=Ot.return;try{u=M,Fn.props=u.memoizedProps,Fn.state=u.memoizedState,Fn.componentWillUnmount()}catch(nr){vs(M,p,nr)}}break;case 5:Ku(Ot,Ot.return);break;case 22:if(Ot.memoizedState!==null){yf(un);continue}}Ln!==null?(Ln.return=Ot,Yn=Ln):yf(un)}sn=sn.sibling}e:for(sn=null,un=s;;){if(un.tag===5){if(sn===null){sn=un;try{z=un.stateNode,xt?(V=z.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none"):(Ae=un.stateNode,Ge=un.memoizedProps.style,ae=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null,Ae.style.display=Fr("display",ae))}catch(nr){vs(s,s.return,nr)}}}else if(un.tag===6){if(sn===null)try{un.stateNode.nodeValue=xt?"":un.memoizedProps}catch(nr){vs(s,s.return,nr)}}else if((un.tag!==22&&un.tag!==23||un.memoizedState===null||un===s)&&un.child!==null){un.child.return=un,un=un.child;continue}if(un===s)break e;for(;un.sibling===null;){if(un.return===null||un.return===s)break e;sn===un&&(sn=null),un=un.return}sn===un&&(sn=null),un.sibling.return=un.return,un=un.sibling}}break;case 19:fl(u,s),Yl(s),M&4&&Ip(s);break;case 21:break;default:fl(u,s),Yl(s)}}function Yl(s){var u=s.flags;if(u&2){try{e:{for(var p=s.return;p!==null;){if(Ol(p)){var M=p;break e}p=p.return}throw Error(r(160))}switch(M.tag){case 5:var z=M.stateNode;M.flags&32&&(Ir(z,""),M.flags&=-33);var V=Op(s);xa(s,V,z);break;case 3:case 4:var ae=M.stateNode.containerInfo,Ae=Op(s);gf(s,Ae,ae);break;default:throw Error(r(161))}}catch(Ge){vs(s,s.return,Ge)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function Oy(s,u,p){Yn=s,ad(s)}function ad(s,u,p){for(var M=(s.mode&1)!==0;Yn!==null;){var z=Yn,V=z.child;if(z.tag===22&&M){var ae=z.memoizedState!==null||gh;if(!ae){var Ae=z.alternate,Ge=Ae!==null&&Ae.memoizedState!==null||ya;Ae=gh;var xt=ya;if(gh=ae,(ya=Ge)&&!xt)for(Yn=z;Yn!==null;)ae=Yn,Ge=ae.child,ae.tag===22&&ae.memoizedState!==null?hb(z):Ge!==null?(Ge.return=ae,Yn=Ge):hb(z);for(;V!==null;)Yn=V,ad(V),V=V.sibling;Yn=z,gh=Ae,ya=xt}vf(s)}else z.subtreeFlags&8772&&V!==null?(V.return=z,Yn=V):vf(s)}}function vf(s){for(;Yn!==null;){var u=Yn;if(u.flags&8772){var p=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:ya||Rp(5,u);break;case 1:var M=u.stateNode;if(u.flags&4&&!ya)if(p===null)M.componentDidMount();else{var z=u.elementType===u.type?p.memoizedProps:$l(u.type,p.memoizedProps);M.componentDidUpdate(z,p.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var V=u.updateQueue;V!==null&&Wx(u,V,M);break;case 3:var ae=u.updateQueue;if(ae!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}Wx(u,ae,p)}break;case 5:var Ae=u.stateNode;if(p===null&&u.flags&4){p=Ae;var Ge=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Ge.autoFocus&&p.focus();break;case"img":Ge.src&&(p.src=Ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var xt=u.alternate;if(xt!==null){var sn=xt.memoizedState;if(sn!==null){var un=sn.dehydrated;un!==null&&et(un)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ya||u.flags&512&&mf(u)}catch(Ot){vs(u,u.return,Ot)}}if(u===s){Yn=null;break}if(p=u.sibling,p!==null){p.return=u.return,Yn=p;break}Yn=u.return}}function yf(s){for(;Yn!==null;){var u=Yn;if(u===s){Yn=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Yn=p;break}Yn=u.return}}function hb(s){for(;Yn!==null;){var u=Yn;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Rp(4,u)}catch(Ge){vs(u,p,Ge)}break;case 1:var M=u.stateNode;if(typeof M.componentDidMount=="function"){var z=u.return;try{M.componentDidMount()}catch(Ge){vs(u,z,Ge)}}var V=u.return;try{mf(u)}catch(Ge){vs(u,V,Ge)}break;case 5:var ae=u.return;try{mf(u)}catch(Ge){vs(u,ae,Ge)}}}catch(Ge){vs(u,u.return,Ge)}if(u===s){Yn=null;break}var Ae=u.sibling;if(Ae!==null){Ae.return=u.return,Yn=Ae;break}Yn=u.return}}var Ju=Math.ceil,xf=le.ReactCurrentDispatcher,bf=le.ReactCurrentOwner,ci=le.ReactCurrentBatchConfig,Mi=0,To=null,mo=null,go=0,tl=0,ld=Tl(0),Co=0,_u=null,Lc=0,Dp=0,wf=0,vh=null,Ba=null,_f=0,yh=1/0,Pc=null,Np=!1,Qu=null,Zl=null,Mg=!1,xh=null,Ag=0,Fp=0,Iy=null,Tg=-1,Cg=0;function ba(){return Mi&6?Sn():Tg!==-1?Tg:Tg=Sn()}function bh(s){return s.mode&1?Mi&2&&go!==0?go&-go:r1.transition!==null?(Cg===0&&(Cg=Do()),Cg):(s=Xr,s!==0||(s=window.event,s=s===void 0?16:U(s.type)),s):1}function Ha(s,u,p,M){if(50<Fp)throw Fp=0,Iy=null,Error(r(185));Ya(s,p,M),(!(Mi&2)||s!==To)&&(s===To&&(!(Mi&2)&&(Dp|=p),Co===4&&Su(s,go)),pl(s,M),p===1&&Mi===0&&!(u.mode&1)&&(yh=Sn()+500,Kh&&Ll()))}function pl(s,u){var p=s.callbackNode;lu(s,u);var M=Ti(s,s===To?go:0);if(M===0)p!==null&&dn(p),s.callbackNode=null,s.callbackPriority=0;else if(u=M&-M,s.callbackPriority!==u){if(p!=null&&dn(p),u===1)s.tag===0?Kd(Ef.bind(null,s)):Jh(Ef.bind(null,s)),Xn(function(){!(Mi&6)&&Ll()}),p=null;else{switch(ul(M)){case 1:p=ri;break;case 4:p=Br;break;case 16:p=Qr;break;case 536870912:p=pr;break;default:p=Qr}p=Ig(p,Hs.bind(null,s))}s.callbackPriority=u,s.callbackNode=p}}function Hs(s,u){if(Tg=-1,Cg=0,Mi&6)throw Error(r(327));var p=s.callbackNode;if(Oc()&&s.callbackNode!==p)return null;var M=Ti(s,s===To?go:0);if(M===0)return null;if(M&30||M&s.expiredLanes||u)u=_h(s,M);else{u=M;var z=Mi;Mi|=2;var V=Dy();(To!==s||go!==u)&&(Pc=null,yh=Sn()+500,Rc(s,u));do try{Ny();break}catch(Ae){ec(s,Ae)}while(!0);iy(),xf.current=V,Mi=z,mo!==null?u=0:(To=null,go=0,u=Co)}if(u!==0){if(u===2&&(z=Ws(s),z!==0&&(M=z,u=Sf(s,z))),u===1)throw p=_u,Rc(s,0),Su(s,M),pl(s,Sn()),p;if(u===6)Su(s,M);else{if(z=s.current.alternate,!(M&30)&&!Pg(z)&&(u=_h(s,M),u===2&&(V=Ws(s),V!==0&&(M=V,u=Sf(s,V))),u===1))throw p=_u,Rc(s,0),Su(s,M),pl(s,Sn()),p;switch(s.finishedWork=z,s.finishedLanes=M,u){case 0:case 1:throw Error(r(345));case 2:kc(s,Ba,Pc);break;case 3:if(Su(s,M),(M&130023424)===M&&(u=_f+500-Sn(),10<u)){if(Ti(s,0)!==0)break;if(z=s.suspendedLanes,(z&M)!==M){ba(),s.pingedLanes|=s.suspendedLanes&z;break}s.timeoutHandle=Ei(kc.bind(null,s,Ba,Pc),u);break}kc(s,Ba,Pc);break;case 4:if(Su(s,M),(M&4194240)===M)break;for(u=s.eventTimes,z=-1;0<M;){var ae=31-bi(M);V=1<<ae,ae=u[ae],ae>z&&(z=ae),M&=~V}if(M=z,M=Sn()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*Ju(M/1960))-M,10<M){s.timeoutHandle=Ei(kc.bind(null,s,Ba,Pc),M);break}kc(s,Ba,Pc);break;case 5:kc(s,Ba,Pc);break;default:throw Error(r(329))}}}return pl(s,Sn()),s.callbackNode===p?Hs.bind(null,s):null}function Sf(s,u){var p=vh;return s.current.memoizedState.isDehydrated&&(Rc(s,u).flags|=256),s=_h(s,u),s!==2&&(u=Ba,Ba=p,u!==null&&Lg(u)),s}function Lg(s){Ba===null?Ba=s:Ba.push.apply(Ba,s)}function Pg(s){for(var u=s;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var M=0;M<p.length;M++){var z=p[M],V=z.getSnapshot;z=z.value;try{if(!ps(V(),z))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Su(s,u){for(u&=~wf,u&=~Dp,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var p=31-bi(u),M=1<<p;s[p]=-1,u&=~M}}function Ef(s){if(Mi&6)throw Error(r(327));Oc();var u=Ti(s,0);if(!(u&1))return pl(s,Sn()),null;var p=_h(s,u);if(s.tag!==0&&p===2){var M=Ws(s);M!==0&&(u=M,p=Sf(s,M))}if(p===1)throw p=_u,Rc(s,0),Su(s,u),pl(s,Sn()),p;if(p===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,kc(s,Ba,Pc),pl(s,Sn()),null}function Rg(s,u){var p=Mi;Mi|=1;try{return s(u)}finally{Mi=p,Mi===0&&(yh=Sn()+500,Kh&&Ll())}}function wh(s){xh!==null&&xh.tag===0&&!(Mi&6)&&Oc();var u=Mi;Mi|=1;var p=ci.transition,M=Xr;try{if(ci.transition=null,Xr=1,s)return s()}finally{Xr=M,ci.transition=p,Mi=u,!(Mi&6)&&Ll()}}function ud(){tl=ld.current,gi(ld)}function Rc(s,u){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,Qn(p)),mo!==null)for(p=mo.return;p!==null;){var M=p;switch(wc(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&yu();break;case 3:tf(),gi(Ja),gi($n),dy();break;case 5:cy(M);break;case 4:tf();break;case 13:gi(Xs);break;case 19:gi(Xs);break;case 10:sy(M.type._context);break;case 22:case 23:ud()}p=p.return}if(To=s,mo=s=Ic(s.current,null),go=tl=u,Co=0,_u=null,wf=Dp=Lc=0,Ba=vh=null,Qh!==null){for(u=0;u<Qh.length;u++)if(p=Qh[u],M=p.interleaved,M!==null){p.interleaved=null;var z=M.next,V=p.pending;if(V!==null){var ae=V.next;V.next=z,M.next=ae}p.pending=M}Qh=null}return s}function ec(s,u){do{var p=mo;try{if(iy(),pg.current=xg,mg){for(var M=$s.memoizedState;M!==null;){var z=M.queue;z!==null&&(z.pending=null),M=M.next}mg=!1}if(td=0,ta=Vo=$s=null,wp=!1,_p=0,bf.current=null,p===null||p.return===null){Co=1,_u=u,mo=null;break}e:{var V=s,ae=p.return,Ae=p,Ge=u;if(u=go,Ae.flags|=32768,Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var xt=Ge,sn=Ae,un=sn.tag;if(!(sn.mode&1)&&(un===0||un===11||un===15)){var Ot=sn.alternate;Ot?(sn.updateQueue=Ot.updateQueue,sn.memoizedState=Ot.memoizedState,sn.lanes=Ot.lanes):(sn.updateQueue=null,sn.memoizedState=null)}var Ln=bg(ae);if(Ln!==null){Ln.flags&=-257,Tp(Ln,ae,Ae,V,u),Ln.mode&1&&of(V,xt,u),u=Ln,Ge=xt;var Fn=u.updateQueue;if(Fn===null){var nr=new Set;nr.add(Ge),u.updateQueue=nr}else Fn.add(Ge);break e}else{if(!(u&1)){of(V,xt,u),kg();break e}Ge=Error(r(426))}}else if(Bi&&Ae.mode&1){var Ys=bg(ae);if(Ys!==null){!(Ys.flags&65536)&&(Ys.flags|=256),Tp(Ys,ae,Ae,V,u),ny(nd(Ge,Ae));break e}}V=Ge=nd(Ge,Ae),Co!==4&&(Co=2),vh===null?vh=[V]:vh.push(V),V=ae;do{switch(V.tag){case 3:V.flags|=65536,u&=-u,V.lanes|=u;var ht=Ly(V,Ge,u);dl(V,ht);break e;case 1:Ae=Ge;var Ye=V.type,mt=V.stateNode;if(!(V.flags&128)&&(typeof Ye.getDerivedStateFromError=="function"||mt!==null&&typeof mt.componentDidCatch=="function"&&(Zl===null||!Zl.has(mt)))){V.flags|=65536,u&=-u,V.lanes|=u;var fn=ib(V,Ae,u);dl(V,fn);break e}}V=V.return}while(V!==null)}Fy(p)}catch(Xt){u=Xt,mo===p&&p!==null&&(mo=p=p.return);continue}break}while(!0)}function Dy(){var s=xf.current;return xf.current=xg,s===null?xg:s}function kg(){(Co===0||Co===3||Co===2)&&(Co=4),To===null||!(Lc&268435455)&&!(Dp&268435455)||Su(To,go)}function _h(s,u){var p=Mi;Mi|=2;var M=Dy();(To!==s||go!==u)&&(Pc=null,Rc(s,u));do try{d1();break}catch(z){ec(s,z)}while(!0);if(iy(),Mi=p,xf.current=M,mo!==null)throw Error(r(261));return To=null,go=0,Co}function d1(){for(;mo!==null;)Og(mo)}function Ny(){for(;mo!==null&&!Kn();)Og(mo)}function Og(s){var u=jy(s.alternate,s,tl);s.memoizedProps=s.pendingProps,u===null?Fy(s):mo=u,bf.current=null}function Fy(s){var u=s;do{var p=u.alternate;if(s=u.return,u.flags&32768){if(p=h1(p,u),p!==null){p.flags&=32767,mo=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Co=6,mo=null;return}}else if(p=lb(p,u,tl),p!==null){mo=p;return}if(u=u.sibling,u!==null){mo=u;return}mo=u=s}while(u!==null);Co===0&&(Co=5)}function kc(s,u,p){var M=Xr,z=ci.transition;try{ci.transition=null,Xr=1,db(s,u,p,M)}finally{ci.transition=z,Xr=M}return null}function db(s,u,p,M){do Oc();while(xh!==null);if(Mi&6)throw Error(r(327));p=s.finishedWork;var z=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var V=p.lanes|p.childLanes;if($o(s,V),s===To&&(mo=To=null,go=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||Mg||(Mg=!0,Ig(Qr,function(){return Oc(),null})),V=(p.flags&15990)!==0,p.subtreeFlags&15990||V){V=ci.transition,ci.transition=null;var ae=Xr;Xr=1;var Ae=Mi;Mi|=4,bf.current=null,cb(s,p),od(p,s),Zt(Pi),kt=!!Dr,Pi=Dr=null,s.current=p,Oy(p),Jr(),Mi=Ae,Xr=ae,ci.transition=V}else s.current=p;if(Mg&&(Mg=!1,xh=s,Ag=z),V=s.pendingLanes,V===0&&(Zl=null),ei(p.stateNode),pl(s,Sn()),u!==null)for(M=s.onRecoverableError,p=0;p<u.length;p++)z=u[p],M(z.value,{componentStack:z.stack,digest:z.digest});if(Np)throw Np=!1,s=Qu,Qu=null,s;return Ag&1&&s.tag!==0&&Oc(),V=s.pendingLanes,V&1?s===Iy?Fp++:(Fp=0,Iy=s):Fp=0,Ll(),null}function Oc(){if(xh!==null){var s=ul(Ag),u=ci.transition,p=Xr;try{if(ci.transition=null,Xr=16>s?16:s,xh===null)var M=!1;else{if(s=xh,xh=null,Ag=0,Mi&6)throw Error(r(331));var z=Mi;for(Mi|=4,Yn=s.current;Yn!==null;){var V=Yn,ae=V.child;if(Yn.flags&16){var Ae=V.deletions;if(Ae!==null){for(var Ge=0;Ge<Ae.length;Ge++){var xt=Ae[Ge];for(Yn=xt;Yn!==null;){var sn=Yn;switch(sn.tag){case 0:case 11:case 15:pf(8,sn,V)}var un=sn.child;if(un!==null)un.return=sn,Yn=un;else for(;Yn!==null;){sn=Yn;var Ot=sn.sibling,Ln=sn.return;if(kp(sn),sn===xt){Yn=null;break}if(Ot!==null){Ot.return=Ln,Yn=Ot;break}Yn=Ln}}}var Fn=V.alternate;if(Fn!==null){var nr=Fn.child;if(nr!==null){Fn.child=null;do{var Ys=nr.sibling;nr.sibling=null,nr=Ys}while(nr!==null)}}Yn=V}}if(V.subtreeFlags&2064&&ae!==null)ae.return=V,Yn=ae;else e:for(;Yn!==null;){if(V=Yn,V.flags&2048)switch(V.tag){case 0:case 11:case 15:pf(9,V,V.return)}var ht=V.sibling;if(ht!==null){ht.return=V.return,Yn=ht;break e}Yn=V.return}}var Ye=s.current;for(Yn=Ye;Yn!==null;){ae=Yn;var mt=ae.child;if(ae.subtreeFlags&2064&&mt!==null)mt.return=ae,Yn=mt;else e:for(ae=Ye;Yn!==null;){if(Ae=Yn,Ae.flags&2048)try{switch(Ae.tag){case 0:case 11:case 15:Rp(9,Ae)}}catch(Xt){vs(Ae,Ae.return,Xt)}if(Ae===ae){Yn=null;break e}var fn=Ae.sibling;if(fn!==null){fn.return=Ae.return,Yn=fn;break e}Yn=Ae.return}}if(Mi=z,Ll(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(kr,s)}catch{}M=!0}return M}finally{Xr=p,ci.transition=u}}return!1}function zy(s,u,p){u=nd(p,u),u=Ly(s,u,1),s=Rl(s,u,1),u=ba(),s!==null&&(Ya(s,1,u),pl(s,u))}function vs(s,u,p){if(s.tag===3)zy(s,s,p);else for(;u!==null;){if(u.tag===3){zy(u,s,p);break}else if(u.tag===1){var M=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Zl===null||!Zl.has(M))){s=nd(p,s),s=ib(u,s,1),u=Rl(u,s,1),s=ba(),u!==null&&(Ya(u,1,s),pl(u,s));break}}u=u.return}}function zp(s,u,p){var M=s.pingCache;M!==null&&M.delete(u),u=ba(),s.pingedLanes|=s.suspendedLanes&p,To===s&&(go&p)===p&&(Co===4||Co===3&&(go&130023424)===go&&500>Sn()-_f?Rc(s,0):wf|=p),pl(s,u)}function By(s,u){u===0&&(s.mode&1?(u=Fi,Fi<<=1,!(Fi&130023424)&&(Fi=4194304)):u=1);var p=ba();s=qu(s,u),s!==null&&(Ya(s,u,p),pl(s,p))}function fb(s){var u=s.memoizedState,p=0;u!==null&&(p=u.retryLane),By(s,p)}function Hy(s,u){var p=0;switch(s.tag){case 13:var M=s.stateNode,z=s.memoizedState;z!==null&&(p=z.retryLane);break;case 19:M=s.stateNode;break;default:throw Error(r(314))}M!==null&&M.delete(u),By(s,p)}var jy;jy=function(s,u,p){if(s!==null)if(s.memoizedProps!==u.pendingProps||Ja.current)za=!0;else{if(!(s.lanes&p)&&!(u.flags&128))return za=!1,ob(s,u,p);za=!!(s.flags&131072)}else za=!1,Bi&&u.flags&1048576&&xu(u,fp,u.index);switch(u.lanes=0,u.tag){case 2:var M=u.type;Pp(s,u),s=u.pendingProps;var z=ch(u,$n.current);bu(u,p),z=my(null,u,M,s,z,p);var V=gy();return u.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,co(M)?(V=!0,Yd(u)):V=!1,u.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,dg(u),z.updater=wu,u.stateNode=z,z._reactInternals=u,Cy(u,M,s,p),u=mh(null,u,M,!0,V,p)):(u.tag=0,Bi&&V&&eo(u),gs(null,u,z,p),u=u.child),u;case 16:M=u.elementType;e:{switch(Pp(s,u),s=u.pendingProps,z=M._init,M=z(M._payload),u.type=M,z=u.tag=Gy(M),s=$l(M,s),z){case 0:u=ph(null,u,M,s,p);break e;case 1:u=id(null,u,M,s,p);break e;case 11:u=fh(null,u,M,s,p);break e;case 14:u=Mc(null,u,M,$l(M.type,s),p);break e}throw Error(r(306,M,""))}return u;case 0:return M=u.type,z=u.pendingProps,z=u.elementType===M?z:$l(M,z),ph(s,u,M,z,p);case 1:return M=u.type,z=u.pendingProps,z=u.elementType===M?z:$l(M,z),id(s,u,M,z,p);case 3:e:{if(lf(u),s===null)throw Error(r(387));M=u.pendingProps,V=u.memoizedState,z=V.element,ly(s,u),vp(u,M,null,p);var ae=u.memoizedState;if(M=ae.element,V.isDehydrated)if(V={element:M,isDehydrated:!1,cache:ae.cache,pendingSuspenseBoundaries:ae.pendingSuspenseBoundaries,transitions:ae.transitions},u.updateQueue.baseState=V,u.memoizedState=V,u.flags&256){z=nd(Error(r(423)),u),u=Py(s,u,M,p,z);break e}else if(M!==z){z=nd(Error(r(424)),u),u=Py(s,u,M,p,z);break e}else for(fo=zs(u.stateNode.containerInfo.firstChild),to=u,Bi=!0,Da=null,p=Vx(u,null,M,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Na(),M===z){u=kl(s,u,p);break e}gs(s,u,M,p)}u=u.child}return u;case 5:return qx(u),s===null&&ty(u),M=u.type,z=u.pendingProps,V=s!==null?s.memoizedProps:null,ae=z.children,yn(M,z)?ae=null:V!==null&&yn(M,V)&&(u.flags|=32),af(s,u),gs(s,u,ae,p),u.child;case 6:return s===null&&ty(u),null;case 13:return Cp(s,u,p);case 4:return uy(u,u.stateNode.containerInfo),M=u.pendingProps,s===null?u.child=Qd(u,null,M,p):gs(s,u,M,p),u.child;case 11:return M=u.type,z=u.pendingProps,z=u.elementType===M?z:$l(M,z),fh(s,u,M,z,p);case 7:return gs(s,u,u.pendingProps,p),u.child;case 8:return gs(s,u,u.pendingProps.children,p),u.child;case 12:return gs(s,u,u.pendingProps.children,p),u.child;case 10:e:{if(M=u.type._context,z=u.pendingProps,V=u.memoizedProps,ae=z.value,$i(cg,M._currentValue),M._currentValue=ae,V!==null)if(ps(V.value,ae)){if(V.children===z.children&&!Ja.current){u=kl(s,u,p);break e}}else for(V=u.child,V!==null&&(V.return=u);V!==null;){var Ae=V.dependencies;if(Ae!==null){ae=V.child;for(var Ge=Ae.firstContext;Ge!==null;){if(Ge.context===M){if(V.tag===1){Ge=Xu(-1,p&-p),Ge.tag=2;var xt=V.updateQueue;if(xt!==null){xt=xt.shared;var sn=xt.pending;sn===null?Ge.next=Ge:(Ge.next=sn.next,sn.next=Ge),xt.pending=Ge}}V.lanes|=p,Ge=V.alternate,Ge!==null&&(Ge.lanes|=p),hh(V.return,p,u),Ae.lanes|=p;break}Ge=Ge.next}}else if(V.tag===10)ae=V.type===u.type?null:V.child;else if(V.tag===18){if(ae=V.return,ae===null)throw Error(r(341));ae.lanes|=p,Ae=ae.alternate,Ae!==null&&(Ae.lanes|=p),hh(ae,p,u),ae=V.sibling}else ae=V.child;if(ae!==null)ae.return=V;else for(ae=V;ae!==null;){if(ae===u){ae=null;break}if(V=ae.sibling,V!==null){V.return=ae.return,ae=V;break}ae=ae.return}V=ae}gs(s,u,z.children,p),u=u.child}return u;case 9:return z=u.type,M=u.pendingProps.children,bu(u,p),z=Pl(z),M=M(z),u.flags|=1,gs(s,u,M,p),u.child;case 14:return M=u.type,z=$l(M,u.pendingProps),z=$l(M.type,z),Mc(s,u,M,z,p);case 15:return Ac(s,u,u.type,u.pendingProps,p);case 17:return M=u.type,z=u.pendingProps,z=u.elementType===M?z:$l(M,z),Pp(s,u),u.tag=1,co(M)?(s=!0,Yd(u)):s=!1,bu(u,p),Ty(u,M,z),Cy(u,M,z,p),mh(null,u,M,!0,s,p);case 19:return Lp(s,u,p);case 22:return rd(s,u,p)}throw Error(r(156,u.tag))};function Ig(s,u){return pn(s,u)}function Uy(s,u,p,M){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nl(s,u,p,M){return new Uy(s,u,p,M)}function Dg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Gy(s){if(typeof s=="function")return Dg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Ke)return 11;if(s===ft)return 14}return 2}function Ic(s,u){var p=s.alternate;return p===null?(p=nl(s.tag,u,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=u,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,u=s.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Mf(s,u,p,M,z,V){var ae=2;if(M=s,typeof s=="function")Dg(s)&&(ae=1);else if(typeof s=="string")ae=5;else e:switch(s){case Pe:return Sh(p.children,z,V,u);case P:ae=8,z|=8;break;case We:return s=nl(12,p,u,z|2),s.elementType=We,s.lanes=V,s;case Ze:return s=nl(13,p,u,z),s.elementType=Ze,s.lanes=V,s;case Xe:return s=nl(19,p,u,z),s.elementType=Xe,s.lanes=V,s;case Qe:return Af(p,z,V,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case tt:ae=10;break e;case dt:ae=9;break e;case Ke:ae=11;break e;case ft:ae=14;break e;case Be:ae=16,M=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return u=nl(ae,p,u,z),u.elementType=s,u.type=M,u.lanes=V,u}function Sh(s,u,p,M){return s=nl(7,s,M,u),s.lanes=p,s}function Af(s,u,p,M){return s=nl(22,s,M,u),s.elementType=Qe,s.lanes=p,s.stateNode={isHidden:!1},s}function Ng(s,u,p){return s=nl(6,s,null,u),s.lanes=p,s}function Bp(s,u,p){return u=nl(4,s.children!==null?s.children:[],s.key,u),u.lanes=p,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function pb(s,u,p,M,z){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=La(0),this.expirationTimes=La(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.identifierPrefix=M,this.onRecoverableError=z,this.mutableSourceEagerHydrationData=null}function Hp(s,u,p,M,z,V,ae,Ae,Ge){return s=new pb(s,u,p,Ae,Ge),u===1?(u=1,V===!0&&(u|=8)):u=0,V=nl(3,null,null,u),s.current=V,V.stateNode=s,V.memoizedState={element:M,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},dg(V),s}function mb(s,u,p){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:be,key:M==null?null:""+M,children:s,containerInfo:u,implementation:p}}function Fg(s){if(!s)return Rs;s=s._reactInternals;e:{if(_s(s)!==s||s.tag!==1)throw Error(r(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(co(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(s.tag===1){var p=s.type;if(co(p))return og(s,p,u)}return u}function ja(s,u,p,M,z,V,ae,Ae,Ge){return s=Hp(p,M,!0,s,z,V,ae,Ae,Ge),s.context=Fg(null),p=s.current,M=ba(),z=bh(p),V=Xu(M,z),V.callback=u??null,Rl(p,V,z),s.current.lanes=z,Ya(s,z,M),pl(s,M),s}function tc(s,u,p,M){var z=u.current,V=ba(),ae=bh(z);return p=Fg(p),u.context===null?u.context=p:u.pendingContext=p,u=Xu(V,ae),u.payload={element:s},M=M===void 0?null:M,M!==null&&(u.callback=M),s=Rl(z,u,ae),s!==null&&(Ha(s,z,ae,V),el(s,z,ae)),ae}function Kl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Eu(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<u?p:u}}function nc(s,u){Eu(s,u),(s=s.alternate)&&Eu(s,u)}function Eh(){return null}var Mh=typeof reportError=="function"?reportError:function(s){console.error(s)};function Dc(s){this._internalRoot=s}rc.prototype.render=Dc.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));tc(s,u,null,null)},rc.prototype.unmount=Dc.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;wh(function(){tc(null,s,null,null)}),u[Al]=null}};function rc(s){this._internalRoot=s}rc.prototype.unstable_scheduleHydration=function(s){if(s){var u=Yo();s={blockedOn:null,target:s,priority:u};for(var p=0;p<Es.length&&u!==0&&u<Es[p].priority;p++);Es.splice(p,0,s),p===0&&Ml(s)}};function Nc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ic(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function gb(){}function Os(s,u,p,M,z){if(z){if(typeof M=="function"){var V=M;M=function(){var xt=Kl(ae);V.call(xt)}}var ae=ja(u,M,s,0,null,!1,!1,"",gb);return s._reactRootContainer=ae,s[Al]=ae.current,Ct(s.nodeType===8?s.parentNode:s),wh(),ae}for(;z=s.lastChild;)s.removeChild(z);if(typeof M=="function"){var Ae=M;M=function(){var xt=Kl(Ge);Ae.call(xt)}}var Ge=Hp(s,0,!1,null,null,!1,!1,"",gb);return s._reactRootContainer=Ge,s[Al]=Ge.current,Ct(s.nodeType===8?s.parentNode:s),wh(function(){tc(u,Ge,p,M)}),Ge}function Ua(s,u,p,M,z){var V=p._reactRootContainer;if(V){var ae=V;if(typeof z=="function"){var Ae=z;z=function(){var Ge=Kl(ae);Ae.call(Ge)}}tc(u,ae,s,z)}else ae=Os(p,u,s,z,M);return Kl(ae)}Ds=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var p=Vs(u.pendingLanes);p!==0&&(No(u,p|1),pl(u,Sn()),!(Mi&6)&&(yh=Sn()+500,Ll()))}break;case 13:wh(function(){var M=qu(s,1);if(M!==null){var z=ba();Ha(M,s,1,z)}}),nc(s,1)}},Fo=function(s){if(s.tag===13){var u=qu(s,134217728);if(u!==null){var p=ba();Ha(u,s,134217728,p)}nc(s,134217728)}},Rr=function(s){if(s.tag===13){var u=bh(s),p=qu(s,u);if(p!==null){var M=ba();Ha(p,s,u,M)}nc(s,u)}},Yo=function(){return Xr},Pa=function(s,u){var p=Xr;try{return Xr=s,u()}finally{Xr=p}},Gs=function(s,u,p){switch(u){case"input":if($e(s,p),u=p.name,p.type==="radio"&&u!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var M=p[u];if(M!==s&&M.form===s.form){var z=sg(M);if(!z)throw Error(r(90));cr(M),$e(M,z)}}}break;case"textarea":wr(s,p);break;case"select":u=p.value,u!=null&&zn(s,!!p.multiple,u,!1)}},ts=Rg,Ls=wh;var zg={usingClientEntryPoint:!1,Events:[dp,Gu,sg,ls,Ui,Rg]},Fc={findFiberByHostInstance:lh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bg={bundleType:Fc.bundleType,version:Fc.version,rendererPackageName:Fc.rendererPackageName,rendererConfig:Fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=it(s),s===null?null:s.stateNode},findFiberByHostInstance:Fc.findFiberByHostInstance||Eh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{kr=Lo.inject(Bg),jr=Lo}catch{}}return eu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zg,eu.createPortal=function(s,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nc(u))throw Error(r(200));return mb(s,u,null,p)},eu.createRoot=function(s,u){if(!Nc(s))throw Error(r(299));var p=!1,M="",z=Mh;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(M=u.identifierPrefix),u.onRecoverableError!==void 0&&(z=u.onRecoverableError)),u=Hp(s,1,!1,null,null,p,!1,M,z),s[Al]=u.current,Ct(s.nodeType===8?s.parentNode:s),new Dc(u)},eu.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=it(u),s=s===null?null:s.stateNode,s},eu.flushSync=function(s){return wh(s)},eu.hydrate=function(s,u,p){if(!ic(u))throw Error(r(200));return Ua(null,s,u,!0,p)},eu.hydrateRoot=function(s,u,p){if(!Nc(s))throw Error(r(405));var M=p!=null&&p.hydratedSources||null,z=!1,V="",ae=Mh;if(p!=null&&(p.unstable_strictMode===!0&&(z=!0),p.identifierPrefix!==void 0&&(V=p.identifierPrefix),p.onRecoverableError!==void 0&&(ae=p.onRecoverableError)),u=ja(u,null,s,1,p??null,z,!1,V,ae),s[Al]=u.current,Ct(s),M)for(s=0;s<M.length;s++)p=M[s],z=p._getVersion,z=z(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,z]:u.mutableSourceEagerHydrationData.push(p,z);return new rc(u)},eu.render=function(s,u,p){if(!ic(u))throw Error(r(200));return Ua(null,s,u,!1,p)},eu.unmountComponentAtNode=function(s){if(!ic(s))throw Error(r(40));return s._reactRootContainer?(wh(function(){Ua(null,null,s,!1,function(){s._reactRootContainer=null,s[Al]=null})}),!0):!1},eu.unstable_batchedUpdates=Rg,eu.unstable_renderSubtreeIntoContainer=function(s,u,p,M){if(!ic(p))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Ua(s,u,p,!1,M)},eu.version="18.3.1-next-f1338f8080-20240426",eu}var VE;function x2(){if(VE)return V1.exports;VE=1;function A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A)}catch(n){console.error(n)}}return A(),V1.exports=y2(),V1.exports}var WE;function b2(){if(WE)return Fb;WE=1;var A=x2();return Fb.createRoot=A.createRoot,Fb.hydrateRoot=A.hydrateRoot,Fb}var w2=b2(),X1,qE;function _2(){return qE||(qE=1,X1=function(A){var n={};function r(a){if(n[a])return n[a].exports;var c=n[a]={i:a,l:!1,exports:{}};return A[a].call(c.exports,c,c.exports,r),c.l=!0,c.exports}return r.m=A,r.c=n,r.d=function(a,c,h){r.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:h})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,c){if(1&c&&(a=r(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var h=Object.create(null);if(r.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var f in a)r.d(h,f,(function(m){return a[m]}).bind(null,f));return h},r.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(c,"a",c),c},r.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},r.p="",r(r.s=24)}([function(A,n){A.exports=Uw()},function(A,n,r){r.r(n),(function(a){r.d(n,"ServerStyleSheet",function(){return us}),r.d(n,"StyleSheetConsumer",function(){return br}),r.d(n,"StyleSheetContext",function(){return hr}),r.d(n,"StyleSheetManager",function(){return Zr}),r.d(n,"ThemeConsumer",function(){return Ca}),r.d(n,"ThemeContext",function(){return Kr}),r.d(n,"ThemeProvider",function(){return la}),r.d(n,"__PRIVATE__",function(){return _s}),r.d(n,"createGlobalStyle",function(){return mi}),r.d(n,"css",function(){return ai}),r.d(n,"isStyledComponent",function(){return Se}),r.d(n,"keyframes",function(){return Ki}),r.d(n,"useTheme",function(){return Ks}),r.d(n,"version",function(){return Pe}),r.d(n,"withTheme",function(){return jl});var c=r(11),h=r(0),f=r.n(h),m=r(21),b=r.n(m),_=r(22),E=r(23),T=r(13),k=r(12),G=r.n(k);function q(){return(q=Object.assign||function(He){for(var yt=1;yt<arguments.length;yt++){var je=arguments[yt];for(var it in je)Object.prototype.hasOwnProperty.call(je,it)&&(He[it]=je[it])}return He}).apply(this,arguments)}var X=function(He,yt){for(var je=[He[0]],it=0,Yt=yt.length;it<Yt;it+=1)je.push(yt[it],He[it+1]);return je},Y=function(He){return He!==null&&typeof He=="object"&&(He.toString?He.toString():Object.prototype.toString.call(He))==="[object Object]"&&!Object(c.typeOf)(He)},W=Object.freeze([]),ne=Object.freeze({});function oe(He){return typeof He=="function"}function le(He){return He.displayName||He.name||"Component"}function Se(He){return He&&typeof He.styledComponentId=="string"}var be=a!==void 0&&(a.env.REACT_APP_SC_ATTR||a.env.SC_ATTR)||"data-styled",Pe="5.2.1",P=typeof window<"u"&&"HTMLElement"in window,We=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:a!==void 0&&a.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&a.env.REACT_APP_SC_DISABLE_SPEEDY!==""?a.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&a.env.REACT_APP_SC_DISABLE_SPEEDY:a!==void 0&&a.env.SC_DISABLE_SPEEDY!==void 0&&a.env.SC_DISABLE_SPEEDY!==""&&a.env.SC_DISABLE_SPEEDY!=="false"&&a.env.SC_DISABLE_SPEEDY),tt={};function dt(He){for(var yt=arguments.length,je=new Array(yt>1?yt-1:0),it=1;it<yt;it++)je[it-1]=arguments[it];throw new Error("An error occurred. See https://git.io/JUIaE#"+He+" for more information."+(je.length>0?" Args: "+je.join(", "):""))}var Ke=function(){function He(je){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=je}var yt=He.prototype;return yt.indexOfGroup=function(je){for(var it=0,Yt=0;Yt<je;Yt++)it+=this.groupSizes[Yt];return it},yt.insertRules=function(je,it){if(je>=this.groupSizes.length){for(var Yt=this.groupSizes,pn=Yt.length,dn=pn;je>=dn;)(dn<<=1)<0&&dt(16,""+je);this.groupSizes=new Uint32Array(dn),this.groupSizes.set(Yt),this.length=dn;for(var Kn=pn;Kn<dn;Kn++)this.groupSizes[Kn]=0}for(var Jr=this.indexOfGroup(je+1),Sn=0,Mr=it.length;Sn<Mr;Sn++)this.tag.insertRule(Jr,it[Sn])&&(this.groupSizes[je]++,Jr++)},yt.clearGroup=function(je){if(je<this.length){var it=this.groupSizes[je],Yt=this.indexOfGroup(je),pn=Yt+it;this.groupSizes[je]=0;for(var dn=Yt;dn<pn;dn++)this.tag.deleteRule(Yt)}},yt.getGroup=function(je){var it="";if(je>=this.length||this.groupSizes[je]===0)return it;for(var Yt=this.groupSizes[je],pn=this.indexOfGroup(je),dn=pn+Yt,Kn=pn;Kn<dn;Kn++)it+=this.tag.getRule(Kn)+`/*!sc*/
`;return it},He}(),Ze=new Map,Xe=new Map,ft=1,Be=function(He){if(Ze.has(He))return Ze.get(He);for(;Xe.has(ft);)ft++;var yt=ft++;return Ze.set(He,yt),Xe.set(yt,He),yt},Qe=function(He){return Xe.get(He)},Ue=function(He,yt){Ze.set(He,yt),Xe.set(yt,He)},te="style["+be+'][data-styled-version="5.2.1"]',lt=new RegExp("^"+be+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),_e=function(He,yt,je){for(var it,Yt=je.split(","),pn=0,dn=Yt.length;pn<dn;pn++)(it=Yt[pn])&&He.registerName(yt,it)},ke=function(He,yt){for(var je=yt.innerHTML.split(`/*!sc*/
`),it=[],Yt=0,pn=je.length;Yt<pn;Yt++){var dn=je[Yt].trim();if(dn){var Kn=dn.match(lt);if(Kn){var Jr=0|parseInt(Kn[1],10),Sn=Kn[2];Jr!==0&&(Ue(Sn,Jr),_e(He,Sn,Kn[3]),He.getTag().insertRules(Jr,it)),it.length=0}else it.push(dn)}}},rt=function(){return r.nc},St=function(He){var yt=document.head,je=He||yt,it=document.createElement("style"),Yt=function(Kn){for(var Jr=Kn.childNodes,Sn=Jr.length;Sn>=0;Sn--){var Mr=Jr[Sn];if(Mr&&Mr.nodeType===1&&Mr.hasAttribute(be))return Mr}}(je),pn=Yt!==void 0?Yt.nextSibling:null;it.setAttribute(be,"active"),it.setAttribute("data-styled-version","5.2.1");var dn=rt();return dn&&it.setAttribute("nonce",dn),je.insertBefore(it,pn),it},Ut=function(){function He(je){var it=this.element=St(je);it.appendChild(document.createTextNode("")),this.sheet=function(Yt){if(Yt.sheet)return Yt.sheet;for(var pn=document.styleSheets,dn=0,Kn=pn.length;dn<Kn;dn++){var Jr=pn[dn];if(Jr.ownerNode===Yt)return Jr}dt(17)}(it),this.length=0}var yt=He.prototype;return yt.insertRule=function(je,it){try{return this.sheet.insertRule(it,je),this.length++,!0}catch{return!1}},yt.deleteRule=function(je){this.sheet.deleteRule(je),this.length--},yt.getRule=function(je){var it=this.sheet.cssRules[je];return it!==void 0&&typeof it.cssText=="string"?it.cssText:""},He}(),we=function(){function He(je){var it=this.element=St(je);this.nodes=it.childNodes,this.length=0}var yt=He.prototype;return yt.insertRule=function(je,it){if(je<=this.length&&je>=0){var Yt=document.createTextNode(it),pn=this.nodes[je];return this.element.insertBefore(Yt,pn||null),this.length++,!0}return!1},yt.deleteRule=function(je){this.element.removeChild(this.nodes[je]),this.length--},yt.getRule=function(je){return je<this.length?this.nodes[je].textContent:""},He}(),Pt=function(){function He(je){this.rules=[],this.length=0}var yt=He.prototype;return yt.insertRule=function(je,it){return je<=this.length&&(this.rules.splice(je,0,it),this.length++,!0)},yt.deleteRule=function(je){this.rules.splice(je,1),this.length--},yt.getRule=function(je){return je<this.length?this.rules[je]:""},He}(),gt=P,Le={isServer:!P,useCSSOMInjection:!We},Bt=function(){function He(je,it,Yt){je===void 0&&(je=ne),it===void 0&&(it={}),this.options=q({},Le,{},je),this.gs=it,this.names=new Map(Yt),!this.options.isServer&&P&&gt&&(gt=!1,function(pn){for(var dn=document.querySelectorAll(te),Kn=0,Jr=dn.length;Kn<Jr;Kn++){var Sn=dn[Kn];Sn&&Sn.getAttribute(be)!=="active"&&(ke(pn,Sn),Sn.parentNode&&Sn.parentNode.removeChild(Sn))}}(this))}He.registerId=function(je){return Be(je)};var yt=He.prototype;return yt.reconstructWithOptions=function(je,it){return it===void 0&&(it=!0),new He(q({},this.options,{},je),this.gs,it&&this.names||void 0)},yt.allocateGSInstance=function(je){return this.gs[je]=(this.gs[je]||0)+1},yt.getTag=function(){return this.tag||(this.tag=(Yt=(it=this.options).isServer,pn=it.useCSSOMInjection,dn=it.target,je=Yt?new Pt(dn):pn?new Ut(dn):new we(dn),new Ke(je)));var je,it,Yt,pn,dn},yt.hasNameForId=function(je,it){return this.names.has(je)&&this.names.get(je).has(it)},yt.registerName=function(je,it){if(Be(je),this.names.has(je))this.names.get(je).add(it);else{var Yt=new Set;Yt.add(it),this.names.set(je,Yt)}},yt.insertRules=function(je,it,Yt){this.registerName(je,it),this.getTag().insertRules(Be(je),Yt)},yt.clearNames=function(je){this.names.has(je)&&this.names.get(je).clear()},yt.clearRules=function(je){this.getTag().clearGroup(Be(je)),this.clearNames(je)},yt.clearTag=function(){this.tag=void 0},yt.toString=function(){return function(je){for(var it=je.getTag(),Yt=it.length,pn="",dn=0;dn<Yt;dn++){var Kn=Qe(dn);if(Kn!==void 0){var Jr=je.names.get(Kn),Sn=it.getGroup(dn);if(Jr!==void 0&&Sn.length!==0){var Mr=be+".g"+dn+'[id="'+Kn+'"]',ri="";Jr!==void 0&&Jr.forEach(function(Br){Br.length>0&&(ri+=Br+",")}),pn+=""+Sn+Mr+'{content:"'+ri+`"}/*!sc*/
`}}}return pn}(this)},He}(),bn=/(a)(d)/gi,cr=function(He){return String.fromCharCode(He+(He>25?39:97))};function qt(He){var yt,je="";for(yt=Math.abs(He);yt>52;yt=yt/52|0)je=cr(yt%52)+je;return(cr(yt%52)+je).replace(bn,"$1-$2")}var tn=function(He,yt){for(var je=yt.length;je;)He=33*He^yt.charCodeAt(--je);return He},on=function(He){return tn(5381,He)};function jt(He){for(var yt=0;yt<He.length;yt+=1){var je=He[yt];if(oe(je)&&!Se(je))return!1}return!0}var $e=on("5.2.1"),Gn=function(){function He(yt,je,it){this.rules=yt,this.staticRulesId="",this.isStatic=(it===void 0||it.isStatic)&&jt(yt),this.componentId=je,this.baseHash=tn($e,je),this.baseStyle=it,Bt.registerId(je)}return He.prototype.generateAndInjectStyles=function(yt,je,it){var Yt=this.componentId,pn=[];if(this.baseStyle&&pn.push(this.baseStyle.generateAndInjectStyles(yt,je,it)),this.isStatic&&!it.hash)if(this.staticRulesId&&je.hasNameForId(Yt,this.staticRulesId))pn.push(this.staticRulesId);else{var dn=Sr(this.rules,yt,je,it).join(""),Kn=qt(tn(this.baseHash,dn.length)>>>0);if(!je.hasNameForId(Yt,Kn)){var Jr=it(dn,"."+Kn,void 0,Yt);je.insertRules(Yt,Kn,Jr)}pn.push(Kn),this.staticRulesId=Kn}else{for(var Sn=this.rules.length,Mr=tn(this.baseHash,it.hash),ri="",Br=0;Br<Sn;Br++){var Qr=this.rules[Br];if(typeof Qr=="string")ri+=Qr;else if(Qr){var Hr=Sr(Qr,yt,je,it),pr=Array.isArray(Hr)?Hr.join(""):Hr;Mr=tn(Mr,pr+Br),ri+=pr}}if(ri){var kr=qt(Mr>>>0);if(!je.hasNameForId(Yt,kr)){var jr=it(ri,"."+kr,void 0,Yt);je.insertRules(Yt,kr,jr)}pn.push(kr)}}return pn.join(" ")},He}(),sr=/^\s*\/\/.*$/gm,or=[":","[",".","#"];function zn(He){var yt,je,it,Yt,pn=He===void 0?ne:He,dn=pn.options,Kn=dn===void 0?ne:dn,Jr=pn.plugins,Sn=Jr===void 0?W:Jr,Mr=new _.a(Kn),ri=[],Br=function(pr){function kr(jr){if(jr)try{pr(jr+"}")}catch{}}return function(jr,ei,bi,Wi,ns,Io,Eo,Fi,Vs,Ti){switch(jr){case 1:if(Vs===0&&ei.charCodeAt(0)===64)return pr(ei+";"),"";break;case 2:if(Fi===0)return ei+"/*|*/";break;case 3:switch(Fi){case 102:case 112:return pr(bi[0]+ei),"";default:return ei+(Ti===0?"/*|*/":"")}case-2:ei.split("/*|*/}").forEach(kr)}}}(function(pr){ri.push(pr)}),Qr=function(pr,kr,jr){return kr===0&&or.includes(jr[je.length])||jr.match(Yt)?pr:"."+yt};function Hr(pr,kr,jr,ei){ei===void 0&&(ei="&");var bi=pr.replace(sr,""),Wi=kr&&jr?jr+" "+kr+" { "+bi+" }":bi;return yt=ei,je=kr,it=new RegExp("\\"+je+"\\b","g"),Yt=new RegExp("(\\"+je+"\\b){2,}"),Mr(jr||!kr?"":kr,Wi)}return Mr.use([].concat(Sn,[function(pr,kr,jr){pr===2&&jr.length&&jr[0].lastIndexOf(je)>0&&(jr[0]=jr[0].replace(it,Qr))},Br,function(pr){if(pr===-2){var kr=ri;return ri=[],kr}}])),Hr.hash=Sn.length?Sn.reduce(function(pr,kr){return kr.name||dt(15),tn(pr,kr.name)},5381).toString():"",Hr}var hr=f.a.createContext(),br=hr.Consumer,wr=f.a.createContext(),Vn=(wr.Consumer,new Bt),Nr=zn();function zr(){return Object(h.useContext)(hr)||Vn}function Cr(){return Object(h.useContext)(wr)||Nr}function Zr(He){var yt=Object(h.useState)(He.stylisPlugins),je=yt[0],it=yt[1],Yt=zr(),pn=Object(h.useMemo)(function(){var Kn=Yt;return He.sheet?Kn=He.sheet:He.target&&(Kn=Kn.reconstructWithOptions({target:He.target},!1)),He.disableCSSOMInjection&&(Kn=Kn.reconstructWithOptions({useCSSOMInjection:!1})),Kn},[He.disableCSSOMInjection,He.sheet,He.target]),dn=Object(h.useMemo)(function(){return zn({options:{prefix:!He.disableVendorPrefixes},plugins:je})},[He.disableVendorPrefixes,je]);return Object(h.useEffect)(function(){b()(je,He.stylisPlugins)||it(He.stylisPlugins)},[He.stylisPlugins]),f.a.createElement(hr.Provider,{value:pn},f.a.createElement(wr.Provider,{value:dn},He.children))}var Ir=function(){function He(yt,je){var it=this;this.inject=function(Yt,pn){pn===void 0&&(pn=Nr);var dn=it.name+pn.hash;Yt.hasNameForId(it.id,dn)||Yt.insertRules(it.id,dn,pn(it.rules,dn,"@keyframes"))},this.toString=function(){return dt(12,String(it.name))},this.name=yt,this.id="sc-keyframes-"+yt,this.rules=je}return He.prototype.getName=function(yt){return yt===void 0&&(yt=Nr),this.name+yt.hash},He}(),Pn=/([A-Z])/,tr=/([A-Z])/g,Fr=/^ms-/,xi=function(He){return"-"+He.toLowerCase()};function Yi(He){return Pn.test(He)?He.replace(tr,xi).replace(Fr,"-ms-"):He}var Zi=function(He){return He==null||He===!1||He===""};function Sr(He,yt,je,it){if(Array.isArray(He)){for(var Yt,pn=[],dn=0,Kn=He.length;dn<Kn;dn+=1)(Yt=Sr(He[dn],yt,je,it))!==""&&(Array.isArray(Yt)?pn.push.apply(pn,Yt):pn.push(Yt));return pn}return Zi(He)?"":Se(He)?"."+He.styledComponentId:oe(He)?typeof(Jr=He)!="function"||Jr.prototype&&Jr.prototype.isReactComponent||!yt?He:Sr(He(yt),yt,je,it):He instanceof Ir?je?(He.inject(je,it),He.getName(it)):He:Y(He)?function Sn(Mr,ri){var Br,Qr,Hr=[];for(var pr in Mr)Mr.hasOwnProperty(pr)&&!Zi(Mr[pr])&&(Y(Mr[pr])?Hr.push.apply(Hr,Sn(Mr[pr],pr)):oe(Mr[pr])?Hr.push(Yi(pr)+":",Mr[pr],";"):Hr.push(Yi(pr)+": "+(Br=pr,((Qr=Mr[pr])==null||typeof Qr=="boolean"||Qr===""?"":typeof Qr!="number"||Qr===0||Br in E.a?String(Qr).trim():Qr+"px")+";")));return ri?[ri+" {"].concat(Hr,["}"]):Hr}(He):He.toString();var Jr}function ai(He){for(var yt=arguments.length,je=new Array(yt>1?yt-1:0),it=1;it<yt;it++)je[it-1]=arguments[it];return oe(He)||Y(He)?Sr(X(W,[He].concat(je))):je.length===0&&He.length===1&&typeof He[0]=="string"?He:Sr(X(He,je))}var Ai=function(He,yt,je){return je===void 0&&(je=ne),He.theme!==je.theme&&He.theme||yt||je.theme},Gs=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ji=/(^-|-$)/g;function ar(He){return He.replace(Gs,"-").replace(ji,"")}var aa=function(He){return qt(on(He)>>>0)};function ls(He){return typeof He=="string"&&!0}var Ui=function(He){return typeof He=="function"||typeof He=="object"&&He!==null&&!Array.isArray(He)},ts=function(He){return He!=="__proto__"&&He!=="constructor"&&He!=="prototype"};function Ls(He,yt,je){var it=He[je];Ui(yt)&&Ui(it)?Ps(it,yt):He[je]=yt}function Ps(He){for(var yt=arguments.length,je=new Array(yt>1?yt-1:0),it=1;it<yt;it++)je[it-1]=arguments[it];for(var Yt=0,pn=je;Yt<pn.length;Yt++){var dn=pn[Yt];if(Ui(dn))for(var Kn in dn)ts(Kn)&&Ls(He,dn[Kn],Kn)}return He}var Kr=f.a.createContext(),Ca=Kr.Consumer;function la(He){var yt=Object(h.useContext)(Kr),je=Object(h.useMemo)(function(){return function(it,Yt){return it?oe(it)?it(Yt):Array.isArray(it)||typeof it!="object"?dt(8):Yt?q({},Yt,{},it):it:dt(14)}(He.theme,yt)},[He.theme,yt]);return He.children?f.a.createElement(Kr.Provider,{value:je},He.children):null}var _o={};function So(He,yt,je){var it=Se(He),Yt=!ls(He),pn=yt.attrs,dn=pn===void 0?W:pn,Kn=yt.componentId,Jr=Kn===void 0?function(ei,bi){var Wi=typeof ei!="string"?"sc":ar(ei);_o[Wi]=(_o[Wi]||0)+1;var ns=Wi+"-"+aa("5.2.1"+Wi+_o[Wi]);return bi?bi+"-"+ns:ns}(yt.displayName,yt.parentComponentId):Kn,Sn=yt.displayName,Mr=Sn===void 0?function(ei){return ls(ei)?"styled."+ei:"Styled("+le(ei)+")"}(He):Sn,ri=yt.displayName&&yt.componentId?ar(yt.displayName)+"-"+yt.componentId:yt.componentId||Jr,Br=it&&He.attrs?Array.prototype.concat(He.attrs,dn).filter(Boolean):dn,Qr=yt.shouldForwardProp;it&&He.shouldForwardProp&&(Qr=yt.shouldForwardProp?function(ei,bi){return He.shouldForwardProp(ei,bi)&&yt.shouldForwardProp(ei,bi)}:He.shouldForwardProp);var Hr,pr=new Gn(je,ri,it?He.componentStyle:void 0),kr=pr.isStatic&&dn.length===0,jr=function(ei,bi){return function(Wi,ns,Io,Eo){var Fi=Wi.attrs,Vs=Wi.componentStyle,Ti=Wi.defaultProps,ua=Wi.foldedComponentIds,lu=Wi.shouldForwardProp,Ws=Wi.styledComponentId,Do=Wi.target,La=function(Pa,ca,ha){Pa===void 0&&(Pa=ne);var io=q({},ca,{theme:Pa}),cs={};return ha.forEach(function(Ss){var so,zo,Es,oo=Ss;for(so in oe(oo)&&(oo=oo(io)),oo)io[so]=cs[so]=so==="className"?(zo=cs[so],Es=oo[so],zo&&Es?zo+" "+Es:zo||Es):oo[so]}),[io,cs]}(Ai(ns,Object(h.useContext)(Kr),Ti)||ne,ns,Fi),Ya=La[0],$o=La[1],No=function(Pa,ca,ha,io){var cs=zr(),Ss=Cr();return ca?Pa.generateAndInjectStyles(ne,cs,Ss):Pa.generateAndInjectStyles(ha,cs,Ss)}(Vs,Eo,Ya),Xr=Io,ul=$o.$as||ns.$as||$o.as||ns.as||Do,Ds=ls(ul),Fo=$o!==ns?q({},ns,{},$o):ns,Rr={};for(var Yo in Fo)Yo[0]!=="$"&&Yo!=="as"&&(Yo==="forwardedAs"?Rr.as=Fo[Yo]:(lu?lu(Yo,T.a):!Ds||Object(T.a)(Yo))&&(Rr[Yo]=Fo[Yo]));return ns.style&&$o.style!==ns.style&&(Rr.style=q({},ns.style,{},$o.style)),Rr.className=Array.prototype.concat(ua,Ws,No!==Ws?No:null,ns.className,$o.className).filter(Boolean).join(" "),Rr.ref=Xr,Object(h.createElement)(ul,Rr)}(Hr,ei,bi,kr)};return jr.displayName=Mr,(Hr=f.a.forwardRef(jr)).attrs=Br,Hr.componentStyle=pr,Hr.displayName=Mr,Hr.shouldForwardProp=Qr,Hr.foldedComponentIds=it?Array.prototype.concat(He.foldedComponentIds,He.styledComponentId):W,Hr.styledComponentId=ri,Hr.target=it?He.target:He,Hr.withComponent=function(ei){var bi=yt.componentId,Wi=function(Io,Eo){if(Io==null)return{};var Fi,Vs,Ti={},ua=Object.keys(Io);for(Vs=0;Vs<ua.length;Vs++)Fi=ua[Vs],Eo.indexOf(Fi)>=0||(Ti[Fi]=Io[Fi]);return Ti}(yt,["componentId"]),ns=bi&&bi+"-"+(ls(ei)?ei:ar(le(ei)));return So(ei,q({},Wi,{attrs:Br,componentId:ns}),je)},Object.defineProperty(Hr,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ei){this._foldedDefaultProps=it?Ps({},He.defaultProps,ei):ei}}),Hr.toString=function(){return"."+Hr.styledComponentId},Yt&&G()(Hr,He,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),Hr}var ro=function(He){return function yt(je,it,Yt){if(Yt===void 0&&(Yt=ne),!Object(c.isValidElementType)(it))return dt(1,String(it));var pn=function(){return je(it,Yt,ai.apply(void 0,arguments))};return pn.withConfig=function(dn){return yt(je,it,q({},Yt,{},dn))},pn.attrs=function(dn){return yt(je,it,q({},Yt,{attrs:Array.prototype.concat(Yt.attrs,dn).filter(Boolean)}))},pn}(So,He)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(He){ro[He]=ro(He)});var ws=function(){function He(je,it){this.rules=je,this.componentId=it,this.isStatic=jt(je),Bt.registerId(this.componentId+1)}var yt=He.prototype;return yt.createStyles=function(je,it,Yt,pn){var dn=pn(Sr(this.rules,it,Yt,pn).join(""),""),Kn=this.componentId+je;Yt.insertRules(Kn,Kn,dn)},yt.removeStyles=function(je,it){it.clearRules(this.componentId+je)},yt.renderStyles=function(je,it,Yt,pn){je>2&&Bt.registerId(this.componentId+je),this.removeStyles(je,Yt),this.createStyles(je,it,Yt,pn)},He}();function mi(He){for(var yt=arguments.length,je=new Array(yt>1?yt-1:0),it=1;it<yt;it++)je[it-1]=arguments[it];var Yt=ai.apply(void 0,[He].concat(je)),pn="sc-global-"+aa(JSON.stringify(Yt)),dn=new ws(Yt,pn);function Kn(Sn){var Mr=zr(),ri=Cr(),Br=Object(h.useContext)(Kr),Qr=Object(h.useRef)(Mr.allocateGSInstance(pn)).current;return Object(h.useLayoutEffect)(function(){return Jr(Qr,Sn,Mr,Br,ri),function(){return dn.removeStyles(Qr,Mr)}},[Qr,Sn,Mr,Br,ri]),null}function Jr(Sn,Mr,ri,Br,Qr){if(dn.isStatic)dn.renderStyles(Sn,tt,ri,Qr);else{var Hr=q({},Mr,{theme:Ai(Mr,Br,Kn.defaultProps)});dn.renderStyles(Sn,Hr,ri,Qr)}}return f.a.memo(Kn)}function Ki(He){for(var yt=arguments.length,je=new Array(yt>1?yt-1:0),it=1;it<yt;it++)je[it-1]=arguments[it];var Yt=ai.apply(void 0,[He].concat(je)).join(""),pn=aa(Yt);return new Ir(pn,Yt)}var us=function(){function He(){var je=this;this._emitSheetCSS=function(){var it=je.instance.toString(),Yt=rt();return"<style "+[Yt&&'nonce="'+Yt+'"',be+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+it+"</style>"},this.getStyleTags=function(){return je.sealed?dt(2):je._emitSheetCSS()},this.getStyleElement=function(){var it;if(je.sealed)return dt(2);var Yt=((it={})[be]="",it["data-styled-version"]="5.2.1",it.dangerouslySetInnerHTML={__html:je.instance.toString()},it),pn=rt();return pn&&(Yt.nonce=pn),[f.a.createElement("style",q({},Yt,{key:"sc-0-0"}))]},this.seal=function(){je.sealed=!0},this.instance=new Bt({isServer:!0}),this.sealed=!1}var yt=He.prototype;return yt.collectStyles=function(je){return this.sealed?dt(2):f.a.createElement(Zr,{sheet:this.instance},je)},yt.interleaveWithNodeStream=function(je){return dt(3)},He}(),jl=function(He){var yt=f.a.forwardRef(function(je,it){var Yt=Object(h.useContext)(Kr),pn=He.defaultProps,dn=Ai(je,Yt,pn);return f.a.createElement(He,q({},je,{theme:dn,ref:it}))});return G()(yt,He),yt.displayName="WithTheme("+le(He)+")",yt},Ks=function(){return Object(h.useContext)(Kr)},_s={StyleSheet:Bt,masterSheet:Vn};n.default=ro}).call(this,r(26))},function(A,n,r){var a;A.exports=(a=r(0),function(c){function h(m){if(f[m])return f[m].exports;var b=f[m]={i:m,l:!1,exports:{}};return c[m].call(b.exports,b,b.exports,h),b.l=!0,b.exports}var f={};return h.m=c,h.c=f,h.d=function(m,b,_){h.o(m,b)||Object.defineProperty(m,b,{configurable:!1,enumerable:!0,get:_})},h.n=function(m){var b=m&&m.__esModule?function(){return m.default}:function(){return m};return h.d(b,"a",b),b},h.o=function(m,b){return Object.prototype.hasOwnProperty.call(m,b)},h.p="",h(h.s=7)}([function(c,h,f){function m(Se,be){return function(Pe){if(Array.isArray(Pe))return Pe}(Se)||function(Pe,P){if(typeof Symbol<"u"&&Symbol.iterator in Object(Pe)){var We=[],tt=!0,dt=!1,Ke=void 0;try{for(var Ze,Xe=Pe[Symbol.iterator]();!(tt=(Ze=Xe.next()).done)&&(We.push(Ze.value),!P||We.length!==P);tt=!0);}catch(ft){dt=!0,Ke=ft}finally{try{tt||Xe.return==null||Xe.return()}finally{if(dt)throw Ke}}return We}}(Se,be)||function(Pe,P){if(Pe){if(typeof Pe=="string")return b(Pe,P);var We=Object.prototype.toString.call(Pe).slice(8,-1);return We==="Object"&&Pe.constructor&&(We=Pe.constructor.name),We==="Map"||We==="Set"?Array.from(Pe):We==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(We)?b(Pe,P):void 0}}(Se,be)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(Se,be){(be==null||be>Se.length)&&(be=Se.length);for(var Pe=0,P=new Array(be);Pe<be;Pe++)P[Pe]=Se[Pe];return P}var _=f(1),E=f.n(_),T=f(8),k=f.n(T),G=f(2),q=f(10),X=f.n(q),Y=f(3),W=f(6),ne=function(Se){if(!Se)return null;var be=Object.keys(Se);return be.length===0?null:be.reduce(function(Pe,P){return Pe[Object(G.a)(P)]=Se[P],Pe},{})},oe=function(){var Se=E.a.useRef(!1);return E.a.useEffect(function(){Se.current=!0},[]),Se.current},le=function(Se){var be=function(){return function(tt){return tt.query||Object(Y.a)(tt)}(Se)},Pe=m(E.a.useState(be),2),P=Pe[0],We=Pe[1];return E.a.useEffect(function(){var tt=be();P!==tt&&We(tt)},[Se]),P};h.a=function(Se,be,Pe){var P=function(Ke){var Ze=E.a.useContext(W.a),Xe=function(){return ne(Ke)||ne(Ze)},ft=m(E.a.useState(Xe),2),Be=ft[0],Qe=ft[1];return E.a.useEffect(function(){var Ue=Xe();X()(Be,Ue)||Qe(Ue)},[Ke,Ze]),Be}(be),We=le(Se);if(!We)throw new Error("Invalid or missing MediaQuery!");var tt=function(Ke){var Ze=m(E.a.useState(Ke.matches),2),Xe=Ze[0],ft=Ze[1];return E.a.useEffect(function(){var Be=function(){ft(Ke.matches)};return Ke.addListener(Be),Be(),function(){Ke.removeListener(Be)}},[Ke]),Xe}(function(Ke,Ze){var Xe=function(){return k()(Ke,Ze||{},!!Ze)},ft=m(E.a.useState(Xe),2),Be=ft[0],Qe=ft[1],Ue=oe();return E.a.useEffect(function(){return Ue&&Qe(Xe()),function(){Be.dispose()}},[Ke,Ze]),Be}(We,P)),dt=oe();return E.a.useEffect(function(){dt&&Pe&&Pe(tt)},[tt]),tt}},function(c,h){c.exports=a},function(c,h,f){function m(T){return"-"+T.toLowerCase()}var b=/[A-Z]/g,_=/^ms-/,E={};h.a=function(T){if(E.hasOwnProperty(T))return E[T];var k=T.replace(b,m);return E[T]=_.test(k)?"-"+k:k}},function(c,h,f){var m=f(2),b=f(11);h.a=function(_){var E=[];return Object.keys(b.a.all).forEach(function(T){var k=_[T];k!=null&&E.push(function(G,q){var X=Object(m.a)(G);return typeof q=="number"&&(q="".concat(q,"px")),q===!0?X:q===!1?"not ".concat(X):"(".concat(X,": ").concat(q,")")}(T,k))}),E.join(" and ")}},function(c,h,f){c.exports=f(13)},function(c,h,f){c.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(c,h,f){var m=f(1),b=f.n(m).a.createContext();h.a=b},function(c,h,f){Object.defineProperty(h,"__esModule",{value:!0});var m=f(0),b=f(17),_=f(3),E=f(6);f.d(h,"default",function(){return b.a}),f.d(h,"useMediaQuery",function(){return m.a}),f.d(h,"toQuery",function(){return _.a}),f.d(h,"Context",function(){return E.a})},function(c,h,f){function m(E,T,k){function G(Y){q.matches=Y.matches,q.media=Y.media}var q=this;if(_&&!k){var X=_.call(window,E);this.matches=X.matches,this.media=X.media,X.addListener(G)}else this.matches=b(E,T),this.media=E;this.addListener=function(Y){X&&X.addListener(Y)},this.removeListener=function(Y){X&&X.removeListener(Y)},this.dispose=function(){X&&X.removeListener(G)}}var b=f(9).match,_=typeof window<"u"?window.matchMedia:null;c.exports=function(E,T,k){return new m(E,T,k)}},function(c,h,f){function m(Y){return Y.split(",").map(function(W){var ne=(W=W.trim()).match(T),oe=ne[1],le=ne[2],Se=ne[3]||"",be={};return be.inverse=!!oe&&oe.toLowerCase()==="not",be.type=le?le.toLowerCase():"all",Se=Se.match(/\([^\)]+\)/g)||[],be.expressions=Se.map(function(Pe){var P=Pe.match(k),We=P[1].toLowerCase().match(G);return{modifier:We[1],feature:We[2],value:P[2]}}),be})}function b(Y){var W,ne=Number(Y);return ne||(ne=(W=Y.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/W[2]),ne}function _(Y){var W=parseFloat(Y);switch(String(Y).match(X)[1]){case"dpcm":return W/2.54;case"dppx":return 96*W;default:return W}}function E(Y){var W=parseFloat(Y);switch(String(Y).match(q)[1]){case"em":case"rem":return 16*W;case"cm":return 96*W/2.54;case"mm":return 96*W/2.54/10;case"in":return 96*W;case"pt":return 72*W;case"pc":return 72*W/12;default:return W}}h.match=function(Y,W){return m(Y).some(function(ne){var oe=ne.inverse,le=ne.type==="all"||W.type===ne.type;if(le&&oe||!le&&!oe)return!1;var Se=ne.expressions.every(function(be){var Pe=be.feature,P=be.modifier,We=be.value,tt=W[Pe];if(!tt)return!1;switch(Pe){case"orientation":case"scan":return tt.toLowerCase()===We.toLowerCase();case"width":case"height":case"device-width":case"device-height":We=E(We),tt=E(tt);break;case"resolution":We=_(We),tt=_(tt);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":We=b(We),tt=b(tt);break;case"grid":case"color":case"color-index":case"monochrome":We=parseInt(We,10)||1,tt=parseInt(tt,10)||0}switch(P){case"min":return tt>=We;case"max":return tt<=We;default:return tt===We}});return Se&&!oe||!Se&&oe})},h.parse=m;var T=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,k=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,G=/^(?:(min|max)-)?(.+)/,q=/(em|rem|px|cm|mm|in|pt|pc)?$/,X=/(dpi|dpcm|dppx)?$/},function(c,h,f){c.exports=function(m,b){if(m===b)return!0;if(!m||!b)return!1;var _=Object.keys(m),E=Object.keys(b),T=_.length;if(E.length!==T)return!1;for(var k=0;k<T;k++){var G=_[k];if(m[G]!==b[G]||!Object.prototype.hasOwnProperty.call(b,G))return!1}return!0}},function(c,h,f){function m(W,ne){var oe=Object.keys(W);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(W);ne&&(le=le.filter(function(Se){return Object.getOwnPropertyDescriptor(W,Se).enumerable})),oe.push.apply(oe,le)}return oe}function b(W){for(var ne=1;ne<arguments.length;ne++){var oe=arguments[ne]!=null?arguments[ne]:{};ne%2?m(Object(oe),!0).forEach(function(le){_(W,le,oe[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(oe)):m(Object(oe)).forEach(function(le){Object.defineProperty(W,le,Object.getOwnPropertyDescriptor(oe,le))})}return W}function _(W,ne,oe){return ne in W?Object.defineProperty(W,ne,{value:oe,enumerable:!0,configurable:!0,writable:!0}):W[ne]=oe,W}var E=f(12),T=f.n(E),k=T.a.oneOfType([T.a.string,T.a.number]),G={orientation:T.a.oneOf(["portrait","landscape"]),scan:T.a.oneOf(["progressive","interlace"]),aspectRatio:T.a.string,deviceAspectRatio:T.a.string,height:k,deviceHeight:k,width:k,deviceWidth:k,color:T.a.bool,colorIndex:T.a.bool,monochrome:T.a.bool,resolution:k},q=b({minAspectRatio:T.a.string,maxAspectRatio:T.a.string,minDeviceAspectRatio:T.a.string,maxDeviceAspectRatio:T.a.string,minHeight:k,maxHeight:k,minDeviceHeight:k,maxDeviceHeight:k,minWidth:k,maxWidth:k,minDeviceWidth:k,maxDeviceWidth:k,minColor:T.a.number,maxColor:T.a.number,minColorIndex:T.a.number,maxColorIndex:T.a.number,minMonochrome:T.a.number,maxMonochrome:T.a.number,minResolution:k,maxResolution:k},G),X={all:T.a.bool,grid:T.a.bool,aural:T.a.bool,braille:T.a.bool,handheld:T.a.bool,print:T.a.bool,projection:T.a.bool,screen:T.a.bool,tty:T.a.bool,tv:T.a.bool,embossed:T.a.bool},Y=b(b({},X),q);G.type=Object.keys(X),h.a={all:Y,types:X,matchers:G,features:q}},function(c,h,f){var m=f(4);c.exports=f(14)(m.isElement,!0)},function(c,h,f){(function(){function m(we){if(typeof we=="object"&&we!==null){var Pt=we.$$typeof;switch(Pt){case E:var gt=we.type;switch(gt){case W:case ne:case k:case q:case G:case le:return gt;default:var Le=gt&&gt.$$typeof;switch(Le){case Y:case oe:case Pe:case be:case X:return Le;default:return Pt}}case T:return Pt}}}function b(we){return m(we)===ne}var _=typeof Symbol=="function"&&Symbol.for,E=_?Symbol.for("react.element"):60103,T=_?Symbol.for("react.portal"):60106,k=_?Symbol.for("react.fragment"):60107,G=_?Symbol.for("react.strict_mode"):60108,q=_?Symbol.for("react.profiler"):60114,X=_?Symbol.for("react.provider"):60109,Y=_?Symbol.for("react.context"):60110,W=_?Symbol.for("react.async_mode"):60111,ne=_?Symbol.for("react.concurrent_mode"):60111,oe=_?Symbol.for("react.forward_ref"):60112,le=_?Symbol.for("react.suspense"):60113,Se=_?Symbol.for("react.suspense_list"):60120,be=_?Symbol.for("react.memo"):60115,Pe=_?Symbol.for("react.lazy"):60116,P=_?Symbol.for("react.block"):60121,We=_?Symbol.for("react.fundamental"):60117,tt=_?Symbol.for("react.responder"):60118,dt=_?Symbol.for("react.scope"):60119,Ke=W,Ze=ne,Xe=Y,ft=X,Be=E,Qe=oe,Ue=k,te=Pe,lt=be,_e=T,ke=q,rt=G,St=le,Ut=!1;h.AsyncMode=Ke,h.ConcurrentMode=Ze,h.ContextConsumer=Xe,h.ContextProvider=ft,h.Element=Be,h.ForwardRef=Qe,h.Fragment=Ue,h.Lazy=te,h.Memo=lt,h.Portal=_e,h.Profiler=ke,h.StrictMode=rt,h.Suspense=St,h.isAsyncMode=function(we){return Ut||(Ut=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),b(we)||m(we)===W},h.isConcurrentMode=b,h.isContextConsumer=function(we){return m(we)===Y},h.isContextProvider=function(we){return m(we)===X},h.isElement=function(we){return typeof we=="object"&&we!==null&&we.$$typeof===E},h.isForwardRef=function(we){return m(we)===oe},h.isFragment=function(we){return m(we)===k},h.isLazy=function(we){return m(we)===Pe},h.isMemo=function(we){return m(we)===be},h.isPortal=function(we){return m(we)===T},h.isProfiler=function(we){return m(we)===q},h.isStrictMode=function(we){return m(we)===G},h.isSuspense=function(we){return m(we)===le},h.isValidElementType=function(we){return typeof we=="string"||typeof we=="function"||we===k||we===ne||we===q||we===G||we===le||we===Se||typeof we=="object"&&we!==null&&(we.$$typeof===Pe||we.$$typeof===be||we.$$typeof===X||we.$$typeof===Y||we.$$typeof===oe||we.$$typeof===We||we.$$typeof===tt||we.$$typeof===dt||we.$$typeof===P)},h.typeOf=m})()},function(c,h,f){function m(){return null}var b,_=f(4),E=f(15),T=f(5),k=f(16),G=Function.call.bind(Object.prototype.hasOwnProperty);b=function(q){var X="Warning: "+q;typeof console<"u"&&console.error(X);try{throw new Error(X)}catch{}},c.exports=function(q,X){function Y(Ke,Ze){return Ke===Ze?Ke!==0||1/Ke==1/Ze:Ke!=Ke&&Ze!=Ze}function W(Ke){this.message=Ke,this.stack=""}function ne(Ke){function Ze(Qe,Ue,te,lt,_e,ke,rt){if(lt=lt||tt,ke=ke||te,rt!==T){if(X){var St=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw St.name="Invariant Violation",St}if(typeof console<"u"){var Ut=lt+":"+te;!Xe[Ut]&&ft<3&&(b("You are manually calling a React.PropTypes validation function for the `"+ke+"` prop on `"+lt+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),Xe[Ut]=!0,ft++)}}return Ue[te]==null?Qe?new W(Ue[te]===null?"The "+_e+" `"+ke+"` is marked as required in `"+lt+"`, but its value is `null`.":"The "+_e+" `"+ke+"` is marked as required in `"+lt+"`, but its value is `undefined`."):null:Ke(Ue,te,lt,_e,ke)}var Xe={},ft=0,Be=Ze.bind(null,!1);return Be.isRequired=Ze.bind(null,!0),Be}function oe(Ke){return ne(function(Ze,Xe,ft,Be,Qe,Ue){var te=Ze[Xe];return Se(te)!==Ke?new W("Invalid "+Be+" `"+Qe+"` of type `"+be(te)+"` supplied to `"+ft+"`, expected `"+Ke+"`."):null})}function le(Ke){switch(typeof Ke){case"number":case"string":case"undefined":return!0;case"boolean":return!Ke;case"object":if(Array.isArray(Ke))return Ke.every(le);if(Ke===null||q(Ke))return!0;var Ze=function(Qe){var Ue=Qe&&(P&&Qe[P]||Qe[We]);if(typeof Ue=="function")return Ue}(Ke);if(!Ze)return!1;var Xe,ft=Ze.call(Ke);if(Ze!==Ke.entries){for(;!(Xe=ft.next()).done;)if(!le(Xe.value))return!1}else for(;!(Xe=ft.next()).done;){var Be=Xe.value;if(Be&&!le(Be[1]))return!1}return!0;default:return!1}}function Se(Ke){var Ze=typeof Ke;return Array.isArray(Ke)?"array":Ke instanceof RegExp?"object":function(Xe,ft){return Xe==="symbol"||!!ft&&(ft["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&ft instanceof Symbol)}(Ze,Ke)?"symbol":Ze}function be(Ke){if(Ke==null)return""+Ke;var Ze=Se(Ke);if(Ze==="object"){if(Ke instanceof Date)return"date";if(Ke instanceof RegExp)return"regexp"}return Ze}function Pe(Ke){var Ze=be(Ke);switch(Ze){case"array":case"object":return"an "+Ze;case"boolean":case"date":case"regexp":return"a "+Ze;default:return Ze}}var P=typeof Symbol=="function"&&Symbol.iterator,We="@@iterator",tt="<<anonymous>>",dt={array:oe("array"),bool:oe("boolean"),func:oe("function"),number:oe("number"),object:oe("object"),string:oe("string"),symbol:oe("symbol"),any:ne(m),arrayOf:function(Ke){return ne(function(Ze,Xe,ft,Be,Qe){if(typeof Ke!="function")return new W("Property `"+Qe+"` of component `"+ft+"` has invalid PropType notation inside arrayOf.");var Ue=Ze[Xe];if(!Array.isArray(Ue))return new W("Invalid "+Be+" `"+Qe+"` of type `"+Se(Ue)+"` supplied to `"+ft+"`, expected an array.");for(var te=0;te<Ue.length;te++){var lt=Ke(Ue,te,ft,Be,Qe+"["+te+"]",T);if(lt instanceof Error)return lt}return null})},element:ne(function(Ke,Ze,Xe,ft,Be){var Qe=Ke[Ze];return q(Qe)?null:new W("Invalid "+ft+" `"+Be+"` of type `"+Se(Qe)+"` supplied to `"+Xe+"`, expected a single ReactElement.")}),elementType:ne(function(Ke,Ze,Xe,ft,Be){var Qe=Ke[Ze];return _.isValidElementType(Qe)?null:new W("Invalid "+ft+" `"+Be+"` of type `"+Se(Qe)+"` supplied to `"+Xe+"`, expected a single ReactElement type.")}),instanceOf:function(Ke){return ne(function(Ze,Xe,ft,Be,Qe){if(!(Ze[Xe]instanceof Ke)){var Ue=Ke.name||tt;return new W("Invalid "+Be+" `"+Qe+"` of type `"+((te=Ze[Xe]).constructor&&te.constructor.name?te.constructor.name:tt)+"` supplied to `"+ft+"`, expected instance of `"+Ue+"`.")}var te;return null})},node:ne(function(Ke,Ze,Xe,ft,Be){return le(Ke[Ze])?null:new W("Invalid "+ft+" `"+Be+"` supplied to `"+Xe+"`, expected a ReactNode.")}),objectOf:function(Ke){return ne(function(Ze,Xe,ft,Be,Qe){if(typeof Ke!="function")return new W("Property `"+Qe+"` of component `"+ft+"` has invalid PropType notation inside objectOf.");var Ue=Ze[Xe],te=Se(Ue);if(te!=="object")return new W("Invalid "+Be+" `"+Qe+"` of type `"+te+"` supplied to `"+ft+"`, expected an object.");for(var lt in Ue)if(G(Ue,lt)){var _e=Ke(Ue,lt,ft,Be,Qe+"."+lt,T);if(_e instanceof Error)return _e}return null})},oneOf:function(Ke){function Ze(Xe,ft,Be,Qe,Ue){for(var te=Xe[ft],lt=0;lt<Ke.length;lt++)if(Y(te,Ke[lt]))return null;var _e=JSON.stringify(Ke,function(ke,rt){return be(rt)==="symbol"?String(rt):rt});return new W("Invalid "+Qe+" `"+Ue+"` of value `"+String(te)+"` supplied to `"+Be+"`, expected one of "+_e+".")}return Array.isArray(Ke)?ne(Ze):(b(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),m)},oneOfType:function(Ke){if(!Array.isArray(Ke))return b("Invalid argument supplied to oneOfType, expected an instance of array."),m;for(var Ze=0;Ze<Ke.length;Ze++){var Xe=Ke[Ze];if(typeof Xe!="function")return b("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Pe(Xe)+" at index "+Ze+"."),m}return ne(function(ft,Be,Qe,Ue,te){for(var lt=0;lt<Ke.length;lt++)if((0,Ke[lt])(ft,Be,Qe,Ue,te,T)==null)return null;return new W("Invalid "+Ue+" `"+te+"` supplied to `"+Qe+"`.")})},shape:function(Ke){return ne(function(Ze,Xe,ft,Be,Qe){var Ue=Ze[Xe],te=Se(Ue);if(te!=="object")return new W("Invalid "+Be+" `"+Qe+"` of type `"+te+"` supplied to `"+ft+"`, expected `object`.");for(var lt in Ke){var _e=Ke[lt];if(_e){var ke=_e(Ue,lt,ft,Be,Qe+"."+lt,T);if(ke)return ke}}return null})},exact:function(Ke){return ne(function(Ze,Xe,ft,Be,Qe){var Ue=Ze[Xe],te=Se(Ue);if(te!=="object")return new W("Invalid "+Be+" `"+Qe+"` of type `"+te+"` supplied to `"+ft+"`, expected `object`.");var lt=E({},Ze[Xe],Ke);for(var _e in lt){var ke=Ke[_e];if(!ke)return new W("Invalid "+Be+" `"+Qe+"` key `"+_e+"` supplied to `"+ft+"`.\nBad object: "+JSON.stringify(Ze[Xe],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Ke),null,"  "));var rt=ke(Ue,_e,ft,Be,Qe+"."+_e,T);if(rt)return rt}return null})}};return W.prototype=Error.prototype,dt.checkPropTypes=k,dt.resetWarningCache=k.resetWarningCache,dt.PropTypes=dt,dt}},function(c,h,f){function m(T){if(T==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(T)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var b=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;c.exports=function(){try{if(!Object.assign)return!1;var T=new String("abc");if(T[5]="de",Object.getOwnPropertyNames(T)[0]==="5")return!1;for(var k={},G=0;G<10;G++)k["_"+String.fromCharCode(G)]=G;if(Object.getOwnPropertyNames(k).map(function(X){return k[X]}).join("")!=="0123456789")return!1;var q={};return"abcdefghijklmnopqrst".split("").forEach(function(X){q[X]=X}),Object.keys(Object.assign({},q)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(T,k){for(var G,q,X=m(T),Y=1;Y<arguments.length;Y++){for(var W in G=Object(arguments[Y]))_.call(G,W)&&(X[W]=G[W]);if(b){q=b(G);for(var ne=0;ne<q.length;ne++)E.call(G,q[ne])&&(X[q[ne]]=G[q[ne]])}}return X}},function(c,h,f){function m(k,G,q,X,Y){for(var W in k)if(T(k,W)){var ne;try{if(typeof k[W]!="function"){var oe=Error((X||"React class")+": "+q+" type `"+W+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof k[W]+"`.");throw oe.name="Invariant Violation",oe}ne=k[W](G,W,X,q,null,_)}catch(Se){ne=Se}if(!ne||ne instanceof Error||b((X||"React class")+": type specification of "+q+" `"+W+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof ne+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),ne instanceof Error&&!(ne.message in E)){E[ne.message]=!0;var le=Y?Y():"";b("Failed "+q+" type: "+ne.message+(le??""))}}}var b=function(){},_=f(5),E={},T=Function.call.bind(Object.prototype.hasOwnProperty);b=function(k){var G="Warning: "+k;typeof console<"u"&&console.error(G);try{throw new Error(G)}catch{}},m.resetWarningCache=function(){E={}},c.exports=m},function(c,h,f){function m(_,E){if(_==null)return{};var T,k,G=function(X,Y){if(X==null)return{};var W,ne,oe={},le=Object.keys(X);for(ne=0;ne<le.length;ne++)W=le[ne],Y.indexOf(W)>=0||(oe[W]=X[W]);return oe}(_,E);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(_);for(k=0;k<q.length;k++)T=q[k],E.indexOf(T)>=0||Object.prototype.propertyIsEnumerable.call(_,T)&&(G[T]=_[T])}return G}h.a=function(_){var E=_.children,T=_.device,k=_.onChange,G=m(_,["children","device","onChange"]),q=Object(b.a)(G,T,k);return typeof E=="function"?E(q):q?E:null};var b=f(0)}]))},function(A,n,r){/*!
 * Zdog v1.1.2
 * Round, flat, designer-friendly pseudo-3D engine
 * Licensed MIT
 * https://zzz.dog
 * Copyright 2020 Metafizzy
 */var a,c;a=this,c=function(){var h={};h.TAU=2*Math.PI,h.extend=function(m,b){for(var _ in b)m[_]=b[_];return m},h.lerp=function(m,b,_){return(b-m)*_+m},h.modulo=function(m,b){return(m%b+b)%b};var f={2:function(m){return m*m},3:function(m){return m*m*m},4:function(m){return m*m*m*m},5:function(m){return m*m*m*m*m}};return h.easeInOut=function(m,b){if(b==1)return m;var _=(m=Math.max(0,Math.min(1,m)))<.5,E=_?m:1-m,T=(f[b]||f[2])(E/=.5);return T/=2,_?T:1-T},h},A.exports?A.exports=c():a.Zdog=c()},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(3),r(6),r(15),r(16));else{var h=a.Zdog;h.Anchor=c(h,h.Vector,h.CanvasRenderer,h.SvgRenderer)}})(this,function(a,c,h,f){var m=a.TAU,b={x:1,y:1,z:1};function _(E){this.create(E||{})}return _.prototype.create=function(E){this.children=[],a.extend(this,this.constructor.defaults),this.setOptions(E),this.translate=new c(E.translate),this.rotate=new c(E.rotate),this.scale=new c(b).multiply(this.scale),this.origin=new c,this.renderOrigin=new c,this.addTo&&this.addTo.addChild(this)},_.defaults={},_.optionKeys=Object.keys(_.defaults).concat(["rotate","translate","scale","addTo"]),_.prototype.setOptions=function(E){var T=this.constructor.optionKeys;for(var k in E)T.indexOf(k)!=-1&&(this[k]=E[k])},_.prototype.addChild=function(E){this.children.indexOf(E)==-1&&(E.remove(),E.addTo=this,this.children.push(E))},_.prototype.removeChild=function(E){var T=this.children.indexOf(E);T!=-1&&this.children.splice(T,1)},_.prototype.remove=function(){this.addTo&&this.addTo.removeChild(this)},_.prototype.update=function(){this.reset(),this.children.forEach(function(E){E.update()}),this.transform(this.translate,this.rotate,this.scale)},_.prototype.reset=function(){this.renderOrigin.set(this.origin)},_.prototype.transform=function(E,T,k){this.renderOrigin.transform(E,T,k),this.children.forEach(function(G){G.transform(E,T,k)})},_.prototype.updateGraph=function(){this.update(),this.updateFlatGraph(),this.flatGraph.forEach(function(E){E.updateSortValue()}),this.flatGraph.sort(_.shapeSorter)},_.shapeSorter=function(E,T){return E.sortValue-T.sortValue},Object.defineProperty(_.prototype,"flatGraph",{get:function(){return this._flatGraph||this.updateFlatGraph(),this._flatGraph},set:function(E){this._flatGraph=E}}),_.prototype.updateFlatGraph=function(){this.flatGraph=this.getFlatGraph()},_.prototype.getFlatGraph=function(){var E=[this];return this.addChildFlatGraph(E)},_.prototype.addChildFlatGraph=function(E){return this.children.forEach(function(T){var k=T.getFlatGraph();Array.prototype.push.apply(E,k)}),E},_.prototype.updateSortValue=function(){this.sortValue=this.renderOrigin.z},_.prototype.render=function(){},_.prototype.renderGraphCanvas=function(E){if(!E)throw new Error("ctx is "+E+". Canvas context required for render. Check .renderGraphCanvas( ctx ).");this.flatGraph.forEach(function(T){T.render(E,h)})},_.prototype.renderGraphSvg=function(E){if(!E)throw new Error("svg is "+E+". SVG required for render. Check .renderGraphSvg( svg ).");this.flatGraph.forEach(function(T){T.render(E,f)})},_.prototype.copy=function(E){var T={};return this.constructor.optionKeys.forEach(function(k){T[k]=this[k]},this),a.extend(T,E),new this.constructor(T)},_.prototype.copyGraph=function(E){var T=this.copy(E);return this.children.forEach(function(k){k.copyGraph({addTo:T})}),T},_.prototype.normalizeRotate=function(){this.rotate.x=a.modulo(this.rotate.x,m),this.rotate.y=a.modulo(this.rotate.y,m),this.rotate.z=a.modulo(this.rotate.z,m)},_.subclass=function E(T){return function(k){function G(q){this.create(q||{})}return G.prototype=Object.create(T.prototype),G.prototype.constructor=G,G.defaults=a.extend({},T.defaults),a.extend(G.defaults,k),G.optionKeys=T.optionKeys.slice(0),Object.keys(G.defaults).forEach(function(q){!G.optionKeys.indexOf(q)!=1&&G.optionKeys.push(q)}),G.subclass=E(G),G}}(_),_})},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(3),r(6),r(8),r(4));else{var h=a.Zdog;h.Shape=c(h,h.Vector,h.PathCommand,h.Anchor)}})(this,function(a,c,h,f){var m=f.subclass({stroke:1,fill:!1,color:"#333",closed:!0,visible:!0,path:[{}],front:{z:1},backface:!0});m.prototype.create=function(E){f.prototype.create.call(this,E),this.updatePath(),this.front=new c(E.front||this.front),this.renderFront=new c(this.front),this.renderNormal=new c};var b=["move","line","bezier","arc"];m.prototype.updatePath=function(){this.setPath(),this.updatePathCommands()},m.prototype.setPath=function(){},m.prototype.updatePathCommands=function(){var E;this.pathCommands=this.path.map(function(T,k){var G=Object.keys(T),q=G[0],X=T[q];G.length==1&&b.indexOf(q)!=-1||(q="line",X=T);var Y=q=="line"||q=="move",W=Array.isArray(X);Y&&!W&&(X=[X]);var ne=new h(q=k===0?"move":q,X,E);return E=ne.endRenderPoint,ne})},m.prototype.reset=function(){this.renderOrigin.set(this.origin),this.renderFront.set(this.front),this.pathCommands.forEach(function(E){E.reset()})},m.prototype.transform=function(E,T,k){this.renderOrigin.transform(E,T,k),this.renderFront.transform(E,T,k),this.renderNormal.set(this.renderOrigin).subtract(this.renderFront),this.pathCommands.forEach(function(G){G.transform(E,T,k)}),this.children.forEach(function(G){G.transform(E,T,k)})},m.prototype.updateSortValue=function(){var E=this.pathCommands.length,T=this.pathCommands[0].endRenderPoint,k=this.pathCommands[E-1].endRenderPoint;E>2&&T.isSame(k)&&(E-=1);for(var G=0,q=0;q<E;q++)G+=this.pathCommands[q].endRenderPoint.z;this.sortValue=G/E},m.prototype.render=function(E,T){var k=this.pathCommands.length;if(this.visible&&k&&(this.isFacingBack=this.renderNormal.z>0,this.backface||!this.isFacingBack)){if(!T)throw new Error("Zdog renderer required. Set to "+T);var G=k==1;T.isCanvas&&G?this.renderCanvasDot(E,T):this.renderPath(E,T)}};var _=a.TAU;return m.prototype.renderCanvasDot=function(E){var T=this.getLineWidth();if(T){E.fillStyle=this.getRenderColor();var k=this.pathCommands[0].endRenderPoint;E.beginPath();var G=T/2;E.arc(k.x,k.y,G,0,_),E.fill()}},m.prototype.getLineWidth=function(){return this.stroke?this.stroke==1?1:this.stroke:0},m.prototype.getRenderColor=function(){return typeof this.backface=="string"&&this.isFacingBack?this.backface:this.color},m.prototype.renderPath=function(E,T){var k=this.getRenderElement(E,T),G=!(this.pathCommands.length==2&&this.pathCommands[1].method=="line")&&this.closed,q=this.getRenderColor();T.renderPath(E,k,this.pathCommands,G),T.stroke(E,k,this.stroke,q,this.getLineWidth()),T.fill(E,k,this.fill,q),T.end(E,k)},m.prototype.getRenderElement=function(E,T){if(T.isSvg)return this.svgElement||(this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.svgElement.setAttribute("stroke-linecap","round"),this.svgElement.setAttribute("stroke-linejoin","round")),this.svgElement},m})},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(3));else{var h=a.Zdog;h.Vector=c(h)}})(this,function(a){function c(b){this.set(b)}var h=a.TAU;function f(b,_,E,T){if(_&&_%h!=0){var k=Math.cos(_),G=Math.sin(_),q=b[E],X=b[T];b[E]=q*k-X*G,b[T]=X*k+q*G}}function m(b){return Math.abs(b-1)<1e-8?1:Math.sqrt(b)}return c.prototype.set=function(b){return this.x=b&&b.x||0,this.y=b&&b.y||0,this.z=b&&b.z||0,this},c.prototype.write=function(b){return b?(this.x=b.x!=null?b.x:this.x,this.y=b.y!=null?b.y:this.y,this.z=b.z!=null?b.z:this.z,this):this},c.prototype.rotate=function(b){if(b)return this.rotateZ(b.z),this.rotateY(b.y),this.rotateX(b.x),this},c.prototype.rotateZ=function(b){f(this,b,"x","y")},c.prototype.rotateX=function(b){f(this,b,"y","z")},c.prototype.rotateY=function(b){f(this,b,"x","z")},c.prototype.isSame=function(b){return!!b&&this.x===b.x&&this.y===b.y&&this.z===b.z},c.prototype.add=function(b){return b?(this.x+=b.x||0,this.y+=b.y||0,this.z+=b.z||0,this):this},c.prototype.subtract=function(b){return b?(this.x-=b.x||0,this.y-=b.y||0,this.z-=b.z||0,this):this},c.prototype.multiply=function(b){return b==null||(typeof b=="number"?(this.x*=b,this.y*=b,this.z*=b):(this.x*=b.x!=null?b.x:1,this.y*=b.y!=null?b.y:1,this.z*=b.z!=null?b.z:1)),this},c.prototype.transform=function(b,_,E){return this.multiply(E),this.rotate(_),this.add(b),this},c.prototype.lerp=function(b,_){return this.x=a.lerp(this.x,b.x||0,_),this.y=a.lerp(this.y,b.y||0,_),this.z=a.lerp(this.z,b.z||0,_),this},c.prototype.magnitude=function(){return m(this.x*this.x+this.y*this.y+this.z*this.z)},c.prototype.magnitude2d=function(){return m(this.x*this.x+this.y*this.y)},c.prototype.copy=function(){return new c(this)},c})},function(A,n,r){function a(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function c(O,N){O.prototype=Object.create(N.prototype),O.prototype.constructor=O,O.__proto__=N}/*!
 * GSAP 3.6.0
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/r.r(n),r.d(n,"gsap",function(){return Fs}),r.d(n,"default",function(){return Fs}),r.d(n,"CSSPlugin",function(){return Qo}),r.d(n,"TweenMax",function(){return Ms}),r.d(n,"TweenLite",function(){return kt}),r.d(n,"TimelineMax",function(){return Ci}),r.d(n,"TimelineLite",function(){return Ci}),r.d(n,"Power0",function(){return Ii}),r.d(n,"Power1",function(){return Za}),r.d(n,"Power2",function(){return sh}),r.d(n,"Power3",function(){return fa}),r.d(n,"Power4",function(){return uu}),r.d(n,"Linear",function(){return Bu}),r.d(n,"Quad",function(){return Ho}),r.d(n,"Cubic",function(){return Hu}),r.d(n,"Quart",function(){return ka}),r.d(n,"Quint",function(){return hs}),r.d(n,"Strong",function(){return jo}),r.d(n,"Elastic",function(){return rs}),r.d(n,"Back",function(){return qi}),r.d(n,"SteppedEase",function(){return Lr}),r.d(n,"Bounce",function(){return Tn}),r.d(n,"Sine",function(){return It}),r.d(n,"Expo",function(){return Gi}),r.d(n,"Circ",function(){return Ji});var h,f,m,b,_,E,T,k,G,q,X,Y,W,ne,oe,le,Se,be,Pe,P,We,tt,dt,Ke,Ze,Xe,ft,Be,Qe={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ue={duration:.5,overwrite:!1,delay:0},te=1e8,lt=2*Math.PI,_e=lt/4,ke=0,rt=Math.sqrt,St=Math.cos,Ut=Math.sin,we=function(O){return typeof O=="string"},Pt=function(O){return typeof O=="function"},gt=function(O){return typeof O=="number"},Le=function(O){return O===void 0},Bt=function(O){return typeof O=="object"},bn=function(O){return O!==!1},cr=function(){return typeof window<"u"},qt=function(O){return Pt(O)||we(O)},tn=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},on=Array.isArray,jt=/(?:-?\.?\d|\.)+/gi,$e=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Gn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,sr=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,or=/[+-]=-?[.\d]+/,zn=/[#\-+.]*\b[a-z\d-=+%.]+/gi,hr=/[\d.+\-=]+(?:e[-+]\d*)*/i,br={},wr={},Vn=function(O){return(wr=la(O,br))&&lr},Nr=function(O,N){return console.warn("Invalid property",O,"set to",N,"Missing plugin? gsap.registerPlugin()")},zr=function(O,N){return!N&&console.warn(O)},Cr=function(O,N){return O&&(br[O]=N)&&wr&&(wr[O]=N)||br},Zr=function(){return 0},Ir={},Pn=[],tr={},Fr={},xi={},Yi=30,Zi=[],Sr="",ai=function(O){var N,D,j=O[0];if(Bt(j)||Pt(j)||(O=[O]),!(N=(j._gsap||{}).harness)){for(D=Zi.length;D--&&!Zi[D].targetTest(j););N=Zi[D]}for(D=O.length;D--;)O[D]&&(O[D]._gsap||(O[D]._gsap=new oo(O[D],N)))||O.splice(D,1);return O},Ai=function(O){return O._gsap||ai(kr(O))[0]._gsap},Gs=function(O,N,D){return(D=O[N])&&Pt(D)?O[N]():Le(D)&&O.getAttribute&&O.getAttribute(N)||D},ji=function(O,N){return(O=O.split(",")).forEach(N)||O},ar=function(O){return Math.round(1e5*O)/1e5||0},aa=function(O,N){for(var D=N.length,j=0;O.indexOf(N[j])<0&&++j<D;);return j<D},ls=function(O,N,D){var j,J=gt(O[1]),re=(J?2:1)+(N<2?0:1),de=O[re];if(J&&(de.duration=O[1]),de.parent=D,N){for(j=de;D&&!("immediateRender"in j);)j=D.vars.defaults||{},D=bn(D.vars.inherit)&&D.parent;de.immediateRender=bn(j.immediateRender),N<2?de.runBackwards=1:de.startAt=O[re-1]}return de},Ui=function(){var O,N,D=Pn.length,j=Pn.slice(0);for(tr={},Pn.length=0,O=0;O<D;O++)(N=j[O])&&N._lazy&&(N.render(N._lazy[0],N._lazy[1],!0)._lazy=0)},ts=function(O,N,D,j){Pn.length&&Ui(),O.render(N,D,j),Pn.length&&Ui()},Ls=function(O){var N=parseFloat(O);return(N||N===0)&&(O+"").match(zn).length<2?N:we(O)?O.trim():O},Ps=function(O){return O},Kr=function(O,N){for(var D in N)D in O||(O[D]=N[D]);return O},Ca=function(O,N){for(var D in N)D in O||D==="duration"||D==="ease"||(O[D]=N[D])},la=function(O,N){for(var D in N)O[D]=N[D];return O},_o=function O(N,D){for(var j in D)j!=="__proto__"&&j!=="constructor"&&j!=="prototype"&&(N[j]=Bt(D[j])?O(N[j]||(N[j]={}),D[j]):D[j]);return N},So=function(O,N){var D,j={};for(D in O)D in N||(j[D]=O[D]);return j},ro=function(O){var N=O.parent||f,D=O.keyframes?Ca:Kr;if(bn(O.inherit))for(;N;)D(O,N.vars.defaults),N=N.parent||N._dp;return O},ws=function(O,N,D,j){D===void 0&&(D="_first"),j===void 0&&(j="_last");var J=N._prev,re=N._next;J?J._next=re:O[D]===N&&(O[D]=re),re?re._prev=J:O[j]===N&&(O[j]=J),N._next=N._prev=N.parent=null},mi=function(O,N){O.parent&&(!N||O.parent.autoRemoveChildren)&&O.parent.remove(O),O._act=0},Ki=function(O,N){if(O&&(!N||N._end>O._dur||N._start<0))for(var D=O;D;)D._dirty=1,D=D.parent;return O},us=function(O){for(var N=O.parent;N&&N.parent;)N._dirty=1,N.totalDuration(),N=N.parent;return O},jl=function(O){return O._repeat?Ks(O._tTime,O=O.duration()+O._rDelay)*O:0},Ks=function(O,N){var D=Math.floor(O/=N);return O&&D===O?D-1:D},_s=function(O,N){return(O-N._start)*N._ts+(N._ts>=0?0:N._dirty?N.totalDuration():N._tDur)},He=function(O){return O._end=ar(O._start+(O._tDur/Math.abs(O._ts||O._rts||1e-8)||0))},yt=function(O,N){var D=O._dp;return D&&D.smoothChildTiming&&O._ts&&(O._start=ar(D._time-(O._ts>0?N/O._ts:((O._dirty?O.totalDuration():O._tDur)-N)/-O._ts)),He(O),D._dirty||Ki(D,O)),O},je=function(O,N){var D;if((N._time||N._initted&&!N._dur)&&(D=_s(O.rawTime(),N),(!N._dur||ri(0,N.totalDuration(),D)-N._tTime>1e-8)&&N.render(D,!0)),Ki(O,N)._dp&&O._initted&&O._time>=O._dur&&O._ts){if(O._dur<O.duration())for(D=O;D._dp;)D.rawTime()>=0&&D.totalTime(D._tTime),D=D._dp;O._zTime=-1e-8}},it=function(O,N,D,j){return N.parent&&mi(N),N._start=ar(D+N._delay),N._end=ar(N._start+(N.totalDuration()/Math.abs(N.timeScale())||0)),function(J,re,de,ve,Ce){var qe,Fe=J[ve];if(Ce)for(qe=re[Ce];Fe&&Fe[Ce]>qe;)Fe=Fe._prev;Fe?(re._next=Fe._next,Fe._next=re):(re._next=J[de],J[de]=re),re._next?re._next._prev=re:J[ve]=re,re._prev=Fe,re.parent=re._dp=J}(O,N,"_first","_last",O._sort?"_start":0),O._recent=N,j||je(O,N),O},Yt=function(O,N){return(br.ScrollTrigger||Nr("scrollTrigger",N))&&br.ScrollTrigger.create(N,O)},pn=function(O,N,D,j){return ie(O,N),O._initted?!D&&O._pt&&(O._dur&&O.vars.lazy!==!1||!O._dur&&O.vars.lazy)&&T!==Ds.frame?(Pn.push(O),O._lazy=[N,j],1):void 0:1},dn=function(O,N,D,j){var J=O._repeat,re=ar(N)||0,de=O._tTime/O._tDur;return de&&!j&&(O._time*=re/O._dur),O._dur=re,O._tDur=J?J<0?1e10:ar(re*(J+1)+O._rDelay*J):re,de&&!j?yt(O,O._tTime=O._tDur*de):O.parent&&He(O),D||Ki(O.parent,O),O},Kn=function(O){return O instanceof Ci?Ki(O):dn(O,O._dur)},Jr={_start:0,endTime:Zr},Sn=function O(N,D){var j,J,re=N.labels,de=N._recent||Jr,ve=N.duration()>=te?de.endTime(!1):N._dur;return we(D)&&(isNaN(D)||D in re)?(j=D.charAt(0))==="<"||j===">"?(j==="<"?de._start:de.endTime(de._repeat>=0))+(parseFloat(D.substr(1))||0):(j=D.indexOf("="))<0?(D in re||(re[D]=ve),re[D]):(J=+(D.charAt(j-1)+D.substr(j+1)),j>1?O(N,D.substr(0,j-1))+J:ve+J):D==null?ve:+D},Mr=function(O,N){return O||O===0?N(O):N},ri=function(O,N,D){return D<O?O:D>N?N:D},Br=function(O){if(typeof O!="string")return"";var N=hr.exec(O);return N?O.substr(N.index+N[0].length):""},Qr=[].slice,Hr=function(O,N){return O&&Bt(O)&&"length"in O&&(!N&&!O.length||O.length-1 in O&&Bt(O[0]))&&!O.nodeType&&O!==m},pr=function(O,N,D){return D===void 0&&(D=[]),O.forEach(function(j){var J;return we(j)&&!N||Hr(j,1)?(J=D).push.apply(J,kr(j)):D.push(j)})||D},kr=function(O,N){return!we(O)||N||!b&&Fo()?on(O)?pr(O,N):Hr(O)?Qr.call(O,0):O?[O]:[]:Qr.call(_.querySelectorAll(O),0)},jr=function(O){return O.sort(function(){return .5-Math.random()})},ei=function(O){if(Pt(O))return O;var N=Bt(O)?O:{each:O},D=cs(N.ease),j=N.from||0,J=parseFloat(N.base)||0,re={},de=j>0&&j<1,ve=isNaN(j)||de,Ce=N.axis,qe=j,Fe=j;return we(j)?qe=Fe={center:.5,edges:.5,end:1}[j]||0:!de&&ve&&(qe=j[0],Fe=j[1]),function(nt,Tt,Ct){var Rn,xn,nn,Wt,Kt,At,an,_n,In,Mn=(Ct||N).length,zt=re[Mn];if(!zt){if(!(In=N.grid==="auto"?0:(N.grid||[1,te])[1])){for(an=-1e8;an<(an=Ct[In++].getBoundingClientRect().left)&&In<Mn;);In--}for(zt=re[Mn]=[],Rn=ve?Math.min(In,Mn)*qe-.5:j%In,xn=ve?Mn*Fe/In-.5:j/In|0,an=0,_n=te,At=0;At<Mn;At++)nn=At%In-Rn,Wt=xn-(At/In|0),zt[At]=Kt=Ce?Math.abs(Ce==="y"?Wt:nn):rt(nn*nn+Wt*Wt),Kt>an&&(an=Kt),Kt<_n&&(_n=Kt);j==="random"&&jr(zt),zt.max=an-_n,zt.min=_n,zt.v=Mn=(parseFloat(N.amount)||parseFloat(N.each)*(In>Mn?Mn-1:Ce?Ce==="y"?Mn/In:In:Math.max(In,Mn/In))||0)*(j==="edges"?-1:1),zt.b=Mn<0?J-Mn:J,zt.u=Br(N.amount||N.each)||0,D=D&&Mn<0?ha(D):D}return Mn=(zt[nt]-zt.min)/zt.max||0,ar(zt.b+(D?D(Mn):Mn)*zt.v)+zt.u}},bi=function(O){var N=O<1?Math.pow(10,(O+"").length-2):1;return function(D){var j=Math.round(parseFloat(D)/O)*O*N;return(j-j%1)/N+(gt(D)?0:Br(D))}},Wi=function(O,N){var D,j,J=on(O);return!J&&Bt(O)&&(D=J=O.radius||te,O.values?(O=kr(O.values),(j=!gt(O[0]))&&(D*=D)):O=bi(O.increment)),Mr(N,J?Pt(O)?function(re){return j=O(re),Math.abs(j-re)<=D?j:re}:function(re){for(var de,ve,Ce=parseFloat(j?re.x:re),qe=parseFloat(j?re.y:0),Fe=te,nt=0,Tt=O.length;Tt--;)(de=j?(de=O[Tt].x-Ce)*de+(ve=O[Tt].y-qe)*ve:Math.abs(O[Tt]-Ce))<Fe&&(Fe=de,nt=Tt);return nt=!D||Fe<=D?O[nt]:re,j||nt===re||gt(re)?nt:nt+Br(re)}:bi(O))},ns=function(O,N,D,j){return Mr(on(O)?!N:D===!0?!!(D=0):!j,function(){return on(O)?O[~~(Math.random()*O.length)]:(D=D||1e-5)&&(j=D<1?Math.pow(10,(D+"").length-2):1)&&Math.floor(Math.round((O-D/2+Math.random()*(N-O+.99*D))/D)*D*j)/j})},Io=function(O,N,D){return Mr(D,function(j){return O[~~N(j)]})},Eo=function(O){for(var N,D,j,J,re=0,de="";~(N=O.indexOf("random(",re));)j=O.indexOf(")",N),J=O.charAt(N+7)==="[",D=O.substr(N+7,j-N-7).match(J?zn:jt),de+=O.substr(re,N-re)+ns(J?D:+D[0],J?0:+D[1],+D[2]||1e-5),re=j+1;return de+O.substr(re,O.length-re)},Fi=function(O,N,D,j,J){var re=N-O,de=j-D;return Mr(J,function(ve){return D+((ve-O)/re*de||0)})},Vs=function(O,N,D){var j,J,re,de=O.labels,ve=te;for(j in de)(J=de[j]-N)<0==!!D&&J&&ve>(J=Math.abs(J))&&(re=j,ve=J);return re},Ti=function(O,N,D){var j,J,re=O.vars,de=re[N];if(de)return j=re[N+"Params"],J=re.callbackScope||O,D&&Pn.length&&Ui(),j?de.apply(J,j):de.call(J)},ua=function(O){return mi(O),O.progress()<1&&Ti(O,"onInterrupt"),O},lu=function(O){var N=(O=!O.name&&O.default||O).name,D=Pt(O),j=N&&!D&&O.init?function(){this._props=[]}:O,J={init:Zr,render:he,add:da,kill:ze,modifier:Ie,rawVars:0},re={targetTest:0,get:0,getSetter:B,aliases:{},register:0};if(Fo(),O!==j){if(Fr[N])return;Kr(j,Kr(So(O,J),re)),la(j.prototype,la(J,So(O,re))),Fr[j.prop=N]=j,O.targetTest&&(Zi.push(j),Ir[N]=1),N=(N==="css"?"CSS":N.charAt(0).toUpperCase()+N.substr(1))+"Plugin"}Cr(N,j),O.register&&O.register(lr,j,Et)},Ws={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},Do=function(O,N,D){return 255*(6*(O=O<0?O+1:O>1?O-1:O)<1?N+(D-N)*O*6:O<.5?D:3*O<2?N+(D-N)*(2/3-O)*6:N)+.5|0},La=function(O,N,D){var j,J,re,de,ve,Ce,qe,Fe,nt,Tt,Ct=O?gt(O)?[O>>16,O>>8&255,255&O]:0:Ws.black;if(!Ct){if(O.substr(-1)===","&&(O=O.substr(0,O.length-1)),Ws[O])Ct=Ws[O];else if(O.charAt(0)==="#"){if(O.length<6&&(j=O.charAt(1),J=O.charAt(2),re=O.charAt(3),O="#"+j+j+J+J+re+re+(O.length===5?O.charAt(4)+O.charAt(4):"")),O.length===9)return[(Ct=parseInt(O.substr(1,6),16))>>16,Ct>>8&255,255&Ct,parseInt(O.substr(7),16)/255];Ct=[(O=parseInt(O.substr(1),16))>>16,O>>8&255,255&O]}else if(O.substr(0,3)==="hsl")if(Ct=Tt=O.match(jt),N){if(~O.indexOf("="))return Ct=O.match($e),D&&Ct.length<4&&(Ct[3]=1),Ct}else de=+Ct[0]%360/360,ve=+Ct[1]/100,j=2*(Ce=+Ct[2]/100)-(J=Ce<=.5?Ce*(ve+1):Ce+ve-Ce*ve),Ct.length>3&&(Ct[3]*=1),Ct[0]=Do(de+1/3,j,J),Ct[1]=Do(de,j,J),Ct[2]=Do(de-1/3,j,J);else Ct=O.match(jt)||Ws.transparent;Ct=Ct.map(Number)}return N&&!Tt&&(j=Ct[0]/255,J=Ct[1]/255,re=Ct[2]/255,Ce=((qe=Math.max(j,J,re))+(Fe=Math.min(j,J,re)))/2,qe===Fe?de=ve=0:(nt=qe-Fe,ve=Ce>.5?nt/(2-qe-Fe):nt/(qe+Fe),de=qe===j?(J-re)/nt+(J<re?6:0):qe===J?(re-j)/nt+2:(j-J)/nt+4,de*=60),Ct[0]=~~(de+.5),Ct[1]=~~(100*ve+.5),Ct[2]=~~(100*Ce+.5)),D&&Ct.length<4&&(Ct[3]=1),Ct},Ya=function(O){var N=[],D=[],j=-1;return O.split(No).forEach(function(J){var re=J.match(Gn)||[];N.push.apply(N,re),D.push(j+=re.length+1)}),N.c=D,N},$o=function(O,N,D){var j,J,re,de,ve="",Ce=(O+ve).match(No),qe=N?"hsla(":"rgba(",Fe=0;if(!Ce)return O;if(Ce=Ce.map(function(nt){return(nt=La(nt,N,1))&&qe+(N?nt[0]+","+nt[1]+"%,"+nt[2]+"%,"+nt[3]:nt.join(","))+")"}),D&&(re=Ya(O),(j=D.c).join(ve)!==re.c.join(ve)))for(de=(J=O.replace(No,"1").split(Gn)).length-1;Fe<de;Fe++)ve+=J[Fe]+(~j.indexOf(Fe)?Ce.shift()||qe+"0,0,0,0)":(re.length?re:Ce.length?Ce:D).shift());if(!J)for(de=(J=O.split(No)).length-1;Fe<de;Fe++)ve+=J[Fe]+Ce[Fe];return ve+J[de]},No=function(){var O,N="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(O in Ws)N+="|"+O+"\\b";return new RegExp(N+")","gi")}(),Xr=/hsl[a]?\(/,ul=function(O){var N,D=O.join(" ");if(No.lastIndex=0,No.test(D))return N=Xr.test(D),O[1]=$o(O[1],N),O[0]=$o(O[0],N,Ya(O[1])),!0},Ds=(le=Date.now,Se=500,be=33,Pe=le(),P=Pe,tt=We=1e3/240,Ke=function O(N){var D,j,J,re,de=le()-P,ve=N===!0;if(de>Se&&(Pe+=de-be),((D=(J=(P+=de)-Pe)-tt)>0||ve)&&(re=++W.frame,ne=J-1e3*W.time,W.time=J/=1e3,tt+=D+(D>=We?4:We-D),j=1),ve||(q=X(O)),j)for(oe=0;oe<dt.length;oe++)dt[oe](J,ne,re,N)},W={time:0,frame:0,tick:function(){Ke(!0)},deltaRatio:function(O){return ne/(1e3/(O||60))},wake:function(){E&&(!b&&cr()&&(m=b=window,_=m.document||{},br.gsap=lr,(m.gsapVersions||(m.gsapVersions=[])).push(lr.version),Vn(wr||m.GreenSockGlobals||!m.gsap&&m||{}),Y=m.requestAnimationFrame),q&&W.sleep(),X=Y||function(O){return setTimeout(O,tt-1e3*W.time+1|0)},G=1,Ke(2))},sleep:function(){(Y?m.cancelAnimationFrame:clearTimeout)(q),G=0,X=Zr},lagSmoothing:function(O,N){Se=O||1/1e-8,be=Math.min(N,Se,0)},fps:function(O){We=1e3/(O||240),tt=1e3*W.time+We},add:function(O){dt.indexOf(O)<0&&dt.push(O),Fo()},remove:function(O){var N;~(N=dt.indexOf(O))&&dt.splice(N,1)&&oe>=N&&oe--},_listeners:dt=[]}),Fo=function(){return!G&&Ds.wake()},Rr={},Yo=/^[\d.\-M][\d.\-,\s]/,Pa=/["']/g,ca=function(O){for(var N,D,j,J={},re=O.substr(1,O.length-3).split(":"),de=re[0],ve=1,Ce=re.length;ve<Ce;ve++)D=re[ve],N=ve!==Ce-1?D.lastIndexOf(","):D.length,j=D.substr(0,N),J[de]=isNaN(j)?j.replace(Pa,"").trim():+j,de=D.substr(N+1).trim();return J},ha=function(O){return function(N){return 1-O(1-N)}},io=function O(N,D){for(var j,J=N._first;J;)J instanceof Ci?O(J,D):!J.vars.yoyoEase||J._yoyo&&J._repeat||J._yoyo===D||(J.timeline?O(J.timeline,D):(j=J._ease,J._ease=J._yEase,J._yEase=j,J._yoyo=D)),J=J._next},cs=function(O,N){return O&&(Pt(O)?O:Rr[O]||function(D){var j,J,re,de,ve=(D+"").split("("),Ce=Rr[ve[0]];return Ce&&ve.length>1&&Ce.config?Ce.config.apply(null,~D.indexOf("{")?[ca(ve[1])]:(j=D,J=j.indexOf("(")+1,re=j.indexOf(")"),de=j.indexOf("(",J),j.substring(J,~de&&de<re?j.indexOf(")",re+1):re)).split(",").map(Ls)):Rr._CE&&Yo.test(D)?Rr._CE("",D):Ce}(O))||N},Ss=function(O,N,D,j){D===void 0&&(D=function(de){return 1-N(1-de)}),j===void 0&&(j=function(de){return de<.5?N(2*de)/2:1-N(2*(1-de))/2});var J,re={easeIn:N,easeOut:D,easeInOut:j};return ji(O,function(de){for(var ve in Rr[de]=br[de]=re,Rr[J=de.toLowerCase()]=D,re)Rr[J+(ve==="easeIn"?".in":ve==="easeOut"?".out":".inOut")]=Rr[de+"."+ve]=re[ve]}),re},so=function(O){return function(N){return N<.5?(1-O(1-2*N))/2:.5+O(2*(N-.5))/2}},zo=function O(N,D,j){var J=D>=1?D:1,re=(j||(N?.3:.45))/(D<1?D:1),de=re/lt*(Math.asin(1/J)||0),ve=function(qe){return qe===1?1:J*Math.pow(2,-10*qe)*Ut((qe-de)*re)+1},Ce=N==="out"?ve:N==="in"?function(qe){return 1-ve(1-qe)}:so(ve);return re=lt/re,Ce.config=function(qe,Fe){return O(N,qe,Fe)},Ce},Es=function O(N,D){D===void 0&&(D=1.70158);var j=function(re){return re?--re*re*((D+1)*re+D)+1:0},J=N==="out"?j:N==="in"?function(re){return 1-j(1-re)}:so(j);return J.config=function(re){return O(N,re)},J};ji("Linear,Quad,Cubic,Quart,Quint,Strong",function(O,N){var D=N<5?N+1:N;Ss(O+",Power"+(D-1),N?function(j){return Math.pow(j,D)}:function(j){return j},function(j){return 1-Math.pow(1-j,D)},function(j){return j<.5?Math.pow(2*j,D)/2:1-Math.pow(2*(1-j),D)/2})}),Rr.Linear.easeNone=Rr.none=Rr.Linear.easeIn,Ss("Elastic",zo("in"),zo("out"),zo()),Ze=7.5625,ft=1/(Xe=2.75),Ss("Bounce",function(O){return 1-Be(1-O)},Be=function(O){return O<ft?Ze*O*O:O<.7272727272727273?Ze*Math.pow(O-1.5/Xe,2)+.75:O<.9090909090909092?Ze*(O-=2.25/Xe)*O+.9375:Ze*Math.pow(O-2.625/Xe,2)+.984375}),Ss("Expo",function(O){return O?Math.pow(2,10*(O-1)):0}),Ss("Circ",function(O){return-(rt(1-O*O)-1)}),Ss("Sine",function(O){return O===1?1:1-St(O*_e)}),Ss("Back",Es("in"),Es("out"),Es()),Rr.SteppedEase=Rr.steps=br.SteppedEase={config:function(O,N){O===void 0&&(O=1);var D=1/O,j=O+(N?0:1),J=N?1:0;return function(re){return((j*ri(0,1-1e-8,re)|0)+J)*D}}},Ue.ease=Rr["quad.out"],ji("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(O){return Sr+=O+","+O+"Params,"});var oo=function(O,N){this.id=ke++,O._gsap=this,this.target=O,this.harness=N,this.get=N?N.get:Gs,this.set=N?N.getSetter:B},Ra=function(){function O(D,j){var J=D.parent||f;this.vars=D,this._delay=+D.delay||0,(this._repeat=D.repeat===1/0?-2:D.repeat||0)&&(this._rDelay=D.repeatDelay||0,this._yoyo=!!D.yoyo||!!D.yoyoEase),this._ts=1,dn(this,+D.duration,1,1),this.data=D.data,G||Ds.wake(),J&&it(J,this,j||j===0?j:J._time,1),D.reversed&&this.reverse(),D.paused&&this.paused(!0)}var N=O.prototype;return N.delay=function(D){return D||D===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+D-this._delay),this._delay=D,this):this._delay},N.duration=function(D){return arguments.length?this.totalDuration(this._repeat>0?D+(D+this._rDelay)*this._repeat:D):this.totalDuration()&&this._dur},N.totalDuration=function(D){return arguments.length?(this._dirty=0,dn(this,this._repeat<0?D:(D-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},N.totalTime=function(D,j){if(Fo(),!arguments.length)return this._tTime;var J=this._dp;if(J&&J.smoothChildTiming&&this._ts){for(yt(this,D),!J._dp||J.parent||je(J,this);J.parent;)J.parent._time!==J._start+(J._ts>=0?J._tTime/J._ts:(J.totalDuration()-J._tTime)/-J._ts)&&J.totalTime(J._tTime,!0),J=J.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&D<this._tDur||this._ts<0&&D>0||!this._tDur&&!D)&&it(this._dp,this,this._start-this._delay)}return(this._tTime!==D||!this._dur&&!j||this._initted&&Math.abs(this._zTime)===1e-8||!D&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=D),ts(this,D,j)),this},N.time=function(D,j){return arguments.length?this.totalTime(Math.min(this.totalDuration(),D+jl(this))%this._dur||(D?this._dur:0),j):this._time},N.totalProgress=function(D,j){return arguments.length?this.totalTime(this.totalDuration()*D,j):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},N.progress=function(D,j){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?D:1-D)+jl(this),j):this.duration()?Math.min(1,this._time/this._dur):this.ratio},N.iteration=function(D,j){var J=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(D-1)*J,j):this._repeat?Ks(this._tTime,J)+1:1},N.timeScale=function(D){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===D)return this;var j=this.parent&&this._ts?_s(this.parent._time,this):this._tTime;return this._rts=+D||0,this._ts=this._ps||D===-1e-8?0:this._rts,us(this.totalTime(ri(-this._delay,this._tDur,j),!0))},N.paused=function(D){return arguments.length?(this._ps!==D&&(this._ps=D,D?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Fo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&(this._tTime-=1e-8)&&Math.abs(this._zTime)!==1e-8))),this):this._ps},N.startTime=function(D){if(arguments.length){this._start=D;var j=this.parent||this._dp;return j&&(j._sort||!this.parent)&&it(j,this,D-this._delay),this}return this._start},N.endTime=function(D){return this._start+(bn(D)?this.totalDuration():this.duration())/Math.abs(this._ts)},N.rawTime=function(D){var j=this.parent||this._dp;return j?D&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_s(j.rawTime(D),this):this._tTime:this._tTime},N.globalTime=function(D){for(var j=this,J=arguments.length?D:j.rawTime();j;)J=j._start+J/(j._ts||1),j=j._dp;return J},N.repeat=function(D){return arguments.length?(this._repeat=D===1/0?-2:D,Kn(this)):this._repeat===-2?1/0:this._repeat},N.repeatDelay=function(D){return arguments.length?(this._rDelay=D,Kn(this)):this._rDelay},N.yoyo=function(D){return arguments.length?(this._yoyo=D,this):this._yoyo},N.seek=function(D,j){return this.totalTime(Sn(this,D),bn(j))},N.restart=function(D,j){return this.play().totalTime(D?-this._delay:0,bn(j))},N.play=function(D,j){return D!=null&&this.seek(D,j),this.reversed(!1).paused(!1)},N.reverse=function(D,j){return D!=null&&this.seek(D||this.totalDuration(),j),this.reversed(!0).paused(!1)},N.pause=function(D,j){return D!=null&&this.seek(D,j),this.paused(!0)},N.resume=function(){return this.paused(!1)},N.reversed=function(D){return arguments.length?(!!D!==this.reversed()&&this.timeScale(-this._rts||(D?-1e-8:0)),this):this._rts<0},N.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},N.isActive=function(){var D,j=this.parent||this._dp,J=this._start;return!(j&&!(this._ts&&this._initted&&j.isActive()&&(D=j.rawTime(!0))>=J&&D<this.endTime(!0)-1e-8))},N.eventCallback=function(D,j,J){var re=this.vars;return arguments.length>1?(j?(re[D]=j,J&&(re[D+"Params"]=J),D==="onUpdate"&&(this._onUpdate=j)):delete re[D],this):re[D]},N.then=function(D){var j=this;return new Promise(function(J){var re=Pt(D)?D:Ps,de=function(){var ve=j.then;j.then=null,Pt(re)&&(re=re(j))&&(re.then||re===j)&&(j.then=ve),J(re),j.then=ve};j._initted&&j.totalProgress()===1&&j._ts>=0||!j._tTime&&j._ts<0?de():j._prom=de})},N.kill=function(){ua(this)},O}();Kr(Ra.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ci=function(O){function N(j,J){var re;return j===void 0&&(j={}),(re=O.call(this,j,J)||this).labels={},re.smoothChildTiming=!!j.smoothChildTiming,re.autoRemoveChildren=!!j.autoRemoveChildren,re._sort=bn(j.sortChildren),re.parent&&je(re.parent,a(re)),j.scrollTrigger&&Yt(a(re),j.scrollTrigger),re}c(N,O);var D=N.prototype;return D.to=function(j,J,re){return new kt(j,ls(arguments,0,this),Sn(this,gt(J)?arguments[3]:re)),this},D.from=function(j,J,re){return new kt(j,ls(arguments,1,this),Sn(this,gt(J)?arguments[3]:re)),this},D.fromTo=function(j,J,re,de){return new kt(j,ls(arguments,2,this),Sn(this,gt(J)?arguments[4]:de)),this},D.set=function(j,J,re){return J.duration=0,J.parent=this,ro(J).repeatDelay||(J.repeat=0),J.immediateRender=!!J.immediateRender,new kt(j,J,Sn(this,re),1),this},D.call=function(j,J,re){return it(this,kt.delayedCall(0,j,J),Sn(this,re))},D.staggerTo=function(j,J,re,de,ve,Ce,qe){return re.duration=J,re.stagger=re.stagger||de,re.onComplete=Ce,re.onCompleteParams=qe,re.parent=this,new kt(j,re,Sn(this,ve)),this},D.staggerFrom=function(j,J,re,de,ve,Ce,qe){return re.runBackwards=1,ro(re).immediateRender=bn(re.immediateRender),this.staggerTo(j,J,re,de,ve,Ce,qe)},D.staggerFromTo=function(j,J,re,de,ve,Ce,qe,Fe){return de.startAt=re,ro(de).immediateRender=bn(de.immediateRender),this.staggerTo(j,J,de,ve,Ce,qe,Fe)},D.render=function(j,J,re){var de,ve,Ce,qe,Fe,nt,Tt,Ct,Rn,xn,nn,Wt,Kt=this._time,At=this._dirty?this.totalDuration():this._tDur,an=this._dur,_n=this!==f&&j>At-1e-8&&j>=0?At:j<1e-8?0:j,In=this._zTime<0!=j<0&&(this._initted||!an);if(_n!==this._tTime||re||In){if(Kt!==this._time&&an&&(_n+=this._time-Kt,j+=this._time-Kt),de=_n,Rn=this._start,nt=!(Ct=this._ts),In&&(an||(Kt=this._zTime),(j||!J)&&(this._zTime=j)),this._repeat){if(nn=this._yoyo,Fe=an+this._rDelay,this._repeat<-1&&j<0)return this.totalTime(100*Fe+j,J,re);if(de=ar(_n%Fe),_n===At?(qe=this._repeat,de=an):((qe=~~(_n/Fe))&&qe===_n/Fe&&(de=an,qe--),de>an&&(de=an)),xn=Ks(this._tTime,Fe),!Kt&&this._tTime&&xn!==qe&&(xn=qe),nn&&1&qe&&(de=an-de,Wt=1),qe!==xn&&!this._lock){var Mn=nn&&1&xn,zt=Mn===(nn&&1&qe);if(qe<xn&&(Mn=!Mn),Kt=Mn?0:an,this._lock=1,this.render(Kt||(Wt?0:ar(qe*Fe)),J,!an)._lock=0,!J&&this.parent&&Ti(this,"onRepeat"),this.vars.repeatRefresh&&!Wt&&(this.invalidate()._lock=1),Kt!==this._time||nt!==!this._ts)return this;if(an=this._dur,At=this._tDur,zt&&(this._lock=2,Kt=Mn?an:-1e-4,this.render(Kt,!0),this.vars.repeatRefresh&&!Wt&&this.invalidate()),this._lock=0,!this._ts&&!nt)return this;io(this,Wt)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(Tt=function(Pi,yn,Ei){var Qn;if(Ei>yn)for(Qn=Pi._first;Qn&&Qn._start<=Ei;){if(!Qn._dur&&Qn.data==="isPause"&&Qn._start>yn)return Qn;Qn=Qn._next}else for(Qn=Pi._last;Qn&&Qn._start>=Ei;){if(!Qn._dur&&Qn.data==="isPause"&&Qn._start<yn)return Qn;Qn=Qn._prev}}(this,ar(Kt),ar(de)))&&(_n-=de-(de=Tt._start)),this._tTime=_n,this._time=de,this._act=!Ct,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=j,Kt=0),!Kt&&(de||!an&&j>=0)&&!J&&Ti(this,"onStart"),de>=Kt&&j>=0)for(ve=this._first;ve;){if(Ce=ve._next,(ve._act||de>=ve._start)&&ve._ts&&Tt!==ve){if(ve.parent!==this)return this.render(j,J,re);if(ve.render(ve._ts>0?(de-ve._start)*ve._ts:(ve._dirty?ve.totalDuration():ve._tDur)+(de-ve._start)*ve._ts,J,re),de!==this._time||!this._ts&&!nt){Tt=0,Ce&&(_n+=this._zTime=-1e-8);break}}ve=Ce}else{ve=this._last;for(var Dr=j<0?j:de;ve;){if(Ce=ve._prev,(ve._act||Dr<=ve._end)&&ve._ts&&Tt!==ve){if(ve.parent!==this)return this.render(j,J,re);if(ve.render(ve._ts>0?(Dr-ve._start)*ve._ts:(ve._dirty?ve.totalDuration():ve._tDur)+(Dr-ve._start)*ve._ts,J,re),de!==this._time||!this._ts&&!nt){Tt=0,Ce&&(_n+=this._zTime=Dr?-1e-8:1e-8);break}}ve=Ce}}if(Tt&&!J&&(this.pause(),Tt.render(de>=Kt?0:-1e-8)._zTime=de>=Kt?1:-1,this._ts))return this._start=Rn,He(this),this.render(j,J,re);this._onUpdate&&!J&&Ti(this,"onUpdate",!0),(_n===At&&At>=this.totalDuration()||!_n&&Kt)&&(Rn!==this._start&&Math.abs(Ct)===Math.abs(this._ts)||this._lock||((j||!an)&&(_n===At&&this._ts>0||!_n&&this._ts<0)&&mi(this,1),J||j<0&&!Kt||!_n&&!Kt||(Ti(this,_n===At?"onComplete":"onReverseComplete",!0),this._prom&&!(_n<At&&this.timeScale()>0)&&this._prom())))}return this},D.add=function(j,J){var re=this;if(gt(J)||(J=Sn(this,J)),!(j instanceof Ra)){if(on(j))return j.forEach(function(de){return re.add(de,J)}),this;if(we(j))return this.addLabel(j,J);if(!Pt(j))return this;j=kt.delayedCall(0,j)}return this!==j?it(this,j,J):this},D.getChildren=function(j,J,re,de){j===void 0&&(j=!0),J===void 0&&(J=!0),re===void 0&&(re=!0),de===void 0&&(de=-1e8);for(var ve=[],Ce=this._first;Ce;)Ce._start>=de&&(Ce instanceof kt?J&&ve.push(Ce):(re&&ve.push(Ce),j&&ve.push.apply(ve,Ce.getChildren(!0,J,re)))),Ce=Ce._next;return ve},D.getById=function(j){for(var J=this.getChildren(1,1,1),re=J.length;re--;)if(J[re].vars.id===j)return J[re]},D.remove=function(j){return we(j)?this.removeLabel(j):Pt(j)?this.killTweensOf(j):(ws(this,j),j===this._recent&&(this._recent=this._last),Ki(this))},D.totalTime=function(j,J){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ar(Ds.time-(this._ts>0?j/this._ts:(this.totalDuration()-j)/-this._ts))),O.prototype.totalTime.call(this,j,J),this._forcing=0,this):this._tTime},D.addLabel=function(j,J){return this.labels[j]=Sn(this,J),this},D.removeLabel=function(j){return delete this.labels[j],this},D.addPause=function(j,J,re){var de=kt.delayedCall(0,J||Zr,re);return de.data="isPause",this._hasPause=1,it(this,de,Sn(this,j))},D.removePause=function(j){var J=this._first;for(j=Sn(this,j);J;)J._start===j&&J.data==="isPause"&&mi(J),J=J._next},D.killTweensOf=function(j,J,re){for(var de=this.getTweensOf(j,re),ve=de.length;ve--;)ao!==de[ve]&&de[ve].kill(j,J);return this},D.getTweensOf=function(j,J){for(var re,de=[],ve=kr(j),Ce=this._first,qe=gt(J);Ce;)Ce instanceof kt?aa(Ce._targets,ve)&&(qe?(!ao||Ce._initted&&Ce._ts)&&Ce.globalTime(0)<=J&&Ce.globalTime(Ce.totalDuration())>J:!J||Ce.isActive())&&de.push(Ce):(re=Ce.getTweensOf(ve,J)).length&&de.push.apply(de,re),Ce=Ce._next;return de},D.tweenTo=function(j,J){J=J||{};var re=this,de=Sn(re,j),ve=J,Ce=ve.startAt,qe=ve.onStart,Fe=ve.onStartParams,nt=ve.immediateRender,Tt=kt.to(re,Kr({ease:"none",lazy:!1,immediateRender:!1,time:de,overwrite:"auto",duration:J.duration||Math.abs((de-(Ce&&"time"in Ce?Ce.time:re._time))/re.timeScale())||1e-8,onStart:function(){re.pause();var Ct=J.duration||Math.abs((de-re._time)/re.timeScale());Tt._dur!==Ct&&dn(Tt,Ct,0,1).render(Tt._time,!0,!0),qe&&qe.apply(Tt,Fe||[])}},J));return nt?Tt.render(0):Tt},D.tweenFromTo=function(j,J,re){return this.tweenTo(J,Kr({startAt:{time:Sn(this,j)}},re))},D.recent=function(){return this._recent},D.nextLabel=function(j){return j===void 0&&(j=this._time),Vs(this,Sn(this,j))},D.previousLabel=function(j){return j===void 0&&(j=this._time),Vs(this,Sn(this,j),1)},D.currentLabel=function(j){return arguments.length?this.seek(j,!0):this.previousLabel(this._time+1e-8)},D.shiftChildren=function(j,J,re){re===void 0&&(re=0);for(var de,ve=this._first,Ce=this.labels;ve;)ve._start>=re&&(ve._start+=j,ve._end+=j),ve=ve._next;if(J)for(de in Ce)Ce[de]>=re&&(Ce[de]+=j);return Ki(this)},D.invalidate=function(){var j=this._first;for(this._lock=0;j;)j.invalidate(),j=j._next;return O.prototype.invalidate.call(this)},D.clear=function(j){j===void 0&&(j=!0);for(var J,re=this._first;re;)J=re._next,this.remove(re),re=J;return this._dp&&(this._time=this._tTime=this._pTime=0),j&&(this.labels={}),Ki(this)},D.totalDuration=function(j){var J,re,de,ve=0,Ce=this,qe=Ce._last,Fe=te;if(arguments.length)return Ce.timeScale((Ce._repeat<0?Ce.duration():Ce.totalDuration())/(Ce.reversed()?-j:j));if(Ce._dirty){for(de=Ce.parent;qe;)J=qe._prev,qe._dirty&&qe.totalDuration(),(re=qe._start)>Fe&&Ce._sort&&qe._ts&&!Ce._lock?(Ce._lock=1,it(Ce,qe,re-qe._delay,1)._lock=0):Fe=re,re<0&&qe._ts&&(ve-=re,(!de&&!Ce._dp||de&&de.smoothChildTiming)&&(Ce._start+=re/Ce._ts,Ce._time-=re,Ce._tTime-=re),Ce.shiftChildren(-re,!1,-1/0),Fe=0),qe._end>ve&&qe._ts&&(ve=qe._end),qe=J;dn(Ce,Ce===f&&Ce._time>ve?Ce._time:ve,1,1),Ce._dirty=0}return Ce._tDur},N.updateRoot=function(j){if(f._ts&&(ts(f,_s(j,f)),T=Ds.frame),Ds.frame>=Yi){Yi+=Qe.autoSleep||120;var J=f._first;if((!J||!J._ts)&&Qe.autoSleep&&Ds._listeners.length<2){for(;J&&!J._ts;)J=J._next;J||Ds.sleep()}}},N}(Ra);Kr(Ci.prototype,{_lock:0,_hasPause:0,_forcing:0});var ao,Ml=function(O,N,D,j,J,re,de){var ve,Ce,qe,Fe,nt,Tt,Ct,Rn,xn=new Et(this._pt,O,N,0,1,ue,null,J),nn=0,Wt=0;for(xn.b=D,xn.e=j,D+="",(Ct=~(j+="").indexOf("random("))&&(j=Eo(j)),re&&(re(Rn=[D,j],O,N),D=Rn[0],j=Rn[1]),Ce=D.match(sr)||[];ve=sr.exec(j);)Fe=ve[0],nt=j.substring(nn,ve.index),qe?qe=(qe+1)%5:nt.substr(-5)==="rgba("&&(qe=1),Fe!==Ce[Wt++]&&(Tt=parseFloat(Ce[Wt-1])||0,xn._pt={_next:xn._pt,p:nt||Wt===1?nt:",",s:Tt,c:Fe.charAt(1)==="="?parseFloat(Fe.substr(2))*(Fe.charAt(0)==="-"?-1:1):parseFloat(Fe)-Tt,m:qe&&qe<4?Math.round:0},nn=sr.lastIndex);return xn.c=nn<j.length?j.substring(nn,j.length):"",xn.fp=de,(or.test(j)||Ct)&&(xn.e=0),this._pt=xn,xn},da=function(O,N,D,j,J,re,de,ve,Ce){Pt(j)&&(j=j(J||0,O,re));var qe,Fe=O[N],nt=D!=="get"?D:Pt(Fe)?Ce?O[N.indexOf("set")||!Pt(O["get"+N.substr(3)])?N:"get"+N.substr(3)](Ce):O[N]():Fe,Tt=Pt(Fe)?Ce?x:ir:wn;if(we(j)&&(~j.indexOf("random(")&&(j=Eo(j)),j.charAt(1)==="="&&(j=parseFloat(nt)+parseFloat(j.substr(2))*(j.charAt(0)==="-"?-1:1)+(Br(nt)||0))),nt!==j)return isNaN(nt*j)?(!Fe&&!(N in O)&&Nr(N,j),Ml.call(this,O,N,nt,j,Tt,ve||Qe.stringFilter,Ce)):(qe=new Et(this._pt,O,N,+nt||0,j-(nt||0),typeof Fe=="boolean"?Q:U,0,Tt),Ce&&(qe.fp=Ce),de&&qe.modifier(de,this,O),this._pt=qe)},Z=function(O,N,D,j,J,re){var de,ve,Ce,qe;if(Fr[O]&&(de=new Fr[O]).init(J,de.rawVars?N[O]:function(Fe,nt,Tt,Ct,Rn){if(Pt(Fe)&&(Fe=ge(Fe,Rn,nt,Tt,Ct)),!Bt(Fe)||Fe.style&&Fe.nodeType||on(Fe)||tn(Fe))return we(Fe)?ge(Fe,Rn,nt,Tt,Ct):Fe;var xn,nn={};for(xn in Fe)nn[xn]=ge(Fe[xn],Rn,nt,Tt,Ct);return nn}(N[O],j,J,re,D),D,j,re)!==!1&&(D._pt=ve=new Et(D._pt,J,O,0,1,de.render,de,0,de.priority),D!==k))for(Ce=D._ptLookup[D._targets.indexOf(J)],qe=de._props.length;qe--;)Ce[de._props[qe]]=ve;return de},ie=function O(N,D){var j,J,re,de,ve,Ce,qe,Fe,nt,Tt,Ct,Rn,xn,nn=N.vars,Wt=nn.ease,Kt=nn.startAt,At=nn.immediateRender,an=nn.lazy,_n=nn.onUpdate,In=nn.onUpdateParams,Mn=nn.callbackScope,zt=nn.runBackwards,Dr=nn.yoyoEase,Pi=nn.keyframes,yn=nn.autoRevert,Ei=N._dur,Qn=N._startAt,qs=N._targets,Xn=N.parent,uo=Xn&&Xn.data==="nested"?Xn.parent._targets:qs,Go=N._overwrite==="auto"&&!h,zs=N.timeline;if(zs&&(!Pi||!Wt)&&(Wt="none"),N._ease=cs(Wt,Ue.ease),N._yEase=Dr?ha(cs(Dr===!0?Wt:Dr,Ue.ease)):0,Dr&&N._yoyo&&!N._repeat&&(Dr=N._yEase,N._yEase=N._ease,N._ease=Dr),!zs){if(Rn=(Fe=qs[0]?Ai(qs[0]).harness:0)&&nn[Fe.prop],j=So(nn,Ir),Qn&&Qn.render(-1,!0).kill(),Kt){if(mi(N._startAt=kt.set(qs,Kr({data:"isStart",overwrite:!1,parent:Xn,immediateRender:!0,lazy:bn(an),startAt:null,delay:0,onUpdate:_n,onUpdateParams:In,callbackScope:Mn,stagger:0},Kt))),At){if(D>0)yn||(N._startAt=0);else if(Ei&&!(D<0&&Qn))return void(D&&(N._zTime=D))}}else if(zt&&Ei)if(Qn)!yn&&(N._startAt=0);else if(D&&(At=!1),re=Kr({overwrite:!1,data:"isFromStart",lazy:At&&bn(an),immediateRender:At,stagger:0,parent:Xn},j),Rn&&(re[Fe.prop]=Rn),mi(N._startAt=kt.set(qs,re)),At){if(!D)return}else O(N._startAt,1e-8);for(N._pt=0,an=Ei&&bn(an)||an&&!Ei,J=0;J<qs.length;J++){if(qe=(ve=qs[J])._gsap||ai(qs)[J]._gsap,N._ptLookup[J]=Tt={},tr[qe.id]&&Pn.length&&Ui(),Ct=uo===qs?J:uo.indexOf(ve),Fe&&(nt=new Fe).init(ve,Rn||j,N,Ct,uo)!==!1&&(N._pt=de=new Et(N._pt,ve,nt.name,0,1,nt.render,nt,0,nt.priority),nt._props.forEach(function(Uu){Tt[Uu]=de}),nt.priority&&(Ce=1)),!Fe||Rn)for(re in j)Fr[re]&&(nt=Z(re,j,N,Ct,ve,uo))?nt.priority&&(Ce=1):Tt[re]=de=da.call(N,ve,re,"get",j[re],Ct,uo,0,nn.stringFilter);N._op&&N._op[J]&&N.kill(ve,N._op[J]),Go&&N._pt&&(ao=N,f.killTweensOf(ve,Tt,N.globalTime(0)),xn=!N.parent,ao=0),N._pt&&an&&(tr[qe.id]=1)}Ce&&Lt(N),N._onInit&&N._onInit(N)}N._from=!zs&&!!nn.runBackwards,N._onUpdate=_n,N._initted=(!N._op||N._pt)&&!xn},ge=function(O,N,D,j,J){return Pt(O)?O.call(N,D,j,J):we(O)&&~O.indexOf("random(")?Eo(O):O},et=Sr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",ct=(et+",id,stagger,delay,duration,paused,scrollTrigger").split(","),kt=function(O){function N(j,J,re,de){var ve;typeof J=="number"&&(re.duration=J,J=re,re=null);var Ce,qe,Fe,nt,Tt,Ct,Rn,xn,nn=(ve=O.call(this,de?J:ro(J),re)||this).vars,Wt=nn.duration,Kt=nn.delay,At=nn.immediateRender,an=nn.stagger,_n=nn.overwrite,In=nn.keyframes,Mn=nn.defaults,zt=nn.scrollTrigger,Dr=nn.yoyoEase,Pi=ve.parent,yn=(on(j)||tn(j)?gt(j[0]):"length"in J)?[j]:kr(j);if(ve._targets=yn.length?ai(yn):zr("GSAP target "+j+" not found. https://greensock.com",!Qe.nullTargetWarn)||[],ve._ptLookup=[],ve._overwrite=_n,In||an||qt(Wt)||qt(Kt)){if(J=ve.vars,(Ce=ve.timeline=new Ci({data:"nested",defaults:Mn||{}})).kill(),Ce.parent=Ce._dp=a(ve),Ce._start=0,In)Kr(Ce.vars.defaults,{ease:"none"}),In.forEach(function(Ei){return Ce.to(yn,Ei,">")});else{if(nt=yn.length,Rn=an?ei(an):Zr,Bt(an))for(Tt in an)~et.indexOf(Tt)&&(xn||(xn={}),xn[Tt]=an[Tt]);for(qe=0;qe<nt;qe++){for(Tt in Fe={},J)ct.indexOf(Tt)<0&&(Fe[Tt]=J[Tt]);Fe.stagger=0,Dr&&(Fe.yoyoEase=Dr),xn&&la(Fe,xn),Ct=yn[qe],Fe.duration=+ge(Wt,a(ve),qe,Ct,yn),Fe.delay=(+ge(Kt,a(ve),qe,Ct,yn)||0)-ve._delay,!an&&nt===1&&Fe.delay&&(ve._delay=Kt=Fe.delay,ve._start+=Kt,Fe.delay=0),Ce.to(Ct,Fe,Rn(qe,Ct,yn))}Ce.duration()?Wt=Kt=0:ve.timeline=0}Wt||ve.duration(Wt=Ce.duration())}else ve.timeline=0;return _n!==!0||h||(ao=a(ve),f.killTweensOf(yn),ao=0),Pi&&je(Pi,a(ve)),(At||!Wt&&!In&&ve._start===ar(Pi._time)&&bn(At)&&function Ei(Qn){return!Qn||Qn._ts&&Ei(Qn.parent)}(a(ve))&&Pi.data!=="nested")&&(ve._tTime=-1e-8,ve.render(Math.max(0,-Kt))),zt&&Yt(a(ve),zt),ve}c(N,O);var D=N.prototype;return D.render=function(j,J,re){var de,ve,Ce,qe,Fe,nt,Tt,Ct,Rn,xn=this._time,nn=this._tDur,Wt=this._dur,Kt=j>nn-1e-8&&j>=0?nn:j<1e-8?0:j;if(Wt){if(Kt!==this._tTime||!j||re||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=j<0){if(de=Kt,Ct=this.timeline,this._repeat){if(qe=Wt+this._rDelay,this._repeat<-1&&j<0)return this.totalTime(100*qe+j,J,re);if(de=ar(Kt%qe),Kt===nn?(Ce=this._repeat,de=Wt):((Ce=~~(Kt/qe))&&Ce===Kt/qe&&(de=Wt,Ce--),de>Wt&&(de=Wt)),(nt=this._yoyo&&1&Ce)&&(Rn=this._yEase,de=Wt-de),Fe=Ks(this._tTime,qe),de===xn&&!re&&this._initted)return this;Ce!==Fe&&(Ct&&this._yEase&&io(Ct,nt),!this.vars.repeatRefresh||nt||this._lock||(this._lock=re=1,this.render(ar(qe*Ce),!0).invalidate()._lock=0))}if(!this._initted){if(pn(this,j<0?j:de,re,J))return this._tTime=0,this;if(Wt!==this._dur)return this.render(j,J,re)}for(this._tTime=Kt,this._time=de,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=Tt=(Rn||this._ease)(de/Wt),this._from&&(this.ratio=Tt=1-Tt),de&&!xn&&!J&&Ti(this,"onStart"),ve=this._pt;ve;)ve.r(Tt,ve.d),ve=ve._next;Ct&&Ct.render(j<0?j:!de&&nt?-1e-8:Ct._dur*Tt,J,re)||this._startAt&&(this._zTime=j),this._onUpdate&&!J&&(j<0&&this._startAt&&this._startAt.render(j,!0,re),Ti(this,"onUpdate")),this._repeat&&Ce!==Fe&&this.vars.onRepeat&&!J&&this.parent&&Ti(this,"onRepeat"),Kt!==this._tDur&&Kt||this._tTime!==Kt||(j<0&&this._startAt&&!this._onUpdate&&this._startAt.render(j,!0,!0),(j||!Wt)&&(Kt===this._tDur&&this._ts>0||!Kt&&this._ts<0)&&mi(this,1),J||j<0&&!xn||!Kt&&!xn||(Ti(this,Kt===nn?"onComplete":"onReverseComplete",!0),this._prom&&!(Kt<nn&&this.timeScale()>0)&&this._prom()))}}else(function(At,an,_n,In){var Mn,zt,Dr,Pi=At.ratio,yn=an<0||!an&&(!At._start&&function qs(Xn){var uo=Xn.parent;return uo&&uo._ts&&uo._initted&&!uo._lock&&(uo.rawTime()<0||qs(uo))}(At)||(At._ts<0||At._dp._ts<0)&&At.data!=="isFromStart"&&At.data!=="isStart")?0:1,Ei=At._rDelay,Qn=0;if(Ei&&At._repeat&&(Qn=ri(0,At._tDur,an),zt=Ks(Qn,Ei),Dr=Ks(At._tTime,Ei),At._yoyo&&1&zt&&(yn=1-yn),zt!==Dr&&(Pi=1-yn,At.vars.repeatRefresh&&At._initted&&At.invalidate())),yn!==Pi||In||At._zTime===1e-8||!an&&At._zTime){if(!At._initted&&pn(At,an,In,_n))return;for(Dr=At._zTime,At._zTime=an||(_n?1e-8:0),_n||(_n=an&&!Dr),At.ratio=yn,At._from&&(yn=1-yn),At._time=0,At._tTime=Qn,_n||Ti(At,"onStart"),Mn=At._pt;Mn;)Mn.r(yn,Mn.d),Mn=Mn._next;At._startAt&&an<0&&At._startAt.render(an,!0,!0),At._onUpdate&&!_n&&Ti(At,"onUpdate"),Qn&&At._repeat&&!_n&&At.parent&&Ti(At,"onRepeat"),(an>=At._tDur||an<0)&&At.ratio===yn&&(yn&&mi(At,1),_n||(Ti(At,yn?"onComplete":"onReverseComplete",!0),At._prom&&At._prom()))}else At._zTime||(At._zTime=an)})(this,j,J,re);return this},D.targets=function(){return this._targets},D.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),O.prototype.invalidate.call(this)},D.kill=function(j,J){if(J===void 0&&(J="all"),!(j||J&&J!=="all"))return this._lazy=this._pt=0,this.parent?ua(this):this;if(this.timeline){var re=this.timeline.totalDuration();return this.timeline.killTweensOf(j,J,ao&&ao.vars.overwrite!==!0)._first||ua(this),this.parent&&re!==this.timeline.totalDuration()&&dn(this,this._dur*this.timeline._tDur/re,0,1),this}var de,ve,Ce,qe,Fe,nt,Tt,Ct=this._targets,Rn=j?kr(j):Ct,xn=this._ptLookup,nn=this._pt;if((!J||J==="all")&&function(Wt,Kt){for(var At=Wt.length,an=At===Kt.length;an&&At--&&Wt[At]===Kt[At];);return At<0}(Ct,Rn))return J==="all"&&(this._pt=0),ua(this);for(de=this._op=this._op||[],J!=="all"&&(we(J)&&(Fe={},ji(J,function(Wt){return Fe[Wt]=1}),J=Fe),J=function(Wt,Kt){var At,an,_n,In,Mn=Wt[0]?Ai(Wt[0]).harness:0,zt=Mn&&Mn.aliases;if(!zt)return Kt;for(an in At=la({},Kt),zt)if(an in At)for(_n=(In=zt[an].split(",")).length;_n--;)At[In[_n]]=At[an];return At}(Ct,J)),Tt=Ct.length;Tt--;)if(~Rn.indexOf(Ct[Tt]))for(Fe in ve=xn[Tt],J==="all"?(de[Tt]=J,qe=ve,Ce={}):(Ce=de[Tt]=de[Tt]||{},qe=J),qe)(nt=ve&&ve[Fe])&&("kill"in nt.d&&nt.d.kill(Fe)!==!0||ws(this,nt,"_pt"),delete ve[Fe]),Ce!=="all"&&(Ce[Fe]=1);return this._initted&&!this._pt&&nn&&ua(this),this},N.to=function(j,J){return new N(j,J,arguments[2])},N.from=function(j,J){return new N(j,ls(arguments,1))},N.delayedCall=function(j,J,re,de){return new N(J,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:j,onComplete:J,onReverseComplete:J,onCompleteParams:re,onReverseCompleteParams:re,callbackScope:de})},N.fromTo=function(j,J,re){return new N(j,ls(arguments,2))},N.set=function(j,J){return J.duration=0,J.repeatDelay||(J.repeat=0),new N(j,J)},N.killTweensOf=function(j,J,re){return f.killTweensOf(j,J,re)},N}(Ra);Kr(kt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ji("staggerTo,staggerFrom,staggerFromTo",function(O){kt[O]=function(){var N=new Ci,D=Qr.call(arguments,0);return D.splice(O==="staggerFromTo"?5:4,0,0),N[O].apply(N,D)}});var wn=function(O,N,D){return O[N]=D},ir=function(O,N,D){return O[N](D)},x=function(O,N,D,j){return O[N](j.fp,D)},C=function(O,N,D){return O.setAttribute(N,D)},B=function(O,N){return Pt(O[N])?ir:Le(O[N])&&O.setAttribute?C:wn},U=function(O,N){return N.set(N.t,N.p,Math.round(1e4*(N.s+N.c*O))/1e4,N)},Q=function(O,N){return N.set(N.t,N.p,!!(N.s+N.c*O),N)},ue=function(O,N){var D=N._pt,j="";if(!O&&N.b)j=N.b;else if(O===1&&N.e)j=N.e;else{for(;D;)j=D.p+(D.m?D.m(D.s+D.c*O):Math.round(1e4*(D.s+D.c*O))/1e4)+j,D=D._next;j+=N.c}N.set(N.t,N.p,j,N)},he=function(O,N){for(var D=N._pt;D;)D.r(O,D.d),D=D._next},Ie=function(O,N,D,j){for(var J,re=this._pt;re;)J=re._next,re.p===j&&re.modifier(O,N,D),re=J},ze=function(O){for(var N,D,j=this._pt;j;)D=j._next,j.p===O&&!j.op||j.op===O?ws(this,j,"_pt"):j.dep||(N=1),j=D;return!N},at=function(O,N,D,j){j.mSet(O,N,j.m.call(j.tween,D,j.mt),j)},Lt=function(O){for(var N,D,j,J,re=O._pt;re;){for(N=re._next,D=j;D&&D.pr>re.pr;)D=D._next;(re._prev=D?D._prev:J)?re._prev._next=re:j=re,(re._next=D)?D._prev=re:J=re,re=N}O._pt=j},Et=function(){function O(N,D,j,J,re,de,ve,Ce,qe){this.t=D,this.s=J,this.c=re,this.p=j,this.r=de||U,this.d=ve||this,this.set=Ce||wn,this.pr=qe||0,this._next=N,N&&(N._prev=this)}return O.prototype.modifier=function(N,D,j){this.mSet=this.mSet||this.set,this.set=at,this.m=N,this.mt=j,this.tween=D},O}();ji(Sr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(O){return Ir[O]=1}),br.TweenMax=br.TweenLite=kt,br.TimelineLite=br.TimelineMax=Ci,f=new Ci({sortChildren:!1,defaults:Ue,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Qe.stringFilter=ul;var pt={registerPlugin:function(){for(var O=arguments.length,N=new Array(O),D=0;D<O;D++)N[D]=arguments[D];N.forEach(function(j){return lu(j)})},timeline:function(O){return new Ci(O)},getTweensOf:function(O,N){return f.getTweensOf(O,N)},getProperty:function(O,N,D,j){we(O)&&(O=kr(O)[0]);var J=Ai(O||{}).get,re=D?Ps:Ls;return D==="native"&&(D=""),O&&(N?re((Fr[N]&&Fr[N].get||J)(O,N,D,j)):function(de,ve,Ce){return re((Fr[de]&&Fr[de].get||J)(O,de,ve,Ce))})},quickSetter:function(O,N,D){if((O=kr(O)).length>1){var j=O.map(function(qe){return lr.quickSetter(qe,N,D)}),J=j.length;return function(qe){for(var Fe=J;Fe--;)j[Fe](qe)}}O=O[0]||{};var re=Fr[N],de=Ai(O),ve=de.harness&&(de.harness.aliases||{})[N]||N,Ce=re?function(qe){var Fe=new re;k._pt=0,Fe.init(O,D?qe+D:qe,k,0,[O]),Fe.render(1,Fe),k._pt&&he(1,k)}:de.set(O,ve);return re?Ce:function(qe){return Ce(O,ve,D?qe+D:qe,de,1)}},isTweening:function(O){return f.getTweensOf(O,!0).length>0},defaults:function(O){return O&&O.ease&&(O.ease=cs(O.ease,Ue.ease)),_o(Ue,O||{})},config:function(O){return _o(Qe,O||{})},registerEffect:function(O){var N=O.name,D=O.effect,j=O.plugins,J=O.defaults,re=O.extendTimeline;(j||"").split(",").forEach(function(de){return de&&!Fr[de]&&!br[de]&&zr(N+" effect requires "+de+" plugin.")}),xi[N]=function(de,ve,Ce){return D(kr(de),Kr(ve||{},J),Ce)},re&&(Ci.prototype[N]=function(de,ve,Ce){return this.add(xi[N](de,Bt(ve)?ve:(Ce=ve)&&{},this),Ce)})},registerEase:function(O,N){Rr[O]=cs(N)},parseEase:function(O,N){return arguments.length?cs(O,N):Rr},getById:function(O){return f.getById(O)},exportRoot:function(O,N){O===void 0&&(O={});var D,j,J=new Ci(O);for(J.smoothChildTiming=bn(O.smoothChildTiming),f.remove(J),J._dp=0,J._time=J._tTime=f._time,D=f._first;D;)j=D._next,!N&&!D._dur&&D instanceof kt&&D.vars.onComplete===D._targets[0]||it(J,D,D._start-D._delay),D=j;return it(f,J,0),J},utils:{wrap:function O(N,D,j){var J=D-N;return on(N)?Io(N,O(0,N.length),D):Mr(j,function(re){return(J+(re-N)%J)%J+N})},wrapYoyo:function O(N,D,j){var J=D-N,re=2*J;return on(N)?Io(N,O(0,N.length-1),D):Mr(j,function(de){return N+((de=(re+(de-N)%re)%re||0)>J?re-de:de)})},distribute:ei,random:ns,snap:Wi,normalize:function(O,N,D){return Fi(O,N,0,1,D)},getUnit:Br,clamp:function(O,N,D){return Mr(D,function(j){return ri(O,N,j)})},splitColor:La,toArray:kr,mapRange:Fi,pipe:function(){for(var O=arguments.length,N=new Array(O),D=0;D<O;D++)N[D]=arguments[D];return function(j){return N.reduce(function(J,re){return re(J)},j)}},unitize:function(O,N){return function(D){return O(parseFloat(D))+(N||Br(D))}},interpolate:function O(N,D,j,J){var re=isNaN(N+D)?0:function(Ct){return(1-Ct)*N+Ct*D};if(!re){var de,ve,Ce,qe,Fe,nt=we(N),Tt={};if(j===!0&&(J=1)&&(j=null),nt)N={p:N},D={p:D};else if(on(N)&&!on(D)){for(Ce=[],qe=N.length,Fe=qe-2,ve=1;ve<qe;ve++)Ce.push(O(N[ve-1],N[ve]));qe--,re=function(Ct){Ct*=qe;var Rn=Math.min(Fe,~~Ct);return Ce[Rn](Ct-Rn)},j=D}else J||(N=la(on(N)?[]:{},N));if(!Ce){for(de in D)da.call(Tt,N,de,"get",D[de]);re=function(Ct){return he(Ct,Tt)||(nt?N.p:N)}}}return Mr(j,re)},shuffle:jr},install:Vn,effects:xi,ticker:Ds,updateRoot:Ci.updateRoot,plugins:Fr,globalTimeline:f,core:{PropTween:Et,globals:Cr,Tween:kt,Timeline:Ci,Animation:Ra,getCache:Ai,_removeLinkedListItem:ws,suppressOverwrites:function(O){return h=O}}};ji("to,from,fromTo,delayedCall,set,killTweensOf",function(O){return pt[O]=kt[O]}),Ds.add(Ci.updateRoot),k=pt.to({},{duration:0});var Mt=function(O,N){for(var D=O._pt;D&&D.p!==N&&D.op!==N&&D.fp!==N;)D=D._next;return D},Bn=function(O,N){return{name:O,rawVars:1,init:function(D,j,J){J._onInit=function(re){var de,ve;if(we(j)&&(de={},ji(j,function(Ce){return de[Ce]=1}),j=de),N){for(ve in de={},j)de[ve]=N(j[ve]);j=de}(function(Ce,qe){var Fe,nt,Tt,Ct=Ce._targets;for(Fe in qe)for(nt=Ct.length;nt--;)(Tt=Ce._ptLookup[nt][Fe])&&(Tt=Tt.d)&&(Tt._pt&&(Tt=Mt(Tt,Fe)),Tt&&Tt.modifier&&Tt.modifier(qe[Fe],Ce,Ct[nt],Fe))})(re,j)}}}},lr=pt.registerPlugin({name:"attr",init:function(O,N,D,j,J){var re,de;for(re in N)(de=this.add(O,"setAttribute",(O.getAttribute(re)||0)+"",N[re],j,J,0,0,re))&&(de.op=re),this._props.push(re)}},{name:"endArray",init:function(O,N){for(var D=N.length;D--;)this.add(O,D,O[D]||0,N[D])}},Bn("roundProps",bi),Bn("modifiers"),Bn("snap",Wi))||pt;kt.version=Ci.version=lr.version="3.6.0",E=1,cr()&&Fo();var Wn,fi,zi,Js,li,Er,Bo,ui,Ii=Rr.Power0,Za=Rr.Power1,sh=Rr.Power2,fa=Rr.Power3,uu=Rr.Power4,Bu=Rr.Linear,Ho=Rr.Quad,Hu=Rr.Cubic,ka=Rr.Quart,hs=Rr.Quint,jo=Rr.Strong,rs=Rr.Elastic,qi=Rr.Back,Lr=Rr.SteppedEase,Tn=Rr.Bounce,It=Rr.Sine,Gi=Rr.Expo,Ji=Rr.Circ,Xi={},Oa=180/Math.PI,ii=Math.PI/180,Ul=Math.atan2,Di=/([A-Z])/g,Uo=/(?:left|right|width|margin|padding|x)/i,cl=/[\s,\(]\S/,ds={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ye=function(O,N){return N.set(N.t,N.p,Math.round(1e4*(N.s+N.c*O))/1e4+N.u,N)},oh=function(O,N){return N.set(N.t,N.p,O===1?N.e:Math.round(1e4*(N.s+N.c*O))/1e4+N.u,N)},cu=function(O,N){return N.set(N.t,N.p,O?Math.round(1e4*(N.s+N.c*O))/1e4+N.u:N.b,N)},Ka=function(O,N){var D=N.s+N.c*O;N.set(N.t,N.p,~~(D+(D<0?-.5:.5))+N.u,N)},hu=function(O,N){return N.set(N.t,N.p,O?N.e:N.b,N)},fs=function(O,N){return N.set(N.t,N.p,O!==1?N.b:N.e,N)},pa=function(O,N,D){return O.style[N]=D},ah=function(O,N,D){return O.style.setProperty(N,D)},du=function(O,N,D){return O._gsap[N]=D},Gl=function(O,N,D){return O._gsap.scaleX=O._gsap.scaleY=D},fu=function(O,N,D,j,J){var re=O._gsap;re.scaleX=re.scaleY=D,re.renderTransform(J,re)},$r=function(O,N,D,j,J){var re=O._gsap;re[N]=D,re.renderTransform(J,re)},Vi="transform",is=Vi+"Origin",Ns=function(O,N){var D=fi.createElementNS?fi.createElementNS((N||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),O):fi.createElement(O);return D.style?D:fi.createElement(O)},Zo=function O(N,D,j){var J=getComputedStyle(N);return J[D]||J.getPropertyValue(D.replace(Di,"-$1").toLowerCase())||J.getPropertyValue(D)||!j&&O(N,Ko(D)||D,1)||""},pu="O,Moz,ms,Ms,Webkit".split(","),Ko=function(O,N,D){var j=(N||li).style,J=5;if(O in j&&!D)return O;for(O=O.charAt(0).toUpperCase()+O.substr(1);J--&&!(pu[J]+O in j););return J<0?null:(J===3?"ms":J>=0?pu[J]:"")+O},yc=function(){typeof window<"u"&&window.document&&(Wn=window,fi=Wn.document,zi=fi.documentElement,li=Ns("div")||{style:{}},Er=Ns("div"),Vi=Ko(Vi),is=Vi+"Origin",li.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ui=!!Ko("perspective"),Js=1)},ma=function O(N){var D,j=Ns("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),J=this.parentNode,re=this.nextSibling,de=this.style.cssText;if(zi.appendChild(j),j.appendChild(this),this.style.display="block",N)try{D=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=O}catch{}else this._gsapBBox&&(D=this._gsapBBox());return J&&(re?J.insertBefore(this,re):J.appendChild(this)),zi.removeChild(j),this.style.cssText=de,D},lo=function(O,N){for(var D=N.length;D--;)if(O.hasAttribute(N[D]))return O.getAttribute(N[D])},mu=function(O){var N;try{N=O.getBBox()}catch{N=ma.call(O,!0)}return N&&(N.width||N.height)||O.getBBox===ma||(N=ma.call(O,!0)),!N||N.width||N.x||N.y?N:{x:+lo(O,["x","cx","x1"])||0,y:+lo(O,["y","cy","y1"])||0,width:0,height:0}},ju=function(O){return!(!O.getCTM||O.parentNode&&!O.ownerSVGElement||!mu(O))},Jo=function(O,N){if(N){var D=O.style;N in Xi&&N!==is&&(N=Vi),D.removeProperty?(N.substr(0,2)!=="ms"&&N.substr(0,6)!=="webkit"||(N="-"+N),D.removeProperty(N.replace(Di,"-$1").toLowerCase())):D.removeAttribute(N)}},ga=function(O,N,D,j,J,re){var de=new Et(O._pt,N,D,0,1,re?fs:hu);return O._pt=de,de.b=j,de.e=J,O._props.push(D),de},gu={deg:1,rad:1,turn:1},va=function O(N,D,j,J){var re,de,ve,Ce,qe=parseFloat(j)||0,Fe=(j+"").trim().substr((qe+"").length)||"px",nt=li.style,Tt=Uo.test(D),Ct=N.tagName.toLowerCase()==="svg",Rn=(Ct?"client":"offset")+(Tt?"Width":"Height"),xn=J==="px",nn=J==="%";return J===Fe||!qe||gu[J]||gu[Fe]?qe:(Fe!=="px"&&!xn&&(qe=O(N,D,j,"px")),Ce=N.getCTM&&ju(N),!nn&&Fe!=="%"||!Xi[D]&&!~D.indexOf("adius")?(nt[Tt?"width":"height"]=100+(xn?Fe:J),de=~D.indexOf("adius")||J==="em"&&N.appendChild&&!Ct?N:N.parentNode,Ce&&(de=(N.ownerSVGElement||{}).parentNode),de&&de!==fi&&de.appendChild||(de=fi.body),(ve=de._gsap)&&nn&&ve.width&&Tt&&ve.time===Ds.time?ar(qe/ve.width*100):((nn||Fe==="%")&&(nt.position=Zo(N,"position")),de===N&&(nt.position="static"),de.appendChild(li),re=li[Rn],de.removeChild(li),nt.position="absolute",Tt&&nn&&((ve=Ai(de)).time=Ds.time,ve.width=de[Rn]),ar(xn?re*qe/100:re&&qe?100/re*qe:0))):(re=Ce?N.getBBox()[Tt?"width":"height"]:N[Rn],ar(nn?qe/re*100:qe/100*re)))},ps=function(O,N,D,j){var J;return Js||yc(),N in ds&&N!=="transform"&&~(N=ds[N]).indexOf(",")&&(N=N.split(",")[0]),Xi[N]&&N!=="transform"?(J=dr(O,j),J=N!=="transformOrigin"?J[N]:mr(Zo(O,is))+" "+J.zOrigin+"px"):(!(J=O.style[N])||J==="auto"||j||~(J+"").indexOf("calc("))&&(J=Je[N]&&Je[N](O,N,D)||Zo(O,N)||Gs(O,N)||(N==="opacity"?1:0)),D&&!~(J+"").trim().indexOf(" ")?va(O,N,J,D)+D:J},Pr=function(O,N,D,j){if(!D||D==="none"){var J=Ko(N,O,1),re=J&&Zo(O,J,1);re&&re!==D?(N=J,D=re):N==="borderColor"&&(D=Zo(O,"borderTopColor"))}var de,ve,Ce,qe,Fe,nt,Tt,Ct,Rn,xn,nn,Wt,Kt=new Et(this._pt,O.style,N,0,1,ue),At=0,an=0;if(Kt.b=D,Kt.e=j,D+="",(j+="")=="auto"&&(O.style[N]=j,j=Zo(O,N)||j,O.style[N]=D),ul(de=[D,j]),j=de[1],Ce=(D=de[0]).match(Gn)||[],(j.match(Gn)||[]).length){for(;ve=Gn.exec(j);)Tt=ve[0],Rn=j.substring(At,ve.index),Fe?Fe=(Fe+1)%5:Rn.substr(-5)!=="rgba("&&Rn.substr(-5)!=="hsla("||(Fe=1),Tt!==(nt=Ce[an++]||"")&&(qe=parseFloat(nt)||0,nn=nt.substr((qe+"").length),(Wt=Tt.charAt(1)==="="?+(Tt.charAt(0)+"1"):0)&&(Tt=Tt.substr(2)),Ct=parseFloat(Tt),xn=Tt.substr((Ct+"").length),At=Gn.lastIndex-xn.length,xn||(xn=xn||Qe.units[N]||nn,At===j.length&&(j+=xn,Kt.e+=xn)),nn!==xn&&(qe=va(O,N,nt,xn)||0),Kt._pt={_next:Kt._pt,p:Rn||an===1?Rn:",",s:qe,c:Wt?Wt*Ct:Ct-qe,m:Fe&&Fe<4||N==="zIndex"?Math.round:0});Kt.c=At<j.length?j.substring(At,j.length):""}else Kt.r=N==="display"&&j==="none"?fs:hu;return or.test(j)&&(Kt.e=0),this._pt=Kt,Kt},pe={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Oe=function(O,N){if(N.tween&&N.tween._time===N.tween._dur){var D,j,J,re=N.t,de=re.style,ve=N.u,Ce=re._gsap;if(ve==="all"||ve===!0)de.cssText="",j=1;else for(J=(ve=ve.split(",")).length;--J>-1;)D=ve[J],Xi[D]&&(j=1,D=D==="transformOrigin"?is:Vi),Jo(re,D);j&&(Jo(re,Vi),Ce&&(Ce.svg&&re.removeAttribute("transform"),dr(re,1),Ce.uncache=1))}},Je={clearProps:function(O,N,D,j,J){if(J.data!=="isFromStart"){var re=O._pt=new Et(O._pt,N,D,0,0,Oe);return re.u=j,re.pr=-10,re.tween=J,O._props.push(D),1}}},Ht=[1,0,0,1,0,0],st={},Zt=function(O){return O==="matrix(1, 0, 0, 1, 0, 0)"||O==="none"||!O},Jt=function(O){var N=Zo(O,Vi);return Zt(N)?Ht:N.substr(7).match($e).map(ar)},ln=function(O,N){var D,j,J,re,de=O._gsap||Ai(O),ve=O.style,Ce=Jt(O);return de.svg&&O.getAttribute("transform")?(Ce=[(J=O.transform.baseVal.consolidate().matrix).a,J.b,J.c,J.d,J.e,J.f]).join(",")==="1,0,0,1,0,0"?Ht:Ce:(Ce!==Ht||O.offsetParent||O===zi||de.svg||(J=ve.display,ve.display="block",(D=O.parentNode)&&O.offsetParent||(re=1,j=O.nextSibling,zi.appendChild(O)),Ce=Jt(O),J?ve.display=J:Jo(O,"display"),re&&(j?D.insertBefore(O,j):D?D.appendChild(O):zi.removeChild(O))),N&&Ce.length>6?[Ce[0],Ce[1],Ce[4],Ce[5],Ce[12],Ce[13]]:Ce)},En=function(O,N,D,j,J,re){var de,ve,Ce,qe=O._gsap,Fe=J||ln(O,!0),nt=qe.xOrigin||0,Tt=qe.yOrigin||0,Ct=qe.xOffset||0,Rn=qe.yOffset||0,xn=Fe[0],nn=Fe[1],Wt=Fe[2],Kt=Fe[3],At=Fe[4],an=Fe[5],_n=N.split(" "),In=parseFloat(_n[0])||0,Mn=parseFloat(_n[1])||0;D?Fe!==Ht&&(ve=xn*Kt-nn*Wt)&&(Ce=In*(-nn/ve)+Mn*(xn/ve)-(xn*an-nn*At)/ve,In=In*(Kt/ve)+Mn*(-Wt/ve)+(Wt*an-Kt*At)/ve,Mn=Ce):(In=(de=mu(O)).x+(~_n[0].indexOf("%")?In/100*de.width:In),Mn=de.y+(~(_n[1]||_n[0]).indexOf("%")?Mn/100*de.height:Mn)),j||j!==!1&&qe.smooth?(At=In-nt,an=Mn-Tt,qe.xOffset=Ct+(At*xn+an*Wt)-At,qe.yOffset=Rn+(At*nn+an*Kt)-an):qe.xOffset=qe.yOffset=0,qe.xOrigin=In,qe.yOrigin=Mn,qe.smooth=!!j,qe.origin=N,qe.originIsAbsolute=!!D,O.style[is]="0px 0px",re&&(ga(re,qe,"xOrigin",nt,In),ga(re,qe,"yOrigin",Tt,Mn),ga(re,qe,"xOffset",Ct,qe.xOffset),ga(re,qe,"yOffset",Rn,qe.yOffset)),O.setAttribute("data-svg-origin",In+" "+Mn)},dr=function(O,N){var D=O._gsap||new oo(O);if("x"in D&&!N&&!D.uncache)return D;var j,J,re,de,ve,Ce,qe,Fe,nt,Tt,Ct,Rn,xn,nn,Wt,Kt,At,an,_n,In,Mn,zt,Dr,Pi,yn,Ei,Qn,qs,Xn,uo,Go,zs,Uu=O.style,hl=D.scaleX<0,ea=Zo(O,is)||"0";return j=J=re=Ce=qe=Fe=nt=Tt=Ct=0,de=ve=1,D.svg=!(!O.getCTM||!ju(O)),nn=ln(O,D.svg),D.svg&&(Pi=!D.uncache&&O.getAttribute("data-svg-origin"),En(O,Pi||ea,!!Pi||D.originIsAbsolute,D.smooth!==!1,nn)),Rn=D.xOrigin||0,xn=D.yOrigin||0,nn!==Ht&&(an=nn[0],_n=nn[1],In=nn[2],Mn=nn[3],j=zt=nn[4],J=Dr=nn[5],nn.length===6?(de=Math.sqrt(an*an+_n*_n),ve=Math.sqrt(Mn*Mn+In*In),Ce=an||_n?Ul(_n,an)*Oa:0,(nt=In||Mn?Ul(In,Mn)*Oa+Ce:0)&&(ve*=Math.cos(nt*ii)),D.svg&&(j-=Rn-(Rn*an+xn*In),J-=xn-(Rn*_n+xn*Mn))):(zs=nn[6],uo=nn[7],Qn=nn[8],qs=nn[9],Xn=nn[10],Go=nn[11],j=nn[12],J=nn[13],re=nn[14],qe=(Wt=Ul(zs,Xn))*Oa,Wt&&(Pi=zt*(Kt=Math.cos(-Wt))+Qn*(At=Math.sin(-Wt)),yn=Dr*Kt+qs*At,Ei=zs*Kt+Xn*At,Qn=zt*-At+Qn*Kt,qs=Dr*-At+qs*Kt,Xn=zs*-At+Xn*Kt,Go=uo*-At+Go*Kt,zt=Pi,Dr=yn,zs=Ei),Fe=(Wt=Ul(-In,Xn))*Oa,Wt&&(Kt=Math.cos(-Wt),Go=Mn*(At=Math.sin(-Wt))+Go*Kt,an=Pi=an*Kt-Qn*At,_n=yn=_n*Kt-qs*At,In=Ei=In*Kt-Xn*At),Ce=(Wt=Ul(_n,an))*Oa,Wt&&(Pi=an*(Kt=Math.cos(Wt))+_n*(At=Math.sin(Wt)),yn=zt*Kt+Dr*At,_n=_n*Kt-an*At,Dr=Dr*Kt-zt*At,an=Pi,zt=yn),qe&&Math.abs(qe)+Math.abs(Ce)>359.9&&(qe=Ce=0,Fe=180-Fe),de=ar(Math.sqrt(an*an+_n*_n+In*In)),ve=ar(Math.sqrt(Dr*Dr+zs*zs)),Wt=Ul(zt,Dr),nt=Math.abs(Wt)>2e-4?Wt*Oa:0,Ct=Go?1/(Go<0?-Go:Go):0),D.svg&&(Pi=O.getAttribute("transform"),D.forceCSS=O.setAttribute("transform","")||!Zt(Zo(O,Vi)),Pi&&O.setAttribute("transform",Pi))),Math.abs(nt)>90&&Math.abs(nt)<270&&(hl?(de*=-1,nt+=Ce<=0?180:-180,Ce+=Ce<=0?180:-180):(ve*=-1,nt+=nt<=0?180:-180)),D.x=j-((D.xPercent=j&&(D.xPercent||(Math.round(O.offsetWidth/2)===Math.round(-j)?-50:0)))?O.offsetWidth*D.xPercent/100:0)+"px",D.y=J-((D.yPercent=J&&(D.yPercent||(Math.round(O.offsetHeight/2)===Math.round(-J)?-50:0)))?O.offsetHeight*D.yPercent/100:0)+"px",D.z=re+"px",D.scaleX=ar(de),D.scaleY=ar(ve),D.rotation=ar(Ce)+"deg",D.rotationX=ar(qe)+"deg",D.rotationY=ar(Fe)+"deg",D.skewX=nt+"deg",D.skewY=Tt+"deg",D.transformPerspective=Ct+"px",(D.zOrigin=parseFloat(ea.split(" ")[2])||0)&&(Uu[is]=mr(ea)),D.xOffset=D.yOffset=0,D.force3D=Qe.force3D,D.renderTransform=D.svg?fr:ui?wi:Ur,D.uncache=0,D},mr=function(O){return(O=O.split(" "))[0]+" "+O[1]},_r=function(O,N,D){var j=Br(N);return ar(parseFloat(N)+parseFloat(va(O,"x",D+"px",j)))+j},Ur=function(O,N){N.z="0px",N.rotationY=N.rotationX="0deg",N.force3D=0,wi(O,N)},wi=function(O,N){var D=N||this,j=D.xPercent,J=D.yPercent,re=D.x,de=D.y,ve=D.z,Ce=D.rotation,qe=D.rotationY,Fe=D.rotationX,nt=D.skewX,Tt=D.skewY,Ct=D.scaleX,Rn=D.scaleY,xn=D.transformPerspective,nn=D.force3D,Wt=D.target,Kt=D.zOrigin,At="",an=nn==="auto"&&O&&O!==1||nn===!0;if(Kt&&(Fe!=="0deg"||qe!=="0deg")){var _n,In=parseFloat(qe)*ii,Mn=Math.sin(In),zt=Math.cos(In);In=parseFloat(Fe)*ii,_n=Math.cos(In),re=_r(Wt,re,Mn*_n*-Kt),de=_r(Wt,de,-Math.sin(In)*-Kt),ve=_r(Wt,ve,zt*_n*-Kt+Kt)}xn!=="0px"&&(At+="perspective("+xn+") "),(j||J)&&(At+="translate("+j+"%, "+J+"%) "),(an||re!=="0px"||de!=="0px"||ve!=="0px")&&(At+=ve!=="0px"||an?"translate3d("+re+", "+de+", "+ve+") ":"translate("+re+", "+de+") "),Ce!=="0deg"&&(At+="rotate("+Ce+") "),qe!=="0deg"&&(At+="rotateY("+qe+") "),Fe!=="0deg"&&(At+="rotateX("+Fe+") "),nt==="0deg"&&Tt==="0deg"||(At+="skew("+nt+", "+Tt+") "),Ct===1&&Rn===1||(At+="scale("+Ct+", "+Rn+") "),Wt.style[Vi]=At||"translate(0, 0)"},fr=function(O,N){var D,j,J,re,de,ve=N||this,Ce=ve.xPercent,qe=ve.yPercent,Fe=ve.x,nt=ve.y,Tt=ve.rotation,Ct=ve.skewX,Rn=ve.skewY,xn=ve.scaleX,nn=ve.scaleY,Wt=ve.target,Kt=ve.xOrigin,At=ve.yOrigin,an=ve.xOffset,_n=ve.yOffset,In=ve.forceCSS,Mn=parseFloat(Fe),zt=parseFloat(nt);Tt=parseFloat(Tt),Ct=parseFloat(Ct),(Rn=parseFloat(Rn))&&(Ct+=Rn=parseFloat(Rn),Tt+=Rn),Tt||Ct?(Tt*=ii,Ct*=ii,D=Math.cos(Tt)*xn,j=Math.sin(Tt)*xn,J=Math.sin(Tt-Ct)*-nn,re=Math.cos(Tt-Ct)*nn,Ct&&(Rn*=ii,de=Math.tan(Ct-Rn),J*=de=Math.sqrt(1+de*de),re*=de,Rn&&(de=Math.tan(Rn),D*=de=Math.sqrt(1+de*de),j*=de)),D=ar(D),j=ar(j),J=ar(J),re=ar(re)):(D=xn,re=nn,j=J=0),(Mn&&!~(Fe+"").indexOf("px")||zt&&!~(nt+"").indexOf("px"))&&(Mn=va(Wt,"x",Fe,"px"),zt=va(Wt,"y",nt,"px")),(Kt||At||an||_n)&&(Mn=ar(Mn+Kt-(Kt*D+At*J)+an),zt=ar(zt+At-(Kt*j+At*re)+_n)),(Ce||qe)&&(de=Wt.getBBox(),Mn=ar(Mn+Ce/100*de.width),zt=ar(zt+qe/100*de.height)),de="matrix("+D+","+j+","+J+","+re+","+Mn+","+zt+")",Wt.setAttribute("transform",de),In&&(Wt.style[Vi]=de)},ms=function(O,N,D,j,J,re){var de,ve,Ce=we(J),qe=parseFloat(J)*(Ce&&~J.indexOf("rad")?Oa:1),Fe=re?qe*re:qe-j,nt=j+Fe+"deg";return Ce&&((de=J.split("_")[1])==="short"&&(Fe%=360)!==Fe%180&&(Fe+=Fe<0?360:-360),de==="cw"&&Fe<0?Fe=(Fe+36e9)%360-360*~~(Fe/360):de==="ccw"&&Fe>0&&(Fe=(Fe-36e9)%360-360*~~(Fe/360))),O._pt=ve=new Et(O._pt,N,D,j,Fe,oh),ve.e=nt,ve.u="deg",O._props.push(D),ve},Qi=function(O,N,D){var j,J,re,de,ve,Ce,qe,Fe=Er.style,nt=D._gsap;for(J in Fe.cssText=getComputedStyle(D).cssText+";position:absolute;display:block;",Fe[Vi]=N,fi.body.appendChild(Er),j=dr(Er,1),Xi)(re=nt[J])!==(de=j[J])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(J)<0&&(ve=Br(re)!==(qe=Br(de))?va(D,J,re,qe):parseFloat(re),Ce=parseFloat(de),O._pt=new Et(O._pt,nt,J,ve,Ce-ve,ye),O._pt.u=qe||0,O._props.push(J));fi.body.removeChild(Er)};/*!
 * CSSPlugin 3.6.0
 * https://greensock.com
 *
 * Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/ji("padding,margin,Width,Radius",function(O,N){var D="Top",j="Right",J="Bottom",re="Left",de=(N<3?[D,j,J,re]:[D+re,D+j,J+j,J+re]).map(function(ve){return N<2?O+ve:"border"+ve+O});Je[N>1?"border"+O:O]=function(ve,Ce,qe,Fe,nt){var Tt,Ct;if(arguments.length<4)return Tt=de.map(function(Rn){return ps(ve,Rn,qe)}),(Ct=Tt.join(" ")).split(Tt[0]).length===5?Tt[0]:Ct;Tt=(Fe+"").split(" "),Ct={},de.forEach(function(Rn,xn){return Ct[Rn]=Tt[xn]=Tt[xn]||Tt[(xn-1)/2|0]}),ve.init(Ce,Ct,nt)}});var Qs,Li,Qo={name:"css",register:yc,targetTest:function(O){return O.style&&O.nodeType},init:function(O,N,D,j,J){var re,de,ve,Ce,qe,Fe,nt,Tt,Ct,Rn,xn,nn,Wt,Kt,At,an,_n,In,Mn,zt=this._props,Dr=O.style,Pi=D.vars.startAt;for(nt in Js||yc(),N)if(nt!=="autoRound"&&(de=N[nt],!Fr[nt]||!Z(nt,N,D,j,O,J))){if(qe=typeof de,Fe=Je[nt],qe==="function"&&(qe=typeof(de=de.call(D,j,O,J))),qe==="string"&&~de.indexOf("random(")&&(de=Eo(de)),Fe)Fe(this,O,nt,de,D)&&(At=1);else if(nt.substr(0,2)==="--")re=(getComputedStyle(O).getPropertyValue(nt)+"").trim(),de+="",Tt=Br(re),(Ct=Br(de))?Tt!==Ct&&(re=va(O,nt,re,Ct)+Ct):Tt&&(de+=Tt),this.add(Dr,"setProperty",re,de,j,J,0,0,nt);else if(qe!=="undefined"){if(Pi&&nt in Pi?(re=typeof Pi[nt]=="function"?Pi[nt].call(D,j,O,J):Pi[nt],nt in Qe.units&&!Br(re)&&(re+=Qe.units[nt]),(re+"").charAt(1)==="="&&(re=ps(O,nt))):re=ps(O,nt),Ce=parseFloat(re),(Rn=qe==="string"&&de.charAt(1)==="="?+(de.charAt(0)+"1"):0)&&(de=de.substr(2)),ve=parseFloat(de),nt in ds&&(nt==="autoAlpha"&&(Ce===1&&ps(O,"visibility")==="hidden"&&ve&&(Ce=0),ga(this,Dr,"visibility",Ce?"inherit":"hidden",ve?"inherit":"hidden",!ve)),nt!=="scale"&&nt!=="transform"&&~(nt=ds[nt]).indexOf(",")&&(nt=nt.split(",")[0])),xn=nt in Xi)if(nn||((Wt=O._gsap).renderTransform&&!N.parseTransform||dr(O,N.parseTransform),Kt=N.smoothOrigin!==!1&&Wt.smooth,(nn=this._pt=new Et(this._pt,Dr,Vi,0,1,Wt.renderTransform,Wt,0,-1)).dep=1),nt==="scale")this._pt=new Et(this._pt,Wt,"scaleY",Wt.scaleY,Rn?Rn*ve:ve-Wt.scaleY),zt.push("scaleY",nt),nt+="X";else{if(nt==="transformOrigin"){_n=void 0,In=void 0,Mn=void 0,_n=(an=de).split(" "),In=_n[0],Mn=_n[1]||"50%",In!=="top"&&In!=="bottom"&&Mn!=="left"&&Mn!=="right"||(an=In,In=Mn,Mn=an),_n[0]=pe[In]||In,_n[1]=pe[Mn]||Mn,de=_n.join(" "),Wt.svg?En(O,de,0,Kt,0,this):((Ct=parseFloat(de.split(" ")[2])||0)!==Wt.zOrigin&&ga(this,Wt,"zOrigin",Wt.zOrigin,Ct),ga(this,Dr,nt,mr(re),mr(de)));continue}if(nt==="svgOrigin"){En(O,de,1,Kt,0,this);continue}if(nt in st){ms(this,Wt,nt,Ce,de,Rn);continue}if(nt==="smoothOrigin"){ga(this,Wt,"smooth",Wt.smooth,de);continue}if(nt==="force3D"){Wt[nt]=de;continue}if(nt==="transform"){Qi(this,de,O);continue}}else nt in Dr||(nt=Ko(nt)||nt);if(xn||(ve||ve===0)&&(Ce||Ce===0)&&!cl.test(de)&&nt in Dr)ve||(ve=0),(Tt=(re+"").substr((Ce+"").length))!==(Ct=Br(de)||(nt in Qe.units?Qe.units[nt]:Tt))&&(Ce=va(O,nt,re,Ct)),this._pt=new Et(this._pt,xn?Wt:Dr,nt,Ce,Rn?Rn*ve:ve-Ce,xn||Ct!=="px"&&nt!=="zIndex"||N.autoRound===!1?ye:Ka),this._pt.u=Ct||0,Tt!==Ct&&(this._pt.b=re,this._pt.r=cu);else if(nt in Dr)Pr.call(this,O,nt,re,de);else{if(!(nt in O)){Nr(nt,de);continue}this.add(O,nt,O[nt],de,j,J)}zt.push(nt)}}At&&Lt(this)},get:ps,aliases:ds,getSetter:function(O,N,D){var j=ds[N];return j&&j.indexOf(",")<0&&(N=j),N in Xi&&N!==is&&(O._gsap.x||ps(O,"x"))?D&&Bo===D?N==="scale"?Gl:du:(Bo=D||{})&&(N==="scale"?fu:$r):O.style&&!Le(O.style[N])?pa:~N.indexOf("-")?ah:B(O,N)},core:{_removeProperty:Jo,_getMatrix:ln}};lr.utils.checkPrefix=Ko,Li=ji("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(Qs="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(O){Xi[O]=1}),ji(Qs,function(O){Qe.units[O]="deg",st[O]=1}),ds[Li[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Qs,ji("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(O){var N=O.split(":");ds[N[1]]=Li[N[0]]}),ji("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(O){Qe.units[O]="px"}),lr.registerPlugin(Qo);var Fs=lr.registerPlugin(Qo)||lr,Ms=Fs.core.Tween},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(6));else{var h=a.Zdog;h.PathCommand=c(h.Vector)}})(this,function(a){function c(m,b,_){this.method=m,this.points=b.map(h),this.renderPoints=b.map(f),this.previousPoint=_,this.endRenderPoint=this.renderPoints[this.renderPoints.length-1],m=="arc"&&(this.controlPoints=[new a,new a])}function h(m){return m instanceof a?m:new a(m)}function f(m){return new a(m)}return c.prototype.reset=function(){var m=this.points;this.renderPoints.forEach(function(b,_){var E=m[_];b.set(E)})},c.prototype.transform=function(m,b,_){this.renderPoints.forEach(function(E){E.transform(m,b,_)})},c.prototype.render=function(m,b,_){return this[this.method](m,b,_)},c.prototype.move=function(m,b,_){return _.move(m,b,this.renderPoints[0])},c.prototype.line=function(m,b,_){return _.line(m,b,this.renderPoints[0])},c.prototype.bezier=function(m,b,_){var E=this.renderPoints[0],T=this.renderPoints[1],k=this.renderPoints[2];return _.bezier(m,b,E,T,k)},c.prototype.arc=function(m,b,_){var E=this.previousPoint,T=this.renderPoints[0],k=this.renderPoints[1],G=this.controlPoints[0],q=this.controlPoints[1];return G.set(E).lerp(T,9/16),q.set(k).lerp(T,9/16),_.bezier(m,b,G,q,k)},c})},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(5));else{var h=a.Zdog;h.Ellipse=c(h.Shape)}})(this,function(a){var c=a.subclass({diameter:1,width:void 0,height:void 0,quarters:4,closed:!1});return c.prototype.setPath=function(){var h=(this.width!=null?this.width:this.diameter)/2,f=(this.height!=null?this.height:this.diameter)/2;this.path=[{x:0,y:-f},{arc:[{x:h,y:-f},{x:h,y:0}]}],this.quarters>1&&this.path.push({arc:[{x:h,y:f},{x:0,y:f}]}),this.quarters>2&&this.path.push({arc:[{x:-h,y:f},{x:-h,y:0}]}),this.quarters>3&&this.path.push({arc:[{x:-h,y:-f},{x:0,y:-f}]})},c})},function(A,n,r){r.r(n),r.d(n,"ACESFilmicToneMapping",function(){return or}),r.d(n,"AddEquation",function(){return We}),r.d(n,"AddOperation",function(){return on}),r.d(n,"AdditiveAnimationBlendMode",function(){return Z}),r.d(n,"AdditiveBlending",function(){return Se}),r.d(n,"AlphaFormat",function(){return ro}),r.d(n,"AlwaysDepth",function(){return we}),r.d(n,"AlwaysStencilFunc",function(){return ui}),r.d(n,"AmbientLight",function(){return wb}),r.d(n,"AmbientLightProbe",function(){return E1}),r.d(n,"AnimationClip",function(){return Ae}),r.d(n,"AnimationLoader",function(){return nr}),r.d(n,"AnimationMixer",function(){return T1}),r.d(n,"AnimationObjectGroup",function(){return JS}),r.d(n,"AnimationUtils",function(){return Os}),r.d(n,"ArcCurve",function(){return gr}),r.d(n,"ArrayCamera",function(){return sf}),r.d(n,"ArrowHelper",function(){return bC}),r.d(n,"Audio",function(){return M1}),r.d(n,"AudioAnalyser",function(){return ZS}),r.d(n,"AudioContext",function(){return _1}),r.d(n,"AudioListener",function(){return KT}),r.d(n,"AudioLoader",function(){return Tb}),r.d(n,"AxesHelper",function(){return fE}),r.d(n,"AxisHelper",function(){return KC}),r.d(n,"BackSide",function(){return X}),r.d(n,"BasicDepthPacking",function(){return Q}),r.d(n,"BasicShadowMap",function(){return E}),r.d(n,"BinaryTextureLoader",function(){return n2}),r.d(n,"Bone",function(){return Mo}),r.d(n,"BooleanKeyframeTrack",function(){return s}),r.d(n,"BoundingBoxHelper",function(){return JC}),r.d(n,"Box2",function(){return tE}),r.d(n,"Box3",function(){return Ka}),r.d(n,"Box3Helper",function(){return yC}),r.d(n,"BoxBufferGeometry",function(){return Ia}),r.d(n,"BoxGeometry",function(){return Mi}),r.d(n,"BoxHelper",function(){return hE}),r.d(n,"BufferAttribute",function(){return Xn}),r.d(n,"BufferGeometry",function(){return $n}),r.d(n,"BufferGeometryLoader",function(){return Mb}),r.d(n,"ByteType",function(){return aa}),r.d(n,"Cache",function(){return xt}),r.d(n,"Camera",function(){return xu}),r.d(n,"CameraHelper",function(){return vC}),r.d(n,"CanvasRenderer",function(){return s2}),r.d(n,"CanvasTexture",function(){return vf}),r.d(n,"CatmullRomCurve3",function(){return ml}),r.d(n,"CineonToneMapping",function(){return sr}),r.d(n,"CircleBufferGeometry",function(){return To}),r.d(n,"CircleGeometry",function(){return mo}),r.d(n,"ClampToEdgeWrapping",function(){return Ir}),r.d(n,"Clock",function(){return qS}),r.d(n,"ClosedSplineCurve3",function(){return SE}),r.d(n,"Color",function(){return zt}),r.d(n,"ColorKeyframeTrack",function(){return u}),r.d(n,"CompressedTexture",function(){return ad}),r.d(n,"CompressedTextureLoader",function(){return Ys}),r.d(n,"ConeBufferGeometry",function(){return Co}),r.d(n,"ConeGeometry",function(){return ld}),r.d(n,"CubeCamera",function(){return wc}),r.d(n,"CubeGeometry",function(){return Mi}),r.d(n,"CubeReflectionMapping",function(){return br}),r.d(n,"CubeRefractionMapping",function(){return wr}),r.d(n,"CubeTexture",function(){return to}),r.d(n,"CubeTextureLoader",function(){return Ye}),r.d(n,"CubeUVReflectionMapping",function(){return zr}),r.d(n,"CubeUVRefractionMapping",function(){return Cr}),r.d(n,"CubicBezierCurve",function(){return zc}),r.d(n,"CubicBezierCurve3",function(){return Ah}),r.d(n,"CubicInterpolant",function(){return zg}),r.d(n,"CullFaceBack",function(){return m}),r.d(n,"CullFaceFront",function(){return b}),r.d(n,"CullFaceFrontBack",function(){return _}),r.d(n,"CullFaceNone",function(){return f}),r.d(n,"Curve",function(){return Xt}),r.d(n,"CurvePath",function(){return cd}),r.d(n,"CustomBlending",function(){return P}),r.d(n,"CustomToneMapping",function(){return zn}),r.d(n,"CylinderBufferGeometry",function(){return go}),r.d(n,"CylinderGeometry",function(){return tl}),r.d(n,"Cylindrical",function(){return cC}),r.d(n,"DataTexture",function(){return Bi}),r.d(n,"DataTexture2DArray",function(){return hh}),r.d(n,"DataTexture3D",function(){return bu}),r.d(n,"DataTextureLoader",function(){return mt}),r.d(n,"DataUtils",function(){return _C}),r.d(n,"DecrementStencilOp",function(){return pt}),r.d(n,"DecrementWrapStencilOp",function(){return Bn}),r.d(n,"DefaultLoadingManager",function(){return un}),r.d(n,"DepthFormat",function(){return Ks}),r.d(n,"DepthStencilFormat",function(){return _s}),r.d(n,"DepthTexture",function(){return yf}),r.d(n,"DirectionalLight",function(){return bb}),r.d(n,"DirectionalLightHelper",function(){return gC}),r.d(n,"DiscreteInterpolant",function(){return Bg}),r.d(n,"DodecahedronBufferGeometry",function(){return Lc}),r.d(n,"DodecahedronGeometry",function(){return Dp}),r.d(n,"DoubleSide",function(){return Y}),r.d(n,"DstAlphaFactor",function(){return lt}),r.d(n,"DstColorFactor",function(){return ke}),r.d(n,"DynamicBufferAttribute",function(){return jC}),r.d(n,"DynamicCopyUsage",function(){return Hu}),r.d(n,"DynamicDrawUsage",function(){return Za}),r.d(n,"DynamicReadUsage",function(){return uu}),r.d(n,"EdgesGeometry",function(){return yh}),r.d(n,"EdgesHelper",function(){return QC}),r.d(n,"EllipseCurve",function(){return rr}),r.d(n,"EqualDepth",function(){return Le}),r.d(n,"EqualStencilFunc",function(){return zi}),r.d(n,"EquirectangularReflectionMapping",function(){return Vn}),r.d(n,"EquirectangularRefractionMapping",function(){return Nr}),r.d(n,"Euler",function(){return ln}),r.d(n,"EventDispatcher",function(){return rs}),r.d(n,"ExtrudeBufferGeometry",function(){return _h}),r.d(n,"ExtrudeGeometry",function(){return Ny}),r.d(n,"Face3",function(){return Dr}),r.d(n,"Face4",function(){return AC}),r.d(n,"FaceColors",function(){return PC}),r.d(n,"FileLoader",function(){return Fn}),r.d(n,"FlatShading",function(){return W}),r.d(n,"Float16BufferAttribute",function(){return Al}),r.d(n,"Float32Attribute",function(){return YC}),r.d(n,"Float32BufferAttribute",function(){return Dn}),r.d(n,"Float64Attribute",function(){return ZC}),r.d(n,"Float64BufferAttribute",function(){return hp}),r.d(n,"FloatType",function(){return Ps}),r.d(n,"Fog",function(){return wg}),r.d(n,"FogExp2",function(){return Tp}),r.d(n,"Font",function(){return b1}),r.d(n,"FontLoader",function(){return w1}),r.d(n,"FrontSide",function(){return q}),r.d(n,"Frustum",function(){return Jd}),r.d(n,"GLBufferAttribute",function(){return L1}),r.d(n,"GLSL1",function(){return hs}),r.d(n,"GLSL3",function(){return jo}),r.d(n,"GammaEncoding",function(){return wn}),r.d(n,"Geometry",function(){return ci}),r.d(n,"GeometryUtils",function(){return i2}),r.d(n,"GreaterDepth",function(){return bn}),r.d(n,"GreaterEqualDepth",function(){return Bt}),r.d(n,"GreaterEqualStencilFunc",function(){return Bo}),r.d(n,"GreaterStencilFunc",function(){return li}),r.d(n,"GridHelper",function(){return lE}),r.d(n,"Group",function(){return Zu}),r.d(n,"HalfFloatType",function(){return Kr}),r.d(n,"HemisphereLight",function(){return vb}),r.d(n,"HemisphereLightHelper",function(){return pC}),r.d(n,"HemisphereLightProbe",function(){return S1}),r.d(n,"IcosahedronBufferGeometry",function(){return Og}),r.d(n,"IcosahedronGeometry",function(){return Fy}),r.d(n,"ImageBitmapLoader",function(){return y1}),r.d(n,"ImageLoader",function(){return ht}),r.d(n,"ImageUtils",function(){return Xi}),r.d(n,"ImmediateRenderObject",function(){return $y}),r.d(n,"IncrementStencilOp",function(){return Et}),r.d(n,"IncrementWrapStencilOp",function(){return Mt}),r.d(n,"InstancedBufferAttribute",function(){return Eb}),r.d(n,"InstancedBufferGeometry",function(){return Xy}),r.d(n,"InstancedInterleavedBuffer",function(){return C1}),r.d(n,"InstancedMesh",function(){return ff}),r.d(n,"Int16Attribute",function(){return WC}),r.d(n,"Int16BufferAttribute",function(){return Uu}),r.d(n,"Int32Attribute",function(){return XC}),r.d(n,"Int32BufferAttribute",function(){return ea}),r.d(n,"Int8Attribute",function(){return UC}),r.d(n,"Int8BufferAttribute",function(){return uo}),r.d(n,"IntType",function(){return ts}),r.d(n,"InterleavedBuffer",function(){return gs}),r.d(n,"InterleavedBufferAttribute",function(){return Mc}),r.d(n,"Interpolant",function(){return Ua}),r.d(n,"InterpolateDiscrete",function(){return Es}),r.d(n,"InterpolateLinear",function(){return oo}),r.d(n,"InterpolateSmooth",function(){return Ra}),r.d(n,"InvertStencilOp",function(){return lr}),r.d(n,"JSONLoader",function(){return o2}),r.d(n,"KeepStencilOp",function(){return at}),r.d(n,"KeyframeTrack",function(){return Lo}),r.d(n,"LOD",function(){return kl}),r.d(n,"LatheBufferGeometry",function(){return kc}),r.d(n,"LatheGeometry",function(){return db}),r.d(n,"Layers",function(){return mr}),r.d(n,"LensFlare",function(){return l2}),r.d(n,"LessDepth",function(){return Pt}),r.d(n,"LessEqualDepth",function(){return gt}),r.d(n,"LessEqualStencilFunc",function(){return Js}),r.d(n,"LessStencilFunc",function(){return fi}),r.d(n,"Light",function(){return js}),r.d(n,"LightProbe",function(){return oc}),r.d(n,"Line",function(){return Ol}),r.d(n,"Line3",function(){return rE}),r.d(n,"LineBasicMaterial",function(){return ks}),r.d(n,"LineCurve",function(){return Jl}),r.d(n,"LineCurve3",function(){return Bc}),r.d(n,"LineDashedMaterial",function(){return ic}),r.d(n,"LineLoop",function(){return Ao}),r.d(n,"LinePieces",function(){return CC}),r.d(n,"LineSegments",function(){return xa}),r.d(n,"LineStrip",function(){return TC}),r.d(n,"LinearEncoding",function(){return ct}),r.d(n,"LinearFilter",function(){return Sr}),r.d(n,"LinearInterpolant",function(){return Fc}),r.d(n,"LinearMipMapLinearFilter",function(){return ji}),r.d(n,"LinearMipMapNearestFilter",function(){return Ai}),r.d(n,"LinearMipmapLinearFilter",function(){return Gs}),r.d(n,"LinearMipmapNearestFilter",function(){return ai}),r.d(n,"LinearToneMapping",function(){return $e}),r.d(n,"Loader",function(){return Ot}),r.d(n,"LoaderUtils",function(){return v1}),r.d(n,"LoadingManager",function(){return sn}),r.d(n,"LogLuvEncoding",function(){return x}),r.d(n,"LoopOnce",function(){return Ss}),r.d(n,"LoopPingPong",function(){return zo}),r.d(n,"LoopRepeat",function(){return so}),r.d(n,"LuminanceAlphaFormat",function(){return us}),r.d(n,"LuminanceFormat",function(){return Ki}),r.d(n,"MOUSE",function(){return c}),r.d(n,"Material",function(){return yn}),r.d(n,"MaterialLoader",function(){return Sb}),r.d(n,"Math",function(){return Tn}),r.d(n,"MathUtils",function(){return Tn}),r.d(n,"Matrix3",function(){return Gi}),r.d(n,"Matrix4",function(){return Pr}),r.d(n,"MaxEquation",function(){return Ze}),r.d(n,"Mesh",function(){return ss}),r.d(n,"MeshBasicMaterial",function(){return Ei}),r.d(n,"MeshDepthMaterial",function(){return wu}),r.d(n,"MeshDistanceMaterial",function(){return Ec}),r.d(n,"MeshFaceMaterial",function(){return kC}),r.d(n,"MeshLambertMaterial",function(){return rc}),r.d(n,"MeshMatcapMaterial",function(){return Nc}),r.d(n,"MeshNormalMaterial",function(){return Dc}),r.d(n,"MeshPhongMaterial",function(){return Eh}),r.d(n,"MeshPhysicalMaterial",function(){return nc}),r.d(n,"MeshStandardMaterial",function(){return Eu}),r.d(n,"MeshToonMaterial",function(){return Mh}),r.d(n,"MinEquation",function(){return Ke}),r.d(n,"MirroredRepeatWrapping",function(){return Pn}),r.d(n,"MixOperation",function(){return tn}),r.d(n,"MultiMaterial",function(){return OC}),r.d(n,"MultiplyBlending",function(){return Pe}),r.d(n,"MultiplyOperation",function(){return qt}),r.d(n,"NearestFilter",function(){return tr}),r.d(n,"NearestMipMapLinearFilter",function(){return Zi}),r.d(n,"NearestMipMapNearestFilter",function(){return xi}),r.d(n,"NearestMipmapLinearFilter",function(){return Yi}),r.d(n,"NearestMipmapNearestFilter",function(){return Fr}),r.d(n,"NeverDepth",function(){return Ut}),r.d(n,"NeverStencilFunc",function(){return Wn}),r.d(n,"NoBlending",function(){return oe}),r.d(n,"NoColors",function(){return LC}),r.d(n,"NoToneMapping",function(){return jt}),r.d(n,"NormalAnimationBlendMode",function(){return da}),r.d(n,"NormalBlending",function(){return le}),r.d(n,"NotEqualDepth",function(){return cr}),r.d(n,"NotEqualStencilFunc",function(){return Er}),r.d(n,"NumberKeyframeTrack",function(){return p}),r.d(n,"Object3D",function(){return D}),r.d(n,"ObjectLoader",function(){return XT}),r.d(n,"ObjectSpaceNormalMap",function(){return Ie}),r.d(n,"OctahedronBufferGeometry",function(){return Oc}),r.d(n,"OctahedronGeometry",function(){return zy}),r.d(n,"OneFactor",function(){return ft}),r.d(n,"OneMinusDstAlphaFactor",function(){return _e}),r.d(n,"OneMinusDstColorFactor",function(){return rt}),r.d(n,"OneMinusSrcAlphaFactor",function(){return te}),r.d(n,"OneMinusSrcColorFactor",function(){return Qe}),r.d(n,"OrthographicCamera",function(){return Hg}),r.d(n,"PCFShadowMap",function(){return T}),r.d(n,"PCFSoftShadowMap",function(){return k}),r.d(n,"PMREMGenerator",function(){return SC}),r.d(n,"ParametricBufferGeometry",function(){return vs}),r.d(n,"ParametricGeometry",function(){return zp}),r.d(n,"Particle",function(){return DC}),r.d(n,"ParticleBasicMaterial",function(){return zC}),r.d(n,"ParticleSystem",function(){return NC}),r.d(n,"ParticleSystemMaterial",function(){return BC}),r.d(n,"Path",function(){return Uc}),r.d(n,"PerspectiveCamera",function(){return eo}),r.d(n,"Plane",function(){return de}),r.d(n,"PlaneBufferGeometry",function(){return mp}),r.d(n,"PlaneGeometry",function(){return By}),r.d(n,"PlaneHelper",function(){return xC}),r.d(n,"PointCloud",function(){return IC}),r.d(n,"PointCloudMaterial",function(){return FC}),r.d(n,"PointLight",function(){return xb}),r.d(n,"PointLightHelper",function(){return dC}),r.d(n,"Points",function(){return od}),r.d(n,"PointsMaterial",function(){return po}),r.d(n,"PolarGridHelper",function(){return mC}),r.d(n,"PolyhedronBufferGeometry",function(){return _u}),r.d(n,"PolyhedronGeometry",function(){return fb}),r.d(n,"PositionalAudio",function(){return QT}),r.d(n,"PropertyBinding",function(){return gl}),r.d(n,"PropertyMixer",function(){return A1}),r.d(n,"QuadraticBezierCurve",function(){return Hc}),r.d(n,"QuadraticBezierCurve3",function(){return Th}),r.d(n,"Quaternion",function(){return ds}),r.d(n,"QuaternionKeyframeTrack",function(){return z}),r.d(n,"QuaternionLinearInterpolant",function(){return M}),r.d(n,"REVISION",function(){return a}),r.d(n,"RGBADepthPacking",function(){return ue}),r.d(n,"RGBAFormat",function(){return mi}),r.d(n,"RGBAIntegerFormat",function(){return pn}),r.d(n,"RGBA_ASTC_10x10_Format",function(){return lu}),r.d(n,"RGBA_ASTC_10x5_Format",function(){return Vs}),r.d(n,"RGBA_ASTC_10x6_Format",function(){return Ti}),r.d(n,"RGBA_ASTC_10x8_Format",function(){return ua}),r.d(n,"RGBA_ASTC_12x10_Format",function(){return Ws}),r.d(n,"RGBA_ASTC_12x12_Format",function(){return Do}),r.d(n,"RGBA_ASTC_4x4_Format",function(){return jr}),r.d(n,"RGBA_ASTC_5x4_Format",function(){return ei}),r.d(n,"RGBA_ASTC_5x5_Format",function(){return bi}),r.d(n,"RGBA_ASTC_6x5_Format",function(){return Wi}),r.d(n,"RGBA_ASTC_6x6_Format",function(){return ns}),r.d(n,"RGBA_ASTC_8x5_Format",function(){return Io}),r.d(n,"RGBA_ASTC_8x6_Format",function(){return Eo}),r.d(n,"RGBA_ASTC_8x8_Format",function(){return Fi}),r.d(n,"RGBA_BPTC_Format",function(){return La}),r.d(n,"RGBA_ETC2_EAC_Format",function(){return kr}),r.d(n,"RGBA_PVRTC_2BPPV1_Format",function(){return Qr}),r.d(n,"RGBA_PVRTC_4BPPV1_Format",function(){return Br}),r.d(n,"RGBA_S3TC_DXT1_Format",function(){return Kn}),r.d(n,"RGBA_S3TC_DXT3_Format",function(){return Jr}),r.d(n,"RGBA_S3TC_DXT5_Format",function(){return Sn}),r.d(n,"RGBDEncoding",function(){return U}),r.d(n,"RGBEEncoding",function(){return ir}),r.d(n,"RGBEFormat",function(){return jl}),r.d(n,"RGBFormat",function(){return ws}),r.d(n,"RGBIntegerFormat",function(){return Yt}),r.d(n,"RGBM16Encoding",function(){return B}),r.d(n,"RGBM7Encoding",function(){return C}),r.d(n,"RGB_ETC1_Format",function(){return Hr}),r.d(n,"RGB_ETC2_Format",function(){return pr}),r.d(n,"RGB_PVRTC_2BPPV1_Format",function(){return ri}),r.d(n,"RGB_PVRTC_4BPPV1_Format",function(){return Mr}),r.d(n,"RGB_S3TC_DXT1_Format",function(){return dn}),r.d(n,"RGFormat",function(){return je}),r.d(n,"RGIntegerFormat",function(){return it}),r.d(n,"RawShaderMaterial",function(){return Kl}),r.d(n,"Ray",function(){return ps}),r.d(n,"Raycaster",function(){return P1}),r.d(n,"RectAreaLight",function(){return _b}),r.d(n,"RedFormat",function(){return He}),r.d(n,"RedIntegerFormat",function(){return yt}),r.d(n,"ReinhardToneMapping",function(){return Gn}),r.d(n,"RepeatWrapping",function(){return Zr}),r.d(n,"ReplaceStencilOp",function(){return Lt}),r.d(n,"ReverseSubtractEquation",function(){return dt}),r.d(n,"RingBufferGeometry",function(){return Hy}),r.d(n,"RingGeometry",function(){return jy}),r.d(n,"SRGB8_ALPHA8_ASTC_10x10_Format",function(){return ha}),r.d(n,"SRGB8_ALPHA8_ASTC_10x5_Format",function(){return Yo}),r.d(n,"SRGB8_ALPHA8_ASTC_10x6_Format",function(){return Pa}),r.d(n,"SRGB8_ALPHA8_ASTC_10x8_Format",function(){return ca}),r.d(n,"SRGB8_ALPHA8_ASTC_12x10_Format",function(){return io}),r.d(n,"SRGB8_ALPHA8_ASTC_12x12_Format",function(){return cs}),r.d(n,"SRGB8_ALPHA8_ASTC_4x4_Format",function(){return Ya}),r.d(n,"SRGB8_ALPHA8_ASTC_5x4_Format",function(){return $o}),r.d(n,"SRGB8_ALPHA8_ASTC_5x5_Format",function(){return No}),r.d(n,"SRGB8_ALPHA8_ASTC_6x5_Format",function(){return Xr}),r.d(n,"SRGB8_ALPHA8_ASTC_6x6_Format",function(){return ul}),r.d(n,"SRGB8_ALPHA8_ASTC_8x5_Format",function(){return Ds}),r.d(n,"SRGB8_ALPHA8_ASTC_8x6_Format",function(){return Fo}),r.d(n,"SRGB8_ALPHA8_ASTC_8x8_Format",function(){return Rr}),r.d(n,"Scene",function(){return za}),r.d(n,"SceneUtils",function(){return a2}),r.d(n,"ShaderChunk",function(){return ti}),r.d(n,"ShaderLib",function(){return Na}),r.d(n,"ShaderMaterial",function(){return ho}),r.d(n,"ShadowMaterial",function(){return tc}),r.d(n,"Shape",function(){return Tf}),r.d(n,"ShapeBufferGeometry",function(){return Ig}),r.d(n,"ShapeGeometry",function(){return Uy}),r.d(n,"ShapePath",function(){return x1}),r.d(n,"ShapeUtils",function(){return ec}),r.d(n,"ShortType",function(){return ls}),r.d(n,"Skeleton",function(){return gh}),r.d(n,"SkeletonHelper",function(){return sE}),r.d(n,"SkinnedMesh",function(){return Tc}),r.d(n,"SmoothShading",function(){return ne}),r.d(n,"Sphere",function(){return ma}),r.d(n,"SphereBufferGeometry",function(){return nl}),r.d(n,"SphereGeometry",function(){return Dg}),r.d(n,"Spherical",function(){return uC}),r.d(n,"SphericalHarmonics3",function(){return HS}),r.d(n,"Spline",function(){return z1}),r.d(n,"SplineCurve",function(){return jc}),r.d(n,"SplineCurve3",function(){return EE}),r.d(n,"SpotLight",function(){return yb}),r.d(n,"SpotLightHelper",function(){return hC}),r.d(n,"Sprite",function(){return hf}),r.d(n,"SpriteMaterial",function(){return Ac}),r.d(n,"SrcAlphaFactor",function(){return Ue}),r.d(n,"SrcAlphaSaturateFactor",function(){return St}),r.d(n,"SrcColorFactor",function(){return Be}),r.d(n,"StaticCopyUsage",function(){return Ho}),r.d(n,"StaticDrawUsage",function(){return Ii}),r.d(n,"StaticReadUsage",function(){return fa}),r.d(n,"StereoCamera",function(){return WS}),r.d(n,"StreamCopyUsage",function(){return ka}),r.d(n,"StreamDrawUsage",function(){return sh}),r.d(n,"StreamReadUsage",function(){return Bu}),r.d(n,"StringKeyframeTrack",function(){return V}),r.d(n,"SubtractEquation",function(){return tt}),r.d(n,"SubtractiveBlending",function(){return be}),r.d(n,"TOUCH",function(){return h}),r.d(n,"TangentSpaceNormalMap",function(){return he}),r.d(n,"TetrahedronBufferGeometry",function(){return Gy}),r.d(n,"TetrahedronGeometry",function(){return Ic}),r.d(n,"TextBufferGeometry",function(){return Mf}),r.d(n,"TextGeometry",function(){return Sh}),r.d(n,"Texture",function(){return ii}),r.d(n,"TextureLoader",function(){return fn}),r.d(n,"TorusBufferGeometry",function(){return Af}),r.d(n,"TorusGeometry",function(){return Ng}),r.d(n,"TorusKnotBufferGeometry",function(){return Bp}),r.d(n,"TorusKnotGeometry",function(){return pb}),r.d(n,"Triangle",function(){return Wt}),r.d(n,"TriangleFanDrawMode",function(){return et}),r.d(n,"TriangleStripDrawMode",function(){return ge}),r.d(n,"TrianglesDrawMode",function(){return ie}),r.d(n,"TubeBufferGeometry",function(){return Hp}),r.d(n,"TubeGeometry",function(){return mb}),r.d(n,"UVMapping",function(){return hr}),r.d(n,"Uint16Attribute",function(){return qC}),r.d(n,"Uint16BufferAttribute",function(){return hl}),r.d(n,"Uint32Attribute",function(){return $C}),r.d(n,"Uint32BufferAttribute",function(){return vu}),r.d(n,"Uint8Attribute",function(){return GC}),r.d(n,"Uint8BufferAttribute",function(){return Go}),r.d(n,"Uint8ClampedAttribute",function(){return VC}),r.d(n,"Uint8ClampedBufferAttribute",function(){return zs}),r.d(n,"Uniform",function(){return Cb}),r.d(n,"UniformsLib",function(){return Nn}),r.d(n,"UniformsUtils",function(){return Wu}),r.d(n,"UnsignedByteType",function(){return ar}),r.d(n,"UnsignedInt248Type",function(){return So}),r.d(n,"UnsignedIntType",function(){return Ls}),r.d(n,"UnsignedShort4444Type",function(){return Ca}),r.d(n,"UnsignedShort5551Type",function(){return la}),r.d(n,"UnsignedShort565Type",function(){return _o}),r.d(n,"UnsignedShortType",function(){return Ui}),r.d(n,"VSMShadowMap",function(){return G}),r.d(n,"Vector2",function(){return It}),r.d(n,"Vector3",function(){return ye}),r.d(n,"Vector4",function(){return Di}),r.d(n,"VectorKeyframeTrack",function(){return ae}),r.d(n,"Vertex",function(){return HC}),r.d(n,"VertexColors",function(){return RC}),r.d(n,"VideoTexture",function(){return Oy}),r.d(n,"WebGL1Renderer",function(){return bg}),r.d(n,"WebGLCubeRenderTarget",function(){return fo}),r.d(n,"WebGLMultisampleRenderTarget",function(){return cl}),r.d(n,"WebGLRenderTarget",function(){return Uo}),r.d(n,"WebGLRenderTargetCube",function(){return r2}),r.d(n,"WebGLRenderer",function(){return of}),r.d(n,"WebGLUtils",function(){return nd}),r.d(n,"WireframeGeometry",function(){return Fg}),r.d(n,"WireframeHelper",function(){return e2}),r.d(n,"WrapAroundEnding",function(){return Ml}),r.d(n,"XHRLoader",function(){return t2}),r.d(n,"ZeroCurvatureEnding",function(){return Ci}),r.d(n,"ZeroFactor",function(){return Xe}),r.d(n,"ZeroSlopeEnding",function(){return ao}),r.d(n,"ZeroStencilOp",function(){return ze}),r.d(n,"sRGBEncoding",function(){return kt});const a="124",c={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},h={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},f=0,m=1,b=2,_=3,E=0,T=1,k=2,G=3,q=0,X=1,Y=2,W=1,ne=2,oe=0,le=1,Se=2,be=3,Pe=4,P=5,We=100,tt=101,dt=102,Ke=103,Ze=104,Xe=200,ft=201,Be=202,Qe=203,Ue=204,te=205,lt=206,_e=207,ke=208,rt=209,St=210,Ut=0,we=1,Pt=2,gt=3,Le=4,Bt=5,bn=6,cr=7,qt=0,tn=1,on=2,jt=0,$e=1,Gn=2,sr=3,or=4,zn=5,hr=300,br=301,wr=302,Vn=303,Nr=304,zr=306,Cr=307,Zr=1e3,Ir=1001,Pn=1002,tr=1003,Fr=1004,xi=1004,Yi=1005,Zi=1005,Sr=1006,ai=1007,Ai=1007,Gs=1008,ji=1008,ar=1009,aa=1010,ls=1011,Ui=1012,ts=1013,Ls=1014,Ps=1015,Kr=1016,Ca=1017,la=1018,_o=1019,So=1020,ro=1021,ws=1022,mi=1023,Ki=1024,us=1025,jl=mi,Ks=1026,_s=1027,He=1028,yt=1029,je=1030,it=1031,Yt=1032,pn=1033,dn=33776,Kn=33777,Jr=33778,Sn=33779,Mr=35840,ri=35841,Br=35842,Qr=35843,Hr=36196,pr=37492,kr=37496,jr=37808,ei=37809,bi=37810,Wi=37811,ns=37812,Io=37813,Eo=37814,Fi=37815,Vs=37816,Ti=37817,ua=37818,lu=37819,Ws=37820,Do=37821,La=36492,Ya=37840,$o=37841,No=37842,Xr=37843,ul=37844,Ds=37845,Fo=37846,Rr=37847,Yo=37848,Pa=37849,ca=37850,ha=37851,io=37852,cs=37853,Ss=2200,so=2201,zo=2202,Es=2300,oo=2301,Ra=2302,Ci=2400,ao=2401,Ml=2402,da=2500,Z=2501,ie=0,ge=1,et=2,ct=3e3,kt=3001,wn=3007,ir=3002,x=3003,C=3004,B=3005,U=3006,Q=3200,ue=3201,he=0,Ie=1,ze=0,at=7680,Lt=7681,Et=7682,pt=7683,Mt=34055,Bn=34056,lr=5386,Wn=512,fi=513,zi=514,Js=515,li=516,Er=517,Bo=518,ui=519,Ii=35044,Za=35048,sh=35040,fa=35045,uu=35049,Bu=35041,Ho=35046,Hu=35050,ka=35042,hs="100",jo="300 es";function rs(){}Object.assign(rs.prototype,{addEventListener:function(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)},hasEventListener:function(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1},removeEventListener:function(t,e){if(this._listeners===void 0)return;const i=this._listeners[t];if(i!==void 0){const o=i.indexOf(e);o!==-1&&i.splice(o,1)}},dispatchEvent:function(t){if(this._listeners===void 0)return;const e=this._listeners[t.type];if(e!==void 0){t.target=this;const i=e.slice(0);for(let o=0,l=i.length;o<l;o++)i[o].call(this,t)}}});const qi=[];for(let t=0;t<256;t++)qi[t]=(t<16?"0":"")+t.toString(16);let Lr=1234567;const Tn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return(qi[255&t]+qi[t>>8&255]+qi[t>>16&255]+qi[t>>24&255]+"-"+qi[255&e]+qi[e>>8&255]+"-"+qi[e>>16&15|64]+qi[e>>24&255]+"-"+qi[63&i|128]+qi[i>>8&255]+"-"+qi[i>>16&255]+qi[i>>24&255]+qi[255&o]+qi[o>>8&255]+qi[o>>16&255]+qi[o>>24&255]).toUpperCase()},clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,o,l){return o+(t-e)*(l-o)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return t!==void 0&&(Lr=t%2147483647),Lr=16807*Lr%2147483647,(Lr-1)/2147483646},degToRad:function(t){return t*Tn.DEG2RAD},radToDeg:function(t){return t*Tn.RAD2DEG},isPowerOfTwo:function(t){return(t&t-1)==0&&t!==0},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,i,o,l){const d=Math.cos,g=Math.sin,v=d(i/2),w=g(i/2),S=d((e+o)/2),R=g((e+o)/2),L=d((e-o)/2),I=g((e-o)/2),F=d((o-e)/2),H=g((o-e)/2);switch(l){case"XYX":t.set(v*R,w*L,w*I,v*S);break;case"YZY":t.set(w*I,v*R,w*L,v*S);break;case"ZXZ":t.set(w*L,w*I,v*R,v*S);break;case"XZX":t.set(v*R,w*H,w*F,v*S);break;case"YXY":t.set(w*F,v*R,w*H,v*S);break;case"ZYZ":t.set(w*H,w*F,v*R,v*S);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+l)}}};class It{constructor(e=0,i=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=i}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,i){return this.x=e,this.y=i,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,i){return i!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,i)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this}sub(e,i){return i!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,i)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const i=this.x,o=this.y,l=e.elements;return this.x=l[0]*i+l[3]*o+l[6],this.y=l[1]*i+l[4]*o+l[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this}clampLength(e,i){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(i,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,o=this.y-e.y;return i*i+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this}lerpVectors(e,i,o){return this.x=e.x+(i.x-e.x)*o,this.y=e.y+(i.y-e.y)*o,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e}fromBufferAttribute(e,i,o){return o!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(i),this.y=e.getY(i),this}rotateAround(e,i){const o=Math.cos(i),l=Math.sin(i),d=this.x-e.x,g=this.y-e.y;return this.x=d*o-g*l+e.x,this.y=d*l+g*o+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class Gi{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,i,o,l,d,g,v,w,S){const R=this.elements;return R[0]=e,R[1]=l,R[2]=v,R[3]=i,R[4]=d,R[5]=w,R[6]=o,R[7]=g,R[8]=S,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return new this.constructor().fromArray(this.elements)}copy(e){const i=this.elements,o=e.elements;return i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[3],i[4]=o[4],i[5]=o[5],i[6]=o[6],i[7]=o[7],i[8]=o[8],this}extractBasis(e,i,o){return e.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const i=e.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const o=e.elements,l=i.elements,d=this.elements,g=o[0],v=o[3],w=o[6],S=o[1],R=o[4],L=o[7],I=o[2],F=o[5],H=o[8],K=l[0],$=l[3],ee=l[6],me=l[1],xe=l[4],Ee=l[7],Me=l[2],Ne=l[5],Te=l[8];return d[0]=g*K+v*me+w*Me,d[3]=g*$+v*xe+w*Ne,d[6]=g*ee+v*Ee+w*Te,d[1]=S*K+R*me+L*Me,d[4]=S*$+R*xe+L*Ne,d[7]=S*ee+R*Ee+L*Te,d[2]=I*K+F*me+H*Me,d[5]=I*$+F*xe+H*Ne,d[8]=I*ee+F*Ee+H*Te,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=e,i[4]*=e,i[7]*=e,i[2]*=e,i[5]*=e,i[8]*=e,this}determinant(){const e=this.elements,i=e[0],o=e[1],l=e[2],d=e[3],g=e[4],v=e[5],w=e[6],S=e[7],R=e[8];return i*g*R-i*v*S-o*d*R+o*v*w+l*d*S-l*g*w}invert(){const e=this.elements,i=e[0],o=e[1],l=e[2],d=e[3],g=e[4],v=e[5],w=e[6],S=e[7],R=e[8],L=R*g-v*S,I=v*w-R*d,F=S*d-g*w,H=i*L+o*I+l*F;if(H===0)return this.set(0,0,0,0,0,0,0,0,0);const K=1/H;return e[0]=L*K,e[1]=(l*S-R*o)*K,e[2]=(v*o-l*g)*K,e[3]=I*K,e[4]=(R*i-l*w)*K,e[5]=(l*d-v*i)*K,e[6]=F*K,e[7]=(o*w-S*i)*K,e[8]=(g*i-o*d)*K,this}transpose(){let e;const i=this.elements;return e=i[1],i[1]=i[3],i[3]=e,e=i[2],i[2]=i[6],i[6]=e,e=i[5],i[5]=i[7],i[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).copy(this).invert().transpose()}transposeIntoArray(e){const i=this.elements;return e[0]=i[0],e[1]=i[3],e[2]=i[6],e[3]=i[1],e[4]=i[4],e[5]=i[7],e[6]=i[2],e[7]=i[5],e[8]=i[8],this}setUvTransform(e,i,o,l,d,g,v){const w=Math.cos(d),S=Math.sin(d);return this.set(o*w,o*S,-o*(w*g+S*v)+g+e,-l*S,l*w,-l*(-S*g+w*v)+v+i,0,0,1),this}scale(e,i){const o=this.elements;return o[0]*=e,o[3]*=e,o[6]*=e,o[1]*=i,o[4]*=i,o[7]*=i,this}rotate(e){const i=Math.cos(e),o=Math.sin(e),l=this.elements,d=l[0],g=l[3],v=l[6],w=l[1],S=l[4],R=l[7];return l[0]=i*d+o*w,l[3]=i*g+o*S,l[6]=i*v+o*R,l[1]=-o*d+i*w,l[4]=-o*g+i*S,l[7]=-o*v+i*R,this}translate(e,i){const o=this.elements;return o[0]+=e*o[2],o[3]+=e*o[5],o[6]+=e*o[8],o[1]+=i*o[2],o[4]+=i*o[5],o[7]+=i*o[8],this}equals(e){const i=this.elements,o=e.elements;for(let l=0;l<9;l++)if(i[l]!==o[l])return!1;return!0}fromArray(e,i=0){for(let o=0;o<9;o++)this.elements[o]=e[o+i];return this}toArray(e=[],i=0){const o=this.elements;return e[i]=o[0],e[i+1]=o[1],e[i+2]=o[2],e[i+3]=o[3],e[i+4]=o[4],e[i+5]=o[5],e[i+6]=o[6],e[i+7]=o[7],e[i+8]=o[8],e}}let Ji;const Xi={getDataURL:function(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{Ji===void 0&&(Ji=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Ji.width=t.width,Ji.height=t.height;const i=Ji.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=Ji}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let Oa=0;function ii(t=ii.DEFAULT_IMAGE,e=ii.DEFAULT_MAPPING,i=Ir,o=Ir,l=Sr,d=Gs,g=mi,v=ar,w=1,S=ct){Object.defineProperty(this,"id",{value:Oa++}),this.uuid=Tn.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=i,this.wrapT=o,this.magFilter=l,this.minFilter=d,this.anisotropy=w,this.format=g,this.internalFormat=null,this.type=v,this.offset=new It(0,0),this.repeat=new It(1,1),this.center=new It(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Gi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=S,this.version=0,this.onUpdate=null}function Ul(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Xi.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}ii.DEFAULT_IMAGE=void 0,ii.DEFAULT_MAPPING=hr,ii.prototype=Object.assign(Object.create(rs.prototype),{constructor:ii,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const o=this.image;if(o.uuid===void 0&&(o.uuid=Tn.generateUUID()),!e&&t.images[o.uuid]===void 0){let l;if(Array.isArray(o)){l=[];for(let d=0,g=o.length;d<g;d++)o[d].isDataTexture?l.push(Ul(o[d].image)):l.push(Ul(o[d]))}else l=Ul(o);t.images[o.uuid]={uuid:o.uuid,url:l}}i.image=o.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==hr)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Zr:t.x=t.x-Math.floor(t.x);break;case Ir:t.x=t.x<0?0:1;break;case Pn:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Zr:t.y=t.y-Math.floor(t.y);break;case Ir:t.y=t.y<0?0:1;break;case Pn:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(ii.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});class Di{constructor(e=0,i=0,o=0,l=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=i,this.z=o,this.w=l}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,i,o,l){return this.x=e,this.y=i,this.z=o,this.w=l,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,i){return i!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,i)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this.w=e.w+i.w,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this.w+=e.w*i,this}sub(e,i){return i!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,i)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this.w=e.w-i.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const i=this.x,o=this.y,l=this.z,d=this.w,g=e.elements;return this.x=g[0]*i+g[4]*o+g[8]*l+g[12]*d,this.y=g[1]*i+g[5]*o+g[9]*l+g[13]*d,this.z=g[2]*i+g[6]*o+g[10]*l+g[14]*d,this.w=g[3]*i+g[7]*o+g[11]*l+g[15]*d,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const i=Math.sqrt(1-e.w*e.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/i,this.y=e.y/i,this.z=e.z/i),this}setAxisAngleFromRotationMatrix(e){let i,o,l,d;const g=e.elements,v=g[0],w=g[4],S=g[8],R=g[1],L=g[5],I=g[9],F=g[2],H=g[6],K=g[10];if(Math.abs(w-R)<.01&&Math.abs(S-F)<.01&&Math.abs(I-H)<.01){if(Math.abs(w+R)<.1&&Math.abs(S+F)<.1&&Math.abs(I+H)<.1&&Math.abs(v+L+K-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;const ee=(v+1)/2,me=(L+1)/2,xe=(K+1)/2,Ee=(w+R)/4,Me=(S+F)/4,Ne=(I+H)/4;return ee>me&&ee>xe?ee<.01?(o=0,l=.707106781,d=.707106781):(o=Math.sqrt(ee),l=Ee/o,d=Me/o):me>xe?me<.01?(o=.707106781,l=0,d=.707106781):(l=Math.sqrt(me),o=Ee/l,d=Ne/l):xe<.01?(o=.707106781,l=.707106781,d=0):(d=Math.sqrt(xe),o=Me/d,l=Ne/d),this.set(o,l,d,i),this}let $=Math.sqrt((H-I)*(H-I)+(S-F)*(S-F)+(R-w)*(R-w));return Math.abs($)<.001&&($=1),this.x=(H-I)/$,this.y=(S-F)/$,this.z=(R-w)/$,this.w=Math.acos((v+L+K-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this.z=Math.max(e.z,Math.min(i.z,this.z)),this.w=Math.max(e.w,Math.min(i.w,this.w)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this.z=Math.max(e,Math.min(i,this.z)),this.w=Math.max(e,Math.min(i,this.w)),this}clampLength(e,i){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(i,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this.w+=(e.w-this.w)*i,this}lerpVectors(e,i,o){return this.x=e.x+(i.x-e.x)*o,this.y=e.y+(i.y-e.y)*o,this.z=e.z+(i.z-e.z)*o,this.w=e.w+(i.w-e.w)*o,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this.w=e[i+3],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e[i+3]=this.w,e}fromBufferAttribute(e,i,o){return o!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this.w=e.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function Uo(t,e,i){this.width=t,this.height=e,this.scissor=new Di(0,0,t,e),this.scissorTest=!1,this.viewport=new Di(0,0,t,e),i=i||{},this.texture=new ii(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=i.generateMipmaps!==void 0&&i.generateMipmaps,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Sr,this.depthBuffer=i.depthBuffer===void 0||i.depthBuffer,this.stencilBuffer=i.stencilBuffer!==void 0&&i.stencilBuffer,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}function cl(t,e,i){Uo.call(this,t,e,i),this.samples=4}Uo.prototype=Object.assign(Object.create(rs.prototype),{constructor:Uo,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),cl.prototype=Object.assign(Object.create(Uo.prototype),{constructor:cl,isWebGLMultisampleRenderTarget:!0,copy:function(t){return Uo.prototype.copy.call(this,t),this.samples=t.samples,this}});class ds{constructor(e=0,i=0,o=0,l=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=i,this._z=o,this._w=l}static slerp(e,i,o,l){return o.copy(e).slerp(i,l)}static slerpFlat(e,i,o,l,d,g,v){let w=o[l+0],S=o[l+1],R=o[l+2],L=o[l+3];const I=d[g+0],F=d[g+1],H=d[g+2],K=d[g+3];if(L!==K||w!==I||S!==F||R!==H){let $=1-v;const ee=w*I+S*F+R*H+L*K,me=ee>=0?1:-1,xe=1-ee*ee;if(xe>Number.EPSILON){const Me=Math.sqrt(xe),Ne=Math.atan2(Me,ee*me);$=Math.sin($*Ne)/Me,v=Math.sin(v*Ne)/Me}const Ee=v*me;if(w=w*$+I*Ee,S=S*$+F*Ee,R=R*$+H*Ee,L=L*$+K*Ee,$===1-v){const Me=1/Math.sqrt(w*w+S*S+R*R+L*L);w*=Me,S*=Me,R*=Me,L*=Me}}e[i]=w,e[i+1]=S,e[i+2]=R,e[i+3]=L}static multiplyQuaternionsFlat(e,i,o,l,d,g){const v=o[l],w=o[l+1],S=o[l+2],R=o[l+3],L=d[g],I=d[g+1],F=d[g+2],H=d[g+3];return e[i]=v*H+R*L+w*F-S*I,e[i+1]=w*H+R*I+S*L-v*F,e[i+2]=S*H+R*F+v*I-w*L,e[i+3]=R*H-v*L-w*I-S*F,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,i,o,l){return this._x=e,this._y=i,this._z=o,this._w=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,i){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const o=e._x,l=e._y,d=e._z,g=e._order,v=Math.cos,w=Math.sin,S=v(o/2),R=v(l/2),L=v(d/2),I=w(o/2),F=w(l/2),H=w(d/2);switch(g){case"XYZ":this._x=I*R*L+S*F*H,this._y=S*F*L-I*R*H,this._z=S*R*H+I*F*L,this._w=S*R*L-I*F*H;break;case"YXZ":this._x=I*R*L+S*F*H,this._y=S*F*L-I*R*H,this._z=S*R*H-I*F*L,this._w=S*R*L+I*F*H;break;case"ZXY":this._x=I*R*L-S*F*H,this._y=S*F*L+I*R*H,this._z=S*R*H+I*F*L,this._w=S*R*L-I*F*H;break;case"ZYX":this._x=I*R*L-S*F*H,this._y=S*F*L+I*R*H,this._z=S*R*H-I*F*L,this._w=S*R*L+I*F*H;break;case"YZX":this._x=I*R*L+S*F*H,this._y=S*F*L+I*R*H,this._z=S*R*H-I*F*L,this._w=S*R*L-I*F*H;break;case"XZY":this._x=I*R*L-S*F*H,this._y=S*F*L-I*R*H,this._z=S*R*H+I*F*L,this._w=S*R*L+I*F*H;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+g)}return i!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,i){const o=i/2,l=Math.sin(o);return this._x=e.x*l,this._y=e.y*l,this._z=e.z*l,this._w=Math.cos(o),this._onChangeCallback(),this}setFromRotationMatrix(e){const i=e.elements,o=i[0],l=i[4],d=i[8],g=i[1],v=i[5],w=i[9],S=i[2],R=i[6],L=i[10],I=o+v+L;if(I>0){const F=.5/Math.sqrt(I+1);this._w=.25/F,this._x=(R-w)*F,this._y=(d-S)*F,this._z=(g-l)*F}else if(o>v&&o>L){const F=2*Math.sqrt(1+o-v-L);this._w=(R-w)/F,this._x=.25*F,this._y=(l+g)/F,this._z=(d+S)/F}else if(v>L){const F=2*Math.sqrt(1+v-o-L);this._w=(d-S)/F,this._x=(l+g)/F,this._y=.25*F,this._z=(w+R)/F}else{const F=2*Math.sqrt(1+L-o-v);this._w=(g-l)/F,this._x=(d+S)/F,this._y=(w+R)/F,this._z=.25*F}return this._onChangeCallback(),this}setFromUnitVectors(e,i){let o=e.dot(i)+1;return o<1e-6?(o=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=o):(this._x=0,this._y=-e.z,this._z=e.y,this._w=o)):(this._x=e.y*i.z-e.z*i.y,this._y=e.z*i.x-e.x*i.z,this._z=e.x*i.y-e.y*i.x,this._w=o),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Tn.clamp(this.dot(e),-1,1)))}rotateTowards(e,i){const o=this.angleTo(e);if(o===0)return this;const l=Math.min(1,i/o);return this.slerp(e,l),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,i){return i!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,i)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,i){const o=e._x,l=e._y,d=e._z,g=e._w,v=i._x,w=i._y,S=i._z,R=i._w;return this._x=o*R+g*v+l*S-d*w,this._y=l*R+g*w+d*v-o*S,this._z=d*R+g*S+o*w-l*v,this._w=g*R-o*v-l*w-d*S,this._onChangeCallback(),this}slerp(e,i){if(i===0)return this;if(i===1)return this.copy(e);const o=this._x,l=this._y,d=this._z,g=this._w;let v=g*e._w+o*e._x+l*e._y+d*e._z;if(v<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,v=-v):this.copy(e),v>=1)return this._w=g,this._x=o,this._y=l,this._z=d,this;const w=1-v*v;if(w<=Number.EPSILON){const F=1-i;return this._w=F*g+i*this._w,this._x=F*o+i*this._x,this._y=F*l+i*this._y,this._z=F*d+i*this._z,this.normalize(),this._onChangeCallback(),this}const S=Math.sqrt(w),R=Math.atan2(S,v),L=Math.sin((1-i)*R)/S,I=Math.sin(i*R)/S;return this._w=g*L+this._w*I,this._x=o*L+this._x*I,this._y=l*L+this._y*I,this._z=d*L+this._z*I,this._onChangeCallback(),this}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,i=0){return this._x=e[i],this._y=e[i+1],this._z=e[i+2],this._w=e[i+3],this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._w,e}fromBufferAttribute(e,i){return this._x=e.getX(i),this._y=e.getY(i),this._z=e.getZ(i),this._w=e.getW(i),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}class ye{constructor(e=0,i=0,o=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=i,this.z=o}set(e,i,o){return o===void 0&&(o=this.z),this.x=e,this.y=i,this.z=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,i){return i!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,i)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this}sub(e,i){return i!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,i)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this}multiply(e,i){return i!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,i)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,i){return this.x=e.x*i.x,this.y=e.y*i.y,this.z=e.z*i.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(cu.setFromEuler(e))}applyAxisAngle(e,i){return this.applyQuaternion(cu.setFromAxisAngle(e,i))}applyMatrix3(e){const i=this.x,o=this.y,l=this.z,d=e.elements;return this.x=d[0]*i+d[3]*o+d[6]*l,this.y=d[1]*i+d[4]*o+d[7]*l,this.z=d[2]*i+d[5]*o+d[8]*l,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const i=this.x,o=this.y,l=this.z,d=e.elements,g=1/(d[3]*i+d[7]*o+d[11]*l+d[15]);return this.x=(d[0]*i+d[4]*o+d[8]*l+d[12])*g,this.y=(d[1]*i+d[5]*o+d[9]*l+d[13])*g,this.z=(d[2]*i+d[6]*o+d[10]*l+d[14])*g,this}applyQuaternion(e){const i=this.x,o=this.y,l=this.z,d=e.x,g=e.y,v=e.z,w=e.w,S=w*i+g*l-v*o,R=w*o+v*i-d*l,L=w*l+d*o-g*i,I=-d*i-g*o-v*l;return this.x=S*w+I*-d+R*-v-L*-g,this.y=R*w+I*-g+L*-d-S*-v,this.z=L*w+I*-v+S*-g-R*-d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const i=this.x,o=this.y,l=this.z,d=e.elements;return this.x=d[0]*i+d[4]*o+d[8]*l,this.y=d[1]*i+d[5]*o+d[9]*l,this.z=d[2]*i+d[6]*o+d[10]*l,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this.z=Math.max(e.z,Math.min(i.z,this.z)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this.z=Math.max(e,Math.min(i,this.z)),this}clampLength(e,i){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(i,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this}lerpVectors(e,i,o){return this.x=e.x+(i.x-e.x)*o,this.y=e.y+(i.y-e.y)*o,this.z=e.z+(i.z-e.z)*o,this}cross(e,i){return i!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,i)):this.crossVectors(this,e)}crossVectors(e,i){const o=e.x,l=e.y,d=e.z,g=i.x,v=i.y,w=i.z;return this.x=l*w-d*v,this.y=d*g-o*w,this.z=o*v-l*g,this}projectOnVector(e){const i=e.lengthSq();if(i===0)return this.set(0,0,0);const o=e.dot(this)/i;return this.copy(e).multiplyScalar(o)}projectOnPlane(e){return oh.copy(this).projectOnVector(e),this.sub(oh)}reflect(e){return this.sub(oh.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const o=this.dot(e)/i;return Math.acos(Tn.clamp(o,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,o=this.y-e.y,l=this.z-e.z;return i*i+o*o+l*l}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,i,o){const l=Math.sin(i)*e;return this.x=l*Math.sin(o),this.y=Math.cos(i)*e,this.z=l*Math.cos(o),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,i,o){return this.x=e*Math.sin(i),this.y=o,this.z=e*Math.cos(i),this}setFromMatrixPosition(e){const i=e.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(e){const i=this.setFromMatrixColumn(e,0).length(),o=this.setFromMatrixColumn(e,1).length(),l=this.setFromMatrixColumn(e,2).length();return this.x=i,this.y=o,this.z=l,this}setFromMatrixColumn(e,i){return this.fromArray(e.elements,4*i)}setFromMatrix3Column(e,i){return this.fromArray(e.elements,3*i)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e}fromBufferAttribute(e,i,o){return o!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const oh=new ye,cu=new ds;class Ka{constructor(e,i){Object.defineProperty(this,"isBox3",{value:!0}),this.min=e!==void 0?e:new ye(1/0,1/0,1/0),this.max=i!==void 0?i:new ye(-1/0,-1/0,-1/0)}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromArray(e){let i=1/0,o=1/0,l=1/0,d=-1/0,g=-1/0,v=-1/0;for(let w=0,S=e.length;w<S;w+=3){const R=e[w],L=e[w+1],I=e[w+2];R<i&&(i=R),L<o&&(o=L),I<l&&(l=I),R>d&&(d=R),L>g&&(g=L),I>v&&(v=I)}return this.min.set(i,o,l),this.max.set(d,g,v),this}setFromBufferAttribute(e){let i=1/0,o=1/0,l=1/0,d=-1/0,g=-1/0,v=-1/0;for(let w=0,S=e.count;w<S;w++){const R=e.getX(w),L=e.getY(w),I=e.getZ(w);R<i&&(i=R),L<o&&(o=L),I<l&&(l=I),R>d&&(d=R),L>g&&(g=L),I>v&&(v=I)}return this.min.set(i,o,l),this.max.set(d,g,v),this}setFromPoints(e){this.makeEmpty();for(let i=0,o=e.length;i<o;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){const o=pa.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new ye),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new ye),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const i=e.geometry;i!==void 0&&(i.boundingBox===null&&i.computeBoundingBox(),ah.copy(i.boundingBox),ah.applyMatrix4(e.matrixWorld),this.union(ah));const o=e.children;for(let l=0,d=o.length;l<d;l++)this.expandByObject(o[l]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,i){return i===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),i=new ye),i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,pa),pa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let i,o;return e.normal.x>0?(i=e.normal.x*this.min.x,o=e.normal.x*this.max.x):(i=e.normal.x*this.max.x,o=e.normal.x*this.min.x),e.normal.y>0?(i+=e.normal.y*this.min.y,o+=e.normal.y*this.max.y):(i+=e.normal.y*this.max.y,o+=e.normal.y*this.min.y),e.normal.z>0?(i+=e.normal.z*this.min.z,o+=e.normal.z*this.max.z):(i+=e.normal.z*this.max.z,o+=e.normal.z*this.min.z),i<=-e.constant&&o>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ns),Zo.subVectors(this.max,Ns),du.subVectors(e.a,Ns),Gl.subVectors(e.b,Ns),fu.subVectors(e.c,Ns),$r.subVectors(Gl,du),Vi.subVectors(fu,Gl),is.subVectors(du,fu);let i=[0,-$r.z,$r.y,0,-Vi.z,Vi.y,0,-is.z,is.y,$r.z,0,-$r.x,Vi.z,0,-Vi.x,is.z,0,-is.x,-$r.y,$r.x,0,-Vi.y,Vi.x,0,-is.y,is.x,0];return!!hu(i,du,Gl,fu,Zo)&&(i=[1,0,0,0,1,0,0,0,1],!!hu(i,du,Gl,fu,Zo)&&(pu.crossVectors($r,Vi),i=[pu.x,pu.y,pu.z],hu(i,du,Gl,fu,Zo)))}clampPoint(e,i){return i===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),i=new ye),i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return pa.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(pa).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(fs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fs)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}function hu(t,e,i,o,l){for(let d=0,g=t.length-3;d<=g;d+=3){Ko.fromArray(t,d);const v=l.x*Math.abs(Ko.x)+l.y*Math.abs(Ko.y)+l.z*Math.abs(Ko.z),w=e.dot(Ko),S=i.dot(Ko),R=o.dot(Ko);if(Math.max(-Math.max(w,S,R),Math.min(w,S,R))>v)return!1}return!0}const fs=[new ye,new ye,new ye,new ye,new ye,new ye,new ye,new ye],pa=new ye,ah=new Ka,du=new ye,Gl=new ye,fu=new ye,$r=new ye,Vi=new ye,is=new ye,Ns=new ye,Zo=new ye,pu=new ye,Ko=new ye,yc=new Ka;class ma{constructor(e,i){this.center=e!==void 0?e:new ye,this.radius=i!==void 0?i:-1}set(e,i){return this.center.copy(e),this.radius=i,this}setFromPoints(e,i){const o=this.center;i!==void 0?o.copy(i):yc.setFromPoints(e).getCenter(o);let l=0;for(let d=0,g=e.length;d<g;d++)l=Math.max(l,o.distanceToSquared(e[d]));return this.radius=Math.sqrt(l),this}clone(){return new this.constructor().copy(this)}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const i=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=i*i}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,i){const o=this.center.distanceToSquared(e);return i===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),i=new ye),i.copy(e),o>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Ka),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}}const lo=new ye,mu=new ye,ju=new ye,Jo=new ye,ga=new ye,gu=new ye,va=new ye;class ps{constructor(e,i){this.origin=e!==void 0?e:new ye,this.direction=i!==void 0?i:new ye(0,0,-1)}set(e,i){return this.origin.copy(e),this.direction.copy(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,i){return i===void 0&&(console.warn("THREE.Ray: .at() target is now required"),i=new ye),i.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,lo)),this}closestPointToPoint(e,i){i===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),i=new ye),i.subVectors(e,this.origin);const o=i.dot(this.direction);return o<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(o).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const i=lo.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(lo.copy(this.direction).multiplyScalar(i).add(this.origin),lo.distanceToSquared(e))}distanceSqToSegment(e,i,o,l){mu.copy(e).add(i).multiplyScalar(.5),ju.copy(i).sub(e).normalize(),Jo.copy(this.origin).sub(mu);const d=.5*e.distanceTo(i),g=-this.direction.dot(ju),v=Jo.dot(this.direction),w=-Jo.dot(ju),S=Jo.lengthSq(),R=Math.abs(1-g*g);let L,I,F,H;if(R>0)if(L=g*w-v,I=g*v-w,H=d*R,L>=0)if(I>=-H)if(I<=H){const K=1/R;L*=K,I*=K,F=L*(L+g*I+2*v)+I*(g*L+I+2*w)+S}else I=d,L=Math.max(0,-(g*I+v)),F=-L*L+I*(I+2*w)+S;else I=-d,L=Math.max(0,-(g*I+v)),F=-L*L+I*(I+2*w)+S;else I<=-H?(L=Math.max(0,-(-g*d+v)),I=L>0?-d:Math.min(Math.max(-d,-w),d),F=-L*L+I*(I+2*w)+S):I<=H?(L=0,I=Math.min(Math.max(-d,-w),d),F=I*(I+2*w)+S):(L=Math.max(0,-(g*d+v)),I=L>0?d:Math.min(Math.max(-d,-w),d),F=-L*L+I*(I+2*w)+S);else I=g>0?-d:d,L=Math.max(0,-(g*I+v)),F=-L*L+I*(I+2*w)+S;return o&&o.copy(this.direction).multiplyScalar(L).add(this.origin),l&&l.copy(ju).multiplyScalar(I).add(mu),F}intersectSphere(e,i){lo.subVectors(e.center,this.origin);const o=lo.dot(this.direction),l=lo.dot(lo)-o*o,d=e.radius*e.radius;if(l>d)return null;const g=Math.sqrt(d-l),v=o-g,w=o+g;return v<0&&w<0?null:v<0?this.at(w,i):this.at(v,i)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const i=e.normal.dot(this.direction);if(i===0)return e.distanceToPoint(this.origin)===0?0:null;const o=-(this.origin.dot(e.normal)+e.constant)/i;return o>=0?o:null}intersectPlane(e,i){const o=this.distanceToPlane(e);return o===null?null:this.at(o,i)}intersectsPlane(e){const i=e.distanceToPoint(this.origin);return i===0?!0:e.normal.dot(this.direction)*i<0}intersectBox(e,i){let o,l,d,g,v,w;const S=1/this.direction.x,R=1/this.direction.y,L=1/this.direction.z,I=this.origin;return S>=0?(o=(e.min.x-I.x)*S,l=(e.max.x-I.x)*S):(o=(e.max.x-I.x)*S,l=(e.min.x-I.x)*S),R>=0?(d=(e.min.y-I.y)*R,g=(e.max.y-I.y)*R):(d=(e.max.y-I.y)*R,g=(e.min.y-I.y)*R),o>g||d>l?null:((d>o||o!=o)&&(o=d),(g<l||l!=l)&&(l=g),L>=0?(v=(e.min.z-I.z)*L,w=(e.max.z-I.z)*L):(v=(e.max.z-I.z)*L,w=(e.min.z-I.z)*L),o>w||v>l?null:((v>o||o!=o)&&(o=v),(w<l||l!=l)&&(l=w),l<0?null:this.at(o>=0?o:l,i)))}intersectsBox(e){return this.intersectBox(e,lo)!==null}intersectTriangle(e,i,o,l,d){ga.subVectors(i,e),gu.subVectors(o,e),va.crossVectors(ga,gu);let g,v=this.direction.dot(va);if(v>0){if(l)return null;g=1}else{if(!(v<0))return null;g=-1,v=-v}Jo.subVectors(this.origin,e);const w=g*this.direction.dot(gu.crossVectors(Jo,gu));if(w<0)return null;const S=g*this.direction.dot(ga.cross(Jo));if(S<0||w+S>v)return null;const R=-g*Jo.dot(va);return R<0?null:this.at(R/v,d)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}class Pr{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,i,o,l,d,g,v,w,S,R,L,I,F,H,K,$){const ee=this.elements;return ee[0]=e,ee[4]=i,ee[8]=o,ee[12]=l,ee[1]=d,ee[5]=g,ee[9]=v,ee[13]=w,ee[2]=S,ee[6]=R,ee[10]=L,ee[14]=I,ee[3]=F,ee[7]=H,ee[11]=K,ee[15]=$,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pr().fromArray(this.elements)}copy(e){const i=this.elements,o=e.elements;return i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[3],i[4]=o[4],i[5]=o[5],i[6]=o[6],i[7]=o[7],i[8]=o[8],i[9]=o[9],i[10]=o[10],i[11]=o[11],i[12]=o[12],i[13]=o[13],i[14]=o[14],i[15]=o[15],this}copyPosition(e){const i=this.elements,o=e.elements;return i[12]=o[12],i[13]=o[13],i[14]=o[14],this}extractBasis(e,i,o){return e.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this}makeBasis(e,i,o){return this.set(e.x,i.x,o.x,0,e.y,i.y,o.y,0,e.z,i.z,o.z,0,0,0,0,1),this}extractRotation(e){const i=this.elements,o=e.elements,l=1/pe.setFromMatrixColumn(e,0).length(),d=1/pe.setFromMatrixColumn(e,1).length(),g=1/pe.setFromMatrixColumn(e,2).length();return i[0]=o[0]*l,i[1]=o[1]*l,i[2]=o[2]*l,i[3]=0,i[4]=o[4]*d,i[5]=o[5]*d,i[6]=o[6]*d,i[7]=0,i[8]=o[8]*g,i[9]=o[9]*g,i[10]=o[10]*g,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const i=this.elements,o=e.x,l=e.y,d=e.z,g=Math.cos(o),v=Math.sin(o),w=Math.cos(l),S=Math.sin(l),R=Math.cos(d),L=Math.sin(d);if(e.order==="XYZ"){const I=g*R,F=g*L,H=v*R,K=v*L;i[0]=w*R,i[4]=-w*L,i[8]=S,i[1]=F+H*S,i[5]=I-K*S,i[9]=-v*w,i[2]=K-I*S,i[6]=H+F*S,i[10]=g*w}else if(e.order==="YXZ"){const I=w*R,F=w*L,H=S*R,K=S*L;i[0]=I+K*v,i[4]=H*v-F,i[8]=g*S,i[1]=g*L,i[5]=g*R,i[9]=-v,i[2]=F*v-H,i[6]=K+I*v,i[10]=g*w}else if(e.order==="ZXY"){const I=w*R,F=w*L,H=S*R,K=S*L;i[0]=I-K*v,i[4]=-g*L,i[8]=H+F*v,i[1]=F+H*v,i[5]=g*R,i[9]=K-I*v,i[2]=-g*S,i[6]=v,i[10]=g*w}else if(e.order==="ZYX"){const I=g*R,F=g*L,H=v*R,K=v*L;i[0]=w*R,i[4]=H*S-F,i[8]=I*S+K,i[1]=w*L,i[5]=K*S+I,i[9]=F*S-H,i[2]=-S,i[6]=v*w,i[10]=g*w}else if(e.order==="YZX"){const I=g*w,F=g*S,H=v*w,K=v*S;i[0]=w*R,i[4]=K-I*L,i[8]=H*L+F,i[1]=L,i[5]=g*R,i[9]=-v*R,i[2]=-S*R,i[6]=F*L+H,i[10]=I-K*L}else if(e.order==="XZY"){const I=g*w,F=g*S,H=v*w,K=v*S;i[0]=w*R,i[4]=-L,i[8]=S*R,i[1]=I*L+K,i[5]=g*R,i[9]=F*L-H,i[2]=H*L-F,i[6]=v*R,i[10]=K*L+I}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Je,e,Ht)}lookAt(e,i,o){const l=this.elements;return Jt.subVectors(e,i),Jt.lengthSq()===0&&(Jt.z=1),Jt.normalize(),st.crossVectors(o,Jt),st.lengthSq()===0&&(Math.abs(o.z)===1?Jt.x+=1e-4:Jt.z+=1e-4,Jt.normalize(),st.crossVectors(o,Jt)),st.normalize(),Zt.crossVectors(Jt,st),l[0]=st.x,l[4]=Zt.x,l[8]=Jt.x,l[1]=st.y,l[5]=Zt.y,l[9]=Jt.y,l[2]=st.z,l[6]=Zt.z,l[10]=Jt.z,this}multiply(e,i){return i!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,i)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const o=e.elements,l=i.elements,d=this.elements,g=o[0],v=o[4],w=o[8],S=o[12],R=o[1],L=o[5],I=o[9],F=o[13],H=o[2],K=o[6],$=o[10],ee=o[14],me=o[3],xe=o[7],Ee=o[11],Me=o[15],Ne=l[0],Te=l[4],ut=l[8],vt=l[12],Gt=l[1],Nt=l[5],wt=l[9],Vt=l[13],mn=l[2],cn=l[6],ur=l[10],kn=l[14],Cn=l[3],vr=l[7],yr=l[11],hi=l[15];return d[0]=g*Ne+v*Gt+w*mn+S*Cn,d[4]=g*Te+v*Nt+w*cn+S*vr,d[8]=g*ut+v*wt+w*ur+S*yr,d[12]=g*vt+v*Vt+w*kn+S*hi,d[1]=R*Ne+L*Gt+I*mn+F*Cn,d[5]=R*Te+L*Nt+I*cn+F*vr,d[9]=R*ut+L*wt+I*ur+F*yr,d[13]=R*vt+L*Vt+I*kn+F*hi,d[2]=H*Ne+K*Gt+$*mn+ee*Cn,d[6]=H*Te+K*Nt+$*cn+ee*vr,d[10]=H*ut+K*wt+$*ur+ee*yr,d[14]=H*vt+K*Vt+$*kn+ee*hi,d[3]=me*Ne+xe*Gt+Ee*mn+Me*Cn,d[7]=me*Te+xe*Nt+Ee*cn+Me*vr,d[11]=me*ut+xe*wt+Ee*ur+Me*yr,d[15]=me*vt+xe*Vt+Ee*kn+Me*hi,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[4]*=e,i[8]*=e,i[12]*=e,i[1]*=e,i[5]*=e,i[9]*=e,i[13]*=e,i[2]*=e,i[6]*=e,i[10]*=e,i[14]*=e,i[3]*=e,i[7]*=e,i[11]*=e,i[15]*=e,this}determinant(){const e=this.elements,i=e[0],o=e[4],l=e[8],d=e[12],g=e[1],v=e[5],w=e[9],S=e[13],R=e[2],L=e[6],I=e[10],F=e[14];return e[3]*(+d*w*L-l*S*L-d*v*I+o*S*I+l*v*F-o*w*F)+e[7]*(+i*w*F-i*S*I+d*g*I-l*g*F+l*S*R-d*w*R)+e[11]*(+i*S*L-i*v*F-d*g*L+o*g*F+d*v*R-o*S*R)+e[15]*(-l*v*R-i*w*L+i*v*I+l*g*L-o*g*I+o*w*R)}transpose(){const e=this.elements;let i;return i=e[1],e[1]=e[4],e[4]=i,i=e[2],e[2]=e[8],e[8]=i,i=e[6],e[6]=e[9],e[9]=i,i=e[3],e[3]=e[12],e[12]=i,i=e[7],e[7]=e[13],e[13]=i,i=e[11],e[11]=e[14],e[14]=i,this}setPosition(e,i,o){const l=this.elements;return e.isVector3?(l[12]=e.x,l[13]=e.y,l[14]=e.z):(l[12]=e,l[13]=i,l[14]=o),this}invert(){const e=this.elements,i=e[0],o=e[1],l=e[2],d=e[3],g=e[4],v=e[5],w=e[6],S=e[7],R=e[8],L=e[9],I=e[10],F=e[11],H=e[12],K=e[13],$=e[14],ee=e[15],me=L*$*S-K*I*S+K*w*F-v*$*F-L*w*ee+v*I*ee,xe=H*I*S-R*$*S-H*w*F+g*$*F+R*w*ee-g*I*ee,Ee=R*K*S-H*L*S+H*v*F-g*K*F-R*v*ee+g*L*ee,Me=H*L*w-R*K*w-H*v*I+g*K*I+R*v*$-g*L*$,Ne=i*me+o*xe+l*Ee+d*Me;if(Ne===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Te=1/Ne;return e[0]=me*Te,e[1]=(K*I*d-L*$*d-K*l*F+o*$*F+L*l*ee-o*I*ee)*Te,e[2]=(v*$*d-K*w*d+K*l*S-o*$*S-v*l*ee+o*w*ee)*Te,e[3]=(L*w*d-v*I*d-L*l*S+o*I*S+v*l*F-o*w*F)*Te,e[4]=xe*Te,e[5]=(R*$*d-H*I*d+H*l*F-i*$*F-R*l*ee+i*I*ee)*Te,e[6]=(H*w*d-g*$*d-H*l*S+i*$*S+g*l*ee-i*w*ee)*Te,e[7]=(g*I*d-R*w*d+R*l*S-i*I*S-g*l*F+i*w*F)*Te,e[8]=Ee*Te,e[9]=(H*L*d-R*K*d-H*o*F+i*K*F+R*o*ee-i*L*ee)*Te,e[10]=(g*K*d-H*v*d+H*o*S-i*K*S-g*o*ee+i*v*ee)*Te,e[11]=(R*v*d-g*L*d-R*o*S+i*L*S+g*o*F-i*v*F)*Te,e[12]=Me*Te,e[13]=(R*K*l-H*L*l+H*o*I-i*K*I-R*o*$+i*L*$)*Te,e[14]=(H*v*l-g*K*l-H*o*w+i*K*w+g*o*$-i*v*$)*Te,e[15]=(g*L*l-R*v*l+R*o*w-i*L*w-g*o*I+i*v*I)*Te,this}scale(e){const i=this.elements,o=e.x,l=e.y,d=e.z;return i[0]*=o,i[4]*=l,i[8]*=d,i[1]*=o,i[5]*=l,i[9]*=d,i[2]*=o,i[6]*=l,i[10]*=d,i[3]*=o,i[7]*=l,i[11]*=d,this}getMaxScaleOnAxis(){const e=this.elements,i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],l=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(i,o,l))}makeTranslation(e,i,o){return this.set(1,0,0,e,0,1,0,i,0,0,1,o,0,0,0,1),this}makeRotationX(e){const i=Math.cos(e),o=Math.sin(e);return this.set(1,0,0,0,0,i,-o,0,0,o,i,0,0,0,0,1),this}makeRotationY(e){const i=Math.cos(e),o=Math.sin(e);return this.set(i,0,o,0,0,1,0,0,-o,0,i,0,0,0,0,1),this}makeRotationZ(e){const i=Math.cos(e),o=Math.sin(e);return this.set(i,-o,0,0,o,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,i){const o=Math.cos(i),l=Math.sin(i),d=1-o,g=e.x,v=e.y,w=e.z,S=d*g,R=d*v;return this.set(S*g+o,S*v-l*w,S*w+l*v,0,S*v+l*w,R*v+o,R*w-l*g,0,S*w-l*v,R*w+l*g,d*w*w+o,0,0,0,0,1),this}makeScale(e,i,o){return this.set(e,0,0,0,0,i,0,0,0,0,o,0,0,0,0,1),this}makeShear(e,i,o){return this.set(1,i,o,0,e,1,o,0,e,i,1,0,0,0,0,1),this}compose(e,i,o){const l=this.elements,d=i._x,g=i._y,v=i._z,w=i._w,S=d+d,R=g+g,L=v+v,I=d*S,F=d*R,H=d*L,K=g*R,$=g*L,ee=v*L,me=w*S,xe=w*R,Ee=w*L,Me=o.x,Ne=o.y,Te=o.z;return l[0]=(1-(K+ee))*Me,l[1]=(F+Ee)*Me,l[2]=(H-xe)*Me,l[3]=0,l[4]=(F-Ee)*Ne,l[5]=(1-(I+ee))*Ne,l[6]=($+me)*Ne,l[7]=0,l[8]=(H+xe)*Te,l[9]=($-me)*Te,l[10]=(1-(I+K))*Te,l[11]=0,l[12]=e.x,l[13]=e.y,l[14]=e.z,l[15]=1,this}decompose(e,i,o){const l=this.elements;let d=pe.set(l[0],l[1],l[2]).length();const g=pe.set(l[4],l[5],l[6]).length(),v=pe.set(l[8],l[9],l[10]).length();this.determinant()<0&&(d=-d),e.x=l[12],e.y=l[13],e.z=l[14],Oe.copy(this);const w=1/d,S=1/g,R=1/v;return Oe.elements[0]*=w,Oe.elements[1]*=w,Oe.elements[2]*=w,Oe.elements[4]*=S,Oe.elements[5]*=S,Oe.elements[6]*=S,Oe.elements[8]*=R,Oe.elements[9]*=R,Oe.elements[10]*=R,i.setFromRotationMatrix(Oe),o.x=d,o.y=g,o.z=v,this}makePerspective(e,i,o,l,d,g){g===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const v=this.elements,w=2*d/(i-e),S=2*d/(o-l),R=(i+e)/(i-e),L=(o+l)/(o-l),I=-(g+d)/(g-d),F=-2*g*d/(g-d);return v[0]=w,v[4]=0,v[8]=R,v[12]=0,v[1]=0,v[5]=S,v[9]=L,v[13]=0,v[2]=0,v[6]=0,v[10]=I,v[14]=F,v[3]=0,v[7]=0,v[11]=-1,v[15]=0,this}makeOrthographic(e,i,o,l,d,g){const v=this.elements,w=1/(i-e),S=1/(o-l),R=1/(g-d),L=(i+e)*w,I=(o+l)*S,F=(g+d)*R;return v[0]=2*w,v[4]=0,v[8]=0,v[12]=-L,v[1]=0,v[5]=2*S,v[9]=0,v[13]=-I,v[2]=0,v[6]=0,v[10]=-2*R,v[14]=-F,v[3]=0,v[7]=0,v[11]=0,v[15]=1,this}equals(e){const i=this.elements,o=e.elements;for(let l=0;l<16;l++)if(i[l]!==o[l])return!1;return!0}fromArray(e,i=0){for(let o=0;o<16;o++)this.elements[o]=e[o+i];return this}toArray(e=[],i=0){const o=this.elements;return e[i]=o[0],e[i+1]=o[1],e[i+2]=o[2],e[i+3]=o[3],e[i+4]=o[4],e[i+5]=o[5],e[i+6]=o[6],e[i+7]=o[7],e[i+8]=o[8],e[i+9]=o[9],e[i+10]=o[10],e[i+11]=o[11],e[i+12]=o[12],e[i+13]=o[13],e[i+14]=o[14],e[i+15]=o[15],e}}const pe=new ye,Oe=new Pr,Je=new ye(0,0,0),Ht=new ye(1,1,1),st=new ye,Zt=new ye,Jt=new ye;class ln{constructor(e=0,i=0,o=0,l=ln.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=i,this._z=o,this._order=l}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,o,l){return this._x=e,this._y=i,this._z=o,this._order=l||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i,o){const l=Tn.clamp,d=e.elements,g=d[0],v=d[4],w=d[8],S=d[1],R=d[5],L=d[9],I=d[2],F=d[6],H=d[10];switch(i=i||this._order){case"XYZ":this._y=Math.asin(l(w,-1,1)),Math.abs(w)<.9999999?(this._x=Math.atan2(-L,H),this._z=Math.atan2(-v,g)):(this._x=Math.atan2(F,R),this._z=0);break;case"YXZ":this._x=Math.asin(-l(L,-1,1)),Math.abs(L)<.9999999?(this._y=Math.atan2(w,H),this._z=Math.atan2(S,R)):(this._y=Math.atan2(-I,g),this._z=0);break;case"ZXY":this._x=Math.asin(l(F,-1,1)),Math.abs(F)<.9999999?(this._y=Math.atan2(-I,H),this._z=Math.atan2(-v,R)):(this._y=0,this._z=Math.atan2(S,g));break;case"ZYX":this._y=Math.asin(-l(I,-1,1)),Math.abs(I)<.9999999?(this._x=Math.atan2(F,H),this._z=Math.atan2(S,g)):(this._x=0,this._z=Math.atan2(-v,R));break;case"YZX":this._z=Math.asin(l(S,-1,1)),Math.abs(S)<.9999999?(this._x=Math.atan2(-L,R),this._y=Math.atan2(-I,g)):(this._x=0,this._y=Math.atan2(w,H));break;case"XZY":this._z=Math.asin(-l(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(F,R),this._y=Math.atan2(w,g)):(this._x=Math.atan2(-L,H),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,o!==!1&&this._onChangeCallback(),this}setFromQuaternion(e,i,o){return En.makeRotationFromQuaternion(e),this.setFromRotationMatrix(En,i,o)}setFromVector3(e,i){return this.set(e.x,e.y,e.z,i||this._order)}reorder(e){return dr.setFromEuler(this),this.setFromQuaternion(dr,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new ye(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}ln.DefaultOrder="XYZ",ln.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const En=new Pr,dr=new ds;class mr{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}}let _r=0;const Ur=new ye,wi=new ds,fr=new Pr,ms=new ye,Qi=new ye,Qs=new ye,Li=new ds,Qo=new ye(1,0,0),Fs=new ye(0,1,0),Ms=new ye(0,0,1),O={type:"added"},N={type:"removed"};function D(){Object.defineProperty(this,"id",{value:_r++}),this.uuid=Tn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=D.DefaultUp.clone();const t=new ye,e=new ln,i=new ds,o=new ye(1,1,1);e._onChange(function(){i.setFromEuler(e,!1)}),i._onChange(function(){e.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Pr},normalMatrix:{value:new Gi}}),this.matrix=new Pr,this.matrixWorld=new Pr,this.matrixAutoUpdate=D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new mr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}D.DefaultUp=new ye(0,1,0),D.DefaultMatrixAutoUpdate=!0,D.prototype=Object.assign(Object.create(rs.prototype),{constructor:D,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return wi.setFromAxisAngle(t,e),this.quaternion.multiply(wi),this},rotateOnWorldAxis:function(t,e){return wi.setFromAxisAngle(t,e),this.quaternion.premultiply(wi),this},rotateX:function(t){return this.rotateOnAxis(Qo,t)},rotateY:function(t){return this.rotateOnAxis(Fs,t)},rotateZ:function(t){return this.rotateOnAxis(Ms,t)},translateOnAxis:function(t,e){return Ur.copy(t).applyQuaternion(this.quaternion),this.position.add(Ur.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(Qo,t)},translateY:function(t){return this.translateOnAxis(Fs,t)},translateZ:function(t){return this.translateOnAxis(Ms,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(fr.copy(this.matrixWorld).invert())},lookAt:function(t,e,i){t.isVector3?ms.copy(t):ms.set(t,e,i);const o=this.parent;this.updateWorldMatrix(!0,!1),Qi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fr.lookAt(Qi,ms,this.up):fr.lookAt(ms,Qi,this.up),this.quaternion.setFromRotationMatrix(fr),o&&(fr.extractRotation(o.matrixWorld),wi.setFromRotationMatrix(fr),this.quaternion.premultiply(wi.invert()))},add:function(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(O)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(N)),this},clear:function(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(N)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),fr.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),fr.multiply(t.parent.matrixWorld)),t.applyMatrix4(fr),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let i=0,o=this.children.length;i<o;i++){const l=this.children[i].getObjectByProperty(t,e);if(l!==void 0)return l}},getWorldPosition:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new ye),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new ds),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qi,t,Qs),t},getWorldScale:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new ye),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qi,Li,t),t},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new ye),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let i=0,o=e.length;i<o;i++)e[i].traverse(t)},traverseVisible:function(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,o=e.length;i<o;i++)e[i].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,o=e.length;i<o;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const o=this.children;for(let l=0,d=o.length;l<d;l++)o[l].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};function l(g,v){return g[v.uuid]===void 0&&(g[v.uuid]=v.toJSON(t)),v.uuid}if(o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){o.geometry=l(t.geometries,this.geometry);const g=this.geometry.parameters;if(g!==void 0&&g.shapes!==void 0){const v=g.shapes;if(Array.isArray(v))for(let w=0,S=v.length;w<S;w++){const R=v[w];l(t.shapes,R)}else l(t.shapes,v)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(l(t.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const g=[];for(let v=0,w=this.material.length;v<w;v++)g.push(l(t.materials,this.material[v]));o.material=g}else o.material=l(t.materials,this.material);if(this.children.length>0){o.children=[];for(let g=0;g<this.children.length;g++)o.children.push(this.children[g].toJSON(t).object)}if(this.animations.length>0){o.animations=[];for(let g=0;g<this.animations.length;g++){const v=this.animations[g];o.animations.push(l(t.animations,v))}}if(e){const g=d(t.geometries),v=d(t.materials),w=d(t.textures),S=d(t.images),R=d(t.shapes),L=d(t.skeletons),I=d(t.animations);g.length>0&&(i.geometries=g),v.length>0&&(i.materials=v),w.length>0&&(i.textures=w),S.length>0&&(i.images=S),R.length>0&&(i.shapes=R),L.length>0&&(i.skeletons=L),I.length>0&&(i.animations=I)}return i.object=o,i;function d(g){const v=[];for(const w in g){const S=g[w];delete S.metadata,v.push(S)}return v}},clone:function(t){return new this.constructor().copy(this,t)},copy:function(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const o=t.children[i];this.add(o.clone())}return this}});const j=new ye,J=new ye,re=new Gi;class de{constructor(e,i){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=e!==void 0?e:new ye(1,0,0),this.constant=i!==void 0?i:0}set(e,i){return this.normal.copy(e),this.constant=i,this}setComponents(e,i,o,l){return this.normal.set(e,i,o),this.constant=l,this}setFromNormalAndCoplanarPoint(e,i){return this.normal.copy(e),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(e,i,o){const l=j.subVectors(o,i).cross(J.subVectors(e,i)).normalize();return this.setFromNormalAndCoplanarPoint(l,e),this}clone(){return new this.constructor().copy(this)}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,i){return i===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),i=new ye),i.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,i){i===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),i=new ye);const o=e.delta(j),l=this.normal.dot(o);if(l===0)return this.distanceToPoint(e.start)===0?i.copy(e.start):void 0;const d=-(e.start.dot(this.normal)+this.constant)/l;return d<0||d>1?void 0:i.copy(o).multiplyScalar(d).add(e.start)}intersectsLine(e){const i=this.distanceToPoint(e.start),o=this.distanceToPoint(e.end);return i<0&&o>0||o<0&&i>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new ye),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,i){const o=i||re.getNormalMatrix(e),l=this.coplanarPoint(j).applyMatrix4(e),d=this.normal.applyMatrix3(o).normalize();return this.constant=-l.dot(d),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}const ve=new ye,Ce=new ye,qe=new ye,Fe=new ye,nt=new ye,Tt=new ye,Ct=new ye,Rn=new ye,xn=new ye,nn=new ye;class Wt{constructor(e,i,o){this.a=e!==void 0?e:new ye,this.b=i!==void 0?i:new ye,this.c=o!==void 0?o:new ye}static getNormal(e,i,o,l){l===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),l=new ye),l.subVectors(o,i),ve.subVectors(e,i),l.cross(ve);const d=l.lengthSq();return d>0?l.multiplyScalar(1/Math.sqrt(d)):l.set(0,0,0)}static getBarycoord(e,i,o,l,d){ve.subVectors(l,i),Ce.subVectors(o,i),qe.subVectors(e,i);const g=ve.dot(ve),v=ve.dot(Ce),w=ve.dot(qe),S=Ce.dot(Ce),R=Ce.dot(qe),L=g*S-v*v;if(d===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),d=new ye),L===0)return d.set(-2,-1,-1);const I=1/L,F=(S*w-v*R)*I,H=(g*R-v*w)*I;return d.set(1-F-H,H,F)}static containsPoint(e,i,o,l){return this.getBarycoord(e,i,o,l,Fe),Fe.x>=0&&Fe.y>=0&&Fe.x+Fe.y<=1}static getUV(e,i,o,l,d,g,v,w){return this.getBarycoord(e,i,o,l,Fe),w.set(0,0),w.addScaledVector(d,Fe.x),w.addScaledVector(g,Fe.y),w.addScaledVector(v,Fe.z),w}static isFrontFacing(e,i,o,l){return ve.subVectors(o,i),Ce.subVectors(e,i),ve.cross(Ce).dot(l)<0}set(e,i,o){return this.a.copy(e),this.b.copy(i),this.c.copy(o),this}setFromPointsAndIndices(e,i,o,l){return this.a.copy(e[i]),this.b.copy(e[o]),this.c.copy(e[l]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ve.subVectors(this.c,this.b),Ce.subVectors(this.a,this.b),.5*ve.cross(Ce).length()}getMidpoint(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new ye),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Wt.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new de),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,i){return Wt.getBarycoord(e,this.a,this.b,this.c,i)}getUV(e,i,o,l,d){return Wt.getUV(e,this.a,this.b,this.c,i,o,l,d)}containsPoint(e){return Wt.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Wt.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,i){i===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),i=new ye);const o=this.a,l=this.b,d=this.c;let g,v;nt.subVectors(l,o),Tt.subVectors(d,o),Rn.subVectors(e,o);const w=nt.dot(Rn),S=Tt.dot(Rn);if(w<=0&&S<=0)return i.copy(o);xn.subVectors(e,l);const R=nt.dot(xn),L=Tt.dot(xn);if(R>=0&&L<=R)return i.copy(l);const I=w*L-R*S;if(I<=0&&w>=0&&R<=0)return g=w/(w-R),i.copy(o).addScaledVector(nt,g);nn.subVectors(e,d);const F=nt.dot(nn),H=Tt.dot(nn);if(H>=0&&F<=H)return i.copy(d);const K=F*S-w*H;if(K<=0&&S>=0&&H<=0)return v=S/(S-H),i.copy(o).addScaledVector(Tt,v);const $=R*H-F*L;if($<=0&&L-R>=0&&F-H>=0)return Ct.subVectors(d,l),v=(L-R)/(L-R+(F-H)),i.copy(l).addScaledVector(Ct,v);const ee=1/($+K+I);return g=K*ee,v=I*ee,i.copy(o).addScaledVector(nt,g).addScaledVector(Tt,v)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Kt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},At={h:0,s:0,l:0},an={h:0,s:0,l:0};function _n(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}function In(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Mn(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class zt{constructor(e,i,o){return Object.defineProperty(this,"isColor",{value:!0}),i===void 0&&o===void 0?this.set(e):this.setRGB(e,i,o)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,i,o){return this.r=e,this.g=i,this.b=o,this}setHSL(e,i,o){if(e=Tn.euclideanModulo(e,1),i=Tn.clamp(i,0,1),o=Tn.clamp(o,0,1),i===0)this.r=this.g=this.b=o;else{const l=o<=.5?o*(1+i):o+i-o*i,d=2*o-l;this.r=_n(d,l,e+1/3),this.g=_n(d,l,e),this.b=_n(d,l,e-1/3)}return this}setStyle(e){function i(l){l!==void 0&&parseFloat(l)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let l;const d=o[1],g=o[2];switch(d){case"rgb":case"rgba":if(l=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(g))return this.r=Math.min(255,parseInt(l[1],10))/255,this.g=Math.min(255,parseInt(l[2],10))/255,this.b=Math.min(255,parseInt(l[3],10))/255,i(l[4]),this;if(l=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(g))return this.r=Math.min(100,parseInt(l[1],10))/100,this.g=Math.min(100,parseInt(l[2],10))/100,this.b=Math.min(100,parseInt(l[3],10))/100,i(l[4]),this;break;case"hsl":case"hsla":if(l=/^(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(g)){const v=parseFloat(l[1])/360,w=parseInt(l[2],10)/100,S=parseInt(l[3],10)/100;return i(l[4]),this.setHSL(v,w,S)}}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const l=o[1],d=l.length;if(d===3)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(d===6)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const i=Kt[e];return i!==void 0?this.setHex(i):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,i=2){return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this}copyLinearToGamma(e,i=2){const o=i>0?1/i:1;return this.r=Math.pow(e.r,o),this.g=Math.pow(e.g,o),this.b=Math.pow(e.b,o),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=In(e.r),this.g=In(e.g),this.b=In(e.b),this}copyLinearToSRGB(e){return this.r=Mn(e.r),this.g=Mn(e.g),this.b=Mn(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const i=this.r,o=this.g,l=this.b,d=Math.max(i,o,l),g=Math.min(i,o,l);let v,w;const S=(g+d)/2;if(g===d)v=0,w=0;else{const R=d-g;switch(w=S<=.5?R/(d+g):R/(2-d-g),d){case i:v=(o-l)/R+(o<l?6:0);break;case o:v=(l-i)/R+2;break;case l:v=(i-o)/R+4}v/=6}return e.h=v,e.s=w,e.l=S,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,i,o){return this.getHSL(At),At.h+=e,At.s+=i,At.l+=o,this.setHSL(At.h,At.s,At.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,i){return this.r=e.r+i.r,this.g=e.g+i.g,this.b=e.b+i.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,i){return this.r+=(e.r-this.r)*i,this.g+=(e.g-this.g)*i,this.b+=(e.b-this.b)*i,this}lerpHSL(e,i){this.getHSL(At),e.getHSL(an);const o=Tn.lerp(At.h,an.h,i),l=Tn.lerp(At.s,an.s,i),d=Tn.lerp(At.l,an.l,i);return this.setHSL(o,l,d),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,i=0){return this.r=e[i],this.g=e[i+1],this.b=e[i+2],this}toArray(e=[],i=0){return e[i]=this.r,e[i+1]=this.g,e[i+2]=this.b,e}fromBufferAttribute(e,i){return this.r=e.getX(i),this.g=e.getY(i),this.b=e.getZ(i),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}zt.NAMES=Kt,zt.prototype.r=1,zt.prototype.g=1,zt.prototype.b=1;class Dr{constructor(e,i,o,l,d,g=0){this.a=e,this.b=i,this.c=o,this.normal=l&&l.isVector3?l:new ye,this.vertexNormals=Array.isArray(l)?l:[],this.color=d&&d.isColor?d:new zt,this.vertexColors=Array.isArray(d)?d:[],this.materialIndex=g}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let i=0,o=e.vertexNormals.length;i<o;i++)this.vertexNormals[i]=e.vertexNormals[i].clone();for(let i=0,o=e.vertexColors.length;i<o;i++)this.vertexColors[i]=e.vertexColors[i].clone();return this}}let Pi=0;function yn(){Object.defineProperty(this,"id",{value:Pi++}),this.uuid=Tn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=le,this.side=q,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Ue,this.blendDst=te,this.blendEquation=We,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=gt,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ui,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=at,this.stencilZFail=at,this.stencilZPass=at,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Ei(t){yn.call(this),this.type="MeshBasicMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=qt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}yn.prototype=Object.assign(Object.create(rs.prototype),{constructor:yn,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if(e==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===W;continue}const o=this[e];o!==void 0?o&&o.isColor?o.set(i):o&&o.isVector3&&i&&i.isVector3?o.copy(i):this[e]=i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}},toJSON:function(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function o(l){const d=[];for(const g in l){const v=l[g];delete v.metadata,d.push(v)}return d}if(i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(i.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,i.refractionRatio=this.refractionRatio,this.combine!==void 0&&(i.combine=this.combine),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.size!==void 0&&(i.size=this.size),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==le&&(i.blending=this.blending),this.flatShading===!0&&(i.flatShading=this.flatShading),this.side!==q&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(i.morphTargets=!0),this.morphNormals===!0&&(i.morphNormals=!0),this.skinning===!0&&(i.skinning=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),e){const l=o(t.textures),d=o(t.images);l.length>0&&(i.textures=l),d.length>0&&(i.images=d)}return i},clone:function(){return new this.constructor().copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const o=e.length;i=new Array(o);for(let l=0;l!==o;++l)i[l]=e[l].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(yn.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Ei.prototype=Object.create(yn.prototype),Ei.prototype.constructor=Ei,Ei.prototype.isMeshBasicMaterial=!0,Ei.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const Qn=new ye,qs=new It;function Xn(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i===!0,this.usage=Ii,this.updateRange={offset:0,count:-1},this.version=0}function uo(t,e,i){Xn.call(this,new Int8Array(t),e,i)}function Go(t,e,i){Xn.call(this,new Uint8Array(t),e,i)}function zs(t,e,i){Xn.call(this,new Uint8ClampedArray(t),e,i)}function Uu(t,e,i){Xn.call(this,new Int16Array(t),e,i)}function hl(t,e,i){Xn.call(this,new Uint16Array(t),e,i)}function ea(t,e,i){Xn.call(this,new Int32Array(t),e,i)}function vu(t,e,i){Xn.call(this,new Uint32Array(t),e,i)}function Al(t,e,i){Xn.call(this,new Uint16Array(t),e,i)}function Dn(t,e,i){Xn.call(this,new Float32Array(t),e,i)}function hp(t,e,i){Xn.call(this,new Float64Array(t),e,i)}Object.defineProperty(Xn.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Object.assign(Xn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let o=0,l=this.itemSize;o<l;o++)this.array[t+o]=e.array[i+o];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let i=0;for(let o=0,l=t.length;o<l;o++){let d=t[o];d===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",o),d=new zt),e[i++]=d.r,e[i++]=d.g,e[i++]=d.b}return this},copyVector2sArray:function(t){const e=this.array;let i=0;for(let o=0,l=t.length;o<l;o++){let d=t[o];d===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",o),d=new It),e[i++]=d.x,e[i++]=d.y}return this},copyVector3sArray:function(t){const e=this.array;let i=0;for(let o=0,l=t.length;o<l;o++){let d=t[o];d===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",o),d=new ye),e[i++]=d.x,e[i++]=d.y,e[i++]=d.z}return this},copyVector4sArray:function(t){const e=this.array;let i=0;for(let o=0,l=t.length;o<l;o++){let d=t[o];d===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",o),d=new Di),e[i++]=d.x,e[i++]=d.y,e[i++]=d.z,e[i++]=d.w}return this},applyMatrix3:function(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)qs.fromBufferAttribute(this,e),qs.applyMatrix3(t),this.setXY(e,qs.x,qs.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Qn.fromBufferAttribute(this,e),Qn.applyMatrix3(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this},applyMatrix4:function(t){for(let e=0,i=this.count;e<i;e++)Qn.x=this.getX(e),Qn.y=this.getY(e),Qn.z=this.getZ(e),Qn.applyMatrix4(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this},applyNormalMatrix:function(t){for(let e=0,i=this.count;e<i;e++)Qn.x=this.getX(e),Qn.y=this.getY(e),Qn.z=this.getZ(e),Qn.applyNormalMatrix(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this},transformDirection:function(t){for(let e=0,i=this.count;e<i;e++)Qn.x=this.getX(e),Qn.y=this.getY(e),Qn.z=this.getZ(e),Qn.transformDirection(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this},set:function(t,e=0){return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,o){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=o,this},setXYZW:function(t,e,i,o,l){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=o,this.array[t+3]=l,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),uo.prototype=Object.create(Xn.prototype),uo.prototype.constructor=uo,Go.prototype=Object.create(Xn.prototype),Go.prototype.constructor=Go,zs.prototype=Object.create(Xn.prototype),zs.prototype.constructor=zs,Uu.prototype=Object.create(Xn.prototype),Uu.prototype.constructor=Uu,hl.prototype=Object.create(Xn.prototype),hl.prototype.constructor=hl,ea.prototype=Object.create(Xn.prototype),ea.prototype.constructor=ea,vu.prototype=Object.create(Xn.prototype),vu.prototype.constructor=vu,Al.prototype=Object.create(Xn.prototype),Al.prototype.constructor=Al,Al.prototype.isFloat16BufferAttribute=!0,Dn.prototype=Object.create(Xn.prototype),Dn.prototype.constructor=Dn,hp.prototype=Object.create(Xn.prototype),hp.prototype.constructor=hp;class n1{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){const i=[];let o,l,d;const g=e.faces;for(l=0;l<g.length;l++){const v=g[l];v.materialIndex!==d&&(d=v.materialIndex,o!==void 0&&(o.count=3*l-o.start,i.push(o)),o={start:3*l,materialIndex:d})}o!==void 0&&(o.count=3*l-o.start,i.push(o)),this.groups=i}fromGeometry(e){const i=e.faces,o=e.vertices,l=e.faceVertexUvs,d=l[0]&&l[0].length>0,g=l[1]&&l[1].length>0,v=e.morphTargets,w=v.length;let S;if(w>0){S=[];for(let ee=0;ee<w;ee++)S[ee]={name:v[ee].name,data:[]};this.morphTargets.position=S}const R=e.morphNormals,L=R.length;let I;if(L>0){I=[];for(let ee=0;ee<L;ee++)I[ee]={name:R[ee].name,data:[]};this.morphTargets.normal=I}const F=e.skinIndices,H=e.skinWeights,K=F.length===o.length,$=H.length===o.length;o.length>0&&i.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let ee=0;ee<i.length;ee++){const me=i[ee];this.vertices.push(o[me.a],o[me.b],o[me.c]);const xe=me.vertexNormals;if(xe.length===3)this.normals.push(xe[0],xe[1],xe[2]);else{const Me=me.normal;this.normals.push(Me,Me,Me)}const Ee=me.vertexColors;if(Ee.length===3)this.colors.push(Ee[0],Ee[1],Ee[2]);else{const Me=me.color;this.colors.push(Me,Me,Me)}if(d===!0){const Me=l[0][ee];Me!==void 0?this.uvs.push(Me[0],Me[1],Me[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",ee),this.uvs.push(new It,new It,new It))}if(g===!0){const Me=l[1][ee];Me!==void 0?this.uvs2.push(Me[0],Me[1],Me[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",ee),this.uvs2.push(new It,new It,new It))}for(let Me=0;Me<w;Me++){const Ne=v[Me].vertices;S[Me].data.push(Ne[me.a],Ne[me.b],Ne[me.c])}for(let Me=0;Me<L;Me++){const Ne=R[Me].vertexNormals[ee];I[Me].data.push(Ne.a,Ne.b,Ne.c)}K&&this.skinIndices.push(F[me.a],F[me.b],F[me.c]),$&&this.skinWeights.push(H[me.a],H[me.b],H[me.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}}function lh(t){if(t.length===0)return-1/0;let e=t[0];for(let i=1,o=t.length;i<o;++i)t[i]>e&&(e=t[i]);return e}const dp={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Gu(t,e){return new dp[t](e)}let sg=1;const Vl=new Pr,uh=new D,Tl=new ye,gi=new Ka,$i=new Ka,Rs=new ye;function $n(){Object.defineProperty(this,"id",{value:sg+=2}),this.uuid=Tn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}$n.prototype=Object.assign(Object.create(rs.prototype),{constructor:$n,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(lh(t)>65535?vu:hl)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return this.attributes[t]!==void 0},addGroup:function(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const l=new Gi().getNormalMatrix(t);i.applyNormalMatrix(l),i.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(t),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(t){return Vl.makeRotationX(t),this.applyMatrix4(Vl),this},rotateY:function(t){return Vl.makeRotationY(t),this.applyMatrix4(Vl),this},rotateZ:function(t){return Vl.makeRotationZ(t),this.applyMatrix4(Vl),this},translate:function(t,e,i){return Vl.makeTranslation(t,e,i),this.applyMatrix4(Vl),this},scale:function(t,e,i){return Vl.makeScale(t,e,i),this.applyMatrix4(Vl),this},lookAt:function(t){return uh.lookAt(t),uh.updateMatrix(),this.applyMatrix4(uh.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Tl).negate(),this.translate(Tl.x,Tl.y,Tl.z),this},setFromObject:function(t){const e=t.geometry;if(t.isPoints||t.isLine){const i=new Dn(3*e.vertices.length,3),o=new Dn(3*e.colors.length,3);if(this.setAttribute("position",i.copyVector3sArray(e.vertices)),this.setAttribute("color",o.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){const l=new Dn(e.lineDistances.length,1);this.setAttribute("lineDistance",l.copyArray(e.lineDistances))}e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){const e=[];for(let i=0,o=t.length;i<o;i++){const l=t[i];e.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new Dn(e,3)),this},updateFromObject:function(t){let e=t.geometry;if(t.isMesh){let i=e.__directGeometry;if(e.elementsNeedUpdate===!0&&(i=void 0,e.elementsNeedUpdate=!1),i===void 0)return this.fromGeometry(e);i.verticesNeedUpdate=e.verticesNeedUpdate,i.normalsNeedUpdate=e.normalsNeedUpdate,i.colorsNeedUpdate=e.colorsNeedUpdate,i.uvsNeedUpdate=e.uvsNeedUpdate,i.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=i}if(e.verticesNeedUpdate===!0){const i=this.attributes.position;i!==void 0&&(i.copyVector3sArray(e.vertices),i.needsUpdate=!0),e.verticesNeedUpdate=!1}if(e.normalsNeedUpdate===!0){const i=this.attributes.normal;i!==void 0&&(i.copyVector3sArray(e.normals),i.needsUpdate=!0),e.normalsNeedUpdate=!1}if(e.colorsNeedUpdate===!0){const i=this.attributes.color;i!==void 0&&(i.copyColorsArray(e.colors),i.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){const i=this.attributes.uv;i!==void 0&&(i.copyVector2sArray(e.uvs),i.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){const i=this.attributes.lineDistance;i!==void 0&&(i.copyArray(e.lineDistances),i.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=new n1().fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){const e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new Xn(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){const i=new Float32Array(3*t.normals.length);this.setAttribute("normal",new Xn(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){const i=new Float32Array(3*t.colors.length);this.setAttribute("color",new Xn(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){const i=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new Xn(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){const i=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new Xn(i,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(const i in t.morphTargets){const o=[],l=t.morphTargets[i];for(let d=0,g=l.length;d<g;d++){const v=l[d],w=new Dn(3*v.data.length,3);w.name=v.name,o.push(w.copyVector3sArray(v.data))}this.morphAttributes[i]=o}if(t.skinIndices.length>0){const i=new Dn(4*t.skinIndices.length,4);this.setAttribute("skinIndex",i.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){const i=new Dn(4*t.skinWeights.length,4);this.setAttribute("skinWeight",i.copyVector4sArray(t.skinWeights))}return t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Ka);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ye(-1/0,-1/0,-1/0),new ye(1/0,1/0,1/0));if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,o=e.length;i<o;i++){const l=e[i];gi.setFromBufferAttribute(l),this.morphTargetsRelative?(Rs.addVectors(this.boundingBox.min,gi.min),this.boundingBox.expandByPoint(Rs),Rs.addVectors(this.boundingBox.max,gi.max),this.boundingBox.expandByPoint(Rs)):(this.boundingBox.expandByPoint(gi.min),this.boundingBox.expandByPoint(gi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ma);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ye,1/0);if(t){const i=this.boundingSphere.center;if(gi.setFromBufferAttribute(t),e)for(let l=0,d=e.length;l<d;l++){const g=e[l];$i.setFromBufferAttribute(g),this.morphTargetsRelative?(Rs.addVectors(gi.min,$i.min),gi.expandByPoint(Rs),Rs.addVectors(gi.max,$i.max),gi.expandByPoint(Rs)):(gi.expandByPoint($i.min),gi.expandByPoint($i.max))}gi.getCenter(i);let o=0;for(let l=0,d=t.count;l<d;l++)Rs.fromBufferAttribute(t,l),o=Math.max(o,i.distanceToSquared(Rs));if(e)for(let l=0,d=e.length;l<d;l++){const g=e[l],v=this.morphTargetsRelative;for(let w=0,S=g.count;w<S;w++)Rs.fromBufferAttribute(g,w),v&&(Tl.fromBufferAttribute(t,w),Rs.add(Tl)),o=Math.max(o,i.distanceToSquared(Rs))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Xn(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(let L=0,I=i.count;L<I;L++)i.setXYZ(L,0,0,0);const o=new ye,l=new ye,d=new ye,g=new ye,v=new ye,w=new ye,S=new ye,R=new ye;if(t)for(let L=0,I=t.count;L<I;L+=3){const F=t.getX(L+0),H=t.getX(L+1),K=t.getX(L+2);o.fromBufferAttribute(e,F),l.fromBufferAttribute(e,H),d.fromBufferAttribute(e,K),S.subVectors(d,l),R.subVectors(o,l),S.cross(R),g.fromBufferAttribute(i,F),v.fromBufferAttribute(i,H),w.fromBufferAttribute(i,K),g.add(S),v.add(S),w.add(S),i.setXYZ(F,g.x,g.y,g.z),i.setXYZ(H,v.x,v.y,v.z),i.setXYZ(K,w.x,w.y,w.z)}else for(let L=0,I=e.count;L<I;L+=3)o.fromBufferAttribute(e,L+0),l.fromBufferAttribute(e,L+1),d.fromBufferAttribute(e,L+2),S.subVectors(d,l),R.subVectors(o,l),S.cross(R),i.setXYZ(L+0,S.x,S.y,S.z),i.setXYZ(L+1,S.x,S.y,S.z),i.setXYZ(L+2,S.x,S.y,S.z);this.normalizeNormals(),i.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);e===void 0&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const o in i){if(t.attributes[o]===void 0)continue;const l=i[o].array,d=t.attributes[o],g=d.array,v=d.itemSize*e,w=Math.min(g.length,l.length-v);for(let S=0,R=v;S<w;S++,R++)l[R]=g[S]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)Rs.fromBufferAttribute(t,e),Rs.normalize(),t.setXYZ(e,Rs.x,Rs.y,Rs.z)},toNonIndexed:function(){function t(g,v){const w=g.array,S=g.itemSize,R=g.normalized,L=new w.constructor(v.length*S);let I=0,F=0;for(let H=0,K=v.length;H<K;H++){I=v[H]*S;for(let $=0;$<S;$++)L[F++]=w[I++]}return new Xn(L,S,R)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const e=new $n,i=this.index.array,o=this.attributes;for(const g in o){const v=t(o[g],i);e.setAttribute(g,v)}const l=this.morphAttributes;for(const g in l){const v=[],w=l[g];for(let S=0,R=w.length;S<R;S++){const L=t(w[S],i);v.push(L)}e.morphAttributes[g]=v}e.morphTargetsRelative=this.morphTargetsRelative;const d=this.groups;for(let g=0,v=d.length;g<v;g++){const w=d[g];e.addGroup(w.start,w.count,w.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const v=this.parameters;for(const w in v)v[w]!==void 0&&(t[w]=v[w]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const v in i){const w=i[v],S=w.toJSON(t.data);w.name!==""&&(S.name=w.name),t.data.attributes[v]=S}const o={};let l=!1;for(const v in this.morphAttributes){const w=this.morphAttributes[v],S=[];for(let R=0,L=w.length;R<L;R++){const I=w[R],F=I.toJSON(t.data);I.name!==""&&(F.name=I.name),S.push(F)}S.length>0&&(o[v]=S,l=!0)}l&&(t.data.morphAttributes=o,t.data.morphTargetsRelative=this.morphTargetsRelative);const d=this.groups;d.length>0&&(t.data.groups=JSON.parse(JSON.stringify(d)));const g=this.boundingSphere;return g!==null&&(t.data.boundingSphere={center:g.center.toArray(),radius:g.radius}),t},clone:function(){return new $n().copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const o=t.attributes;for(const w in o){const S=o[w];this.setAttribute(w,S.clone(e))}const l=t.morphAttributes;for(const w in l){const S=[],R=l[w];for(let L=0,I=R.length;L<I;L++)S.push(R[L].clone(e));this.morphAttributes[w]=S}this.morphTargetsRelative=t.morphTargetsRelative;const d=t.groups;for(let w=0,S=d.length;w<S;w++){const R=d[w];this.addGroup(R.start,R.count,R.materialIndex)}const g=t.boundingBox;g!==null&&(this.boundingBox=g.clone());const v=t.boundingSphere;return v!==null&&(this.boundingSphere=v.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Ja=new Pr,Cl=new ps,ch=new ma,co=new ye,yu=new ye,xc=new ye,og=new ye,Yd=new ye,ag=new ye,Wl=new ye,Kh=new ye,Zd=new ye,Jh=new It,Kd=new It,Ll=new It,Vu=new ye,bc=new ye;function ss(t=new $n,e=new Ei){D.call(this),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}function fp(t,e,i,o,l,d,g,v){let w;if(w=e.side===X?o.intersectTriangle(g,d,l,!0,v):o.intersectTriangle(l,d,g,e.side!==Y,v),w===null)return null;bc.copy(v),bc.applyMatrix4(t.matrixWorld);const S=i.ray.origin.distanceTo(bc);return S<i.near||S>i.far?null:{distance:S,point:bc.clone(),object:t}}function Qa(t,e,i,o,l,d,g,v,w,S,R,L){co.fromBufferAttribute(l,S),yu.fromBufferAttribute(l,R),xc.fromBufferAttribute(l,L);const I=t.morphTargetInfluences;if(e.morphTargets&&d&&I){Wl.set(0,0,0),Kh.set(0,0,0),Zd.set(0,0,0);for(let H=0,K=d.length;H<K;H++){const $=I[H],ee=d[H];$!==0&&(og.fromBufferAttribute(ee,S),Yd.fromBufferAttribute(ee,R),ag.fromBufferAttribute(ee,L),g?(Wl.addScaledVector(og,$),Kh.addScaledVector(Yd,$),Zd.addScaledVector(ag,$)):(Wl.addScaledVector(og.sub(co),$),Kh.addScaledVector(Yd.sub(yu),$),Zd.addScaledVector(ag.sub(xc),$)))}co.add(Wl),yu.add(Kh),xc.add(Zd)}t.isSkinnedMesh&&(t.boneTransform(S,co),t.boneTransform(R,yu),t.boneTransform(L,xc));const F=fp(t,e,i,o,co,yu,xc,Vu);if(F){v&&(Jh.fromBufferAttribute(v,S),Kd.fromBufferAttribute(v,R),Ll.fromBufferAttribute(v,L),F.uv=Wt.getUV(Vu,co,yu,xc,Jh,Kd,Ll,new It)),w&&(Jh.fromBufferAttribute(w,S),Kd.fromBufferAttribute(w,R),Ll.fromBufferAttribute(w,L),F.uv2=Wt.getUV(Vu,co,yu,xc,Jh,Kd,Ll,new It));const H=new Dr(S,R,L);Wt.getNormal(co,yu,xc,H.normal),F.face=H}return F}ss.prototype=Object.assign(Object.create(D.prototype),{constructor:ss,isMesh:!0,copy:function(t){return D.prototype.copy.call(this,t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const o=e[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,d=o.length;l<d;l++){const g=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[g]=l}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){const i=this.geometry,o=this.material,l=this.matrixWorld;if(o===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),ch.copy(i.boundingSphere),ch.applyMatrix4(l),t.ray.intersectsSphere(ch)===!1)||(Ja.copy(l).invert(),Cl.copy(t.ray).applyMatrix4(Ja),i.boundingBox!==null&&Cl.intersectsBox(i.boundingBox)===!1))return;let d;if(i.isBufferGeometry){const g=i.index,v=i.attributes.position,w=i.morphAttributes.position,S=i.morphTargetsRelative,R=i.attributes.uv,L=i.attributes.uv2,I=i.groups,F=i.drawRange;if(g!==null)if(Array.isArray(o))for(let H=0,K=I.length;H<K;H++){const $=I[H],ee=o[$.materialIndex];for(let me=Math.max($.start,F.start),xe=Math.min($.start+$.count,F.start+F.count);me<xe;me+=3){const Ee=g.getX(me),Me=g.getX(me+1),Ne=g.getX(me+2);d=Qa(this,ee,t,Cl,v,w,S,R,L,Ee,Me,Ne),d&&(d.faceIndex=Math.floor(me/3),d.face.materialIndex=$.materialIndex,e.push(d))}}else for(let H=Math.max(0,F.start),K=Math.min(g.count,F.start+F.count);H<K;H+=3){const $=g.getX(H),ee=g.getX(H+1),me=g.getX(H+2);d=Qa(this,o,t,Cl,v,w,S,R,L,$,ee,me),d&&(d.faceIndex=Math.floor(H/3),e.push(d))}else if(v!==void 0)if(Array.isArray(o))for(let H=0,K=I.length;H<K;H++){const $=I[H],ee=o[$.materialIndex];for(let me=Math.max($.start,F.start),xe=Math.min($.start+$.count,F.start+F.count);me<xe;me+=3)d=Qa(this,ee,t,Cl,v,w,S,R,L,me,me+1,me+2),d&&(d.faceIndex=Math.floor(me/3),d.face.materialIndex=$.materialIndex,e.push(d))}else for(let H=Math.max(0,F.start),K=Math.min(v.count,F.start+F.count);H<K;H+=3)d=Qa(this,o,t,Cl,v,w,S,R,L,H,H+1,H+2),d&&(d.faceIndex=Math.floor(H/3),e.push(d))}else if(i.isGeometry){const g=Array.isArray(o),v=i.vertices,w=i.faces;let S;const R=i.faceVertexUvs[0];R.length>0&&(S=R);for(let L=0,I=w.length;L<I;L++){const F=w[L],H=g?o[F.materialIndex]:o;if(H===void 0)continue;const K=v[F.a],$=v[F.b],ee=v[F.c];if(d=fp(this,H,t,Cl,K,$,ee,Vu),d){if(S&&S[L]){const me=S[L];Jh.copy(me[0]),Kd.copy(me[1]),Ll.copy(me[2]),d.uv=Wt.getUV(Vu,K,$,ee,Jh,Kd,Ll,new It)}d.face=F,d.faceIndex=L,e.push(d)}}}}});class Ia extends $n{constructor(e=1,i=1,o=1,l=1,d=1,g=1){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:i,depth:o,widthSegments:l,heightSegments:d,depthSegments:g};const v=this;l=Math.floor(l),d=Math.floor(d),g=Math.floor(g);const w=[],S=[],R=[],L=[];let I=0,F=0;function H(K,$,ee,me,xe,Ee,Me,Ne,Te,ut,vt){const Gt=Ee/Te,Nt=Me/ut,wt=Ee/2,Vt=Me/2,mn=Ne/2,cn=Te+1,ur=ut+1;let kn=0,Cn=0;const vr=new ye;for(let yr=0;yr<ur;yr++){const hi=yr*Nt-Vt;for(let Ve=0;Ve<cn;Ve++){const ot=Ve*Gt-wt;vr[K]=ot*me,vr[$]=hi*xe,vr[ee]=mn,S.push(vr.x,vr.y,vr.z),vr[K]=0,vr[$]=0,vr[ee]=Ne>0?1:-1,R.push(vr.x,vr.y,vr.z),L.push(Ve/Te),L.push(1-yr/ut),kn+=1}}for(let yr=0;yr<ut;yr++)for(let hi=0;hi<Te;hi++){const Ve=I+hi+cn*yr,ot=I+hi+cn*(yr+1),vn=I+(hi+1)+cn*(yr+1),Ft=I+(hi+1)+cn*yr;w.push(Ve,ot,Ft),w.push(ot,vn,Ft),Cn+=6}v.addGroup(F,Cn,vt),F+=Cn,I+=kn}H("z","y","x",-1,-1,o,i,e,g,d,0),H("z","y","x",1,-1,o,i,-e,g,d,1),H("x","z","y",1,1,e,o,i,l,g,2),H("x","z","y",1,-1,e,o,-i,l,g,3),H("x","y","z",1,-1,e,i,o,l,d,4),H("x","y","z",-1,-1,e,i,-o,l,d,5),this.setIndex(w),this.setAttribute("position",new Dn(S,3)),this.setAttribute("normal",new Dn(R,3)),this.setAttribute("uv",new Dn(L,2))}}function ql(t){const e={};for(const i in t){e[i]={};for(const o in t[i]){const l=t[i][o];l&&(l.isColor||l.isMatrix3||l.isMatrix4||l.isVector2||l.isVector3||l.isVector4||l.isTexture)?e[i][o]=l.clone():Array.isArray(l)?e[i][o]=l.slice():e[i][o]=l}}return e}function Bs(t){const e={};for(let i=0;i<t.length;i++){const o=ql(t[i]);for(const l in o)e[l]=o[l]}return e}const Wu={clone:ql,merge:Bs};function ho(t){yn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&(t.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function xu(){D.call(this),this.type="Camera",this.matrixWorldInverse=new Pr,this.projectionMatrix=new Pr,this.projectionMatrixInverse=new Pr}function eo(t=50,e=1,i=.1,o=2e3){xu.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=o,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}ho.prototype=Object.create(yn.prototype),ho.prototype.constructor=ho,ho.prototype.isShaderMaterial=!0,ho.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ql(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},ho.prototype.toJSON=function(t){const e=yn.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const o in this.uniforms){const l=this.uniforms[o].value;l&&l.isTexture?e.uniforms[o]={type:"t",value:l.toJSON(t).uuid}:l&&l.isColor?e.uniforms[o]={type:"c",value:l.getHex()}:l&&l.isVector2?e.uniforms[o]={type:"v2",value:l.toArray()}:l&&l.isVector3?e.uniforms[o]={type:"v3",value:l.toArray()}:l&&l.isVector4?e.uniforms[o]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?e.uniforms[o]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?e.uniforms[o]={type:"m4",value:l.toArray()}:e.uniforms[o]={value:l}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const i={};for(const o in this.extensions)this.extensions[o]===!0&&(i[o]=!0);return Object.keys(i).length>0&&(e.extensions=i),e},xu.prototype=Object.assign(Object.create(D.prototype),{constructor:xu,isCamera:!0,copy:function(t,e){return D.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new ye),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){D.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){D.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return new this.constructor().copy(this)}}),eo.prototype=Object.assign(Object.create(xu.prototype),{constructor:eo,isPerspectiveCamera:!0,copy:function(t,e){return xu.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=2*Tn.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(.5*Tn.DEG2RAD*this.fov);return .5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Tn.RAD2DEG*Math.atan(Math.tan(.5*Tn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,o,l,d){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=o,this.view.width=l,this.view.height=d,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(.5*Tn.DEG2RAD*this.fov)/this.zoom,i=2*e,o=this.aspect*i,l=-.5*o;const d=this.view;if(this.view!==null&&this.view.enabled){const v=d.fullWidth,w=d.fullHeight;l+=d.offsetX*o/v,e-=d.offsetY*i/w,o*=d.width/v,i*=d.height/w}const g=this.filmOffset;g!==0&&(l+=t*g/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+o,e,e-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=D.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});function wc(t,e,i){if(D.call(this),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=i;const o=new eo(90,1,t,e);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new ye(1,0,0)),this.add(o);const l=new eo(90,1,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new ye(-1,0,0)),this.add(l);const d=new eo(90,1,t,e);d.layers=this.layers,d.up.set(0,0,1),d.lookAt(new ye(0,1,0)),this.add(d);const g=new eo(90,1,t,e);g.layers=this.layers,g.up.set(0,0,-1),g.lookAt(new ye(0,-1,0)),this.add(g);const v=new eo(90,1,t,e);v.layers=this.layers,v.up.set(0,-1,0),v.lookAt(new ye(0,0,1)),this.add(v);const w=new eo(90,1,t,e);w.layers=this.layers,w.up.set(0,-1,0),w.lookAt(new ye(0,0,-1)),this.add(w),this.update=function(S,R){this.parent===null&&this.updateMatrixWorld();const L=S.xr.enabled,I=S.getRenderTarget();S.xr.enabled=!1;const F=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,S.setRenderTarget(i,0),S.render(R,o),S.setRenderTarget(i,1),S.render(R,l),S.setRenderTarget(i,2),S.render(R,d),S.setRenderTarget(i,3),S.render(R,g),S.setRenderTarget(i,4),S.render(R,v),i.texture.generateMipmaps=F,S.setRenderTarget(i,5),S.render(R,w),S.setRenderTarget(I),S.xr.enabled=L}}function to(t,e,i,o,l,d,g,v,w,S){t=t!==void 0?t:[],e=e!==void 0?e:br,g=g!==void 0?g:ws,ii.call(this,t,e,i,o,l,d,g,v,w,S),this.flipY=!1,this._needsFlipEnvMap=!0}function fo(t,e,i){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=i),Uo.call(this,t,t,e),e=e||{},this.texture=new to(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}function Bi(t,e,i,o,l,d,g,v,w,S,R,L){ii.call(this,null,d,g,v,w,S,o,l,R,L),this.image={data:t||null,width:e||1,height:i||1},this.magFilter=w!==void 0?w:tr,this.minFilter=S!==void 0?S:tr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}wc.prototype=Object.create(D.prototype),wc.prototype.constructor=wc,to.prototype=Object.create(ii.prototype),to.prototype.constructor=to,to.prototype.isCubeTexture=!0,Object.defineProperty(to.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),fo.prototype=Object.create(Uo.prototype),fo.prototype.constructor=fo,fo.prototype.isWebGLCubeRenderTarget=!0,fo.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=mi,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,fragmentShader:`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`},o=new Ia(5,5,5),l=new ho({name:"CubemapFromEquirect",uniforms:ql(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:X,blending:oe});l.uniforms.tEquirect.value=e;const d=new ss(o,l),g=e.minFilter;return e.minFilter===Gs&&(e.minFilter=Sr),new wc(1,10,this).update(t,d),e.minFilter=g,d.geometry.dispose(),d.material.dispose(),this},fo.prototype.clear=function(t,e,i,o){const l=t.getRenderTarget();for(let d=0;d<6;d++)t.setRenderTarget(this,d),t.clear(e,i,o);t.setRenderTarget(l)},Bi.prototype=Object.create(ii.prototype),Bi.prototype.constructor=Bi,Bi.prototype.isDataTexture=!0;const Da=new ma,pp=new ye;class Jd{constructor(e,i,o,l,d,g){this.planes=[e!==void 0?e:new de,i!==void 0?i:new de,o!==void 0?o:new de,l!==void 0?l:new de,d!==void 0?d:new de,g!==void 0?g:new de]}set(e,i,o,l,d,g){const v=this.planes;return v[0].copy(e),v[1].copy(i),v[2].copy(o),v[3].copy(l),v[4].copy(d),v[5].copy(g),this}clone(){return new this.constructor().copy(this)}copy(e){const i=this.planes;for(let o=0;o<6;o++)i[o].copy(e.planes[o]);return this}setFromProjectionMatrix(e){const i=this.planes,o=e.elements,l=o[0],d=o[1],g=o[2],v=o[3],w=o[4],S=o[5],R=o[6],L=o[7],I=o[8],F=o[9],H=o[10],K=o[11],$=o[12],ee=o[13],me=o[14],xe=o[15];return i[0].setComponents(v-l,L-w,K-I,xe-$).normalize(),i[1].setComponents(v+l,L+w,K+I,xe+$).normalize(),i[2].setComponents(v+d,L+S,K+F,xe+ee).normalize(),i[3].setComponents(v-d,L-S,K-F,xe-ee).normalize(),i[4].setComponents(v-g,L-R,K-H,xe-me).normalize(),i[5].setComponents(v+g,L+R,K+H,xe+me).normalize(),this}intersectsObject(e){const i=e.geometry;return i.boundingSphere===null&&i.computeBoundingSphere(),Da.copy(i.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Da)}intersectsSprite(e){return Da.center.set(0,0,0),Da.radius=.7071067811865476,Da.applyMatrix4(e.matrixWorld),this.intersectsSphere(Da)}intersectsSphere(e){const i=this.planes,o=e.center,l=-e.radius;for(let d=0;d<6;d++)if(i[d].distanceToPoint(o)<l)return!1;return!0}intersectsBox(e){const i=this.planes;for(let o=0;o<6;o++){const l=i[o];if(pp.x=l.normal.x>0?e.max.x:e.min.x,pp.y=l.normal.y>0?e.max.y:e.min.y,pp.z=l.normal.z>0?e.max.z:e.min.z,l.distanceToPoint(pp)<0)return!1}return!0}containsPoint(e){const i=this.planes;for(let o=0;o<6;o++)if(i[o].distanceToPoint(e)<0)return!1;return!0}}function lg(){let t=null,e=!1,i=null,o=null;function l(d,g){i(d,g),o=t.requestAnimationFrame(l)}return{start:function(){e!==!0&&i!==null&&(o=t.requestAnimationFrame(l),e=!0)},stop:function(){t.cancelAnimationFrame(o),e=!1},setAnimationLoop:function(d){i=d},setContext:function(d){t=d}}}function ty(t,e){const i=e.isWebGL2,o=new WeakMap;return{get:function(l){return l.isInterleavedBufferAttribute&&(l=l.data),o.get(l)},remove:function(l){l.isInterleavedBufferAttribute&&(l=l.data);const d=o.get(l);d&&(t.deleteBuffer(d.buffer),o.delete(l))},update:function(l,d){if(l.isGLBufferAttribute){const v=o.get(l);return void((!v||v.version<l.version)&&o.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version}))}l.isInterleavedBufferAttribute&&(l=l.data);const g=o.get(l);g===void 0?o.set(l,function(v,w){const S=v.array,R=v.usage,L=t.createBuffer();t.bindBuffer(w,L),t.bufferData(w,S,R),v.onUploadCallback();let I=5126;return S instanceof Float32Array?I=5126:S instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):S instanceof Uint16Array?v.isFloat16BufferAttribute?i?I=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):I=5123:S instanceof Int16Array?I=5122:S instanceof Uint32Array?I=5125:S instanceof Int32Array?I=5124:S instanceof Int8Array?I=5120:S instanceof Uint8Array&&(I=5121),{buffer:L,type:I,bytesPerElement:S.BYTES_PER_ELEMENT,version:v.version}}(l,d)):g.version<l.version&&(function(v,w,S){const R=w.array,L=w.updateRange;t.bindBuffer(S,v),L.count===-1?t.bufferSubData(S,0,R):(i?t.bufferSubData(S,L.offset*R.BYTES_PER_ELEMENT,R,L.offset,L.count):t.bufferSubData(S,L.offset*R.BYTES_PER_ELEMENT,R.subarray(L.offset,L.offset+L.count)),L.count=-1)}(g.buffer,l,d),g.version=l.version)}}}class mp extends $n{constructor(e=1,i=1,o=1,l=1){super(),this.type="PlaneBufferGeometry",this.parameters={width:e,height:i,widthSegments:o,heightSegments:l};const d=e/2,g=i/2,v=Math.floor(o),w=Math.floor(l),S=v+1,R=w+1,L=e/v,I=i/w,F=[],H=[],K=[],$=[];for(let ee=0;ee<R;ee++){const me=ee*I-g;for(let xe=0;xe<S;xe++){const Ee=xe*L-d;H.push(Ee,-me,0),K.push(0,0,1),$.push(xe/v),$.push(1-ee/w)}}for(let ee=0;ee<w;ee++)for(let me=0;me<v;me++){const xe=me+S*ee,Ee=me+S*(ee+1),Me=me+1+S*(ee+1),Ne=me+1+S*ee;F.push(xe,Ee,Ne),F.push(Ee,Me,Ne)}this.setIndex(F),this.setAttribute("position",new Dn(H,3)),this.setAttribute("normal",new Dn(K,3)),this.setAttribute("uv",new Dn($,2))}}const ti={alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment:`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_pars_vertex:`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex:`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common:`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment:`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment:`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float fogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment:`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex:`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin:`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,lights_toon_fragment:`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,lights_physical_pars_fragment:`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin:`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps:`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,clearcoat_normal_fragment_begin:`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps:`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,clearcoat_pars_fragment:`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmissionmap_fragment:`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,transmissionmap_pars_fragment:`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,uv_pars_fragment:`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex:`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex:`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,normal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,normal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`},Nn={common:{diffuse:{value:new zt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Gi},uv2Transform:{value:new Gi},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new It(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new zt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new zt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Gi}},sprite:{diffuse:{value:new zt(15658734)},opacity:{value:1},center:{value:new It(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Gi}}},Na={basic:{uniforms:Bs([Nn.common,Nn.specularmap,Nn.envmap,Nn.aomap,Nn.lightmap,Nn.fog]),vertexShader:ti.meshbasic_vert,fragmentShader:ti.meshbasic_frag},lambert:{uniforms:Bs([Nn.common,Nn.specularmap,Nn.envmap,Nn.aomap,Nn.lightmap,Nn.emissivemap,Nn.fog,Nn.lights,{emissive:{value:new zt(0)}}]),vertexShader:ti.meshlambert_vert,fragmentShader:ti.meshlambert_frag},phong:{uniforms:Bs([Nn.common,Nn.specularmap,Nn.envmap,Nn.aomap,Nn.lightmap,Nn.emissivemap,Nn.bumpmap,Nn.normalmap,Nn.displacementmap,Nn.fog,Nn.lights,{emissive:{value:new zt(0)},specular:{value:new zt(1118481)},shininess:{value:30}}]),vertexShader:ti.meshphong_vert,fragmentShader:ti.meshphong_frag},standard:{uniforms:Bs([Nn.common,Nn.envmap,Nn.aomap,Nn.lightmap,Nn.emissivemap,Nn.bumpmap,Nn.normalmap,Nn.displacementmap,Nn.roughnessmap,Nn.metalnessmap,Nn.fog,Nn.lights,{emissive:{value:new zt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ti.meshphysical_vert,fragmentShader:ti.meshphysical_frag},toon:{uniforms:Bs([Nn.common,Nn.aomap,Nn.lightmap,Nn.emissivemap,Nn.bumpmap,Nn.normalmap,Nn.displacementmap,Nn.gradientmap,Nn.fog,Nn.lights,{emissive:{value:new zt(0)}}]),vertexShader:ti.meshtoon_vert,fragmentShader:ti.meshtoon_frag},matcap:{uniforms:Bs([Nn.common,Nn.bumpmap,Nn.normalmap,Nn.displacementmap,Nn.fog,{matcap:{value:null}}]),vertexShader:ti.meshmatcap_vert,fragmentShader:ti.meshmatcap_frag},points:{uniforms:Bs([Nn.points,Nn.fog]),vertexShader:ti.points_vert,fragmentShader:ti.points_frag},dashed:{uniforms:Bs([Nn.common,Nn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ti.linedashed_vert,fragmentShader:ti.linedashed_frag},depth:{uniforms:Bs([Nn.common,Nn.displacementmap]),vertexShader:ti.depth_vert,fragmentShader:ti.depth_frag},normal:{uniforms:Bs([Nn.common,Nn.bumpmap,Nn.normalmap,Nn.displacementmap,{opacity:{value:1}}]),vertexShader:ti.normal_vert,fragmentShader:ti.normal_frag},sprite:{uniforms:Bs([Nn.sprite,Nn.fog]),vertexShader:ti.sprite_vert,fragmentShader:ti.sprite_frag},background:{uniforms:{uvTransform:{value:new Gi},t2D:{value:null}},vertexShader:ti.background_vert,fragmentShader:ti.background_frag},cube:{uniforms:Bs([Nn.envmap,{opacity:{value:1}}]),vertexShader:ti.cube_vert,fragmentShader:ti.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ti.equirect_vert,fragmentShader:ti.equirect_frag},distanceRGBA:{uniforms:Bs([Nn.common,Nn.displacementmap,{referencePosition:{value:new ye},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ti.distanceRGBA_vert,fragmentShader:ti.distanceRGBA_frag},shadow:{uniforms:Bs([Nn.lights,Nn.fog,{color:{value:new zt(0)},opacity:{value:1}}]),vertexShader:ti.shadow_vert,fragmentShader:ti.shadow_frag}};function ny(t,e,i,o,l){const d=new zt(0);let g,v,w=0,S=null,R=0,L=null;function I(F,H){i.buffers.color.setClear(F.r,F.g,F.b,H,l)}return{getClearColor:function(){return d},setClearColor:function(F,H=1){d.set(F),w=H,I(d,w)},getClearAlpha:function(){return w},setClearAlpha:function(F){w=F,I(d,w)},render:function(F,H,K,$){let ee=H.isScene===!0?H.background:null;ee&&ee.isTexture&&(ee=e.get(ee));const me=t.xr,xe=me.getSession&&me.getSession();xe&&xe.environmentBlendMode==="additive"&&(ee=null),ee===null?I(d,w):ee&&ee.isColor&&(I(ee,1),$=!0),(t.autoClear||$)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),ee&&(ee.isCubeTexture||ee.isWebGLCubeRenderTarget||ee.mapping===zr)?(v===void 0&&(v=new ss(new Ia(1,1,1),new ho({name:"BackgroundCubeMaterial",uniforms:ql(Na.cube.uniforms),vertexShader:Na.cube.vertexShader,fragmentShader:Na.cube.fragmentShader,side:X,depthTest:!1,depthWrite:!1,fog:!1})),v.geometry.deleteAttribute("normal"),v.geometry.deleteAttribute("uv"),v.onBeforeRender=function(Ee,Me,Ne){this.matrixWorld.copyPosition(Ne.matrixWorld)},Object.defineProperty(v.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(v)),ee.isWebGLCubeRenderTarget&&(ee=ee.texture),v.material.uniforms.envMap.value=ee,v.material.uniforms.flipEnvMap.value=ee.isCubeTexture&&ee._needsFlipEnvMap?-1:1,S===ee&&R===ee.version&&L===t.toneMapping||(v.material.needsUpdate=!0,S=ee,R=ee.version,L=t.toneMapping),F.unshift(v,v.geometry,v.material,0,0,null)):ee&&ee.isTexture&&(g===void 0&&(g=new ss(new mp(2,2),new ho({name:"BackgroundMaterial",uniforms:ql(Na.background.uniforms),vertexShader:Na.background.vertexShader,fragmentShader:Na.background.fragmentShader,side:q,depthTest:!1,depthWrite:!1,fog:!1})),g.geometry.deleteAttribute("normal"),Object.defineProperty(g.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(g)),g.material.uniforms.t2D.value=ee,ee.matrixAutoUpdate===!0&&ee.updateMatrix(),g.material.uniforms.uvTransform.value.copy(ee.matrix),S===ee&&R===ee.version&&L===t.toneMapping||(g.material.needsUpdate=!0,S=ee,R=ee.version,L=t.toneMapping),F.unshift(g,g.geometry,g.material,0,0,null))}}}function r1(t,e,i,o){const l=t.getParameter(34921),d=o.isWebGL2?null:e.get("OES_vertex_array_object"),g=o.isWebGL2||d!==null,v={},w=I(null);let S=w;function R(Ee){return o.isWebGL2?t.bindVertexArray(Ee):d.bindVertexArrayOES(Ee)}function L(Ee){return o.isWebGL2?t.deleteVertexArray(Ee):d.deleteVertexArrayOES(Ee)}function I(Ee){const Me=[],Ne=[],Te=[];for(let ut=0;ut<l;ut++)Me[ut]=0,Ne[ut]=0,Te[ut]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Me,enabledAttributes:Ne,attributeDivisors:Te,object:Ee,attributes:{},index:null}}function F(){const Ee=S.newAttributes;for(let Me=0,Ne=Ee.length;Me<Ne;Me++)Ee[Me]=0}function H(Ee){K(Ee,0)}function K(Ee,Me){const Ne=S.newAttributes,Te=S.enabledAttributes,ut=S.attributeDivisors;Ne[Ee]=1,Te[Ee]===0&&(t.enableVertexAttribArray(Ee),Te[Ee]=1),ut[Ee]!==Me&&((o.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[o.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Ee,Me),ut[Ee]=Me)}function $(){const Ee=S.newAttributes,Me=S.enabledAttributes;for(let Ne=0,Te=Me.length;Ne<Te;Ne++)Me[Ne]!==Ee[Ne]&&(t.disableVertexAttribArray(Ne),Me[Ne]=0)}function ee(Ee,Me,Ne,Te,ut,vt){o.isWebGL2!==!0||Ne!==5124&&Ne!==5125?t.vertexAttribPointer(Ee,Me,Ne,Te,ut,vt):t.vertexAttribIPointer(Ee,Me,Ne,ut,vt)}function me(){xe(),S!==w&&(S=w,R(S.object))}function xe(){w.geometry=null,w.program=null,w.wireframe=!1}return{setup:function(Ee,Me,Ne,Te,ut){let vt=!1;if(g){const Gt=function(Nt,wt,Vt){const mn=Vt.wireframe===!0;let cn=v[Nt.id];cn===void 0&&(cn={},v[Nt.id]=cn);let ur=cn[wt.id];ur===void 0&&(ur={},cn[wt.id]=ur);let kn=ur[mn];return kn===void 0&&(kn=I(o.isWebGL2?t.createVertexArray():d.createVertexArrayOES()),ur[mn]=kn),kn}(Te,Ne,Me);S!==Gt&&(S=Gt,R(S.object)),vt=function(Nt,wt){const Vt=S.attributes,mn=Nt.attributes;let cn=0;for(const ur in mn){const kn=Vt[ur],Cn=mn[ur];if(kn===void 0||kn.attribute!==Cn||kn.data!==Cn.data)return!0;cn++}return S.attributesNum!==cn||S.index!==wt}(Te,ut),vt&&function(Nt,wt){const Vt={},mn=Nt.attributes;let cn=0;for(const ur in mn){const kn=mn[ur],Cn={};Cn.attribute=kn,kn.data&&(Cn.data=kn.data),Vt[ur]=Cn,cn++}S.attributes=Vt,S.attributesNum=cn,S.index=wt}(Te,ut)}else{const Gt=Me.wireframe===!0;S.geometry===Te.id&&S.program===Ne.id&&S.wireframe===Gt||(S.geometry=Te.id,S.program=Ne.id,S.wireframe=Gt,vt=!0)}Ee.isInstancedMesh===!0&&(vt=!0),ut!==null&&i.update(ut,34963),vt&&(function(Gt,Nt,wt,Vt){if(o.isWebGL2===!1&&(Gt.isInstancedMesh||Vt.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;F();const mn=Vt.attributes,cn=wt.getAttributes(),ur=Nt.defaultAttributeValues;for(const kn in cn){const Cn=cn[kn];if(Cn>=0){const vr=mn[kn];if(vr!==void 0){const yr=vr.normalized,hi=vr.itemSize,Ve=i.get(vr);if(Ve===void 0)continue;const ot=Ve.buffer,vn=Ve.type,Ft=Ve.bytesPerElement;if(vr.isInterleavedBufferAttribute){const De=vr.data,$t=De.stride,gn=vr.offset;De&&De.isInstancedInterleavedBuffer?(K(Cn,De.meshPerAttribute),Vt._maxInstanceCount===void 0&&(Vt._maxInstanceCount=De.meshPerAttribute*De.count)):H(Cn),t.bindBuffer(34962,ot),ee(Cn,hi,vn,yr,$t*Ft,gn*Ft)}else vr.isInstancedBufferAttribute?(K(Cn,vr.meshPerAttribute),Vt._maxInstanceCount===void 0&&(Vt._maxInstanceCount=vr.meshPerAttribute*vr.count)):H(Cn),t.bindBuffer(34962,ot),ee(Cn,hi,vn,yr,0,0)}else if(kn==="instanceMatrix"){const yr=i.get(Gt.instanceMatrix);if(yr===void 0)continue;const hi=yr.buffer,Ve=yr.type;K(Cn+0,1),K(Cn+1,1),K(Cn+2,1),K(Cn+3,1),t.bindBuffer(34962,hi),t.vertexAttribPointer(Cn+0,4,Ve,!1,64,0),t.vertexAttribPointer(Cn+1,4,Ve,!1,64,16),t.vertexAttribPointer(Cn+2,4,Ve,!1,64,32),t.vertexAttribPointer(Cn+3,4,Ve,!1,64,48)}else if(kn==="instanceColor"){const yr=i.get(Gt.instanceColor);if(yr===void 0)continue;const hi=yr.buffer,Ve=yr.type;K(Cn,1),t.bindBuffer(34962,hi),t.vertexAttribPointer(Cn,3,Ve,!1,12,0)}else if(ur!==void 0){const yr=ur[kn];if(yr!==void 0)switch(yr.length){case 2:t.vertexAttrib2fv(Cn,yr);break;case 3:t.vertexAttrib3fv(Cn,yr);break;case 4:t.vertexAttrib4fv(Cn,yr);break;default:t.vertexAttrib1fv(Cn,yr)}}}}$()}(Ee,Me,Ne,Te),ut!==null&&t.bindBuffer(34963,i.get(ut).buffer))},reset:me,resetDefaultState:xe,dispose:function(){me();for(const Ee in v){const Me=v[Ee];for(const Ne in Me){const Te=Me[Ne];for(const ut in Te)L(Te[ut].object),delete Te[ut];delete Me[Ne]}delete v[Ee]}},releaseStatesOfGeometry:function(Ee){if(v[Ee.id]===void 0)return;const Me=v[Ee.id];for(const Ne in Me){const Te=Me[Ne];for(const ut in Te)L(Te[ut].object),delete Te[ut];delete Me[Ne]}delete v[Ee.id]},releaseStatesOfProgram:function(Ee){for(const Me in v){const Ne=v[Me];if(Ne[Ee.id]===void 0)continue;const Te=Ne[Ee.id];for(const ut in Te)L(Te[ut].object),delete Te[ut];delete Ne[Ee.id]}},initAttributes:F,enableAttribute:H,disableUnusedAttributes:$}}function gp(t,e,i,o){const l=o.isWebGL2;let d;this.setMode=function(g){d=g},this.render=function(g,v){t.drawArrays(d,g,v),i.update(v,d,1)},this.renderInstances=function(g,v,w){if(w===0)return;let S,R;if(l)S=t,R="drawArraysInstanced";else if(S=e.get("ANGLE_instanced_arrays"),R="drawArraysInstancedANGLE",S===null)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");S[R](d,g,v,w),i.update(v,d,w)}}function ug(t,e,i){let o;function l(xe){if(xe==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";xe="mediump"}return xe==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const d=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let g=i.precision!==void 0?i.precision:"highp";const v=l(g);v!==g&&(console.warn("THREE.WebGLRenderer:",g,"not supported, using",v,"instead."),g=v);const w=i.logarithmicDepthBuffer===!0,S=t.getParameter(34930),R=t.getParameter(35660),L=t.getParameter(3379),I=t.getParameter(34076),F=t.getParameter(34921),H=t.getParameter(36347),K=t.getParameter(36348),$=t.getParameter(36349),ee=R>0,me=d||!!e.get("OES_texture_float");return{isWebGL2:d,getMaxAnisotropy:function(){if(o!==void 0)return o;const xe=e.get("EXT_texture_filter_anisotropic");return o=xe!==null?t.getParameter(xe.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,o},getMaxPrecision:l,precision:g,logarithmicDepthBuffer:w,maxTextures:S,maxVertexTextures:R,maxTextureSize:L,maxCubemapSize:I,maxAttributes:F,maxVertexUniforms:H,maxVaryings:K,maxFragmentUniforms:$,vertexTextures:ee,floatFragmentTextures:me,floatVertexTextures:ee&&me,maxSamples:d?t.getParameter(36183):0}}function Ux(t){const e=this;let i=null,o=0,l=!1,d=!1;const g=new de,v=new Gi,w={value:null,needsUpdate:!1};function S(){w.value!==i&&(w.value=i,w.needsUpdate=o>0),e.numPlanes=o,e.numIntersection=0}function R(L,I,F,H){const K=L!==null?L.length:0;let $=null;if(K!==0){if($=w.value,H!==!0||$===null){const ee=F+4*K,me=I.matrixWorldInverse;v.getNormalMatrix(me),($===null||$.length<ee)&&($=new Float32Array(ee));for(let xe=0,Ee=F;xe!==K;++xe,Ee+=4)g.copy(L[xe]).applyMatrix4(me,v),g.normal.toArray($,Ee),$[Ee+3]=g.constant}w.value=$,w.needsUpdate=!0}return e.numPlanes=K,e.numIntersection=0,$}this.uniform=w,this.numPlanes=0,this.numIntersection=0,this.init=function(L,I,F){const H=L.length!==0||I||o!==0||l;return l=I,i=R(L,F,0),o=L.length,H},this.beginShadows=function(){d=!0,R(null)},this.endShadows=function(){d=!1,S()},this.setState=function(L,I,F){const H=L.clippingPlanes,K=L.clipIntersection,$=L.clipShadows,ee=t.get(L);if(!l||H===null||H.length===0||d&&!$)d?R(null):S();else{const me=d?0:o,xe=4*me;let Ee=ee.clippingState||null;w.value=Ee,Ee=R(H,I,xe,F);for(let Me=0;Me!==xe;++Me)Ee[Me]=i[Me];ee.clippingState=Ee,this.numIntersection=K?this.numPlanes:0,this.numPlanes+=me}}}function Gx(t){let e=new WeakMap;function i(l,d){return d===Vn?l.mapping=br:d===Nr&&(l.mapping=wr),l}function o(l){const d=l.target;d.removeEventListener("dispose",o);const g=e.get(d);g!==void 0&&(e.delete(d),g.dispose())}return{get:function(l){if(l&&l.isTexture){const d=l.mapping;if(d===Vn||d===Nr){if(e.has(l))return i(e.get(l).texture,l.mapping);{const g=l.image;if(g&&g.height>0){const v=t.getRenderList(),w=t.getRenderTarget(),S=new fo(g.height/2);return S.fromEquirectangularTexture(t,l),e.set(l,S),t.setRenderTarget(w),t.setRenderList(v),l.addEventListener("dispose",o),i(S.texture,l.mapping)}return null}}}return l},dispose:function(){e=new WeakMap}}}function Qd(t){const e={};return{has:function(i){if(e[i]!==void 0)return e[i]!==null;let o;switch(i){case"WEBGL_depth_texture":o=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=t.getExtension(i)}return e[i]=o,o!==null},get:function(i){return this.has(i)||console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),e[i]}}}function Vx(t,e,i,o){const l=new WeakMap,d=new WeakMap;function g(w){const S=w.target,R=l.get(S);R.index!==null&&e.remove(R.index);for(const I in R.attributes)e.remove(R.attributes[I]);S.removeEventListener("dispose",g),l.delete(S);const L=d.get(R);L&&(e.remove(L),d.delete(R)),o.releaseStatesOfGeometry(R),S.isInstancedBufferGeometry===!0&&delete S._maxInstanceCount,i.memory.geometries--}function v(w){const S=[],R=w.index,L=w.attributes.position;let I=0;if(R!==null){const K=R.array;I=R.version;for(let $=0,ee=K.length;$<ee;$+=3){const me=K[$+0],xe=K[$+1],Ee=K[$+2];S.push(me,xe,xe,Ee,Ee,me)}}else{const K=L.array;I=L.version;for(let $=0,ee=K.length/3-1;$<ee;$+=3){const me=$+0,xe=$+1,Ee=$+2;S.push(me,xe,xe,Ee,Ee,me)}}const F=new(lh(S)>65535?vu:hl)(S,1);F.version=I;const H=d.get(w);H&&e.remove(H),d.set(w,F)}return{get:function(w,S){let R=l.get(S);return R||(S.addEventListener("dispose",g),S.isBufferGeometry?R=S:S.isGeometry&&(S._bufferGeometry===void 0&&(S._bufferGeometry=new $n().setFromObject(w)),R=S._bufferGeometry),l.set(S,R),i.memory.geometries++,R)},update:function(w){const S=w.attributes;for(const L in S)e.update(S[L],34962);const R=w.morphAttributes;for(const L in R){const I=R[L];for(let F=0,H=I.length;F<H;F++)e.update(I[F],34962)}},getWireframeAttribute:function(w){const S=d.get(w);if(S){const R=w.index;R!==null&&S.version<R.version&&v(w)}else v(w);return d.get(w)}}}function cg(t,e,i,o){const l=o.isWebGL2;let d,g,v;this.setMode=function(w){d=w},this.setIndex=function(w){g=w.type,v=w.bytesPerElement},this.render=function(w,S){t.drawElements(d,S,g,w*v),i.update(S,d,1)},this.renderInstances=function(w,S,R){if(R===0)return;let L,I;if(l)L=t,I="drawElementsInstanced";else if(L=e.get("ANGLE_instanced_arrays"),I="drawElementsInstancedANGLE",L===null)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");L[I](d,S,g,w*v,R),i.update(S,d,R)}}function hg(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(i,o,l){switch(e.calls++,o){case 4:e.triangles+=l*(i/3);break;case 1:e.lines+=l*(i/2);break;case 3:e.lines+=l*(i-1);break;case 2:e.lines+=l*i;break;case 0:e.points+=l*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function ef(t,e){return t[0]-e[0]}function ry(t,e){return Math.abs(e[1])-Math.abs(t[1])}function iy(t){const e={},i=new Float32Array(8),o=[];for(let l=0;l<8;l++)o[l]=[l,0];return{update:function(l,d,g,v){const w=l.morphTargetInfluences,S=w===void 0?0:w.length;let R=e[d.id];if(R===void 0){R=[];for(let K=0;K<S;K++)R[K]=[K,0];e[d.id]=R}for(let K=0;K<S;K++){const $=R[K];$[0]=K,$[1]=w[K]}R.sort(ry);for(let K=0;K<8;K++)K<S&&R[K][1]?(o[K][0]=R[K][0],o[K][1]=R[K][1]):(o[K][0]=Number.MAX_SAFE_INTEGER,o[K][1]=0);o.sort(ef);const L=g.morphTargets&&d.morphAttributes.position,I=g.morphNormals&&d.morphAttributes.normal;let F=0;for(let K=0;K<8;K++){const $=o[K],ee=$[0],me=$[1];ee!==Number.MAX_SAFE_INTEGER&&me?(L&&d.getAttribute("morphTarget"+K)!==L[ee]&&d.setAttribute("morphTarget"+K,L[ee]),I&&d.getAttribute("morphNormal"+K)!==I[ee]&&d.setAttribute("morphNormal"+K,I[ee]),i[K]=me,F+=me):(L&&d.hasAttribute("morphTarget"+K)===!0&&d.deleteAttribute("morphTarget"+K),I&&d.hasAttribute("morphNormal"+K)===!0&&d.deleteAttribute("morphNormal"+K),i[K]=0)}const H=d.morphTargetsRelative?1:1-F;v.getUniforms().setValue(t,"morphTargetBaseInfluence",H),v.getUniforms().setValue(t,"morphTargetInfluences",i)}}}function sy(t,e,i,o){let l=new WeakMap;function d(g){const v=g.target;v.removeEventListener("dispose",d),i.remove(v.instanceMatrix),v.instanceColor!==null&&i.remove(v.instanceColor)}return{update:function(g){const v=o.render.frame,w=g.geometry,S=e.get(g,w);return l.get(S)!==v&&(w.isGeometry&&S.updateFromObject(g),e.update(S),l.set(S,v)),g.isInstancedMesh&&(g.hasEventListener("dispose",d)===!1&&g.addEventListener("dispose",d),i.update(g.instanceMatrix,34962),g.instanceColor!==null&&i.update(g.instanceColor,34962)),S},dispose:function(){l=new WeakMap}}}function hh(t=null,e=1,i=1,o=1){ii.call(this,null),this.image={data:t,width:e,height:i,depth:o},this.magFilter=tr,this.minFilter=tr,this.wrapR=Ir,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function bu(t=null,e=1,i=1,o=1){ii.call(this,null),this.image={data:t,width:e,height:i,depth:o},this.magFilter=tr,this.minFilter=tr,this.wrapR=Ir,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Na.physical={uniforms:Bs([Na.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new It(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new zt(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:ti.meshphysical_vert,fragmentShader:ti.meshphysical_frag},hh.prototype=Object.create(ii.prototype),hh.prototype.constructor=hh,hh.prototype.isDataTexture2DArray=!0,bu.prototype=Object.create(ii.prototype),bu.prototype.constructor=bu,bu.prototype.isDataTexture3D=!0;const Pl=new ii,Qh=new hh,oy=new bu,ay=new to,qu=[],_c=[],dg=new Float32Array(16),ly=new Float32Array(9),Xu=new Float32Array(4);function Rl(t,e,i){const o=t[0];if(o<=0||o>0)return t;const l=e*i;let d=qu[l];if(d===void 0&&(d=new Float32Array(l),qu[l]=d),e!==0){o.toArray(d,0);for(let g=1,v=0;g!==e;++g)v+=i,t[g].toArray(d,v)}return d}function el(t,e){if(t.length!==e.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==e[i])return!1;return!0}function dl(t,e){for(let i=0,o=e.length;i<o;i++)t[i]=e[i]}function vp(t,e){let i=_c[e];i===void 0&&(i=new Int32Array(e),_c[e]=i);for(let o=0;o!==e;++o)i[o]=t.allocateTextureUnit();return i}function Wx(t,e){const i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function yp(t,e){const i=this.cache;if(e.x!==void 0)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(el(i,e))return;t.uniform2fv(this.addr,e),dl(i,e)}}function $u(t,e){const i=this.cache;if(e.x!==void 0)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(e.r!==void 0)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(el(i,e))return;t.uniform3fv(this.addr,e),dl(i,e)}}function xp(t,e){const i=this.cache;if(e.x!==void 0)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(el(i,e))return;t.uniform4fv(this.addr,e),dl(i,e)}}function bp(t,e){const i=this.cache,o=e.elements;if(o===void 0){if(el(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),dl(i,e)}else{if(el(i,o))return;Xu.set(o),t.uniformMatrix2fv(this.addr,!1,Xu),dl(i,o)}}function ed(t,e){const i=this.cache,o=e.elements;if(o===void 0){if(el(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),dl(i,e)}else{if(el(i,o))return;ly.set(o),t.uniformMatrix3fv(this.addr,!1,ly),dl(i,o)}}function uy(t,e){const i=this.cache,o=e.elements;if(o===void 0){if(el(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),dl(i,e)}else{if(el(i,o))return;dg.set(o),t.uniformMatrix4fv(this.addr,!1,dg),dl(i,o)}}function tf(t,e,i){const o=this.cache,l=i.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),i.safeSetTexture2D(e||Pl,l)}function qx(t,e,i){const o=this.cache,l=i.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),i.setTexture2DArray(e||Qh,l)}function cy(t,e,i){const o=this.cache,l=i.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),i.setTexture3D(e||oy,l)}function Xs(t,e,i){const o=this.cache,l=i.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),i.safeSetTextureCube(e||ay,l)}function fg(t,e){const i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function hy(t,e){const i=this.cache;el(i,e)||(t.uniform2iv(this.addr,e),dl(i,e))}function dy(t,e){const i=this.cache;el(i,e)||(t.uniform3iv(this.addr,e),dl(i,e))}function pg(t,e){const i=this.cache;el(i,e)||(t.uniform4iv(this.addr,e),dl(i,e))}function fy(t,e){const i=this.cache;i[0]!==e&&(t.uniform1ui(this.addr,e),i[0]=e)}function td(t,e){t.uniform1fv(this.addr,e)}function $s(t,e){t.uniform1iv(this.addr,e)}function Vo(t,e){t.uniform2iv(this.addr,e)}function ta(t,e){t.uniform3iv(this.addr,e)}function mg(t,e){t.uniform4iv(this.addr,e)}function wp(t,e){const i=Rl(e,this.size,2);t.uniform2fv(this.addr,i)}function _p(t,e){const i=Rl(e,this.size,3);t.uniform3fv(this.addr,i)}function i1(t,e){const i=Rl(e,this.size,4);t.uniform4fv(this.addr,i)}function Fa(t,e){const i=Rl(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function py(t,e){const i=Rl(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function my(t,e){const i=Rl(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function gy(t,e,i){const o=e.length,l=vp(i,o);t.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)i.safeSetTexture2D(e[d]||Pl,l[d])}function Yu(t,e,i){const o=e.length,l=vp(i,o);t.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)i.safeSetTextureCube(e[d]||ay,l[d])}function Xl(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(o){switch(o){case 5126:return Wx;case 35664:return yp;case 35665:return $u;case 35666:return xp;case 35674:return bp;case 35675:return ed;case 35676:return uy;case 5124:case 35670:return fg;case 35667:case 35671:return hy;case 35668:case 35672:return dy;case 35669:case 35673:return pg;case 5125:return fy;case 35678:case 36198:case 36298:case 36306:case 35682:return tf;case 35679:case 36299:case 36307:return cy;case 35680:case 36300:case 36308:case 36293:return Xs;case 36289:case 36303:case 36311:case 36292:return qx}}(e.type)}function nf(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(o){switch(o){case 5126:return td;case 35664:return wp;case 35665:return _p;case 35666:return i1;case 35674:return Fa;case 35675:return py;case 35676:return my;case 5124:case 35670:return $s;case 35667:case 35671:return Vo;case 35668:case 35672:return ta;case 35669:case 35673:return mg;case 35678:case 36198:case 36298:case 36306:case 35682:return gy;case 35680:case 36300:case 36308:case 36293:return Yu}}(e.type)}function gg(t){this.id=t,this.seq=[],this.map={}}nf.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),dl(e,t)},gg.prototype.setValue=function(t,e,i){const o=this.seq;for(let l=0,d=o.length;l!==d;++l){const g=o[l];g.setValue(t,e[g.id],i)}};const Sp=/(\w+)(\])?(\[|\.)?/g;function vy(t,e){t.seq.push(e),t.map[e.id]=e}function Xx(t,e,i){const o=t.name,l=o.length;for(Sp.lastIndex=0;;){const d=Sp.exec(o),g=Sp.lastIndex;let v=d[1];const w=d[2]==="]",S=d[3];if(w&&(v|=0),S===void 0||S==="["&&g+2===l){vy(i,S===void 0?new Xl(v,t,e):new nf(v,t,e));break}{let R=i.map[v];R===void 0&&(R=new gg(v),vy(i,R)),i=R}}}function Sc(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,35718);for(let o=0;o<i;++o){const l=t.getActiveUniform(e,o);Xx(l,t.getUniformLocation(e,l.name),this)}}function yy(t,e,i){const o=t.createShader(e);return t.shaderSource(o,i),t.compileShader(o),o}Sc.prototype.setValue=function(t,e,i,o){const l=this.map[e];l!==void 0&&l.setValue(t,i,o)},Sc.prototype.setOptional=function(t,e,i){const o=e[i];o!==void 0&&this.setValue(t,i,o)},Sc.upload=function(t,e,i,o){for(let l=0,d=e.length;l!==d;++l){const g=e[l],v=i[g.id];v.needsUpdate!==!1&&g.setValue(t,v.value,o)}},Sc.seqWithValue=function(t,e){const i=[];for(let o=0,l=t.length;o!==l;++o){const d=t[o];d.id in e&&i.push(d)}return i};let $x=0;function xy(t){switch(t){case ct:return["Linear","( value )"];case kt:return["sRGB","( value )"];case ir:return["RGBE","( value )"];case C:return["RGBM","( value, 7.0 )"];case B:return["RGBM","( value, 16.0 )"];case U:return["RGBD","( value, 256.0 )"];case wn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case x:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function by(t,e,i){const o=t.getShaderParameter(e,35713),l=t.getShaderInfoLog(e).trim();return o&&l===""?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+i+`
`+l+function(d){const g=d.split(`
`);for(let v=0;v<g.length;v++)g[v]=v+1+": "+g[v];return g.join(`
`)}(t.getShaderSource(e))}function rf(t,e){const i=xy(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Ep(t,e){const i=xy(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function Yx(t,e){let i;switch(e){case $e:i="Linear";break;case Gn:i="Reinhard";break;case sr:i="OptimizedCineon";break;case or:i="ACESFilmic";break;case zn:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),i="Linear"}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function dh(t){return t!==""}function Mp(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function wy(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const _y=/^[ \t]*#include +<([\w\d./]+)>/gm;function vg(t){return t.replace(_y,Zx)}function Zx(t,e){const i=ti[e];if(i===void 0)throw new Error("Can not resolve #include <"+e+">");return vg(i)}const Kx=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Jx=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yg(t){return t.replace(Jx,Sy).replace(Kx,Qx)}function Qx(t,e,i,o){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Sy(t,e,i,o)}function Sy(t,e,i,o){let l="";for(let d=parseInt(e);d<parseInt(i);d++)l+=o.replace(/\[\s*i\s*\]/g,"[ "+d+" ]").replace(/UNROLLED_LOOP_INDEX/g,d);return l}function Ey(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function s1(t,e,i,o){const l=t.getContext(),d=i.defines;let g=i.vertexShader,v=i.fragmentShader;const w=function(ut){let vt="SHADOWMAP_TYPE_BASIC";return ut.shadowMapType===T?vt="SHADOWMAP_TYPE_PCF":ut.shadowMapType===k?vt="SHADOWMAP_TYPE_PCF_SOFT":ut.shadowMapType===G&&(vt="SHADOWMAP_TYPE_VSM"),vt}(i),S=function(ut){let vt="ENVMAP_TYPE_CUBE";if(ut.envMap)switch(ut.envMapMode){case br:case wr:vt="ENVMAP_TYPE_CUBE";break;case zr:case Cr:vt="ENVMAP_TYPE_CUBE_UV"}return vt}(i),R=function(ut){let vt="ENVMAP_MODE_REFLECTION";if(ut.envMap)switch(ut.envMapMode){case wr:case Cr:vt="ENVMAP_MODE_REFRACTION"}return vt}(i),L=function(ut){let vt="ENVMAP_BLENDING_NONE";if(ut.envMap)switch(ut.combine){case qt:vt="ENVMAP_BLENDING_MULTIPLY";break;case tn:vt="ENVMAP_BLENDING_MIX";break;case on:vt="ENVMAP_BLENDING_ADD"}return vt}(i),I=t.gammaFactor>0?t.gammaFactor:1,F=i.isWebGL2?"":function(ut){return[ut.extensionDerivatives||ut.envMapCubeUV||ut.bumpMap||ut.tangentSpaceNormalMap||ut.clearcoatNormalMap||ut.flatShading||ut.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(ut.extensionFragDepth||ut.logarithmicDepthBuffer)&&ut.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",ut.extensionDrawBuffers&&ut.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(ut.extensionShaderTextureLOD||ut.envMap)&&ut.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(dh).join(`
`)}(i),H=function(ut){const vt=[];for(const Gt in ut){const Nt=ut[Gt];Nt!==!1&&vt.push("#define "+Gt+" "+Nt)}return vt.join(`
`)}(d),K=l.createProgram();let $,ee,me=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?($=[H].filter(dh).join(`
`),$.length>0&&($+=`
`),ee=[F,H].filter(dh).join(`
`),ee.length>0&&(ee+=`
`)):($=[Ey(i),"#define SHADER_NAME "+i.shaderName,H,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+I,"#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+R:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+w:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(dh).join(`
`),ee=[F,Ey(i),"#define SHADER_NAME "+i.shaderName,H,i.alphaTest?"#define ALPHATEST "+i.alphaTest+(i.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+I,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+S:"",i.envMap?"#define "+R:"",i.envMap?"#define "+L:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.sheen?"#define USE_SHEEN":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+w:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(i.extensionShaderTextureLOD||i.envMap)&&i.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==jt?"#define TONE_MAPPING":"",i.toneMapping!==jt?ti.tonemapping_pars_fragment:"",i.toneMapping!==jt?Yx("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",ti.encodings_pars_fragment,i.map?rf("mapTexelToLinear",i.mapEncoding):"",i.matcap?rf("matcapTexelToLinear",i.matcapEncoding):"",i.envMap?rf("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMap?rf("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.lightMap?rf("lightMapTexelToLinear",i.lightMapEncoding):"",Ep("linearToOutputTexel",i.outputEncoding),i.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(dh).join(`
`)),g=vg(g),g=Mp(g,i),g=wy(g,i),v=vg(v),v=Mp(v,i),v=wy(v,i),g=yg(g),v=yg(v),i.isWebGL2&&i.isRawShaderMaterial!==!0&&(me=`#version 300 es
`,$=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+$,ee=["#define varying in",i.glslVersion===jo?"":"out highp vec4 pc_fragColor;",i.glslVersion===jo?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+ee);const xe=me+ee+v,Ee=yy(l,35633,me+$+g),Me=yy(l,35632,xe);if(l.attachShader(K,Ee),l.attachShader(K,Me),i.index0AttributeName!==void 0?l.bindAttribLocation(K,0,i.index0AttributeName):i.morphTargets===!0&&l.bindAttribLocation(K,0,"position"),l.linkProgram(K),t.debug.checkShaderErrors){const ut=l.getProgramInfoLog(K).trim(),vt=l.getShaderInfoLog(Ee).trim(),Gt=l.getShaderInfoLog(Me).trim();let Nt=!0,wt=!0;if(l.getProgramParameter(K,35714)===!1){Nt=!1;const Vt=by(l,Ee,"vertex"),mn=by(l,Me,"fragment");console.error("THREE.WebGLProgram: shader error: ",l.getError(),"35715",l.getProgramParameter(K,35715),"gl.getProgramInfoLog",ut,Vt,mn)}else ut!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",ut):vt!==""&&Gt!==""||(wt=!1);wt&&(this.diagnostics={runnable:Nt,programLog:ut,vertexShader:{log:vt,prefix:$},fragmentShader:{log:Gt,prefix:ee}})}let Ne,Te;return l.deleteShader(Ee),l.deleteShader(Me),this.getUniforms=function(){return Ne===void 0&&(Ne=new Sc(l,K)),Ne},this.getAttributes=function(){return Te===void 0&&(Te=function(ut,vt){const Gt={},Nt=ut.getProgramParameter(vt,35721);for(let wt=0;wt<Nt;wt++){const Vt=ut.getActiveAttrib(vt,wt).name;Gt[Vt]=ut.getAttribLocation(vt,Vt)}return Gt}(l,K)),Te},this.destroy=function(){o.releaseStatesOfProgram(this),l.deleteProgram(K),this.program=void 0},this.name=i.shaderName,this.id=$x++,this.cacheKey=e,this.usedTimes=1,this.program=K,this.vertexShader=Ee,this.fragmentShader=Me,this}function eb(t,e,i,o,l,d){const g=[],v=o.isWebGL2,w=o.logarithmicDepthBuffer,S=o.floatVertexTextures,R=o.maxVertexUniforms,L=o.vertexTextures;let I=o.precision;const F={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},H=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function K($){let ee;return $&&$.isTexture?ee=$.encoding:$&&$.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),ee=$.texture.encoding):ee=ct,ee}return{getParameters:function($,ee,me,xe,Ee){const Me=xe.fog,Ne=$.isMeshStandardMaterial?xe.environment:null,Te=e.get($.envMap||Ne),ut=F[$.type],vt=Ee.isSkinnedMesh?function(Vt){const mn=Vt.skeleton.bones;if(S)return 1024;{const cn=R,ur=Math.floor((cn-20)/4),kn=Math.min(ur,mn.length);return kn<mn.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+mn.length+" bones. This GPU supports "+kn+"."),0):kn}}(Ee):0;let Gt,Nt;if($.precision!==null&&(I=o.getMaxPrecision($.precision),I!==$.precision&&console.warn("THREE.WebGLProgram.getParameters:",$.precision,"not supported, using",I,"instead.")),ut){const Vt=Na[ut];Gt=Vt.vertexShader,Nt=Vt.fragmentShader}else Gt=$.vertexShader,Nt=$.fragmentShader;const wt=t.getRenderTarget();return{isWebGL2:v,shaderID:ut,shaderName:$.type,vertexShader:Gt,fragmentShader:Nt,defines:$.defines,isRawShaderMaterial:$.isRawShaderMaterial===!0,glslVersion:$.glslVersion,precision:I,instancing:Ee.isInstancedMesh===!0,instancingColor:Ee.isInstancedMesh===!0&&Ee.instanceColor!==null,supportsVertexTextures:L,outputEncoding:wt!==null?K(wt.texture):t.outputEncoding,map:!!$.map,mapEncoding:K($.map),matcap:!!$.matcap,matcapEncoding:K($.matcap),envMap:!!Te,envMapMode:Te&&Te.mapping,envMapEncoding:K(Te),envMapCubeUV:!!Te&&(Te.mapping===zr||Te.mapping===Cr),lightMap:!!$.lightMap,lightMapEncoding:K($.lightMap),aoMap:!!$.aoMap,emissiveMap:!!$.emissiveMap,emissiveMapEncoding:K($.emissiveMap),bumpMap:!!$.bumpMap,normalMap:!!$.normalMap,objectSpaceNormalMap:$.normalMapType===Ie,tangentSpaceNormalMap:$.normalMapType===he,clearcoatMap:!!$.clearcoatMap,clearcoatRoughnessMap:!!$.clearcoatRoughnessMap,clearcoatNormalMap:!!$.clearcoatNormalMap,displacementMap:!!$.displacementMap,roughnessMap:!!$.roughnessMap,metalnessMap:!!$.metalnessMap,specularMap:!!$.specularMap,alphaMap:!!$.alphaMap,gradientMap:!!$.gradientMap,sheen:!!$.sheen,transmissionMap:!!$.transmissionMap,combine:$.combine,vertexTangents:$.normalMap&&$.vertexTangents,vertexColors:$.vertexColors,vertexUvs:!!($.map||$.bumpMap||$.normalMap||$.specularMap||$.alphaMap||$.emissiveMap||$.roughnessMap||$.metalnessMap||$.clearcoatMap||$.clearcoatRoughnessMap||$.clearcoatNormalMap||$.displacementMap||$.transmissionMap),uvsVertexOnly:!($.map||$.bumpMap||$.normalMap||$.specularMap||$.alphaMap||$.emissiveMap||$.roughnessMap||$.metalnessMap||$.clearcoatNormalMap||$.transmissionMap||!$.displacementMap),fog:!!Me,useFog:$.fog,fogExp2:Me&&Me.isFogExp2,flatShading:$.flatShading,sizeAttenuation:$.sizeAttenuation,logarithmicDepthBuffer:w,skinning:$.skinning&&vt>0,maxBones:vt,useVertexTexture:S,morphTargets:$.morphTargets,morphNormals:$.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:ee.directional.length,numPointLights:ee.point.length,numSpotLights:ee.spot.length,numRectAreaLights:ee.rectArea.length,numHemiLights:ee.hemi.length,numDirLightShadows:ee.directionalShadowMap.length,numPointLightShadows:ee.pointShadowMap.length,numSpotLightShadows:ee.spotShadowMap.length,numClippingPlanes:d.numPlanes,numClipIntersection:d.numIntersection,dithering:$.dithering,shadowMapEnabled:t.shadowMap.enabled&&me.length>0,shadowMapType:t.shadowMap.type,toneMapping:$.toneMapped?t.toneMapping:jt,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:$.premultipliedAlpha,alphaTest:$.alphaTest,doubleSided:$.side===Y,flipSided:$.side===X,depthPacking:$.depthPacking!==void 0&&$.depthPacking,index0AttributeName:$.index0AttributeName,extensionDerivatives:$.extensions&&$.extensions.derivatives,extensionFragDepth:$.extensions&&$.extensions.fragDepth,extensionDrawBuffers:$.extensions&&$.extensions.drawBuffers,extensionShaderTextureLOD:$.extensions&&$.extensions.shaderTextureLOD,rendererExtensionFragDepth:v||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:v||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:v||i.has("EXT_shader_texture_lod"),customProgramCacheKey:$.customProgramCacheKey()}},getProgramCacheKey:function($){const ee=[];if($.shaderID?ee.push($.shaderID):(ee.push($.fragmentShader),ee.push($.vertexShader)),$.defines!==void 0)for(const me in $.defines)ee.push(me),ee.push($.defines[me]);if($.isRawShaderMaterial===!1){for(let me=0;me<H.length;me++)ee.push($[H[me]]);ee.push(t.outputEncoding),ee.push(t.gammaFactor)}return ee.push($.customProgramCacheKey),ee.join()},getUniforms:function($){const ee=F[$.type];let me;if(ee){const xe=Na[ee];me=Wu.clone(xe.uniforms)}else me=$.uniforms;return me},acquireProgram:function($,ee){let me;for(let xe=0,Ee=g.length;xe<Ee;xe++){const Me=g[xe];if(Me.cacheKey===ee){me=Me,++me.usedTimes;break}}return me===void 0&&(me=new s1(t,ee,$,l),g.push(me)),me},releaseProgram:function($){if(--$.usedTimes==0){const ee=g.indexOf($);g[ee]=g[g.length-1],g.pop(),$.destroy()}},programs:g}}function o1(){let t=new WeakMap;return{get:function(e){let i=t.get(e);return i===void 0&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,o){t.get(e)[i]=o},dispose:function(){t=new WeakMap}}}function a1(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function tb(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function My(t){const e=[];let i=0;const o=[],l=[],d={id:-1};function g(v,w,S,R,L,I){let F=e[i];const H=t.get(S);return F===void 0?(F={id:v.id,object:v,geometry:w,material:S,program:H.program||d,groupOrder:R,renderOrder:v.renderOrder,z:L,group:I},e[i]=F):(F.id=v.id,F.object=v,F.geometry=w,F.material=S,F.program=H.program||d,F.groupOrder=R,F.renderOrder=v.renderOrder,F.z=L,F.group=I),i++,F}return{opaque:o,transparent:l,init:function(){i=0,o.length=0,l.length=0},push:function(v,w,S,R,L,I){const F=g(v,w,S,R,L,I);(S.transparent===!0?l:o).push(F)},unshift:function(v,w,S,R,L,I){const F=g(v,w,S,R,L,I);(S.transparent===!0?l:o).unshift(F)},finish:function(){for(let v=i,w=e.length;v<w;v++){const S=e[v];if(S.id===null)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.program=null,S.group=null}},sort:function(v,w){o.length>1&&o.sort(v||a1),l.length>1&&l.sort(w||tb)}}}function nb(t){let e=new WeakMap;return{get:function(i,o){const l=e.get(i);let d;return l===void 0?(d=new My(t),e.set(i,new WeakMap),e.get(i).set(o,d)):(d=l.get(o),d===void 0&&(d=new My(t),l.set(o,d))),d},dispose:function(){e=new WeakMap}}}function xg(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let i;switch(e.type){case"DirectionalLight":i={direction:new ye,color:new zt};break;case"SpotLight":i={position:new ye,direction:new ye,color:new zt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new ye,color:new zt,distance:0,decay:0};break;case"HemisphereLight":i={direction:new ye,skyColor:new zt,groundColor:new zt};break;case"RectAreaLight":i={color:new zt,position:new ye,halfWidth:new ye,halfHeight:new ye}}return t[e.id]=i,i}}}let l1=0;function u1(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function c1(t,e){const i=new xg,o=function(){const w={};return{get:function(S){if(w[S.id]!==void 0)return w[S.id];let R;switch(S.type){case"DirectionalLight":case"SpotLight":R={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new It};break;case"PointLight":R={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new It,shadowCameraNear:1,shadowCameraFar:1e3}}return w[S.id]=R,R}}}(),l={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let w=0;w<9;w++)l.probe.push(new ye);const d=new ye,g=new Pr,v=new Pr;return{setup:function(w){let S=0,R=0,L=0;for(let Me=0;Me<9;Me++)l.probe[Me].set(0,0,0);let I=0,F=0,H=0,K=0,$=0,ee=0,me=0,xe=0;w.sort(u1);for(let Me=0,Ne=w.length;Me<Ne;Me++){const Te=w[Me],ut=Te.color,vt=Te.intensity,Gt=Te.distance,Nt=Te.shadow&&Te.shadow.map?Te.shadow.map.texture:null;if(Te.isAmbientLight)S+=ut.r*vt,R+=ut.g*vt,L+=ut.b*vt;else if(Te.isLightProbe)for(let wt=0;wt<9;wt++)l.probe[wt].addScaledVector(Te.sh.coefficients[wt],vt);else if(Te.isDirectionalLight){const wt=i.get(Te);if(wt.color.copy(Te.color).multiplyScalar(Te.intensity),Te.castShadow){const Vt=Te.shadow,mn=o.get(Te);mn.shadowBias=Vt.bias,mn.shadowNormalBias=Vt.normalBias,mn.shadowRadius=Vt.radius,mn.shadowMapSize=Vt.mapSize,l.directionalShadow[I]=mn,l.directionalShadowMap[I]=Nt,l.directionalShadowMatrix[I]=Te.shadow.matrix,ee++}l.directional[I]=wt,I++}else if(Te.isSpotLight){const wt=i.get(Te);if(wt.position.setFromMatrixPosition(Te.matrixWorld),wt.color.copy(ut).multiplyScalar(vt),wt.distance=Gt,wt.coneCos=Math.cos(Te.angle),wt.penumbraCos=Math.cos(Te.angle*(1-Te.penumbra)),wt.decay=Te.decay,Te.castShadow){const Vt=Te.shadow,mn=o.get(Te);mn.shadowBias=Vt.bias,mn.shadowNormalBias=Vt.normalBias,mn.shadowRadius=Vt.radius,mn.shadowMapSize=Vt.mapSize,l.spotShadow[H]=mn,l.spotShadowMap[H]=Nt,l.spotShadowMatrix[H]=Te.shadow.matrix,xe++}l.spot[H]=wt,H++}else if(Te.isRectAreaLight){const wt=i.get(Te);wt.color.copy(ut).multiplyScalar(vt),wt.halfWidth.set(.5*Te.width,0,0),wt.halfHeight.set(0,.5*Te.height,0),l.rectArea[K]=wt,K++}else if(Te.isPointLight){const wt=i.get(Te);if(wt.color.copy(Te.color).multiplyScalar(Te.intensity),wt.distance=Te.distance,wt.decay=Te.decay,Te.castShadow){const Vt=Te.shadow,mn=o.get(Te);mn.shadowBias=Vt.bias,mn.shadowNormalBias=Vt.normalBias,mn.shadowRadius=Vt.radius,mn.shadowMapSize=Vt.mapSize,mn.shadowCameraNear=Vt.camera.near,mn.shadowCameraFar=Vt.camera.far,l.pointShadow[F]=mn,l.pointShadowMap[F]=Nt,l.pointShadowMatrix[F]=Te.shadow.matrix,me++}l.point[F]=wt,F++}else if(Te.isHemisphereLight){const wt=i.get(Te);wt.skyColor.copy(Te.color).multiplyScalar(vt),wt.groundColor.copy(Te.groundColor).multiplyScalar(vt),l.hemi[$]=wt,$++}}K>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(l.rectAreaLTC1=Nn.LTC_FLOAT_1,l.rectAreaLTC2=Nn.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(l.rectAreaLTC1=Nn.LTC_HALF_1,l.rectAreaLTC2=Nn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),l.ambient[0]=S,l.ambient[1]=R,l.ambient[2]=L;const Ee=l.hash;Ee.directionalLength===I&&Ee.pointLength===F&&Ee.spotLength===H&&Ee.rectAreaLength===K&&Ee.hemiLength===$&&Ee.numDirectionalShadows===ee&&Ee.numPointShadows===me&&Ee.numSpotShadows===xe||(l.directional.length=I,l.spot.length=H,l.rectArea.length=K,l.point.length=F,l.hemi.length=$,l.directionalShadow.length=ee,l.directionalShadowMap.length=ee,l.pointShadow.length=me,l.pointShadowMap.length=me,l.spotShadow.length=xe,l.spotShadowMap.length=xe,l.directionalShadowMatrix.length=ee,l.pointShadowMatrix.length=me,l.spotShadowMatrix.length=xe,Ee.directionalLength=I,Ee.pointLength=F,Ee.spotLength=H,Ee.rectAreaLength=K,Ee.hemiLength=$,Ee.numDirectionalShadows=ee,Ee.numPointShadows=me,Ee.numSpotShadows=xe,l.version=l1++)},setupView:function(w,S){let R=0,L=0,I=0,F=0,H=0;const K=S.matrixWorldInverse;for(let $=0,ee=w.length;$<ee;$++){const me=w[$];if(me.isDirectionalLight){const xe=l.directional[R];xe.direction.setFromMatrixPosition(me.matrixWorld),d.setFromMatrixPosition(me.target.matrixWorld),xe.direction.sub(d),xe.direction.transformDirection(K),R++}else if(me.isSpotLight){const xe=l.spot[I];xe.position.setFromMatrixPosition(me.matrixWorld),xe.position.applyMatrix4(K),xe.direction.setFromMatrixPosition(me.matrixWorld),d.setFromMatrixPosition(me.target.matrixWorld),xe.direction.sub(d),xe.direction.transformDirection(K),I++}else if(me.isRectAreaLight){const xe=l.rectArea[F];xe.position.setFromMatrixPosition(me.matrixWorld),xe.position.applyMatrix4(K),v.identity(),g.copy(me.matrixWorld),g.premultiply(K),v.extractRotation(g),xe.halfWidth.set(.5*me.width,0,0),xe.halfHeight.set(0,.5*me.height,0),xe.halfWidth.applyMatrix4(v),xe.halfHeight.applyMatrix4(v),F++}else if(me.isPointLight){const xe=l.point[L];xe.position.setFromMatrixPosition(me.matrixWorld),xe.position.applyMatrix4(K),L++}else if(me.isHemisphereLight){const xe=l.hemi[H];xe.direction.setFromMatrixPosition(me.matrixWorld),xe.direction.transformDirection(K),xe.direction.normalize(),H++}}},state:l}}function $l(t,e){const i=new c1(t,e),o=[],l=[];return{init:function(){o.length=0,l.length=0},state:{lightsArray:o,shadowsArray:l,lights:i},setupLights:function(){i.setup(o)},setupLightsView:function(d){i.setupView(o,d)},pushLight:function(d){o.push(d)},pushShadow:function(d){l.push(d)}}}function Ay(t,e){let i=new WeakMap;return{get:function(o,l=0){let d;return i.has(o)===!1?(d=new $l(t,e),i.set(o,[]),i.get(o).push(d)):l>=i.get(o).length?(d=new $l(t,e),i.get(o).push(d)):d=i.get(o)[l],d},dispose:function(){i=new WeakMap}}}function wu(t){yn.call(this),this.type="MeshDepthMaterial",this.depthPacking=Q,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function Ec(t){yn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ye,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}wu.prototype=Object.create(yn.prototype),wu.prototype.constructor=wu,wu.prototype.isMeshDepthMaterial=!0,wu.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Ec.prototype=Object.create(yn.prototype),Ec.prototype.constructor=Ec,Ec.prototype.isMeshDistanceMaterial=!0,Ec.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this};function Ty(t,e,i){let o=new Jd;const l=new It,d=new It,g=new Di,v=[],w=[],S={},R={0:X,1:q,2:Y},L=new ho({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new It},radius:{value:4}},vertexShader:`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`}),I=L.clone();I.defines.HORIZONTAL_PASS=1;const F=new $n;F.setAttribute("position",new Xn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const H=new ss(F,L),K=this;function $(Me,Ne){const Te=e.update(H);L.uniforms.shadow_pass.value=Me.map.texture,L.uniforms.resolution.value=Me.mapSize,L.uniforms.radius.value=Me.radius,t.setRenderTarget(Me.mapPass),t.clear(),t.renderBufferDirect(Ne,null,Te,L,H,null),I.uniforms.shadow_pass.value=Me.mapPass.texture,I.uniforms.resolution.value=Me.mapSize,I.uniforms.radius.value=Me.radius,t.setRenderTarget(Me.map),t.clear(),t.renderBufferDirect(Ne,null,Te,I,H,null)}function ee(Me,Ne,Te){const ut=Me<<0|Ne<<1|Te<<2;let vt=v[ut];return vt===void 0&&(vt=new wu({depthPacking:ue,morphTargets:Me,skinning:Ne}),v[ut]=vt),vt}function me(Me,Ne,Te){const ut=Me<<0|Ne<<1|Te<<2;let vt=w[ut];return vt===void 0&&(vt=new Ec({morphTargets:Me,skinning:Ne}),w[ut]=vt),vt}function xe(Me,Ne,Te,ut,vt,Gt,Nt){let wt=null,Vt=ee,mn=Me.customDepthMaterial;if(ut.isPointLight===!0&&(Vt=me,mn=Me.customDistanceMaterial),mn===void 0){let cn=!1;Te.morphTargets===!0&&(cn=Ne.morphAttributes&&Ne.morphAttributes.position&&Ne.morphAttributes.position.length>0);let ur=!1;Me.isSkinnedMesh===!0&&(Te.skinning===!0?ur=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",Me)),wt=Vt(cn,ur,Me.isInstancedMesh===!0)}else wt=mn;if(t.localClippingEnabled&&Te.clipShadows===!0&&Te.clippingPlanes.length!==0){const cn=wt.uuid,ur=Te.uuid;let kn=S[cn];kn===void 0&&(kn={},S[cn]=kn);let Cn=kn[ur];Cn===void 0&&(Cn=wt.clone(),kn[ur]=Cn),wt=Cn}return wt.visible=Te.visible,wt.wireframe=Te.wireframe,wt.side=Nt===G?Te.shadowSide!==null?Te.shadowSide:Te.side:Te.shadowSide!==null?Te.shadowSide:R[Te.side],wt.clipShadows=Te.clipShadows,wt.clippingPlanes=Te.clippingPlanes,wt.clipIntersection=Te.clipIntersection,wt.wireframeLinewidth=Te.wireframeLinewidth,wt.linewidth=Te.linewidth,ut.isPointLight===!0&&wt.isMeshDistanceMaterial===!0&&(wt.referencePosition.setFromMatrixPosition(ut.matrixWorld),wt.nearDistance=vt,wt.farDistance=Gt),wt}function Ee(Me,Ne,Te,ut,vt){if(Me.visible===!1)return;if(Me.layers.test(Ne.layers)&&(Me.isMesh||Me.isLine||Me.isPoints)&&(Me.castShadow||Me.receiveShadow&&vt===G)&&(!Me.frustumCulled||o.intersectsObject(Me))){Me.modelViewMatrix.multiplyMatrices(Te.matrixWorldInverse,Me.matrixWorld);const Nt=e.update(Me),wt=Me.material;if(Array.isArray(wt)){const Vt=Nt.groups;for(let mn=0,cn=Vt.length;mn<cn;mn++){const ur=Vt[mn],kn=wt[ur.materialIndex];if(kn&&kn.visible){const Cn=xe(Me,Nt,kn,ut,Te.near,Te.far,vt);t.renderBufferDirect(Te,null,Nt,Cn,Me,ur)}}}else if(wt.visible){const Vt=xe(Me,Nt,wt,ut,Te.near,Te.far,vt);t.renderBufferDirect(Te,null,Nt,Vt,Me,null)}}const Gt=Me.children;for(let Nt=0,wt=Gt.length;Nt<wt;Nt++)Ee(Gt[Nt],Ne,Te,ut,vt)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=T,this.render=function(Me,Ne,Te){if(K.enabled===!1||K.autoUpdate===!1&&K.needsUpdate===!1||Me.length===0)return;const ut=t.getRenderTarget(),vt=t.getActiveCubeFace(),Gt=t.getActiveMipmapLevel(),Nt=t.state;Nt.setBlending(oe),Nt.buffers.color.setClear(1,1,1,1),Nt.buffers.depth.setTest(!0),Nt.setScissorTest(!1);for(let wt=0,Vt=Me.length;wt<Vt;wt++){const mn=Me[wt],cn=mn.shadow;if(cn===void 0){console.warn("THREE.WebGLShadowMap:",mn,"has no shadow.");continue}if(cn.autoUpdate===!1&&cn.needsUpdate===!1)continue;l.copy(cn.mapSize);const ur=cn.getFrameExtents();if(l.multiply(ur),d.copy(cn.mapSize),(l.x>i||l.y>i)&&(l.x>i&&(d.x=Math.floor(i/ur.x),l.x=d.x*ur.x,cn.mapSize.x=d.x),l.y>i&&(d.y=Math.floor(i/ur.y),l.y=d.y*ur.y,cn.mapSize.y=d.y)),cn.map===null&&!cn.isPointLightShadow&&this.type===G){const Cn={minFilter:Sr,magFilter:Sr,format:mi};cn.map=new Uo(l.x,l.y,Cn),cn.map.texture.name=mn.name+".shadowMap",cn.mapPass=new Uo(l.x,l.y,Cn),cn.camera.updateProjectionMatrix()}if(cn.map===null){const Cn={minFilter:tr,magFilter:tr,format:mi};cn.map=new Uo(l.x,l.y,Cn),cn.map.texture.name=mn.name+".shadowMap",cn.camera.updateProjectionMatrix()}t.setRenderTarget(cn.map),t.clear();const kn=cn.getViewportCount();for(let Cn=0;Cn<kn;Cn++){const vr=cn.getViewport(Cn);g.set(d.x*vr.x,d.y*vr.y,d.x*vr.z,d.y*vr.w),Nt.viewport(g),cn.updateMatrices(mn,Cn),o=cn.getFrustum(),Ee(Ne,Te,cn.camera,mn,this.type)}cn.isPointLightShadow||this.type!==G||$(cn,Te),cn.needsUpdate=!1}K.needsUpdate=!1,t.setRenderTarget(ut,vt,Gt)}}function rb(t,e,i){const o=i.isWebGL2,l=new function(){let De=!1;const $t=new Di;let gn=null;const Rt=new Di(0,0,0,0);return{setMask:function(bt){gn===bt||De||(t.colorMask(bt,bt,bt,bt),gn=bt)},setLocked:function(bt){De=bt},setClear:function(bt,Qt,An,hn,qn){qn===!0&&(bt*=hn,Qt*=hn,An*=hn),$t.set(bt,Qt,An,hn),Rt.equals($t)===!1&&(t.clearColor(bt,Qt,An,hn),Rt.copy($t))},reset:function(){De=!1,gn=null,Rt.set(-1,0,0,0)}}},d=new function(){let De=!1,$t=null,gn=null,Rt=null;return{setTest:function(bt){bt?kn(2929):Cn(2929)},setMask:function(bt){$t===bt||De||(t.depthMask(bt),$t=bt)},setFunc:function(bt){if(gn!==bt){if(bt)switch(bt){case Ut:t.depthFunc(512);break;case we:t.depthFunc(519);break;case Pt:t.depthFunc(513);break;case gt:t.depthFunc(515);break;case Le:t.depthFunc(514);break;case Bt:t.depthFunc(518);break;case bn:t.depthFunc(516);break;case cr:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);gn=bt}},setLocked:function(bt){De=bt},setClear:function(bt){Rt!==bt&&(t.clearDepth(bt),Rt=bt)},reset:function(){De=!1,$t=null,gn=null,Rt=null}}},g=new function(){let De=!1,$t=null,gn=null,Rt=null,bt=null,Qt=null,An=null,hn=null,qn=null;return{setTest:function(Zn){De||(Zn?kn(2960):Cn(2960))},setMask:function(Zn){$t===Zn||De||(t.stencilMask(Zn),$t=Zn)},setFunc:function(Zn,Gr,Ar){gn===Zn&&Rt===Gr&&bt===Ar||(t.stencilFunc(Zn,Gr,Ar),gn=Zn,Rt=Gr,bt=Ar)},setOp:function(Zn,Gr,Ar){Qt===Zn&&An===Gr&&hn===Ar||(t.stencilOp(Zn,Gr,Ar),Qt=Zn,An=Gr,hn=Ar)},setLocked:function(Zn){De=Zn},setClear:function(Zn){qn!==Zn&&(t.clearStencil(Zn),qn=Zn)},reset:function(){De=!1,$t=null,gn=null,Rt=null,bt=null,Qt=null,An=null,hn=null,qn=null}}};let v={},w=null,S=null,R=null,L=null,I=null,F=null,H=null,K=null,$=null,ee=!1,me=null,xe=null,Ee=null,Me=null,Ne=null;const Te=t.getParameter(35661);let ut=!1,vt=0;const Gt=t.getParameter(7938);Gt.indexOf("WebGL")!==-1?(vt=parseFloat(/^WebGL (\d)/.exec(Gt)[1]),ut=vt>=1):Gt.indexOf("OpenGL ES")!==-1&&(vt=parseFloat(/^OpenGL ES (\d)/.exec(Gt)[1]),ut=vt>=2);let Nt=null,wt={};const Vt=new Di,mn=new Di;function cn(De,$t,gn){const Rt=new Uint8Array(4),bt=t.createTexture();t.bindTexture(De,bt),t.texParameteri(De,10241,9728),t.texParameteri(De,10240,9728);for(let Qt=0;Qt<gn;Qt++)t.texImage2D($t+Qt,0,6408,1,1,0,6408,5121,Rt);return bt}const ur={};function kn(De){v[De]!==!0&&(t.enable(De),v[De]=!0)}function Cn(De){v[De]!==!1&&(t.disable(De),v[De]=!1)}ur[3553]=cn(3553,3553,1),ur[34067]=cn(34067,34069,6),l.setClear(0,0,0,1),d.setClear(1),g.setClear(0),kn(2929),d.setFunc(gt),Ve(!1),ot(m),kn(2884),hi(oe);const vr={[We]:32774,[tt]:32778,[dt]:32779};if(o)vr[Ke]=32775,vr[Ze]=32776;else{const De=e.get("EXT_blend_minmax");De!==null&&(vr[Ke]=De.MIN_EXT,vr[Ze]=De.MAX_EXT)}const yr={[Xe]:0,[ft]:1,[Be]:768,[Ue]:770,[St]:776,[ke]:774,[lt]:772,[Qe]:769,[te]:771,[rt]:775,[_e]:773};function hi(De,$t,gn,Rt,bt,Qt,An,hn){if(De!==oe){if(S||(kn(3042),S=!0),De===P)bt=bt||$t,Qt=Qt||gn,An=An||Rt,$t===L&&bt===H||(t.blendEquationSeparate(vr[$t],vr[bt]),L=$t,H=bt),gn===I&&Rt===F&&Qt===K&&An===$||(t.blendFuncSeparate(yr[gn],yr[Rt],yr[Qt],yr[An]),I=gn,F=Rt,K=Qt,$=An),R=De,ee=null;else if(De!==R||hn!==ee){if(L===We&&H===We||(t.blendEquation(32774),L=We,H=We),hn)switch(De){case le:t.blendFuncSeparate(1,771,1,771);break;case Se:t.blendFunc(1,1);break;case be:t.blendFuncSeparate(0,0,769,771);break;case Pe:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",De)}else switch(De){case le:t.blendFuncSeparate(770,771,1,771);break;case Se:t.blendFunc(770,1);break;case be:t.blendFunc(0,769);break;case Pe:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",De)}I=null,F=null,K=null,$=null,R=De,ee=hn}}else S&&(Cn(3042),S=!1)}function Ve(De){me!==De&&(De?t.frontFace(2304):t.frontFace(2305),me=De)}function ot(De){De!==f?(kn(2884),De!==xe&&(De===m?t.cullFace(1029):De===b?t.cullFace(1028):t.cullFace(1032))):Cn(2884),xe=De}function vn(De,$t,gn){De?(kn(32823),Me===$t&&Ne===gn||(t.polygonOffset($t,gn),Me=$t,Ne=gn)):Cn(32823)}function Ft(De){De===void 0&&(De=33984+Te-1),Nt!==De&&(t.activeTexture(De),Nt=De)}return{buffers:{color:l,depth:d,stencil:g},enable:kn,disable:Cn,useProgram:function(De){return w!==De&&(t.useProgram(De),w=De,!0)},setBlending:hi,setMaterial:function(De,$t){De.side===Y?Cn(2884):kn(2884);let gn=De.side===X;$t&&(gn=!gn),Ve(gn),De.blending===le&&De.transparent===!1?hi(oe):hi(De.blending,De.blendEquation,De.blendSrc,De.blendDst,De.blendEquationAlpha,De.blendSrcAlpha,De.blendDstAlpha,De.premultipliedAlpha),d.setFunc(De.depthFunc),d.setTest(De.depthTest),d.setMask(De.depthWrite),l.setMask(De.colorWrite);const Rt=De.stencilWrite;g.setTest(Rt),Rt&&(g.setMask(De.stencilWriteMask),g.setFunc(De.stencilFunc,De.stencilRef,De.stencilFuncMask),g.setOp(De.stencilFail,De.stencilZFail,De.stencilZPass)),vn(De.polygonOffset,De.polygonOffsetFactor,De.polygonOffsetUnits)},setFlipSided:Ve,setCullFace:ot,setLineWidth:function(De){De!==Ee&&(ut&&t.lineWidth(De),Ee=De)},setPolygonOffset:vn,setScissorTest:function(De){De?kn(3089):Cn(3089)},activeTexture:Ft,bindTexture:function(De,$t){Nt===null&&Ft();let gn=wt[Nt];gn===void 0&&(gn={type:void 0,texture:void 0},wt[Nt]=gn),gn.type===De&&gn.texture===$t||(t.bindTexture(De,$t||ur[De]),gn.type=De,gn.texture=$t)},unbindTexture:function(){const De=wt[Nt];De!==void 0&&De.type!==void 0&&(t.bindTexture(De.type,null),De.type=void 0,De.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(De){console.error("THREE.WebGLState:",De)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(De){console.error("THREE.WebGLState:",De)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(De){console.error("THREE.WebGLState:",De)}},scissor:function(De){Vt.equals(De)===!1&&(t.scissor(De.x,De.y,De.z,De.w),Vt.copy(De))},viewport:function(De){mn.equals(De)===!1&&(t.viewport(De.x,De.y,De.z,De.w),mn.copy(De))},reset:function(){v={},Nt=null,wt={},w=null,S=null,R=null,L=null,I=null,F=null,H=null,K=null,$=null,ee=!1,me=null,xe=null,Ee=null,Me=null,Ne=null,l.reset(),d.reset(),g.reset()}}}function Cy(t,e,i,o,l,d,g){const v=l.isWebGL2,w=l.maxTextures,S=l.maxCubemapSize,R=l.maxTextureSize,L=l.maxSamples,I=new WeakMap;let F,H=!1;try{H=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function K(Ve,ot){return H?new OffscreenCanvas(Ve,ot):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function $(Ve,ot,vn,Ft){let De=1;if((Ve.width>Ft||Ve.height>Ft)&&(De=Ft/Math.max(Ve.width,Ve.height)),De<1||ot===!0){if(typeof HTMLImageElement<"u"&&Ve instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ve instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ve instanceof ImageBitmap){const $t=ot?Tn.floorPowerOfTwo:Math.floor,gn=$t(De*Ve.width),Rt=$t(De*Ve.height);F===void 0&&(F=K(gn,Rt));const bt=vn?K(gn,Rt):F;return bt.width=gn,bt.height=Rt,bt.getContext("2d").drawImage(Ve,0,0,gn,Rt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ve.width+"x"+Ve.height+") to ("+gn+"x"+Rt+")."),bt}return"data"in Ve&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ve.width+"x"+Ve.height+")."),Ve}return Ve}function ee(Ve){return Tn.isPowerOfTwo(Ve.width)&&Tn.isPowerOfTwo(Ve.height)}function me(Ve,ot){return Ve.generateMipmaps&&ot&&Ve.minFilter!==tr&&Ve.minFilter!==Sr}function xe(Ve,ot,vn,Ft){t.generateMipmap(Ve),o.get(ot).__maxMipLevel=Math.log(Math.max(vn,Ft))*Math.LOG2E}function Ee(Ve,ot,vn){if(v===!1)return ot;if(Ve!==null){if(t[Ve]!==void 0)return t[Ve];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ve+"'")}let Ft=ot;return ot===6403&&(vn===5126&&(Ft=33326),vn===5131&&(Ft=33325),vn===5121&&(Ft=33321)),ot===6407&&(vn===5126&&(Ft=34837),vn===5131&&(Ft=34843),vn===5121&&(Ft=32849)),ot===6408&&(vn===5126&&(Ft=34836),vn===5131&&(Ft=34842),vn===5121&&(Ft=32856)),Ft!==33325&&Ft!==33326&&Ft!==34842&&Ft!==34836||e.get("EXT_color_buffer_float"),Ft}function Me(Ve){return Ve===tr||Ve===Fr||Ve===Yi?9728:9729}function Ne(Ve){const ot=Ve.target;ot.removeEventListener("dispose",Ne),function(vn){const Ft=o.get(vn);Ft.__webglInit!==void 0&&(t.deleteTexture(Ft.__webglTexture),o.remove(vn))}(ot),ot.isVideoTexture&&I.delete(ot),g.memory.textures--}function Te(Ve){const ot=Ve.target;ot.removeEventListener("dispose",Te),function(vn){const Ft=o.get(vn),De=o.get(vn.texture);if(vn){if(De.__webglTexture!==void 0&&t.deleteTexture(De.__webglTexture),vn.depthTexture&&vn.depthTexture.dispose(),vn.isWebGLCubeRenderTarget)for(let $t=0;$t<6;$t++)t.deleteFramebuffer(Ft.__webglFramebuffer[$t]),Ft.__webglDepthbuffer&&t.deleteRenderbuffer(Ft.__webglDepthbuffer[$t]);else t.deleteFramebuffer(Ft.__webglFramebuffer),Ft.__webglDepthbuffer&&t.deleteRenderbuffer(Ft.__webglDepthbuffer),Ft.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Ft.__webglMultisampledFramebuffer),Ft.__webglColorRenderbuffer&&t.deleteRenderbuffer(Ft.__webglColorRenderbuffer),Ft.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Ft.__webglDepthRenderbuffer);o.remove(vn.texture),o.remove(vn)}}(ot),g.memory.textures--}let ut=0;function vt(Ve,ot){const vn=o.get(Ve);if(Ve.isVideoTexture&&function(Ft){const De=g.render.frame;I.get(Ft)!==De&&(I.set(Ft,De),Ft.update())}(Ve),Ve.version>0&&vn.__version!==Ve.version){const Ft=Ve.image;if(Ft===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(Ft.complete!==!1)return void cn(vn,Ve,ot);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.activeTexture(33984+ot),i.bindTexture(3553,vn.__webglTexture)}function Gt(Ve,ot){const vn=o.get(Ve);Ve.version>0&&vn.__version!==Ve.version?function(Ft,De,$t){if(De.image.length!==6)return;mn(Ft,De),i.activeTexture(33984+$t),i.bindTexture(34067,Ft.__webglTexture),t.pixelStorei(37440,De.flipY);const gn=De&&(De.isCompressedTexture||De.image[0].isCompressedTexture),Rt=De.image[0]&&De.image[0].isDataTexture,bt=[];for(let Ar=0;Ar<6;Ar++)bt[Ar]=gn||Rt?Rt?De.image[Ar].image:De.image[Ar]:$(De.image[Ar],!1,!0,S);const Qt=bt[0],An=ee(Qt)||v,hn=d.convert(De.format),qn=d.convert(De.type),Zn=Ee(De.internalFormat,hn,qn);let Gr;if(Vt(34067,De,An),gn){for(let Ar=0;Ar<6;Ar++){Gr=bt[Ar].mipmaps;for(let ki=0;ki<Gr.length;ki++){const As=Gr[ki];De.format!==mi&&De.format!==ws?hn!==null?i.compressedTexImage2D(34069+Ar,ki,Zn,As.width,As.height,0,As.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(34069+Ar,ki,Zn,As.width,As.height,0,hn,qn,As.data)}}Ft.__maxMipLevel=Gr.length-1}else{Gr=De.mipmaps;for(let Ar=0;Ar<6;Ar++)if(Rt){i.texImage2D(34069+Ar,0,Zn,bt[Ar].width,bt[Ar].height,0,hn,qn,bt[Ar].data);for(let ki=0;ki<Gr.length;ki++){const As=Gr[ki].image[Ar].image;i.texImage2D(34069+Ar,ki+1,Zn,As.width,As.height,0,hn,qn,As.data)}}else{i.texImage2D(34069+Ar,0,Zn,hn,qn,bt[Ar]);for(let ki=0;ki<Gr.length;ki++){const As=Gr[ki];i.texImage2D(34069+Ar,ki+1,Zn,hn,qn,As.image[Ar])}}Ft.__maxMipLevel=Gr.length}me(De,An)&&xe(34067,De,Qt.width,Qt.height),Ft.__version=De.version,De.onUpdate&&De.onUpdate(De)}(vn,Ve,ot):(i.activeTexture(33984+ot),i.bindTexture(34067,vn.__webglTexture))}const Nt={[Zr]:10497,[Ir]:33071,[Pn]:33648},wt={[tr]:9728,[Fr]:9984,[Yi]:9986,[Sr]:9729,[ai]:9985,[Gs]:9987};function Vt(Ve,ot,vn){vn?(t.texParameteri(Ve,10242,Nt[ot.wrapS]),t.texParameteri(Ve,10243,Nt[ot.wrapT]),Ve!==32879&&Ve!==35866||t.texParameteri(Ve,32882,Nt[ot.wrapR]),t.texParameteri(Ve,10240,wt[ot.magFilter]),t.texParameteri(Ve,10241,wt[ot.minFilter])):(t.texParameteri(Ve,10242,33071),t.texParameteri(Ve,10243,33071),Ve!==32879&&Ve!==35866||t.texParameteri(Ve,32882,33071),ot.wrapS===Ir&&ot.wrapT===Ir||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Ve,10240,Me(ot.magFilter)),t.texParameteri(Ve,10241,Me(ot.minFilter)),ot.minFilter!==tr&&ot.minFilter!==Sr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const Ft=e.get("EXT_texture_filter_anisotropic");if(Ft){if(ot.type===Ps&&e.get("OES_texture_float_linear")===null||ot.type===Kr&&(v||e.get("OES_texture_half_float_linear"))===null)return;(ot.anisotropy>1||o.get(ot).__currentAnisotropy)&&(t.texParameterf(Ve,Ft.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ot.anisotropy,l.getMaxAnisotropy())),o.get(ot).__currentAnisotropy=ot.anisotropy)}}function mn(Ve,ot){Ve.__webglInit===void 0&&(Ve.__webglInit=!0,ot.addEventListener("dispose",Ne),Ve.__webglTexture=t.createTexture(),g.memory.textures++)}function cn(Ve,ot,vn){let Ft=3553;ot.isDataTexture2DArray&&(Ft=35866),ot.isDataTexture3D&&(Ft=32879),mn(Ve,ot),i.activeTexture(33984+vn),i.bindTexture(Ft,Ve.__webglTexture),t.pixelStorei(37440,ot.flipY),t.pixelStorei(37441,ot.premultiplyAlpha),t.pixelStorei(3317,ot.unpackAlignment);const De=function(qn){return!v&&(qn.wrapS!==Ir||qn.wrapT!==Ir||qn.minFilter!==tr&&qn.minFilter!==Sr)}(ot)&&ee(ot.image)===!1,$t=$(ot.image,De,!1,R),gn=ee($t)||v,Rt=d.convert(ot.format);let bt,Qt=d.convert(ot.type),An=Ee(ot.internalFormat,Rt,Qt);Vt(Ft,ot,gn);const hn=ot.mipmaps;if(ot.isDepthTexture)An=6402,v?An=ot.type===Ps?36012:ot.type===Ls?33190:ot.type===So?35056:33189:ot.type===Ps&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ot.format===Ks&&An===6402&&ot.type!==Ui&&ot.type!==Ls&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ot.type=Ui,Qt=d.convert(ot.type)),ot.format===_s&&An===6402&&(An=34041,ot.type!==So&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ot.type=So,Qt=d.convert(ot.type))),i.texImage2D(3553,0,An,$t.width,$t.height,0,Rt,Qt,null);else if(ot.isDataTexture)if(hn.length>0&&gn){for(let qn=0,Zn=hn.length;qn<Zn;qn++)bt=hn[qn],i.texImage2D(3553,qn,An,bt.width,bt.height,0,Rt,Qt,bt.data);ot.generateMipmaps=!1,Ve.__maxMipLevel=hn.length-1}else i.texImage2D(3553,0,An,$t.width,$t.height,0,Rt,Qt,$t.data),Ve.__maxMipLevel=0;else if(ot.isCompressedTexture){for(let qn=0,Zn=hn.length;qn<Zn;qn++)bt=hn[qn],ot.format!==mi&&ot.format!==ws?Rt!==null?i.compressedTexImage2D(3553,qn,An,bt.width,bt.height,0,bt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(3553,qn,An,bt.width,bt.height,0,Rt,Qt,bt.data);Ve.__maxMipLevel=hn.length-1}else if(ot.isDataTexture2DArray)i.texImage3D(35866,0,An,$t.width,$t.height,$t.depth,0,Rt,Qt,$t.data),Ve.__maxMipLevel=0;else if(ot.isDataTexture3D)i.texImage3D(32879,0,An,$t.width,$t.height,$t.depth,0,Rt,Qt,$t.data),Ve.__maxMipLevel=0;else if(hn.length>0&&gn){for(let qn=0,Zn=hn.length;qn<Zn;qn++)bt=hn[qn],i.texImage2D(3553,qn,An,Rt,Qt,bt);ot.generateMipmaps=!1,Ve.__maxMipLevel=hn.length-1}else i.texImage2D(3553,0,An,Rt,Qt,$t),Ve.__maxMipLevel=0;me(ot,gn)&&xe(Ft,ot,$t.width,$t.height),Ve.__version=ot.version,ot.onUpdate&&ot.onUpdate(ot)}function ur(Ve,ot,vn,Ft){const De=d.convert(ot.texture.format),$t=d.convert(ot.texture.type),gn=Ee(ot.texture.internalFormat,De,$t);i.texImage2D(Ft,0,gn,ot.width,ot.height,0,De,$t,null),t.bindFramebuffer(36160,Ve),t.framebufferTexture2D(36160,vn,Ft,o.get(ot.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function kn(Ve,ot,vn){if(t.bindRenderbuffer(36161,Ve),ot.depthBuffer&&!ot.stencilBuffer){let Ft=33189;if(vn){const De=ot.depthTexture;De&&De.isDepthTexture&&(De.type===Ps?Ft=36012:De.type===Ls&&(Ft=33190));const $t=vr(ot);t.renderbufferStorageMultisample(36161,$t,Ft,ot.width,ot.height)}else t.renderbufferStorage(36161,Ft,ot.width,ot.height);t.framebufferRenderbuffer(36160,36096,36161,Ve)}else if(ot.depthBuffer&&ot.stencilBuffer){if(vn){const Ft=vr(ot);t.renderbufferStorageMultisample(36161,Ft,35056,ot.width,ot.height)}else t.renderbufferStorage(36161,34041,ot.width,ot.height);t.framebufferRenderbuffer(36160,33306,36161,Ve)}else{const Ft=d.convert(ot.texture.format),De=d.convert(ot.texture.type),$t=Ee(ot.texture.internalFormat,Ft,De);if(vn){const gn=vr(ot);t.renderbufferStorageMultisample(36161,gn,$t,ot.width,ot.height)}else t.renderbufferStorage(36161,$t,ot.width,ot.height)}t.bindRenderbuffer(36161,null)}function Cn(Ve){const ot=o.get(Ve),vn=Ve.isWebGLCubeRenderTarget===!0;if(Ve.depthTexture){if(vn)throw new Error("target.depthTexture not supported in Cube render targets");(function(Ft,De){if(De&&De.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Ft),!De.depthTexture||!De.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");o.get(De.depthTexture).__webglTexture&&De.depthTexture.image.width===De.width&&De.depthTexture.image.height===De.height||(De.depthTexture.image.width=De.width,De.depthTexture.image.height=De.height,De.depthTexture.needsUpdate=!0),vt(De.depthTexture,0);const $t=o.get(De.depthTexture).__webglTexture;if(De.depthTexture.format===Ks)t.framebufferTexture2D(36160,36096,3553,$t,0);else{if(De.depthTexture.format!==_s)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,$t,0)}})(ot.__webglFramebuffer,Ve)}else if(vn){ot.__webglDepthbuffer=[];for(let Ft=0;Ft<6;Ft++)t.bindFramebuffer(36160,ot.__webglFramebuffer[Ft]),ot.__webglDepthbuffer[Ft]=t.createRenderbuffer(),kn(ot.__webglDepthbuffer[Ft],Ve,!1)}else t.bindFramebuffer(36160,ot.__webglFramebuffer),ot.__webglDepthbuffer=t.createRenderbuffer(),kn(ot.__webglDepthbuffer,Ve,!1);t.bindFramebuffer(36160,null)}function vr(Ve){return v&&Ve.isWebGLMultisampleRenderTarget?Math.min(L,Ve.samples):0}let yr=!1,hi=!1;this.allocateTextureUnit=function(){const Ve=ut;return Ve>=w&&console.warn("THREE.WebGLTextures: Trying to use "+Ve+" texture units while this GPU supports only "+w),ut+=1,Ve},this.resetTextureUnits=function(){ut=0},this.setTexture2D=vt,this.setTexture2DArray=function(Ve,ot){const vn=o.get(Ve);Ve.version>0&&vn.__version!==Ve.version?cn(vn,Ve,ot):(i.activeTexture(33984+ot),i.bindTexture(35866,vn.__webglTexture))},this.setTexture3D=function(Ve,ot){const vn=o.get(Ve);Ve.version>0&&vn.__version!==Ve.version?cn(vn,Ve,ot):(i.activeTexture(33984+ot),i.bindTexture(32879,vn.__webglTexture))},this.setTextureCube=Gt,this.setupRenderTarget=function(Ve){const ot=o.get(Ve),vn=o.get(Ve.texture);Ve.addEventListener("dispose",Te),vn.__webglTexture=t.createTexture(),g.memory.textures++;const Ft=Ve.isWebGLCubeRenderTarget===!0,De=Ve.isWebGLMultisampleRenderTarget===!0,$t=ee(Ve)||v;if(!v||Ve.texture.format!==ws||Ve.texture.type!==Ps&&Ve.texture.type!==Kr||(Ve.texture.format=mi,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Ft){ot.__webglFramebuffer=[];for(let gn=0;gn<6;gn++)ot.__webglFramebuffer[gn]=t.createFramebuffer()}else if(ot.__webglFramebuffer=t.createFramebuffer(),De)if(v){ot.__webglMultisampledFramebuffer=t.createFramebuffer(),ot.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,ot.__webglColorRenderbuffer);const gn=d.convert(Ve.texture.format),Rt=d.convert(Ve.texture.type),bt=Ee(Ve.texture.internalFormat,gn,Rt),Qt=vr(Ve);t.renderbufferStorageMultisample(36161,Qt,bt,Ve.width,Ve.height),t.bindFramebuffer(36160,ot.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,ot.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),Ve.depthBuffer&&(ot.__webglDepthRenderbuffer=t.createRenderbuffer(),kn(ot.__webglDepthRenderbuffer,Ve,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Ft){i.bindTexture(34067,vn.__webglTexture),Vt(34067,Ve.texture,$t);for(let gn=0;gn<6;gn++)ur(ot.__webglFramebuffer[gn],Ve,36064,34069+gn);me(Ve.texture,$t)&&xe(34067,Ve.texture,Ve.width,Ve.height),i.bindTexture(34067,null)}else i.bindTexture(3553,vn.__webglTexture),Vt(3553,Ve.texture,$t),ur(ot.__webglFramebuffer,Ve,36064,3553),me(Ve.texture,$t)&&xe(3553,Ve.texture,Ve.width,Ve.height),i.bindTexture(3553,null);Ve.depthBuffer&&Cn(Ve)},this.updateRenderTargetMipmap=function(Ve){const ot=Ve.texture;if(me(ot,ee(Ve)||v)){const vn=Ve.isWebGLCubeRenderTarget?34067:3553,Ft=o.get(ot).__webglTexture;i.bindTexture(vn,Ft),xe(vn,ot,Ve.width,Ve.height),i.bindTexture(vn,null)}},this.updateMultisampleRenderTarget=function(Ve){if(Ve.isWebGLMultisampleRenderTarget)if(v){const ot=o.get(Ve);t.bindFramebuffer(36008,ot.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ot.__webglFramebuffer);const vn=Ve.width,Ft=Ve.height;let De=16384;Ve.depthBuffer&&(De|=256),Ve.stencilBuffer&&(De|=1024),t.blitFramebuffer(0,0,vn,Ft,0,0,vn,Ft,De,9728),t.bindFramebuffer(36160,ot.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(Ve,ot){Ve&&Ve.isWebGLRenderTarget&&(yr===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),yr=!0),Ve=Ve.texture),vt(Ve,ot)},this.safeSetTextureCube=function(Ve,ot){Ve&&Ve.isWebGLCubeRenderTarget&&(hi===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),hi=!0),Ve=Ve.texture),Gt(Ve,ot)}}function nd(t,e,i){const o=i.isWebGL2;return{convert:function(l){let d;if(l===ar)return 5121;if(l===Ca)return 32819;if(l===la)return 32820;if(l===_o)return 33635;if(l===aa)return 5120;if(l===ls)return 5122;if(l===Ui)return 5123;if(l===ts)return 5124;if(l===Ls)return 5125;if(l===Ps)return 5126;if(l===Kr)return o?5131:(d=e.get("OES_texture_half_float"),d!==null?d.HALF_FLOAT_OES:null);if(l===ro)return 6406;if(l===ws)return 6407;if(l===mi)return 6408;if(l===Ki)return 6409;if(l===us)return 6410;if(l===Ks)return 6402;if(l===_s)return 34041;if(l===He)return 6403;if(l===yt)return 36244;if(l===je)return 33319;if(l===it)return 33320;if(l===Yt)return 36248;if(l===pn)return 36249;if(l===dn||l===Kn||l===Jr||l===Sn){if(d=e.get("WEBGL_compressed_texture_s3tc"),d===null)return null;if(l===dn)return d.COMPRESSED_RGB_S3TC_DXT1_EXT;if(l===Kn)return d.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(l===Jr)return d.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(l===Sn)return d.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(l===Mr||l===ri||l===Br||l===Qr){if(d=e.get("WEBGL_compressed_texture_pvrtc"),d===null)return null;if(l===Mr)return d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(l===ri)return d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(l===Br)return d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(l===Qr)return d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(l===Hr)return d=e.get("WEBGL_compressed_texture_etc1"),d!==null?d.COMPRESSED_RGB_ETC1_WEBGL:null;if((l===pr||l===kr)&&(d=e.get("WEBGL_compressed_texture_etc"),d!==null)){if(l===pr)return d.COMPRESSED_RGB8_ETC2;if(l===kr)return d.COMPRESSED_RGBA8_ETC2_EAC}return l===jr||l===ei||l===bi||l===Wi||l===ns||l===Io||l===Eo||l===Fi||l===Vs||l===Ti||l===ua||l===lu||l===Ws||l===Do||l===Ya||l===$o||l===No||l===Xr||l===ul||l===Ds||l===Fo||l===Rr||l===Yo||l===Pa||l===ca||l===ha||l===io||l===cs?(d=e.get("WEBGL_compressed_texture_astc"),d!==null?l:null):l===La?(d=e.get("EXT_texture_compression_bptc"),d!==null?l:null):l===So?o?34042:(d=e.get("WEBGL_depth_texture"),d!==null?d.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function sf(t=[]){eo.call(this),this.cameras=t}function Zu(){D.call(this),this.type="Group"}function Ap(){this._targetRay=null,this._grip=null,this._hand=null}function Ly(t,e){const i=this;let o=null,l=1,d=null,g="local-floor",v=null;const w=[],S=new Map,R=new eo;R.layers.enable(1),R.viewport=new Di;const L=new eo;L.layers.enable(2),L.viewport=new Di;const I=[R,L],F=new sf;F.layers.enable(1),F.layers.enable(2);let H=null,K=null;function $(vt){const Gt=S.get(vt.inputSource);Gt&&Gt.dispatchEvent({type:vt.type,data:vt.inputSource})}function ee(){S.forEach(function(vt,Gt){vt.disconnect(Gt)}),S.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),ut.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function me(vt){d=vt,ut.setContext(o),ut.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}function xe(vt){const Gt=o.inputSources;for(let Nt=0;Nt<w.length;Nt++)S.set(Gt[Nt],w[Nt]);for(let Nt=0;Nt<vt.removed.length;Nt++){const wt=vt.removed[Nt],Vt=S.get(wt);Vt&&(Vt.dispatchEvent({type:"disconnected",data:wt}),S.delete(wt))}for(let Nt=0;Nt<vt.added.length;Nt++){const wt=vt.added[Nt],Vt=S.get(wt);Vt&&Vt.dispatchEvent({type:"connected",data:wt})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(vt){let Gt=w[vt];return Gt===void 0&&(Gt=new Ap,w[vt]=Gt),Gt.getTargetRaySpace()},this.getControllerGrip=function(vt){let Gt=w[vt];return Gt===void 0&&(Gt=new Ap,w[vt]=Gt),Gt.getGripSpace()},this.getHand=function(vt){let Gt=w[vt];return Gt===void 0&&(Gt=new Ap,w[vt]=Gt),Gt.getHandSpace()},this.setFramebufferScaleFactor=function(vt){l=vt,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(vt){g=vt,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d},this.getSession=function(){return o},this.setSession=function(vt){if(o=vt,o!==null){o.addEventListener("select",$),o.addEventListener("selectstart",$),o.addEventListener("selectend",$),o.addEventListener("squeeze",$),o.addEventListener("squeezestart",$),o.addEventListener("squeezeend",$),o.addEventListener("end",ee);const Gt=e.getContextAttributes();Gt.xrCompatible!==!0&&e.makeXRCompatible();const Nt={antialias:Gt.antialias,alpha:Gt.alpha,depth:Gt.depth,stencil:Gt.stencil,framebufferScaleFactor:l},wt=new XRWebGLLayer(o,e,Nt);o.updateRenderState({baseLayer:wt}),o.requestReferenceSpace(g).then(me),o.addEventListener("inputsourceschange",xe)}};const Ee=new ye,Me=new ye;function Ne(vt,Gt){Gt===null?vt.matrixWorld.copy(vt.matrix):vt.matrixWorld.multiplyMatrices(Gt.matrixWorld,vt.matrix),vt.matrixWorldInverse.copy(vt.matrixWorld).invert()}this.getCamera=function(vt){F.near=L.near=R.near=vt.near,F.far=L.far=R.far=vt.far,H===F.near&&K===F.far||(o.updateRenderState({depthNear:F.near,depthFar:F.far}),H=F.near,K=F.far);const Gt=vt.parent,Nt=F.cameras;Ne(F,Gt);for(let Vt=0;Vt<Nt.length;Vt++)Ne(Nt[Vt],Gt);vt.matrixWorld.copy(F.matrixWorld);const wt=vt.children;for(let Vt=0,mn=wt.length;Vt<mn;Vt++)wt[Vt].updateMatrixWorld(!0);return Nt.length===2?function(Vt,mn,cn){Ee.setFromMatrixPosition(mn.matrixWorld),Me.setFromMatrixPosition(cn.matrixWorld);const ur=Ee.distanceTo(Me),kn=mn.projectionMatrix.elements,Cn=cn.projectionMatrix.elements,vr=kn[14]/(kn[10]-1),yr=kn[14]/(kn[10]+1),hi=(kn[9]+1)/kn[5],Ve=(kn[9]-1)/kn[5],ot=(kn[8]-1)/kn[0],vn=(Cn[8]+1)/Cn[0],Ft=vr*ot,De=vr*vn,$t=ur/(-ot+vn),gn=$t*-ot;mn.matrixWorld.decompose(Vt.position,Vt.quaternion,Vt.scale),Vt.translateX(gn),Vt.translateZ($t),Vt.matrixWorld.compose(Vt.position,Vt.quaternion,Vt.scale),Vt.matrixWorldInverse.copy(Vt.matrixWorld).invert();const Rt=vr+$t,bt=yr+$t,Qt=Ft-gn,An=De+(ur-gn),hn=hi*yr/bt*Rt,qn=Ve*yr/bt*Rt;Vt.projectionMatrix.makePerspective(Qt,An,hn,qn,Rt,bt)}(F,R,L):F.projectionMatrix.copy(R.projectionMatrix),F};let Te=null;const ut=new lg;ut.setAnimationLoop(function(vt,Gt){if(v=Gt.getViewerPose(d),v!==null){const wt=v.views,Vt=o.renderState.baseLayer;t.setFramebuffer(Vt.framebuffer);let mn=!1;wt.length!==F.cameras.length&&(F.cameras.length=0,mn=!0);for(let cn=0;cn<wt.length;cn++){const ur=wt[cn],kn=Vt.getViewport(ur),Cn=I[cn];Cn.matrix.fromArray(ur.transform.matrix),Cn.projectionMatrix.fromArray(ur.projectionMatrix),Cn.viewport.set(kn.x,kn.y,kn.width,kn.height),cn===0&&F.matrix.copy(Cn.matrix),mn===!0&&F.cameras.push(Cn)}}const Nt=o.inputSources;for(let wt=0;wt<w.length;wt++){const Vt=w[wt],mn=Nt[wt];Vt.update(mn,Gt,d)}Te&&Te(vt,Gt)}),this.setAnimationLoop=function(vt){Te=vt},this.dispose=function(){}}function ib(t){function e(o,l){o.opacity.value=l.opacity,l.color&&o.diffuse.value.copy(l.color),l.emissive&&o.emissive.value.copy(l.emissive).multiplyScalar(l.emissiveIntensity),l.map&&(o.map.value=l.map),l.alphaMap&&(o.alphaMap.value=l.alphaMap),l.specularMap&&(o.specularMap.value=l.specularMap);const d=t.get(l).envMap;if(d){o.envMap.value=d,o.flipEnvMap.value=d.isCubeTexture&&d._needsFlipEnvMap?-1:1,o.reflectivity.value=l.reflectivity,o.refractionRatio.value=l.refractionRatio;const w=t.get(d).__maxMipLevel;w!==void 0&&(o.maxMipLevel.value=w)}let g,v;l.lightMap&&(o.lightMap.value=l.lightMap,o.lightMapIntensity.value=l.lightMapIntensity),l.aoMap&&(o.aoMap.value=l.aoMap,o.aoMapIntensity.value=l.aoMapIntensity),l.map?g=l.map:l.specularMap?g=l.specularMap:l.displacementMap?g=l.displacementMap:l.normalMap?g=l.normalMap:l.bumpMap?g=l.bumpMap:l.roughnessMap?g=l.roughnessMap:l.metalnessMap?g=l.metalnessMap:l.alphaMap?g=l.alphaMap:l.emissiveMap?g=l.emissiveMap:l.clearcoatMap?g=l.clearcoatMap:l.clearcoatNormalMap?g=l.clearcoatNormalMap:l.clearcoatRoughnessMap&&(g=l.clearcoatRoughnessMap),g!==void 0&&(g.isWebGLRenderTarget&&(g=g.texture),g.matrixAutoUpdate===!0&&g.updateMatrix(),o.uvTransform.value.copy(g.matrix)),l.aoMap?v=l.aoMap:l.lightMap&&(v=l.lightMap),v!==void 0&&(v.isWebGLRenderTarget&&(v=v.texture),v.matrixAutoUpdate===!0&&v.updateMatrix(),o.uv2Transform.value.copy(v.matrix))}function i(o,l){o.roughness.value=l.roughness,o.metalness.value=l.metalness,l.roughnessMap&&(o.roughnessMap.value=l.roughnessMap),l.metalnessMap&&(o.metalnessMap.value=l.metalnessMap),l.emissiveMap&&(o.emissiveMap.value=l.emissiveMap),l.bumpMap&&(o.bumpMap.value=l.bumpMap,o.bumpScale.value=l.bumpScale,l.side===X&&(o.bumpScale.value*=-1)),l.normalMap&&(o.normalMap.value=l.normalMap,o.normalScale.value.copy(l.normalScale),l.side===X&&o.normalScale.value.negate()),l.displacementMap&&(o.displacementMap.value=l.displacementMap,o.displacementScale.value=l.displacementScale,o.displacementBias.value=l.displacementBias),t.get(l).envMap&&(o.envMapIntensity.value=l.envMapIntensity)}return{refreshFogUniforms:function(o,l){o.fogColor.value.copy(l.color),l.isFog?(o.fogNear.value=l.near,o.fogFar.value=l.far):l.isFogExp2&&(o.fogDensity.value=l.density)},refreshMaterialUniforms:function(o,l,d,g){l.isMeshBasicMaterial?e(o,l):l.isMeshLambertMaterial?(e(o,l),function(v,w){w.emissiveMap&&(v.emissiveMap.value=w.emissiveMap)}(o,l)):l.isMeshToonMaterial?(e(o,l),function(v,w){w.gradientMap&&(v.gradientMap.value=w.gradientMap),w.emissiveMap&&(v.emissiveMap.value=w.emissiveMap),w.bumpMap&&(v.bumpMap.value=w.bumpMap,v.bumpScale.value=w.bumpScale,w.side===X&&(v.bumpScale.value*=-1)),w.normalMap&&(v.normalMap.value=w.normalMap,v.normalScale.value.copy(w.normalScale),w.side===X&&v.normalScale.value.negate()),w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias)}(o,l)):l.isMeshPhongMaterial?(e(o,l),function(v,w){v.specular.value.copy(w.specular),v.shininess.value=Math.max(w.shininess,1e-4),w.emissiveMap&&(v.emissiveMap.value=w.emissiveMap),w.bumpMap&&(v.bumpMap.value=w.bumpMap,v.bumpScale.value=w.bumpScale,w.side===X&&(v.bumpScale.value*=-1)),w.normalMap&&(v.normalMap.value=w.normalMap,v.normalScale.value.copy(w.normalScale),w.side===X&&v.normalScale.value.negate()),w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias)}(o,l)):l.isMeshStandardMaterial?(e(o,l),l.isMeshPhysicalMaterial?function(v,w){i(v,w),v.reflectivity.value=w.reflectivity,v.clearcoat.value=w.clearcoat,v.clearcoatRoughness.value=w.clearcoatRoughness,w.sheen&&v.sheen.value.copy(w.sheen),w.clearcoatMap&&(v.clearcoatMap.value=w.clearcoatMap),w.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap),w.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),v.clearcoatNormalMap.value=w.clearcoatNormalMap,w.side===X&&v.clearcoatNormalScale.value.negate()),v.transmission.value=w.transmission,w.transmissionMap&&(v.transmissionMap.value=w.transmissionMap)}(o,l):i(o,l)):l.isMeshMatcapMaterial?(e(o,l),function(v,w){w.matcap&&(v.matcap.value=w.matcap),w.bumpMap&&(v.bumpMap.value=w.bumpMap,v.bumpScale.value=w.bumpScale,w.side===X&&(v.bumpScale.value*=-1)),w.normalMap&&(v.normalMap.value=w.normalMap,v.normalScale.value.copy(w.normalScale),w.side===X&&v.normalScale.value.negate()),w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias)}(o,l)):l.isMeshDepthMaterial?(e(o,l),function(v,w){w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias)}(o,l)):l.isMeshDistanceMaterial?(e(o,l),function(v,w){w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias),v.referencePosition.value.copy(w.referencePosition),v.nearDistance.value=w.nearDistance,v.farDistance.value=w.farDistance}(o,l)):l.isMeshNormalMaterial?(e(o,l),function(v,w){w.bumpMap&&(v.bumpMap.value=w.bumpMap,v.bumpScale.value=w.bumpScale,w.side===X&&(v.bumpScale.value*=-1)),w.normalMap&&(v.normalMap.value=w.normalMap,v.normalScale.value.copy(w.normalScale),w.side===X&&v.normalScale.value.negate()),w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias)}(o,l)):l.isLineBasicMaterial?(function(v,w){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity}(o,l),l.isLineDashedMaterial&&function(v,w){v.dashSize.value=w.dashSize,v.totalSize.value=w.dashSize+w.gapSize,v.scale.value=w.scale}(o,l)):l.isPointsMaterial?function(v,w,S,R){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity,v.size.value=w.size*S,v.scale.value=.5*R,w.map&&(v.map.value=w.map),w.alphaMap&&(v.alphaMap.value=w.alphaMap);let L;w.map?L=w.map:w.alphaMap&&(L=w.alphaMap),L!==void 0&&(L.matrixAutoUpdate===!0&&L.updateMatrix(),v.uvTransform.value.copy(L.matrix))}(o,l,d,g):l.isSpriteMaterial?function(v,w){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity,v.rotation.value=w.rotation,w.map&&(v.map.value=w.map),w.alphaMap&&(v.alphaMap.value=w.alphaMap);let S;w.map?S=w.map:w.alphaMap&&(S=w.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uvTransform.value.copy(S.matrix))}(o,l):l.isShadowMaterial?(o.color.value.copy(l.color),o.opacity.value=l.opacity):l.isShaderMaterial&&(l.uniformsNeedUpdate=!1)}}}function of(t){const e=(t=t||{}).canvas!==void 0?t.canvas:function(){const Re=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return Re.style.display="block",Re}(),i=t.context!==void 0?t.context:null,o=t.alpha!==void 0&&t.alpha,l=t.depth===void 0||t.depth,d=t.stencil===void 0||t.stencil,g=t.antialias!==void 0&&t.antialias,v=t.premultipliedAlpha===void 0||t.premultipliedAlpha,w=t.preserveDrawingBuffer!==void 0&&t.preserveDrawingBuffer,S=t.powerPreference!==void 0?t.powerPreference:"default",R=t.failIfMajorPerformanceCaveat!==void 0&&t.failIfMajorPerformanceCaveat;let L=null,I=null;const F=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=ct,this.physicallyCorrectLights=!1,this.toneMapping=jt,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const H=this;let K=!1,$=null,ee=0,me=0,xe=null,Ee=null,Me=-1,Ne=null;const Te=new Di,ut=new Di;let vt=null,Gt=e.width,Nt=e.height,wt=1,Vt=null,mn=null;const cn=new Di(0,0,Gt,Nt),ur=new Di(0,0,Gt,Nt);let kn=!1;const Cn=new Jd;let vr=!1,yr=!1;const hi=new Pr,Ve=new ye,ot={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function vn(){return xe===null?wt:1}let Ft,De,$t,gn,Rt,bt,Qt,An,hn,qn,Zn,Gr,Ar,ki,As,Ph,Rh,Zy,Ky,ac,rl,Hn=i;function ME(Re,en){for(let Dt=0;Dt<Re.length;Dt++){const rn=Re[Dt],Un=e.getContext(rn,en);if(Un!==null)return Un}return null}try{const Re={alpha:o,depth:l,stencil:d,antialias:g,premultipliedAlpha:v,preserveDrawingBuffer:w,powerPreference:S,failIfMajorPerformanceCaveat:R};if(e.addEventListener("webglcontextlost",CE,!1),e.addEventListener("webglcontextrestored",LE,!1),Hn===null){const en=["webgl2","webgl","experimental-webgl"];if(H.isWebGL1Renderer===!0&&en.shift(),Hn=ME(en,Re),Hn===null)throw ME(en)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Hn.getShaderPrecisionFormat===void 0&&(Hn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Re){throw console.error("THREE.WebGLRenderer: "+Re.message),Re}function AE(){Ft=new Qd(Hn),De=new ug(Hn,Ft,t),De.isWebGL2===!1&&(Ft.get("WEBGL_depth_texture"),Ft.get("OES_texture_float"),Ft.get("OES_texture_half_float"),Ft.get("OES_texture_half_float_linear"),Ft.get("OES_standard_derivatives"),Ft.get("OES_element_index_uint"),Ft.get("OES_vertex_array_object"),Ft.get("ANGLE_instanced_arrays")),Ft.get("OES_texture_float_linear"),ac=new nd(Hn,Ft,De),$t=new rb(Hn,Ft,De),$t.scissor(ut.copy(ur).multiplyScalar(wt).floor()),$t.viewport(Te.copy(cn).multiplyScalar(wt).floor()),gn=new hg,Rt=new o1,bt=new Cy(Hn,Ft,$t,Rt,De,ac,gn),Qt=new Gx(H),An=new ty(Hn,De),rl=new r1(Hn,Ft,An,De),hn=new Vx(Hn,An,gn,rl),qn=new sy(Hn,hn,An,gn),Rh=new iy(Hn),As=new Ux(Rt),Zn=new eb(H,Qt,Ft,De,rl,As),Gr=new ib(Rt),Ar=new nb(Rt),ki=new Ay(Ft,De),Ph=new ny(H,Qt,$t,qn,v),Zy=new gp(Hn,Ft,gn,De),Ky=new cg(Hn,Ft,gn,De),gn.programs=Zn.programs,H.capabilities=De,H.extensions=Ft,H.properties=Rt,H.renderLists=Ar,H.state=$t,H.info=gn}AE();const Lf=new Ly(H,Hn);this.xr=Lf;const TE=new Ty(H,qn,De.maxTextureSize);function CE(Re){Re.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),K=!0}function LE(){console.log("THREE.WebGLRenderer: Context Restored."),K=!1,AE()}function PE(Re){const en=Re.target;en.removeEventListener("dispose",PE),function(Dt){RE(Dt),Rt.remove(Dt)}(en)}function RE(Re){const en=Rt.get(Re).program;en!==void 0&&Zn.releaseProgram(en)}this.shadowMap=TE,this.getContext=function(){return Hn},this.getContextAttributes=function(){return Hn.getContextAttributes()},this.forceContextLoss=function(){const Re=Ft.get("WEBGL_lose_context");Re&&Re.loseContext()},this.forceContextRestore=function(){const Re=Ft.get("WEBGL_lose_context");Re&&Re.restoreContext()},this.getPixelRatio=function(){return wt},this.setPixelRatio=function(Re){Re!==void 0&&(wt=Re,this.setSize(Gt,Nt,!1))},this.getSize=function(Re){return Re===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Re=new It),Re.set(Gt,Nt)},this.setSize=function(Re,en,Dt){Lf.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Gt=Re,Nt=en,e.width=Math.floor(Re*wt),e.height=Math.floor(en*wt),Dt!==!1&&(e.style.width=Re+"px",e.style.height=en+"px"),this.setViewport(0,0,Re,en))},this.getDrawingBufferSize=function(Re){return Re===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Re=new It),Re.set(Gt*wt,Nt*wt).floor()},this.setDrawingBufferSize=function(Re,en,Dt){Gt=Re,Nt=en,wt=Dt,e.width=Math.floor(Re*Dt),e.height=Math.floor(en*Dt),this.setViewport(0,0,Re,en)},this.getCurrentViewport=function(Re){return Re===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Re=new Di),Re.copy(Te)},this.getViewport=function(Re){return Re.copy(cn)},this.setViewport=function(Re,en,Dt,rn){Re.isVector4?cn.set(Re.x,Re.y,Re.z,Re.w):cn.set(Re,en,Dt,rn),$t.viewport(Te.copy(cn).multiplyScalar(wt).floor())},this.getScissor=function(Re){return Re.copy(ur)},this.setScissor=function(Re,en,Dt,rn){Re.isVector4?ur.set(Re.x,Re.y,Re.z,Re.w):ur.set(Re,en,Dt,rn),$t.scissor(ut.copy(ur).multiplyScalar(wt).floor())},this.getScissorTest=function(){return kn},this.setScissorTest=function(Re){$t.setScissorTest(kn=Re)},this.setOpaqueSort=function(Re){Vt=Re},this.setTransparentSort=function(Re){mn=Re},this.getClearColor=function(Re){return Re===void 0&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),Re=new zt),Re.copy(Ph.getClearColor())},this.setClearColor=function(){Ph.setClearColor.apply(Ph,arguments)},this.getClearAlpha=function(){return Ph.getClearAlpha()},this.setClearAlpha=function(){Ph.setClearAlpha.apply(Ph,arguments)},this.clear=function(Re,en,Dt){let rn=0;(Re===void 0||Re)&&(rn|=16384),(en===void 0||en)&&(rn|=256),(Dt===void 0||Dt)&&(rn|=1024),Hn.clear(rn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",CE,!1),e.removeEventListener("webglcontextrestored",LE,!1),Ar.dispose(),ki.dispose(),Rt.dispose(),Qt.dispose(),qn.dispose(),rl.dispose(),Lf.dispose(),Jy.stop()},this.renderBufferImmediate=function(Re,en){rl.initAttributes();const Dt=Rt.get(Re);Re.hasPositions&&!Dt.position&&(Dt.position=Hn.createBuffer()),Re.hasNormals&&!Dt.normal&&(Dt.normal=Hn.createBuffer()),Re.hasUvs&&!Dt.uv&&(Dt.uv=Hn.createBuffer()),Re.hasColors&&!Dt.color&&(Dt.color=Hn.createBuffer());const rn=en.getAttributes();Re.hasPositions&&(Hn.bindBuffer(34962,Dt.position),Hn.bufferData(34962,Re.positionArray,35048),rl.enableAttribute(rn.position),Hn.vertexAttribPointer(rn.position,3,5126,!1,0,0)),Re.hasNormals&&(Hn.bindBuffer(34962,Dt.normal),Hn.bufferData(34962,Re.normalArray,35048),rl.enableAttribute(rn.normal),Hn.vertexAttribPointer(rn.normal,3,5126,!1,0,0)),Re.hasUvs&&(Hn.bindBuffer(34962,Dt.uv),Hn.bufferData(34962,Re.uvArray,35048),rl.enableAttribute(rn.uv),Hn.vertexAttribPointer(rn.uv,2,5126,!1,0,0)),Re.hasColors&&(Hn.bindBuffer(34962,Dt.color),Hn.bufferData(34962,Re.colorArray,35048),rl.enableAttribute(rn.color),Hn.vertexAttribPointer(rn.color,3,5126,!1,0,0)),rl.disableUnusedAttributes(),Hn.drawArrays(4,0,Re.count),Re.count=0},this.renderBufferDirect=function(Re,en,Dt,rn,Un,ni){en===null&&(en=ot);const vi=Un.isMesh&&Un.matrixWorld.determinant()<0,os=DE(Re,en,rn,Un);$t.setMaterial(rn,vi);let si=Dt.index;const na=Dt.attributes.position;if(si===null){if(na===void 0||na.count===0)return}else if(si.count===0)return;let wa,Vr=1;rn.wireframe===!0&&(si=hn.getWireframeAttribute(Dt),Vr=2),(rn.morphTargets||rn.morphNormals)&&Rh.update(Un,Dt,rn,os),rl.setup(Un,rn,os,Dt,si);let Ro=Zy;si!==null&&(wa=An.get(si),Ro=Ky,Ro.setIndex(wa));const dd=si!==null?si.count:na.count,Hi=Dt.drawRange.start*Vr,qp=Dt.drawRange.count*Vr,Mu=ni!==null?ni.start*Vr:0,Au=ni!==null?ni.count*Vr:1/0,ra=Math.max(Hi,Mu),H1=Math.min(dd,Hi+qp,Mu+Au)-1,Ql=Math.max(0,H1-ra+1);if(Ql!==0){if(Un.isMesh)rn.wireframe===!0?($t.setLineWidth(rn.wireframeLinewidth*vn()),Ro.setMode(1)):Ro.setMode(4);else if(Un.isLine){let fd=rn.linewidth;fd===void 0&&(fd=1),$t.setLineWidth(fd*vn()),Un.isLineSegments?Ro.setMode(1):Un.isLineLoop?Ro.setMode(2):Ro.setMode(3)}else Un.isPoints?Ro.setMode(0):Un.isSprite&&Ro.setMode(4);if(Un.isInstancedMesh)Ro.renderInstances(ra,Ql,Un.count);else if(Dt.isInstancedBufferGeometry){const fd=Math.min(Dt.instanceCount,Dt._maxInstanceCount);Ro.renderInstances(ra,Ql,fd)}else Ro.render(ra,Ql)}},this.compile=function(Re,en){I=ki.get(Re),I.init(),Re.traverseVisible(function(rn){rn.isLight&&rn.layers.test(en.layers)&&(I.pushLight(rn),rn.castShadow&&I.pushShadow(rn))}),I.setupLights();const Dt=new WeakMap;Re.traverse(function(rn){const Un=rn.material;if(Un)if(Array.isArray(Un))for(let ni=0;ni<Un.length;ni++){const vi=Un[ni];Dt.has(vi)===!1&&(Ug(vi,Re,rn),Dt.set(vi))}else Dt.has(Un)===!1&&(Ug(Un,Re,rn),Dt.set(Un))})};let B1=null;const Jy=new lg;function kE(Re,en,Dt,rn){if(Re.visible===!1)return;if(Re.layers.test(en.layers)){if(Re.isGroup)Dt=Re.renderOrder;else if(Re.isLOD)Re.autoUpdate===!0&&Re.update(en);else if(Re.isLight)I.pushLight(Re),Re.castShadow&&I.pushShadow(Re);else if(Re.isSprite){if(!Re.frustumCulled||Cn.intersectsSprite(Re)){rn&&Ve.setFromMatrixPosition(Re.matrixWorld).applyMatrix4(hi);const ni=qn.update(Re),vi=Re.material;vi.visible&&L.push(Re,ni,vi,Dt,Ve.z,null)}}else if(Re.isImmediateRenderObject)rn&&Ve.setFromMatrixPosition(Re.matrixWorld).applyMatrix4(hi),L.push(Re,null,Re.material,Dt,Ve.z,null);else if((Re.isMesh||Re.isLine||Re.isPoints)&&(Re.isSkinnedMesh&&Re.skeleton.frame!==gn.render.frame&&(Re.skeleton.update(),Re.skeleton.frame=gn.render.frame),!Re.frustumCulled||Cn.intersectsObject(Re))){rn&&Ve.setFromMatrixPosition(Re.matrixWorld).applyMatrix4(hi);const ni=qn.update(Re),vi=Re.material;if(Array.isArray(vi)){const os=ni.groups;for(let si=0,na=os.length;si<na;si++){const wa=os[si],Vr=vi[wa.materialIndex];Vr&&Vr.visible&&L.push(Re,ni,Vr,Dt,Ve.z,wa)}}else vi.visible&&L.push(Re,ni,vi,Dt,Ve.z,null)}}const Un=Re.children;for(let ni=0,vi=Un.length;ni<vi;ni++)kE(Un[ni],en,Dt,rn)}function OE(Re,en,Dt){const rn=en.isScene===!0?en.overrideMaterial:null;for(let Un=0,ni=Re.length;Un<ni;Un++){const vi=Re[Un],os=vi.object,si=vi.geometry,na=rn===null?vi.material:rn,wa=vi.group;if(Dt.isArrayCamera){const Vr=Dt.cameras;for(let Ro=0,dd=Vr.length;Ro<dd;Ro++){const Hi=Vr[Ro];os.layers.test(Hi.layers)&&($t.viewport(Te.copy(Hi.viewport)),I.setupLightsView(Hi),IE(os,en,Hi,si,na,wa))}}else IE(os,en,Dt,si,na,wa)}}function IE(Re,en,Dt,rn,Un,ni){if(Re.onBeforeRender(H,en,Dt,rn,Un,ni),Re.modelViewMatrix.multiplyMatrices(Dt.matrixWorldInverse,Re.matrixWorld),Re.normalMatrix.getNormalMatrix(Re.modelViewMatrix),Re.isImmediateRenderObject){const vi=DE(Dt,en,Un,Re);$t.setMaterial(Un),rl.reset(),function(os,si){os.render(function(na){H.renderBufferImmediate(na,si)})}(Re,vi)}else H.renderBufferDirect(Dt,en,rn,Un,Re,ni);Re.onAfterRender(H,en,Dt,rn,Un,ni)}function Ug(Re,en,Dt){en.isScene!==!0&&(en=ot);const rn=Rt.get(Re),Un=I.state.lights,ni=I.state.shadowsArray,vi=Un.state.version,os=Zn.getParameters(Re,Un.state,ni,en,Dt),si=Zn.getProgramCacheKey(os);let na=rn.program,wa=!0;if(na===void 0)Re.addEventListener("dispose",PE);else if(na.cacheKey!==si)RE(Re);else if(rn.lightsStateVersion!==vi)wa=!1;else{if(os.shaderID!==void 0){const Hi=Re.isMeshStandardMaterial?en.environment:null;return void(rn.envMap=Qt.get(Re.envMap||Hi))}wa=!1}wa&&(os.uniforms=Zn.getUniforms(Re),Re.onBeforeCompile(os,H),na=Zn.acquireProgram(os,si),rn.program=na,rn.uniforms=os.uniforms,rn.outputEncoding=os.outputEncoding);const Vr=rn.uniforms;(Re.isShaderMaterial||Re.isRawShaderMaterial)&&Re.clipping!==!0||(rn.numClippingPlanes=As.numPlanes,rn.numIntersection=As.numIntersection,Vr.clippingPlanes=As.uniform),rn.environment=Re.isMeshStandardMaterial?en.environment:null,rn.fog=en.fog,rn.envMap=Qt.get(Re.envMap||rn.environment),rn.needsLights=function(Hi){return Hi.isMeshLambertMaterial||Hi.isMeshToonMaterial||Hi.isMeshPhongMaterial||Hi.isMeshStandardMaterial||Hi.isShadowMaterial||Hi.isShaderMaterial&&Hi.lights===!0}(Re),rn.lightsStateVersion=vi,rn.needsLights&&(Vr.ambientLightColor.value=Un.state.ambient,Vr.lightProbe.value=Un.state.probe,Vr.directionalLights.value=Un.state.directional,Vr.directionalLightShadows.value=Un.state.directionalShadow,Vr.spotLights.value=Un.state.spot,Vr.spotLightShadows.value=Un.state.spotShadow,Vr.rectAreaLights.value=Un.state.rectArea,Vr.ltc_1.value=Un.state.rectAreaLTC1,Vr.ltc_2.value=Un.state.rectAreaLTC2,Vr.pointLights.value=Un.state.point,Vr.pointLightShadows.value=Un.state.pointShadow,Vr.hemisphereLights.value=Un.state.hemi,Vr.directionalShadowMap.value=Un.state.directionalShadowMap,Vr.directionalShadowMatrix.value=Un.state.directionalShadowMatrix,Vr.spotShadowMap.value=Un.state.spotShadowMap,Vr.spotShadowMatrix.value=Un.state.spotShadowMatrix,Vr.pointShadowMap.value=Un.state.pointShadowMap,Vr.pointShadowMatrix.value=Un.state.pointShadowMatrix);const Ro=rn.program.getUniforms(),dd=Sc.seqWithValue(Ro.seq,Vr);rn.uniformsList=dd}function DE(Re,en,Dt,rn){en.isScene!==!0&&(en=ot),bt.resetTextureUnits();const Un=en.fog,ni=Dt.isMeshStandardMaterial?en.environment:null,vi=xe===null?H.outputEncoding:xe.texture.encoding,os=Qt.get(Dt.envMap||ni),si=Rt.get(Dt),na=I.state.lights;if(vr===!0&&(yr===!0||Re!==Ne)){const ra=Re===Ne&&Dt.id===Me;As.setState(Dt,Re,ra)}Dt.version===si.__version?Dt.fog&&si.fog!==Un||si.environment!==ni||si.needsLights&&si.lightsStateVersion!==na.state.version?Ug(Dt,en,rn):si.numClippingPlanes===void 0||si.numClippingPlanes===As.numPlanes&&si.numIntersection===As.numIntersection?(si.outputEncoding!==vi||si.envMap!==os)&&Ug(Dt,en,rn):Ug(Dt,en,rn):(Ug(Dt,en,rn),si.__version=Dt.version);let wa=!1,Vr=!1,Ro=!1;const dd=si.program,Hi=dd.getUniforms(),qp=si.uniforms;if($t.useProgram(dd.program)&&(wa=!0,Vr=!0,Ro=!0),Dt.id!==Me&&(Me=Dt.id,Vr=!0),wa||Ne!==Re){if(Hi.setValue(Hn,"projectionMatrix",Re.projectionMatrix),De.logarithmicDepthBuffer&&Hi.setValue(Hn,"logDepthBufFC",2/(Math.log(Re.far+1)/Math.LN2)),Ne!==Re&&(Ne=Re,Vr=!0,Ro=!0),Dt.isShaderMaterial||Dt.isMeshPhongMaterial||Dt.isMeshToonMaterial||Dt.isMeshStandardMaterial||Dt.envMap){const ra=Hi.map.cameraPosition;ra!==void 0&&ra.setValue(Hn,Ve.setFromMatrixPosition(Re.matrixWorld))}(Dt.isMeshPhongMaterial||Dt.isMeshToonMaterial||Dt.isMeshLambertMaterial||Dt.isMeshBasicMaterial||Dt.isMeshStandardMaterial||Dt.isShaderMaterial)&&Hi.setValue(Hn,"isOrthographic",Re.isOrthographicCamera===!0),(Dt.isMeshPhongMaterial||Dt.isMeshToonMaterial||Dt.isMeshLambertMaterial||Dt.isMeshBasicMaterial||Dt.isMeshStandardMaterial||Dt.isShaderMaterial||Dt.isShadowMaterial||Dt.skinning)&&Hi.setValue(Hn,"viewMatrix",Re.matrixWorldInverse)}if(Dt.skinning){Hi.setOptional(Hn,rn,"bindMatrix"),Hi.setOptional(Hn,rn,"bindMatrixInverse");const ra=rn.skeleton;if(ra){const H1=ra.bones;if(De.floatVertexTextures){if(ra.boneTexture===null){let Ql=Math.sqrt(4*H1.length);Ql=Tn.ceilPowerOfTwo(Ql),Ql=Math.max(Ql,4);const fd=new Float32Array(Ql*Ql*4);fd.set(ra.boneMatrices);const u2=new Bi(fd,Ql,Ql,mi,Ps);ra.boneMatrices=fd,ra.boneTexture=u2,ra.boneTextureSize=Ql}Hi.setValue(Hn,"boneTexture",ra.boneTexture,bt),Hi.setValue(Hn,"boneTextureSize",ra.boneTextureSize)}else Hi.setOptional(Hn,ra,"boneMatrices")}}var Mu,Au;return(Vr||si.receiveShadow!==rn.receiveShadow)&&(si.receiveShadow=rn.receiveShadow,Hi.setValue(Hn,"receiveShadow",rn.receiveShadow)),Vr&&(Hi.setValue(Hn,"toneMappingExposure",H.toneMappingExposure),si.needsLights&&(Au=Ro,(Mu=qp).ambientLightColor.needsUpdate=Au,Mu.lightProbe.needsUpdate=Au,Mu.directionalLights.needsUpdate=Au,Mu.directionalLightShadows.needsUpdate=Au,Mu.pointLights.needsUpdate=Au,Mu.pointLightShadows.needsUpdate=Au,Mu.spotLights.needsUpdate=Au,Mu.spotLightShadows.needsUpdate=Au,Mu.rectAreaLights.needsUpdate=Au,Mu.hemisphereLights.needsUpdate=Au),Un&&Dt.fog&&Gr.refreshFogUniforms(qp,Un),Gr.refreshMaterialUniforms(qp,Dt,wt,Nt),Sc.upload(Hn,si.uniformsList,qp,bt)),Dt.isShaderMaterial&&Dt.uniformsNeedUpdate===!0&&(Sc.upload(Hn,si.uniformsList,qp,bt),Dt.uniformsNeedUpdate=!1),Dt.isSpriteMaterial&&Hi.setValue(Hn,"center",rn.center),Hi.setValue(Hn,"modelViewMatrix",rn.modelViewMatrix),Hi.setValue(Hn,"normalMatrix",rn.normalMatrix),Hi.setValue(Hn,"modelMatrix",rn.matrixWorld),dd}Jy.setAnimationLoop(function(Re){Lf.isPresenting||B1&&B1(Re)}),typeof window<"u"&&Jy.setContext(window),this.setAnimationLoop=function(Re){B1=Re,Lf.setAnimationLoop(Re),Re===null?Jy.stop():Jy.start()},this.render=function(Re,en){let Dt,rn;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Dt=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),rn=arguments[3]),en!==void 0&&en.isCamera!==!0)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(K===!0)return;rl.resetDefaultState(),Me=-1,Ne=null,Re.autoUpdate===!0&&Re.updateMatrixWorld(),en.parent===null&&en.updateMatrixWorld(),Lf.enabled===!0&&Lf.isPresenting===!0&&(en=Lf.getCamera(en)),Re.isScene===!0&&Re.onBeforeRender(H,Re,en,Dt||xe),I=ki.get(Re,F.length),I.init(),F.push(I),hi.multiplyMatrices(en.projectionMatrix,en.matrixWorldInverse),Cn.setFromProjectionMatrix(hi),yr=this.localClippingEnabled,vr=As.init(this.clippingPlanes,yr,en),L=Ar.get(Re,en),L.init(),kE(Re,en,0,H.sortObjects),L.finish(),H.sortObjects===!0&&L.sort(Vt,mn),vr===!0&&As.beginShadows();const Un=I.state.shadowsArray;TE.render(Un,Re,en),I.setupLights(),I.setupLightsView(en),vr===!0&&As.endShadows(),this.info.autoReset===!0&&this.info.reset(),Dt!==void 0&&this.setRenderTarget(Dt),Ph.render(L,Re,en,rn);const ni=L.opaque,vi=L.transparent;ni.length>0&&OE(ni,Re,en),vi.length>0&&OE(vi,Re,en),Re.isScene===!0&&Re.onAfterRender(H,Re,en),xe!==null&&(bt.updateRenderTargetMipmap(xe),bt.updateMultisampleRenderTarget(xe)),$t.buffers.depth.setTest(!0),$t.buffers.depth.setMask(!0),$t.buffers.color.setMask(!0),$t.setPolygonOffset(!1),F.pop(),I=F.length>0?F[F.length-1]:null,L=null},this.setFramebuffer=function(Re){$!==Re&&xe===null&&Hn.bindFramebuffer(36160,Re),$=Re},this.getActiveCubeFace=function(){return ee},this.getActiveMipmapLevel=function(){return me},this.getRenderList=function(){return L},this.setRenderList=function(Re){L=Re},this.getRenderTarget=function(){return xe},this.setRenderTarget=function(Re,en=0,Dt=0){xe=Re,ee=en,me=Dt,Re&&Rt.get(Re).__webglFramebuffer===void 0&&bt.setupRenderTarget(Re);let rn=$,Un=!1;if(Re){const ni=Rt.get(Re).__webglFramebuffer;Re.isWebGLCubeRenderTarget?(rn=ni[en],Un=!0):rn=Re.isWebGLMultisampleRenderTarget?Rt.get(Re).__webglMultisampledFramebuffer:ni,Te.copy(Re.viewport),ut.copy(Re.scissor),vt=Re.scissorTest}else Te.copy(cn).multiplyScalar(wt).floor(),ut.copy(ur).multiplyScalar(wt).floor(),vt=kn;if(Ee!==rn&&(Hn.bindFramebuffer(36160,rn),Ee=rn),$t.viewport(Te),$t.scissor(ut),$t.setScissorTest(vt),Un){const ni=Rt.get(Re.texture);Hn.framebufferTexture2D(36160,36064,34069+en,ni.__webglTexture,Dt)}},this.readRenderTargetPixels=function(Re,en,Dt,rn,Un,ni,vi){if(!Re||!Re.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let os=Rt.get(Re).__webglFramebuffer;if(Re.isWebGLCubeRenderTarget&&vi!==void 0&&(os=os[vi]),os){let si=!1;os!==Ee&&(Hn.bindFramebuffer(36160,os),si=!0);try{const na=Re.texture,wa=na.format,Vr=na.type;if(wa!==mi&&ac.convert(wa)!==Hn.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(Vr===ar||ac.convert(Vr)===Hn.getParameter(35738)||Vr===Ps&&(De.isWebGL2||Ft.get("OES_texture_float")||Ft.get("WEBGL_color_buffer_float"))||Vr===Kr&&(De.isWebGL2?Ft.get("EXT_color_buffer_float"):Ft.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Hn.checkFramebufferStatus(36160)===36053?en>=0&&en<=Re.width-rn&&Dt>=0&&Dt<=Re.height-Un&&Hn.readPixels(en,Dt,rn,Un,ac.convert(wa),ac.convert(Vr),ni):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{si&&Hn.bindFramebuffer(36160,Ee)}}},this.copyFramebufferToTexture=function(Re,en,Dt=0){const rn=Math.pow(2,-Dt),Un=Math.floor(en.image.width*rn),ni=Math.floor(en.image.height*rn),vi=ac.convert(en.format);bt.setTexture2D(en,0),Hn.copyTexImage2D(3553,Dt,vi,Re.x,Re.y,Un,ni,0),$t.unbindTexture()},this.copyTextureToTexture=function(Re,en,Dt,rn=0){const Un=en.image.width,ni=en.image.height,vi=ac.convert(Dt.format),os=ac.convert(Dt.type);bt.setTexture2D(Dt,0),Hn.pixelStorei(37440,Dt.flipY),Hn.pixelStorei(37441,Dt.premultiplyAlpha),Hn.pixelStorei(3317,Dt.unpackAlignment),en.isDataTexture?Hn.texSubImage2D(3553,rn,Re.x,Re.y,Un,ni,vi,os,en.image.data):en.isCompressedTexture?Hn.compressedTexSubImage2D(3553,rn,Re.x,Re.y,en.mipmaps[0].width,en.mipmaps[0].height,vi,en.mipmaps[0].data):Hn.texSubImage2D(3553,rn,Re.x,Re.y,vi,os,en.image),rn===0&&Dt.generateMipmaps&&Hn.generateMipmap(3553),$t.unbindTexture()},this.initTexture=function(Re){bt.setTexture2D(Re,0),$t.unbindTexture()},this.resetState=function(){$t.reset(),rl.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function bg(t){of.call(this,t)}sf.prototype=Object.assign(Object.create(eo.prototype),{constructor:sf,isArrayCamera:!0}),Zu.prototype=Object.assign(Object.create(D.prototype),{constructor:Zu,isGroup:!0}),Object.assign(Ap.prototype,{constructor:Ap,getHandSpace:function(){if(this._hand===null&&(this._hand=new Zu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){const e=new Zu;e.matrixAutoUpdate=!1,e.visible=!1,this._hand.joints.push(e),this._hand.add(e)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new Zu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new Zu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(t,e,i){let o=null,l=null,d=null;const g=this._targetRay,v=this._grip,w=this._hand;if(t&&e.session.visibilityState!=="visible-blurred")if(w&&t.hand){d=!0;for(let S=0;S<=window.XRHand.LITTLE_PHALANX_TIP;S++)if(t.hand[S]){const R=e.getJointPose(t.hand[S],i),L=w.joints[S];R!==null&&(L.matrix.fromArray(R.transform.matrix),L.matrix.decompose(L.position,L.rotation,L.scale),L.jointRadius=R.radius),L.visible=R!==null;const I=w.joints[window.XRHand.INDEX_PHALANX_TIP],F=w.joints[window.XRHand.THUMB_PHALANX_TIP],H=I.position.distanceTo(F.position),K=.02,$=.005;w.inputState.pinching&&H>K+$?(w.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!w.inputState.pinching&&H<=K-$&&(w.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else g!==null&&(o=e.getPose(t.targetRaySpace,i),o!==null&&(g.matrix.fromArray(o.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale))),v!==null&&t.gripSpace&&(l=e.getPose(t.gripSpace,i),l!==null&&(v.matrix.fromArray(l.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale)));return g!==null&&(g.visible=o!==null),v!==null&&(v.visible=l!==null),w!==null&&(w.visible=d!==null),this}}),Object.assign(Ly.prototype,rs.prototype),bg.prototype=Object.assign(Object.create(of.prototype),{constructor:bg,isWebGL1Renderer:!0});class Tp{constructor(e,i){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new zt(e),this.density=i!==void 0?i:25e-5}clone(){return new Tp(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class wg{constructor(e,i,o){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new zt(e),this.near=i!==void 0?i:1,this.far=o!==void 0?o:1e3}clone(){return new wg(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class za extends D{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,i){return super.copy(e,i),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const i=super.toJSON(e);return this.background!==null&&(i.object.background=this.background.toJSON(e)),this.environment!==null&&(i.object.environment=this.environment.toJSON(e)),this.fog!==null&&(i.object.fog=this.fog.toJSON()),i}}function gs(t,e){this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=Ii,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Tn.generateUUID()}Object.defineProperty(gs.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Object.assign(gs.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(let o=0,l=this.stride;o<l;o++)this.array[t+o]=e.array[i+o];return this},set:function(t,e=0){return this.array.set(t,e),this},clone:function(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tn.generateUUID()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new gs(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tn.generateUUID()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const fh=new ye;function Mc(t,e,i,o){this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=o===!0}function Ac(t){yn.call(this),this.type="SpriteMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}let rd;Object.defineProperties(Mc.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(Mc.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,i=this.data.count;e<i;e++)fh.x=this.getX(e),fh.y=this.getY(e),fh.z=this.getZ(e),fh.applyMatrix4(t),this.setXYZ(e,fh.x,fh.y,fh.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,o){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=o,this},setXYZW:function(t,e,i,o,l){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=o,this.data.array[t+3]=l,this},clone:function(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)e.push(this.data.array[o+l])}return new Xn(new this.array.constructor(e),this.itemSize,this.normalized)}return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Mc(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)e.push(this.data.array[o+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),Ac.prototype=Object.create(yn.prototype),Ac.prototype.constructor=Ac,Ac.prototype.isSpriteMaterial=!0,Ac.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};const af=new ye,ph=new ye,id=new ye,mh=new It,lf=new It,Py=new Pr,uf=new ye,sd=new ye,Cp=new ye,_g=new It,cf=new It,sb=new It;function hf(t){if(D.call(this),this.type="Sprite",rd===void 0){rd=new $n;const e=new gs(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);rd.setIndex([0,1,2,0,2,3]),rd.setAttribute("position",new Mc(e,3,0,!1)),rd.setAttribute("uv",new Mc(e,2,3,!1))}this.geometry=rd,this.material=t!==void 0?t:new Ac,this.center=new It(.5,.5)}function df(t,e,i,o,l,d){mh.subVectors(t,i).addScalar(.5).multiply(o),l!==void 0?(lf.x=d*mh.x-l*mh.y,lf.y=l*mh.x+d*mh.y):lf.copy(mh),t.copy(e),t.x+=lf.x,t.y+=lf.y,t.applyMatrix4(Py)}hf.prototype=Object.assign(Object.create(D.prototype),{constructor:hf,isSprite:!0,raycast:function(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ph.setFromMatrixScale(this.matrixWorld),Py.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),id.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ph.multiplyScalar(-id.z);const i=this.material.rotation;let o,l;i!==0&&(l=Math.cos(i),o=Math.sin(i));const d=this.center;df(uf.set(-.5,-.5,0),id,d,ph,o,l),df(sd.set(.5,-.5,0),id,d,ph,o,l),df(Cp.set(.5,.5,0),id,d,ph,o,l),_g.set(0,0),cf.set(1,0),sb.set(1,1);let g=t.ray.intersectTriangle(uf,sd,Cp,!1,af);if(g===null&&(df(sd.set(-.5,.5,0),id,d,ph,o,l),cf.set(0,1),g=t.ray.intersectTriangle(uf,Cp,sd,!1,af),g===null))return;const v=t.ray.origin.distanceTo(af);v<t.near||v>t.far||e.push({distance:v,point:af.clone(),uv:Wt.getUV(af,uf,sd,Cp,_g,cf,sb,new It),face:null,object:this})},copy:function(t){return D.prototype.copy.call(this,t),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}});const Lp=new ye,Pp=new ye;function kl(){D.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}kl.prototype=Object.assign(Object.create(D.prototype),{constructor:kl,isLOD:!0,copy:function(t){D.prototype.copy.call(this,t,!1);const e=t.levels;for(let i=0,o=e.length;i<o;i++){const l=e[i];this.addLevel(l.object.clone(),l.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e=0){e=Math.abs(e);const i=this.levels;let o;for(o=0;o<i.length&&!(e<i[o].distance);o++);return i.splice(o,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let i,o;for(i=1,o=e.length;i<o&&!(t<e[i].distance);i++);return e[i-1].object}return null},raycast:function(t,e){if(this.levels.length>0){Lp.setFromMatrixPosition(this.matrixWorld);const i=t.ray.origin.distanceTo(Lp);this.getObjectForDistance(i).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){Lp.setFromMatrixPosition(t.matrixWorld),Pp.setFromMatrixPosition(this.matrixWorld);const i=Lp.distanceTo(Pp)/t.zoom;let o,l;for(e[0].object.visible=!0,o=1,l=e.length;o<l&&i>=e[o].distance;o++)e[o-1].object.visible=!1,e[o].object.visible=!0;for(this._currentLevel=o-1;o<l;o++)e[o].object.visible=!1}},toJSON:function(t){const e=D.prototype.toJSON.call(this,t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let o=0,l=i.length;o<l;o++){const d=i[o];e.object.levels.push({object:d.object.uuid,distance:d.distance})}return e}});const ob=new ye,Ry=new Di,Sg=new Di,ab=new ye,ky=new Pr;function Tc(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),ss.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Pr,this.bindMatrixInverse=new Pr}function Mo(){D.call(this),this.type="Bone"}Tc.prototype=Object.assign(Object.create(ss.prototype),{constructor:Tc,isSkinnedMesh:!0,copy:function(t){return ss.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new Di,e=this.geometry.attributes.skinWeight;for(let i=0,o=e.count;i<o;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);const l=1/t.manhattanLength();l!==1/0?t.multiplyScalar(l):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){ss.prototype.updateMatrixWorld.call(this,t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(t,e){const i=this.skeleton,o=this.geometry;Ry.fromBufferAttribute(o.attributes.skinIndex,t),Sg.fromBufferAttribute(o.attributes.skinWeight,t),ob.fromBufferAttribute(o.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let l=0;l<4;l++){const d=Sg.getComponent(l);if(d!==0){const g=Ry.getComponent(l);ky.multiplyMatrices(i.bones[g].matrixWorld,i.boneInverses[g]),e.addScaledVector(ab.copy(ob).applyMatrix4(ky),d)}}return e.applyMatrix4(this.bindMatrixInverse)}}),Mo.prototype=Object.assign(Object.create(D.prototype),{constructor:Mo,isBone:!0});const lb=new Pr,h1=new Pr;function gh(t=[],e=[]){this.uuid=Tn.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(gh.prototype,{init:function(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new Pr)}},calculateInverses:function(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new Pr;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}},update:function(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,o=this.boneTexture;for(let l=0,d=t.length;l<d;l++){const g=t[l]?t[l].matrixWorld:h1;lb.multiplyMatrices(g,e[l]),lb.toArray(i,16*l)}o!==null&&(o.needsUpdate=!0)},clone:function(){return new gh(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,i=this.bones.length;e<i;e++){const o=this.bones[e];if(o.name===t)return o}},dispose:function(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(let i=0,o=t.bones.length;i<o;i++){const l=t.bones[i];let d=e[l];d===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",l),d=new Mo),this.bones.push(d),this.boneInverses.push(new Pr().fromArray(t.boneInverses[i]))}return this.init(),this},toJSON:function(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let o=0,l=e.length;o<l;o++){const d=e[o];t.bones.push(d.uuid);const g=i[o];t.boneInverses.push(g.toArray())}return t}});const ya=new Pr,ub=new Pr,Yn=[],Ku=new ss;function ff(t,e,i){ss.call(this,t,e),this.instanceMatrix=new Xn(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}function ks(t){yn.call(this),this.type="LineBasicMaterial",this.color=new zt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}ff.prototype=Object.assign(Object.create(ss.prototype),{constructor:ff,isInstancedMesh:!0,copy:function(t){return ss.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){const i=this.matrixWorld,o=this.count;if(Ku.geometry=this.geometry,Ku.material=this.material,Ku.material!==void 0)for(let l=0;l<o;l++){this.getMatrixAt(l,ya),ub.multiplyMatrices(i,ya),Ku.matrixWorld=ub,Ku.raycast(t,Yn);for(let d=0,g=Yn.length;d<g;d++){const v=Yn[d];v.instanceId=l,v.object=this,e.push(v)}Yn.length=0}},setColorAt:function(t,e){this.instanceColor===null&&(this.instanceColor=new Xn(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ks.prototype=Object.create(yn.prototype),ks.prototype.constructor=ks,ks.prototype.isLineBasicMaterial=!0,ks.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const cb=new ye,pf=new ye,Rp=new Pr,mf=new ps,kp=new ma;function Ol(t=new $n,e=new ks){D.call(this),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}Ol.prototype=Object.assign(Object.create(D.prototype),{constructor:Ol,isLine:!0,copy:function(t){return D.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,i=[0];for(let o=1,l=e.count;o<l;o++)cb.fromBufferAttribute(e,o-1),pf.fromBufferAttribute(e,o),i[o]=i[o-1],i[o]+=cb.distanceTo(pf);t.setAttribute("lineDistance",new Dn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,i=t.lineDistances;i[0]=0;for(let o=1,l=e.length;o<l;o++)i[o]=i[o-1],i[o]+=e[o-1].distanceTo(e[o])}return this},raycast:function(t,e){const i=this.geometry,o=this.matrixWorld,l=t.params.Line.threshold;if(i.boundingSphere===null&&i.computeBoundingSphere(),kp.copy(i.boundingSphere),kp.applyMatrix4(o),kp.radius+=l,t.ray.intersectsSphere(kp)===!1)return;Rp.copy(o).invert(),mf.copy(t.ray).applyMatrix4(Rp);const d=l/((this.scale.x+this.scale.y+this.scale.z)/3),g=d*d,v=new ye,w=new ye,S=new ye,R=new ye,L=this.isLineSegments?2:1;if(i.isBufferGeometry){const I=i.index,F=i.attributes.position;if(I!==null){const H=I.array;for(let K=0,$=H.length-1;K<$;K+=L){const ee=H[K],me=H[K+1];if(v.fromBufferAttribute(F,ee),w.fromBufferAttribute(F,me),mf.distanceSqToSegment(v,w,R,S)>g)continue;R.applyMatrix4(this.matrixWorld);const xe=t.ray.origin.distanceTo(R);xe<t.near||xe>t.far||e.push({distance:xe,point:S.clone().applyMatrix4(this.matrixWorld),index:K,face:null,faceIndex:null,object:this})}}else for(let H=0,K=F.count-1;H<K;H+=L){if(v.fromBufferAttribute(F,H),w.fromBufferAttribute(F,H+1),mf.distanceSqToSegment(v,w,R,S)>g)continue;R.applyMatrix4(this.matrixWorld);const $=t.ray.origin.distanceTo(R);$<t.near||$>t.far||e.push({distance:$,point:S.clone().applyMatrix4(this.matrixWorld),index:H,face:null,faceIndex:null,object:this})}}else if(i.isGeometry){const I=i.vertices,F=I.length;for(let H=0;H<F-1;H+=L){if(mf.distanceSqToSegment(I[H],I[H+1],R,S)>g)continue;R.applyMatrix4(this.matrixWorld);const K=t.ray.origin.distanceTo(R);K<t.near||K>t.far||e.push({distance:K,point:S.clone().applyMatrix4(this.matrixWorld),index:H,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const o=e[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,d=o.length;l<d;l++){const g=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[g]=l}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const Op=new ye,gf=new ye;function xa(t,e){Ol.call(this,t,e),this.type="LineSegments"}function Ao(t,e){Ol.call(this,t,e),this.type="LineLoop"}function po(t){yn.call(this),this.type="PointsMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}xa.prototype=Object.assign(Object.create(Ol.prototype),{constructor:xa,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,i=[];for(let o=0,l=e.count;o<l;o+=2)Op.fromBufferAttribute(e,o),gf.fromBufferAttribute(e,o+1),i[o]=o===0?0:i[o-1],i[o+1]=i[o]+Op.distanceTo(gf);t.setAttribute("lineDistance",new Dn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,i=t.lineDistances;for(let o=0,l=e.length;o<l;o+=2)Op.copy(e[o]),gf.copy(e[o+1]),i[o]=o===0?0:i[o-1],i[o+1]=i[o]+Op.distanceTo(gf)}return this}}),Ao.prototype=Object.assign(Object.create(Ol.prototype),{constructor:Ao,isLineLoop:!0}),po.prototype=Object.create(yn.prototype),po.prototype.constructor=po,po.prototype.isPointsMaterial=!0,po.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const Cc=new Pr,Eg=new ps,Ip=new ma,fl=new ye;function od(t=new $n,e=new po){D.call(this),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}function Yl(t,e,i,o,l,d,g){const v=Eg.distanceSqToPoint(t);if(v<i){const w=new ye;Eg.closestPointToPoint(t,w),w.applyMatrix4(o);const S=l.ray.origin.distanceTo(w);if(S<l.near||S>l.far)return;d.push({distance:S,distanceToRay:Math.sqrt(v),point:w,index:e,face:null,object:g})}}function Oy(t,e,i,o,l,d,g,v,w){ii.call(this,t,e,i,o,l,d,g,v,w),this.format=g!==void 0?g:ws,this.minFilter=d!==void 0?d:Sr,this.magFilter=l!==void 0?l:Sr,this.generateMipmaps=!1;const S=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function R(){S.needsUpdate=!0,t.requestVideoFrameCallback(R)})}function ad(t,e,i,o,l,d,g,v,w,S,R,L){ii.call(this,null,d,g,v,w,S,o,l,R,L),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function vf(t,e,i,o,l,d,g,v,w){ii.call(this,t,e,i,o,l,d,g,v,w),this.needsUpdate=!0}function yf(t,e,i,o,l,d,g,v,w,S){if((S=S!==void 0?S:Ks)!==Ks&&S!==_s)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&S===Ks&&(i=Ui),i===void 0&&S===_s&&(i=So),ii.call(this,null,o,l,d,g,v,S,i,w),this.image={width:t,height:e},this.magFilter=g!==void 0?g:tr,this.minFilter=v!==void 0?v:tr,this.flipY=!1,this.generateMipmaps=!1}od.prototype=Object.assign(Object.create(D.prototype),{constructor:od,isPoints:!0,copy:function(t){return D.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const i=this.geometry,o=this.matrixWorld,l=t.params.Points.threshold;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ip.copy(i.boundingSphere),Ip.applyMatrix4(o),Ip.radius+=l,t.ray.intersectsSphere(Ip)===!1)return;Cc.copy(o).invert(),Eg.copy(t.ray).applyMatrix4(Cc);const d=l/((this.scale.x+this.scale.y+this.scale.z)/3),g=d*d;if(i.isBufferGeometry){const v=i.index,w=i.attributes.position;if(v!==null){const S=v.array;for(let R=0,L=S.length;R<L;R++){const I=S[R];fl.fromBufferAttribute(w,I),Yl(fl,I,g,o,t,e,this)}}else for(let S=0,R=w.count;S<R;S++)fl.fromBufferAttribute(w,S),Yl(fl,S,g,o,t,e,this)}else{const v=i.vertices;for(let w=0,S=v.length;w<S;w++)Yl(v[w],w,g,o,t,e,this)}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const o=e[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,d=o.length;l<d;l++){const g=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[g]=l}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),Oy.prototype=Object.assign(Object.create(ii.prototype),{constructor:Oy,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const t=this.image;!("requestVideoFrameCallback"in t)&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ad.prototype=Object.create(ii.prototype),ad.prototype.constructor=ad,ad.prototype.isCompressedTexture=!0,vf.prototype=Object.create(ii.prototype),vf.prototype.constructor=vf,vf.prototype.isCanvasTexture=!0,yf.prototype=Object.create(ii.prototype),yf.prototype.constructor=yf,yf.prototype.isDepthTexture=!0;let hb=0;const Ju=new Pr,xf=new D,bf=new ye;function ci(){Object.defineProperty(this,"id",{value:hb+=2}),this.uuid=Tn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}ci.prototype=Object.assign(Object.create(rs.prototype),{constructor:ci,isGeometry:!0,applyMatrix4:function(t){const e=new Gi().getNormalMatrix(t);for(let i=0,o=this.vertices.length;i<o;i++)this.vertices[i].applyMatrix4(t);for(let i=0,o=this.faces.length;i<o;i++){const l=this.faces[i];l.normal.applyMatrix3(e).normalize();for(let d=0,g=l.vertexNormals.length;d<g;d++)l.vertexNormals[d].applyMatrix3(e).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return Ju.makeRotationX(t),this.applyMatrix4(Ju),this},rotateY:function(t){return Ju.makeRotationY(t),this.applyMatrix4(Ju),this},rotateZ:function(t){return Ju.makeRotationZ(t),this.applyMatrix4(Ju),this},translate:function(t,e,i){return Ju.makeTranslation(t,e,i),this.applyMatrix4(Ju),this},scale:function(t,e,i){return Ju.makeScale(t,e,i),this.applyMatrix4(Ju),this},lookAt:function(t){return xf.lookAt(t),xf.updateMatrix(),this.applyMatrix4(xf.matrix),this},fromBufferGeometry:function(t){const e=this,i=t.index!==null?t.index:void 0,o=t.attributes;if(o.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const l=o.position,d=o.normal,g=o.color,v=o.uv,w=o.uv2;w!==void 0&&(this.faceVertexUvs[1]=[]);for(let L=0;L<l.count;L++)e.vertices.push(new ye().fromBufferAttribute(l,L)),g!==void 0&&e.colors.push(new zt().fromBufferAttribute(g,L));function S(L,I,F,H){const K=g===void 0?[]:[e.colors[L].clone(),e.colors[I].clone(),e.colors[F].clone()],$=d===void 0?[]:[new ye().fromBufferAttribute(d,L),new ye().fromBufferAttribute(d,I),new ye().fromBufferAttribute(d,F)],ee=new Dr(L,I,F,$,K,H);e.faces.push(ee),v!==void 0&&e.faceVertexUvs[0].push([new It().fromBufferAttribute(v,L),new It().fromBufferAttribute(v,I),new It().fromBufferAttribute(v,F)]),w!==void 0&&e.faceVertexUvs[1].push([new It().fromBufferAttribute(w,L),new It().fromBufferAttribute(w,I),new It().fromBufferAttribute(w,F)])}const R=t.groups;if(R.length>0)for(let L=0;L<R.length;L++){const I=R[L],F=I.start;for(let H=F,K=F+I.count;H<K;H+=3)i!==void 0?S(i.getX(H),i.getX(H+1),i.getX(H+2),I.materialIndex):S(H,H+1,H+2,I.materialIndex)}else if(i!==void 0)for(let L=0;L<i.count;L+=3)S(i.getX(L),i.getX(L+1),i.getX(L+2));else for(let L=0;L<l.count;L+=3)S(L,L+1,L+2);return this.computeFaceNormals(),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(bf).negate(),this.translate(bf.x,bf.y,bf.z),this},normalize:function(){this.computeBoundingSphere();const t=this.boundingSphere.center,e=this.boundingSphere.radius,i=e===0?1:1/e,o=new Pr;return o.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix4(o),this},computeFaceNormals:function(){const t=new ye,e=new ye;for(let i=0,o=this.faces.length;i<o;i++){const l=this.faces[i],d=this.vertices[l.a],g=this.vertices[l.b],v=this.vertices[l.c];t.subVectors(v,g),e.subVectors(d,g),t.cross(e),t.normalize(),l.normal.copy(t)}},computeVertexNormals:function(t=!0){const e=new Array(this.vertices.length);for(let i=0,o=this.vertices.length;i<o;i++)e[i]=new ye;if(t){const i=new ye,o=new ye;for(let l=0,d=this.faces.length;l<d;l++){const g=this.faces[l],v=this.vertices[g.a],w=this.vertices[g.b],S=this.vertices[g.c];i.subVectors(S,w),o.subVectors(v,w),i.cross(o),e[g.a].add(i),e[g.b].add(i),e[g.c].add(i)}}else{this.computeFaceNormals();for(let i=0,o=this.faces.length;i<o;i++){const l=this.faces[i];e[l.a].add(l.normal),e[l.b].add(l.normal),e[l.c].add(l.normal)}}for(let i=0,o=this.vertices.length;i<o;i++)e[i].normalize();for(let i=0,o=this.faces.length;i<o;i++){const l=this.faces[i],d=l.vertexNormals;d.length===3?(d[0].copy(e[l.a]),d[1].copy(e[l.b]),d[2].copy(e[l.c])):(d[0]=e[l.a].clone(),d[1]=e[l.b].clone(),d[2]=e[l.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let t=0,e=this.faces.length;t<e;t++){const i=this.faces[t],o=i.vertexNormals;o.length===3?(o[0].copy(i.normal),o[1].copy(i.normal),o[2].copy(i.normal)):(o[0]=i.normal.clone(),o[1]=i.normal.clone(),o[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let e=0,i=this.faces.length;e<i;e++){const o=this.faces[e];o.__originalFaceNormal?o.__originalFaceNormal.copy(o.normal):o.__originalFaceNormal=o.normal.clone(),o.__originalVertexNormals||(o.__originalVertexNormals=[]);for(let l=0,d=o.vertexNormals.length;l<d;l++)o.__originalVertexNormals[l]?o.__originalVertexNormals[l].copy(o.vertexNormals[l]):o.__originalVertexNormals[l]=o.vertexNormals[l].clone()}const t=new ci;t.faces=this.faces;for(let e=0,i=this.morphTargets.length;e<i;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];const l=this.morphNormals[e].faceNormals,d=this.morphNormals[e].vertexNormals;for(let g=0,v=this.faces.length;g<v;g++){const w=new ye,S={a:new ye,b:new ye,c:new ye};l.push(w),d.push(S)}}const o=this.morphNormals[e];t.vertices=this.morphTargets[e].vertices,t.computeFaceNormals(),t.computeVertexNormals();for(let l=0,d=this.faces.length;l<d;l++){const g=this.faces[l],v=o.faceNormals[l],w=o.vertexNormals[l];v.copy(g.normal),w.a.copy(g.vertexNormals[0]),w.b.copy(g.vertexNormals[1]),w.c.copy(g.vertexNormals[2])}}for(let e=0,i=this.faces.length;e<i;e++){const o=this.faces[e];o.normal=o.__originalFaceNormal,o.vertexNormals=o.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Ka),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ma),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i=0){if(!t||!t.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);let o;const l=this.vertices.length,d=this.vertices,g=t.vertices,v=this.faces,w=t.faces,S=this.colors,R=t.colors;e!==void 0&&(o=new Gi().getNormalMatrix(e));for(let L=0,I=g.length;L<I;L++){const F=g[L].clone();e!==void 0&&F.applyMatrix4(e),d.push(F)}for(let L=0,I=R.length;L<I;L++)S.push(R[L].clone());for(let L=0,I=w.length;L<I;L++){const F=w[L];let H,K;const $=F.vertexNormals,ee=F.vertexColors,me=new Dr(F.a+l,F.b+l,F.c+l);me.normal.copy(F.normal),o!==void 0&&me.normal.applyMatrix3(o).normalize();for(let xe=0,Ee=$.length;xe<Ee;xe++)H=$[xe].clone(),o!==void 0&&H.applyMatrix3(o).normalize(),me.vertexNormals.push(H);me.color.copy(F.color);for(let xe=0,Ee=ee.length;xe<Ee;xe++)K=ee[xe],me.vertexColors.push(K.clone());me.materialIndex=F.materialIndex+i,v.push(me)}for(let L=0,I=t.faceVertexUvs.length;L<I;L++){const F=t.faceVertexUvs[L];this.faceVertexUvs[L]===void 0&&(this.faceVertexUvs[L]=[]);for(let H=0,K=F.length;H<K;H++){const $=F[H],ee=[];for(let me=0,xe=$.length;me<xe;me++)ee.push($[me].clone());this.faceVertexUvs[L].push(ee)}}},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(t=4){const e={},i=[],o=[],l=Math.pow(10,t);for(let v=0,w=this.vertices.length;v<w;v++){const S=this.vertices[v],R=Math.round(S.x*l)+"_"+Math.round(S.y*l)+"_"+Math.round(S.z*l);e[R]===void 0?(e[R]=v,i.push(this.vertices[v]),o[v]=i.length-1):o[v]=o[e[R]]}const d=[];for(let v=0,w=this.faces.length;v<w;v++){const S=this.faces[v];S.a=o[S.a],S.b=o[S.b],S.c=o[S.c];const R=[S.a,S.b,S.c];for(let L=0;L<3;L++)if(R[L]===R[(L+1)%3]){d.push(v);break}}for(let v=d.length-1;v>=0;v--){const w=d[v];this.faces.splice(w,1);for(let S=0,R=this.faceVertexUvs.length;S<R;S++)this.faceVertexUvs[S].splice(w,1)}const g=this.vertices.length-i.length;return this.vertices=i,g},setFromPoints:function(t){this.vertices=[];for(let e=0,i=t.length;e<i;e++){const o=t[e];this.vertices.push(new ye(o.x,o.y,o.z||0))}return this},sortFacesByMaterialIndex:function(){const t=this.faces,e=t.length;for(let g=0;g<e;g++)t[g]._id=g;t.sort(function(g,v){return g.materialIndex-v.materialIndex});const i=this.faceVertexUvs[0],o=this.faceVertexUvs[1];let l,d;i&&i.length===e&&(l=[]),o&&o.length===e&&(d=[]);for(let g=0;g<e;g++){const v=t[g]._id;l&&l.push(i[v]),d&&d.push(o[v])}l&&(this.faceVertexUvs[0]=l),d&&(this.faceVertexUvs[1]=d)},toJSON:function(){const t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),this.parameters!==void 0){const F=this.parameters;for(const H in F)F[H]!==void 0&&(t[H]=F[H]);return t}const e=[];for(let F=0;F<this.vertices.length;F++){const H=this.vertices[F];e.push(H.x,H.y,H.z)}const i=[],o=[],l={},d=[],g={},v=[],w={};for(let F=0;F<this.faces.length;F++){const H=this.faces[F],K=!0,$=!1,ee=this.faceVertexUvs[0][F]!==void 0,me=H.normal.length()>0,xe=H.vertexNormals.length>0,Ee=H.color.r!==1||H.color.g!==1||H.color.b!==1,Me=H.vertexColors.length>0;let Ne=0;if(Ne=S(Ne,0,0),Ne=S(Ne,1,K),Ne=S(Ne,2,$),Ne=S(Ne,3,ee),Ne=S(Ne,4,me),Ne=S(Ne,5,xe),Ne=S(Ne,6,Ee),Ne=S(Ne,7,Me),i.push(Ne),i.push(H.a,H.b,H.c),i.push(H.materialIndex),ee){const Te=this.faceVertexUvs[0][F];i.push(I(Te[0]),I(Te[1]),I(Te[2]))}if(me&&i.push(R(H.normal)),xe){const Te=H.vertexNormals;i.push(R(Te[0]),R(Te[1]),R(Te[2]))}if(Ee&&i.push(L(H.color)),Me){const Te=H.vertexColors;i.push(L(Te[0]),L(Te[1]),L(Te[2]))}}function S(F,H,K){return K?F|1<<H:F&~(1<<H)}function R(F){const H=F.x.toString()+F.y.toString()+F.z.toString();return l[H]!==void 0||(l[H]=o.length/3,o.push(F.x,F.y,F.z)),l[H]}function L(F){const H=F.r.toString()+F.g.toString()+F.b.toString();return g[H]!==void 0||(g[H]=d.length,d.push(F.getHex())),g[H]}function I(F){const H=F.x.toString()+F.y.toString();return w[H]!==void 0||(w[H]=v.length/2,v.push(F.x,F.y)),w[H]}return t.data={},t.data.vertices=e,t.data.normals=o,d.length>0&&(t.data.colors=d),v.length>0&&(t.data.uvs=[v]),t.data.faces=i,t},clone:function(){return new ci().copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;const e=t.vertices;for(let L=0,I=e.length;L<I;L++)this.vertices.push(e[L].clone());const i=t.colors;for(let L=0,I=i.length;L<I;L++)this.colors.push(i[L].clone());const o=t.faces;for(let L=0,I=o.length;L<I;L++)this.faces.push(o[L].clone());for(let L=0,I=t.faceVertexUvs.length;L<I;L++){const F=t.faceVertexUvs[L];this.faceVertexUvs[L]===void 0&&(this.faceVertexUvs[L]=[]);for(let H=0,K=F.length;H<K;H++){const $=F[H],ee=[];for(let me=0,xe=$.length;me<xe;me++){const Ee=$[me];ee.push(Ee.clone())}this.faceVertexUvs[L].push(ee)}}const l=t.morphTargets;for(let L=0,I=l.length;L<I;L++){const F={};if(F.name=l[L].name,l[L].vertices!==void 0){F.vertices=[];for(let H=0,K=l[L].vertices.length;H<K;H++)F.vertices.push(l[L].vertices[H].clone())}if(l[L].normals!==void 0){F.normals=[];for(let H=0,K=l[L].normals.length;H<K;H++)F.normals.push(l[L].normals[H].clone())}this.morphTargets.push(F)}const d=t.morphNormals;for(let L=0,I=d.length;L<I;L++){const F={};if(d[L].vertexNormals!==void 0){F.vertexNormals=[];for(let H=0,K=d[L].vertexNormals.length;H<K;H++){const $=d[L].vertexNormals[H],ee={};ee.a=$.a.clone(),ee.b=$.b.clone(),ee.c=$.c.clone(),F.vertexNormals.push(ee)}}if(d[L].faceNormals!==void 0){F.faceNormals=[];for(let H=0,K=d[L].faceNormals.length;H<K;H++)F.faceNormals.push(d[L].faceNormals[H].clone())}this.morphNormals.push(F)}const g=t.skinWeights;for(let L=0,I=g.length;L<I;L++)this.skinWeights.push(g[L].clone());const v=t.skinIndices;for(let L=0,I=v.length;L<I;L++)this.skinIndices.push(v[L].clone());const w=t.lineDistances;for(let L=0,I=w.length;L<I;L++)this.lineDistances.push(w[L]);const S=t.boundingBox;S!==null&&(this.boundingBox=S.clone());const R=t.boundingSphere;return R!==null&&(this.boundingSphere=R.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Mi extends ci{constructor(e,i,o,l,d,g){super(),this.type="BoxGeometry",this.parameters={width:e,height:i,depth:o,widthSegments:l,heightSegments:d,depthSegments:g},this.fromBufferGeometry(new Ia(e,i,o,l,d,g)),this.mergeVertices()}}class To extends $n{constructor(e=1,i=8,o=0,l=2*Math.PI){super(),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:i,thetaStart:o,thetaLength:l},i=Math.max(3,i);const d=[],g=[],v=[],w=[],S=new ye,R=new It;g.push(0,0,0),v.push(0,0,1),w.push(.5,.5);for(let L=0,I=3;L<=i;L++,I+=3){const F=o+L/i*l;S.x=e*Math.cos(F),S.y=e*Math.sin(F),g.push(S.x,S.y,S.z),v.push(0,0,1),R.x=(g[I]/e+1)/2,R.y=(g[I+1]/e+1)/2,w.push(R.x,R.y)}for(let L=1;L<=i;L++)d.push(L,L+1,0);this.setIndex(d),this.setAttribute("position",new Dn(g,3)),this.setAttribute("normal",new Dn(v,3)),this.setAttribute("uv",new Dn(w,2))}}class mo extends ci{constructor(e,i,o,l){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:i,thetaStart:o,thetaLength:l},this.fromBufferGeometry(new To(e,i,o,l)),this.mergeVertices()}}class go extends $n{constructor(e=1,i=1,o=1,l=8,d=1,g=!1,v=0,w=2*Math.PI){super(),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:i,height:o,radialSegments:l,heightSegments:d,openEnded:g,thetaStart:v,thetaLength:w};const S=this;l=Math.floor(l),d=Math.floor(d);const R=[],L=[],I=[],F=[];let H=0;const K=[],$=o/2;let ee=0;function me(xe){const Ee=H,Me=new It,Ne=new ye;let Te=0;const ut=xe===!0?e:i,vt=xe===!0?1:-1;for(let Nt=1;Nt<=l;Nt++)L.push(0,$*vt,0),I.push(0,vt,0),F.push(.5,.5),H++;const Gt=H;for(let Nt=0;Nt<=l;Nt++){const wt=Nt/l*w+v,Vt=Math.cos(wt),mn=Math.sin(wt);Ne.x=ut*mn,Ne.y=$*vt,Ne.z=ut*Vt,L.push(Ne.x,Ne.y,Ne.z),I.push(0,vt,0),Me.x=.5*Vt+.5,Me.y=.5*mn*vt+.5,F.push(Me.x,Me.y),H++}for(let Nt=0;Nt<l;Nt++){const wt=Ee+Nt,Vt=Gt+Nt;xe===!0?R.push(Vt,Vt+1,wt):R.push(Vt+1,Vt,wt),Te+=3}S.addGroup(ee,Te,xe===!0?1:2),ee+=Te}(function(){const xe=new ye,Ee=new ye;let Me=0;const Ne=(i-e)/o;for(let Te=0;Te<=d;Te++){const ut=[],vt=Te/d,Gt=vt*(i-e)+e;for(let Nt=0;Nt<=l;Nt++){const wt=Nt/l,Vt=wt*w+v,mn=Math.sin(Vt),cn=Math.cos(Vt);Ee.x=Gt*mn,Ee.y=-vt*o+$,Ee.z=Gt*cn,L.push(Ee.x,Ee.y,Ee.z),xe.set(mn,Ne,cn).normalize(),I.push(xe.x,xe.y,xe.z),F.push(wt,1-vt),ut.push(H++)}K.push(ut)}for(let Te=0;Te<l;Te++)for(let ut=0;ut<d;ut++){const vt=K[ut][Te],Gt=K[ut+1][Te],Nt=K[ut+1][Te+1],wt=K[ut][Te+1];R.push(vt,Gt,wt),R.push(Gt,Nt,wt),Me+=6}S.addGroup(ee,Me,0),ee+=Me})(),g===!1&&(e>0&&me(!0),i>0&&me(!1)),this.setIndex(R),this.setAttribute("position",new Dn(L,3)),this.setAttribute("normal",new Dn(I,3)),this.setAttribute("uv",new Dn(F,2))}}class tl extends ci{constructor(e,i,o,l,d,g,v,w){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:i,height:o,radialSegments:l,heightSegments:d,openEnded:g,thetaStart:v,thetaLength:w},this.fromBufferGeometry(new go(e,i,o,l,d,g,v,w)),this.mergeVertices()}}class ld extends tl{constructor(e,i,o,l,d,g,v){super(0,e,i,o,l,d,g,v),this.type="ConeGeometry",this.parameters={radius:e,height:i,radialSegments:o,heightSegments:l,openEnded:d,thetaStart:g,thetaLength:v}}}class Co extends go{constructor(e=1,i=1,o=8,l=1,d=!1,g=0,v=2*Math.PI){super(0,e,i,o,l,d,g,v),this.type="ConeBufferGeometry",this.parameters={radius:e,height:i,radialSegments:o,heightSegments:l,openEnded:d,thetaStart:g,thetaLength:v}}}class _u extends $n{constructor(e,i,o=1,l=0){super(),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:i,radius:o,detail:l};const d=[],g=[];function v(I,F,H,K){const $=K+1,ee=[];for(let me=0;me<=$;me++){ee[me]=[];const xe=I.clone().lerp(H,me/$),Ee=F.clone().lerp(H,me/$),Me=$-me;for(let Ne=0;Ne<=Me;Ne++)ee[me][Ne]=Ne===0&&me===$?xe:xe.clone().lerp(Ee,Ne/Me)}for(let me=0;me<$;me++)for(let xe=0;xe<2*($-me)-1;xe++){const Ee=Math.floor(xe/2);xe%2==0?(w(ee[me][Ee+1]),w(ee[me+1][Ee]),w(ee[me][Ee])):(w(ee[me][Ee+1]),w(ee[me+1][Ee+1]),w(ee[me+1][Ee]))}}function w(I){d.push(I.x,I.y,I.z)}function S(I,F){const H=3*I;F.x=e[H+0],F.y=e[H+1],F.z=e[H+2]}function R(I,F,H,K){K<0&&I.x===1&&(g[F]=I.x-1),H.x===0&&H.z===0&&(g[F]=K/2/Math.PI+.5)}function L(I){return Math.atan2(I.z,-I.x)}(function(I){const F=new ye,H=new ye,K=new ye;for(let $=0;$<i.length;$+=3)S(i[$+0],F),S(i[$+1],H),S(i[$+2],K),v(F,H,K,I)})(l),function(I){const F=new ye;for(let H=0;H<d.length;H+=3)F.x=d[H+0],F.y=d[H+1],F.z=d[H+2],F.normalize().multiplyScalar(I),d[H+0]=F.x,d[H+1]=F.y,d[H+2]=F.z}(o),function(){const I=new ye;for(let H=0;H<d.length;H+=3){I.x=d[H+0],I.y=d[H+1],I.z=d[H+2];const K=L(I)/2/Math.PI+.5,$=(F=I,Math.atan2(-F.y,Math.sqrt(F.x*F.x+F.z*F.z))/Math.PI+.5);g.push(K,1-$)}var F;(function(){const H=new ye,K=new ye,$=new ye,ee=new ye,me=new It,xe=new It,Ee=new It;for(let Me=0,Ne=0;Me<d.length;Me+=9,Ne+=6){H.set(d[Me+0],d[Me+1],d[Me+2]),K.set(d[Me+3],d[Me+4],d[Me+5]),$.set(d[Me+6],d[Me+7],d[Me+8]),me.set(g[Ne+0],g[Ne+1]),xe.set(g[Ne+2],g[Ne+3]),Ee.set(g[Ne+4],g[Ne+5]),ee.copy(H).add(K).add($).divideScalar(3);const Te=L(ee);R(me,Ne+0,H,Te),R(xe,Ne+2,K,Te),R(Ee,Ne+4,$,Te)}})(),function(){for(let H=0;H<g.length;H+=6){const K=g[H+0],$=g[H+2],ee=g[H+4],me=Math.max(K,$,ee),xe=Math.min(K,$,ee);me>.9&&xe<.1&&(K<.2&&(g[H+0]+=1),$<.2&&(g[H+2]+=1),ee<.2&&(g[H+4]+=1))}}()}(),this.setAttribute("position",new Dn(d,3)),this.setAttribute("normal",new Dn(d.slice(),3)),this.setAttribute("uv",new Dn(g,2)),l===0?this.computeVertexNormals():this.normalizeNormals()}}class Lc extends _u{constructor(e=1,i=0){const o=(1+Math.sqrt(5))/2,l=1/o;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-l,-o,0,-l,o,0,l,-o,0,l,o,-l,-o,0,-l,o,0,l,-o,0,l,o,0,-o,0,-l,o,0,-l,-o,0,l,o,0,l],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,i),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:i}}}class Dp extends ci{constructor(e,i){super(),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:i},this.fromBufferGeometry(new Lc(e,i)),this.mergeVertices()}}const wf=new ye,vh=new ye,Ba=new ye,_f=new Wt;class yh extends $n{constructor(e,i){super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:i},i=i!==void 0?i:1,e.isGeometry&&(e=new $n().fromGeometry(e));const o=Math.pow(10,4),l=Math.cos(Tn.DEG2RAD*i),d=e.getIndex(),g=e.getAttribute("position"),v=d?d.count:g.count,w=[0,0,0],S=["a","b","c"],R=new Array(3),L={},I=[];for(let F=0;F<v;F+=3){d?(w[0]=d.getX(F),w[1]=d.getX(F+1),w[2]=d.getX(F+2)):(w[0]=F,w[1]=F+1,w[2]=F+2);const{a:H,b:K,c:$}=_f;if(H.fromBufferAttribute(g,w[0]),K.fromBufferAttribute(g,w[1]),$.fromBufferAttribute(g,w[2]),_f.getNormal(Ba),R[0]=`${Math.round(H.x*o)},${Math.round(H.y*o)},${Math.round(H.z*o)}`,R[1]=`${Math.round(K.x*o)},${Math.round(K.y*o)},${Math.round(K.z*o)}`,R[2]=`${Math.round($.x*o)},${Math.round($.y*o)},${Math.round($.z*o)}`,R[0]!==R[1]&&R[1]!==R[2]&&R[2]!==R[0])for(let ee=0;ee<3;ee++){const me=(ee+1)%3,xe=R[ee],Ee=R[me],Me=_f[S[ee]],Ne=_f[S[me]],Te=`${xe}_${Ee}`,ut=`${Ee}_${xe}`;ut in L&&L[ut]?(Ba.dot(L[ut].normal)<=l&&(I.push(Me.x,Me.y,Me.z),I.push(Ne.x,Ne.y,Ne.z)),L[ut]=null):Te in L||(L[Te]={index0:w[ee],index1:w[me],normal:Ba.clone()})}}for(const F in L)if(L[F]){const{index0:H,index1:K}=L[F];wf.fromBufferAttribute(g,H),vh.fromBufferAttribute(g,K),I.push(wf.x,wf.y,wf.z),I.push(vh.x,vh.y,vh.z)}this.setAttribute("position",new Dn(I,3))}}const Pc=function(t,e,i){i=i||2;const o=e&&e.length,l=o?e[0]*i:t.length;let d=Np(t,0,l,i,!0);const g=[];if(!d||d.next===d.prev)return g;let v,w,S,R,L,I,F;if(o&&(d=function(H,K,$,ee){const me=[];let xe,Ee,Me,Ne,Te;for(xe=0,Ee=K.length;xe<Ee;xe++)Me=K[xe]*ee,Ne=xe<Ee-1?K[xe+1]*ee:H.length,Te=Np(H,Me,Ne,ee,!1),Te===Te.next&&(Te.steiner=!0),me.push(bh(Te));for(me.sort(Iy),xe=0;xe<me.length;xe++)Tg(me[xe],$),$=Qu($,$.next);return $}(t,e,d,i)),t.length>80*i){v=S=t[0],w=R=t[1];for(let H=i;H<l;H+=i)L=t[H],I=t[H+1],L<v&&(v=L),I<w&&(w=I),L>S&&(S=L),I>R&&(R=I);F=Math.max(S-v,R-w),F=F!==0?1/F:0}return Zl(d,g,i,v,w,F),g};function Np(t,e,i,o,l){let d,g;if(l===function(v,w,S,R){let L=0;for(let I=w,F=S-R;I<S;I+=R)L+=(v[F]-v[I])*(v[I+1]+v[F+1]),F=I;return L}(t,e,i,o)>0)for(d=e;d<i;d+=o)g=wh(d,t[d],t[d+1],g);else for(d=i-o;d>=e;d-=o)g=wh(d,t[d],t[d+1],g);return g&&Sf(g,g.next)&&(ud(g),g=g.next),g}function Qu(t,e){if(!t)return t;e||(e=t);let i,o=t;do if(i=!1,o.steiner||!Sf(o,o.next)&&Hs(o.prev,o,o.next)!==0)o=o.next;else{if(ud(o),o=e=o.prev,o===o.next)break;i=!0}while(i||o!==e);return e}function Zl(t,e,i,o,l,d,g){if(!t)return;!g&&d&&function(R,L,I,F){let H=R;do H.z===null&&(H.z=ba(H.x,H.y,L,I,F)),H.prevZ=H.prev,H.nextZ=H.next,H=H.next;while(H!==R);H.prevZ.nextZ=null,H.prevZ=null,function(K){let $,ee,me,xe,Ee,Me,Ne,Te,ut=1;do{for(ee=K,K=null,Ee=null,Me=0;ee;){for(Me++,me=ee,Ne=0,$=0;$<ut&&(Ne++,me=me.nextZ,me);$++);for(Te=ut;Ne>0||Te>0&&me;)Ne!==0&&(Te===0||!me||ee.z<=me.z)?(xe=ee,ee=ee.nextZ,Ne--):(xe=me,me=me.nextZ,Te--),Ee?Ee.nextZ=xe:K=xe,xe.prevZ=Ee,Ee=xe;ee=me}Ee.nextZ=null,ut*=2}while(Me>1)}(H)}(t,o,l,d);let v,w,S=t;for(;t.prev!==t.next;)if(v=t.prev,w=t.next,d?xh(t,o,l,d):Mg(t))e.push(v.i/i),e.push(t.i/i),e.push(w.i/i),ud(t),t=w.next,S=w.next;else if((t=w)===S){g?g===1?Zl(t=Ag(Qu(t),e,i),e,i,o,l,d,2):g===2&&Fp(t,e,i,o,l,d):Zl(Qu(t),e,i,o,l,d,1);break}}function Mg(t){const e=t.prev,i=t,o=t.next;if(Hs(e,i,o)>=0)return!1;let l=t.next.next;for(;l!==t.prev;){if(Ha(e.x,e.y,i.x,i.y,o.x,o.y,l.x,l.y)&&Hs(l.prev,l,l.next)>=0)return!1;l=l.next}return!0}function xh(t,e,i,o){const l=t.prev,d=t,g=t.next;if(Hs(l,d,g)>=0)return!1;const v=l.x<d.x?l.x<g.x?l.x:g.x:d.x<g.x?d.x:g.x,w=l.y<d.y?l.y<g.y?l.y:g.y:d.y<g.y?d.y:g.y,S=l.x>d.x?l.x>g.x?l.x:g.x:d.x>g.x?d.x:g.x,R=l.y>d.y?l.y>g.y?l.y:g.y:d.y>g.y?d.y:g.y,L=ba(v,w,e,i,o),I=ba(S,R,e,i,o);let F=t.prevZ,H=t.nextZ;for(;F&&F.z>=L&&H&&H.z<=I;){if(F!==t.prev&&F!==t.next&&Ha(l.x,l.y,d.x,d.y,g.x,g.y,F.x,F.y)&&Hs(F.prev,F,F.next)>=0||(F=F.prevZ,H!==t.prev&&H!==t.next&&Ha(l.x,l.y,d.x,d.y,g.x,g.y,H.x,H.y)&&Hs(H.prev,H,H.next)>=0))return!1;H=H.nextZ}for(;F&&F.z>=L;){if(F!==t.prev&&F!==t.next&&Ha(l.x,l.y,d.x,d.y,g.x,g.y,F.x,F.y)&&Hs(F.prev,F,F.next)>=0)return!1;F=F.prevZ}for(;H&&H.z<=I;){if(H!==t.prev&&H!==t.next&&Ha(l.x,l.y,d.x,d.y,g.x,g.y,H.x,H.y)&&Hs(H.prev,H,H.next)>=0)return!1;H=H.nextZ}return!0}function Ag(t,e,i){let o=t;do{const l=o.prev,d=o.next.next;!Sf(l,d)&&Lg(l,o,o.next,d)&&Ef(l,d)&&Ef(d,l)&&(e.push(l.i/i),e.push(o.i/i),e.push(d.i/i),ud(o),ud(o.next),o=t=d),o=o.next}while(o!==t);return Qu(o)}function Fp(t,e,i,o,l,d){let g=t;do{let v=g.next.next;for(;v!==g.prev;){if(g.i!==v.i&&pl(g,v)){let w=Rg(g,v);return g=Qu(g,g.next),w=Qu(w,w.next),Zl(g,e,i,o,l,d),void Zl(w,e,i,o,l,d)}v=v.next}g=g.next}while(g!==t)}function Iy(t,e){return t.x-e.x}function Tg(t,e){if(e=function(i,o){let l=o;const d=i.x,g=i.y;let v,w=-1/0;do{if(g<=l.y&&g>=l.next.y&&l.next.y!==l.y){const H=l.x+(g-l.y)*(l.next.x-l.x)/(l.next.y-l.y);if(H<=d&&H>w){if(w=H,H===d){if(g===l.y)return l;if(g===l.next.y)return l.next}v=l.x<l.next.x?l:l.next}}l=l.next}while(l!==o);if(!v)return null;if(d===w)return v;const S=v,R=v.x,L=v.y;let I,F=1/0;l=v;do d>=l.x&&l.x>=R&&d!==l.x&&Ha(g<L?d:w,g,R,L,g<L?w:d,g,l.x,l.y)&&(I=Math.abs(g-l.y)/(d-l.x),Ef(l,i)&&(I<F||I===F&&(l.x>v.x||l.x===v.x&&Cg(v,l)))&&(v=l,F=I)),l=l.next;while(l!==S);return v}(t,e)){const i=Rg(e,t);Qu(e,e.next),Qu(i,i.next)}}function Cg(t,e){return Hs(t.prev,t,e.prev)<0&&Hs(e.next,t,t.next)<0}function ba(t,e,i,o,l){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*l)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-o)*l)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function bh(t){let e=t,i=t;do(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next;while(e!==t);return i}function Ha(t,e,i,o,l,d,g,v){return(l-g)*(e-v)-(t-g)*(d-v)>=0&&(t-g)*(o-v)-(i-g)*(e-v)>=0&&(i-g)*(d-v)-(l-g)*(o-v)>=0}function pl(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(i,o){let l=i;do{if(l.i!==i.i&&l.next.i!==i.i&&l.i!==o.i&&l.next.i!==o.i&&Lg(l,l.next,i,o))return!0;l=l.next}while(l!==i);return!1}(t,e)&&(Ef(t,e)&&Ef(e,t)&&function(i,o){let l=i,d=!1;const g=(i.x+o.x)/2,v=(i.y+o.y)/2;do l.y>v!=l.next.y>v&&l.next.y!==l.y&&g<(l.next.x-l.x)*(v-l.y)/(l.next.y-l.y)+l.x&&(d=!d),l=l.next;while(l!==i);return d}(t,e)&&(Hs(t.prev,t,e.prev)||Hs(t,e.prev,e))||Sf(t,e)&&Hs(t.prev,t,t.next)>0&&Hs(e.prev,e,e.next)>0)}function Hs(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Sf(t,e){return t.x===e.x&&t.y===e.y}function Lg(t,e,i,o){const l=Su(Hs(t,e,i)),d=Su(Hs(t,e,o)),g=Su(Hs(i,o,t)),v=Su(Hs(i,o,e));return l!==d&&g!==v||!(l!==0||!Pg(t,i,e))||!(d!==0||!Pg(t,o,e))||!(g!==0||!Pg(i,t,o))||!(v!==0||!Pg(i,e,o))}function Pg(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function Su(t){return t>0?1:t<0?-1:0}function Ef(t,e){return Hs(t.prev,t,t.next)<0?Hs(t,e,t.next)>=0&&Hs(t,t.prev,e)>=0:Hs(t,e,t.prev)<0||Hs(t,t.next,e)<0}function Rg(t,e){const i=new Rc(t.i,t.x,t.y),o=new Rc(e.i,e.x,e.y),l=t.next,d=e.prev;return t.next=e,e.prev=t,i.next=l,l.prev=i,o.next=i,i.prev=o,d.next=o,o.prev=d,o}function wh(t,e,i,o){const l=new Rc(t,e,i);return o?(l.next=o.next,l.prev=o,o.next.prev=l,o.next=l):(l.prev=l,l.next=l),l}function ud(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Rc(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const ec={area:function(t){const e=t.length;let i=0;for(let o=e-1,l=0;l<e;o=l++)i+=t[o].x*t[l].y-t[l].x*t[o].y;return .5*i},isClockWise:function(t){return ec.area(t)<0},triangulateShape:function(t,e){const i=[],o=[],l=[];Dy(t),kg(i,t);let d=t.length;e.forEach(Dy);for(let v=0;v<e.length;v++)o.push(d),d+=e[v].length,kg(i,e[v]);const g=Pc(i,o);for(let v=0;v<g.length;v+=3)l.push(g.slice(v,v+3));return l}};function Dy(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function kg(t,e){for(let i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}class _h extends $n{constructor(e,i){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:i},e=Array.isArray(e)?e:[e];const o=this,l=[],d=[];for(let v=0,w=e.length;v<w;v++)g(e[v]);function g(v){const w=[],S=i.curveSegments!==void 0?i.curveSegments:12,R=i.steps!==void 0?i.steps:1;let L=i.depth!==void 0?i.depth:100,I=i.bevelEnabled===void 0||i.bevelEnabled,F=i.bevelThickness!==void 0?i.bevelThickness:6,H=i.bevelSize!==void 0?i.bevelSize:F-2,K=i.bevelOffset!==void 0?i.bevelOffset:0,$=i.bevelSegments!==void 0?i.bevelSegments:3;const ee=i.extrudePath,me=i.UVGenerator!==void 0?i.UVGenerator:d1;i.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),L=i.amount);let xe,Ee,Me,Ne,Te,ut=!1;ee&&(xe=ee.getSpacedPoints(R),ut=!0,I=!1,Ee=ee.computeFrenetFrames(R,!1),Me=new ye,Ne=new ye,Te=new ye),I||($=0,F=0,H=0,K=0);const vt=v.extractPoints(S);let Gt=vt.shape;const Nt=vt.holes;if(!ec.isClockWise(Gt)){Gt=Gt.reverse();for(let Rt=0,bt=Nt.length;Rt<bt;Rt++){const Qt=Nt[Rt];ec.isClockWise(Qt)&&(Nt[Rt]=Qt.reverse())}}const wt=ec.triangulateShape(Gt,Nt),Vt=Gt;for(let Rt=0,bt=Nt.length;Rt<bt;Rt++){const Qt=Nt[Rt];Gt=Gt.concat(Qt)}function mn(Rt,bt,Qt){return bt||console.error("THREE.ExtrudeGeometry: vec does not exist"),bt.clone().multiplyScalar(Qt).add(Rt)}const cn=Gt.length,ur=wt.length;function kn(Rt,bt,Qt){let An,hn,qn;const Zn=Rt.x-bt.x,Gr=Rt.y-bt.y,Ar=Qt.x-Rt.x,ki=Qt.y-Rt.y,As=Zn*Zn+Gr*Gr,Ph=Zn*ki-Gr*Ar;if(Math.abs(Ph)>Number.EPSILON){const Rh=Math.sqrt(As),Zy=Math.sqrt(Ar*Ar+ki*ki),Ky=bt.x-Gr/Rh,ac=bt.y+Zn/Rh,rl=((Qt.x-ki/Zy-Ky)*ki-(Qt.y+Ar/Zy-ac)*Ar)/(Zn*ki-Gr*Ar);An=Ky+Zn*rl-Rt.x,hn=ac+Gr*rl-Rt.y;const Hn=An*An+hn*hn;if(Hn<=2)return new It(An,hn);qn=Math.sqrt(Hn/2)}else{let Rh=!1;Zn>Number.EPSILON?Ar>Number.EPSILON&&(Rh=!0):Zn<-Number.EPSILON?Ar<-Number.EPSILON&&(Rh=!0):Math.sign(Gr)===Math.sign(ki)&&(Rh=!0),Rh?(An=-Gr,hn=Zn,qn=Math.sqrt(As)):(An=Zn,hn=Gr,qn=Math.sqrt(As/2))}return new It(An/qn,hn/qn)}const Cn=[];for(let Rt=0,bt=Vt.length,Qt=bt-1,An=Rt+1;Rt<bt;Rt++,Qt++,An++)Qt===bt&&(Qt=0),An===bt&&(An=0),Cn[Rt]=kn(Vt[Rt],Vt[Qt],Vt[An]);const vr=[];let yr,hi=Cn.concat();for(let Rt=0,bt=Nt.length;Rt<bt;Rt++){const Qt=Nt[Rt];yr=[];for(let An=0,hn=Qt.length,qn=hn-1,Zn=An+1;An<hn;An++,qn++,Zn++)qn===hn&&(qn=0),Zn===hn&&(Zn=0),yr[An]=kn(Qt[An],Qt[qn],Qt[Zn]);vr.push(yr),hi=hi.concat(yr)}for(let Rt=0;Rt<$;Rt++){const bt=Rt/$,Qt=F*Math.cos(bt*Math.PI/2),An=H*Math.sin(bt*Math.PI/2)+K;for(let hn=0,qn=Vt.length;hn<qn;hn++){const Zn=mn(Vt[hn],Cn[hn],An);vn(Zn.x,Zn.y,-Qt)}for(let hn=0,qn=Nt.length;hn<qn;hn++){const Zn=Nt[hn];yr=vr[hn];for(let Gr=0,Ar=Zn.length;Gr<Ar;Gr++){const ki=mn(Zn[Gr],yr[Gr],An);vn(ki.x,ki.y,-Qt)}}}const Ve=H+K;for(let Rt=0;Rt<cn;Rt++){const bt=I?mn(Gt[Rt],hi[Rt],Ve):Gt[Rt];ut?(Ne.copy(Ee.normals[0]).multiplyScalar(bt.x),Me.copy(Ee.binormals[0]).multiplyScalar(bt.y),Te.copy(xe[0]).add(Ne).add(Me),vn(Te.x,Te.y,Te.z)):vn(bt.x,bt.y,0)}for(let Rt=1;Rt<=R;Rt++)for(let bt=0;bt<cn;bt++){const Qt=I?mn(Gt[bt],hi[bt],Ve):Gt[bt];ut?(Ne.copy(Ee.normals[Rt]).multiplyScalar(Qt.x),Me.copy(Ee.binormals[Rt]).multiplyScalar(Qt.y),Te.copy(xe[Rt]).add(Ne).add(Me),vn(Te.x,Te.y,Te.z)):vn(Qt.x,Qt.y,L/R*Rt)}for(let Rt=$-1;Rt>=0;Rt--){const bt=Rt/$,Qt=F*Math.cos(bt*Math.PI/2),An=H*Math.sin(bt*Math.PI/2)+K;for(let hn=0,qn=Vt.length;hn<qn;hn++){const Zn=mn(Vt[hn],Cn[hn],An);vn(Zn.x,Zn.y,L+Qt)}for(let hn=0,qn=Nt.length;hn<qn;hn++){const Zn=Nt[hn];yr=vr[hn];for(let Gr=0,Ar=Zn.length;Gr<Ar;Gr++){const ki=mn(Zn[Gr],yr[Gr],An);ut?vn(ki.x,ki.y+xe[R-1].y,xe[R-1].x+Qt):vn(ki.x,ki.y,L+Qt)}}}function ot(Rt,bt){let Qt=Rt.length;for(;--Qt>=0;){const An=Qt;let hn=Qt-1;hn<0&&(hn=Rt.length-1);for(let qn=0,Zn=R+2*$;qn<Zn;qn++){const Gr=cn*qn,Ar=cn*(qn+1);De(bt+An+Gr,bt+hn+Gr,bt+hn+Ar,bt+An+Ar)}}}function vn(Rt,bt,Qt){w.push(Rt),w.push(bt),w.push(Qt)}function Ft(Rt,bt,Qt){$t(Rt),$t(bt),$t(Qt);const An=l.length/3,hn=me.generateTopUV(o,l,An-3,An-2,An-1);gn(hn[0]),gn(hn[1]),gn(hn[2])}function De(Rt,bt,Qt,An){$t(Rt),$t(bt),$t(An),$t(bt),$t(Qt),$t(An);const hn=l.length/3,qn=me.generateSideWallUV(o,l,hn-6,hn-3,hn-2,hn-1);gn(qn[0]),gn(qn[1]),gn(qn[3]),gn(qn[1]),gn(qn[2]),gn(qn[3])}function $t(Rt){l.push(w[3*Rt+0]),l.push(w[3*Rt+1]),l.push(w[3*Rt+2])}function gn(Rt){d.push(Rt.x),d.push(Rt.y)}(function(){const Rt=l.length/3;if(I){let bt=0,Qt=cn*bt;for(let An=0;An<ur;An++){const hn=wt[An];Ft(hn[2]+Qt,hn[1]+Qt,hn[0]+Qt)}bt=R+2*$,Qt=cn*bt;for(let An=0;An<ur;An++){const hn=wt[An];Ft(hn[0]+Qt,hn[1]+Qt,hn[2]+Qt)}}else{for(let bt=0;bt<ur;bt++){const Qt=wt[bt];Ft(Qt[2],Qt[1],Qt[0])}for(let bt=0;bt<ur;bt++){const Qt=wt[bt];Ft(Qt[0]+cn*R,Qt[1]+cn*R,Qt[2]+cn*R)}}o.addGroup(Rt,l.length/3-Rt,0)})(),function(){const Rt=l.length/3;let bt=0;ot(Vt,bt),bt+=Vt.length;for(let Qt=0,An=Nt.length;Qt<An;Qt++){const hn=Nt[Qt];ot(hn,bt),bt+=hn.length}o.addGroup(Rt,l.length/3-Rt,1)}()}this.setAttribute("position",new Dn(l,3)),this.setAttribute("uv",new Dn(d,2)),this.computeVertexNormals()}toJSON(){const e=$n.prototype.toJSON.call(this);return function(i,o,l){if(l.shapes=[],Array.isArray(i))for(let d=0,g=i.length;d<g;d++){const v=i[d];l.shapes.push(v.uuid)}else l.shapes.push(i.uuid);return o.extrudePath!==void 0&&(l.options.extrudePath=o.extrudePath.toJSON()),l}(this.parameters.shapes,this.parameters.options,e)}}const d1={generateTopUV:function(t,e,i,o,l){const d=e[3*i],g=e[3*i+1],v=e[3*o],w=e[3*o+1],S=e[3*l],R=e[3*l+1];return[new It(d,g),new It(v,w),new It(S,R)]},generateSideWallUV:function(t,e,i,o,l,d){const g=e[3*i],v=e[3*i+1],w=e[3*i+2],S=e[3*o],R=e[3*o+1],L=e[3*o+2],I=e[3*l],F=e[3*l+1],H=e[3*l+2],K=e[3*d],$=e[3*d+1],ee=e[3*d+2];return Math.abs(v-R)<.01?[new It(g,1-w),new It(S,1-L),new It(I,1-H),new It(K,1-ee)]:[new It(v,1-w),new It(R,1-L),new It(F,1-H),new It($,1-ee)]}};class Ny extends ci{constructor(e,i){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:i},this.fromBufferGeometry(new _h(e,i)),this.mergeVertices()}toJSON(){const e=super.toJSON();return function(i,o,l){if(l.shapes=[],Array.isArray(i))for(let d=0,g=i.length;d<g;d++){const v=i[d];l.shapes.push(v.uuid)}else l.shapes.push(i.uuid);return o.extrudePath!==void 0&&(l.options.extrudePath=o.extrudePath.toJSON()),l}(this.parameters.shapes,this.parameters.options,e)}}class Og extends _u{constructor(e=1,i=0){const o=(1+Math.sqrt(5))/2;super([-1,o,0,1,o,0,-1,-o,0,1,-o,0,0,-1,o,0,1,o,0,-1,-o,0,1,-o,o,0,-1,o,0,1,-o,0,-1,-o,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,i),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:i}}}class Fy extends ci{constructor(e,i){super(),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:i},this.fromBufferGeometry(new Og(e,i)),this.mergeVertices()}}class kc extends $n{constructor(e,i=12,o=0,l=2*Math.PI){super(),this.type="LatheBufferGeometry",this.parameters={points:e,segments:i,phiStart:o,phiLength:l},i=Math.floor(i),l=Tn.clamp(l,0,2*Math.PI);const d=[],g=[],v=[],w=1/i,S=new ye,R=new It;for(let L=0;L<=i;L++){const I=o+L*w*l,F=Math.sin(I),H=Math.cos(I);for(let K=0;K<=e.length-1;K++)S.x=e[K].x*F,S.y=e[K].y,S.z=e[K].x*H,g.push(S.x,S.y,S.z),R.x=L/i,R.y=K/(e.length-1),v.push(R.x,R.y)}for(let L=0;L<i;L++)for(let I=0;I<e.length-1;I++){const F=I+L*e.length,H=F,K=F+e.length,$=F+e.length+1,ee=F+1;d.push(H,K,ee),d.push(K,$,ee)}if(this.setIndex(d),this.setAttribute("position",new Dn(g,3)),this.setAttribute("uv",new Dn(v,2)),this.computeVertexNormals(),l===2*Math.PI){const L=this.attributes.normal.array,I=new ye,F=new ye,H=new ye,K=i*e.length*3;for(let $=0,ee=0;$<e.length;$++,ee+=3)I.x=L[ee+0],I.y=L[ee+1],I.z=L[ee+2],F.x=L[K+ee+0],F.y=L[K+ee+1],F.z=L[K+ee+2],H.addVectors(I,F).normalize(),L[ee+0]=L[K+ee+0]=H.x,L[ee+1]=L[K+ee+1]=H.y,L[ee+2]=L[K+ee+2]=H.z}}}class db extends ci{constructor(e,i,o,l){super(),this.type="LatheGeometry",this.parameters={points:e,segments:i,phiStart:o,phiLength:l},this.fromBufferGeometry(new kc(e,i,o,l)),this.mergeVertices()}}class Oc extends _u{constructor(e=1,i=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,i),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:i}}}class zy extends ci{constructor(e,i){super(),this.type="OctahedronGeometry",this.parameters={radius:e,detail:i},this.fromBufferGeometry(new Oc(e,i)),this.mergeVertices()}}function vs(t,e,i){$n.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};const o=[],l=[],d=[],g=[],v=1e-5,w=new ye,S=new ye,R=new ye,L=new ye,I=new ye;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const F=e+1;for(let H=0;H<=i;H++){const K=H/i;for(let $=0;$<=e;$++){const ee=$/e;t(ee,K,S),l.push(S.x,S.y,S.z),ee-v>=0?(t(ee-v,K,R),L.subVectors(S,R)):(t(ee+v,K,R),L.subVectors(R,S)),K-v>=0?(t(ee,K-v,R),I.subVectors(S,R)):(t(ee,K+v,R),I.subVectors(R,S)),w.crossVectors(L,I).normalize(),d.push(w.x,w.y,w.z),g.push(ee,K)}}for(let H=0;H<i;H++)for(let K=0;K<e;K++){const $=H*F+K,ee=H*F+K+1,me=(H+1)*F+K+1,xe=(H+1)*F+K;o.push($,ee,xe),o.push(ee,me,xe)}this.setIndex(o),this.setAttribute("position",new Dn(l,3)),this.setAttribute("normal",new Dn(d,3)),this.setAttribute("uv",new Dn(g,2))}function zp(t,e,i){ci.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new vs(t,e,i)),this.mergeVertices()}vs.prototype=Object.create($n.prototype),vs.prototype.constructor=vs,zp.prototype=Object.create(ci.prototype),zp.prototype.constructor=zp;class By extends ci{constructor(e,i,o,l){super(),this.type="PlaneGeometry",this.parameters={width:e,height:i,widthSegments:o,heightSegments:l},this.fromBufferGeometry(new mp(e,i,o,l)),this.mergeVertices()}}class fb extends ci{constructor(e,i,o,l){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:i,radius:o,detail:l},this.fromBufferGeometry(new _u(e,i,o,l)),this.mergeVertices()}}class Hy extends $n{constructor(e=.5,i=1,o=8,l=1,d=0,g=2*Math.PI){super(),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:i,thetaSegments:o,phiSegments:l,thetaStart:d,thetaLength:g},o=Math.max(3,o);const v=[],w=[],S=[],R=[];let L=e;const I=(i-e)/(l=Math.max(1,l)),F=new ye,H=new It;for(let K=0;K<=l;K++){for(let $=0;$<=o;$++){const ee=d+$/o*g;F.x=L*Math.cos(ee),F.y=L*Math.sin(ee),w.push(F.x,F.y,F.z),S.push(0,0,1),H.x=(F.x/i+1)/2,H.y=(F.y/i+1)/2,R.push(H.x,H.y)}L+=I}for(let K=0;K<l;K++){const $=K*(o+1);for(let ee=0;ee<o;ee++){const me=ee+$,xe=me,Ee=me+o+1,Me=me+o+2,Ne=me+1;v.push(xe,Ee,Ne),v.push(Ee,Me,Ne)}}this.setIndex(v),this.setAttribute("position",new Dn(w,3)),this.setAttribute("normal",new Dn(S,3)),this.setAttribute("uv",new Dn(R,2))}}class jy extends ci{constructor(e,i,o,l,d,g){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:i,thetaSegments:o,phiSegments:l,thetaStart:d,thetaLength:g},this.fromBufferGeometry(new Hy(e,i,o,l,d,g)),this.mergeVertices()}}class Ig extends $n{constructor(e,i=12){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:i};const o=[],l=[],d=[],g=[];let v=0,w=0;if(Array.isArray(e)===!1)S(e);else for(let R=0;R<e.length;R++)S(e[R]),this.addGroup(v,w,R),v+=w,w=0;function S(R){const L=l.length/3,I=R.extractPoints(i);let F=I.shape;const H=I.holes;ec.isClockWise(F)===!1&&(F=F.reverse());for(let $=0,ee=H.length;$<ee;$++){const me=H[$];ec.isClockWise(me)===!0&&(H[$]=me.reverse())}const K=ec.triangulateShape(F,H);for(let $=0,ee=H.length;$<ee;$++){const me=H[$];F=F.concat(me)}for(let $=0,ee=F.length;$<ee;$++){const me=F[$];l.push(me.x,me.y,0),d.push(0,0,1),g.push(me.x,me.y)}for(let $=0,ee=K.length;$<ee;$++){const me=K[$],xe=me[0]+L,Ee=me[1]+L,Me=me[2]+L;o.push(xe,Ee,Me),w+=3}}this.setIndex(o),this.setAttribute("position",new Dn(l,3)),this.setAttribute("normal",new Dn(d,3)),this.setAttribute("uv",new Dn(g,2))}toJSON(){const e=$n.prototype.toJSON.call(this);return function(i,o){if(o.shapes=[],Array.isArray(i))for(let l=0,d=i.length;l<d;l++){const g=i[l];o.shapes.push(g.uuid)}else o.shapes.push(i.uuid);return o}(this.parameters.shapes,e)}}class Uy extends ci{constructor(e,i){super(),this.type="ShapeGeometry",typeof i=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),i=i.curveSegments),this.parameters={shapes:e,curveSegments:i},this.fromBufferGeometry(new Ig(e,i)),this.mergeVertices()}toJSON(){const e=ci.prototype.toJSON.call(this);return function(i,o){if(o.shapes=[],Array.isArray(i))for(let l=0,d=i.length;l<d;l++){const g=i[l];o.shapes.push(g.uuid)}else o.shapes.push(i.uuid);return o}(this.parameters.shapes,e)}}class nl extends $n{constructor(e=1,i=8,o=6,l=0,d=2*Math.PI,g=0,v=Math.PI){super(),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:i,heightSegments:o,phiStart:l,phiLength:d,thetaStart:g,thetaLength:v},i=Math.max(3,Math.floor(i)),o=Math.max(2,Math.floor(o));const w=Math.min(g+v,Math.PI);let S=0;const R=[],L=new ye,I=new ye,F=[],H=[],K=[],$=[];for(let ee=0;ee<=o;ee++){const me=[],xe=ee/o;let Ee=0;ee==0&&g==0?Ee=.5/i:ee==o&&w==Math.PI&&(Ee=-.5/i);for(let Me=0;Me<=i;Me++){const Ne=Me/i;L.x=-e*Math.cos(l+Ne*d)*Math.sin(g+xe*v),L.y=e*Math.cos(g+xe*v),L.z=e*Math.sin(l+Ne*d)*Math.sin(g+xe*v),H.push(L.x,L.y,L.z),I.copy(L).normalize(),K.push(I.x,I.y,I.z),$.push(Ne+Ee,1-xe),me.push(S++)}R.push(me)}for(let ee=0;ee<o;ee++)for(let me=0;me<i;me++){const xe=R[ee][me+1],Ee=R[ee][me],Me=R[ee+1][me],Ne=R[ee+1][me+1];(ee!==0||g>0)&&F.push(xe,Ee,Ne),(ee!==o-1||w<Math.PI)&&F.push(Ee,Me,Ne)}this.setIndex(F),this.setAttribute("position",new Dn(H,3)),this.setAttribute("normal",new Dn(K,3)),this.setAttribute("uv",new Dn($,2))}}class Dg extends ci{constructor(e,i,o,l,d,g,v){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:i,heightSegments:o,phiStart:l,phiLength:d,thetaStart:g,thetaLength:v},this.fromBufferGeometry(new nl(e,i,o,l,d,g,v)),this.mergeVertices()}}class Gy extends _u{constructor(e=1,i=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,i),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:i}}}class Ic extends ci{constructor(e,i){super(),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:i},this.fromBufferGeometry(new Gy(e,i)),this.mergeVertices()}}class Mf extends _h{constructor(e,i={}){const o=i.font;if(!o||!o.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new $n;const l=o.generateShapes(e,i.size);i.depth=i.height!==void 0?i.height:50,i.bevelThickness===void 0&&(i.bevelThickness=10),i.bevelSize===void 0&&(i.bevelSize=8),i.bevelEnabled===void 0&&(i.bevelEnabled=!1),super(l,i),this.type="TextBufferGeometry"}}class Sh extends ci{constructor(e,i){super(),this.type="TextGeometry",this.parameters={text:e,parameters:i},this.fromBufferGeometry(new Mf(e,i)),this.mergeVertices()}}class Af extends $n{constructor(e=1,i=.4,o=8,l=6,d=2*Math.PI){super(),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:i,radialSegments:o,tubularSegments:l,arc:d},o=Math.floor(o),l=Math.floor(l);const g=[],v=[],w=[],S=[],R=new ye,L=new ye,I=new ye;for(let F=0;F<=o;F++)for(let H=0;H<=l;H++){const K=H/l*d,$=F/o*Math.PI*2;L.x=(e+i*Math.cos($))*Math.cos(K),L.y=(e+i*Math.cos($))*Math.sin(K),L.z=i*Math.sin($),v.push(L.x,L.y,L.z),R.x=e*Math.cos(K),R.y=e*Math.sin(K),I.subVectors(L,R).normalize(),w.push(I.x,I.y,I.z),S.push(H/l),S.push(F/o)}for(let F=1;F<=o;F++)for(let H=1;H<=l;H++){const K=(l+1)*F+H-1,$=(l+1)*(F-1)+H-1,ee=(l+1)*(F-1)+H,me=(l+1)*F+H;g.push(K,$,me),g.push($,ee,me)}this.setIndex(g),this.setAttribute("position",new Dn(v,3)),this.setAttribute("normal",new Dn(w,3)),this.setAttribute("uv",new Dn(S,2))}}class Ng extends ci{constructor(e,i,o,l,d){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:i,radialSegments:o,tubularSegments:l,arc:d},this.fromBufferGeometry(new Af(e,i,o,l,d)),this.mergeVertices()}}class Bp extends $n{constructor(e=1,i=.4,o=64,l=8,d=2,g=3){super(),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:i,tubularSegments:o,radialSegments:l,p:d,q:g},o=Math.floor(o),l=Math.floor(l);const v=[],w=[],S=[],R=[],L=new ye,I=new ye,F=new ye,H=new ye,K=new ye,$=new ye,ee=new ye;for(let xe=0;xe<=o;++xe){const Ee=xe/o*d*Math.PI*2;me(Ee,d,g,e,F),me(Ee+.01,d,g,e,H),$.subVectors(H,F),ee.addVectors(H,F),K.crossVectors($,ee),ee.crossVectors(K,$),K.normalize(),ee.normalize();for(let Me=0;Me<=l;++Me){const Ne=Me/l*Math.PI*2,Te=-i*Math.cos(Ne),ut=i*Math.sin(Ne);L.x=F.x+(Te*ee.x+ut*K.x),L.y=F.y+(Te*ee.y+ut*K.y),L.z=F.z+(Te*ee.z+ut*K.z),w.push(L.x,L.y,L.z),I.subVectors(L,F).normalize(),S.push(I.x,I.y,I.z),R.push(xe/o),R.push(Me/l)}}for(let xe=1;xe<=o;xe++)for(let Ee=1;Ee<=l;Ee++){const Me=(l+1)*(xe-1)+(Ee-1),Ne=(l+1)*xe+(Ee-1),Te=(l+1)*xe+Ee,ut=(l+1)*(xe-1)+Ee;v.push(Me,Ne,ut),v.push(Ne,Te,ut)}function me(xe,Ee,Me,Ne,Te){const ut=Math.cos(xe),vt=Math.sin(xe),Gt=Me/Ee*xe,Nt=Math.cos(Gt);Te.x=Ne*(2+Nt)*.5*ut,Te.y=Ne*(2+Nt)*vt*.5,Te.z=Ne*Math.sin(Gt)*.5}this.setIndex(v),this.setAttribute("position",new Dn(w,3)),this.setAttribute("normal",new Dn(S,3)),this.setAttribute("uv",new Dn(R,2))}}class pb extends ci{constructor(e,i,o,l,d,g,v){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:i,tubularSegments:o,radialSegments:l,p:d,q:g},v!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Bp(e,i,o,l,d,g)),this.mergeVertices()}}class Hp extends $n{constructor(e,i=64,o=1,l=8,d=!1){super(),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:i,radius:o,radialSegments:l,closed:d};const g=e.computeFrenetFrames(i,d);this.tangents=g.tangents,this.normals=g.normals,this.binormals=g.binormals;const v=new ye,w=new ye,S=new It;let R=new ye;const L=[],I=[],F=[],H=[];function K($){R=e.getPointAt($/i,R);const ee=g.normals[$],me=g.binormals[$];for(let xe=0;xe<=l;xe++){const Ee=xe/l*Math.PI*2,Me=Math.sin(Ee),Ne=-Math.cos(Ee);w.x=Ne*ee.x+Me*me.x,w.y=Ne*ee.y+Me*me.y,w.z=Ne*ee.z+Me*me.z,w.normalize(),I.push(w.x,w.y,w.z),v.x=R.x+o*w.x,v.y=R.y+o*w.y,v.z=R.z+o*w.z,L.push(v.x,v.y,v.z)}}(function(){for(let $=0;$<i;$++)K($);K(d===!1?i:0),function(){for(let $=0;$<=i;$++)for(let ee=0;ee<=l;ee++)S.x=$/i,S.y=ee/l,F.push(S.x,S.y)}(),function(){for(let $=1;$<=i;$++)for(let ee=1;ee<=l;ee++){const me=(l+1)*($-1)+(ee-1),xe=(l+1)*$+(ee-1),Ee=(l+1)*$+ee,Me=(l+1)*($-1)+ee;H.push(me,xe,Me),H.push(xe,Ee,Me)}}()})(),this.setIndex(H),this.setAttribute("position",new Dn(L,3)),this.setAttribute("normal",new Dn(I,3)),this.setAttribute("uv",new Dn(F,2))}toJSON(){const e=$n.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}class mb extends ci{constructor(e,i,o,l,d,g){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:i,radius:o,radialSegments:l,closed:d},g!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const v=new Hp(e,i,o,l,d);this.tangents=v.tangents,this.normals=v.normals,this.binormals=v.binormals,this.fromBufferGeometry(v),this.mergeVertices()}}class Fg extends $n{constructor(e){super(),this.type="WireframeGeometry";const i=[],o=[0,0],l={},d=["a","b","c"];if(e&&e.isGeometry){const g=e.faces;for(let v=0,w=g.length;v<w;v++){const S=g[v];for(let R=0;R<3;R++){const L=S[d[R]],I=S[d[(R+1)%3]];o[0]=Math.min(L,I),o[1]=Math.max(L,I);const F=o[0]+","+o[1];l[F]===void 0&&(l[F]={index1:o[0],index2:o[1]})}}for(const v in l){const w=l[v];let S=e.vertices[w.index1];i.push(S.x,S.y,S.z),S=e.vertices[w.index2],i.push(S.x,S.y,S.z)}}else if(e&&e.isBufferGeometry){const g=new ye;if(e.index!==null){const v=e.attributes.position,w=e.index;let S=e.groups;S.length===0&&(S=[{start:0,count:w.count,materialIndex:0}]);for(let R=0,L=S.length;R<L;++R){const I=S[R],F=I.start;for(let H=F,K=F+I.count;H<K;H+=3)for(let $=0;$<3;$++){const ee=w.getX(H+$),me=w.getX(H+($+1)%3);o[0]=Math.min(ee,me),o[1]=Math.max(ee,me);const xe=o[0]+","+o[1];l[xe]===void 0&&(l[xe]={index1:o[0],index2:o[1]})}}for(const R in l){const L=l[R];g.fromBufferAttribute(v,L.index1),i.push(g.x,g.y,g.z),g.fromBufferAttribute(v,L.index2),i.push(g.x,g.y,g.z)}}else{const v=e.attributes.position;for(let w=0,S=v.count/3;w<S;w++)for(let R=0;R<3;R++){const L=3*w+R;g.fromBufferAttribute(v,L),i.push(g.x,g.y,g.z);const I=3*w+(R+1)%3;g.fromBufferAttribute(v,I),i.push(g.x,g.y,g.z)}}}this.setAttribute("position",new Dn(i,3))}}var ja=Object.freeze({__proto__:null,BoxGeometry:Mi,BoxBufferGeometry:Ia,CircleGeometry:mo,CircleBufferGeometry:To,ConeGeometry:ld,ConeBufferGeometry:Co,CylinderGeometry:tl,CylinderBufferGeometry:go,DodecahedronGeometry:Dp,DodecahedronBufferGeometry:Lc,EdgesGeometry:yh,ExtrudeGeometry:Ny,ExtrudeBufferGeometry:_h,IcosahedronGeometry:Fy,IcosahedronBufferGeometry:Og,LatheGeometry:db,LatheBufferGeometry:kc,OctahedronGeometry:zy,OctahedronBufferGeometry:Oc,ParametricGeometry:zp,ParametricBufferGeometry:vs,PlaneGeometry:By,PlaneBufferGeometry:mp,PolyhedronGeometry:fb,PolyhedronBufferGeometry:_u,RingGeometry:jy,RingBufferGeometry:Hy,ShapeGeometry:Uy,ShapeBufferGeometry:Ig,SphereGeometry:Dg,SphereBufferGeometry:nl,TetrahedronGeometry:Ic,TetrahedronBufferGeometry:Gy,TextGeometry:Sh,TextBufferGeometry:Mf,TorusGeometry:Ng,TorusBufferGeometry:Af,TorusKnotGeometry:pb,TorusKnotBufferGeometry:Bp,TubeGeometry:mb,TubeBufferGeometry:Hp,WireframeGeometry:Fg});function tc(t){yn.call(this),this.type="ShadowMaterial",this.color=new zt(0),this.transparent=!0,this.setValues(t)}function Kl(t){ho.call(this,t),this.type="RawShaderMaterial"}function Eu(t){yn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new zt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=he,this.normalScale=new It(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function nc(t){Eu.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new It(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=Tn.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function Eh(t){yn.call(this),this.type="MeshPhongMaterial",this.color=new zt(16777215),this.specular=new zt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=he,this.normalScale=new It(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=qt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Mh(t){yn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new zt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=he,this.normalScale=new It(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Dc(t){yn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=he,this.normalScale=new It(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function rc(t){yn.call(this),this.type="MeshLambertMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=qt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Nc(t){yn.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new zt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=he,this.normalScale=new It(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ic(t){ks.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}tc.prototype=Object.create(yn.prototype),tc.prototype.constructor=tc,tc.prototype.isShadowMaterial=!0,tc.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.color.copy(t.color),this},Kl.prototype=Object.create(ho.prototype),Kl.prototype.constructor=Kl,Kl.prototype.isRawShaderMaterial=!0,Eu.prototype=Object.create(yn.prototype),Eu.prototype.constructor=Eu,Eu.prototype.isMeshStandardMaterial=!0,Eu.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},nc.prototype=Object.create(Eu.prototype),nc.prototype.constructor=nc,nc.prototype.isMeshPhysicalMaterial=!0,nc.prototype.copy=function(t){return Eu.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new zt).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},Eh.prototype=Object.create(yn.prototype),Eh.prototype.constructor=Eh,Eh.prototype.isMeshPhongMaterial=!0,Eh.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Mh.prototype=Object.create(yn.prototype),Mh.prototype.constructor=Mh,Mh.prototype.isMeshToonMaterial=!0,Mh.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Dc.prototype=Object.create(yn.prototype),Dc.prototype.constructor=Dc,Dc.prototype.isMeshNormalMaterial=!0,Dc.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},rc.prototype=Object.create(yn.prototype),rc.prototype.constructor=rc,rc.prototype.isMeshLambertMaterial=!0,rc.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Nc.prototype=Object.create(yn.prototype),Nc.prototype.constructor=Nc,Nc.prototype.isMeshMatcapMaterial=!0,Nc.prototype.copy=function(t){return yn.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ic.prototype=Object.create(ks.prototype),ic.prototype.constructor=ic,ic.prototype.isLineDashedMaterial=!0,ic.prototype.copy=function(t){return ks.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var gb=Object.freeze({__proto__:null,ShadowMaterial:tc,SpriteMaterial:Ac,RawShaderMaterial:Kl,ShaderMaterial:ho,PointsMaterial:po,MeshPhysicalMaterial:nc,MeshStandardMaterial:Eu,MeshPhongMaterial:Eh,MeshToonMaterial:Mh,MeshNormalMaterial:Dc,MeshLambertMaterial:rc,MeshDepthMaterial:wu,MeshDistanceMaterial:Ec,MeshBasicMaterial:Ei,MeshMatcapMaterial:Nc,LineDashedMaterial:ic,LineBasicMaterial:ks,Material:yn});const Os={arraySlice:function(t,e,i){return Os.isTypedArray(t)?new t.constructor(t.subarray(e,i!==void 0?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,i=new Array(e);for(let o=0;o!==e;++o)i[o]=o;return i.sort(function(o,l){return t[o]-t[l]}),i},sortedArray:function(t,e,i){const o=t.length,l=new t.constructor(o);for(let d=0,g=0;g!==o;++d){const v=i[d]*e;for(let w=0;w!==e;++w)l[g++]=t[v+w]}return l},flattenJSON:function(t,e,i,o){let l=1,d=t[0];for(;d!==void 0&&d[o]===void 0;)d=t[l++];if(d===void 0)return;let g=d[o];if(g!==void 0)if(Array.isArray(g))do g=d[o],g!==void 0&&(e.push(d.time),i.push.apply(i,g)),d=t[l++];while(d!==void 0);else if(g.toArray!==void 0)do g=d[o],g!==void 0&&(e.push(d.time),g.toArray(i,i.length)),d=t[l++];while(d!==void 0);else do g=d[o],g!==void 0&&(e.push(d.time),i.push(g)),d=t[l++];while(d!==void 0)},subclip:function(t,e,i,o,l=30){const d=t.clone();d.name=e;const g=[];for(let w=0;w<d.tracks.length;++w){const S=d.tracks[w],R=S.getValueSize(),L=[],I=[];for(let F=0;F<S.times.length;++F){const H=S.times[F]*l;if(!(H<i||H>=o)){L.push(S.times[F]);for(let K=0;K<R;++K)I.push(S.values[F*R+K])}}L.length!==0&&(S.times=Os.convertArray(L,S.times.constructor),S.values=Os.convertArray(I,S.values.constructor),g.push(S))}d.tracks=g;let v=1/0;for(let w=0;w<d.tracks.length;++w)v>d.tracks[w].times[0]&&(v=d.tracks[w].times[0]);for(let w=0;w<d.tracks.length;++w)d.tracks[w].shift(-1*v);return d.resetDuration(),d},makeClipAdditive:function(t,e=0,i=t,o=30){o<=0&&(o=30);const l=i.tracks.length,d=e/o;for(let g=0;g<l;++g){const v=i.tracks[g],w=v.ValueTypeName;if(w==="bool"||w==="string")continue;const S=t.tracks.find(function(ee){return ee.name===v.name&&ee.ValueTypeName===w});if(S===void 0)continue;let R=0;const L=v.getValueSize();v.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(R=L/3);let I=0;const F=S.getValueSize();S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(I=F/3);const H=v.times.length-1;let K;if(d<=v.times[0]){const ee=R,me=L-R;K=Os.arraySlice(v.values,ee,me)}else if(d>=v.times[H]){const ee=H*L+R,me=ee+L-R;K=Os.arraySlice(v.values,ee,me)}else{const ee=v.createInterpolant(),me=R,xe=L-R;ee.evaluate(d),K=Os.arraySlice(ee.resultBuffer,me,xe)}w==="quaternion"&&new ds().fromArray(K).normalize().conjugate().toArray(K);const $=S.times.length;for(let ee=0;ee<$;++ee){const me=ee*F+I;if(w==="quaternion")ds.multiplyQuaternionsFlat(S.values,me,K,0,S.values,me);else{const xe=F-2*I;for(let Ee=0;Ee<xe;++Ee)S.values[me+Ee]-=K[Ee]}}}return t.blendMode=Z,t}};function Ua(t,e,i,o){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=o!==void 0?o:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function zg(t,e,i,o){Ua.call(this,t,e,i,o),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Fc(t,e,i,o){Ua.call(this,t,e,i,o)}function Bg(t,e,i,o){Ua.call(this,t,e,i,o)}function Lo(t,e,i,o){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Os.convertArray(e,this.TimeBufferType),this.values=Os.convertArray(i,this.ValueBufferType),this.setInterpolation(o||this.DefaultInterpolation)}function s(t,e,i){Lo.call(this,t,e,i)}function u(t,e,i,o){Lo.call(this,t,e,i,o)}function p(t,e,i,o){Lo.call(this,t,e,i,o)}function M(t,e,i,o){Ua.call(this,t,e,i,o)}function z(t,e,i,o){Lo.call(this,t,e,i,o)}function V(t,e,i,o){Lo.call(this,t,e,i,o)}function ae(t,e,i,o){Lo.call(this,t,e,i,o)}function Ae(t,e=-1,i,o=da){this.name=t,this.tracks=i,this.duration=e,this.blendMode=o,this.uuid=Tn.generateUUID(),this.duration<0&&this.resetDuration()}function Ge(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return p;case"vector":case"vector2":case"vector3":case"vector4":return ae;case"color":return u;case"quaternion":return z;case"bool":case"boolean":return s;case"string":return V}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}(t.type);if(t.times===void 0){const i=[],o=[];Os.flattenJSON(t.keys,i,o,"value"),t.times=i,t.values=o}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(Ua.prototype,{evaluate:function(t){const e=this.parameterPositions;let i=this._cachedIndex,o=e[i],l=e[i-1];e:{t:{let d;n:{r:if(!(t<o)){for(let g=i+2;;){if(o===void 0){if(t<l)break r;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,l)}if(i===g)break;if(l=o,o=e[++i],t<o)break t}d=e.length;break n}if(t>=l)break e;{const g=e[1];t<g&&(i=2,l=g);for(let v=i-2;;){if(l===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,o);if(i===v)break;if(o=l,l=e[--i-1],t>=l)break t}d=i,i=0}}for(;i<d;){const g=i+d>>>1;t<e[g]?d=g:i=g+1}if(o=e[i],l=e[i-1],l===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,o);if(o===void 0)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,l,t)}this._cachedIndex=i,this.intervalChanged_(i,l,o)}return this.interpolate_(i,l,t,o)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,i=this.sampleValues,o=this.valueSize,l=t*o;for(let d=0;d!==o;++d)e[d]=i[l+d];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ua.prototype,{beforeStart_:Ua.prototype.copySampleValue_,afterEnd_:Ua.prototype.copySampleValue_}),zg.prototype=Object.assign(Object.create(Ua.prototype),{constructor:zg,DefaultSettings_:{endingStart:Ci,endingEnd:Ci},intervalChanged_:function(t,e,i){const o=this.parameterPositions;let l=t-2,d=t+1,g=o[l],v=o[d];if(g===void 0)switch(this.getSettings_().endingStart){case ao:l=t,g=2*e-i;break;case Ml:l=o.length-2,g=e+o[l]-o[l+1];break;default:l=t,g=i}if(v===void 0)switch(this.getSettings_().endingEnd){case ao:d=t,v=2*i-e;break;case Ml:d=1,v=i+o[1]-o[0];break;default:d=t-1,v=e}const w=.5*(i-e),S=this.valueSize;this._weightPrev=w/(e-g),this._weightNext=w/(v-i),this._offsetPrev=l*S,this._offsetNext=d*S},interpolate_:function(t,e,i,o){const l=this.resultBuffer,d=this.sampleValues,g=this.valueSize,v=t*g,w=v-g,S=this._offsetPrev,R=this._offsetNext,L=this._weightPrev,I=this._weightNext,F=(i-e)/(o-e),H=F*F,K=H*F,$=-L*K+2*L*H-L*F,ee=(1+L)*K+(-1.5-2*L)*H+(-.5+L)*F+1,me=(-1-I)*K+(1.5+I)*H+.5*F,xe=I*K-I*H;for(let Ee=0;Ee!==g;++Ee)l[Ee]=$*d[S+Ee]+ee*d[w+Ee]+me*d[v+Ee]+xe*d[R+Ee];return l}}),Fc.prototype=Object.assign(Object.create(Ua.prototype),{constructor:Fc,interpolate_:function(t,e,i,o){const l=this.resultBuffer,d=this.sampleValues,g=this.valueSize,v=t*g,w=v-g,S=(i-e)/(o-e),R=1-S;for(let L=0;L!==g;++L)l[L]=d[w+L]*R+d[v+L]*S;return l}}),Bg.prototype=Object.assign(Object.create(Ua.prototype),{constructor:Bg,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Lo,{toJSON:function(t){const e=t.constructor;let i;if(e.toJSON!==void 0)i=e.toJSON(t);else{i={name:t.name,times:Os.convertArray(t.times,Array),values:Os.convertArray(t.values,Array)};const o=t.getInterpolation();o!==t.DefaultInterpolation&&(i.interpolation=o)}return i.type=t.ValueTypeName,i}}),Object.assign(Lo.prototype,{constructor:Lo,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:oo,InterpolantFactoryMethodDiscrete:function(t){return new Bg(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Fc(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new zg(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case Es:e=this.InterpolantFactoryMethodDiscrete;break;case oo:e=this.InterpolantFactoryMethodLinear;break;case Ra:e=this.InterpolantFactoryMethodSmooth}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Es;case this.InterpolantFactoryMethodLinear:return oo;case this.InterpolantFactoryMethodSmooth:return Ra}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(t!==0){const e=this.times;for(let i=0,o=e.length;i!==o;++i)e[i]+=t}return this},scale:function(t){if(t!==1){const e=this.times;for(let i=0,o=e.length;i!==o;++i)e[i]*=t}return this},trim:function(t,e){const i=this.times,o=i.length;let l=0,d=o-1;for(;l!==o&&i[l]<t;)++l;for(;d!==-1&&i[d]>e;)--d;if(++d,l!==0||d!==o){l>=d&&(d=Math.max(d,1),l=d-1);const g=this.getValueSize();this.times=Os.arraySlice(i,l,d),this.values=Os.arraySlice(this.values,l*g,d*g)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,o=this.values,l=i.length;l===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let d=null;for(let g=0;g!==l;g++){const v=i[g];if(typeof v=="number"&&isNaN(v)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,g,v),t=!1;break}if(d!==null&&d>v){console.error("THREE.KeyframeTrack: Out of order keys.",this,g,v,d),t=!1;break}d=v}if(o!==void 0&&Os.isTypedArray(o))for(let g=0,v=o.length;g!==v;++g){const w=o[g];if(isNaN(w)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,g,w),t=!1;break}}return t},optimize:function(){const t=Os.arraySlice(this.times),e=Os.arraySlice(this.values),i=this.getValueSize(),o=this.getInterpolation()===Ra,l=t.length-1;let d=1;for(let g=1;g<l;++g){let v=!1;const w=t[g];if(w!==t[g+1]&&(g!==1||w!==w[0]))if(o)v=!0;else{const S=g*i,R=S-i,L=S+i;for(let I=0;I!==i;++I){const F=e[S+I];if(F!==e[R+I]||F!==e[L+I]){v=!0;break}}}if(v){if(g!==d){t[d]=t[g];const S=g*i,R=d*i;for(let L=0;L!==i;++L)e[R+L]=e[S+L]}++d}}if(l>0){t[d]=t[l];for(let g=l*i,v=d*i,w=0;w!==i;++w)e[v+w]=e[g+w];++d}return d!==t.length?(this.times=Os.arraySlice(t,0,d),this.values=Os.arraySlice(e,0,d*i)):(this.times=t,this.values=e),this},clone:function(){const t=Os.arraySlice(this.times,0),e=Os.arraySlice(this.values,0),i=new this.constructor(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}),s.prototype=Object.assign(Object.create(Lo.prototype),{constructor:s,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Es,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),u.prototype=Object.assign(Object.create(Lo.prototype),{constructor:u,ValueTypeName:"color"}),p.prototype=Object.assign(Object.create(Lo.prototype),{constructor:p,ValueTypeName:"number"}),M.prototype=Object.assign(Object.create(Ua.prototype),{constructor:M,interpolate_:function(t,e,i,o){const l=this.resultBuffer,d=this.sampleValues,g=this.valueSize,v=(i-e)/(o-e);let w=t*g;for(let S=w+g;w!==S;w+=4)ds.slerpFlat(l,0,d,w-g,d,w,v);return l}}),z.prototype=Object.assign(Object.create(Lo.prototype),{constructor:z,ValueTypeName:"quaternion",DefaultInterpolation:oo,InterpolantFactoryMethodLinear:function(t){return new M(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),V.prototype=Object.assign(Object.create(Lo.prototype),{constructor:V,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Es,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ae.prototype=Object.assign(Object.create(Lo.prototype),{constructor:ae,ValueTypeName:"vector"}),Object.assign(Ae,{parse:function(t){const e=[],i=t.tracks,o=1/(t.fps||1);for(let d=0,g=i.length;d!==g;++d)e.push(Ge(i[d]).scale(o));const l=new Ae(t.name,t.duration,e,t.blendMode);return l.uuid=t.uuid,l},toJSON:function(t){const e=[],i=t.tracks,o={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let l=0,d=i.length;l!==d;++l)e.push(Lo.toJSON(i[l]));return o},CreateFromMorphTargetSequence:function(t,e,i,o){const l=e.length,d=[];for(let g=0;g<l;g++){let v=[],w=[];v.push((g+l-1)%l,g,(g+1)%l),w.push(0,1,0);const S=Os.getKeyframeOrder(v);v=Os.sortedArray(v,1,S),w=Os.sortedArray(w,1,S),o||v[0]!==0||(v.push(l),w.push(w[0])),d.push(new p(".morphTargetInfluences["+e[g].name+"]",v,w).scale(1/i))}return new Ae(t,-1,d)},findByName:function(t,e){let i=t;if(!Array.isArray(t)){const o=t;i=o.geometry&&o.geometry.animations||o.animations}for(let o=0;o<i.length;o++)if(i[o].name===e)return i[o];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){const o={},l=/^([\w-]*?)([\d]+)$/;for(let g=0,v=t.length;g<v;g++){const w=t[g],S=w.name.match(l);if(S&&S.length>1){const R=S[1];let L=o[R];L||(o[R]=L=[]),L.push(w)}}const d=[];for(const g in o)d.push(Ae.CreateFromMorphTargetSequence(g,o[g],e,i));return d},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(S,R,L,I,F){if(L.length!==0){const H=[],K=[];Os.flattenJSON(L,H,K,I),H.length!==0&&F.push(new S(R,H,K))}},o=[],l=t.name||"default",d=t.fps||30,g=t.blendMode;let v=t.length||-1;const w=t.hierarchy||[];for(let S=0;S<w.length;S++){const R=w[S].keys;if(R&&R.length!==0)if(R[0].morphTargets){const L={};let I;for(I=0;I<R.length;I++)if(R[I].morphTargets)for(let F=0;F<R[I].morphTargets.length;F++)L[R[I].morphTargets[F]]=-1;for(const F in L){const H=[],K=[];for(let $=0;$!==R[I].morphTargets.length;++$){const ee=R[I];H.push(ee.time),K.push(ee.morphTarget===F?1:0)}o.push(new p(".morphTargetInfluence["+F+"]",H,K))}v=L.length*d}else{const L=".bones["+e[S].name+"]";i(ae,L+".position",R,"pos",o),i(z,L+".quaternion",R,"rot",o),i(ae,L+".scale",R,"scl",o)}}return o.length===0?null:new Ae(l,v,o,g)}}),Object.assign(Ae.prototype,{resetDuration:function(){let t=0;for(let e=0,i=this.tracks.length;e!==i;++e){const o=this.tracks[e];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Ae(this.name,this.duration,t,this.blendMode)},toJSON:function(){return Ae.toJSON(this)}});const xt={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function sn(t,e,i){const o=this;let l=!1,d=0,g=0,v;const w=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(S){g++,l===!1&&o.onStart!==void 0&&o.onStart(S,d,g),l=!0},this.itemEnd=function(S){d++,o.onProgress!==void 0&&o.onProgress(S,d,g),d===g&&(l=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(S){o.onError!==void 0&&o.onError(S)},this.resolveURL=function(S){return v?v(S):S},this.setURLModifier=function(S){return v=S,this},this.addHandler=function(S,R){return w.push(S,R),this},this.removeHandler=function(S){const R=w.indexOf(S);return R!==-1&&w.splice(R,2),this},this.getHandler=function(S){for(let R=0,L=w.length;R<L;R+=2){const I=w[R],F=w[R+1];if(I.global&&(I.lastIndex=0),I.test(S))return F}return null}}const un=new sn;function Ot(t){this.manager=t!==void 0?t:un,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Ot.prototype,{load:function(){},loadAsync:function(t,e){const i=this;return new Promise(function(o,l){i.load(t,o,e,l)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const Ln={};function Fn(t){Ot.call(this,t)}function nr(t){Ot.call(this,t)}function Ys(t){Ot.call(this,t)}function ht(t){Ot.call(this,t)}function Ye(t){Ot.call(this,t)}function mt(t){Ot.call(this,t)}function fn(t){Ot.call(this,t)}function Xt(){this.type="Curve",this.arcLengthDivisions=200}function rr(t,e,i,o,l,d,g,v){Xt.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=o||1,this.aStartAngle=l||0,this.aEndAngle=d||2*Math.PI,this.aClockwise=g||!1,this.aRotation=v||0}function gr(t,e,i,o,l,d){rr.call(this,t,e,i,i,o,l,d),this.type="ArcCurve"}function Or(){let t=0,e=0,i=0,o=0;function l(d,g,v,w){t=d,e=v,i=-3*d+3*g-2*v-w,o=2*d-2*g+v+w}return{initCatmullRom:function(d,g,v,w,S){l(g,v,S*(v-d),S*(w-g))},initNonuniformCatmullRom:function(d,g,v,w,S,R,L){let I=(g-d)/S-(v-d)/(S+R)+(v-g)/R,F=(v-g)/R-(w-g)/(R+L)+(w-v)/L;I*=R,F*=R,l(g,v,I,F)},calc:function(d){const g=d*d;return t+e*d+i*g+o*(g*d)}}}Fn.prototype=Object.assign(Object.create(Ot.prototype),{constructor:Fn,load:function(t,e,i,o){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const l=this,d=xt.get(t);if(d!==void 0)return l.manager.itemStart(t),setTimeout(function(){e&&e(d),l.manager.itemEnd(t)},0),d;if(Ln[t]!==void 0)return void Ln[t].push({onLoad:e,onProgress:i,onError:o});const g=t.match(/^data:(.*?)(;base64)?,(.*)$/);let v;if(g){const w=g[1],S=!!g[2];let R=g[3];R=decodeURIComponent(R),S&&(R=atob(R));try{let L;const I=(this.responseType||"").toLowerCase();switch(I){case"arraybuffer":case"blob":const F=new Uint8Array(R.length);for(let K=0;K<R.length;K++)F[K]=R.charCodeAt(K);L=I==="blob"?new Blob([F.buffer],{type:w}):F.buffer;break;case"document":L=new DOMParser().parseFromString(R,w);break;case"json":L=JSON.parse(R);break;default:L=R}setTimeout(function(){e&&e(L),l.manager.itemEnd(t)},0)}catch(L){setTimeout(function(){o&&o(L),l.manager.itemError(t),l.manager.itemEnd(t)},0)}}else{Ln[t]=[],Ln[t].push({onLoad:e,onProgress:i,onError:o}),v=new XMLHttpRequest,v.open("GET",t,!0),v.addEventListener("load",function(w){const S=this.response,R=Ln[t];if(delete Ln[t],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),xt.add(t,S);for(let L=0,I=R.length;L<I;L++){const F=R[L];F.onLoad&&F.onLoad(S)}l.manager.itemEnd(t)}else{for(let L=0,I=R.length;L<I;L++){const F=R[L];F.onError&&F.onError(w)}l.manager.itemError(t),l.manager.itemEnd(t)}},!1),v.addEventListener("progress",function(w){const S=Ln[t];for(let R=0,L=S.length;R<L;R++){const I=S[R];I.onProgress&&I.onProgress(w)}},!1),v.addEventListener("error",function(w){const S=Ln[t];delete Ln[t];for(let R=0,L=S.length;R<L;R++){const I=S[R];I.onError&&I.onError(w)}l.manager.itemError(t),l.manager.itemEnd(t)},!1),v.addEventListener("abort",function(w){const S=Ln[t];delete Ln[t];for(let R=0,L=S.length;R<L;R++){const I=S[R];I.onError&&I.onError(w)}l.manager.itemError(t),l.manager.itemEnd(t)},!1),this.responseType!==void 0&&(v.responseType=this.responseType),this.withCredentials!==void 0&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const w in this.requestHeader)v.setRequestHeader(w,this.requestHeader[w]);v.send(null)}return l.manager.itemStart(t),v},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),nr.prototype=Object.assign(Object.create(Ot.prototype),{constructor:nr,load:function(t,e,i,o){const l=this,d=new Fn(l.manager);d.setPath(l.path),d.setRequestHeader(l.requestHeader),d.setWithCredentials(l.withCredentials),d.load(t,function(g){try{e(l.parse(JSON.parse(g)))}catch(v){o?o(v):console.error(v),l.manager.itemError(t)}},i,o)},parse:function(t){const e=[];for(let i=0;i<t.length;i++){const o=Ae.parse(t[i]);e.push(o)}return e}}),Ys.prototype=Object.assign(Object.create(Ot.prototype),{constructor:Ys,load:function(t,e,i,o){const l=this,d=[],g=new ad,v=new Fn(this.manager);v.setPath(this.path),v.setResponseType("arraybuffer"),v.setRequestHeader(this.requestHeader),v.setWithCredentials(l.withCredentials);let w=0;function S(R){v.load(t[R],function(L){const I=l.parse(L,!0);d[R]={width:I.width,height:I.height,format:I.format,mipmaps:I.mipmaps},w+=1,w===6&&(I.mipmapCount===1&&(g.minFilter=Sr),g.image=d,g.format=I.format,g.needsUpdate=!0,e&&e(g))},i,o)}if(Array.isArray(t))for(let R=0,L=t.length;R<L;++R)S(R);else v.load(t,function(R){const L=l.parse(R,!0);if(L.isCubemap){const I=L.mipmaps.length/L.mipmapCount;for(let F=0;F<I;F++){d[F]={mipmaps:[]};for(let H=0;H<L.mipmapCount;H++)d[F].mipmaps.push(L.mipmaps[F*L.mipmapCount+H]),d[F].format=L.format,d[F].width=L.width,d[F].height=L.height}g.image=d}else g.image.width=L.width,g.image.height=L.height,g.mipmaps=L.mipmaps;L.mipmapCount===1&&(g.minFilter=Sr),g.format=L.format,g.needsUpdate=!0,e&&e(g)},i,o);return g}}),ht.prototype=Object.assign(Object.create(Ot.prototype),{constructor:ht,load:function(t,e,i,o){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const l=this,d=xt.get(t);if(d!==void 0)return l.manager.itemStart(t),setTimeout(function(){e&&e(d),l.manager.itemEnd(t)},0),d;const g=document.createElementNS("http://www.w3.org/1999/xhtml","img");function v(){g.removeEventListener("load",v,!1),g.removeEventListener("error",w,!1),xt.add(t,this),e&&e(this),l.manager.itemEnd(t)}function w(S){g.removeEventListener("load",v,!1),g.removeEventListener("error",w,!1),o&&o(S),l.manager.itemError(t),l.manager.itemEnd(t)}return g.addEventListener("load",v,!1),g.addEventListener("error",w,!1),t.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(g.crossOrigin=this.crossOrigin),l.manager.itemStart(t),g.src=t,g}}),Ye.prototype=Object.assign(Object.create(Ot.prototype),{constructor:Ye,load:function(t,e,i,o){const l=new to,d=new ht(this.manager);d.setCrossOrigin(this.crossOrigin),d.setPath(this.path);let g=0;function v(w){d.load(t[w],function(S){l.images[w]=S,g++,g===6&&(l.needsUpdate=!0,e&&e(l))},void 0,o)}for(let w=0;w<t.length;++w)v(w);return l}}),mt.prototype=Object.assign(Object.create(Ot.prototype),{constructor:mt,load:function(t,e,i,o){const l=this,d=new Bi,g=new Fn(this.manager);return g.setResponseType("arraybuffer"),g.setRequestHeader(this.requestHeader),g.setPath(this.path),g.setWithCredentials(l.withCredentials),g.load(t,function(v){const w=l.parse(v);w&&(w.image!==void 0?d.image=w.image:w.data!==void 0&&(d.image.width=w.width,d.image.height=w.height,d.image.data=w.data),d.wrapS=w.wrapS!==void 0?w.wrapS:Ir,d.wrapT=w.wrapT!==void 0?w.wrapT:Ir,d.magFilter=w.magFilter!==void 0?w.magFilter:Sr,d.minFilter=w.minFilter!==void 0?w.minFilter:Sr,d.anisotropy=w.anisotropy!==void 0?w.anisotropy:1,w.format!==void 0&&(d.format=w.format),w.type!==void 0&&(d.type=w.type),w.mipmaps!==void 0&&(d.mipmaps=w.mipmaps,d.minFilter=Gs),w.mipmapCount===1&&(d.minFilter=Sr),d.needsUpdate=!0,e&&e(d,w))},i,o),d}}),fn.prototype=Object.assign(Object.create(Ot.prototype),{constructor:fn,load:function(t,e,i,o){const l=new ii,d=new ht(this.manager);return d.setCrossOrigin(this.crossOrigin),d.setPath(this.path),d.load(t,function(g){l.image=g;const v=t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0;l.format=v?ws:mi,l.needsUpdate=!0,e!==void 0&&e(l)},i,o),l}}),Object.assign(Xt.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t===void 0&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,o=this.getPoint(0),l=0;e.push(0);for(let d=1;d<=t;d++)i=this.getPoint(d/t),l+=i.distanceTo(o),e.push(l),o=i;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const i=this.getLengths();let o=0;const l=i.length;let d;d=e||t*i[l-1];let g,v=0,w=l-1;for(;v<=w;)if(o=Math.floor(v+(w-v)/2),g=i[o]-d,g<0)v=o+1;else{if(!(g>0)){w=o;break}w=o-1}if(o=w,i[o]===d)return o/(l-1);const S=i[o];return(o+(d-S)/(i[o+1]-S))/(l-1)},getTangent:function(t,e){let i=t-1e-4,o=t+1e-4;i<0&&(i=0),o>1&&(o=1);const l=this.getPoint(i),d=this.getPoint(o),g=e||(l.isVector2?new It:new ye);return g.copy(d).sub(l).normalize(),g},getTangentAt:function(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)},computeFrenetFrames:function(t,e){const i=new ye,o=[],l=[],d=[],g=new ye,v=new Pr;for(let I=0;I<=t;I++){const F=I/t;o[I]=this.getTangentAt(F,new ye),o[I].normalize()}l[0]=new ye,d[0]=new ye;let w=Number.MAX_VALUE;const S=Math.abs(o[0].x),R=Math.abs(o[0].y),L=Math.abs(o[0].z);S<=w&&(w=S,i.set(1,0,0)),R<=w&&(w=R,i.set(0,1,0)),L<=w&&i.set(0,0,1),g.crossVectors(o[0],i).normalize(),l[0].crossVectors(o[0],g),d[0].crossVectors(o[0],l[0]);for(let I=1;I<=t;I++){if(l[I]=l[I-1].clone(),d[I]=d[I-1].clone(),g.crossVectors(o[I-1],o[I]),g.length()>Number.EPSILON){g.normalize();const F=Math.acos(Tn.clamp(o[I-1].dot(o[I]),-1,1));l[I].applyMatrix4(v.makeRotationAxis(g,F))}d[I].crossVectors(o[I],l[I])}if(e===!0){let I=Math.acos(Tn.clamp(l[0].dot(l[t]),-1,1));I/=t,o[0].dot(g.crossVectors(l[0],l[t]))>0&&(I=-I);for(let F=1;F<=t;F++)l[F].applyMatrix4(v.makeRotationAxis(o[F],I*F)),d[F].crossVectors(o[F],l[F])}return{tangents:o,normals:l,binormals:d}},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),rr.prototype=Object.create(Xt.prototype),rr.prototype.constructor=rr,rr.prototype.isEllipseCurve=!0,rr.prototype.getPoint=function(t,e){const i=e||new It,o=2*Math.PI;let l=this.aEndAngle-this.aStartAngle;const d=Math.abs(l)<Number.EPSILON;for(;l<0;)l+=o;for(;l>o;)l-=o;l<Number.EPSILON&&(l=d?0:o),this.aClockwise!==!0||d||(l===o?l=-o:l-=o);const g=this.aStartAngle+t*l;let v=this.aX+this.xRadius*Math.cos(g),w=this.aY+this.yRadius*Math.sin(g);if(this.aRotation!==0){const S=Math.cos(this.aRotation),R=Math.sin(this.aRotation),L=v-this.aX,I=w-this.aY;v=L*S-I*R+this.aX,w=L*R+I*S+this.aY}return i.set(v,w)},rr.prototype.copy=function(t){return Xt.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},rr.prototype.toJSON=function(){const t=Xt.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},rr.prototype.fromJSON=function(t){return Xt.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},gr.prototype=Object.create(rr.prototype),gr.prototype.constructor=gr,gr.prototype.isArcCurve=!0;const vo=new ye,Ri=new Or,sc=new Or,Vy=new Or;function ml(t=[],e=!1,i="centripetal",o=.5){Xt.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=o}function BS(t,e,i,o,l){const d=.5*(o-e),g=.5*(l-i),v=t*t;return(2*i-2*o+d+g)*(t*v)+(-3*i+3*o-2*d-g)*v+d*t+i}function Wy(t,e,i,o){return function(l,d){const g=1-l;return g*g*d}(t,e)+function(l,d){return 2*(1-l)*l*d}(t,i)+function(l,d){return l*l*d}(t,o)}function qy(t,e,i,o,l){return function(d,g){const v=1-d;return v*v*v*g}(t,e)+function(d,g){const v=1-d;return 3*v*v*d*g}(t,i)+function(d,g){return 3*(1-d)*d*d*g}(t,o)+function(d,g){return d*d*d*g}(t,l)}function zc(t=new It,e=new It,i=new It,o=new It){Xt.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=o}function Ah(t=new ye,e=new ye,i=new ye,o=new ye){Xt.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=o}function Jl(t=new It,e=new It){Xt.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function Bc(t=new ye,e=new ye){Xt.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function Hc(t=new It,e=new It,i=new It){Xt.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}function Th(t=new ye,e=new ye,i=new ye){Xt.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}function jc(t=[]){Xt.call(this),this.type="SplineCurve",this.points=t}ml.prototype=Object.create(Xt.prototype),ml.prototype.constructor=ml,ml.prototype.isCatmullRomCurve3=!0,ml.prototype.getPoint=function(t,e=new ye){const i=e,o=this.points,l=o.length,d=(l-(this.closed?0:1))*t;let g,v,w=Math.floor(d),S=d-w;this.closed?w+=w>0?0:(Math.floor(Math.abs(w)/l)+1)*l:S===0&&w===l-1&&(w=l-2,S=1),this.closed||w>0?g=o[(w-1)%l]:(vo.subVectors(o[0],o[1]).add(o[0]),g=vo);const R=o[w%l],L=o[(w+1)%l];if(this.closed||w+2<l?v=o[(w+2)%l]:(vo.subVectors(o[l-1],o[l-2]).add(o[l-1]),v=vo),this.curveType==="centripetal"||this.curveType==="chordal"){const I=this.curveType==="chordal"?.5:.25;let F=Math.pow(g.distanceToSquared(R),I),H=Math.pow(R.distanceToSquared(L),I),K=Math.pow(L.distanceToSquared(v),I);H<1e-4&&(H=1),F<1e-4&&(F=H),K<1e-4&&(K=H),Ri.initNonuniformCatmullRom(g.x,R.x,L.x,v.x,F,H,K),sc.initNonuniformCatmullRom(g.y,R.y,L.y,v.y,F,H,K),Vy.initNonuniformCatmullRom(g.z,R.z,L.z,v.z,F,H,K)}else this.curveType==="catmullrom"&&(Ri.initCatmullRom(g.x,R.x,L.x,v.x,this.tension),sc.initCatmullRom(g.y,R.y,L.y,v.y,this.tension),Vy.initCatmullRom(g.z,R.z,L.z,v.z,this.tension));return i.set(Ri.calc(S),sc.calc(S),Vy.calc(S)),i},ml.prototype.copy=function(t){Xt.prototype.copy.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const o=t.points[e];this.points.push(o.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},ml.prototype.toJSON=function(){const t=Xt.prototype.toJSON.call(this);t.points=[];for(let e=0,i=this.points.length;e<i;e++){const o=this.points[e];t.points.push(o.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},ml.prototype.fromJSON=function(t){Xt.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const o=t.points[e];this.points.push(new ye().fromArray(o))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},zc.prototype=Object.create(Xt.prototype),zc.prototype.constructor=zc,zc.prototype.isCubicBezierCurve=!0,zc.prototype.getPoint=function(t,e=new It){const i=e,o=this.v0,l=this.v1,d=this.v2,g=this.v3;return i.set(qy(t,o.x,l.x,d.x,g.x),qy(t,o.y,l.y,d.y,g.y)),i},zc.prototype.copy=function(t){return Xt.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},zc.prototype.toJSON=function(){const t=Xt.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},zc.prototype.fromJSON=function(t){return Xt.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Ah.prototype=Object.create(Xt.prototype),Ah.prototype.constructor=Ah,Ah.prototype.isCubicBezierCurve3=!0,Ah.prototype.getPoint=function(t,e=new ye){const i=e,o=this.v0,l=this.v1,d=this.v2,g=this.v3;return i.set(qy(t,o.x,l.x,d.x,g.x),qy(t,o.y,l.y,d.y,g.y),qy(t,o.z,l.z,d.z,g.z)),i},Ah.prototype.copy=function(t){return Xt.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Ah.prototype.toJSON=function(){const t=Xt.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Ah.prototype.fromJSON=function(t){return Xt.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Jl.prototype=Object.create(Xt.prototype),Jl.prototype.constructor=Jl,Jl.prototype.isLineCurve=!0,Jl.prototype.getPoint=function(t,e=new It){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},Jl.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Jl.prototype.getTangent=function(t,e){const i=e||new It;return i.copy(this.v2).sub(this.v1).normalize(),i},Jl.prototype.copy=function(t){return Xt.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Jl.prototype.toJSON=function(){const t=Xt.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Jl.prototype.fromJSON=function(t){return Xt.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Bc.prototype=Object.create(Xt.prototype),Bc.prototype.constructor=Bc,Bc.prototype.isLineCurve3=!0,Bc.prototype.getPoint=function(t,e=new ye){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},Bc.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Bc.prototype.copy=function(t){return Xt.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Bc.prototype.toJSON=function(){const t=Xt.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Bc.prototype.fromJSON=function(t){return Xt.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Hc.prototype=Object.create(Xt.prototype),Hc.prototype.constructor=Hc,Hc.prototype.isQuadraticBezierCurve=!0,Hc.prototype.getPoint=function(t,e=new It){const i=e,o=this.v0,l=this.v1,d=this.v2;return i.set(Wy(t,o.x,l.x,d.x),Wy(t,o.y,l.y,d.y)),i},Hc.prototype.copy=function(t){return Xt.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Hc.prototype.toJSON=function(){const t=Xt.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Hc.prototype.fromJSON=function(t){return Xt.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Th.prototype=Object.create(Xt.prototype),Th.prototype.constructor=Th,Th.prototype.isQuadraticBezierCurve3=!0,Th.prototype.getPoint=function(t,e=new ye){const i=e,o=this.v0,l=this.v1,d=this.v2;return i.set(Wy(t,o.x,l.x,d.x),Wy(t,o.y,l.y,d.y),Wy(t,o.z,l.z,d.z)),i},Th.prototype.copy=function(t){return Xt.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Th.prototype.toJSON=function(){const t=Xt.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Th.prototype.fromJSON=function(t){return Xt.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},jc.prototype=Object.create(Xt.prototype),jc.prototype.constructor=jc,jc.prototype.isSplineCurve=!0,jc.prototype.getPoint=function(t,e=new It){const i=e,o=this.points,l=(o.length-1)*t,d=Math.floor(l),g=l-d,v=o[d===0?d:d-1],w=o[d],S=o[d>o.length-2?o.length-1:d+1],R=o[d>o.length-3?o.length-1:d+2];return i.set(BS(g,v.x,w.x,S.x,R.x),BS(g,v.y,w.y,S.y,R.y)),i},jc.prototype.copy=function(t){Xt.prototype.copy.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const o=t.points[e];this.points.push(o.clone())}return this},jc.prototype.toJSON=function(){const t=Xt.prototype.toJSON.call(this);t.points=[];for(let e=0,i=this.points.length;e<i;e++){const o=this.points[e];t.points.push(o.toArray())}return t},jc.prototype.fromJSON=function(t){Xt.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const o=t.points[e];this.points.push(new It().fromArray(o))}return this};var f1=Object.freeze({__proto__:null,ArcCurve:gr,CatmullRomCurve3:ml,CubicBezierCurve:zc,CubicBezierCurve3:Ah,EllipseCurve:rr,LineCurve:Jl,LineCurve3:Bc,QuadraticBezierCurve:Hc,QuadraticBezierCurve3:Th,SplineCurve:jc});function cd(){Xt.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Uc(t){cd.call(this),this.type="Path",this.currentPoint=new It,t&&this.setFromPoints(t)}function Tf(t){Uc.call(this,t),this.uuid=Tn.generateUUID(),this.type="Shape",this.holes=[]}function js(t,e=1){D.call(this),this.type="Light",this.color=new zt(t),this.intensity=e}function vb(t,e,i){js.call(this,t,i),this.type="HemisphereLight",this.position.copy(D.DefaultUp),this.updateMatrix(),this.groundColor=new zt(e)}function hd(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new It(512,512),this.map=null,this.mapPass=null,this.matrix=new Pr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Jd,this._frameExtents=new It(1,1),this._viewportCount=1,this._viewports=[new Di(0,0,1,1)]}function p1(){hd.call(this,new eo(50,1,.5,500)),this.focus=1}function yb(t,e,i,o,l,d){js.call(this,t,e),this.type="SpotLight",this.position.copy(D.DefaultUp),this.updateMatrix(),this.target=new D,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(g){this.intensity=g/Math.PI}}),this.distance=i!==void 0?i:0,this.angle=o!==void 0?o:Math.PI/3,this.penumbra=l!==void 0?l:0,this.decay=d!==void 0?d:1,this.shadow=new p1}function m1(){hd.call(this,new eo(90,1,.5,500)),this._frameExtents=new It(4,2),this._viewportCount=6,this._viewports=[new Di(2,1,1,1),new Di(0,1,1,1),new Di(3,1,1,1),new Di(1,1,1,1),new Di(3,0,1,1),new Di(1,0,1,1)],this._cubeDirections=[new ye(1,0,0),new ye(-1,0,0),new ye(0,0,1),new ye(0,0,-1),new ye(0,1,0),new ye(0,-1,0)],this._cubeUps=[new ye(0,1,0),new ye(0,1,0),new ye(0,1,0),new ye(0,1,0),new ye(0,0,1),new ye(0,0,-1)]}function xb(t,e,i,o){js.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(l){this.intensity=l/(4*Math.PI)}}),this.distance=i!==void 0?i:0,this.decay=o!==void 0?o:1,this.shadow=new m1}function Hg(t=-1,e=1,i=1,o=-1,l=.1,d=2e3){xu.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=o,this.near=l,this.far=d,this.updateProjectionMatrix()}function g1(){hd.call(this,new Hg(-5,5,5,-5,.5,500))}function bb(t,e){js.call(this,t,e),this.type="DirectionalLight",this.position.copy(D.DefaultUp),this.updateMatrix(),this.target=new D,this.shadow=new g1}function wb(t,e){js.call(this,t,e),this.type="AmbientLight"}function _b(t,e,i,o){js.call(this,t,e),this.type="RectAreaLight",this.width=i!==void 0?i:10,this.height=o!==void 0?o:10}cd.prototype=Object.assign(Object.create(Xt.prototype),{constructor:cd,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Jl(e,t))},getPoint:function(t){const e=t*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=e){const l=i[o]-e,d=this.curves[o],g=d.getLength(),v=g===0?0:1-l/g;return d.getPointAt(v)}o++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,o=this.curves.length;i<o;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t=12){const e=[];let i;for(let o=0,l=this.curves;o<l.length;o++){const d=l[o],g=d&&d.isEllipseCurve?2*t:d&&(d.isLineCurve||d.isLineCurve3)?1:d&&d.isSplineCurve?t*d.points.length:t,v=d.getPoints(g);for(let w=0;w<v.length;w++){const S=v[w];i&&i.equals(S)||(e.push(S),i=S)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){Xt.prototype.copy.call(this,t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const o=t.curves[e];this.curves.push(o.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){const t=Xt.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const o=this.curves[e];t.curves.push(o.toJSON())}return t},fromJSON:function(t){Xt.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const o=t.curves[e];this.curves.push(new f1[o.type]().fromJSON(o))}return this}}),Uc.prototype=Object.assign(Object.create(cd.prototype),{constructor:Uc,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const i=new Jl(this.currentPoint.clone(),new It(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,i,o){const l=new Hc(this.currentPoint.clone(),new It(t,e),new It(i,o));return this.curves.push(l),this.currentPoint.set(i,o),this},bezierCurveTo:function(t,e,i,o,l,d){const g=new zc(this.currentPoint.clone(),new It(t,e),new It(i,o),new It(l,d));return this.curves.push(g),this.currentPoint.set(l,d),this},splineThru:function(t){const e=new jc([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,i,o,l,d){const g=this.currentPoint.x,v=this.currentPoint.y;return this.absarc(t+g,e+v,i,o,l,d),this},absarc:function(t,e,i,o,l,d){return this.absellipse(t,e,i,i,o,l,d),this},ellipse:function(t,e,i,o,l,d,g,v){const w=this.currentPoint.x,S=this.currentPoint.y;return this.absellipse(t+w,e+S,i,o,l,d,g,v),this},absellipse:function(t,e,i,o,l,d,g,v){const w=new rr(t,e,i,o,l,d,g,v);if(this.curves.length>0){const R=w.getPoint(0);R.equals(this.currentPoint)||this.lineTo(R.x,R.y)}this.curves.push(w);const S=w.getPoint(1);return this.currentPoint.copy(S),this},copy:function(t){return cd.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=cd.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return cd.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Tf.prototype=Object.assign(Object.create(Uc.prototype),{constructor:Tf,getPointsHoles:function(t){const e=[];for(let i=0,o=this.holes.length;i<o;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Uc.prototype.copy.call(this,t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const o=t.holes[e];this.holes.push(o.clone())}return this},toJSON:function(){const t=Uc.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const o=this.holes[e];t.holes.push(o.toJSON())}return t},fromJSON:function(t){Uc.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const o=t.holes[e];this.holes.push(new Uc().fromJSON(o))}return this}}),js.prototype=Object.assign(Object.create(D.prototype),{constructor:js,isLight:!0,copy:function(t){return D.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=D.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}}),vb.prototype=Object.assign(Object.create(js.prototype),{constructor:vb,isHemisphereLight:!0,copy:function(t){return js.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(hd.prototype,{_projScreenMatrix:new Pr,_lightPositionWorld:new ye,_lookTarget:new ye,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,i=this.matrix,o=this._projScreenMatrix,l=this._lookTarget,d=this._lightPositionWorld;d.setFromMatrixPosition(t.matrixWorld),e.position.copy(d),l.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(l),e.updateMatrixWorld(),o.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(e.projectionMatrix),i.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),this.mapSize.x===512&&this.mapSize.y===512||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),p1.prototype=Object.assign(Object.create(hd.prototype),{constructor:p1,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,i=2*Tn.RAD2DEG*t.angle*this.focus,o=this.mapSize.width/this.mapSize.height,l=t.distance||e.far;i===e.fov&&o===e.aspect&&l===e.far||(e.fov=i,e.aspect=o,e.far=l,e.updateProjectionMatrix()),hd.prototype.updateMatrices.call(this,t)}}),yb.prototype=Object.assign(Object.create(js.prototype),{constructor:yb,isSpotLight:!0,copy:function(t){return js.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),m1.prototype=Object.assign(Object.create(hd.prototype),{constructor:m1,isPointLightShadow:!0,updateMatrices:function(t,e=0){const i=this.camera,o=this.matrix,l=this._lightPositionWorld,d=this._lookTarget,g=this._projScreenMatrix;l.setFromMatrixPosition(t.matrixWorld),i.position.copy(l),d.copy(i.position),d.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(d),i.updateMatrixWorld(),o.makeTranslation(-l.x,-l.y,-l.z),g.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(g)}}),xb.prototype=Object.assign(Object.create(js.prototype),{constructor:xb,isPointLight:!0,copy:function(t){return js.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Hg.prototype=Object.assign(Object.create(xu.prototype),{constructor:Hg,isOrthographicCamera:!0,copy:function(t,e){return xu.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this},setViewOffset:function(t,e,i,o,l,d){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=o,this.view.width=l,this.view.height=d,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let l=i-t,d=i+t,g=o+e,v=o-e;if(this.view!==null&&this.view.enabled){const w=(this.right-this.left)/this.view.fullWidth/this.zoom,S=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=w*this.view.offsetX,d=l+w*this.view.width,g-=S*this.view.offsetY,v=g-S*this.view.height}this.projectionMatrix.makeOrthographic(l,d,g,v,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=D.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}),g1.prototype=Object.assign(Object.create(hd.prototype),{constructor:g1,isDirectionalLightShadow:!0,updateMatrices:function(t){hd.prototype.updateMatrices.call(this,t)}}),bb.prototype=Object.assign(Object.create(js.prototype),{constructor:bb,isDirectionalLight:!0,copy:function(t){return js.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),wb.prototype=Object.assign(Object.create(js.prototype),{constructor:wb,isAmbientLight:!0}),_b.prototype=Object.assign(Object.create(js.prototype),{constructor:_b,isRectAreaLight:!0,copy:function(t){return js.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=js.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});class HS{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ye)}set(e){for(let i=0;i<9;i++)this.coefficients[i].copy(e[i]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,i){const o=e.x,l=e.y,d=e.z,g=this.coefficients;return i.copy(g[0]).multiplyScalar(.282095),i.addScaledVector(g[1],.488603*l),i.addScaledVector(g[2],.488603*d),i.addScaledVector(g[3],.488603*o),i.addScaledVector(g[4],o*l*1.092548),i.addScaledVector(g[5],l*d*1.092548),i.addScaledVector(g[6],.315392*(3*d*d-1)),i.addScaledVector(g[7],o*d*1.092548),i.addScaledVector(g[8],.546274*(o*o-l*l)),i}getIrradianceAt(e,i){const o=e.x,l=e.y,d=e.z,g=this.coefficients;return i.copy(g[0]).multiplyScalar(.886227),i.addScaledVector(g[1],1.023328*l),i.addScaledVector(g[2],1.023328*d),i.addScaledVector(g[3],1.023328*o),i.addScaledVector(g[4],.858086*o*l),i.addScaledVector(g[5],.858086*l*d),i.addScaledVector(g[6],.743125*d*d-.247708),i.addScaledVector(g[7],.858086*o*d),i.addScaledVector(g[8],.429043*(o*o-l*l)),i}add(e){for(let i=0;i<9;i++)this.coefficients[i].add(e.coefficients[i]);return this}addScaledSH(e,i){for(let o=0;o<9;o++)this.coefficients[o].addScaledVector(e.coefficients[o],i);return this}scale(e){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(e);return this}lerp(e,i){for(let o=0;o<9;o++)this.coefficients[o].lerp(e.coefficients[o],i);return this}equals(e){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(e.coefficients[i]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,i=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].fromArray(e,i+3*l);return this}toArray(e=[],i=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].toArray(e,i+3*l);return e}static getBasisAt(e,i){const o=e.x,l=e.y,d=e.z;i[0]=.282095,i[1]=.488603*l,i[2]=.488603*d,i[3]=.488603*o,i[4]=1.092548*o*l,i[5]=1.092548*l*d,i[6]=.315392*(3*d*d-1),i[7]=1.092548*o*d,i[8]=.546274*(o*o-l*l)}}function oc(t,e){js.call(this,void 0,e),this.type="LightProbe",this.sh=t!==void 0?t:new HS}function Sb(t){Ot.call(this,t),this.textures={}}oc.prototype=Object.assign(Object.create(js.prototype),{constructor:oc,isLightProbe:!0,copy:function(t){return js.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=js.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),Sb.prototype=Object.assign(Object.create(Ot.prototype),{constructor:Sb,load:function(t,e,i,o){const l=this,d=new Fn(l.manager);d.setPath(l.path),d.setRequestHeader(l.requestHeader),d.setWithCredentials(l.withCredentials),d.load(t,function(g){try{e(l.parse(JSON.parse(g)))}catch(v){o?o(v):console.error(v),l.manager.itemError(t)}},i,o)},parse:function(t){const e=this.textures;function i(l){return e[l]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",l),e[l]}const o=new gb[t.type];if(t.uuid!==void 0&&(o.uuid=t.uuid),t.name!==void 0&&(o.name=t.name),t.color!==void 0&&o.color!==void 0&&o.color.setHex(t.color),t.roughness!==void 0&&(o.roughness=t.roughness),t.metalness!==void 0&&(o.metalness=t.metalness),t.sheen!==void 0&&(o.sheen=new zt().setHex(t.sheen)),t.emissive!==void 0&&o.emissive!==void 0&&o.emissive.setHex(t.emissive),t.specular!==void 0&&o.specular!==void 0&&o.specular.setHex(t.specular),t.shininess!==void 0&&(o.shininess=t.shininess),t.clearcoat!==void 0&&(o.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=t.clearcoatRoughness),t.fog!==void 0&&(o.fog=t.fog),t.flatShading!==void 0&&(o.flatShading=t.flatShading),t.blending!==void 0&&(o.blending=t.blending),t.combine!==void 0&&(o.combine=t.combine),t.side!==void 0&&(o.side=t.side),t.opacity!==void 0&&(o.opacity=t.opacity),t.transparent!==void 0&&(o.transparent=t.transparent),t.alphaTest!==void 0&&(o.alphaTest=t.alphaTest),t.depthTest!==void 0&&(o.depthTest=t.depthTest),t.depthWrite!==void 0&&(o.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(o.colorWrite=t.colorWrite),t.stencilWrite!==void 0&&(o.stencilWrite=t.stencilWrite),t.stencilWriteMask!==void 0&&(o.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(o.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(o.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(o.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(o.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(o.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(o.stencilZPass=t.stencilZPass),t.wireframe!==void 0&&(o.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(o.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(o.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(o.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(o.rotation=t.rotation),t.linewidth!==1&&(o.linewidth=t.linewidth),t.dashSize!==void 0&&(o.dashSize=t.dashSize),t.gapSize!==void 0&&(o.gapSize=t.gapSize),t.scale!==void 0&&(o.scale=t.scale),t.polygonOffset!==void 0&&(o.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(o.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(o.polygonOffsetUnits=t.polygonOffsetUnits),t.skinning!==void 0&&(o.skinning=t.skinning),t.morphTargets!==void 0&&(o.morphTargets=t.morphTargets),t.morphNormals!==void 0&&(o.morphNormals=t.morphNormals),t.dithering!==void 0&&(o.dithering=t.dithering),t.vertexTangents!==void 0&&(o.vertexTangents=t.vertexTangents),t.visible!==void 0&&(o.visible=t.visible),t.toneMapped!==void 0&&(o.toneMapped=t.toneMapped),t.userData!==void 0&&(o.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?o.vertexColors=t.vertexColors>0:o.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const l in t.uniforms){const d=t.uniforms[l];switch(o.uniforms[l]={},d.type){case"t":o.uniforms[l].value=i(d.value);break;case"c":o.uniforms[l].value=new zt().setHex(d.value);break;case"v2":o.uniforms[l].value=new It().fromArray(d.value);break;case"v3":o.uniforms[l].value=new ye().fromArray(d.value);break;case"v4":o.uniforms[l].value=new Di().fromArray(d.value);break;case"m3":o.uniforms[l].value=new Gi().fromArray(d.value);break;case"m4":o.uniforms[l].value=new Pr().fromArray(d.value);break;default:o.uniforms[l].value=d.value}}if(t.defines!==void 0&&(o.defines=t.defines),t.vertexShader!==void 0&&(o.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(o.fragmentShader=t.fragmentShader),t.extensions!==void 0)for(const l in t.extensions)o.extensions[l]=t.extensions[l];if(t.shading!==void 0&&(o.flatShading=t.shading===1),t.size!==void 0&&(o.size=t.size),t.sizeAttenuation!==void 0&&(o.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(o.map=i(t.map)),t.matcap!==void 0&&(o.matcap=i(t.matcap)),t.alphaMap!==void 0&&(o.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(o.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(o.bumpScale=t.bumpScale),t.normalMap!==void 0&&(o.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(o.normalMapType=t.normalMapType),t.normalScale!==void 0){let l=t.normalScale;Array.isArray(l)===!1&&(l=[l,l]),o.normalScale=new It().fromArray(l)}return t.displacementMap!==void 0&&(o.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(o.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(o.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(o.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(o.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(o.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(o.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(o.specularMap=i(t.specularMap)),t.envMap!==void 0&&(o.envMap=i(t.envMap)),t.envMapIntensity!==void 0&&(o.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(o.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(o.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(o.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(o.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(o.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(o.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(o.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(o.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(o.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(o.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(o.clearcoatNormalScale=new It().fromArray(t.clearcoatNormalScale)),t.transmission!==void 0&&(o.transmission=t.transmission),t.transmissionMap!==void 0&&(o.transmissionMap=i(t.transmissionMap)),o},setTextures:function(t){return this.textures=t,this}});const v1={decodeText:function(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let i=0,o=t.length;i<o;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}},extractUrlBase:function(t){const e=t.lastIndexOf("/");return e===-1?"./":t.substr(0,e+1)}};function Xy(){$n.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Eb(t,e,i,o){typeof i=="number"&&(o=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Xn.call(this,t,e,i),this.meshPerAttribute=o||1}function Mb(t){Ot.call(this,t)}Xy.prototype=Object.assign(Object.create($n.prototype),{constructor:Xy,isInstancedBufferGeometry:!0,copy:function(t){return $n.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const t=$n.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),Eb.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Eb,isInstancedBufferAttribute:!0,copy:function(t){return Xn.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=Xn.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),Mb.prototype=Object.assign(Object.create(Ot.prototype),{constructor:Mb,load:function(t,e,i,o){const l=this,d=new Fn(l.manager);d.setPath(l.path),d.setRequestHeader(l.requestHeader),d.setWithCredentials(l.withCredentials),d.load(t,function(g){try{e(l.parse(JSON.parse(g)))}catch(v){o?o(v):console.error(v),l.manager.itemError(t)}},i,o)},parse:function(t){const e={},i={};function o(R,L){if(e[L]!==void 0)return e[L];const I=R.interleavedBuffers[L],F=function(K,$){if(i[$]!==void 0)return i[$];const ee=K.arrayBuffers[$],me=new Uint32Array(ee).buffer;return i[$]=me,me}(R,I.buffer),H=new gs(Gu(I.type,F),I.stride);return H.uuid=I.uuid,e[L]=H,H}const l=t.isInstancedBufferGeometry?new Xy:new $n,d=t.data.index;if(d!==void 0){const R=Gu(d.type,d.array);l.setIndex(new Xn(R,1))}const g=t.data.attributes;for(const R in g){const L=g[R];let I;if(L.isInterleavedBufferAttribute)I=new Mc(o(t.data,L.data),L.itemSize,L.offset,L.normalized);else{const F=Gu(L.type,L.array);I=new(L.isInstancedBufferAttribute?Eb:Xn)(F,L.itemSize,L.normalized)}L.name!==void 0&&(I.name=L.name),l.setAttribute(R,I)}const v=t.data.morphAttributes;if(v)for(const R in v){const L=v[R],I=[];for(let F=0,H=L.length;F<H;F++){const K=L[F];let $;K.isInterleavedBufferAttribute?$=new Mc(o(t.data,K.data),K.itemSize,K.offset,K.normalized):$=new Xn(Gu(K.type,K.array),K.itemSize,K.normalized),K.name!==void 0&&($.name=K.name),I.push($)}l.morphAttributes[R]=I}t.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const w=t.data.groups||t.data.drawcalls||t.data.offsets;if(w!==void 0)for(let R=0,L=w.length;R!==L;++R){const I=w[R];l.addGroup(I.start,I.count,I.materialIndex)}const S=t.data.boundingSphere;if(S!==void 0){const R=new ye;S.center!==void 0&&R.fromArray(S.center),l.boundingSphere=new ma(R,S.radius)}return t.name&&(l.name=t.name),t.userData&&(l.userData=t.userData),l}});class XT extends Ot{constructor(e){super(e)}load(e,i,o,l){const d=this,g=this.path===""?v1.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||g;const v=new Fn(this.manager);v.setPath(this.path),v.setRequestHeader(this.requestHeader),v.setWithCredentials(this.withCredentials),v.load(e,function(w){let S=null;try{S=JSON.parse(w)}catch(L){return l!==void 0&&l(L),void console.error("THREE:ObjectLoader: Can't parse "+e+".",L.message)}const R=S.metadata;R!==void 0&&R.type!==void 0&&R.type.toLowerCase()!=="geometry"?d.parse(S,i):console.error("THREE.ObjectLoader: Can't load "+e)},o,l)}parse(e,i){const o=this.parseAnimations(e.animations),l=this.parseShapes(e.shapes),d=this.parseGeometries(e.geometries,l),g=this.parseImages(e.images,function(){i!==void 0&&i(S)}),v=this.parseTextures(e.textures,g),w=this.parseMaterials(e.materials,v),S=this.parseObject(e.object,d,w,o),R=this.parseSkeletons(e.skeletons,S);if(this.bindSkeletons(S,R),i!==void 0){let L=!1;for(const I in g)if(g[I]instanceof HTMLImageElement){L=!0;break}L===!1&&i(S)}return S}parseShapes(e){const i={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const d=new Tf().fromJSON(e[o]);i[d.uuid]=d}return i}parseSkeletons(e,i){const o={},l={};if(i.traverse(function(d){d.isBone&&(l[d.uuid]=d)}),e!==void 0)for(let d=0,g=e.length;d<g;d++){const v=new gh().fromJSON(e[d],l);o[v.uuid]=v}return o}parseGeometries(e,i){const o={};let l;if(e!==void 0){const d=new Mb;for(let g=0,v=e.length;g<v;g++){let w;const S=e[g];switch(S.type){case"PlaneGeometry":case"PlaneBufferGeometry":w=new ja[S.type](S.width,S.height,S.widthSegments,S.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":w=new ja[S.type](S.width,S.height,S.depth,S.widthSegments,S.heightSegments,S.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":w=new ja[S.type](S.radius,S.segments,S.thetaStart,S.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":w=new ja[S.type](S.radiusTop,S.radiusBottom,S.height,S.radialSegments,S.heightSegments,S.openEnded,S.thetaStart,S.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":w=new ja[S.type](S.radius,S.height,S.radialSegments,S.heightSegments,S.openEnded,S.thetaStart,S.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":w=new ja[S.type](S.radius,S.widthSegments,S.heightSegments,S.phiStart,S.phiLength,S.thetaStart,S.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":w=new ja[S.type](S.radius,S.detail);break;case"RingGeometry":case"RingBufferGeometry":w=new ja[S.type](S.innerRadius,S.outerRadius,S.thetaSegments,S.phiSegments,S.thetaStart,S.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":w=new ja[S.type](S.radius,S.tube,S.radialSegments,S.tubularSegments,S.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":w=new ja[S.type](S.radius,S.tube,S.tubularSegments,S.radialSegments,S.p,S.q);break;case"TubeGeometry":case"TubeBufferGeometry":w=new ja[S.type](new f1[S.path.type]().fromJSON(S.path),S.tubularSegments,S.radius,S.radialSegments,S.closed);break;case"LatheGeometry":case"LatheBufferGeometry":w=new ja[S.type](S.points,S.segments,S.phiStart,S.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":w=new ja[S.type](S.vertices,S.indices,S.radius,S.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":l=[];for(let L=0,I=S.shapes.length;L<I;L++){const F=i[S.shapes[L]];l.push(F)}w=new ja[S.type](l,S.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":l=[];for(let L=0,I=S.shapes.length;L<I;L++){const F=i[S.shapes[L]];l.push(F)}const R=S.options.extrudePath;R!==void 0&&(S.options.extrudePath=new f1[R.type]().fromJSON(R)),w=new ja[S.type](l,S.options);break;case"BufferGeometry":case"InstancedBufferGeometry":w=d.parse(S);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+S.type+'"');continue}w.uuid=S.uuid,S.name!==void 0&&(w.name=S.name),w.isBufferGeometry===!0&&S.userData!==void 0&&(w.userData=S.userData),o[S.uuid]=w}}return o}parseMaterials(e,i){const o={},l={};if(e!==void 0){const d=new Sb;d.setTextures(i);for(let g=0,v=e.length;g<v;g++){const w=e[g];if(w.type==="MultiMaterial"){const S=[];for(let R=0;R<w.materials.length;R++){const L=w.materials[R];o[L.uuid]===void 0&&(o[L.uuid]=d.parse(L)),S.push(o[L.uuid])}l[w.uuid]=S}else o[w.uuid]===void 0&&(o[w.uuid]=d.parse(w)),l[w.uuid]=o[w.uuid]}}return l}parseAnimations(e){const i={};if(e!==void 0)for(let o=0;o<e.length;o++){const l=e[o],d=Ae.parse(l);i[d.uuid]=d}return i}parseImages(e,i){const o=this,l={};let d;function g(v){if(typeof v=="string"){const w=v;return function(S){return o.manager.itemStart(S),d.load(S,function(){o.manager.itemEnd(S)},void 0,function(){o.manager.itemError(S),o.manager.itemEnd(S)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(w)?w:o.resourcePath+w)}return v.data?{data:Gu(v.type,v.data),width:v.width,height:v.height}:null}if(e!==void 0&&e.length>0){const v=new sn(i);d=new ht(v),d.setCrossOrigin(this.crossOrigin);for(let w=0,S=e.length;w<S;w++){const R=e[w],L=R.url;if(Array.isArray(L)){l[R.uuid]=[];for(let I=0,F=L.length;I<F;I++){const H=g(L[I]);H!==null&&(H instanceof HTMLImageElement?l[R.uuid].push(H):l[R.uuid].push(new Bi(H.data,H.width,H.height)))}}else{const I=g(R.url);I!==null&&(l[R.uuid]=I)}}}return l}parseTextures(e,i){function o(d,g){return typeof d=="number"?d:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",d),g[d])}const l={};if(e!==void 0)for(let d=0,g=e.length;d<g;d++){const v=e[d];let w;v.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',v.uuid),i[v.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",v.image);const S=i[v.image];Array.isArray(S)?(w=new to(S),S.length===6&&(w.needsUpdate=!0)):(w=S&&S.data?new Bi(S.data,S.width,S.height):new ii(S),S&&(w.needsUpdate=!0)),w.uuid=v.uuid,v.name!==void 0&&(w.name=v.name),v.mapping!==void 0&&(w.mapping=o(v.mapping,$T)),v.offset!==void 0&&w.offset.fromArray(v.offset),v.repeat!==void 0&&w.repeat.fromArray(v.repeat),v.center!==void 0&&w.center.fromArray(v.center),v.rotation!==void 0&&(w.rotation=v.rotation),v.wrap!==void 0&&(w.wrapS=o(v.wrap[0],jS),w.wrapT=o(v.wrap[1],jS)),v.format!==void 0&&(w.format=v.format),v.type!==void 0&&(w.type=v.type),v.encoding!==void 0&&(w.encoding=v.encoding),v.minFilter!==void 0&&(w.minFilter=o(v.minFilter,US)),v.magFilter!==void 0&&(w.magFilter=o(v.magFilter,US)),v.anisotropy!==void 0&&(w.anisotropy=v.anisotropy),v.flipY!==void 0&&(w.flipY=v.flipY),v.premultiplyAlpha!==void 0&&(w.premultiplyAlpha=v.premultiplyAlpha),v.unpackAlignment!==void 0&&(w.unpackAlignment=v.unpackAlignment),l[v.uuid]=w}return l}parseObject(e,i,o,l){let d,g,v;function w(R){return i[R]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",R),i[R]}function S(R){if(R!==void 0){if(Array.isArray(R)){const L=[];for(let I=0,F=R.length;I<F;I++){const H=R[I];o[H]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",H),L.push(o[H])}return L}return o[R]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",R),o[R]}}switch(e.type){case"Scene":d=new za,e.background!==void 0&&Number.isInteger(e.background)&&(d.background=new zt(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?d.fog=new wg(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(d.fog=new Tp(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":d=new eo(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(d.focus=e.focus),e.zoom!==void 0&&(d.zoom=e.zoom),e.filmGauge!==void 0&&(d.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(d.filmOffset=e.filmOffset),e.view!==void 0&&(d.view=Object.assign({},e.view));break;case"OrthographicCamera":d=new Hg(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(d.zoom=e.zoom),e.view!==void 0&&(d.view=Object.assign({},e.view));break;case"AmbientLight":d=new wb(e.color,e.intensity);break;case"DirectionalLight":d=new bb(e.color,e.intensity);break;case"PointLight":d=new xb(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":d=new _b(e.color,e.intensity,e.width,e.height);break;case"SpotLight":d=new yb(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":d=new vb(e.color,e.groundColor,e.intensity);break;case"LightProbe":d=new oc().fromJSON(e);break;case"SkinnedMesh":g=w(e.geometry),v=S(e.material),d=new Tc(g,v),e.bindMode!==void 0&&(d.bindMode=e.bindMode),e.bindMatrix!==void 0&&d.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(d.skeleton=e.skeleton);break;case"Mesh":g=w(e.geometry),v=S(e.material),d=new ss(g,v);break;case"InstancedMesh":g=w(e.geometry),v=S(e.material);const R=e.count,L=e.instanceMatrix;d=new ff(g,v,R),d.instanceMatrix=new Xn(new Float32Array(L.array),16);break;case"LOD":d=new kl;break;case"Line":d=new Ol(w(e.geometry),S(e.material));break;case"LineLoop":d=new Ao(w(e.geometry),S(e.material));break;case"LineSegments":d=new xa(w(e.geometry),S(e.material));break;case"PointCloud":case"Points":d=new od(w(e.geometry),S(e.material));break;case"Sprite":d=new hf(S(e.material));break;case"Group":d=new Zu;break;case"Bone":d=new Mo;break;default:d=new D}if(d.uuid=e.uuid,e.name!==void 0&&(d.name=e.name),e.matrix!==void 0?(d.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(d.matrixAutoUpdate=e.matrixAutoUpdate),d.matrixAutoUpdate&&d.matrix.decompose(d.position,d.quaternion,d.scale)):(e.position!==void 0&&d.position.fromArray(e.position),e.rotation!==void 0&&d.rotation.fromArray(e.rotation),e.quaternion!==void 0&&d.quaternion.fromArray(e.quaternion),e.scale!==void 0&&d.scale.fromArray(e.scale)),e.castShadow!==void 0&&(d.castShadow=e.castShadow),e.receiveShadow!==void 0&&(d.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(d.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(d.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(d.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&d.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(d.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(d.visible=e.visible),e.frustumCulled!==void 0&&(d.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(d.renderOrder=e.renderOrder),e.userData!==void 0&&(d.userData=e.userData),e.layers!==void 0&&(d.layers.mask=e.layers),e.children!==void 0){const R=e.children;for(let L=0;L<R.length;L++)d.add(this.parseObject(R[L],i,o,l))}if(e.animations!==void 0){const R=e.animations;for(let L=0;L<R.length;L++){const I=R[L];d.animations.push(l[I])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(d.autoUpdate=e.autoUpdate);const R=e.levels;for(let L=0;L<R.length;L++){const I=R[L],F=d.getObjectByProperty("uuid",I.object);F!==void 0&&d.addLevel(F,I.distance)}}return d}bindSkeletons(e,i){Object.keys(i).length!==0&&e.traverse(function(o){if(o.isSkinnedMesh===!0&&o.skeleton!==void 0){const l=i[o.skeleton];l===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",o.skeleton):o.bind(l,o.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const $T={UVMapping:hr,CubeReflectionMapping:br,CubeRefractionMapping:wr,EquirectangularReflectionMapping:Vn,EquirectangularRefractionMapping:Nr,CubeUVReflectionMapping:zr,CubeUVRefractionMapping:Cr},jS={RepeatWrapping:Zr,ClampToEdgeWrapping:Ir,MirroredRepeatWrapping:Pn},US={NearestFilter:tr,NearestMipmapNearestFilter:Fr,NearestMipmapLinearFilter:Yi,LinearFilter:Sr,LinearMipmapNearestFilter:ai,LinearMipmapLinearFilter:Gs};function y1(t){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Ot.call(this,t),this.options={premultiplyAlpha:"none"}}function x1(){this.type="ShapePath",this.color=new zt,this.subPaths=[],this.currentPath=null}function b1(t){this.type="Font",this.data=t}function YT(t,e,i,o,l){const d=l.glyphs[t]||l.glyphs["?"];if(!d)return void console.error('THREE.Font: character "'+t+'" does not exists in font family '+l.familyName+".");const g=new x1;let v,w,S,R,L,I,F,H;if(d.o){const K=d._cachedOutline||(d._cachedOutline=d.o.split(" "));for(let $=0,ee=K.length;$<ee;)switch(K[$++]){case"m":v=K[$++]*e+i,w=K[$++]*e+o,g.moveTo(v,w);break;case"l":v=K[$++]*e+i,w=K[$++]*e+o,g.lineTo(v,w);break;case"q":S=K[$++]*e+i,R=K[$++]*e+o,L=K[$++]*e+i,I=K[$++]*e+o,g.quadraticCurveTo(L,I,S,R);break;case"b":S=K[$++]*e+i,R=K[$++]*e+o,L=K[$++]*e+i,I=K[$++]*e+o,F=K[$++]*e+i,H=K[$++]*e+o,g.bezierCurveTo(L,I,F,H,S,R)}}return{offsetX:d.ha*e,path:g}}function w1(t){Ot.call(this,t)}let Ab;y1.prototype=Object.assign(Object.create(Ot.prototype),{constructor:y1,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,i,o){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const l=this,d=xt.get(t);if(d!==void 0)return l.manager.itemStart(t),setTimeout(function(){e&&e(d),l.manager.itemEnd(t)},0),d;const g={};g.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",fetch(t,g).then(function(v){return v.blob()}).then(function(v){return createImageBitmap(v,l.options)}).then(function(v){xt.add(t,v),e&&e(v),l.manager.itemEnd(t)}).catch(function(v){o&&o(v),l.manager.itemError(t),l.manager.itemEnd(t)}),l.manager.itemStart(t)}}),Object.assign(x1.prototype,{moveTo:function(t,e){return this.currentPath=new Uc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,i,o){return this.currentPath.quadraticCurveTo(t,e,i,o),this},bezierCurveTo:function(t,e,i,o,l,d){return this.currentPath.bezierCurveTo(t,e,i,o,l,d),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function i(ee){const me=[];for(let xe=0,Ee=ee.length;xe<Ee;xe++){const Me=ee[xe],Ne=new Tf;Ne.curves=Me.curves,me.push(Ne)}return me}function o(ee,me){const xe=me.length;let Ee=!1;for(let Me=xe-1,Ne=0;Ne<xe;Me=Ne++){let Te=me[Me],ut=me[Ne],vt=ut.x-Te.x,Gt=ut.y-Te.y;if(Math.abs(Gt)>Number.EPSILON){if(Gt<0&&(Te=me[Ne],vt=-vt,ut=me[Me],Gt=-Gt),ee.y<Te.y||ee.y>ut.y)continue;if(ee.y===Te.y){if(ee.x===Te.x)return!0}else{const Nt=Gt*(ee.x-Te.x)-vt*(ee.y-Te.y);if(Nt===0)return!0;if(Nt<0)continue;Ee=!Ee}}else{if(ee.y!==Te.y)continue;if(ut.x<=ee.x&&ee.x<=Te.x||Te.x<=ee.x&&ee.x<=ut.x)return!0}}return Ee}const l=ec.isClockWise,d=this.subPaths;if(d.length===0)return[];if(e===!0)return i(d);let g,v,w;const S=[];if(d.length===1)return v=d[0],w=new Tf,w.curves=v.curves,S.push(w),S;let R=!l(d[0].getPoints());R=t?!R:R;const L=[],I=[];let F,H,K=[],$=0;I[$]=void 0,K[$]=[];for(let ee=0,me=d.length;ee<me;ee++)v=d[ee],F=v.getPoints(),g=l(F),g=t?!g:g,g?(!R&&I[$]&&$++,I[$]={s:new Tf,p:F},I[$].s.curves=v.curves,R&&$++,K[$]=[]):K[$].push({h:v,p:F[0]});if(!I[0])return i(d);if(I.length>1){let ee=!1;const me=[];for(let xe=0,Ee=I.length;xe<Ee;xe++)L[xe]=[];for(let xe=0,Ee=I.length;xe<Ee;xe++){const Me=K[xe];for(let Ne=0;Ne<Me.length;Ne++){const Te=Me[Ne];let ut=!0;for(let vt=0;vt<I.length;vt++)o(Te.p,I[vt].p)&&(xe!==vt&&me.push({froms:xe,tos:vt,hole:Ne}),ut?(ut=!1,L[vt].push(Te)):ee=!0);ut&&L[xe].push(Te)}}me.length>0&&(ee||(K=L))}for(let ee=0,me=I.length;ee<me;ee++){w=I[ee].s,S.push(w),H=K[ee];for(let xe=0,Ee=H.length;xe<Ee;xe++)w.holes.push(H[xe].h)}return S}}),Object.assign(b1.prototype,{isFont:!0,generateShapes:function(t,e=100){const i=[],o=function(l,d,g){const v=Array.from?Array.from(l):String(l).split(""),w=d/g.resolution,S=(g.boundingBox.yMax-g.boundingBox.yMin+g.underlineThickness)*w,R=[];let L=0,I=0;for(let F=0;F<v.length;F++){const H=v[F];if(H===`
`)L=0,I-=S;else{const K=YT(H,w,L,I,g);L+=K.offsetX,R.push(K.path)}}return R}(t,e,this.data);for(let l=0,d=o.length;l<d;l++)Array.prototype.push.apply(i,o[l].toShapes());return i}}),w1.prototype=Object.assign(Object.create(Ot.prototype),{constructor:w1,load:function(t,e,i,o){const l=this,d=new Fn(this.manager);d.setPath(this.path),d.setRequestHeader(this.requestHeader),d.setWithCredentials(l.withCredentials),d.load(t,function(g){let v;try{v=JSON.parse(g)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),v=JSON.parse(g.substring(65,g.length-2))}const w=l.parse(v);e&&e(w)},i,o)},parse:function(t){return new b1(t)}});const _1={getContext:function(){return Ab===void 0&&(Ab=new(window.AudioContext||window.webkitAudioContext)),Ab},setContext:function(t){Ab=t}};function Tb(t){Ot.call(this,t)}function S1(t,e,i){oc.call(this,void 0,i);const o=new zt().set(t),l=new zt().set(e),d=new ye(o.r,o.g,o.b),g=new ye(l.r,l.g,l.b),v=Math.sqrt(Math.PI),w=v*Math.sqrt(.75);this.sh.coefficients[0].copy(d).add(g).multiplyScalar(v),this.sh.coefficients[1].copy(d).sub(g).multiplyScalar(w)}function E1(t,e){oc.call(this,void 0,e);const i=new zt().set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}Tb.prototype=Object.assign(Object.create(Ot.prototype),{constructor:Tb,load:function(t,e,i,o){const l=this,d=new Fn(l.manager);d.setResponseType("arraybuffer"),d.setPath(l.path),d.setRequestHeader(l.requestHeader),d.setWithCredentials(l.withCredentials),d.load(t,function(g){try{const v=g.slice(0);_1.getContext().decodeAudioData(v,function(w){e(w)})}catch(v){o?o(v):console.error(v),l.manager.itemError(t)}},i,o)}}),S1.prototype=Object.assign(Object.create(oc.prototype),{constructor:S1,isHemisphereLightProbe:!0,copy:function(t){return oc.prototype.copy.call(this,t),this},toJSON:function(t){return oc.prototype.toJSON.call(this,t)}}),E1.prototype=Object.assign(Object.create(oc.prototype),{constructor:E1,isAmbientLightProbe:!0,copy:function(t){return oc.prototype.copy.call(this,t),this},toJSON:function(t){return oc.prototype.toJSON.call(this,t)}});const GS=new Pr,VS=new Pr;function WS(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new eo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new eo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(WS.prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const i=t.projectionMatrix.clone(),o=e.eyeSep/2,l=o*e.near/e.focus,d=e.near*Math.tan(Tn.DEG2RAD*e.fov*.5)/e.zoom;let g,v;VS.elements[12]=-o,GS.elements[12]=o,g=-d*e.aspect+l,v=d*e.aspect+l,i.elements[0]=2*e.near/(v-g),i.elements[8]=(v+g)/(v-g),this.cameraL.projectionMatrix.copy(i),g=-d*e.aspect-l,v=d*e.aspect-l,i.elements[0]=2*e.near/(v-g),i.elements[8]=(v+g)/(v-g),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(VS),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(GS)}});class qS{constructor(e){this.autoStart=e===void 0||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=XS(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const i=XS();e=(i-this.oldTime)/1e3,this.oldTime=i,this.elapsedTime+=e}return e}}function XS(){return(typeof performance>"u"?Date:performance).now()}const jp=new ye,$S=new ds,ZT=new ye,Up=new ye;class KT extends D{constructor(){super(),this.type="AudioListener",this.context=_1.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new qS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const i=this.context.listener,o=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(jp,$S,ZT),Up.set(0,0,-1).applyQuaternion($S),i.positionX){const l=this.context.currentTime+this.timeDelta;i.positionX.linearRampToValueAtTime(jp.x,l),i.positionY.linearRampToValueAtTime(jp.y,l),i.positionZ.linearRampToValueAtTime(jp.z,l),i.forwardX.linearRampToValueAtTime(Up.x,l),i.forwardY.linearRampToValueAtTime(Up.y,l),i.forwardZ.linearRampToValueAtTime(Up.z,l),i.upX.linearRampToValueAtTime(o.x,l),i.upY.linearRampToValueAtTime(o.y,l),i.upZ.linearRampToValueAtTime(o.z,l)}else i.setPosition(jp.x,jp.y,jp.z),i.setOrientation(Up.x,Up.y,Up.z,o.x,o.y,o.z)}}class M1 extends D{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0)return void console.warn("THREE.Audio: Audio is already playing.");if(this.hasPlaybackControl===!1)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const i=this.context.createBufferSource();return i.buffer=this.buffer,i.loop=this.loop,i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.onended=this.onEnded.bind(this),i.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=i,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl!==!1)return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(this.hasPlaybackControl!==!1)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,i=this.filters.length;e<i;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,i=this.filters.length;e<i;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl!==!1)return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl!==!1)return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Gp=new ye,YS=new ds,JT=new ye,Vp=new ye;class QT extends M1{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,i,o){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=i,this.panner.coneOuterGain=o,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Gp,YS,JT),Vp.set(0,0,1).applyQuaternion(YS);const i=this.panner;if(i.positionX){const o=this.context.currentTime+this.listener.timeDelta;i.positionX.linearRampToValueAtTime(Gp.x,o),i.positionY.linearRampToValueAtTime(Gp.y,o),i.positionZ.linearRampToValueAtTime(Gp.z,o),i.orientationX.linearRampToValueAtTime(Vp.x,o),i.orientationY.linearRampToValueAtTime(Vp.y,o),i.orientationZ.linearRampToValueAtTime(Vp.z,o)}else i.setPosition(Gp.x,Gp.y,Gp.z),i.setOrientation(Vp.x,Vp.y,Vp.z)}}class ZS{constructor(e,i=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=i,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const i=this.getFrequencyData();for(let o=0;o<i.length;o++)e+=i[o];return e/i.length}}function A1(t,e,i){let o,l,d;switch(this.binding=t,this.valueSize=i,e){case"quaternion":o=this._slerp,l=this._slerpAdditive,d=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":o=this._select,l=this._select,d=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:o=this._lerp,l=this._lerpAdditive,d=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=o,this._mixBufferRegionAdditive=l,this._setIdentity=d,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(A1.prototype,{accumulate:function(t,e){const i=this.buffer,o=this.valueSize,l=t*o+o;let d=this.cumulativeWeight;if(d===0){for(let g=0;g!==o;++g)i[l+g]=i[g];d=e}else{d+=e;const g=e/d;this._mixBufferRegion(i,l,0,g,o)}this.cumulativeWeight=d},accumulateAdditive:function(t){const e=this.buffer,i=this.valueSize,o=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,o,0,t,i),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,i=this.buffer,o=t*e+e,l=this.cumulativeWeight,d=this.cumulativeWeightAdditive,g=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,l<1){const v=e*this._origIndex;this._mixBufferRegion(i,o,v,1-l,e)}d>0&&this._mixBufferRegionAdditive(i,o,this._addIndex*e,1,e);for(let v=e,w=e+e;v!==w;++v)if(i[v]!==i[v+e]){g.setValue(i,o);break}},saveOriginalState:function(){const t=this.binding,e=this.buffer,i=this.valueSize,o=i*this._origIndex;t.getValue(e,o);for(let l=i,d=o;l!==d;++l)e[l]=e[o+l%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]},_select:function(t,e,i,o,l){if(o>=.5)for(let d=0;d!==l;++d)t[e+d]=t[i+d]},_slerp:function(t,e,i,o){ds.slerpFlat(t,e,t,e,t,i,o)},_slerpAdditive:function(t,e,i,o,l){const d=this._workIndex*l;ds.multiplyQuaternionsFlat(t,d,t,e,t,i),ds.slerpFlat(t,e,t,e,t,d,o)},_lerp:function(t,e,i,o,l){const d=1-o;for(let g=0;g!==l;++g){const v=e+g;t[v]=t[v]*d+t[i+g]*o}},_lerpAdditive:function(t,e,i,o,l){for(let d=0;d!==l;++d){const g=e+d;t[g]=t[g]+t[i+d]*o}}});const eC=new RegExp("[\\[\\]\\.:\\/]","g"),tC="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",nC=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),rC=/(WCOD+)?/.source.replace("WCOD",tC),iC=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),sC=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),oC=new RegExp("^"+nC+rC+iC+sC+"$"),aC=["material","materials","bones"];function KS(t,e,i){const o=i||gl.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,o)}function gl(t,e,i){this.path=e,this.parsedPath=i||gl.parseTrackName(e),this.node=gl.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function JS(){this.uuid=Tn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,o=arguments.length;i!==o;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}Object.assign(KS.prototype,{getValue:function(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,o=this._bindings[i];o!==void 0&&o.getValue(t,e)},setValue:function(t,e){const i=this._bindings;for(let o=this._targetGroup.nCachedObjects_,l=i.length;o!==l;++o)i[o].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),Object.assign(gl,{Composite:KS,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new gl.Composite(t,e,i):new gl(t,e,i)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(eC,"")},parseTrackName:function(t){const e=oC.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},o=i.nodeName&&i.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){const l=i.nodeName.substring(o+1);aC.indexOf(l)!==-1&&(i.nodeName=i.nodeName.substring(0,o),i.objectName=l)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i},findNode:function(t,e){if(!e||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(l){for(let d=0;d<l.length;d++){const g=l[d];if(g.name===e||g.uuid===e)return g;const v=i(g.children);if(v)return v}return null},o=i(t.children);if(o)return o}return null}}),Object.assign(gl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){const i=this.resolvedProperty;for(let o=0,l=i.length;o!==l;++o)t[e++]=i[o]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){const i=this.resolvedProperty;for(let o=0,l=i.length;o!==l;++o)i[o]=t[e++]},function(t,e){const i=this.resolvedProperty;for(let o=0,l=i.length;o!==l;++o)i[o]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){const i=this.resolvedProperty;for(let o=0,l=i.length;o!==l;++o)i[o]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){let t=this.node;const e=this.parsedPath,i=e.objectName,o=e.propertyName;let l=e.propertyIndex;if(t||(t=gl.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(i){let w=e.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let S=0;S<t.length;S++)if(t[S].name===w){w=S;break}break;default:if(t[i]===void 0)return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(w!==void 0){if(t[w]===void 0)return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[w]}}const d=t[o];if(d===void 0){const w=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+w+"."+o+" but it wasn't found.",t)}let g=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?g=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(g=this.Versioning.MatrixWorldNeedsUpdate);let v=this.BindingType.Direct;if(l!==void 0){if(o==="morphTargetInfluences"){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);t.morphTargetDictionary[l]!==void 0&&(l=t.morphTargetDictionary[l])}v=this.BindingType.ArrayElement,this.resolvedProperty=d,this.propertyIndex=l}else d.fromArray!==void 0&&d.toArray!==void 0?(v=this.BindingType.HasFromToArray,this.resolvedProperty=d):Array.isArray(d)?(v=this.BindingType.EntireArray,this.resolvedProperty=d):this.propertyName=o;this.getValue=this.GetterByBindingType[v],this.setValue=this.SetterByBindingTypeAndVersioning[v][g]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(gl.prototype,{_getValue_unbound:gl.prototype.getValue,_setValue_unbound:gl.prototype.setValue}),Object.assign(JS.prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,i=this._paths,o=this._parsedPaths,l=this._bindings,d=l.length;let g,v=t.length,w=this.nCachedObjects_;for(let S=0,R=arguments.length;S!==R;++S){const L=arguments[S],I=L.uuid;let F=e[I];if(F===void 0){F=v++,e[I]=F,t.push(L);for(let H=0,K=d;H!==K;++H)l[H].push(new gl(L,i[H],o[H]))}else if(F<w){g=t[F];const H=--w,K=t[H];e[K.uuid]=F,t[F]=K,e[I]=H,t[H]=L;for(let $=0,ee=d;$!==ee;++$){const me=l[$],xe=me[H];let Ee=me[F];me[F]=xe,Ee===void 0&&(Ee=new gl(L,i[$],o[$])),me[H]=Ee}}else t[F]!==g&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=w},remove:function(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,o=i.length;let l=this.nCachedObjects_;for(let d=0,g=arguments.length;d!==g;++d){const v=arguments[d],w=v.uuid,S=e[w];if(S!==void 0&&S>=l){const R=l++,L=t[R];e[L.uuid]=S,t[S]=L,e[w]=R,t[R]=v;for(let I=0,F=o;I!==F;++I){const H=i[I],K=H[R],$=H[S];H[S]=K,H[R]=$}}}this.nCachedObjects_=l},uncache:function(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,o=i.length;let l=this.nCachedObjects_,d=t.length;for(let g=0,v=arguments.length;g!==v;++g){const w=arguments[g].uuid,S=e[w];if(S!==void 0)if(delete e[w],S<l){const R=--l,L=t[R],I=--d,F=t[I];e[L.uuid]=S,t[S]=L,e[F.uuid]=R,t[R]=F,t.pop();for(let H=0,K=o;H!==K;++H){const $=i[H],ee=$[R],me=$[I];$[S]=ee,$[R]=me,$.pop()}}else{const R=--d,L=t[R];R>0&&(e[L.uuid]=S),t[S]=L,t.pop();for(let I=0,F=o;I!==F;++I){const H=i[I];H[S]=H[R],H.pop()}}}this.nCachedObjects_=l},subscribe_:function(t,e){const i=this._bindingsIndicesByPath;let o=i[t];const l=this._bindings;if(o!==void 0)return l[o];const d=this._paths,g=this._parsedPaths,v=this._objects,w=v.length,S=this.nCachedObjects_,R=new Array(w);o=l.length,i[t]=o,d.push(t),g.push(e),l.push(R);for(let L=S,I=v.length;L!==I;++L){const F=v[L];R[L]=new gl(F,t,e)}return R},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const o=this._paths,l=this._parsedPaths,d=this._bindings,g=d.length-1,v=d[g];e[t[g]]=i,d[i]=v,d.pop(),l[i]=l[g],l.pop(),o[i]=o[g],o.pop()}}});class lC{constructor(e,i,o=null,l=i.blendMode){this._mixer=e,this._clip=i,this._localRoot=o,this.blendMode=l;const d=i.tracks,g=d.length,v=new Array(g),w={endingStart:Ci,endingEnd:Ci};for(let S=0;S!==g;++S){const R=d[S].createInterpolant(null);v[S]=R,R.settings=w}this._interpolantSettings=w,this._interpolants=v,this._propertyBindings=new Array(g),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=so,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,i){return this.loop=e,this.repetitions=i,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,i,o){if(e.fadeOut(i),this.fadeIn(i),o){const l=this._clip.duration,d=e._clip.duration,g=d/l,v=l/d;e.warp(1,g,i),this.warp(v,1,i)}return this}crossFadeTo(e,i,o){return e.crossFadeFrom(this,i,o)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,i,o){const l=this._mixer,d=l.time,g=this.timeScale;let v=this._timeScaleInterpolant;v===null&&(v=l._lendControlInterpolant(),this._timeScaleInterpolant=v);const w=v.parameterPositions,S=v.sampleValues;return w[0]=d,w[1]=d+o,S[0]=e/g,S[1]=i/g,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,i,o,l){if(!this.enabled)return void this._updateWeight(e);const d=this._startTime;if(d!==null){const w=(e-d)*o;if(w<0||o===0)return;this._startTime=null,i=o*w}i*=this._updateTimeScale(e);const g=this._updateTime(i),v=this._updateWeight(e);if(v>0){const w=this._interpolants,S=this._propertyBindings;switch(this.blendMode){case Z:for(let R=0,L=w.length;R!==L;++R)w[R].evaluate(g),S[R].accumulateAdditive(v);break;case da:default:for(let R=0,L=w.length;R!==L;++R)w[R].evaluate(g),S[R].accumulate(l,v)}}}_updateWeight(e){let i=0;if(this.enabled){i=this.weight;const o=this._weightInterpolant;if(o!==null){const l=o.evaluate(e)[0];i*=l,e>o.parameterPositions[1]&&(this.stopFading(),l===0&&(this.enabled=!1))}}return this._effectiveWeight=i,i}_updateTimeScale(e){let i=0;if(!this.paused){i=this.timeScale;const o=this._timeScaleInterpolant;o!==null&&(i*=o.evaluate(e)[0],e>o.parameterPositions[1]&&(this.stopWarping(),i===0?this.paused=!0:this.timeScale=i))}return this._effectiveTimeScale=i,i}_updateTime(e){const i=this._clip.duration,o=this.loop;let l=this.time+e,d=this._loopCount;const g=o===zo;if(e===0)return d===-1?l:g&&(1&d)==1?i-l:l;if(o===Ss){d===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(l>=i)l=i;else{if(!(l<0)){this.time=l;break e}l=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(d===-1&&(e>=0?(d=0,this._setEndings(!0,this.repetitions===0,g)):this._setEndings(this.repetitions===0,!0,g)),l>=i||l<0){const v=Math.floor(l/i);l-=i*v,d+=Math.abs(v);const w=this.repetitions-d;if(w<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l=e>0?i:0,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(w===1){const S=e<0;this._setEndings(S,!S,g)}else this._setEndings(!1,!1,g);this._loopCount=d,this.time=l,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:v})}}else this.time=l;if(g&&(1&d)==1)return i-l}return l}_setEndings(e,i,o){const l=this._interpolantSettings;o?(l.endingStart=ao,l.endingEnd=ao):(l.endingStart=e?this.zeroSlopeAtStart?ao:Ci:Ml,l.endingEnd=i?this.zeroSlopeAtEnd?ao:Ci:Ml)}_scheduleFading(e,i,o){const l=this._mixer,d=l.time;let g=this._weightInterpolant;g===null&&(g=l._lendControlInterpolant(),this._weightInterpolant=g);const v=g.parameterPositions,w=g.sampleValues;return v[0]=d,w[0]=i,v[1]=d+e,w[1]=o,this}}function T1(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}T1.prototype=Object.assign(Object.create(rs.prototype),{constructor:T1,_bindAction:function(t,e){const i=t._localRoot||this._root,o=t._clip.tracks,l=o.length,d=t._propertyBindings,g=t._interpolants,v=i.uuid,w=this._bindingsByRootAndName;let S=w[v];S===void 0&&(S={},w[v]=S);for(let R=0;R!==l;++R){const L=o[R],I=L.name;let F=S[I];if(F!==void 0)d[R]=F;else{if(F=d[R],F!==void 0){F._cacheIndex===null&&(++F.referenceCount,this._addInactiveBinding(F,v,I));continue}const H=e&&e._propertyBindings[R].binding.parsedPath;F=new A1(gl.create(i,I,H),L.ValueTypeName,L.getValueSize()),++F.referenceCount,this._addInactiveBinding(F,v,I),d[R]=F}g[R].resultBuffer=F.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,o=t._clip.uuid,l=this._actionsByClip[o];this._bindAction(t,l&&l.knownActions[0]),this._addInactiveAction(t,o,i)}const e=t._propertyBindings;for(let i=0,o=e.length;i!==o;++i){const l=e[i];l.useCount++==0&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,o=e.length;i!==o;++i){const l=e[i];--l.useCount==0&&(l.restoreOriginalState(),this._takeBackBinding(l))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){const o=this._actions,l=this._actionsByClip;let d=l[e];if(d===void 0)d={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,l[e]=d;else{const g=d.knownActions;t._byClipCacheIndex=g.length,g.push(t)}t._cacheIndex=o.length,o.push(t),d.actionByRoot[i]=t},_removeInactiveAction:function(t){const e=this._actions,i=e[e.length-1],o=t._cacheIndex;i._cacheIndex=o,e[o]=i,e.pop(),t._cacheIndex=null;const l=t._clip.uuid,d=this._actionsByClip,g=d[l],v=g.knownActions,w=v[v.length-1],S=t._byClipCacheIndex;w._byClipCacheIndex=S,v[S]=w,v.pop(),t._byClipCacheIndex=null,delete g.actionByRoot[(t._localRoot||this._root).uuid],v.length===0&&delete d[l],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let i=0,o=e.length;i!==o;++i){const l=e[i];--l.referenceCount==0&&this._removeInactiveBinding(l)}},_lendAction:function(t){const e=this._actions,i=t._cacheIndex,o=this._nActiveActions++,l=e[o];t._cacheIndex=o,e[o]=t,l._cacheIndex=i,e[i]=l},_takeBackAction:function(t){const e=this._actions,i=t._cacheIndex,o=--this._nActiveActions,l=e[o];t._cacheIndex=o,e[o]=t,l._cacheIndex=i,e[i]=l},_addInactiveBinding:function(t,e,i){const o=this._bindingsByRootAndName,l=this._bindings;let d=o[e];d===void 0&&(d={},o[e]=d),d[i]=t,t._cacheIndex=l.length,l.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,i=t.binding,o=i.rootNode.uuid,l=i.path,d=this._bindingsByRootAndName,g=d[o],v=e[e.length-1],w=t._cacheIndex;v._cacheIndex=w,e[w]=v,e.pop(),delete g[l],Object.keys(g).length===0&&delete d[o]},_lendBinding:function(t){const e=this._bindings,i=t._cacheIndex,o=this._nActiveBindings++,l=e[o];t._cacheIndex=o,e[o]=t,l._cacheIndex=i,e[i]=l},_takeBackBinding:function(t){const e=this._bindings,i=t._cacheIndex,o=--this._nActiveBindings,l=e[o];t._cacheIndex=o,e[o]=t,l._cacheIndex=i,e[i]=l},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new Fc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,i=t.__cacheIndex,o=--this._nActiveControlInterpolants,l=e[o];t.__cacheIndex=o,e[o]=t,l.__cacheIndex=i,e[i]=l},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,i){const o=e||this._root,l=o.uuid;let d=typeof t=="string"?Ae.findByName(o,t):t;const g=d!==null?d.uuid:t,v=this._actionsByClip[g];let w=null;if(i===void 0&&(i=d!==null?d.blendMode:da),v!==void 0){const R=v.actionByRoot[l];if(R!==void 0&&R.blendMode===i)return R;w=v.knownActions[0],d===null&&(d=w._clip)}if(d===null)return null;const S=new lC(this,d,e,i);return this._bindAction(S,w),this._addInactiveAction(S,g,l),S},existingAction:function(t,e){const i=e||this._root,o=i.uuid,l=typeof t=="string"?Ae.findByName(i,t):t,d=l?l.uuid:t,g=this._actionsByClip[d];return g!==void 0&&g.actionByRoot[o]||null},stopAllAction:function(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,o=this.time+=t,l=Math.sign(t),d=this._accuIndex^=1;for(let w=0;w!==i;++w)e[w]._update(o,t,l,d);const g=this._bindings,v=this._nActiveBindings;for(let w=0;w!==v;++w)g[w].apply(d);return this},setTime:function(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,i=t.uuid,o=this._actionsByClip,l=o[i];if(l!==void 0){const d=l.knownActions;for(let g=0,v=d.length;g!==v;++g){const w=d[g];this._deactivateAction(w);const S=w._cacheIndex,R=e[e.length-1];w._cacheIndex=null,w._byClipCacheIndex=null,R._cacheIndex=S,e[S]=R,e.pop(),this._removeInactiveBindingsForAction(w)}delete o[i]}},uncacheRoot:function(t){const e=t.uuid,i=this._actionsByClip;for(const l in i){const d=i[l].actionByRoot[e];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const o=this._bindingsByRootAndName[e];if(o!==void 0)for(const l in o){const d=o[l];d.restoreOriginalState(),this._removeInactiveBinding(d)}},uncacheAction:function(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}});class Cb{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Cb(this.value.clone===void 0?this.value:this.value.clone())}}function C1(t,e,i){gs.call(this,t,e),this.meshPerAttribute=i||1}function L1(t,e,i,o,l){this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=o,this.count=l,this.version=0}function P1(t,e,i,o){this.ray=new ps(t,e),this.near=i||0,this.far=o||1/0,this.camera=null,this.layers=new mr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function QS(t,e){return t.distance-e.distance}function R1(t,e,i,o){if(t.layers.test(e.layers)&&t.raycast(e,i),o===!0){const l=t.children;for(let d=0,g=l.length;d<g;d++)R1(l[d],e,i,!0)}}C1.prototype=Object.assign(Object.create(gs.prototype),{constructor:C1,isInstancedInterleavedBuffer:!0,copy:function(t){return gs.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=gs.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=gs.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(L1.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Object.assign(L1.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(P1.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)},intersectObject:function(t,e,i){const o=i||[];return R1(t,this,o,e),o.sort(QS),o},intersectObjects:function(t,e,i){const o=i||[];if(Array.isArray(t)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),o;for(let l=0,d=t.length;l<d;l++)R1(t[l],this,o,e);return o.sort(QS),o}});class uC{constructor(e=1,i=0,o=0){return this.radius=e,this.phi=i,this.theta=o,this}set(e,i,o){return this.radius=e,this.phi=i,this.theta=o,this}clone(){return new this.constructor().copy(this)}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,i,o){return this.radius=Math.sqrt(e*e+i*i+o*o),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,o),this.phi=Math.acos(Tn.clamp(i/this.radius,-1,1))),this}}class cC{constructor(e,i,o){return this.radius=e!==void 0?e:1,this.theta=i!==void 0?i:0,this.y=o!==void 0?o:0,this}set(e,i,o){return this.radius=e,this.theta=i,this.y=o,this}clone(){return new this.constructor().copy(this)}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,i,o){return this.radius=Math.sqrt(e*e+o*o),this.theta=Math.atan2(e,o),this.y=i,this}}const eE=new It;class tE{constructor(e,i){Object.defineProperty(this,"isBox2",{value:!0}),this.min=e!==void 0?e:new It(1/0,1/0),this.max=i!==void 0?i:new It(-1/0,-1/0)}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromPoints(e){this.makeEmpty();for(let i=0,o=e.length;i<o;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){const o=eE.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new It),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new It),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,i){return i===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),i=new It),i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,i){return i===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),i=new It),i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return eE.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const nE=new ye,Lb=new ye;class rE{constructor(e,i){this.start=e!==void 0?e:new ye,this.end=i!==void 0?i:new ye}set(e,i){return this.start.copy(e),this.end.copy(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new ye),e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new ye),e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,i){return i===void 0&&(console.warn("THREE.Line3: .at() target is now required"),i=new ye),this.delta(i).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,i){nE.subVectors(e,this.start),Lb.subVectors(this.end,this.start);const o=Lb.dot(Lb);let l=Lb.dot(nE)/o;return i&&(l=Tn.clamp(l,0,1)),l}closestPointToPoint(e,i,o){const l=this.closestPointToPointParameter(e,i);return o===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),o=new ye),this.delta(o).multiplyScalar(l).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}function $y(t){D.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}$y.prototype=Object.create(D.prototype),$y.prototype.constructor=$y,$y.prototype.isImmediateRenderObject=!0;const iE=new ye;class hC extends D{constructor(e,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const o=new $n,l=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let g=0,v=1,w=32;g<w;g++,v++){const S=g/w*Math.PI*2,R=v/w*Math.PI*2;l.push(Math.cos(S),Math.sin(S),1,Math.cos(R),Math.sin(R),1)}o.setAttribute("position",new Dn(l,3));const d=new ks({fog:!1,toneMapped:!1});this.cone=new xa(o,d),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,i=e*Math.tan(this.light.angle);this.cone.scale.set(i,i,e),iE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Cf=new ye,Pb=new Pr,k1=new Pr;class sE extends xa{constructor(e){const i=function w(S){const R=[];S&&S.isBone&&R.push(S);for(let L=0;L<S.children.length;L++)R.push.apply(R,w(S.children[L]));return R}(e),o=new $n,l=[],d=[],g=new zt(0,0,1),v=new zt(0,1,0);for(let w=0;w<i.length;w++){const S=i[w];S.parent&&S.parent.isBone&&(l.push(0,0,0),l.push(0,0,0),d.push(g.r,g.g,g.b),d.push(v.r,v.g,v.b))}o.setAttribute("position",new Dn(l,3)),o.setAttribute("color",new Dn(d,3)),super(o,new ks({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=i,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const i=this.bones,o=this.geometry,l=o.getAttribute("position");k1.copy(this.root.matrixWorld).invert();for(let d=0,g=0;d<i.length;d++){const v=i[d];v.parent&&v.parent.isBone&&(Pb.multiplyMatrices(k1,v.matrixWorld),Cf.setFromMatrixPosition(Pb),l.setXYZ(g,Cf.x,Cf.y,Cf.z),Pb.multiplyMatrices(k1,v.parent.matrixWorld),Cf.setFromMatrixPosition(Pb),l.setXYZ(g+1,Cf.x,Cf.y,Cf.z),g+=2)}o.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}class dC extends ss{constructor(e,i,o){super(new nl(i,4,2),new Ei({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.light.updateMatrixWorld(),this.color=o,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const fC=new ye,oE=new zt,aE=new zt;class pC extends D{constructor(e,i,o){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o;const l=new Oc(i);l.rotateY(.5*Math.PI),this.material=new Ei({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const d=l.getAttribute("position"),g=new Float32Array(3*d.count);l.setAttribute("color",new Xn(g,3)),this.add(new ss(l,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const i=e.geometry.getAttribute("color");oE.copy(this.light.color),aE.copy(this.light.groundColor);for(let o=0,l=i.count;o<l;o++){const d=o<l/2?oE:aE;i.setXYZ(o,d.r,d.g,d.b)}i.needsUpdate=!0}e.lookAt(fC.setFromMatrixPosition(this.light.matrixWorld).negate())}}class lE extends xa{constructor(e=10,i=10,o=4473924,l=8947848){o=new zt(o),l=new zt(l);const d=i/2,g=e/i,v=e/2,w=[],S=[];for(let L=0,I=0,F=-v;L<=i;L++,F+=g){w.push(-v,0,F,v,0,F),w.push(F,0,-v,F,0,v);const H=L===d?o:l;H.toArray(S,I),I+=3,H.toArray(S,I),I+=3,H.toArray(S,I),I+=3,H.toArray(S,I),I+=3}const R=new $n;R.setAttribute("position",new Dn(w,3)),R.setAttribute("color",new Dn(S,3)),super(R,new ks({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}class mC extends xa{constructor(e=10,i=16,o=8,l=64,d=4473924,g=8947848){d=new zt(d),g=new zt(g);const v=[],w=[];for(let R=0;R<=i;R++){const L=R/i*(2*Math.PI),I=Math.sin(L)*e,F=Math.cos(L)*e;v.push(0,0,0),v.push(I,0,F);const H=1&R?d:g;w.push(H.r,H.g,H.b),w.push(H.r,H.g,H.b)}for(let R=0;R<=o;R++){const L=1&R?d:g,I=e-e/o*R;for(let F=0;F<l;F++){let H=F/l*(2*Math.PI),K=Math.sin(H)*I,$=Math.cos(H)*I;v.push(K,0,$),w.push(L.r,L.g,L.b),H=(F+1)/l*(2*Math.PI),K=Math.sin(H)*I,$=Math.cos(H)*I,v.push(K,0,$),w.push(L.r,L.g,L.b)}}const S=new $n;S.setAttribute("position",new Dn(v,3)),S.setAttribute("color",new Dn(w,3)),super(S,new ks({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}}const uE=new ye,Rb=new ye,cE=new ye;class gC extends D{constructor(e,i,o){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,i===void 0&&(i=1);let l=new $n;l.setAttribute("position",new Dn([-i,i,0,i,i,0,i,-i,0,-i,-i,0,-i,i,0],3));const d=new ks({fog:!1,toneMapped:!1});this.lightPlane=new Ol(l,d),this.add(this.lightPlane),l=new $n,l.setAttribute("position",new Dn([0,0,0,0,0,1],3)),this.targetLine=new Ol(l,d),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){uE.setFromMatrixPosition(this.light.matrixWorld),Rb.setFromMatrixPosition(this.light.target.matrixWorld),cE.subVectors(Rb,uE),this.lightPlane.lookAt(Rb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Rb),this.targetLine.scale.z=cE.length()}}const kb=new ye,Po=new xu;class vC extends xa{constructor(e){const i=new $n,o=new ks({color:16777215,vertexColors:!0,toneMapped:!1}),l=[],d=[],g={},v=new zt(16755200),w=new zt(16711680),S=new zt(43775),R=new zt(16777215),L=new zt(3355443);function I(H,K,$){F(H,$),F(K,$)}function F(H,K){l.push(0,0,0),d.push(K.r,K.g,K.b),g[H]===void 0&&(g[H]=[]),g[H].push(l.length/3-1)}I("n1","n2",v),I("n2","n4",v),I("n4","n3",v),I("n3","n1",v),I("f1","f2",v),I("f2","f4",v),I("f4","f3",v),I("f3","f1",v),I("n1","f1",v),I("n2","f2",v),I("n3","f3",v),I("n4","f4",v),I("p","n1",w),I("p","n2",w),I("p","n3",w),I("p","n4",w),I("u1","u2",S),I("u2","u3",S),I("u3","u1",S),I("c","t",R),I("p","c",L),I("cn1","cn2",L),I("cn3","cn4",L),I("cf1","cf2",L),I("cf3","cf4",L),i.setAttribute("position",new Dn(l,3)),i.setAttribute("color",new Dn(d,3)),super(i,o),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=g,this.update()}update(){const e=this.geometry,i=this.pointMap;Po.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Wo("c",i,e,Po,0,0,-1),Wo("t",i,e,Po,0,0,1),Wo("n1",i,e,Po,-1,-1,-1),Wo("n2",i,e,Po,1,-1,-1),Wo("n3",i,e,Po,-1,1,-1),Wo("n4",i,e,Po,1,1,-1),Wo("f1",i,e,Po,-1,-1,1),Wo("f2",i,e,Po,1,-1,1),Wo("f3",i,e,Po,-1,1,1),Wo("f4",i,e,Po,1,1,1),Wo("u1",i,e,Po,.7,1.1,-1),Wo("u2",i,e,Po,-.7,1.1,-1),Wo("u3",i,e,Po,0,2,-1),Wo("cf1",i,e,Po,-1,0,1),Wo("cf2",i,e,Po,1,0,1),Wo("cf3",i,e,Po,0,-1,1),Wo("cf4",i,e,Po,0,1,1),Wo("cn1",i,e,Po,-1,0,-1),Wo("cn2",i,e,Po,1,0,-1),Wo("cn3",i,e,Po,0,-1,-1),Wo("cn4",i,e,Po,0,1,-1),e.getAttribute("position").needsUpdate=!0}}function Wo(t,e,i,o,l,d,g){kb.set(l,d,g).unproject(o);const v=e[t];if(v!==void 0){const w=i.getAttribute("position");for(let S=0,R=v.length;S<R;S++)w.setXYZ(v[S],kb.x,kb.y,kb.z)}}const Ob=new Ka;class hE extends xa{constructor(e,i=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=new Float32Array(24),d=new $n;d.setIndex(new Xn(o,1)),d.setAttribute("position",new Xn(l,3)),super(d,new ks({color:i,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ob.setFromObject(this.object),Ob.isEmpty())return;const i=Ob.min,o=Ob.max,l=this.geometry.attributes.position,d=l.array;d[0]=o.x,d[1]=o.y,d[2]=o.z,d[3]=i.x,d[4]=o.y,d[5]=o.z,d[6]=i.x,d[7]=i.y,d[8]=o.z,d[9]=o.x,d[10]=i.y,d[11]=o.z,d[12]=o.x,d[13]=o.y,d[14]=i.z,d[15]=i.x,d[16]=o.y,d[17]=i.z,d[18]=i.x,d[19]=i.y,d[20]=i.z,d[21]=o.x,d[22]=i.y,d[23]=i.z,l.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return xa.prototype.copy.call(this,e),this.object=e.object,this}}class yC extends xa{constructor(e,i=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=new $n;l.setIndex(new Xn(o,1)),l.setAttribute("position",new Dn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(l,new ks({color:i,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const i=this.box;i.isEmpty()||(i.getCenter(this.position),i.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class xC extends Ol{constructor(e,i=1,o=16776960){const l=o,d=new $n;d.setAttribute("position",new Dn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),d.computeBoundingSphere(),super(d,new ks({color:l,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=i;const g=new $n;g.setAttribute("position",new Dn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),g.computeBoundingSphere(),this.add(new ss(g,new Ei({color:l,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let i=-this.plane.constant;Math.abs(i)<1e-8&&(i=1e-8),this.scale.set(.5*this.size,.5*this.size,i),this.children[0].material.side=i<0?X:q,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const dE=new ye;let Ib,O1;class bC extends D{constructor(e,i,o,l,d,g){super(),this.type="ArrowHelper",e===void 0&&(e=new ye(0,0,1)),i===void 0&&(i=new ye(0,0,0)),o===void 0&&(o=1),l===void 0&&(l=16776960),d===void 0&&(d=.2*o),g===void 0&&(g=.2*d),Ib===void 0&&(Ib=new $n,Ib.setAttribute("position",new Dn([0,0,0,0,1,0],3)),O1=new go(0,.5,1,5,1),O1.translate(0,-.5,0)),this.position.copy(i),this.line=new Ol(Ib,new ks({color:l,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ss(O1,new Ei({color:l,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(o,d,g)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{dE.set(e.z,0,-e.x).normalize();const i=Math.acos(e.y);this.quaternion.setFromAxisAngle(dE,i)}}setLength(e,i,o){i===void 0&&(i=.2*e),o===void 0&&(o=.2*i),this.line.scale.set(1,Math.max(1e-4,e-i),1),this.line.updateMatrix(),this.cone.scale.set(o,i,o),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class fE extends xa{constructor(e=1){const i=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],o=new $n;o.setAttribute("position",new Dn(i,3)),o.setAttribute("color",new Dn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(o,new ks({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}}const pE=new Float32Array(1),wC=new Int32Array(pE.buffer),_C={toHalfFloat:function(t){pE[0]=t;const e=wC[0];let i=e>>16&32768,o=e>>12&2047;const l=e>>23&255;return l<103?i:l>142?(i|=31744,i|=(l==255?0:1)&&8388607&e,i):l<113?(o|=2048,i|=(o>>114-l)+(o>>113-l&1),i):(i|=l-112<<10|o>>1,i+=1&o,i)}},Ch=Math.pow(2,8),mE=[.125,.215,.35,.446,.526,.582],gE=5+mE.length,Lh={[ct]:0,[kt]:1,[ir]:2,[C]:3,[B]:4,[U]:5,[wn]:6},I1=new Hg,{_lodPlanes:Yy,_sizeLods:vE,_sigmas:Db}=MC(),yE=new zt;let D1=null;const Wp=(1+Math.sqrt(5))/2,jg=1/Wp,xE=[new ye(1,1,1),new ye(-1,1,1),new ye(1,1,-1),new ye(-1,1,-1),new ye(0,Wp,jg),new ye(0,Wp,-jg),new ye(jg,0,Wp),new ye(-jg,0,Wp),new ye(Wp,jg,0),new ye(-Wp,jg,0)];class SC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(i){const o=new Float32Array(i),l=new ye(0,1,0);return new Kl({name:"SphericalGaussianBlur",defines:{n:i},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:o},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:l},inputEncoding:{value:Lh[ct]},outputEncoding:{value:Lh[ct]}},vertexShader:N1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${F1()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:oe,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,i=0,o=.1,l=100){D1=this._renderer.getRenderTarget();const d=this._allocateTargets();return this._sceneToCubeUV(e,o,l,d),i>0&&this._blur(d,0,0,i),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=_E(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=wE(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Yy.length;e++)Yy[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(D1),e.scissorTest=!1,Nb(e,0,0,e.width,e.height)}_fromTexture(e){D1=this._renderer.getRenderTarget();const i=this._allocateTargets(e);return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(e){const i={magFilter:tr,minFilter:tr,generateMipmaps:!1,type:ar,format:jl,encoding:EC(e)?e.encoding:ir,depthBuffer:!1},o=bE(i);return o.depthBuffer=!e,this._pingPongRenderTarget=bE(i),o}_compileMaterial(e){const i=new ss(Yy[0],e);this._renderer.compile(i,I1)}_sceneToCubeUV(e,i,o,l){const d=new eo(90,1,i,o),g=[1,-1,1,1,1,1],v=[1,1,1,-1,-1,-1],w=this._renderer,S=w.outputEncoding,R=w.toneMapping;w.getClearColor(yE);const L=w.getClearAlpha();w.toneMapping=jt,w.outputEncoding=ct;let I=e.background;if(I&&I.isColor){I.convertSRGBToLinear();const F=Math.max(I.r,I.g,I.b),H=Math.min(Math.max(Math.ceil(Math.log2(F)),-128),127);I=I.multiplyScalar(Math.pow(2,-H));const K=(H+128)/255;w.setClearColor(I,K),e.background=null}for(let F=0;F<6;F++){const H=F%3;H==0?(d.up.set(0,g[F],0),d.lookAt(v[F],0,0)):H==1?(d.up.set(0,0,g[F]),d.lookAt(0,v[F],0)):(d.up.set(0,g[F],0),d.lookAt(0,0,v[F])),Nb(l,H*Ch,F>2?Ch:0,Ch,Ch),w.setRenderTarget(l),w.render(e,d)}w.toneMapping=R,w.outputEncoding=S,w.setClearColor(yE,L)}_textureToCubeUV(e,i){const o=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=_E()):this._equirectShader==null&&(this._equirectShader=wE());const l=e.isCubeTexture?this._cubemapShader:this._equirectShader,d=new ss(Yy[0],l),g=l.uniforms;g.envMap.value=e,e.isCubeTexture||g.texelSize.value.set(1/e.image.width,1/e.image.height),g.inputEncoding.value=Lh[e.encoding],g.outputEncoding.value=Lh[i.texture.encoding],Nb(i,0,0,3*Ch,2*Ch),o.setRenderTarget(i),o.render(d,I1)}_applyPMREM(e){const i=this._renderer,o=i.autoClear;i.autoClear=!1;for(let l=1;l<gE;l++){const d=Math.sqrt(Db[l]*Db[l]-Db[l-1]*Db[l-1]),g=xE[(l-1)%xE.length];this._blur(e,l-1,l,d,g)}i.autoClear=o}_blur(e,i,o,l,d){const g=this._pingPongRenderTarget;this._halfBlur(e,g,i,o,l,"latitudinal",d),this._halfBlur(g,e,o,o,l,"longitudinal",d)}_halfBlur(e,i,o,l,d,g,v){const w=this._renderer,S=this._blurMaterial;g!=="latitudinal"&&g!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const R=new ss(Yy[l],S),L=S.uniforms,I=vE[o]-1,F=isFinite(d)?Math.PI/(2*I):2*Math.PI/39,H=d/F,K=isFinite(d)?1+Math.floor(3*H):20;K>20&&console.warn(`sigmaRadians, ${d}, is too large and will clip, as it requested ${K} samples when the maximum is set to 20`);const $=[];let ee=0;for(let xe=0;xe<20;++xe){const Ee=xe/H,Me=Math.exp(-Ee*Ee/2);$.push(Me),xe==0?ee+=Me:xe<K&&(ee+=2*Me)}for(let xe=0;xe<$.length;xe++)$[xe]=$[xe]/ee;L.envMap.value=e.texture,L.samples.value=K,L.weights.value=$,L.latitudinal.value=g==="latitudinal",v&&(L.poleAxis.value=v),L.dTheta.value=F,L.mipInt.value=8-o,L.inputEncoding.value=Lh[e.texture.encoding],L.outputEncoding.value=Lh[e.texture.encoding];const me=vE[l];Nb(i,3*Math.max(0,Ch-2*me),(l===0?0:2*Ch)+2*me*(l>4?l-8+4:0),3*me,2*me),w.setRenderTarget(i),w.render(R,I1)}}function EC(t){return t!==void 0&&t.type===ar&&(t.encoding===ct||t.encoding===kt||t.encoding===wn)}function MC(){const t=[],e=[],i=[];let o=8;for(let l=0;l<gE;l++){const d=Math.pow(2,o);e.push(d);let g=1/d;l>4?g=mE[l-8+4-1]:l==0&&(g=0),i.push(g);const v=1/(d-1),w=-v/2,S=1+v/2,R=[w,w,S,w,S,S,w,w,S,S,w,S],L=6,I=6,F=3,H=2,K=1,$=new Float32Array(F*I*L),ee=new Float32Array(H*I*L),me=new Float32Array(K*I*L);for(let Ee=0;Ee<L;Ee++){const Me=Ee%3*2/3-1,Ne=Ee>2?0:-1,Te=[Me,Ne,0,Me+2/3,Ne,0,Me+2/3,Ne+1,0,Me,Ne,0,Me+2/3,Ne+1,0,Me,Ne+1,0];$.set(Te,F*I*Ee),ee.set(R,H*I*Ee);const ut=[Ee,Ee,Ee,Ee,Ee,Ee];me.set(ut,K*I*Ee)}const xe=new $n;xe.setAttribute("position",new Xn($,F)),xe.setAttribute("uv",new Xn(ee,H)),xe.setAttribute("faceIndex",new Xn(me,K)),t.push(xe),o>4&&o--}return{_lodPlanes:t,_sizeLods:e,_sigmas:i}}function bE(t){const e=new Uo(3*Ch,3*Ch,t);return e.texture.mapping=zr,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Nb(t,e,i,o,l){t.viewport.set(e,i,o,l),t.scissor.set(e,i,o,l)}function wE(){return new Kl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new It(1,1)},inputEncoding:{value:Lh[ct]},outputEncoding:{value:Lh[ct]}},vertexShader:N1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${F1()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:oe,depthTest:!1,depthWrite:!1})}function _E(){return new Kl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Lh[ct]},outputEncoding:{value:Lh[ct]}},vertexShader:N1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${F1()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:oe,depthTest:!1,depthWrite:!1})}function N1(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function F1(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function AC(t,e,i,o,l,d,g){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Dr(t,e,i,l,d,g)}const TC=0,CC=1,LC=0,PC=1,RC=2;function kC(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function OC(t=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function IC(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new od(t,e)}function DC(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new hf(t)}function NC(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new od(t,e)}function FC(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new po(t)}function zC(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new po(t)}function BC(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new po(t)}function HC(t,e,i){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new ye(t,e,i)}function jC(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Xn(t,e).setUsage(Za)}function UC(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new uo(t,e)}function GC(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Go(t,e)}function VC(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new zs(t,e)}function WC(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Uu(t,e)}function qC(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new hl(t,e)}function XC(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new ea(t,e)}function $C(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new vu(t,e)}function YC(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Dn(t,e)}function ZC(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new hp(t,e)}function SE(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ml.call(this,t),this.type="catmullrom",this.closed=!0}function EE(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ml.call(this,t),this.type="catmullrom"}function z1(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ml.call(this,t),this.type="catmullrom"}function KC(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new fE(t)}function JC(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new hE(t,e)}function QC(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new xa(new yh(t.geometry),new ks({color:e!==void 0?e:16777215}))}function e2(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new xa(new Fg(t.geometry),new ks({color:e!==void 0?e:16777215}))}function t2(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Fn(t)}function n2(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new mt(t)}function r2(t,e,i){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new fo(t,i)}Xt.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Xt.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(cd.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=new ci;for(let i=0,o=t.length;i<o;i++){const l=t[i];e.vertices.push(new ye(l.x,l.y,l.z||0))}return e}}),Object.assign(Uc.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),SE.prototype=Object.create(ml.prototype),EE.prototype=Object.create(ml.prototype),z1.prototype=Object.create(ml.prototype),Object.assign(z1.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),lE.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},sE.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Ot.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),v1.extractUrlBase(t)}}),Ot.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(tE.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Ka.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(ma.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Jd.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},rE.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(Tn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Tn.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Tn.ceilPowerOfTwo(t)}}),Object.assign(Gi.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Object.assign(Pr.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new ye().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,i,o,l,d){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,o,i,l,d)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),de.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Object.assign(ds.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(ps.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Wt.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(Wt,{barycoordFromPoint:function(t,e,i,o,l){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Wt.getBarycoord(t,e,i,o,l)},normal:function(t,e,i,o){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Wt.getNormal(t,e,i,o)}}),Object.assign(Tf.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ny(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Uy(this,t)}}),Object.assign(It.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ye.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Di.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ci.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(D.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(ss.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(ss.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),ie},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(kl.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(gh.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Tc.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Xt.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),eo.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(js.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Xn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Za},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Za)}}}),Object.assign(Xn.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Za:Ii),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign($n.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Xn(arguments[1],arguments[2])))},addDrawCall:function(t,e,i){i!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties($n.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Xy.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(P1.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(gs.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Za},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(gs.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Za:Ii),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(_h.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(za.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Cb.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(yn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new zt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===W}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(Eh.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(nc.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(ho.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(of.prototype,{clearTarget:function(t,e,i,o){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,i,o)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(of.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?kt:ct}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Ty.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Uo.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(M1.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new Tb().load(t,function(i){e.setBuffer(i)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),ZS.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},wc.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},wc.prototype.clear=function(t,e,i,o){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,i,o)};const i2={merge:function(t,e,i){let o;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),o=e.matrix,e=e.geometry),t.merge(e,o,i)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};function s2(){console.error("THREE.CanvasRenderer has been removed")}function o2(){console.error("THREE.JSONLoader has been removed.")}Xi.crossOrigin=void 0,Xi.loadTexture=function(t,e,i,o){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const l=new fn;l.setCrossOrigin(this.crossOrigin);const d=l.load(t,i,void 0,o);return e&&(d.mapping=e),d},Xi.loadTextureCube=function(t,e,i,o){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const l=new Ye;l.setCrossOrigin(this.crossOrigin);const d=l.load(t,i,void 0,o);return e&&(d.mapping=e),d},Xi.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Xi.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const a2={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function l2(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:a}}))},function(A,n,r){A.exports=r(27)},function(A,n,r){var a=r(28),c={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},h={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},f={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},m={};function b(X){return a.isMemo(X)?f:m[X.$$typeof]||c}m[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m[a.Memo]=f;var _=Object.defineProperty,E=Object.getOwnPropertyNames,T=Object.getOwnPropertySymbols,k=Object.getOwnPropertyDescriptor,G=Object.getPrototypeOf,q=Object.prototype;A.exports=function X(Y,W,ne){if(typeof W!="string"){if(q){var oe=G(W);oe&&oe!==q&&X(Y,oe,ne)}var le=E(W);T&&(le=le.concat(T(W)));for(var Se=b(Y),be=b(W),Pe=0;Pe<le.length;++Pe){var P=le[Pe];if(!(h[P]||ne&&ne[P]||be&&be[P]||Se&&Se[P])){var We=k(W,P);try{_(Y,P,We)}catch{}}}}return Y}},function(A,n,r){var a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=function(h){var f={};return function(m){return f[m]===void 0&&(f[m]=h(m)),f[m]}}(function(h){return a.test(h)||h.charCodeAt(0)===111&&h.charCodeAt(1)===110&&h.charCodeAt(2)<91});n.a=c},function(A,n,r){var a;/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */(function(c,h){typeof A.exports=="object"?A.exports=c.document?h(c,!0):function(f){if(!f.document)throw new Error("jQuery requires a window with a document");return h(f)}:h(c)})(typeof window<"u"?window:this,function(c,h){var f=[],m=Object.getPrototypeOf,b=f.slice,_=f.flat?function(x){return f.flat.call(x)}:function(x){return f.concat.apply([],x)},E=f.push,T=f.indexOf,k={},G=k.toString,q=k.hasOwnProperty,X=q.toString,Y=X.call(Object),W={},ne=function(x){return typeof x=="function"&&typeof x.nodeType!="number"},oe=function(x){return x!=null&&x===x.window},le=c.document,Se={type:!0,src:!0,nonce:!0,noModule:!0};function be(x,C,B){var U,Q,ue=(B=B||le).createElement("script");if(ue.text=x,C)for(U in Se)(Q=C[U]||C.getAttribute&&C.getAttribute(U))&&ue.setAttribute(U,Q);B.head.appendChild(ue).parentNode.removeChild(ue)}function Pe(x){return x==null?x+"":typeof x=="object"||typeof x=="function"?k[G.call(x)]||"object":typeof x}var P=function(x,C){return new P.fn.init(x,C)};function We(x){var C=!!x&&"length"in x&&x.length,B=Pe(x);return!ne(x)&&!oe(x)&&(B==="array"||C===0||typeof C=="number"&&C>0&&C-1 in x)}P.fn=P.prototype={jquery:"3.5.1",constructor:P,length:0,toArray:function(){return b.call(this)},get:function(x){return x==null?b.call(this):x<0?this[x+this.length]:this[x]},pushStack:function(x){var C=P.merge(this.constructor(),x);return C.prevObject=this,C},each:function(x){return P.each(this,x)},map:function(x){return this.pushStack(P.map(this,function(C,B){return x.call(C,B,C)}))},slice:function(){return this.pushStack(b.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(x,C){return(C+1)%2}))},odd:function(){return this.pushStack(P.grep(this,function(x,C){return C%2}))},eq:function(x){var C=this.length,B=+x+(x<0?C:0);return this.pushStack(B>=0&&B<C?[this[B]]:[])},end:function(){return this.prevObject||this.constructor()},push:E,sort:f.sort,splice:f.splice},P.extend=P.fn.extend=function(){var x,C,B,U,Q,ue,he=arguments[0]||{},Ie=1,ze=arguments.length,at=!1;for(typeof he=="boolean"&&(at=he,he=arguments[Ie]||{},Ie++),typeof he=="object"||ne(he)||(he={}),Ie===ze&&(he=this,Ie--);Ie<ze;Ie++)if((x=arguments[Ie])!=null)for(C in x)U=x[C],C!=="__proto__"&&he!==U&&(at&&U&&(P.isPlainObject(U)||(Q=Array.isArray(U)))?(B=he[C],ue=Q&&!Array.isArray(B)?[]:Q||P.isPlainObject(B)?B:{},Q=!1,he[C]=P.extend(at,ue,U)):U!==void 0&&(he[C]=U));return he},P.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(x){throw new Error(x)},noop:function(){},isPlainObject:function(x){var C,B;return!(!x||G.call(x)!=="[object Object]")&&(!(C=m(x))||typeof(B=q.call(C,"constructor")&&C.constructor)=="function"&&X.call(B)===Y)},isEmptyObject:function(x){var C;for(C in x)return!1;return!0},globalEval:function(x,C,B){be(x,{nonce:C&&C.nonce},B)},each:function(x,C){var B,U=0;if(We(x))for(B=x.length;U<B&&C.call(x[U],U,x[U])!==!1;U++);else for(U in x)if(C.call(x[U],U,x[U])===!1)break;return x},makeArray:function(x,C){var B=C||[];return x!=null&&(We(Object(x))?P.merge(B,typeof x=="string"?[x]:x):E.call(B,x)),B},inArray:function(x,C,B){return C==null?-1:T.call(C,x,B)},merge:function(x,C){for(var B=+C.length,U=0,Q=x.length;U<B;U++)x[Q++]=C[U];return x.length=Q,x},grep:function(x,C,B){for(var U=[],Q=0,ue=x.length,he=!B;Q<ue;Q++)!C(x[Q],Q)!==he&&U.push(x[Q]);return U},map:function(x,C,B){var U,Q,ue=0,he=[];if(We(x))for(U=x.length;ue<U;ue++)(Q=C(x[ue],ue,B))!=null&&he.push(Q);else for(ue in x)(Q=C(x[ue],ue,B))!=null&&he.push(Q);return _(he)},guid:1,support:W}),typeof Symbol=="function"&&(P.fn[Symbol.iterator]=f[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(x,C){k["[object "+C+"]"]=C.toLowerCase()});var tt=function(x){var C,B,U,Q,ue,he,Ie,ze,at,Lt,Et,pt,Mt,Bn,lr,Wn,fi,zi,Js,li="sizzle"+1*new Date,Er=x.document,Bo=0,ui=0,Ii=Vi(),Za=Vi(),sh=Vi(),fa=Vi(),uu=function(pe,Oe){return pe===Oe&&(Et=!0),0},Bu={}.hasOwnProperty,Ho=[],Hu=Ho.pop,ka=Ho.push,hs=Ho.push,jo=Ho.slice,rs=function(pe,Oe){for(var Je=0,Ht=pe.length;Je<Ht;Je++)if(pe[Je]===Oe)return Je;return-1},qi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Lr="[\\x20\\t\\r\\n\\f]",Tn="(?:\\\\[\\da-fA-F]{1,6}"+Lr+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",It="\\["+Lr+"*("+Tn+")(?:"+Lr+"*([*^$|!~]?=)"+Lr+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Tn+"))|)"+Lr+"*\\]",Gi=":("+Tn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+It+")*)|.*)\\)|)",Ji=new RegExp(Lr+"+","g"),Xi=new RegExp("^"+Lr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Lr+"+$","g"),Oa=new RegExp("^"+Lr+"*,"+Lr+"*"),ii=new RegExp("^"+Lr+"*([>+~]|"+Lr+")"+Lr+"*"),Ul=new RegExp(Lr+"|>"),Di=new RegExp(Gi),Uo=new RegExp("^"+Tn+"$"),cl={ID:new RegExp("^#("+Tn+")"),CLASS:new RegExp("^\\.("+Tn+")"),TAG:new RegExp("^("+Tn+"|[*])"),ATTR:new RegExp("^"+It),PSEUDO:new RegExp("^"+Gi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Lr+"*(even|odd|(([+-]|)(\\d*)n|)"+Lr+"*(?:([+-]|)"+Lr+"*(\\d+)|))"+Lr+"*\\)|)","i"),bool:new RegExp("^(?:"+qi+")$","i"),needsContext:new RegExp("^"+Lr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Lr+"*((?:-\\d)?\\d*)"+Lr+"*\\)|)(?=[^-]|$)","i")},ds=/HTML$/i,ye=/^(?:input|select|textarea|button)$/i,oh=/^h\d$/i,cu=/^[^{]+\{\s*\[native \w/,Ka=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,hu=/[+~]/,fs=new RegExp("\\\\[\\da-fA-F]{1,6}"+Lr+"?|\\\\([^\\r\\n\\f])","g"),pa=function(pe,Oe){var Je="0x"+pe.slice(1)-65536;return Oe||(Je<0?String.fromCharCode(Je+65536):String.fromCharCode(Je>>10|55296,1023&Je|56320))},ah=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,du=function(pe,Oe){return Oe?pe==="\0"?"�":pe.slice(0,-1)+"\\"+pe.charCodeAt(pe.length-1).toString(16)+" ":"\\"+pe},Gl=function(){pt()},fu=ga(function(pe){return pe.disabled===!0&&pe.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{hs.apply(Ho=jo.call(Er.childNodes),Er.childNodes),Ho[Er.childNodes.length].nodeType}catch{hs={apply:Ho.length?function(Oe,Je){ka.apply(Oe,jo.call(Je))}:function(Oe,Je){for(var Ht=Oe.length,st=0;Oe[Ht++]=Je[st++];);Oe.length=Ht-1}}}function $r(pe,Oe,Je,Ht){var st,Zt,Jt,ln,En,dr,mr,_r=Oe&&Oe.ownerDocument,Ur=Oe?Oe.nodeType:9;if(Je=Je||[],typeof pe!="string"||!pe||Ur!==1&&Ur!==9&&Ur!==11)return Je;if(!Ht&&(pt(Oe),Oe=Oe||Mt,lr)){if(Ur!==11&&(En=Ka.exec(pe)))if(st=En[1]){if(Ur===9){if(!(Jt=Oe.getElementById(st)))return Je;if(Jt.id===st)return Je.push(Jt),Je}else if(_r&&(Jt=_r.getElementById(st))&&Js(Oe,Jt)&&Jt.id===st)return Je.push(Jt),Je}else{if(En[2])return hs.apply(Je,Oe.getElementsByTagName(pe)),Je;if((st=En[3])&&B.getElementsByClassName&&Oe.getElementsByClassName)return hs.apply(Je,Oe.getElementsByClassName(st)),Je}if(B.qsa&&!fa[pe+" "]&&(!Wn||!Wn.test(pe))&&(Ur!==1||Oe.nodeName.toLowerCase()!=="object")){if(mr=pe,_r=Oe,Ur===1&&(Ul.test(pe)||ii.test(pe))){for((_r=hu.test(pe)&&mu(Oe.parentNode)||Oe)===Oe&&B.scope||((ln=Oe.getAttribute("id"))?ln=ln.replace(ah,du):Oe.setAttribute("id",ln=li)),Zt=(dr=he(pe)).length;Zt--;)dr[Zt]=(ln?"#"+ln:":scope")+" "+Jo(dr[Zt]);mr=dr.join(",")}try{return hs.apply(Je,_r.querySelectorAll(mr)),Je}catch{fa(pe,!0)}finally{ln===li&&Oe.removeAttribute("id")}}}return ze(pe.replace(Xi,"$1"),Oe,Je,Ht)}function Vi(){var pe=[];return function Oe(Je,Ht){return pe.push(Je+" ")>U.cacheLength&&delete Oe[pe.shift()],Oe[Je+" "]=Ht}}function is(pe){return pe[li]=!0,pe}function Ns(pe){var Oe=Mt.createElement("fieldset");try{return!!pe(Oe)}catch{return!1}finally{Oe.parentNode&&Oe.parentNode.removeChild(Oe),Oe=null}}function Zo(pe,Oe){for(var Je=pe.split("|"),Ht=Je.length;Ht--;)U.attrHandle[Je[Ht]]=Oe}function pu(pe,Oe){var Je=Oe&&pe,Ht=Je&&pe.nodeType===1&&Oe.nodeType===1&&pe.sourceIndex-Oe.sourceIndex;if(Ht)return Ht;if(Je){for(;Je=Je.nextSibling;)if(Je===Oe)return-1}return pe?1:-1}function Ko(pe){return function(Oe){return Oe.nodeName.toLowerCase()==="input"&&Oe.type===pe}}function yc(pe){return function(Oe){var Je=Oe.nodeName.toLowerCase();return(Je==="input"||Je==="button")&&Oe.type===pe}}function ma(pe){return function(Oe){return"form"in Oe?Oe.parentNode&&Oe.disabled===!1?"label"in Oe?"label"in Oe.parentNode?Oe.parentNode.disabled===pe:Oe.disabled===pe:Oe.isDisabled===pe||Oe.isDisabled!==!pe&&fu(Oe)===pe:Oe.disabled===pe:"label"in Oe&&Oe.disabled===pe}}function lo(pe){return is(function(Oe){return Oe=+Oe,is(function(Je,Ht){for(var st,Zt=pe([],Je.length,Oe),Jt=Zt.length;Jt--;)Je[st=Zt[Jt]]&&(Je[st]=!(Ht[st]=Je[st]))})})}function mu(pe){return pe&&pe.getElementsByTagName!==void 0&&pe}for(C in B=$r.support={},ue=$r.isXML=function(pe){var Oe=pe.namespaceURI,Je=(pe.ownerDocument||pe).documentElement;return!ds.test(Oe||Je&&Je.nodeName||"HTML")},pt=$r.setDocument=function(pe){var Oe,Je,Ht=pe?pe.ownerDocument||pe:Er;return Ht!=Mt&&Ht.nodeType===9&&Ht.documentElement&&(Bn=(Mt=Ht).documentElement,lr=!ue(Mt),Er!=Mt&&(Je=Mt.defaultView)&&Je.top!==Je&&(Je.addEventListener?Je.addEventListener("unload",Gl,!1):Je.attachEvent&&Je.attachEvent("onunload",Gl)),B.scope=Ns(function(st){return Bn.appendChild(st).appendChild(Mt.createElement("div")),st.querySelectorAll!==void 0&&!st.querySelectorAll(":scope fieldset div").length}),B.attributes=Ns(function(st){return st.className="i",!st.getAttribute("className")}),B.getElementsByTagName=Ns(function(st){return st.appendChild(Mt.createComment("")),!st.getElementsByTagName("*").length}),B.getElementsByClassName=cu.test(Mt.getElementsByClassName),B.getById=Ns(function(st){return Bn.appendChild(st).id=li,!Mt.getElementsByName||!Mt.getElementsByName(li).length}),B.getById?(U.filter.ID=function(st){var Zt=st.replace(fs,pa);return function(Jt){return Jt.getAttribute("id")===Zt}},U.find.ID=function(st,Zt){if(Zt.getElementById!==void 0&&lr){var Jt=Zt.getElementById(st);return Jt?[Jt]:[]}}):(U.filter.ID=function(st){var Zt=st.replace(fs,pa);return function(Jt){var ln=Jt.getAttributeNode!==void 0&&Jt.getAttributeNode("id");return ln&&ln.value===Zt}},U.find.ID=function(st,Zt){if(Zt.getElementById!==void 0&&lr){var Jt,ln,En,dr=Zt.getElementById(st);if(dr){if((Jt=dr.getAttributeNode("id"))&&Jt.value===st)return[dr];for(En=Zt.getElementsByName(st),ln=0;dr=En[ln++];)if((Jt=dr.getAttributeNode("id"))&&Jt.value===st)return[dr]}return[]}}),U.find.TAG=B.getElementsByTagName?function(st,Zt){return Zt.getElementsByTagName!==void 0?Zt.getElementsByTagName(st):B.qsa?Zt.querySelectorAll(st):void 0}:function(st,Zt){var Jt,ln=[],En=0,dr=Zt.getElementsByTagName(st);if(st==="*"){for(;Jt=dr[En++];)Jt.nodeType===1&&ln.push(Jt);return ln}return dr},U.find.CLASS=B.getElementsByClassName&&function(st,Zt){if(Zt.getElementsByClassName!==void 0&&lr)return Zt.getElementsByClassName(st)},fi=[],Wn=[],(B.qsa=cu.test(Mt.querySelectorAll))&&(Ns(function(st){var Zt;Bn.appendChild(st).innerHTML="<a id='"+li+"'></a><select id='"+li+"-\r\\' msallowcapture=''><option selected=''></option></select>",st.querySelectorAll("[msallowcapture^='']").length&&Wn.push("[*^$]="+Lr+`*(?:''|"")`),st.querySelectorAll("[selected]").length||Wn.push("\\["+Lr+"*(?:value|"+qi+")"),st.querySelectorAll("[id~="+li+"-]").length||Wn.push("~="),(Zt=Mt.createElement("input")).setAttribute("name",""),st.appendChild(Zt),st.querySelectorAll("[name='']").length||Wn.push("\\["+Lr+"*name"+Lr+"*="+Lr+`*(?:''|"")`),st.querySelectorAll(":checked").length||Wn.push(":checked"),st.querySelectorAll("a#"+li+"+*").length||Wn.push(".#.+[+~]"),st.querySelectorAll("\\\f"),Wn.push("[\\r\\n\\f]")}),Ns(function(st){st.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Zt=Mt.createElement("input");Zt.setAttribute("type","hidden"),st.appendChild(Zt).setAttribute("name","D"),st.querySelectorAll("[name=d]").length&&Wn.push("name"+Lr+"*[*^$|!~]?="),st.querySelectorAll(":enabled").length!==2&&Wn.push(":enabled",":disabled"),Bn.appendChild(st).disabled=!0,st.querySelectorAll(":disabled").length!==2&&Wn.push(":enabled",":disabled"),st.querySelectorAll("*,:x"),Wn.push(",.*:")})),(B.matchesSelector=cu.test(zi=Bn.matches||Bn.webkitMatchesSelector||Bn.mozMatchesSelector||Bn.oMatchesSelector||Bn.msMatchesSelector))&&Ns(function(st){B.disconnectedMatch=zi.call(st,"*"),zi.call(st,"[s!='']:x"),fi.push("!=",Gi)}),Wn=Wn.length&&new RegExp(Wn.join("|")),fi=fi.length&&new RegExp(fi.join("|")),Oe=cu.test(Bn.compareDocumentPosition),Js=Oe||cu.test(Bn.contains)?function(st,Zt){var Jt=st.nodeType===9?st.documentElement:st,ln=Zt&&Zt.parentNode;return st===ln||!(!ln||ln.nodeType!==1||!(Jt.contains?Jt.contains(ln):st.compareDocumentPosition&&16&st.compareDocumentPosition(ln)))}:function(st,Zt){if(Zt){for(;Zt=Zt.parentNode;)if(Zt===st)return!0}return!1},uu=Oe?function(st,Zt){if(st===Zt)return Et=!0,0;var Jt=!st.compareDocumentPosition-!Zt.compareDocumentPosition;return Jt||(1&(Jt=(st.ownerDocument||st)==(Zt.ownerDocument||Zt)?st.compareDocumentPosition(Zt):1)||!B.sortDetached&&Zt.compareDocumentPosition(st)===Jt?st==Mt||st.ownerDocument==Er&&Js(Er,st)?-1:Zt==Mt||Zt.ownerDocument==Er&&Js(Er,Zt)?1:Lt?rs(Lt,st)-rs(Lt,Zt):0:4&Jt?-1:1)}:function(st,Zt){if(st===Zt)return Et=!0,0;var Jt,ln=0,En=st.parentNode,dr=Zt.parentNode,mr=[st],_r=[Zt];if(!En||!dr)return st==Mt?-1:Zt==Mt?1:En?-1:dr?1:Lt?rs(Lt,st)-rs(Lt,Zt):0;if(En===dr)return pu(st,Zt);for(Jt=st;Jt=Jt.parentNode;)mr.unshift(Jt);for(Jt=Zt;Jt=Jt.parentNode;)_r.unshift(Jt);for(;mr[ln]===_r[ln];)ln++;return ln?pu(mr[ln],_r[ln]):mr[ln]==Er?-1:_r[ln]==Er?1:0}),Mt},$r.matches=function(pe,Oe){return $r(pe,null,null,Oe)},$r.matchesSelector=function(pe,Oe){if(pt(pe),B.matchesSelector&&lr&&!fa[Oe+" "]&&(!fi||!fi.test(Oe))&&(!Wn||!Wn.test(Oe)))try{var Je=zi.call(pe,Oe);if(Je||B.disconnectedMatch||pe.document&&pe.document.nodeType!==11)return Je}catch{fa(Oe,!0)}return $r(Oe,Mt,null,[pe]).length>0},$r.contains=function(pe,Oe){return(pe.ownerDocument||pe)!=Mt&&pt(pe),Js(pe,Oe)},$r.attr=function(pe,Oe){(pe.ownerDocument||pe)!=Mt&&pt(pe);var Je=U.attrHandle[Oe.toLowerCase()],Ht=Je&&Bu.call(U.attrHandle,Oe.toLowerCase())?Je(pe,Oe,!lr):void 0;return Ht!==void 0?Ht:B.attributes||!lr?pe.getAttribute(Oe):(Ht=pe.getAttributeNode(Oe))&&Ht.specified?Ht.value:null},$r.escape=function(pe){return(pe+"").replace(ah,du)},$r.error=function(pe){throw new Error("Syntax error, unrecognized expression: "+pe)},$r.uniqueSort=function(pe){var Oe,Je=[],Ht=0,st=0;if(Et=!B.detectDuplicates,Lt=!B.sortStable&&pe.slice(0),pe.sort(uu),Et){for(;Oe=pe[st++];)Oe===pe[st]&&(Ht=Je.push(st));for(;Ht--;)pe.splice(Je[Ht],1)}return Lt=null,pe},Q=$r.getText=function(pe){var Oe,Je="",Ht=0,st=pe.nodeType;if(st){if(st===1||st===9||st===11){if(typeof pe.textContent=="string")return pe.textContent;for(pe=pe.firstChild;pe;pe=pe.nextSibling)Je+=Q(pe)}else if(st===3||st===4)return pe.nodeValue}else for(;Oe=pe[Ht++];)Je+=Q(Oe);return Je},(U=$r.selectors={cacheLength:50,createPseudo:is,match:cl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(pe){return pe[1]=pe[1].replace(fs,pa),pe[3]=(pe[3]||pe[4]||pe[5]||"").replace(fs,pa),pe[2]==="~="&&(pe[3]=" "+pe[3]+" "),pe.slice(0,4)},CHILD:function(pe){return pe[1]=pe[1].toLowerCase(),pe[1].slice(0,3)==="nth"?(pe[3]||$r.error(pe[0]),pe[4]=+(pe[4]?pe[5]+(pe[6]||1):2*(pe[3]==="even"||pe[3]==="odd")),pe[5]=+(pe[7]+pe[8]||pe[3]==="odd")):pe[3]&&$r.error(pe[0]),pe},PSEUDO:function(pe){var Oe,Je=!pe[6]&&pe[2];return cl.CHILD.test(pe[0])?null:(pe[3]?pe[2]=pe[4]||pe[5]||"":Je&&Di.test(Je)&&(Oe=he(Je,!0))&&(Oe=Je.indexOf(")",Je.length-Oe)-Je.length)&&(pe[0]=pe[0].slice(0,Oe),pe[2]=Je.slice(0,Oe)),pe.slice(0,3))}},filter:{TAG:function(pe){var Oe=pe.replace(fs,pa).toLowerCase();return pe==="*"?function(){return!0}:function(Je){return Je.nodeName&&Je.nodeName.toLowerCase()===Oe}},CLASS:function(pe){var Oe=Ii[pe+" "];return Oe||(Oe=new RegExp("(^|"+Lr+")"+pe+"("+Lr+"|$)"))&&Ii(pe,function(Je){return Oe.test(typeof Je.className=="string"&&Je.className||Je.getAttribute!==void 0&&Je.getAttribute("class")||"")})},ATTR:function(pe,Oe,Je){return function(Ht){var st=$r.attr(Ht,pe);return st==null?Oe==="!=":!Oe||(st+="",Oe==="="?st===Je:Oe==="!="?st!==Je:Oe==="^="?Je&&st.indexOf(Je)===0:Oe==="*="?Je&&st.indexOf(Je)>-1:Oe==="$="?Je&&st.slice(-Je.length)===Je:Oe==="~="?(" "+st.replace(Ji," ")+" ").indexOf(Je)>-1:Oe==="|="&&(st===Je||st.slice(0,Je.length+1)===Je+"-"))}},CHILD:function(pe,Oe,Je,Ht,st){var Zt=pe.slice(0,3)!=="nth",Jt=pe.slice(-4)!=="last",ln=Oe==="of-type";return Ht===1&&st===0?function(En){return!!En.parentNode}:function(En,dr,mr){var _r,Ur,wi,fr,ms,Qi,Qs=Zt!==Jt?"nextSibling":"previousSibling",Li=En.parentNode,Qo=ln&&En.nodeName.toLowerCase(),Fs=!mr&&!ln,Ms=!1;if(Li){if(Zt){for(;Qs;){for(fr=En;fr=fr[Qs];)if(ln?fr.nodeName.toLowerCase()===Qo:fr.nodeType===1)return!1;Qi=Qs=pe==="only"&&!Qi&&"nextSibling"}return!0}if(Qi=[Jt?Li.firstChild:Li.lastChild],Jt&&Fs){for(Ms=(ms=(_r=(Ur=(wi=(fr=Li)[li]||(fr[li]={}))[fr.uniqueID]||(wi[fr.uniqueID]={}))[pe]||[])[0]===Bo&&_r[1])&&_r[2],fr=ms&&Li.childNodes[ms];fr=++ms&&fr&&fr[Qs]||(Ms=ms=0)||Qi.pop();)if(fr.nodeType===1&&++Ms&&fr===En){Ur[pe]=[Bo,ms,Ms];break}}else if(Fs&&(Ms=ms=(_r=(Ur=(wi=(fr=En)[li]||(fr[li]={}))[fr.uniqueID]||(wi[fr.uniqueID]={}))[pe]||[])[0]===Bo&&_r[1]),Ms===!1)for(;(fr=++ms&&fr&&fr[Qs]||(Ms=ms=0)||Qi.pop())&&((ln?fr.nodeName.toLowerCase()!==Qo:fr.nodeType!==1)||!++Ms||(Fs&&((Ur=(wi=fr[li]||(fr[li]={}))[fr.uniqueID]||(wi[fr.uniqueID]={}))[pe]=[Bo,Ms]),fr!==En)););return(Ms-=st)===Ht||Ms%Ht==0&&Ms/Ht>=0}}},PSEUDO:function(pe,Oe){var Je,Ht=U.pseudos[pe]||U.setFilters[pe.toLowerCase()]||$r.error("unsupported pseudo: "+pe);return Ht[li]?Ht(Oe):Ht.length>1?(Je=[pe,pe,"",Oe],U.setFilters.hasOwnProperty(pe.toLowerCase())?is(function(st,Zt){for(var Jt,ln=Ht(st,Oe),En=ln.length;En--;)st[Jt=rs(st,ln[En])]=!(Zt[Jt]=ln[En])}):function(st){return Ht(st,0,Je)}):Ht}},pseudos:{not:is(function(pe){var Oe=[],Je=[],Ht=Ie(pe.replace(Xi,"$1"));return Ht[li]?is(function(st,Zt,Jt,ln){for(var En,dr=Ht(st,null,ln,[]),mr=st.length;mr--;)(En=dr[mr])&&(st[mr]=!(Zt[mr]=En))}):function(st,Zt,Jt){return Oe[0]=st,Ht(Oe,null,Jt,Je),Oe[0]=null,!Je.pop()}}),has:is(function(pe){return function(Oe){return $r(pe,Oe).length>0}}),contains:is(function(pe){return pe=pe.replace(fs,pa),function(Oe){return(Oe.textContent||Q(Oe)).indexOf(pe)>-1}}),lang:is(function(pe){return Uo.test(pe||"")||$r.error("unsupported lang: "+pe),pe=pe.replace(fs,pa).toLowerCase(),function(Oe){var Je;do if(Je=lr?Oe.lang:Oe.getAttribute("xml:lang")||Oe.getAttribute("lang"))return(Je=Je.toLowerCase())===pe||Je.indexOf(pe+"-")===0;while((Oe=Oe.parentNode)&&Oe.nodeType===1);return!1}}),target:function(pe){var Oe=x.location&&x.location.hash;return Oe&&Oe.slice(1)===pe.id},root:function(pe){return pe===Bn},focus:function(pe){return pe===Mt.activeElement&&(!Mt.hasFocus||Mt.hasFocus())&&!!(pe.type||pe.href||~pe.tabIndex)},enabled:ma(!1),disabled:ma(!0),checked:function(pe){var Oe=pe.nodeName.toLowerCase();return Oe==="input"&&!!pe.checked||Oe==="option"&&!!pe.selected},selected:function(pe){return pe.parentNode&&pe.parentNode.selectedIndex,pe.selected===!0},empty:function(pe){for(pe=pe.firstChild;pe;pe=pe.nextSibling)if(pe.nodeType<6)return!1;return!0},parent:function(pe){return!U.pseudos.empty(pe)},header:function(pe){return oh.test(pe.nodeName)},input:function(pe){return ye.test(pe.nodeName)},button:function(pe){var Oe=pe.nodeName.toLowerCase();return Oe==="input"&&pe.type==="button"||Oe==="button"},text:function(pe){var Oe;return pe.nodeName.toLowerCase()==="input"&&pe.type==="text"&&((Oe=pe.getAttribute("type"))==null||Oe.toLowerCase()==="text")},first:lo(function(){return[0]}),last:lo(function(pe,Oe){return[Oe-1]}),eq:lo(function(pe,Oe,Je){return[Je<0?Je+Oe:Je]}),even:lo(function(pe,Oe){for(var Je=0;Je<Oe;Je+=2)pe.push(Je);return pe}),odd:lo(function(pe,Oe){for(var Je=1;Je<Oe;Je+=2)pe.push(Je);return pe}),lt:lo(function(pe,Oe,Je){for(var Ht=Je<0?Je+Oe:Je>Oe?Oe:Je;--Ht>=0;)pe.push(Ht);return pe}),gt:lo(function(pe,Oe,Je){for(var Ht=Je<0?Je+Oe:Je;++Ht<Oe;)pe.push(Ht);return pe})}}).pseudos.nth=U.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[C]=Ko(C);for(C in{submit:!0,reset:!0})U.pseudos[C]=yc(C);function ju(){}function Jo(pe){for(var Oe=0,Je=pe.length,Ht="";Oe<Je;Oe++)Ht+=pe[Oe].value;return Ht}function ga(pe,Oe,Je){var Ht=Oe.dir,st=Oe.next,Zt=st||Ht,Jt=Je&&Zt==="parentNode",ln=ui++;return Oe.first?function(En,dr,mr){for(;En=En[Ht];)if(En.nodeType===1||Jt)return pe(En,dr,mr);return!1}:function(En,dr,mr){var _r,Ur,wi,fr=[Bo,ln];if(mr){for(;En=En[Ht];)if((En.nodeType===1||Jt)&&pe(En,dr,mr))return!0}else for(;En=En[Ht];)if(En.nodeType===1||Jt)if(Ur=(wi=En[li]||(En[li]={}))[En.uniqueID]||(wi[En.uniqueID]={}),st&&st===En.nodeName.toLowerCase())En=En[Ht]||En;else{if((_r=Ur[Zt])&&_r[0]===Bo&&_r[1]===ln)return fr[2]=_r[2];if(Ur[Zt]=fr,fr[2]=pe(En,dr,mr))return!0}return!1}}function gu(pe){return pe.length>1?function(Oe,Je,Ht){for(var st=pe.length;st--;)if(!pe[st](Oe,Je,Ht))return!1;return!0}:pe[0]}function va(pe,Oe,Je,Ht,st){for(var Zt,Jt=[],ln=0,En=pe.length,dr=Oe!=null;ln<En;ln++)(Zt=pe[ln])&&(Je&&!Je(Zt,Ht,st)||(Jt.push(Zt),dr&&Oe.push(ln)));return Jt}function ps(pe,Oe,Je,Ht,st,Zt){return Ht&&!Ht[li]&&(Ht=ps(Ht)),st&&!st[li]&&(st=ps(st,Zt)),is(function(Jt,ln,En,dr){var mr,_r,Ur,wi=[],fr=[],ms=ln.length,Qi=Jt||function(Qo,Fs,Ms){for(var O=0,N=Fs.length;O<N;O++)$r(Qo,Fs[O],Ms);return Ms}(Oe||"*",En.nodeType?[En]:En,[]),Qs=!pe||!Jt&&Oe?Qi:va(Qi,wi,pe,En,dr),Li=Je?st||(Jt?pe:ms||Ht)?[]:ln:Qs;if(Je&&Je(Qs,Li,En,dr),Ht)for(mr=va(Li,fr),Ht(mr,[],En,dr),_r=mr.length;_r--;)(Ur=mr[_r])&&(Li[fr[_r]]=!(Qs[fr[_r]]=Ur));if(Jt){if(st||pe){if(st){for(mr=[],_r=Li.length;_r--;)(Ur=Li[_r])&&mr.push(Qs[_r]=Ur);st(null,Li=[],mr,dr)}for(_r=Li.length;_r--;)(Ur=Li[_r])&&(mr=st?rs(Jt,Ur):wi[_r])>-1&&(Jt[mr]=!(ln[mr]=Ur))}}else Li=va(Li===ln?Li.splice(ms,Li.length):Li),st?st(null,ln,Li,dr):hs.apply(ln,Li)})}function Pr(pe){for(var Oe,Je,Ht,st=pe.length,Zt=U.relative[pe[0].type],Jt=Zt||U.relative[" "],ln=Zt?1:0,En=ga(function(_r){return _r===Oe},Jt,!0),dr=ga(function(_r){return rs(Oe,_r)>-1},Jt,!0),mr=[function(_r,Ur,wi){var fr=!Zt&&(wi||Ur!==at)||((Oe=Ur).nodeType?En(_r,Ur,wi):dr(_r,Ur,wi));return Oe=null,fr}];ln<st;ln++)if(Je=U.relative[pe[ln].type])mr=[ga(gu(mr),Je)];else{if((Je=U.filter[pe[ln].type].apply(null,pe[ln].matches))[li]){for(Ht=++ln;Ht<st&&!U.relative[pe[Ht].type];Ht++);return ps(ln>1&&gu(mr),ln>1&&Jo(pe.slice(0,ln-1).concat({value:pe[ln-2].type===" "?"*":""})).replace(Xi,"$1"),Je,ln<Ht&&Pr(pe.slice(ln,Ht)),Ht<st&&Pr(pe=pe.slice(Ht)),Ht<st&&Jo(pe))}mr.push(Je)}return gu(mr)}return ju.prototype=U.filters=U.pseudos,U.setFilters=new ju,he=$r.tokenize=function(pe,Oe){var Je,Ht,st,Zt,Jt,ln,En,dr=Za[pe+" "];if(dr)return Oe?0:dr.slice(0);for(Jt=pe,ln=[],En=U.preFilter;Jt;){for(Zt in Je&&!(Ht=Oa.exec(Jt))||(Ht&&(Jt=Jt.slice(Ht[0].length)||Jt),ln.push(st=[])),Je=!1,(Ht=ii.exec(Jt))&&(Je=Ht.shift(),st.push({value:Je,type:Ht[0].replace(Xi," ")}),Jt=Jt.slice(Je.length)),U.filter)!(Ht=cl[Zt].exec(Jt))||En[Zt]&&!(Ht=En[Zt](Ht))||(Je=Ht.shift(),st.push({value:Je,type:Zt,matches:Ht}),Jt=Jt.slice(Je.length));if(!Je)break}return Oe?Jt.length:Jt?$r.error(pe):Za(pe,ln).slice(0)},Ie=$r.compile=function(pe,Oe){var Je,Ht=[],st=[],Zt=sh[pe+" "];if(!Zt){for(Oe||(Oe=he(pe)),Je=Oe.length;Je--;)(Zt=Pr(Oe[Je]))[li]?Ht.push(Zt):st.push(Zt);(Zt=sh(pe,function(Jt,ln){var En=ln.length>0,dr=Jt.length>0,mr=function(_r,Ur,wi,fr,ms){var Qi,Qs,Li,Qo=0,Fs="0",Ms=_r&&[],O=[],N=at,D=_r||dr&&U.find.TAG("*",ms),j=Bo+=N==null?1:Math.random()||.1,J=D.length;for(ms&&(at=Ur==Mt||Ur||ms);Fs!==J&&(Qi=D[Fs])!=null;Fs++){if(dr&&Qi){for(Qs=0,Ur||Qi.ownerDocument==Mt||(pt(Qi),wi=!lr);Li=Jt[Qs++];)if(Li(Qi,Ur||Mt,wi)){fr.push(Qi);break}ms&&(Bo=j)}En&&((Qi=!Li&&Qi)&&Qo--,_r&&Ms.push(Qi))}if(Qo+=Fs,En&&Fs!==Qo){for(Qs=0;Li=ln[Qs++];)Li(Ms,O,Ur,wi);if(_r){if(Qo>0)for(;Fs--;)Ms[Fs]||O[Fs]||(O[Fs]=Hu.call(fr));O=va(O)}hs.apply(fr,O),ms&&!_r&&O.length>0&&Qo+ln.length>1&&$r.uniqueSort(fr)}return ms&&(Bo=j,at=N),Ms};return En?is(mr):mr}(st,Ht))).selector=pe}return Zt},ze=$r.select=function(pe,Oe,Je,Ht){var st,Zt,Jt,ln,En,dr=typeof pe=="function"&&pe,mr=!Ht&&he(pe=dr.selector||pe);if(Je=Je||[],mr.length===1){if((Zt=mr[0]=mr[0].slice(0)).length>2&&(Jt=Zt[0]).type==="ID"&&Oe.nodeType===9&&lr&&U.relative[Zt[1].type]){if(!(Oe=(U.find.ID(Jt.matches[0].replace(fs,pa),Oe)||[])[0]))return Je;dr&&(Oe=Oe.parentNode),pe=pe.slice(Zt.shift().value.length)}for(st=cl.needsContext.test(pe)?0:Zt.length;st--&&(Jt=Zt[st],!U.relative[ln=Jt.type]);)if((En=U.find[ln])&&(Ht=En(Jt.matches[0].replace(fs,pa),hu.test(Zt[0].type)&&mu(Oe.parentNode)||Oe))){if(Zt.splice(st,1),!(pe=Ht.length&&Jo(Zt)))return hs.apply(Je,Ht),Je;break}}return(dr||Ie(pe,mr))(Ht,Oe,!lr,Je,!Oe||hu.test(pe)&&mu(Oe.parentNode)||Oe),Je},B.sortStable=li.split("").sort(uu).join("")===li,B.detectDuplicates=!!Et,pt(),B.sortDetached=Ns(function(pe){return 1&pe.compareDocumentPosition(Mt.createElement("fieldset"))}),Ns(function(pe){return pe.innerHTML="<a href='#'></a>",pe.firstChild.getAttribute("href")==="#"})||Zo("type|href|height|width",function(pe,Oe,Je){if(!Je)return pe.getAttribute(Oe,Oe.toLowerCase()==="type"?1:2)}),B.attributes&&Ns(function(pe){return pe.innerHTML="<input/>",pe.firstChild.setAttribute("value",""),pe.firstChild.getAttribute("value")===""})||Zo("value",function(pe,Oe,Je){if(!Je&&pe.nodeName.toLowerCase()==="input")return pe.defaultValue}),Ns(function(pe){return pe.getAttribute("disabled")==null})||Zo(qi,function(pe,Oe,Je){var Ht;if(!Je)return pe[Oe]===!0?Oe.toLowerCase():(Ht=pe.getAttributeNode(Oe))&&Ht.specified?Ht.value:null}),$r}(c);P.find=tt,P.expr=tt.selectors,P.expr[":"]=P.expr.pseudos,P.uniqueSort=P.unique=tt.uniqueSort,P.text=tt.getText,P.isXMLDoc=tt.isXML,P.contains=tt.contains,P.escapeSelector=tt.escape;var dt=function(x,C,B){for(var U=[],Q=B!==void 0;(x=x[C])&&x.nodeType!==9;)if(x.nodeType===1){if(Q&&P(x).is(B))break;U.push(x)}return U},Ke=function(x,C){for(var B=[];x;x=x.nextSibling)x.nodeType===1&&x!==C&&B.push(x);return B},Ze=P.expr.match.needsContext;function Xe(x,C){return x.nodeName&&x.nodeName.toLowerCase()===C.toLowerCase()}var ft=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Be(x,C,B){return ne(C)?P.grep(x,function(U,Q){return!!C.call(U,Q,U)!==B}):C.nodeType?P.grep(x,function(U){return U===C!==B}):typeof C!="string"?P.grep(x,function(U){return T.call(C,U)>-1!==B}):P.filter(C,x,B)}P.filter=function(x,C,B){var U=C[0];return B&&(x=":not("+x+")"),C.length===1&&U.nodeType===1?P.find.matchesSelector(U,x)?[U]:[]:P.find.matches(x,P.grep(C,function(Q){return Q.nodeType===1}))},P.fn.extend({find:function(x){var C,B,U=this.length,Q=this;if(typeof x!="string")return this.pushStack(P(x).filter(function(){for(C=0;C<U;C++)if(P.contains(Q[C],this))return!0}));for(B=this.pushStack([]),C=0;C<U;C++)P.find(x,Q[C],B);return U>1?P.uniqueSort(B):B},filter:function(x){return this.pushStack(Be(this,x||[],!1))},not:function(x){return this.pushStack(Be(this,x||[],!0))},is:function(x){return!!Be(this,typeof x=="string"&&Ze.test(x)?P(x):x||[],!1).length}});var Qe,Ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(x,C,B){var U,Q;if(!x)return this;if(B=B||Qe,typeof x=="string"){if(!(U=x[0]==="<"&&x[x.length-1]===">"&&x.length>=3?[null,x,null]:Ue.exec(x))||!U[1]&&C)return!C||C.jquery?(C||B).find(x):this.constructor(C).find(x);if(U[1]){if(C=C instanceof P?C[0]:C,P.merge(this,P.parseHTML(U[1],C&&C.nodeType?C.ownerDocument||C:le,!0)),ft.test(U[1])&&P.isPlainObject(C))for(U in C)ne(this[U])?this[U](C[U]):this.attr(U,C[U]);return this}return(Q=le.getElementById(U[2]))&&(this[0]=Q,this.length=1),this}return x.nodeType?(this[0]=x,this.length=1,this):ne(x)?B.ready!==void 0?B.ready(x):x(P):P.makeArray(x,this)}).prototype=P.fn,Qe=P(le);var te=/^(?:parents|prev(?:Until|All))/,lt={children:!0,contents:!0,next:!0,prev:!0};function _e(x,C){for(;(x=x[C])&&x.nodeType!==1;);return x}P.fn.extend({has:function(x){var C=P(x,this),B=C.length;return this.filter(function(){for(var U=0;U<B;U++)if(P.contains(this,C[U]))return!0})},closest:function(x,C){var B,U=0,Q=this.length,ue=[],he=typeof x!="string"&&P(x);if(!Ze.test(x)){for(;U<Q;U++)for(B=this[U];B&&B!==C;B=B.parentNode)if(B.nodeType<11&&(he?he.index(B)>-1:B.nodeType===1&&P.find.matchesSelector(B,x))){ue.push(B);break}}return this.pushStack(ue.length>1?P.uniqueSort(ue):ue)},index:function(x){return x?typeof x=="string"?T.call(P(x),this[0]):T.call(this,x.jquery?x[0]:x):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(x,C){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(x,C))))},addBack:function(x){return this.add(x==null?this.prevObject:this.prevObject.filter(x))}}),P.each({parent:function(x){var C=x.parentNode;return C&&C.nodeType!==11?C:null},parents:function(x){return dt(x,"parentNode")},parentsUntil:function(x,C,B){return dt(x,"parentNode",B)},next:function(x){return _e(x,"nextSibling")},prev:function(x){return _e(x,"previousSibling")},nextAll:function(x){return dt(x,"nextSibling")},prevAll:function(x){return dt(x,"previousSibling")},nextUntil:function(x,C,B){return dt(x,"nextSibling",B)},prevUntil:function(x,C,B){return dt(x,"previousSibling",B)},siblings:function(x){return Ke((x.parentNode||{}).firstChild,x)},children:function(x){return Ke(x.firstChild)},contents:function(x){return x.contentDocument!=null&&m(x.contentDocument)?x.contentDocument:(Xe(x,"template")&&(x=x.content||x),P.merge([],x.childNodes))}},function(x,C){P.fn[x]=function(B,U){var Q=P.map(this,C,B);return x.slice(-5)!=="Until"&&(U=B),U&&typeof U=="string"&&(Q=P.filter(U,Q)),this.length>1&&(lt[x]||P.uniqueSort(Q),te.test(x)&&Q.reverse()),this.pushStack(Q)}});var ke=/[^\x20\t\r\n\f]+/g;function rt(x){return x}function St(x){throw x}function Ut(x,C,B,U){var Q;try{x&&ne(Q=x.promise)?Q.call(x).done(C).fail(B):x&&ne(Q=x.then)?Q.call(x,C,B):C.apply(void 0,[x].slice(U))}catch(ue){B.apply(void 0,[ue])}}P.Callbacks=function(x){x=typeof x=="string"?function(Lt){var Et={};return P.each(Lt.match(ke)||[],function(pt,Mt){Et[Mt]=!0}),Et}(x):P.extend({},x);var C,B,U,Q,ue=[],he=[],Ie=-1,ze=function(){for(Q=Q||x.once,U=C=!0;he.length;Ie=-1)for(B=he.shift();++Ie<ue.length;)ue[Ie].apply(B[0],B[1])===!1&&x.stopOnFalse&&(Ie=ue.length,B=!1);x.memory||(B=!1),C=!1,Q&&(ue=B?[]:"")},at={add:function(){return ue&&(B&&!C&&(Ie=ue.length-1,he.push(B)),function Lt(Et){P.each(Et,function(pt,Mt){ne(Mt)?x.unique&&at.has(Mt)||ue.push(Mt):Mt&&Mt.length&&Pe(Mt)!=="string"&&Lt(Mt)})}(arguments),B&&!C&&ze()),this},remove:function(){return P.each(arguments,function(Lt,Et){for(var pt;(pt=P.inArray(Et,ue,pt))>-1;)ue.splice(pt,1),pt<=Ie&&Ie--}),this},has:function(Lt){return Lt?P.inArray(Lt,ue)>-1:ue.length>0},empty:function(){return ue&&(ue=[]),this},disable:function(){return Q=he=[],ue=B="",this},disabled:function(){return!ue},lock:function(){return Q=he=[],B||C||(ue=B=""),this},locked:function(){return!!Q},fireWith:function(Lt,Et){return Q||(Et=[Lt,(Et=Et||[]).slice?Et.slice():Et],he.push(Et),C||ze()),this},fire:function(){return at.fireWith(this,arguments),this},fired:function(){return!!U}};return at},P.extend({Deferred:function(x){var C=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],B="pending",U={state:function(){return B},always:function(){return Q.done(arguments).fail(arguments),this},catch:function(ue){return U.then(null,ue)},pipe:function(){var ue=arguments;return P.Deferred(function(he){P.each(C,function(Ie,ze){var at=ne(ue[ze[4]])&&ue[ze[4]];Q[ze[1]](function(){var Lt=at&&at.apply(this,arguments);Lt&&ne(Lt.promise)?Lt.promise().progress(he.notify).done(he.resolve).fail(he.reject):he[ze[0]+"With"](this,at?[Lt]:arguments)})}),ue=null}).promise()},then:function(ue,he,Ie){var ze=0;function at(Lt,Et,pt,Mt){return function(){var Bn=this,lr=arguments,Wn=function(){var zi,Js;if(!(Lt<ze)){if((zi=pt.apply(Bn,lr))===Et.promise())throw new TypeError("Thenable self-resolution");Js=zi&&(typeof zi=="object"||typeof zi=="function")&&zi.then,ne(Js)?Mt?Js.call(zi,at(ze,Et,rt,Mt),at(ze,Et,St,Mt)):(ze++,Js.call(zi,at(ze,Et,rt,Mt),at(ze,Et,St,Mt),at(ze,Et,rt,Et.notifyWith))):(pt!==rt&&(Bn=void 0,lr=[zi]),(Mt||Et.resolveWith)(Bn,lr))}},fi=Mt?Wn:function(){try{Wn()}catch(zi){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(zi,fi.stackTrace),Lt+1>=ze&&(pt!==St&&(Bn=void 0,lr=[zi]),Et.rejectWith(Bn,lr))}};Lt?fi():(P.Deferred.getStackHook&&(fi.stackTrace=P.Deferred.getStackHook()),c.setTimeout(fi))}}return P.Deferred(function(Lt){C[0][3].add(at(0,Lt,ne(Ie)?Ie:rt,Lt.notifyWith)),C[1][3].add(at(0,Lt,ne(ue)?ue:rt)),C[2][3].add(at(0,Lt,ne(he)?he:St))}).promise()},promise:function(ue){return ue!=null?P.extend(ue,U):U}},Q={};return P.each(C,function(ue,he){var Ie=he[2],ze=he[5];U[he[1]]=Ie.add,ze&&Ie.add(function(){B=ze},C[3-ue][2].disable,C[3-ue][3].disable,C[0][2].lock,C[0][3].lock),Ie.add(he[3].fire),Q[he[0]]=function(){return Q[he[0]+"With"](this===Q?void 0:this,arguments),this},Q[he[0]+"With"]=Ie.fireWith}),U.promise(Q),x&&x.call(Q,Q),Q},when:function(x){var C=arguments.length,B=C,U=Array(B),Q=b.call(arguments),ue=P.Deferred(),he=function(Ie){return function(ze){U[Ie]=this,Q[Ie]=arguments.length>1?b.call(arguments):ze,--C||ue.resolveWith(U,Q)}};if(C<=1&&(Ut(x,ue.done(he(B)).resolve,ue.reject,!C),ue.state()==="pending"||ne(Q[B]&&Q[B].then)))return ue.then();for(;B--;)Ut(Q[B],he(B),ue.reject);return ue.promise()}});var we=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(x,C){c.console&&c.console.warn&&x&&we.test(x.name)&&c.console.warn("jQuery.Deferred exception: "+x.message,x.stack,C)},P.readyException=function(x){c.setTimeout(function(){throw x})};var Pt=P.Deferred();function gt(){le.removeEventListener("DOMContentLoaded",gt),c.removeEventListener("load",gt),P.ready()}P.fn.ready=function(x){return Pt.then(x).catch(function(C){P.readyException(C)}),this},P.extend({isReady:!1,readyWait:1,ready:function(x){(x===!0?--P.readyWait:P.isReady)||(P.isReady=!0,x!==!0&&--P.readyWait>0||Pt.resolveWith(le,[P]))}}),P.ready.then=Pt.then,le.readyState==="complete"||le.readyState!=="loading"&&!le.documentElement.doScroll?c.setTimeout(P.ready):(le.addEventListener("DOMContentLoaded",gt),c.addEventListener("load",gt));var Le=function(x,C,B,U,Q,ue,he){var Ie=0,ze=x.length,at=B==null;if(Pe(B)==="object")for(Ie in Q=!0,B)Le(x,C,Ie,B[Ie],!0,ue,he);else if(U!==void 0&&(Q=!0,ne(U)||(he=!0),at&&(he?(C.call(x,U),C=null):(at=C,C=function(Lt,Et,pt){return at.call(P(Lt),pt)})),C))for(;Ie<ze;Ie++)C(x[Ie],B,he?U:U.call(x[Ie],Ie,C(x[Ie],B)));return Q?x:at?C.call(x):ze?C(x[0],B):ue},Bt=/^-ms-/,bn=/-([a-z])/g;function cr(x,C){return C.toUpperCase()}function qt(x){return x.replace(Bt,"ms-").replace(bn,cr)}var tn=function(x){return x.nodeType===1||x.nodeType===9||!+x.nodeType};function on(){this.expando=P.expando+on.uid++}on.uid=1,on.prototype={cache:function(x){var C=x[this.expando];return C||(C={},tn(x)&&(x.nodeType?x[this.expando]=C:Object.defineProperty(x,this.expando,{value:C,configurable:!0}))),C},set:function(x,C,B){var U,Q=this.cache(x);if(typeof C=="string")Q[qt(C)]=B;else for(U in C)Q[qt(U)]=C[U];return Q},get:function(x,C){return C===void 0?this.cache(x):x[this.expando]&&x[this.expando][qt(C)]},access:function(x,C,B){return C===void 0||C&&typeof C=="string"&&B===void 0?this.get(x,C):(this.set(x,C,B),B!==void 0?B:C)},remove:function(x,C){var B,U=x[this.expando];if(U!==void 0){if(C!==void 0)for(B=(C=Array.isArray(C)?C.map(qt):(C=qt(C))in U?[C]:C.match(ke)||[]).length;B--;)delete U[C[B]];(C===void 0||P.isEmptyObject(U))&&(x.nodeType?x[this.expando]=void 0:delete x[this.expando])}},hasData:function(x){var C=x[this.expando];return C!==void 0&&!P.isEmptyObject(C)}};var jt=new on,$e=new on,Gn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,sr=/[A-Z]/g;function or(x,C,B){var U;if(B===void 0&&x.nodeType===1)if(U="data-"+C.replace(sr,"-$&").toLowerCase(),typeof(B=x.getAttribute(U))=="string"){try{B=function(Q){return Q==="true"||Q!=="false"&&(Q==="null"?null:Q===+Q+""?+Q:Gn.test(Q)?JSON.parse(Q):Q)}(B)}catch{}$e.set(x,C,B)}else B=void 0;return B}P.extend({hasData:function(x){return $e.hasData(x)||jt.hasData(x)},data:function(x,C,B){return $e.access(x,C,B)},removeData:function(x,C){$e.remove(x,C)},_data:function(x,C,B){return jt.access(x,C,B)},_removeData:function(x,C){jt.remove(x,C)}}),P.fn.extend({data:function(x,C){var B,U,Q,ue=this[0],he=ue&&ue.attributes;if(x===void 0){if(this.length&&(Q=$e.get(ue),ue.nodeType===1&&!jt.get(ue,"hasDataAttrs"))){for(B=he.length;B--;)he[B]&&(U=he[B].name).indexOf("data-")===0&&(U=qt(U.slice(5)),or(ue,U,Q[U]));jt.set(ue,"hasDataAttrs",!0)}return Q}return typeof x=="object"?this.each(function(){$e.set(this,x)}):Le(this,function(Ie){var ze;if(ue&&Ie===void 0)return(ze=$e.get(ue,x))!==void 0||(ze=or(ue,x))!==void 0?ze:void 0;this.each(function(){$e.set(this,x,Ie)})},null,C,arguments.length>1,null,!0)},removeData:function(x){return this.each(function(){$e.remove(this,x)})}}),P.extend({queue:function(x,C,B){var U;if(x)return C=(C||"fx")+"queue",U=jt.get(x,C),B&&(!U||Array.isArray(B)?U=jt.access(x,C,P.makeArray(B)):U.push(B)),U||[]},dequeue:function(x,C){C=C||"fx";var B=P.queue(x,C),U=B.length,Q=B.shift(),ue=P._queueHooks(x,C);Q==="inprogress"&&(Q=B.shift(),U--),Q&&(C==="fx"&&B.unshift("inprogress"),delete ue.stop,Q.call(x,function(){P.dequeue(x,C)},ue)),!U&&ue&&ue.empty.fire()},_queueHooks:function(x,C){var B=C+"queueHooks";return jt.get(x,B)||jt.access(x,B,{empty:P.Callbacks("once memory").add(function(){jt.remove(x,[C+"queue",B])})})}}),P.fn.extend({queue:function(x,C){var B=2;return typeof x!="string"&&(C=x,x="fx",B--),arguments.length<B?P.queue(this[0],x):C===void 0?this:this.each(function(){var U=P.queue(this,x,C);P._queueHooks(this,x),x==="fx"&&U[0]!=="inprogress"&&P.dequeue(this,x)})},dequeue:function(x){return this.each(function(){P.dequeue(this,x)})},clearQueue:function(x){return this.queue(x||"fx",[])},promise:function(x,C){var B,U=1,Q=P.Deferred(),ue=this,he=this.length,Ie=function(){--U||Q.resolveWith(ue,[ue])};for(typeof x!="string"&&(C=x,x=void 0),x=x||"fx";he--;)(B=jt.get(ue[he],x+"queueHooks"))&&B.empty&&(U++,B.empty.add(Ie));return Ie(),Q.promise(C)}});var zn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,hr=new RegExp("^(?:([+-])=|)("+zn+")([a-z%]*)$","i"),br=["Top","Right","Bottom","Left"],wr=le.documentElement,Vn=function(x){return P.contains(x.ownerDocument,x)},Nr={composed:!0};wr.getRootNode&&(Vn=function(x){return P.contains(x.ownerDocument,x)||x.getRootNode(Nr)===x.ownerDocument});var zr=function(x,C){return(x=C||x).style.display==="none"||x.style.display===""&&Vn(x)&&P.css(x,"display")==="none"};function Cr(x,C,B,U){var Q,ue,he=20,Ie=U?function(){return U.cur()}:function(){return P.css(x,C,"")},ze=Ie(),at=B&&B[3]||(P.cssNumber[C]?"":"px"),Lt=x.nodeType&&(P.cssNumber[C]||at!=="px"&&+ze)&&hr.exec(P.css(x,C));if(Lt&&Lt[3]!==at){for(ze/=2,at=at||Lt[3],Lt=+ze||1;he--;)P.style(x,C,Lt+at),(1-ue)*(1-(ue=Ie()/ze||.5))<=0&&(he=0),Lt/=ue;Lt*=2,P.style(x,C,Lt+at),B=B||[]}return B&&(Lt=+Lt||+ze||0,Q=B[1]?Lt+(B[1]+1)*B[2]:+B[2],U&&(U.unit=at,U.start=Lt,U.end=Q)),Q}var Zr={};function Ir(x){var C,B=x.ownerDocument,U=x.nodeName,Q=Zr[U];return Q||(C=B.body.appendChild(B.createElement(U)),Q=P.css(C,"display"),C.parentNode.removeChild(C),Q==="none"&&(Q="block"),Zr[U]=Q,Q)}function Pn(x,C){for(var B,U,Q=[],ue=0,he=x.length;ue<he;ue++)(U=x[ue]).style&&(B=U.style.display,C?(B==="none"&&(Q[ue]=jt.get(U,"display")||null,Q[ue]||(U.style.display="")),U.style.display===""&&zr(U)&&(Q[ue]=Ir(U))):B!=="none"&&(Q[ue]="none",jt.set(U,"display",B)));for(ue=0;ue<he;ue++)Q[ue]!=null&&(x[ue].style.display=Q[ue]);return x}P.fn.extend({show:function(){return Pn(this,!0)},hide:function(){return Pn(this)},toggle:function(x){return typeof x=="boolean"?x?this.show():this.hide():this.each(function(){zr(this)?P(this).show():P(this).hide()})}});var tr,Fr,xi=/^(?:checkbox|radio)$/i,Yi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Zi=/^$|^module$|\/(?:java|ecma)script/i;tr=le.createDocumentFragment().appendChild(le.createElement("div")),(Fr=le.createElement("input")).setAttribute("type","radio"),Fr.setAttribute("checked","checked"),Fr.setAttribute("name","t"),tr.appendChild(Fr),W.checkClone=tr.cloneNode(!0).cloneNode(!0).lastChild.checked,tr.innerHTML="<textarea>x</textarea>",W.noCloneChecked=!!tr.cloneNode(!0).lastChild.defaultValue,tr.innerHTML="<option></option>",W.option=!!tr.lastChild;var Sr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ai(x,C){var B;return B=x.getElementsByTagName!==void 0?x.getElementsByTagName(C||"*"):x.querySelectorAll!==void 0?x.querySelectorAll(C||"*"):[],C===void 0||C&&Xe(x,C)?P.merge([x],B):B}function Ai(x,C){for(var B=0,U=x.length;B<U;B++)jt.set(x[B],"globalEval",!C||jt.get(C[B],"globalEval"))}Sr.tbody=Sr.tfoot=Sr.colgroup=Sr.caption=Sr.thead,Sr.th=Sr.td,W.option||(Sr.optgroup=Sr.option=[1,"<select multiple='multiple'>","</select>"]);var Gs=/<|&#?\w+;/;function ji(x,C,B,U,Q){for(var ue,he,Ie,ze,at,Lt,Et=C.createDocumentFragment(),pt=[],Mt=0,Bn=x.length;Mt<Bn;Mt++)if((ue=x[Mt])||ue===0)if(Pe(ue)==="object")P.merge(pt,ue.nodeType?[ue]:ue);else if(Gs.test(ue)){for(he=he||Et.appendChild(C.createElement("div")),Ie=(Yi.exec(ue)||["",""])[1].toLowerCase(),ze=Sr[Ie]||Sr._default,he.innerHTML=ze[1]+P.htmlPrefilter(ue)+ze[2],Lt=ze[0];Lt--;)he=he.lastChild;P.merge(pt,he.childNodes),(he=Et.firstChild).textContent=""}else pt.push(C.createTextNode(ue));for(Et.textContent="",Mt=0;ue=pt[Mt++];)if(U&&P.inArray(ue,U)>-1)Q&&Q.push(ue);else if(at=Vn(ue),he=ai(Et.appendChild(ue),"script"),at&&Ai(he),B)for(Lt=0;ue=he[Lt++];)Zi.test(ue.type||"")&&B.push(ue);return Et}var ar=/^key/,aa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ls=/^([^.]*)(?:\.(.+)|)/;function Ui(){return!0}function ts(){return!1}function Ls(x,C){return x===function(){try{return le.activeElement}catch{}}()==(C==="focus")}function Ps(x,C,B,U,Q,ue){var he,Ie;if(typeof C=="object"){for(Ie in typeof B!="string"&&(U=U||B,B=void 0),C)Ps(x,Ie,B,U,C[Ie],ue);return x}if(U==null&&Q==null?(Q=B,U=B=void 0):Q==null&&(typeof B=="string"?(Q=U,U=void 0):(Q=U,U=B,B=void 0)),Q===!1)Q=ts;else if(!Q)return x;return ue===1&&(he=Q,(Q=function(ze){return P().off(ze),he.apply(this,arguments)}).guid=he.guid||(he.guid=P.guid++)),x.each(function(){P.event.add(this,C,Q,U,B)})}function Kr(x,C,B){B?(jt.set(x,C,!1),P.event.add(x,C,{namespace:!1,handler:function(U){var Q,ue,he=jt.get(this,C);if(1&U.isTrigger&&this[C]){if(he.length)(P.event.special[C]||{}).delegateType&&U.stopPropagation();else if(he=b.call(arguments),jt.set(this,C,he),Q=B(this,C),this[C](),he!==(ue=jt.get(this,C))||Q?jt.set(this,C,!1):ue={},he!==ue)return U.stopImmediatePropagation(),U.preventDefault(),ue.value}else he.length&&(jt.set(this,C,{value:P.event.trigger(P.extend(he[0],P.Event.prototype),he.slice(1),this)}),U.stopImmediatePropagation())}})):jt.get(x,C)===void 0&&P.event.add(x,C,Ui)}P.event={global:{},add:function(x,C,B,U,Q){var ue,he,Ie,ze,at,Lt,Et,pt,Mt,Bn,lr,Wn=jt.get(x);if(tn(x))for(B.handler&&(B=(ue=B).handler,Q=ue.selector),Q&&P.find.matchesSelector(wr,Q),B.guid||(B.guid=P.guid++),(ze=Wn.events)||(ze=Wn.events=Object.create(null)),(he=Wn.handle)||(he=Wn.handle=function(fi){return P!==void 0&&P.event.triggered!==fi.type?P.event.dispatch.apply(x,arguments):void 0}),at=(C=(C||"").match(ke)||[""]).length;at--;)Mt=lr=(Ie=ls.exec(C[at])||[])[1],Bn=(Ie[2]||"").split(".").sort(),Mt&&(Et=P.event.special[Mt]||{},Mt=(Q?Et.delegateType:Et.bindType)||Mt,Et=P.event.special[Mt]||{},Lt=P.extend({type:Mt,origType:lr,data:U,handler:B,guid:B.guid,selector:Q,needsContext:Q&&P.expr.match.needsContext.test(Q),namespace:Bn.join(".")},ue),(pt=ze[Mt])||((pt=ze[Mt]=[]).delegateCount=0,Et.setup&&Et.setup.call(x,U,Bn,he)!==!1||x.addEventListener&&x.addEventListener(Mt,he)),Et.add&&(Et.add.call(x,Lt),Lt.handler.guid||(Lt.handler.guid=B.guid)),Q?pt.splice(pt.delegateCount++,0,Lt):pt.push(Lt),P.event.global[Mt]=!0)},remove:function(x,C,B,U,Q){var ue,he,Ie,ze,at,Lt,Et,pt,Mt,Bn,lr,Wn=jt.hasData(x)&&jt.get(x);if(Wn&&(ze=Wn.events)){for(at=(C=(C||"").match(ke)||[""]).length;at--;)if(Mt=lr=(Ie=ls.exec(C[at])||[])[1],Bn=(Ie[2]||"").split(".").sort(),Mt){for(Et=P.event.special[Mt]||{},pt=ze[Mt=(U?Et.delegateType:Et.bindType)||Mt]||[],Ie=Ie[2]&&new RegExp("(^|\\.)"+Bn.join("\\.(?:.*\\.|)")+"(\\.|$)"),he=ue=pt.length;ue--;)Lt=pt[ue],!Q&&lr!==Lt.origType||B&&B.guid!==Lt.guid||Ie&&!Ie.test(Lt.namespace)||U&&U!==Lt.selector&&(U!=="**"||!Lt.selector)||(pt.splice(ue,1),Lt.selector&&pt.delegateCount--,Et.remove&&Et.remove.call(x,Lt));he&&!pt.length&&(Et.teardown&&Et.teardown.call(x,Bn,Wn.handle)!==!1||P.removeEvent(x,Mt,Wn.handle),delete ze[Mt])}else for(Mt in ze)P.event.remove(x,Mt+C[at],B,U,!0);P.isEmptyObject(ze)&&jt.remove(x,"handle events")}},dispatch:function(x){var C,B,U,Q,ue,he,Ie=new Array(arguments.length),ze=P.event.fix(x),at=(jt.get(this,"events")||Object.create(null))[ze.type]||[],Lt=P.event.special[ze.type]||{};for(Ie[0]=ze,C=1;C<arguments.length;C++)Ie[C]=arguments[C];if(ze.delegateTarget=this,!Lt.preDispatch||Lt.preDispatch.call(this,ze)!==!1){for(he=P.event.handlers.call(this,ze,at),C=0;(Q=he[C++])&&!ze.isPropagationStopped();)for(ze.currentTarget=Q.elem,B=0;(ue=Q.handlers[B++])&&!ze.isImmediatePropagationStopped();)ze.rnamespace&&ue.namespace!==!1&&!ze.rnamespace.test(ue.namespace)||(ze.handleObj=ue,ze.data=ue.data,(U=((P.event.special[ue.origType]||{}).handle||ue.handler).apply(Q.elem,Ie))!==void 0&&(ze.result=U)===!1&&(ze.preventDefault(),ze.stopPropagation()));return Lt.postDispatch&&Lt.postDispatch.call(this,ze),ze.result}},handlers:function(x,C){var B,U,Q,ue,he,Ie=[],ze=C.delegateCount,at=x.target;if(ze&&at.nodeType&&!(x.type==="click"&&x.button>=1)){for(;at!==this;at=at.parentNode||this)if(at.nodeType===1&&(x.type!=="click"||at.disabled!==!0)){for(ue=[],he={},B=0;B<ze;B++)he[Q=(U=C[B]).selector+" "]===void 0&&(he[Q]=U.needsContext?P(Q,this).index(at)>-1:P.find(Q,this,null,[at]).length),he[Q]&&ue.push(U);ue.length&&Ie.push({elem:at,handlers:ue})}}return at=this,ze<C.length&&Ie.push({elem:at,handlers:C.slice(ze)}),Ie},addProp:function(x,C){Object.defineProperty(P.Event.prototype,x,{enumerable:!0,configurable:!0,get:ne(C)?function(){if(this.originalEvent)return C(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[x]},set:function(B){Object.defineProperty(this,x,{enumerable:!0,configurable:!0,writable:!0,value:B})}})},fix:function(x){return x[P.expando]?x:new P.Event(x)},special:{load:{noBubble:!0},click:{setup:function(x){var C=this||x;return xi.test(C.type)&&C.click&&Xe(C,"input")&&Kr(C,"click",Ui),!1},trigger:function(x){var C=this||x;return xi.test(C.type)&&C.click&&Xe(C,"input")&&Kr(C,"click"),!0},_default:function(x){var C=x.target;return xi.test(C.type)&&C.click&&Xe(C,"input")&&jt.get(C,"click")||Xe(C,"a")}},beforeunload:{postDispatch:function(x){x.result!==void 0&&x.originalEvent&&(x.originalEvent.returnValue=x.result)}}}},P.removeEvent=function(x,C,B){x.removeEventListener&&x.removeEventListener(C,B)},P.Event=function(x,C){if(!(this instanceof P.Event))return new P.Event(x,C);x&&x.type?(this.originalEvent=x,this.type=x.type,this.isDefaultPrevented=x.defaultPrevented||x.defaultPrevented===void 0&&x.returnValue===!1?Ui:ts,this.target=x.target&&x.target.nodeType===3?x.target.parentNode:x.target,this.currentTarget=x.currentTarget,this.relatedTarget=x.relatedTarget):this.type=x,C&&P.extend(this,C),this.timeStamp=x&&x.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:ts,isPropagationStopped:ts,isImmediatePropagationStopped:ts,isSimulated:!1,preventDefault:function(){var x=this.originalEvent;this.isDefaultPrevented=Ui,x&&!this.isSimulated&&x.preventDefault()},stopPropagation:function(){var x=this.originalEvent;this.isPropagationStopped=Ui,x&&!this.isSimulated&&x.stopPropagation()},stopImmediatePropagation:function(){var x=this.originalEvent;this.isImmediatePropagationStopped=Ui,x&&!this.isSimulated&&x.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(x){var C=x.button;return x.which==null&&ar.test(x.type)?x.charCode!=null?x.charCode:x.keyCode:!x.which&&C!==void 0&&aa.test(x.type)?1&C?1:2&C?3:4&C?2:0:x.which}},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},function(x,C){P.event.special[x]={setup:function(){return Kr(this,x,Ls),!1},trigger:function(){return Kr(this,x),!0},delegateType:C}}),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(x,C){P.event.special[x]={delegateType:C,bindType:C,handle:function(B){var U,Q=this,ue=B.relatedTarget,he=B.handleObj;return ue&&(ue===Q||P.contains(Q,ue))||(B.type=he.origType,U=he.handler.apply(this,arguments),B.type=C),U}}}),P.fn.extend({on:function(x,C,B,U){return Ps(this,x,C,B,U)},one:function(x,C,B,U){return Ps(this,x,C,B,U,1)},off:function(x,C,B){var U,Q;if(x&&x.preventDefault&&x.handleObj)return U=x.handleObj,P(x.delegateTarget).off(U.namespace?U.origType+"."+U.namespace:U.origType,U.selector,U.handler),this;if(typeof x=="object"){for(Q in x)this.off(Q,C,x[Q]);return this}return C!==!1&&typeof C!="function"||(B=C,C=void 0),B===!1&&(B=ts),this.each(function(){P.event.remove(this,x,B,C)})}});var Ca=/<script|<style|<link/i,la=/checked\s*(?:[^=]|=\s*.checked.)/i,_o=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function So(x,C){return Xe(x,"table")&&Xe(C.nodeType!==11?C:C.firstChild,"tr")&&P(x).children("tbody")[0]||x}function ro(x){return x.type=(x.getAttribute("type")!==null)+"/"+x.type,x}function ws(x){return(x.type||"").slice(0,5)==="true/"?x.type=x.type.slice(5):x.removeAttribute("type"),x}function mi(x,C){var B,U,Q,ue,he,Ie;if(C.nodeType===1){if(jt.hasData(x)&&(Ie=jt.get(x).events))for(Q in jt.remove(C,"handle events"),Ie)for(B=0,U=Ie[Q].length;B<U;B++)P.event.add(C,Q,Ie[Q][B]);$e.hasData(x)&&(ue=$e.access(x),he=P.extend({},ue),$e.set(C,he))}}function Ki(x,C){var B=C.nodeName.toLowerCase();B==="input"&&xi.test(x.type)?C.checked=x.checked:B!=="input"&&B!=="textarea"||(C.defaultValue=x.defaultValue)}function us(x,C,B,U){C=_(C);var Q,ue,he,Ie,ze,at,Lt=0,Et=x.length,pt=Et-1,Mt=C[0],Bn=ne(Mt);if(Bn||Et>1&&typeof Mt=="string"&&!W.checkClone&&la.test(Mt))return x.each(function(lr){var Wn=x.eq(lr);Bn&&(C[0]=Mt.call(this,lr,Wn.html())),us(Wn,C,B,U)});if(Et&&(ue=(Q=ji(C,x[0].ownerDocument,!1,x,U)).firstChild,Q.childNodes.length===1&&(Q=ue),ue||U)){for(Ie=(he=P.map(ai(Q,"script"),ro)).length;Lt<Et;Lt++)ze=Q,Lt!==pt&&(ze=P.clone(ze,!0,!0),Ie&&P.merge(he,ai(ze,"script"))),B.call(x[Lt],ze,Lt);if(Ie)for(at=he[he.length-1].ownerDocument,P.map(he,ws),Lt=0;Lt<Ie;Lt++)ze=he[Lt],Zi.test(ze.type||"")&&!jt.access(ze,"globalEval")&&P.contains(at,ze)&&(ze.src&&(ze.type||"").toLowerCase()!=="module"?P._evalUrl&&!ze.noModule&&P._evalUrl(ze.src,{nonce:ze.nonce||ze.getAttribute("nonce")},at):be(ze.textContent.replace(_o,""),ze,at))}return x}function jl(x,C,B){for(var U,Q=C?P.filter(C,x):x,ue=0;(U=Q[ue])!=null;ue++)B||U.nodeType!==1||P.cleanData(ai(U)),U.parentNode&&(B&&Vn(U)&&Ai(ai(U,"script")),U.parentNode.removeChild(U));return x}P.extend({htmlPrefilter:function(x){return x},clone:function(x,C,B){var U,Q,ue,he,Ie=x.cloneNode(!0),ze=Vn(x);if(!(W.noCloneChecked||x.nodeType!==1&&x.nodeType!==11||P.isXMLDoc(x)))for(he=ai(Ie),U=0,Q=(ue=ai(x)).length;U<Q;U++)Ki(ue[U],he[U]);if(C)if(B)for(ue=ue||ai(x),he=he||ai(Ie),U=0,Q=ue.length;U<Q;U++)mi(ue[U],he[U]);else mi(x,Ie);return(he=ai(Ie,"script")).length>0&&Ai(he,!ze&&ai(x,"script")),Ie},cleanData:function(x){for(var C,B,U,Q=P.event.special,ue=0;(B=x[ue])!==void 0;ue++)if(tn(B)){if(C=B[jt.expando]){if(C.events)for(U in C.events)Q[U]?P.event.remove(B,U):P.removeEvent(B,U,C.handle);B[jt.expando]=void 0}B[$e.expando]&&(B[$e.expando]=void 0)}}}),P.fn.extend({detach:function(x){return jl(this,x,!0)},remove:function(x){return jl(this,x)},text:function(x){return Le(this,function(C){return C===void 0?P.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=C)})},null,x,arguments.length)},append:function(){return us(this,arguments,function(x){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||So(this,x).appendChild(x)})},prepend:function(){return us(this,arguments,function(x){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var C=So(this,x);C.insertBefore(x,C.firstChild)}})},before:function(){return us(this,arguments,function(x){this.parentNode&&this.parentNode.insertBefore(x,this)})},after:function(){return us(this,arguments,function(x){this.parentNode&&this.parentNode.insertBefore(x,this.nextSibling)})},empty:function(){for(var x,C=0;(x=this[C])!=null;C++)x.nodeType===1&&(P.cleanData(ai(x,!1)),x.textContent="");return this},clone:function(x,C){return x=x!=null&&x,C=C??x,this.map(function(){return P.clone(this,x,C)})},html:function(x){return Le(this,function(C){var B=this[0]||{},U=0,Q=this.length;if(C===void 0&&B.nodeType===1)return B.innerHTML;if(typeof C=="string"&&!Ca.test(C)&&!Sr[(Yi.exec(C)||["",""])[1].toLowerCase()]){C=P.htmlPrefilter(C);try{for(;U<Q;U++)(B=this[U]||{}).nodeType===1&&(P.cleanData(ai(B,!1)),B.innerHTML=C);B=0}catch{}}B&&this.empty().append(C)},null,x,arguments.length)},replaceWith:function(){var x=[];return us(this,arguments,function(C){var B=this.parentNode;P.inArray(this,x)<0&&(P.cleanData(ai(this)),B&&B.replaceChild(C,this))},x)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(x,C){P.fn[x]=function(B){for(var U,Q=[],ue=P(B),he=ue.length-1,Ie=0;Ie<=he;Ie++)U=Ie===he?this:this.clone(!0),P(ue[Ie])[C](U),E.apply(Q,U.get());return this.pushStack(Q)}});var Ks=new RegExp("^("+zn+")(?!px)[a-z%]+$","i"),_s=function(x){var C=x.ownerDocument.defaultView;return C&&C.opener||(C=c),C.getComputedStyle(x)},He=function(x,C,B){var U,Q,ue={};for(Q in C)ue[Q]=x.style[Q],x.style[Q]=C[Q];for(Q in U=B.call(x),C)x.style[Q]=ue[Q];return U},yt=new RegExp(br.join("|"),"i");function je(x,C,B){var U,Q,ue,he,Ie=x.style;return(B=B||_s(x))&&((he=B.getPropertyValue(C)||B[C])!==""||Vn(x)||(he=P.style(x,C)),!W.pixelBoxStyles()&&Ks.test(he)&&yt.test(C)&&(U=Ie.width,Q=Ie.minWidth,ue=Ie.maxWidth,Ie.minWidth=Ie.maxWidth=Ie.width=he,he=B.width,Ie.width=U,Ie.minWidth=Q,Ie.maxWidth=ue)),he!==void 0?he+"":he}function it(x,C){return{get:function(){if(!x())return(this.get=C).apply(this,arguments);delete this.get}}}(function(){function x(){if(at){ze.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",at.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",wr.appendChild(ze).appendChild(at);var Lt=c.getComputedStyle(at);B=Lt.top!=="1%",Ie=C(Lt.marginLeft)===12,at.style.right="60%",ue=C(Lt.right)===36,U=C(Lt.width)===36,at.style.position="absolute",Q=C(at.offsetWidth/3)===12,wr.removeChild(ze),at=null}}function C(Lt){return Math.round(parseFloat(Lt))}var B,U,Q,ue,he,Ie,ze=le.createElement("div"),at=le.createElement("div");at.style&&(at.style.backgroundClip="content-box",at.cloneNode(!0).style.backgroundClip="",W.clearCloneStyle=at.style.backgroundClip==="content-box",P.extend(W,{boxSizingReliable:function(){return x(),U},pixelBoxStyles:function(){return x(),ue},pixelPosition:function(){return x(),B},reliableMarginLeft:function(){return x(),Ie},scrollboxSize:function(){return x(),Q},reliableTrDimensions:function(){var Lt,Et,pt,Mt;return he==null&&(Lt=le.createElement("table"),Et=le.createElement("tr"),pt=le.createElement("div"),Lt.style.cssText="position:absolute;left:-11111px",Et.style.height="1px",pt.style.height="9px",wr.appendChild(Lt).appendChild(Et).appendChild(pt),Mt=c.getComputedStyle(Et),he=parseInt(Mt.height)>3,wr.removeChild(Lt)),he}}))})();var Yt=["Webkit","Moz","ms"],pn=le.createElement("div").style,dn={};function Kn(x){var C=P.cssProps[x]||dn[x];return C||(x in pn?x:dn[x]=function(B){for(var U=B[0].toUpperCase()+B.slice(1),Q=Yt.length;Q--;)if((B=Yt[Q]+U)in pn)return B}(x)||x)}var Jr=/^(none|table(?!-c[ea]).+)/,Sn=/^--/,Mr={position:"absolute",visibility:"hidden",display:"block"},ri={letterSpacing:"0",fontWeight:"400"};function Br(x,C,B){var U=hr.exec(C);return U?Math.max(0,U[2]-(B||0))+(U[3]||"px"):C}function Qr(x,C,B,U,Q,ue){var he=C==="width"?1:0,Ie=0,ze=0;if(B===(U?"border":"content"))return 0;for(;he<4;he+=2)B==="margin"&&(ze+=P.css(x,B+br[he],!0,Q)),U?(B==="content"&&(ze-=P.css(x,"padding"+br[he],!0,Q)),B!=="margin"&&(ze-=P.css(x,"border"+br[he]+"Width",!0,Q))):(ze+=P.css(x,"padding"+br[he],!0,Q),B!=="padding"?ze+=P.css(x,"border"+br[he]+"Width",!0,Q):Ie+=P.css(x,"border"+br[he]+"Width",!0,Q));return!U&&ue>=0&&(ze+=Math.max(0,Math.ceil(x["offset"+C[0].toUpperCase()+C.slice(1)]-ue-ze-Ie-.5))||0),ze}function Hr(x,C,B){var U=_s(x),Q=(!W.boxSizingReliable()||B)&&P.css(x,"boxSizing",!1,U)==="border-box",ue=Q,he=je(x,C,U),Ie="offset"+C[0].toUpperCase()+C.slice(1);if(Ks.test(he)){if(!B)return he;he="auto"}return(!W.boxSizingReliable()&&Q||!W.reliableTrDimensions()&&Xe(x,"tr")||he==="auto"||!parseFloat(he)&&P.css(x,"display",!1,U)==="inline")&&x.getClientRects().length&&(Q=P.css(x,"boxSizing",!1,U)==="border-box",(ue=Ie in x)&&(he=x[Ie])),(he=parseFloat(he)||0)+Qr(x,C,B||(Q?"border":"content"),ue,U,he)+"px"}function pr(x,C,B,U,Q){return new pr.prototype.init(x,C,B,U,Q)}P.extend({cssHooks:{opacity:{get:function(x,C){if(C){var B=je(x,"opacity");return B===""?"1":B}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(x,C,B,U){if(x&&x.nodeType!==3&&x.nodeType!==8&&x.style){var Q,ue,he,Ie=qt(C),ze=Sn.test(C),at=x.style;if(ze||(C=Kn(Ie)),he=P.cssHooks[C]||P.cssHooks[Ie],B===void 0)return he&&"get"in he&&(Q=he.get(x,!1,U))!==void 0?Q:at[C];(ue=typeof B)=="string"&&(Q=hr.exec(B))&&Q[1]&&(B=Cr(x,C,Q),ue="number"),B!=null&&B==B&&(ue!=="number"||ze||(B+=Q&&Q[3]||(P.cssNumber[Ie]?"":"px")),W.clearCloneStyle||B!==""||C.indexOf("background")!==0||(at[C]="inherit"),he&&"set"in he&&(B=he.set(x,B,U))===void 0||(ze?at.setProperty(C,B):at[C]=B))}},css:function(x,C,B,U){var Q,ue,he,Ie=qt(C);return Sn.test(C)||(C=Kn(Ie)),(he=P.cssHooks[C]||P.cssHooks[Ie])&&"get"in he&&(Q=he.get(x,!0,B)),Q===void 0&&(Q=je(x,C,U)),Q==="normal"&&C in ri&&(Q=ri[C]),B===""||B?(ue=parseFloat(Q),B===!0||isFinite(ue)?ue||0:Q):Q}}),P.each(["height","width"],function(x,C){P.cssHooks[C]={get:function(B,U,Q){if(U)return!Jr.test(P.css(B,"display"))||B.getClientRects().length&&B.getBoundingClientRect().width?Hr(B,C,Q):He(B,Mr,function(){return Hr(B,C,Q)})},set:function(B,U,Q){var ue,he=_s(B),Ie=!W.scrollboxSize()&&he.position==="absolute",ze=(Ie||Q)&&P.css(B,"boxSizing",!1,he)==="border-box",at=Q?Qr(B,C,Q,ze,he):0;return ze&&Ie&&(at-=Math.ceil(B["offset"+C[0].toUpperCase()+C.slice(1)]-parseFloat(he[C])-Qr(B,C,"border",!1,he)-.5)),at&&(ue=hr.exec(U))&&(ue[3]||"px")!=="px"&&(B.style[C]=U,U=P.css(B,C)),Br(0,U,at)}}}),P.cssHooks.marginLeft=it(W.reliableMarginLeft,function(x,C){if(C)return(parseFloat(je(x,"marginLeft"))||x.getBoundingClientRect().left-He(x,{marginLeft:0},function(){return x.getBoundingClientRect().left}))+"px"}),P.each({margin:"",padding:"",border:"Width"},function(x,C){P.cssHooks[x+C]={expand:function(B){for(var U=0,Q={},ue=typeof B=="string"?B.split(" "):[B];U<4;U++)Q[x+br[U]+C]=ue[U]||ue[U-2]||ue[0];return Q}},x!=="margin"&&(P.cssHooks[x+C].set=Br)}),P.fn.extend({css:function(x,C){return Le(this,function(B,U,Q){var ue,he,Ie={},ze=0;if(Array.isArray(U)){for(ue=_s(B),he=U.length;ze<he;ze++)Ie[U[ze]]=P.css(B,U[ze],!1,ue);return Ie}return Q!==void 0?P.style(B,U,Q):P.css(B,U)},x,C,arguments.length>1)}}),P.Tween=pr,pr.prototype={constructor:pr,init:function(x,C,B,U,Q,ue){this.elem=x,this.prop=B,this.easing=Q||P.easing._default,this.options=C,this.start=this.now=this.cur(),this.end=U,this.unit=ue||(P.cssNumber[B]?"":"px")},cur:function(){var x=pr.propHooks[this.prop];return x&&x.get?x.get(this):pr.propHooks._default.get(this)},run:function(x){var C,B=pr.propHooks[this.prop];return this.options.duration?this.pos=C=P.easing[this.easing](x,this.options.duration*x,0,1,this.options.duration):this.pos=C=x,this.now=(this.end-this.start)*C+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),B&&B.set?B.set(this):pr.propHooks._default.set(this),this}},pr.prototype.init.prototype=pr.prototype,pr.propHooks={_default:{get:function(x){var C;return x.elem.nodeType!==1||x.elem[x.prop]!=null&&x.elem.style[x.prop]==null?x.elem[x.prop]:(C=P.css(x.elem,x.prop,""))&&C!=="auto"?C:0},set:function(x){P.fx.step[x.prop]?P.fx.step[x.prop](x):x.elem.nodeType!==1||!P.cssHooks[x.prop]&&x.elem.style[Kn(x.prop)]==null?x.elem[x.prop]=x.now:P.style(x.elem,x.prop,x.now+x.unit)}}},pr.propHooks.scrollTop=pr.propHooks.scrollLeft={set:function(x){x.elem.nodeType&&x.elem.parentNode&&(x.elem[x.prop]=x.now)}},P.easing={linear:function(x){return x},swing:function(x){return .5-Math.cos(x*Math.PI)/2},_default:"swing"},P.fx=pr.prototype.init,P.fx.step={};var kr,jr,ei=/^(?:toggle|show|hide)$/,bi=/queueHooks$/;function Wi(){jr&&(le.hidden===!1&&c.requestAnimationFrame?c.requestAnimationFrame(Wi):c.setTimeout(Wi,P.fx.interval),P.fx.tick())}function ns(){return c.setTimeout(function(){kr=void 0}),kr=Date.now()}function Io(x,C){var B,U=0,Q={height:x};for(C=C?1:0;U<4;U+=2-C)Q["margin"+(B=br[U])]=Q["padding"+B]=x;return C&&(Q.opacity=Q.width=x),Q}function Eo(x,C,B){for(var U,Q=(Fi.tweeners[C]||[]).concat(Fi.tweeners["*"]),ue=0,he=Q.length;ue<he;ue++)if(U=Q[ue].call(B,C,x))return U}function Fi(x,C,B){var U,Q,ue=0,he=Fi.prefilters.length,Ie=P.Deferred().always(function(){delete ze.elem}),ze=function(){if(Q)return!1;for(var Et=kr||ns(),pt=Math.max(0,at.startTime+at.duration-Et),Mt=1-(pt/at.duration||0),Bn=0,lr=at.tweens.length;Bn<lr;Bn++)at.tweens[Bn].run(Mt);return Ie.notifyWith(x,[at,Mt,pt]),Mt<1&&lr?pt:(lr||Ie.notifyWith(x,[at,1,0]),Ie.resolveWith(x,[at]),!1)},at=Ie.promise({elem:x,props:P.extend({},C),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},B),originalProperties:C,originalOptions:B,startTime:kr||ns(),duration:B.duration,tweens:[],createTween:function(Et,pt){var Mt=P.Tween(x,at.opts,Et,pt,at.opts.specialEasing[Et]||at.opts.easing);return at.tweens.push(Mt),Mt},stop:function(Et){var pt=0,Mt=Et?at.tweens.length:0;if(Q)return this;for(Q=!0;pt<Mt;pt++)at.tweens[pt].run(1);return Et?(Ie.notifyWith(x,[at,1,0]),Ie.resolveWith(x,[at,Et])):Ie.rejectWith(x,[at,Et]),this}}),Lt=at.props;for(!function(Et,pt){var Mt,Bn,lr,Wn,fi;for(Mt in Et)if(lr=pt[Bn=qt(Mt)],Wn=Et[Mt],Array.isArray(Wn)&&(lr=Wn[1],Wn=Et[Mt]=Wn[0]),Mt!==Bn&&(Et[Bn]=Wn,delete Et[Mt]),(fi=P.cssHooks[Bn])&&"expand"in fi)for(Mt in Wn=fi.expand(Wn),delete Et[Bn],Wn)Mt in Et||(Et[Mt]=Wn[Mt],pt[Mt]=lr);else pt[Bn]=lr}(Lt,at.opts.specialEasing);ue<he;ue++)if(U=Fi.prefilters[ue].call(at,x,Lt,at.opts))return ne(U.stop)&&(P._queueHooks(at.elem,at.opts.queue).stop=U.stop.bind(U)),U;return P.map(Lt,Eo,at),ne(at.opts.start)&&at.opts.start.call(x,at),at.progress(at.opts.progress).done(at.opts.done,at.opts.complete).fail(at.opts.fail).always(at.opts.always),P.fx.timer(P.extend(ze,{elem:x,anim:at,queue:at.opts.queue})),at}P.Animation=P.extend(Fi,{tweeners:{"*":[function(x,C){var B=this.createTween(x,C);return Cr(B.elem,x,hr.exec(C),B),B}]},tweener:function(x,C){ne(x)?(C=x,x=["*"]):x=x.match(ke);for(var B,U=0,Q=x.length;U<Q;U++)B=x[U],Fi.tweeners[B]=Fi.tweeners[B]||[],Fi.tweeners[B].unshift(C)},prefilters:[function(x,C,B){var U,Q,ue,he,Ie,ze,at,Lt,Et="width"in C||"height"in C,pt=this,Mt={},Bn=x.style,lr=x.nodeType&&zr(x),Wn=jt.get(x,"fxshow");for(U in B.queue||((he=P._queueHooks(x,"fx")).unqueued==null&&(he.unqueued=0,Ie=he.empty.fire,he.empty.fire=function(){he.unqueued||Ie()}),he.unqueued++,pt.always(function(){pt.always(function(){he.unqueued--,P.queue(x,"fx").length||he.empty.fire()})})),C)if(Q=C[U],ei.test(Q)){if(delete C[U],ue=ue||Q==="toggle",Q===(lr?"hide":"show")){if(Q!=="show"||!Wn||Wn[U]===void 0)continue;lr=!0}Mt[U]=Wn&&Wn[U]||P.style(x,U)}if((ze=!P.isEmptyObject(C))||!P.isEmptyObject(Mt))for(U in Et&&x.nodeType===1&&(B.overflow=[Bn.overflow,Bn.overflowX,Bn.overflowY],(at=Wn&&Wn.display)==null&&(at=jt.get(x,"display")),(Lt=P.css(x,"display"))==="none"&&(at?Lt=at:(Pn([x],!0),at=x.style.display||at,Lt=P.css(x,"display"),Pn([x]))),(Lt==="inline"||Lt==="inline-block"&&at!=null)&&P.css(x,"float")==="none"&&(ze||(pt.done(function(){Bn.display=at}),at==null&&(Lt=Bn.display,at=Lt==="none"?"":Lt)),Bn.display="inline-block")),B.overflow&&(Bn.overflow="hidden",pt.always(function(){Bn.overflow=B.overflow[0],Bn.overflowX=B.overflow[1],Bn.overflowY=B.overflow[2]})),ze=!1,Mt)ze||(Wn?"hidden"in Wn&&(lr=Wn.hidden):Wn=jt.access(x,"fxshow",{display:at}),ue&&(Wn.hidden=!lr),lr&&Pn([x],!0),pt.done(function(){for(U in lr||Pn([x]),jt.remove(x,"fxshow"),Mt)P.style(x,U,Mt[U])})),ze=Eo(lr?Wn[U]:0,U,pt),U in Wn||(Wn[U]=ze.start,lr&&(ze.end=ze.start,ze.start=0))}],prefilter:function(x,C){C?Fi.prefilters.unshift(x):Fi.prefilters.push(x)}}),P.speed=function(x,C,B){var U=x&&typeof x=="object"?P.extend({},x):{complete:B||!B&&C||ne(x)&&x,duration:x,easing:B&&C||C&&!ne(C)&&C};return P.fx.off?U.duration=0:typeof U.duration!="number"&&(U.duration in P.fx.speeds?U.duration=P.fx.speeds[U.duration]:U.duration=P.fx.speeds._default),U.queue!=null&&U.queue!==!0||(U.queue="fx"),U.old=U.complete,U.complete=function(){ne(U.old)&&U.old.call(this),U.queue&&P.dequeue(this,U.queue)},U},P.fn.extend({fadeTo:function(x,C,B,U){return this.filter(zr).css("opacity",0).show().end().animate({opacity:C},x,B,U)},animate:function(x,C,B,U){var Q=P.isEmptyObject(x),ue=P.speed(C,B,U),he=function(){var Ie=Fi(this,P.extend({},x),ue);(Q||jt.get(this,"finish"))&&Ie.stop(!0)};return he.finish=he,Q||ue.queue===!1?this.each(he):this.queue(ue.queue,he)},stop:function(x,C,B){var U=function(Q){var ue=Q.stop;delete Q.stop,ue(B)};return typeof x!="string"&&(B=C,C=x,x=void 0),C&&this.queue(x||"fx",[]),this.each(function(){var Q=!0,ue=x!=null&&x+"queueHooks",he=P.timers,Ie=jt.get(this);if(ue)Ie[ue]&&Ie[ue].stop&&U(Ie[ue]);else for(ue in Ie)Ie[ue]&&Ie[ue].stop&&bi.test(ue)&&U(Ie[ue]);for(ue=he.length;ue--;)he[ue].elem!==this||x!=null&&he[ue].queue!==x||(he[ue].anim.stop(B),Q=!1,he.splice(ue,1));!Q&&B||P.dequeue(this,x)})},finish:function(x){return x!==!1&&(x=x||"fx"),this.each(function(){var C,B=jt.get(this),U=B[x+"queue"],Q=B[x+"queueHooks"],ue=P.timers,he=U?U.length:0;for(B.finish=!0,P.queue(this,x,[]),Q&&Q.stop&&Q.stop.call(this,!0),C=ue.length;C--;)ue[C].elem===this&&ue[C].queue===x&&(ue[C].anim.stop(!0),ue.splice(C,1));for(C=0;C<he;C++)U[C]&&U[C].finish&&U[C].finish.call(this);delete B.finish})}}),P.each(["toggle","show","hide"],function(x,C){var B=P.fn[C];P.fn[C]=function(U,Q,ue){return U==null||typeof U=="boolean"?B.apply(this,arguments):this.animate(Io(C,!0),U,Q,ue)}}),P.each({slideDown:Io("show"),slideUp:Io("hide"),slideToggle:Io("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(x,C){P.fn[x]=function(B,U,Q){return this.animate(C,B,U,Q)}}),P.timers=[],P.fx.tick=function(){var x,C=0,B=P.timers;for(kr=Date.now();C<B.length;C++)(x=B[C])()||B[C]!==x||B.splice(C--,1);B.length||P.fx.stop(),kr=void 0},P.fx.timer=function(x){P.timers.push(x),P.fx.start()},P.fx.interval=13,P.fx.start=function(){jr||(jr=!0,Wi())},P.fx.stop=function(){jr=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(x,C){return x=P.fx&&P.fx.speeds[x]||x,C=C||"fx",this.queue(C,function(B,U){var Q=c.setTimeout(B,x);U.stop=function(){c.clearTimeout(Q)}})},function(){var x=le.createElement("input"),C=le.createElement("select").appendChild(le.createElement("option"));x.type="checkbox",W.checkOn=x.value!=="",W.optSelected=C.selected,(x=le.createElement("input")).value="t",x.type="radio",W.radioValue=x.value==="t"}();var Vs,Ti=P.expr.attrHandle;P.fn.extend({attr:function(x,C){return Le(this,P.attr,x,C,arguments.length>1)},removeAttr:function(x){return this.each(function(){P.removeAttr(this,x)})}}),P.extend({attr:function(x,C,B){var U,Q,ue=x.nodeType;if(ue!==3&&ue!==8&&ue!==2)return x.getAttribute===void 0?P.prop(x,C,B):(ue===1&&P.isXMLDoc(x)||(Q=P.attrHooks[C.toLowerCase()]||(P.expr.match.bool.test(C)?Vs:void 0)),B!==void 0?B===null?void P.removeAttr(x,C):Q&&"set"in Q&&(U=Q.set(x,B,C))!==void 0?U:(x.setAttribute(C,B+""),B):Q&&"get"in Q&&(U=Q.get(x,C))!==null?U:(U=P.find.attr(x,C))==null?void 0:U)},attrHooks:{type:{set:function(x,C){if(!W.radioValue&&C==="radio"&&Xe(x,"input")){var B=x.value;return x.setAttribute("type",C),B&&(x.value=B),C}}}},removeAttr:function(x,C){var B,U=0,Q=C&&C.match(ke);if(Q&&x.nodeType===1)for(;B=Q[U++];)x.removeAttribute(B)}}),Vs={set:function(x,C,B){return C===!1?P.removeAttr(x,B):x.setAttribute(B,B),B}},P.each(P.expr.match.bool.source.match(/\w+/g),function(x,C){var B=Ti[C]||P.find.attr;Ti[C]=function(U,Q,ue){var he,Ie,ze=Q.toLowerCase();return ue||(Ie=Ti[ze],Ti[ze]=he,he=B(U,Q,ue)!=null?ze:null,Ti[ze]=Ie),he}});var ua=/^(?:input|select|textarea|button)$/i,lu=/^(?:a|area)$/i;function Ws(x){return(x.match(ke)||[]).join(" ")}function Do(x){return x.getAttribute&&x.getAttribute("class")||""}function La(x){return Array.isArray(x)?x:typeof x=="string"&&x.match(ke)||[]}P.fn.extend({prop:function(x,C){return Le(this,P.prop,x,C,arguments.length>1)},removeProp:function(x){return this.each(function(){delete this[P.propFix[x]||x]})}}),P.extend({prop:function(x,C,B){var U,Q,ue=x.nodeType;if(ue!==3&&ue!==8&&ue!==2)return ue===1&&P.isXMLDoc(x)||(C=P.propFix[C]||C,Q=P.propHooks[C]),B!==void 0?Q&&"set"in Q&&(U=Q.set(x,B,C))!==void 0?U:x[C]=B:Q&&"get"in Q&&(U=Q.get(x,C))!==null?U:x[C]},propHooks:{tabIndex:{get:function(x){var C=P.find.attr(x,"tabindex");return C?parseInt(C,10):ua.test(x.nodeName)||lu.test(x.nodeName)&&x.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),W.optSelected||(P.propHooks.selected={get:function(x){var C=x.parentNode;return C&&C.parentNode&&C.parentNode.selectedIndex,null},set:function(x){var C=x.parentNode;C&&(C.selectedIndex,C.parentNode&&C.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this}),P.fn.extend({addClass:function(x){var C,B,U,Q,ue,he,Ie,ze=0;if(ne(x))return this.each(function(at){P(this).addClass(x.call(this,at,Do(this)))});if((C=La(x)).length){for(;B=this[ze++];)if(Q=Do(B),U=B.nodeType===1&&" "+Ws(Q)+" "){for(he=0;ue=C[he++];)U.indexOf(" "+ue+" ")<0&&(U+=ue+" ");Q!==(Ie=Ws(U))&&B.setAttribute("class",Ie)}}return this},removeClass:function(x){var C,B,U,Q,ue,he,Ie,ze=0;if(ne(x))return this.each(function(at){P(this).removeClass(x.call(this,at,Do(this)))});if(!arguments.length)return this.attr("class","");if((C=La(x)).length){for(;B=this[ze++];)if(Q=Do(B),U=B.nodeType===1&&" "+Ws(Q)+" "){for(he=0;ue=C[he++];)for(;U.indexOf(" "+ue+" ")>-1;)U=U.replace(" "+ue+" "," ");Q!==(Ie=Ws(U))&&B.setAttribute("class",Ie)}}return this},toggleClass:function(x,C){var B=typeof x,U=B==="string"||Array.isArray(x);return typeof C=="boolean"&&U?C?this.addClass(x):this.removeClass(x):ne(x)?this.each(function(Q){P(this).toggleClass(x.call(this,Q,Do(this),C),C)}):this.each(function(){var Q,ue,he,Ie;if(U)for(ue=0,he=P(this),Ie=La(x);Q=Ie[ue++];)he.hasClass(Q)?he.removeClass(Q):he.addClass(Q);else x!==void 0&&B!=="boolean"||((Q=Do(this))&&jt.set(this,"__className__",Q),this.setAttribute&&this.setAttribute("class",Q||x===!1?"":jt.get(this,"__className__")||""))})},hasClass:function(x){var C,B,U=0;for(C=" "+x+" ";B=this[U++];)if(B.nodeType===1&&(" "+Ws(Do(B))+" ").indexOf(C)>-1)return!0;return!1}});var Ya=/\r/g;P.fn.extend({val:function(x){var C,B,U,Q=this[0];return arguments.length?(U=ne(x),this.each(function(ue){var he;this.nodeType===1&&((he=U?x.call(this,ue,P(this).val()):x)==null?he="":typeof he=="number"?he+="":Array.isArray(he)&&(he=P.map(he,function(Ie){return Ie==null?"":Ie+""})),(C=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in C&&C.set(this,he,"value")!==void 0||(this.value=he))})):Q?(C=P.valHooks[Q.type]||P.valHooks[Q.nodeName.toLowerCase()])&&"get"in C&&(B=C.get(Q,"value"))!==void 0?B:typeof(B=Q.value)=="string"?B.replace(Ya,""):B??"":void 0}}),P.extend({valHooks:{option:{get:function(x){var C=P.find.attr(x,"value");return C??Ws(P.text(x))}},select:{get:function(x){var C,B,U,Q=x.options,ue=x.selectedIndex,he=x.type==="select-one",Ie=he?null:[],ze=he?ue+1:Q.length;for(U=ue<0?ze:he?ue:0;U<ze;U++)if(((B=Q[U]).selected||U===ue)&&!B.disabled&&(!B.parentNode.disabled||!Xe(B.parentNode,"optgroup"))){if(C=P(B).val(),he)return C;Ie.push(C)}return Ie},set:function(x,C){for(var B,U,Q=x.options,ue=P.makeArray(C),he=Q.length;he--;)((U=Q[he]).selected=P.inArray(P.valHooks.option.get(U),ue)>-1)&&(B=!0);return B||(x.selectedIndex=-1),ue}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(x,C){if(Array.isArray(C))return x.checked=P.inArray(P(x).val(),C)>-1}},W.checkOn||(P.valHooks[this].get=function(x){return x.getAttribute("value")===null?"on":x.value})}),W.focusin="onfocusin"in c;var $o=/^(?:focusinfocus|focusoutblur)$/,No=function(x){x.stopPropagation()};P.extend(P.event,{trigger:function(x,C,B,U){var Q,ue,he,Ie,ze,at,Lt,Et,pt=[B||le],Mt=q.call(x,"type")?x.type:x,Bn=q.call(x,"namespace")?x.namespace.split("."):[];if(ue=Et=he=B=B||le,B.nodeType!==3&&B.nodeType!==8&&!$o.test(Mt+P.event.triggered)&&(Mt.indexOf(".")>-1&&(Bn=Mt.split("."),Mt=Bn.shift(),Bn.sort()),ze=Mt.indexOf(":")<0&&"on"+Mt,(x=x[P.expando]?x:new P.Event(Mt,typeof x=="object"&&x)).isTrigger=U?2:3,x.namespace=Bn.join("."),x.rnamespace=x.namespace?new RegExp("(^|\\.)"+Bn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,x.result=void 0,x.target||(x.target=B),C=C==null?[x]:P.makeArray(C,[x]),Lt=P.event.special[Mt]||{},U||!Lt.trigger||Lt.trigger.apply(B,C)!==!1)){if(!U&&!Lt.noBubble&&!oe(B)){for(Ie=Lt.delegateType||Mt,$o.test(Ie+Mt)||(ue=ue.parentNode);ue;ue=ue.parentNode)pt.push(ue),he=ue;he===(B.ownerDocument||le)&&pt.push(he.defaultView||he.parentWindow||c)}for(Q=0;(ue=pt[Q++])&&!x.isPropagationStopped();)Et=ue,x.type=Q>1?Ie:Lt.bindType||Mt,(at=(jt.get(ue,"events")||Object.create(null))[x.type]&&jt.get(ue,"handle"))&&at.apply(ue,C),(at=ze&&ue[ze])&&at.apply&&tn(ue)&&(x.result=at.apply(ue,C),x.result===!1&&x.preventDefault());return x.type=Mt,U||x.isDefaultPrevented()||Lt._default&&Lt._default.apply(pt.pop(),C)!==!1||!tn(B)||ze&&ne(B[Mt])&&!oe(B)&&((he=B[ze])&&(B[ze]=null),P.event.triggered=Mt,x.isPropagationStopped()&&Et.addEventListener(Mt,No),B[Mt](),x.isPropagationStopped()&&Et.removeEventListener(Mt,No),P.event.triggered=void 0,he&&(B[ze]=he)),x.result}},simulate:function(x,C,B){var U=P.extend(new P.Event,B,{type:x,isSimulated:!0});P.event.trigger(U,null,C)}}),P.fn.extend({trigger:function(x,C){return this.each(function(){P.event.trigger(x,C,this)})},triggerHandler:function(x,C){var B=this[0];if(B)return P.event.trigger(x,C,B,!0)}}),W.focusin||P.each({focus:"focusin",blur:"focusout"},function(x,C){var B=function(U){P.event.simulate(C,U.target,P.event.fix(U))};P.event.special[C]={setup:function(){var U=this.ownerDocument||this.document||this,Q=jt.access(U,C);Q||U.addEventListener(x,B,!0),jt.access(U,C,(Q||0)+1)},teardown:function(){var U=this.ownerDocument||this.document||this,Q=jt.access(U,C)-1;Q?jt.access(U,C,Q):(U.removeEventListener(x,B,!0),jt.remove(U,C))}}});var Xr=c.location,ul={guid:Date.now()},Ds=/\?/;P.parseXML=function(x){var C;if(!x||typeof x!="string")return null;try{C=new c.DOMParser().parseFromString(x,"text/xml")}catch{C=void 0}return C&&!C.getElementsByTagName("parsererror").length||P.error("Invalid XML: "+x),C};var Fo=/\[\]$/,Rr=/\r?\n/g,Yo=/^(?:submit|button|image|reset|file)$/i,Pa=/^(?:input|select|textarea|keygen)/i;function ca(x,C,B,U){var Q;if(Array.isArray(C))P.each(C,function(ue,he){B||Fo.test(x)?U(x,he):ca(x+"["+(typeof he=="object"&&he!=null?ue:"")+"]",he,B,U)});else if(B||Pe(C)!=="object")U(x,C);else for(Q in C)ca(x+"["+Q+"]",C[Q],B,U)}P.param=function(x,C){var B,U=[],Q=function(ue,he){var Ie=ne(he)?he():he;U[U.length]=encodeURIComponent(ue)+"="+encodeURIComponent(Ie??"")};if(x==null)return"";if(Array.isArray(x)||x.jquery&&!P.isPlainObject(x))P.each(x,function(){Q(this.name,this.value)});else for(B in x)ca(B,x[B],C,Q);return U.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var x=P.prop(this,"elements");return x?P.makeArray(x):this}).filter(function(){var x=this.type;return this.name&&!P(this).is(":disabled")&&Pa.test(this.nodeName)&&!Yo.test(x)&&(this.checked||!xi.test(x))}).map(function(x,C){var B=P(this).val();return B==null?null:Array.isArray(B)?P.map(B,function(U){return{name:C.name,value:U.replace(Rr,`\r
`)}}):{name:C.name,value:B.replace(Rr,`\r
`)}}).get()}});var ha=/%20/g,io=/#.*$/,cs=/([?&])_=[^&]*/,Ss=/^(.*?):[ \t]*([^\r\n]*)$/gm,so=/^(?:GET|HEAD)$/,zo=/^\/\//,Es={},oo={},Ra="*/".concat("*"),Ci=le.createElement("a");function ao(x){return function(C,B){typeof C!="string"&&(B=C,C="*");var U,Q=0,ue=C.toLowerCase().match(ke)||[];if(ne(B))for(;U=ue[Q++];)U[0]==="+"?(U=U.slice(1)||"*",(x[U]=x[U]||[]).unshift(B)):(x[U]=x[U]||[]).push(B)}}function Ml(x,C,B,U){var Q={},ue=x===oo;function he(Ie){var ze;return Q[Ie]=!0,P.each(x[Ie]||[],function(at,Lt){var Et=Lt(C,B,U);return typeof Et!="string"||ue||Q[Et]?ue?!(ze=Et):void 0:(C.dataTypes.unshift(Et),he(Et),!1)}),ze}return he(C.dataTypes[0])||!Q["*"]&&he("*")}function da(x,C){var B,U,Q=P.ajaxSettings.flatOptions||{};for(B in C)C[B]!==void 0&&((Q[B]?x:U||(U={}))[B]=C[B]);return U&&P.extend(!0,x,U),x}Ci.href=Xr.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Xr.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Xr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ra,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(x,C){return C?da(da(x,P.ajaxSettings),C):da(P.ajaxSettings,x)},ajaxPrefilter:ao(Es),ajaxTransport:ao(oo),ajax:function(x,C){typeof x=="object"&&(C=x,x=void 0),C=C||{};var B,U,Q,ue,he,Ie,ze,at,Lt,Et,pt=P.ajaxSetup({},C),Mt=pt.context||pt,Bn=pt.context&&(Mt.nodeType||Mt.jquery)?P(Mt):P.event,lr=P.Deferred(),Wn=P.Callbacks("once memory"),fi=pt.statusCode||{},zi={},Js={},li="canceled",Er={readyState:0,getResponseHeader:function(ui){var Ii;if(ze){if(!ue)for(ue={};Ii=Ss.exec(Q);)ue[Ii[1].toLowerCase()+" "]=(ue[Ii[1].toLowerCase()+" "]||[]).concat(Ii[2]);Ii=ue[ui.toLowerCase()+" "]}return Ii==null?null:Ii.join(", ")},getAllResponseHeaders:function(){return ze?Q:null},setRequestHeader:function(ui,Ii){return ze==null&&(ui=Js[ui.toLowerCase()]=Js[ui.toLowerCase()]||ui,zi[ui]=Ii),this},overrideMimeType:function(ui){return ze==null&&(pt.mimeType=ui),this},statusCode:function(ui){var Ii;if(ui)if(ze)Er.always(ui[Er.status]);else for(Ii in ui)fi[Ii]=[fi[Ii],ui[Ii]];return this},abort:function(ui){var Ii=ui||li;return B&&B.abort(Ii),Bo(0,Ii),this}};if(lr.promise(Er),pt.url=((x||pt.url||Xr.href)+"").replace(zo,Xr.protocol+"//"),pt.type=C.method||C.type||pt.method||pt.type,pt.dataTypes=(pt.dataType||"*").toLowerCase().match(ke)||[""],pt.crossDomain==null){Ie=le.createElement("a");try{Ie.href=pt.url,Ie.href=Ie.href,pt.crossDomain=Ci.protocol+"//"+Ci.host!=Ie.protocol+"//"+Ie.host}catch{pt.crossDomain=!0}}if(pt.data&&pt.processData&&typeof pt.data!="string"&&(pt.data=P.param(pt.data,pt.traditional)),Ml(Es,pt,C,Er),ze)return Er;for(Lt in(at=P.event&&pt.global)&&P.active++==0&&P.event.trigger("ajaxStart"),pt.type=pt.type.toUpperCase(),pt.hasContent=!so.test(pt.type),U=pt.url.replace(io,""),pt.hasContent?pt.data&&pt.processData&&(pt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(pt.data=pt.data.replace(ha,"+")):(Et=pt.url.slice(U.length),pt.data&&(pt.processData||typeof pt.data=="string")&&(U+=(Ds.test(U)?"&":"?")+pt.data,delete pt.data),pt.cache===!1&&(U=U.replace(cs,"$1"),Et=(Ds.test(U)?"&":"?")+"_="+ul.guid+++Et),pt.url=U+Et),pt.ifModified&&(P.lastModified[U]&&Er.setRequestHeader("If-Modified-Since",P.lastModified[U]),P.etag[U]&&Er.setRequestHeader("If-None-Match",P.etag[U])),(pt.data&&pt.hasContent&&pt.contentType!==!1||C.contentType)&&Er.setRequestHeader("Content-Type",pt.contentType),Er.setRequestHeader("Accept",pt.dataTypes[0]&&pt.accepts[pt.dataTypes[0]]?pt.accepts[pt.dataTypes[0]]+(pt.dataTypes[0]!=="*"?", "+Ra+"; q=0.01":""):pt.accepts["*"]),pt.headers)Er.setRequestHeader(Lt,pt.headers[Lt]);if(pt.beforeSend&&(pt.beforeSend.call(Mt,Er,pt)===!1||ze))return Er.abort();if(li="abort",Wn.add(pt.complete),Er.done(pt.success),Er.fail(pt.error),B=Ml(oo,pt,C,Er)){if(Er.readyState=1,at&&Bn.trigger("ajaxSend",[Er,pt]),ze)return Er;pt.async&&pt.timeout>0&&(he=c.setTimeout(function(){Er.abort("timeout")},pt.timeout));try{ze=!1,B.send(zi,Bo)}catch(ui){if(ze)throw ui;Bo(-1,ui)}}else Bo(-1,"No Transport");function Bo(ui,Ii,Za,sh){var fa,uu,Bu,Ho,Hu,ka=Ii;ze||(ze=!0,he&&c.clearTimeout(he),B=void 0,Q=sh||"",Er.readyState=ui>0?4:0,fa=ui>=200&&ui<300||ui===304,Za&&(Ho=function(hs,jo,rs){for(var qi,Lr,Tn,It,Gi=hs.contents,Ji=hs.dataTypes;Ji[0]==="*";)Ji.shift(),qi===void 0&&(qi=hs.mimeType||jo.getResponseHeader("Content-Type"));if(qi){for(Lr in Gi)if(Gi[Lr]&&Gi[Lr].test(qi)){Ji.unshift(Lr);break}}if(Ji[0]in rs)Tn=Ji[0];else{for(Lr in rs){if(!Ji[0]||hs.converters[Lr+" "+Ji[0]]){Tn=Lr;break}It||(It=Lr)}Tn=Tn||It}if(Tn)return Tn!==Ji[0]&&Ji.unshift(Tn),rs[Tn]}(pt,Er,Za)),!fa&&P.inArray("script",pt.dataTypes)>-1&&(pt.converters["text script"]=function(){}),Ho=function(hs,jo,rs,qi){var Lr,Tn,It,Gi,Ji,Xi={},Oa=hs.dataTypes.slice();if(Oa[1])for(It in hs.converters)Xi[It.toLowerCase()]=hs.converters[It];for(Tn=Oa.shift();Tn;)if(hs.responseFields[Tn]&&(rs[hs.responseFields[Tn]]=jo),!Ji&&qi&&hs.dataFilter&&(jo=hs.dataFilter(jo,hs.dataType)),Ji=Tn,Tn=Oa.shift()){if(Tn==="*")Tn=Ji;else if(Ji!=="*"&&Ji!==Tn){if(!(It=Xi[Ji+" "+Tn]||Xi["* "+Tn])){for(Lr in Xi)if((Gi=Lr.split(" "))[1]===Tn&&(It=Xi[Ji+" "+Gi[0]]||Xi["* "+Gi[0]])){It===!0?It=Xi[Lr]:Xi[Lr]!==!0&&(Tn=Gi[0],Oa.unshift(Gi[1]));break}}if(It!==!0)if(It&&hs.throws)jo=It(jo);else try{jo=It(jo)}catch(ii){return{state:"parsererror",error:It?ii:"No conversion from "+Ji+" to "+Tn}}}}return{state:"success",data:jo}}(pt,Ho,Er,fa),fa?(pt.ifModified&&((Hu=Er.getResponseHeader("Last-Modified"))&&(P.lastModified[U]=Hu),(Hu=Er.getResponseHeader("etag"))&&(P.etag[U]=Hu)),ui===204||pt.type==="HEAD"?ka="nocontent":ui===304?ka="notmodified":(ka=Ho.state,uu=Ho.data,fa=!(Bu=Ho.error))):(Bu=ka,!ui&&ka||(ka="error",ui<0&&(ui=0))),Er.status=ui,Er.statusText=(Ii||ka)+"",fa?lr.resolveWith(Mt,[uu,ka,Er]):lr.rejectWith(Mt,[Er,ka,Bu]),Er.statusCode(fi),fi=void 0,at&&Bn.trigger(fa?"ajaxSuccess":"ajaxError",[Er,pt,fa?uu:Bu]),Wn.fireWith(Mt,[Er,ka]),at&&(Bn.trigger("ajaxComplete",[Er,pt]),--P.active||P.event.trigger("ajaxStop")))}return Er},getJSON:function(x,C,B){return P.get(x,C,B,"json")},getScript:function(x,C){return P.get(x,void 0,C,"script")}}),P.each(["get","post"],function(x,C){P[C]=function(B,U,Q,ue){return ne(U)&&(ue=ue||Q,Q=U,U=void 0),P.ajax(P.extend({url:B,type:C,dataType:ue,data:U,success:Q},P.isPlainObject(B)&&B))}}),P.ajaxPrefilter(function(x){var C;for(C in x.headers)C.toLowerCase()==="content-type"&&(x.contentType=x.headers[C]||"")}),P._evalUrl=function(x,C,B){return P.ajax({url:x,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(U){P.globalEval(U,C,B)}})},P.fn.extend({wrapAll:function(x){var C;return this[0]&&(ne(x)&&(x=x.call(this[0])),C=P(x,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&C.insertBefore(this[0]),C.map(function(){for(var B=this;B.firstElementChild;)B=B.firstElementChild;return B}).append(this)),this},wrapInner:function(x){return ne(x)?this.each(function(C){P(this).wrapInner(x.call(this,C))}):this.each(function(){var C=P(this),B=C.contents();B.length?B.wrapAll(x):C.append(x)})},wrap:function(x){var C=ne(x);return this.each(function(B){P(this).wrapAll(C?x.call(this,B):x)})},unwrap:function(x){return this.parent(x).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}}),P.expr.pseudos.hidden=function(x){return!P.expr.pseudos.visible(x)},P.expr.pseudos.visible=function(x){return!!(x.offsetWidth||x.offsetHeight||x.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch{}};var Z={0:200,1223:204},ie=P.ajaxSettings.xhr();W.cors=!!ie&&"withCredentials"in ie,W.ajax=ie=!!ie,P.ajaxTransport(function(x){var C,B;if(W.cors||ie&&!x.crossDomain)return{send:function(U,Q){var ue,he=x.xhr();if(he.open(x.type,x.url,x.async,x.username,x.password),x.xhrFields)for(ue in x.xhrFields)he[ue]=x.xhrFields[ue];for(ue in x.mimeType&&he.overrideMimeType&&he.overrideMimeType(x.mimeType),x.crossDomain||U["X-Requested-With"]||(U["X-Requested-With"]="XMLHttpRequest"),U)he.setRequestHeader(ue,U[ue]);C=function(Ie){return function(){C&&(C=B=he.onload=he.onerror=he.onabort=he.ontimeout=he.onreadystatechange=null,Ie==="abort"?he.abort():Ie==="error"?typeof he.status!="number"?Q(0,"error"):Q(he.status,he.statusText):Q(Z[he.status]||he.status,he.statusText,(he.responseType||"text")!=="text"||typeof he.responseText!="string"?{binary:he.response}:{text:he.responseText},he.getAllResponseHeaders()))}},he.onload=C(),B=he.onerror=he.ontimeout=C("error"),he.onabort!==void 0?he.onabort=B:he.onreadystatechange=function(){he.readyState===4&&c.setTimeout(function(){C&&B()})},C=C("abort");try{he.send(x.hasContent&&x.data||null)}catch(Ie){if(C)throw Ie}},abort:function(){C&&C()}}}),P.ajaxPrefilter(function(x){x.crossDomain&&(x.contents.script=!1)}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(x){return P.globalEval(x),x}}}),P.ajaxPrefilter("script",function(x){x.cache===void 0&&(x.cache=!1),x.crossDomain&&(x.type="GET")}),P.ajaxTransport("script",function(x){var C,B;if(x.crossDomain||x.scriptAttrs)return{send:function(U,Q){C=P("<script>").attr(x.scriptAttrs||{}).prop({charset:x.scriptCharset,src:x.url}).on("load error",B=function(ue){C.remove(),B=null,ue&&Q(ue.type==="error"?404:200,ue.type)}),le.head.appendChild(C[0])},abort:function(){B&&B()}}});var ge,et=[],ct=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var x=et.pop()||P.expando+"_"+ul.guid++;return this[x]=!0,x}}),P.ajaxPrefilter("json jsonp",function(x,C,B){var U,Q,ue,he=x.jsonp!==!1&&(ct.test(x.url)?"url":typeof x.data=="string"&&(x.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ct.test(x.data)&&"data");if(he||x.dataTypes[0]==="jsonp")return U=x.jsonpCallback=ne(x.jsonpCallback)?x.jsonpCallback():x.jsonpCallback,he?x[he]=x[he].replace(ct,"$1"+U):x.jsonp!==!1&&(x.url+=(Ds.test(x.url)?"&":"?")+x.jsonp+"="+U),x.converters["script json"]=function(){return ue||P.error(U+" was not called"),ue[0]},x.dataTypes[0]="json",Q=c[U],c[U]=function(){ue=arguments},B.always(function(){Q===void 0?P(c).removeProp(U):c[U]=Q,x[U]&&(x.jsonpCallback=C.jsonpCallback,et.push(U)),ue&&ne(Q)&&Q(ue[0]),ue=Q=void 0}),"script"}),W.createHTMLDocument=((ge=le.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",ge.childNodes.length===2),P.parseHTML=function(x,C,B){return typeof x!="string"?[]:(typeof C=="boolean"&&(B=C,C=!1),C||(W.createHTMLDocument?((U=(C=le.implementation.createHTMLDocument("")).createElement("base")).href=le.location.href,C.head.appendChild(U)):C=le),ue=!B&&[],(Q=ft.exec(x))?[C.createElement(Q[1])]:(Q=ji([x],C,ue),ue&&ue.length&&P(ue).remove(),P.merge([],Q.childNodes)));var U,Q,ue},P.fn.load=function(x,C,B){var U,Q,ue,he=this,Ie=x.indexOf(" ");return Ie>-1&&(U=Ws(x.slice(Ie)),x=x.slice(0,Ie)),ne(C)?(B=C,C=void 0):C&&typeof C=="object"&&(Q="POST"),he.length>0&&P.ajax({url:x,type:Q||"GET",dataType:"html",data:C}).done(function(ze){ue=arguments,he.html(U?P("<div>").append(P.parseHTML(ze)).find(U):ze)}).always(B&&function(ze,at){he.each(function(){B.apply(this,ue||[ze.responseText,at,ze])})}),this},P.expr.pseudos.animated=function(x){return P.grep(P.timers,function(C){return x===C.elem}).length},P.offset={setOffset:function(x,C,B){var U,Q,ue,he,Ie,ze,at=P.css(x,"position"),Lt=P(x),Et={};at==="static"&&(x.style.position="relative"),Ie=Lt.offset(),ue=P.css(x,"top"),ze=P.css(x,"left"),(at==="absolute"||at==="fixed")&&(ue+ze).indexOf("auto")>-1?(he=(U=Lt.position()).top,Q=U.left):(he=parseFloat(ue)||0,Q=parseFloat(ze)||0),ne(C)&&(C=C.call(x,B,P.extend({},Ie))),C.top!=null&&(Et.top=C.top-Ie.top+he),C.left!=null&&(Et.left=C.left-Ie.left+Q),"using"in C?C.using.call(x,Et):(typeof Et.top=="number"&&(Et.top+="px"),typeof Et.left=="number"&&(Et.left+="px"),Lt.css(Et))}},P.fn.extend({offset:function(x){if(arguments.length)return x===void 0?this:this.each(function(Q){P.offset.setOffset(this,x,Q)});var C,B,U=this[0];return U?U.getClientRects().length?(C=U.getBoundingClientRect(),B=U.ownerDocument.defaultView,{top:C.top+B.pageYOffset,left:C.left+B.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var x,C,B,U=this[0],Q={top:0,left:0};if(P.css(U,"position")==="fixed")C=U.getBoundingClientRect();else{for(C=this.offset(),B=U.ownerDocument,x=U.offsetParent||B.documentElement;x&&(x===B.body||x===B.documentElement)&&P.css(x,"position")==="static";)x=x.parentNode;x&&x!==U&&x.nodeType===1&&((Q=P(x).offset()).top+=P.css(x,"borderTopWidth",!0),Q.left+=P.css(x,"borderLeftWidth",!0))}return{top:C.top-Q.top-P.css(U,"marginTop",!0),left:C.left-Q.left-P.css(U,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var x=this.offsetParent;x&&P.css(x,"position")==="static";)x=x.offsetParent;return x||wr})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(x,C){var B=C==="pageYOffset";P.fn[x]=function(U){return Le(this,function(Q,ue,he){var Ie;if(oe(Q)?Ie=Q:Q.nodeType===9&&(Ie=Q.defaultView),he===void 0)return Ie?Ie[C]:Q[ue];Ie?Ie.scrollTo(B?Ie.pageXOffset:he,B?he:Ie.pageYOffset):Q[ue]=he},x,U,arguments.length)}}),P.each(["top","left"],function(x,C){P.cssHooks[C]=it(W.pixelPosition,function(B,U){if(U)return U=je(B,C),Ks.test(U)?P(B).position()[C]+"px":U})}),P.each({Height:"height",Width:"width"},function(x,C){P.each({padding:"inner"+x,content:C,"":"outer"+x},function(B,U){P.fn[U]=function(Q,ue){var he=arguments.length&&(B||typeof Q!="boolean"),Ie=B||(Q===!0||ue===!0?"margin":"border");return Le(this,function(ze,at,Lt){var Et;return oe(ze)?U.indexOf("outer")===0?ze["inner"+x]:ze.document.documentElement["client"+x]:ze.nodeType===9?(Et=ze.documentElement,Math.max(ze.body["scroll"+x],Et["scroll"+x],ze.body["offset"+x],Et["offset"+x],Et["client"+x])):Lt===void 0?P.css(ze,at,Ie):P.style(ze,at,Lt,Ie)},C,he?Q:void 0,he)}})}),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(x,C){P.fn[C]=function(B){return this.on(C,B)}}),P.fn.extend({bind:function(x,C,B){return this.on(x,null,C,B)},unbind:function(x,C){return this.off(x,null,C)},delegate:function(x,C,B,U){return this.on(C,x,B,U)},undelegate:function(x,C,B){return arguments.length===1?this.off(x,"**"):this.off(C,x||"**",B)},hover:function(x,C){return this.mouseenter(x).mouseleave(C||x)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(x,C){P.fn[C]=function(B,U){return arguments.length>0?this.on(C,null,B,U):this.trigger(C)}});var kt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;P.proxy=function(x,C){var B,U,Q;if(typeof C=="string"&&(B=x[C],C=x,x=B),ne(x))return U=b.call(arguments,2),(Q=function(){return x.apply(C||this,U.concat(b.call(arguments)))}).guid=x.guid=x.guid||P.guid++,Q},P.holdReady=function(x){x?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=Xe,P.isFunction=ne,P.isWindow=oe,P.camelCase=qt,P.type=Pe,P.now=Date.now,P.isNumeric=function(x){var C=P.type(x);return(C==="number"||C==="string")&&!isNaN(x-parseFloat(x))},P.trim=function(x){return x==null?"":(x+"").replace(kt,"")},(a=(function(){return P}).apply(n,[]))===void 0||(A.exports=a);var wn=c.jQuery,ir=c.$;return P.noConflict=function(x){return c.$===P&&(c.$=ir),x&&c.jQuery===P&&(c.jQuery=wn),P},h===void 0&&(c.jQuery=c.$=P),P})},function(A,n,r){var a,c;a=this,c=function(){var h={isCanvas:!0,begin:function(f){f.beginPath()},move:function(f,m,b){f.moveTo(b.x,b.y)},line:function(f,m,b){f.lineTo(b.x,b.y)},bezier:function(f,m,b,_,E){f.bezierCurveTo(b.x,b.y,_.x,_.y,E.x,E.y)},closePath:function(f){f.closePath()},setPath:function(){},renderPath:function(f,m,b,_){this.begin(f,m),b.forEach(function(E){E.render(f,m,h)}),_&&this.closePath(f,m)},stroke:function(f,m,b,_,E){b&&(f.strokeStyle=_,f.lineWidth=E,f.stroke())},fill:function(f,m,b,_){b&&(f.fillStyle=_,f.fill())},end:function(){}};return h},A.exports?A.exports=c():a.Zdog.CanvasRenderer=c()},function(A,n,r){var a,c;a=this,c=function(){var h={isSvg:!0},f=h.round=function(b){return Math.round(1e3*b)/1e3};function m(b){return f(b.x)+","+f(b.y)+" "}return h.begin=function(){},h.move=function(b,_,E){return"M"+m(E)},h.line=function(b,_,E){return"L"+m(E)},h.bezier=function(b,_,E,T,k){return"C"+m(E)+m(T)+m(k)},h.closePath=function(){return"Z"},h.setPath=function(b,_,E){_.setAttribute("d",E)},h.renderPath=function(b,_,E,T){var k="";E.forEach(function(G){k+=G.render(b,_,h)}),T&&(k+=this.closePath(b,_)),this.setPath(b,_,k)},h.stroke=function(b,_,E,T,k){E&&(_.setAttribute("stroke",T),_.setAttribute("stroke-width",k))},h.fill=function(b,_,E,T){var k=E?T:"none";_.setAttribute("fill",k)},h.end=function(b,_){b.appendChild(_)},h},A.exports?A.exports=c():a.Zdog.SvgRenderer=c()},function(A,n,r){var a,c;a=this,c=function(){var h=typeof window<"u",f="mousedown",m="mousemove",b="mouseup";function _(){}function E(T){this.create(T||{})}return h&&(window.PointerEvent?(f="pointerdown",m="pointermove",b="pointerup"):"ontouchstart"in window&&(f="touchstart",m="touchmove",b="touchend")),E.prototype.create=function(T){this.onDragStart=T.onDragStart||_,this.onDragMove=T.onDragMove||_,this.onDragEnd=T.onDragEnd||_,this.bindDrag(T.startElement)},E.prototype.bindDrag=function(T){(T=this.getQueryElement(T))&&(T.style.touchAction="none",T.addEventListener(f,this))},E.prototype.getQueryElement=function(T){return typeof T=="string"&&(T=document.querySelector(T)),T},E.prototype.handleEvent=function(T){var k=this["on"+T.type];k&&k.call(this,T)},E.prototype.onmousedown=E.prototype.onpointerdown=function(T){this.dragStart(T,T)},E.prototype.ontouchstart=function(T){this.dragStart(T,T.changedTouches[0])},E.prototype.dragStart=function(T,k){T.preventDefault(),this.dragStartX=k.pageX,this.dragStartY=k.pageY,h&&(window.addEventListener(m,this),window.addEventListener(b,this)),this.onDragStart(k)},E.prototype.ontouchmove=function(T){this.dragMove(T,T.changedTouches[0])},E.prototype.onmousemove=E.prototype.onpointermove=function(T){this.dragMove(T,T)},E.prototype.dragMove=function(T,k){T.preventDefault();var G=k.pageX-this.dragStartX,q=k.pageY-this.dragStartY;this.onDragMove(k,G,q)},E.prototype.onmouseup=E.prototype.onpointerup=E.prototype.ontouchend=E.prototype.dragEnd=function(){window.removeEventListener(m,this),window.removeEventListener(b,this),this.onDragEnd()},E},A.exports?A.exports=c():a.Zdog.Dragger=c()},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(4));else{var h=a.Zdog;h.Group=c(h.Anchor)}})(this,function(a){var c=a.subclass({updateSort:!1,visible:!0});return c.prototype.updateSortValue=function(){var h=0;this.flatGraph.forEach(function(f){f.updateSortValue(),h+=f.sortValue}),this.sortValue=h/this.flatGraph.length,this.updateSort&&this.flatGraph.sort(a.shapeSorter)},c.prototype.render=function(h,f){this.visible&&this.flatGraph.forEach(function(m){m.render(h,f)})},c.prototype.updateFlatGraph=function(){this.flatGraph=this.addChildFlatGraph([])},c.prototype.getFlatGraph=function(){return[this]},c})},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(5));else{var h=a.Zdog;h.Rect=c(h.Shape)}})(this,function(a){var c=a.subclass({width:1,height:1});return c.prototype.setPath=function(){var h=this.width/2,f=this.height/2;this.path=[{x:-h,y:-f},{x:h,y:-f},{x:h,y:f},{x:-h,y:f}]},c})},function(A,n,r){function a(){return(a=Object.assign||function(Z){for(var ie=1;ie<arguments.length;ie++){var ge=arguments[ie];for(var et in ge)Object.prototype.hasOwnProperty.call(ge,et)&&(Z[et]=ge[et])}return Z}).apply(this,arguments)}function c(Z){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)})(Z)}function h(Z,ie){return(h=Object.setPrototypeOf||function(ge,et){return ge.__proto__=et,ge})(Z,ie)}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function m(Z,ie,ge){return(m=f()?Reflect.construct:function(et,ct,kt){var wn=[null];wn.push.apply(wn,ct);var ir=new(Function.bind.apply(et,wn));return kt&&h(ir,kt.prototype),ir}).apply(null,arguments)}function b(Z){var ie=typeof Map=="function"?new Map:void 0;return(b=function(ge){if(ge===null||(et=ge,Function.toString.call(et).indexOf("[native code]")===-1))return ge;var et;if(typeof ge!="function")throw new TypeError("Super expression must either be null or a function");if(ie!==void 0){if(ie.has(ge))return ie.get(ge);ie.set(ge,ct)}function ct(){return m(ge,arguments,c(this).constructor)}return ct.prototype=Object.create(ge.prototype,{constructor:{value:ct,enumerable:!1,writable:!0,configurable:!0}}),h(ct,ge)})(Z)}function _(Z,ie){return ie||(ie=Z.slice(0)),Z.raw=ie,Z}function E(){var Z;return(Z=arguments.length-1)<0||arguments.length<=Z?void 0:arguments[Z]}r.r(n),r.d(n,"adjustHue",function(){return Ks}),r.d(n,"animation",function(){return $o}),r.d(n,"backgroundImages",function(){return No}),r.d(n,"backgrounds",function(){return Xr}),r.d(n,"between",function(){return we}),r.d(n,"border",function(){return Ds}),r.d(n,"borderColor",function(){return Fo}),r.d(n,"borderRadius",function(){return Rr}),r.d(n,"borderStyle",function(){return Yo}),r.d(n,"borderWidth",function(){return Pa}),r.d(n,"buttons",function(){return Ss}),r.d(n,"clearFix",function(){return Pt}),r.d(n,"complement",function(){return _s}),r.d(n,"cover",function(){return gt}),r.d(n,"cssVar",function(){return oe}),r.d(n,"darken",function(){return je}),r.d(n,"desaturate",function(){return Yt}),r.d(n,"directionalProperty",function(){return P}),r.d(n,"easeIn",function(){return _e}),r.d(n,"easeInOut",function(){return rt}),r.d(n,"easeOut",function(){return Ut}),r.d(n,"ellipsis",function(){return Le}),r.d(n,"em",function(){return Ze}),r.d(n,"fluidRange",function(){return cr}),r.d(n,"fontFace",function(){return Gn}),r.d(n,"getContrast",function(){return dn}),r.d(n,"getLuminance",function(){return pn}),r.d(n,"getValueAndUnit",function(){return ft}),r.d(n,"grayscale",function(){return Kn}),r.d(n,"hiDPI",function(){return zn}),r.d(n,"hideText",function(){return sr}),r.d(n,"hideVisually",function(){return or}),r.d(n,"hsl",function(){return So}),r.d(n,"hslToColorString",function(){return Jr}),r.d(n,"hsla",function(){return ro}),r.d(n,"important",function(){return Be}),r.d(n,"invert",function(){return Sn}),r.d(n,"lighten",function(){return ri}),r.d(n,"linearGradient",function(){return wr}),r.d(n,"margin",function(){return so}),r.d(n,"math",function(){return W}),r.d(n,"meetsContrastGuidelines",function(){return Br}),r.d(n,"mix",function(){return Hr}),r.d(n,"modularScale",function(){return Ue}),r.d(n,"normalize",function(){return Vn}),r.d(n,"opacify",function(){return kr}),r.d(n,"padding",function(){return zo}),r.d(n,"parseToHsl",function(){return Ls}),r.d(n,"parseToRgb",function(){return ts}),r.d(n,"position",function(){return oo}),r.d(n,"radialGradient",function(){return zr}),r.d(n,"readableColor",function(){return jr}),r.d(n,"rem",function(){return te}),r.d(n,"retinaImage",function(){return Cr}),r.d(n,"rgb",function(){return ws}),r.d(n,"rgbToColorString",function(){return ei}),r.d(n,"rgba",function(){return mi}),r.d(n,"saturate",function(){return Wi}),r.d(n,"setHue",function(){return Io}),r.d(n,"setLightness",function(){return Fi}),r.d(n,"setSaturation",function(){return Ti}),r.d(n,"shade",function(){return lu}),r.d(n,"size",function(){return Ra}),r.d(n,"stripUnit",function(){return dt}),r.d(n,"textInputs",function(){return Ml}),r.d(n,"timingFunctions",function(){return Ir}),r.d(n,"tint",function(){return Do}),r.d(n,"toColorString",function(){return Ki}),r.d(n,"transitions",function(){return da}),r.d(n,"transparentize",function(){return Ya}),r.d(n,"triangle",function(){return tr}),r.d(n,"wordWrap",function(){return Fr});var T={symbols:{"*":{infix:{symbol:"*",f:function(Z,ie){return Z*ie},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(Z,ie){return Z/ie},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(Z,ie){return Z+ie},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:E,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(Z,ie){return Z-ie},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(Z){return-Z},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:E,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"}}},k=function(Z){var ie,ge;function et(ct){return function(kt){if(kt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kt}(Z.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+ct+" for more information.")||this)}return ge=Z,(ie=et).prototype=Object.create(ge.prototype),ie.prototype.constructor=ie,ie.__proto__=ge,et}(b(Error)),G=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function q(Z,ie){var ge,et=Z.pop();return ie.push(et.f.apply(et,(ge=[]).concat.apply(ge,ie.splice(-et.argCount)))),et.precedence}function X(Z,ie){var ge,et=function(ze){var at={};return at.symbols=ze?a({},T.symbols,ze.symbols):a({},T.symbols),at}(ie),ct=[et.symbols["("].prefix],kt=[],wn=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(et.symbols).map(function(ze){return et.symbols[ze]}).sort(function(ze,at){return at.symbol.length-ze.symbol.length}).map(function(ze){return ze.regSymbol}).join("|")+"|(\\S)","g");wn.lastIndex=0;var ir=!1;do{var x=(ge=wn.exec(Z))||[")",void 0],C=x[0],B=x[1],U=et.symbols[C],Q=U&&!U.prefix&&!U.func,ue=!U||!U.postfix&&!U.infix;if(B||(ir?ue:Q))throw new k(37,ge?ge.index:Z.length,Z);if(ir){var he=U.postfix||U.infix;do{var Ie=ct[ct.length-1];if((he.precedence-Ie.precedence||Ie.rightToLeft)>0)break}while(q(ct,kt));ir=he.notation==="postfix",he.symbol!==")"&&(ct.push(he),ir&&q(ct,kt))}else if(U){if(ct.push(U.prefix||U.func),U.func&&(!(ge=wn.exec(Z))||ge[0]!=="("))throw new k(38,ge?ge.index:Z.length,Z)}else kt.push(+C),ir=!0}while(ge&&ct.length);if(ct.length)throw new k(39,ge?ge.index:Z.length,Z);if(ge)throw new k(40,ge?ge.index:Z.length,Z);return kt.pop()}function Y(Z){return Z.split("").reverse().join("")}function W(Z,ie){var ge=Y(Z),et=ge.match(G);if(et&&!et.every(function(ct){return ct===et[0]}))throw new k(41);return""+X(Y(ge.replace(G,"")),ie)+(et?Y(et[0]):"")}var ne=/--[\S]*/g;function oe(Z,ie){if(!Z||!Z.match(ne))throw new k(73);var ge;if(typeof document<"u"&&document.documentElement!==null&&(ge=getComputedStyle(document.documentElement).getPropertyValue(Z)),ge)return ge.trim();if(ie)return ie;throw new k(74)}function le(Z){return Z.charAt(0).toUpperCase()+Z.slice(1)}var Se=["Top","Right","Bottom","Left"];function be(Z,ie){if(!Z)return ie.toLowerCase();var ge=Z.split("-");if(ge.length>1)return ge.splice(1,0,ie),ge.reduce(function(ct,kt){return""+ct+le(kt)});var et=Z.replace(/([a-z])([A-Z])/g,"$1"+ie+"$2");return Z===et?""+Z+ie:et}function Pe(Z,ie){for(var ge={},et=0;et<ie.length;et+=1)(ie[et]||ie[et]===0)&&(ge[be(Z,Se[et])]=ie[et]);return ge}function P(Z){for(var ie=arguments.length,ge=new Array(ie>1?ie-1:0),et=1;et<ie;et++)ge[et-1]=arguments[et];var ct=ge[0],kt=ge[1],wn=kt===void 0?ct:kt,ir=ge[2],x=ir===void 0?ct:ir,C=ge[3],B=C===void 0?wn:C,U=[ct,wn,x,B];return Pe(Z,U)}function We(Z,ie){return Z.substr(-ie.length)===ie}var tt=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function dt(Z){return typeof Z!="string"?Z:Z.match(tt)?parseFloat(Z):Z}var Ke=function(Z){return function(ie,ge){ge===void 0&&(ge="16px");var et=ie,ct=ge;if(typeof ie=="string"){if(!We(ie,"px"))throw new k(69,Z,ie);et=dt(ie)}if(typeof ge=="string"){if(!We(ge,"px"))throw new k(70,Z,ge);ct=dt(ge)}if(typeof et=="string")throw new k(71,ie,Z);if(typeof ct=="string")throw new k(72,ge,Z);return""+et/ct+Z}},Ze=Ke("em"),Xe=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function ft(Z){if(typeof Z!="string")return[Z,""];var ie=Z.match(Xe);return ie?[parseFloat(Z),ie[2]]:[Z,void 0]}function Be(Z,ie){if(typeof Z!="object"||Z===null)throw new k(75,typeof Z);var ge={};return Object.keys(Z).forEach(function(et){typeof Z[et]=="object"&&Z[et]!==null?ge[et]=Be(Z[et],ie):!ie||ie&&(ie===et||ie.indexOf(et)>=0)?ge[et]=Z[et]+" !important":ge[et]=Z[et]}),ge}var Qe={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};function Ue(Z,ie,ge){if(ie===void 0&&(ie="1em"),ge===void 0&&(ge=1.333),typeof Z!="number")throw new k(42);if(typeof ge=="string"&&!Qe[ge])throw new k(43);var et=typeof ie=="string"?ft(ie):[ie,""],ct=et[0],kt=et[1],wn=typeof ge=="string"?Qe[ge]:ge;if(typeof ct=="string")throw new k(44,ie);return""+ct*Math.pow(wn,Z)+(kt||"")}var te=Ke("rem"),lt={back:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",circ:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",cubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",expo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",quad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",quart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",quint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",sine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)"};function _e(Z){return lt[Z.toLowerCase().trim()]}var ke={back:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",circ:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",cubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",expo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",quad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",quart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",quint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",sine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};function rt(Z){return ke[Z.toLowerCase().trim()]}var St={back:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",cubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",circ:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",expo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",quad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",quart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",quint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",sine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)"};function Ut(Z){return St[Z.toLowerCase().trim()]}function we(Z,ie,ge,et){ge===void 0&&(ge="320px"),et===void 0&&(et="1200px");var ct=ft(Z),kt=ct[0],wn=ct[1],ir=ft(ie),x=ir[0],C=ir[1],B=ft(ge),U=B[0],Q=B[1],ue=ft(et),he=ue[0],Ie=ue[1];if(typeof U!="number"||typeof he!="number"||!Q||!Ie||Q!==Ie)throw new k(47);if(typeof kt!="number"||typeof x!="number"||wn!==C)throw new k(48);if(wn!==Q||C!==Ie)throw new k(76);var ze=(kt-x)/(U-he);return"calc("+(x-ze*he).toFixed(2)+(wn||"")+" + "+(100*ze).toFixed(2)+"vw)"}function Pt(Z){var ie;return Z===void 0&&(Z="&"),(ie={})[Z+"::after"]={clear:"both",content:'""',display:"table"},ie}function gt(Z){return Z===void 0&&(Z=0),{position:"absolute",top:Z,right:Z,bottom:Z,left:Z}}function Le(Z,ie){ie===void 0&&(ie=1);var ge={display:"inline-block",maxWidth:Z||"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"};return ie>1?a({},ge,{WebkitBoxOrient:"vertical",WebkitLineClamp:ie,display:"-webkit-box",whiteSpace:"normal"}):ge}function Bt(Z,ie){var ge;if(typeof Symbol>"u"||Z[Symbol.iterator]==null){if(Array.isArray(Z)||(ge=function(ct,kt){if(ct){if(typeof ct=="string")return bn(ct,kt);var wn=Object.prototype.toString.call(ct).slice(8,-1);if(wn==="Object"&&ct.constructor&&(wn=ct.constructor.name),wn==="Map"||wn==="Set")return Array.from(ct);if(wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wn))return bn(ct,kt)}}(Z))||ie){ge&&(Z=ge);var et=0;return function(){return et>=Z.length?{done:!0}:{done:!1,value:Z[et++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(ge=Z[Symbol.iterator]()).next.bind(ge)}function bn(Z,ie){(ie==null||ie>Z.length)&&(ie=Z.length);for(var ge=0,et=new Array(ie);ge<ie;ge++)et[ge]=Z[ge];return et}function cr(Z,ie,ge){if(ie===void 0&&(ie="320px"),ge===void 0&&(ge="1200px"),!Array.isArray(Z)&&typeof Z!="object"||Z===null)throw new k(49);if(Array.isArray(Z)){for(var et,ct={},kt={},wn=Bt(Z);!(et=wn()).done;){var ir,x,C=et.value;if(!C.prop||!C.fromSize||!C.toSize)throw new k(50);kt[C.prop]=C.fromSize,ct["@media (min-width: "+ie+")"]=a({},ct["@media (min-width: "+ie+")"],((ir={})[C.prop]=we(C.fromSize,C.toSize,ie,ge),ir)),ct["@media (min-width: "+ge+")"]=a({},ct["@media (min-width: "+ge+")"],((x={})[C.prop]=C.toSize,x))}return a({},kt,ct)}var B,U,Q;if(!Z.prop||!Z.fromSize||!Z.toSize)throw new k(51);return(Q={})[Z.prop]=Z.fromSize,Q["@media (min-width: "+ie+")"]=((B={})[Z.prop]=we(Z.fromSize,Z.toSize,ie,ge),B),Q["@media (min-width: "+ge+")"]=((U={})[Z.prop]=Z.toSize,U),Q}var qt=/^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i,tn={woff:"woff",woff2:"woff2",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg",svgz:"svg"};function on(Z,ie){return ie?' format("'+tn[Z]+'")':""}function jt(Z,ie,ge){return function(et){return!!et.match(qt)}(Z)?'url("'+Z+'")'+on(ie[0],ge):ie.map(function(et){return'url("'+Z+"."+et+'")'+on(et,ge)}).join(", ")}function $e(Z,ie,ge,et){var ct=[];return ie&&ct.push(function(kt){return kt.map(function(wn){return'local("'+wn+'")'}).join(", ")}(ie)),Z&&ct.push(jt(Z,ge,et)),ct.join(", ")}function Gn(Z){var ie=Z.fontFamily,ge=Z.fontFilePath,et=Z.fontStretch,ct=Z.fontStyle,kt=Z.fontVariant,wn=Z.fontWeight,ir=Z.fileFormats,x=ir===void 0?["eot","woff2","woff","ttf","svg"]:ir,C=Z.formatHint,B=C!==void 0&&C,U=Z.localFonts,Q=U===void 0?[ie]:U,ue=Z.unicodeRange,he=Z.fontDisplay,Ie=Z.fontVariationSettings,ze=Z.fontFeatureSettings;if(!ie)throw new k(55);if(!ge&&!Q)throw new k(52);if(Q&&!Array.isArray(Q))throw new k(53);if(!Array.isArray(x))throw new k(54);var at={"@font-face":{fontFamily:ie,src:$e(ge,Q,x,B),unicodeRange:ue,fontStretch:et,fontStyle:ct,fontVariant:kt,fontWeight:wn,fontDisplay:he,fontVariationSettings:Ie,fontFeatureSettings:ze}};return JSON.parse(JSON.stringify(at))}function sr(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}}function or(){return{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}}function zn(Z){return Z===void 0&&(Z=1.3),`
    @media only screen and (-webkit-min-device-pixel-ratio: `+Z+`),
    only screen and (min--moz-device-pixel-ratio: `+Z+`),
    only screen and (-o-min-device-pixel-ratio: `+Z+`/1),
    only screen and (min-resolution: `+Math.round(96*Z)+`dpi),
    only screen and (min-resolution: `+Z+`dppx)
  `}function hr(Z){for(var ie="",ge=arguments.length,et=new Array(ge>1?ge-1:0),ct=1;ct<ge;ct++)et[ct-1]=arguments[ct];for(var kt=0;kt<Z.length;kt+=1)if(ie+=Z[kt],kt===et.length-1&&et[kt]){var wn=et.filter(function(ir){return!!ir});wn.length>1?(ie=ie.slice(0,-1),ie+=", "+et[kt]):wn.length===1&&(ie+=""+et[kt])}else et[kt]&&(ie+=et[kt]+" ");return ie.trim()}function br(){var Z=_(["linear-gradient(","",")"]);return br=function(){return Z},Z}function wr(Z){var ie=Z.colorStops,ge=Z.fallback,et=Z.toDirection,ct=et===void 0?"":et;if(!ie||ie.length<2)throw new k(56);return{backgroundColor:ge||ie[0].replace(/,\s+/g,",").split(" ")[0].replace(/,(?=\S)/g,", "),backgroundImage:hr(br(),ct,ie.join(", ").replace(/,(?=\S)/g,", "))}}function Vn(){var Z;return[(Z={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},main:{display:"block"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},Z[`b,
    strong`]={fontWeight:"bolder"},Z[`code,
    kbd,
    samp`]={fontFamily:"monospace, monospace",fontSize:"1em"},Z.small={fontSize:"80%"},Z[`sub,
    sup`]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},Z.sub={bottom:"-0.25em"},Z.sup={top:"-0.5em"},Z.img={borderStyle:"none"},Z[`button,
    input,
    optgroup,
    select,
    textarea`]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},Z[`button,
    input`]={overflow:"visible"},Z[`button,
    select`]={textTransform:"none"},Z[`button,
    html [type="button"],
    [type="reset"],
    [type="submit"]`]={WebkitAppearance:"button"},Z[`button::-moz-focus-inner,
    [type="button"]::-moz-focus-inner,
    [type="reset"]::-moz-focus-inner,
    [type="submit"]::-moz-focus-inner`]={borderStyle:"none",padding:"0"},Z[`button:-moz-focusring,
    [type="button"]:-moz-focusring,
    [type="reset"]:-moz-focusring,
    [type="submit"]:-moz-focusring`]={outline:"1px dotted ButtonText"},Z.fieldset={padding:"0.35em 0.625em 0.75em"},Z.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},Z.progress={verticalAlign:"baseline"},Z.textarea={overflow:"auto"},Z[`[type="checkbox"],
    [type="radio"]`]={boxSizing:"border-box",padding:"0"},Z[`[type="number"]::-webkit-inner-spin-button,
    [type="number"]::-webkit-outer-spin-button`]={height:"auto"},Z['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},Z['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},Z["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},Z.details={display:"block"},Z.summary={display:"list-item"},Z.template={display:"none"},Z["[hidden]"]={display:"none"},Z),{"abbr[title]":{textDecoration:"underline dotted"}}]}function Nr(){var Z=_(["radial-gradient(","","","",")"]);return Nr=function(){return Z},Z}function zr(Z){var ie=Z.colorStops,ge=Z.extent,et=ge===void 0?"":ge,ct=Z.fallback,kt=Z.position,wn=kt===void 0?"":kt,ir=Z.shape,x=ir===void 0?"":ir;if(!ie||ie.length<2)throw new k(57);return{backgroundColor:ct||ie[0].split(" ")[0],backgroundImage:hr(Nr(),wn,x,et,ie.join(", "))}}function Cr(Z,ie,ge,et,ct){var kt;if(ge===void 0&&(ge="png"),ct===void 0&&(ct="_2x"),!Z)throw new k(58);var wn=ge.replace(/^\./,""),ir=et?et+"."+wn:""+Z+ct+"."+wn;return(kt={backgroundImage:"url("+Z+"."+wn+")"})[zn()]=a({backgroundImage:"url("+ir+")"},ie?{backgroundSize:ie}:{}),kt}var Zr={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};function Ir(Z){return Zr[Z]}var Pn=function(Z,ie,ge){var et=""+ge[0]+(ge[1]||""),ct=""+ge[0]/2+(ge[1]||""),kt=""+ie[0]+(ie[1]||""),wn=""+ie[0]/2+(ie[1]||"");switch(Z){case"top":return"0 "+ct+" "+kt+" "+ct;case"topLeft":return et+" "+kt+" 0 0";case"left":return wn+" "+et+" "+wn+" 0";case"bottomLeft":return et+" 0 0 "+kt;case"bottom":return kt+" "+ct+" 0 "+ct;case"bottomRight":return"0 0 "+et+" "+kt;case"right":return wn+" 0 "+wn+" "+et;case"topRight":default:return"0 "+et+" "+kt+" 0"}};function tr(Z){var ie=Z.pointingDirection,ge=Z.height,et=Z.width,ct=Z.foregroundColor,kt=Z.backgroundColor,wn=kt===void 0?"transparent":kt,ir=ft(et),x=ft(ge);if(isNaN(x[0])||isNaN(ir[0]))throw new k(60);return a({width:"0",height:"0",borderColor:wn},function(C,B){switch(C){case"top":case"bottomRight":return{borderBottomColor:B};case"right":case"bottomLeft":return{borderLeftColor:B};case"bottom":case"topLeft":return{borderTopColor:B};case"left":case"topRight":return{borderRightColor:B};default:throw new k(59)}}(ie,ct),{borderStyle:"solid",borderWidth:Pn(ie,x,ir)})}function Fr(Z){return Z===void 0&&(Z="break-word"),{overflowWrap:Z,wordWrap:Z,wordBreak:Z==="break-word"?"break-all":Z}}function xi(Z){return Math.round(255*Z)}function Yi(Z,ie,ge){return xi(Z)+","+xi(ie)+","+xi(ge)}function Zi(Z,ie,ge,et){if(et===void 0&&(et=Yi),ie===0)return et(ge,ge,ge);var ct=(Z%360+360)%360/60,kt=(1-Math.abs(2*ge-1))*ie,wn=kt*(1-Math.abs(ct%2-1)),ir=0,x=0,C=0;ct>=0&&ct<1?(ir=kt,x=wn):ct>=1&&ct<2?(ir=wn,x=kt):ct>=2&&ct<3?(x=kt,C=wn):ct>=3&&ct<4?(x=wn,C=kt):ct>=4&&ct<5?(ir=wn,C=kt):ct>=5&&ct<6&&(ir=kt,C=wn);var B=ge-kt/2;return et(ir+B,x+B,C+B)}var Sr={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ai=/^#[a-fA-F0-9]{6}$/,Ai=/^#[a-fA-F0-9]{8}$/,Gs=/^#[a-fA-F0-9]{3}$/,ji=/^#[a-fA-F0-9]{4}$/,ar=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,aa=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,ls=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Ui=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function ts(Z){if(typeof Z!="string")throw new k(3);var ie=function(Q){if(typeof Q!="string")return Q;var ue=Q.toLowerCase();return Sr[ue]?"#"+Sr[ue]:Q}(Z);if(ie.match(ai))return{red:parseInt(""+ie[1]+ie[2],16),green:parseInt(""+ie[3]+ie[4],16),blue:parseInt(""+ie[5]+ie[6],16)};if(ie.match(Ai)){var ge=parseFloat((parseInt(""+ie[7]+ie[8],16)/255).toFixed(2));return{red:parseInt(""+ie[1]+ie[2],16),green:parseInt(""+ie[3]+ie[4],16),blue:parseInt(""+ie[5]+ie[6],16),alpha:ge}}if(ie.match(Gs))return{red:parseInt(""+ie[1]+ie[1],16),green:parseInt(""+ie[2]+ie[2],16),blue:parseInt(""+ie[3]+ie[3],16)};if(ie.match(ji)){var et=parseFloat((parseInt(""+ie[4]+ie[4],16)/255).toFixed(2));return{red:parseInt(""+ie[1]+ie[1],16),green:parseInt(""+ie[2]+ie[2],16),blue:parseInt(""+ie[3]+ie[3],16),alpha:et}}var ct=ar.exec(ie);if(ct)return{red:parseInt(""+ct[1],10),green:parseInt(""+ct[2],10),blue:parseInt(""+ct[3],10)};var kt=aa.exec(ie);if(kt)return{red:parseInt(""+kt[1],10),green:parseInt(""+kt[2],10),blue:parseInt(""+kt[3],10),alpha:parseFloat(""+kt[4])};var wn=ls.exec(ie);if(wn){var ir="rgb("+Zi(parseInt(""+wn[1],10),parseInt(""+wn[2],10)/100,parseInt(""+wn[3],10)/100)+")",x=ar.exec(ir);if(!x)throw new k(4,ie,ir);return{red:parseInt(""+x[1],10),green:parseInt(""+x[2],10),blue:parseInt(""+x[3],10)}}var C=Ui.exec(ie);if(C){var B="rgb("+Zi(parseInt(""+C[1],10),parseInt(""+C[2],10)/100,parseInt(""+C[3],10)/100)+")",U=ar.exec(B);if(!U)throw new k(4,ie,B);return{red:parseInt(""+U[1],10),green:parseInt(""+U[2],10),blue:parseInt(""+U[3],10),alpha:parseFloat(""+C[4])}}throw new k(5)}function Ls(Z){return function(ie){var ge,et=ie.red/255,ct=ie.green/255,kt=ie.blue/255,wn=Math.max(et,ct,kt),ir=Math.min(et,ct,kt),x=(wn+ir)/2;if(wn===ir)return ie.alpha!==void 0?{hue:0,saturation:0,lightness:x,alpha:ie.alpha}:{hue:0,saturation:0,lightness:x};var C=wn-ir,B=x>.5?C/(2-wn-ir):C/(wn+ir);switch(wn){case et:ge=(ct-kt)/C+(ct<kt?6:0);break;case ct:ge=(kt-et)/C+2;break;default:ge=(et-ct)/C+4}return ge*=60,ie.alpha!==void 0?{hue:ge,saturation:B,lightness:x,alpha:ie.alpha}:{hue:ge,saturation:B,lightness:x}}(ts(Z))}var Ps=function(Z){return Z.length===7&&Z[1]===Z[2]&&Z[3]===Z[4]&&Z[5]===Z[6]?"#"+Z[1]+Z[3]+Z[5]:Z};function Kr(Z){var ie=Z.toString(16);return ie.length===1?"0"+ie:ie}function Ca(Z){return Kr(Math.round(255*Z))}function la(Z,ie,ge){return Ps("#"+Ca(Z)+Ca(ie)+Ca(ge))}function _o(Z,ie,ge){return Zi(Z,ie,ge,la)}function So(Z,ie,ge){if(typeof Z=="number"&&typeof ie=="number"&&typeof ge=="number")return _o(Z,ie,ge);if(typeof Z=="object"&&ie===void 0&&ge===void 0)return _o(Z.hue,Z.saturation,Z.lightness);throw new k(1)}function ro(Z,ie,ge,et){if(typeof Z=="number"&&typeof ie=="number"&&typeof ge=="number"&&typeof et=="number")return et>=1?_o(Z,ie,ge):"rgba("+Zi(Z,ie,ge)+","+et+")";if(typeof Z=="object"&&ie===void 0&&ge===void 0&&et===void 0)return Z.alpha>=1?_o(Z.hue,Z.saturation,Z.lightness):"rgba("+Zi(Z.hue,Z.saturation,Z.lightness)+","+Z.alpha+")";throw new k(2)}function ws(Z,ie,ge){if(typeof Z=="number"&&typeof ie=="number"&&typeof ge=="number")return Ps("#"+Kr(Z)+Kr(ie)+Kr(ge));if(typeof Z=="object"&&ie===void 0&&ge===void 0)return Ps("#"+Kr(Z.red)+Kr(Z.green)+Kr(Z.blue));throw new k(6)}function mi(Z,ie,ge,et){if(typeof Z=="string"&&typeof ie=="number"){var ct=ts(Z);return"rgba("+ct.red+","+ct.green+","+ct.blue+","+ie+")"}if(typeof Z=="number"&&typeof ie=="number"&&typeof ge=="number"&&typeof et=="number")return et>=1?ws(Z,ie,ge):"rgba("+Z+","+ie+","+ge+","+et+")";if(typeof Z=="object"&&ie===void 0&&ge===void 0&&et===void 0)return Z.alpha>=1?ws(Z.red,Z.green,Z.blue):"rgba("+Z.red+","+Z.green+","+Z.blue+","+Z.alpha+")";throw new k(7)}function Ki(Z){if(typeof Z!="object")throw new k(8);if(function(ie){return typeof ie.red=="number"&&typeof ie.green=="number"&&typeof ie.blue=="number"&&typeof ie.alpha=="number"}(Z))return mi(Z);if(function(ie){return typeof ie.red=="number"&&typeof ie.green=="number"&&typeof ie.blue=="number"&&(typeof ie.alpha!="number"||ie.alpha===void 0)}(Z))return ws(Z);if(function(ie){return typeof ie.hue=="number"&&typeof ie.saturation=="number"&&typeof ie.lightness=="number"&&typeof ie.alpha=="number"}(Z))return ro(Z);if(function(ie){return typeof ie.hue=="number"&&typeof ie.saturation=="number"&&typeof ie.lightness=="number"&&(typeof ie.alpha!="number"||ie.alpha===void 0)}(Z))return So(Z);throw new k(8)}function us(Z){return function ie(ge,et,ct){return function(){var kt=ct.concat(Array.prototype.slice.call(arguments));return kt.length>=et?ge.apply(this,kt):ie(ge,et,kt)}}(Z,Z.length,[])}function jl(Z,ie){if(ie==="transparent")return ie;var ge=Ls(ie);return Ki(a({},ge,{hue:ge.hue+parseFloat(Z)}))}var Ks=us(jl);function _s(Z){if(Z==="transparent")return Z;var ie=Ls(Z);return Ki(a({},ie,{hue:(ie.hue+180)%360}))}function He(Z,ie,ge){return Math.max(Z,Math.min(ie,ge))}function yt(Z,ie){if(ie==="transparent")return ie;var ge=Ls(ie);return Ki(a({},ge,{lightness:He(0,1,ge.lightness-parseFloat(Z))}))}var je=us(yt);function it(Z,ie){if(ie==="transparent")return ie;var ge=Ls(ie);return Ki(a({},ge,{saturation:He(0,1,ge.saturation-parseFloat(Z))}))}var Yt=us(it);function pn(Z){if(Z==="transparent")return 0;var ie=ts(Z),ge=Object.keys(ie).map(function(wn){var ir=ie[wn]/255;return ir<=.03928?ir/12.92:Math.pow((ir+.055)/1.055,2.4)}),et=ge[0],ct=ge[1],kt=ge[2];return parseFloat((.2126*et+.7152*ct+.0722*kt).toFixed(3))}function dn(Z,ie){var ge=pn(Z),et=pn(ie);return parseFloat((ge>et?(ge+.05)/(et+.05):(et+.05)/(ge+.05)).toFixed(2))}function Kn(Z){return Z==="transparent"?Z:Ki(a({},Ls(Z),{saturation:0}))}function Jr(Z){if(typeof Z=="object"&&typeof Z.hue=="number"&&typeof Z.saturation=="number"&&typeof Z.lightness=="number")return Z.alpha&&typeof Z.alpha=="number"?ro({hue:Z.hue,saturation:Z.saturation,lightness:Z.lightness,alpha:Z.alpha}):So({hue:Z.hue,saturation:Z.saturation,lightness:Z.lightness});throw new k(45)}function Sn(Z){if(Z==="transparent")return Z;var ie=ts(Z);return Ki(a({},ie,{red:255-ie.red,green:255-ie.green,blue:255-ie.blue}))}function Mr(Z,ie){if(ie==="transparent")return ie;var ge=Ls(ie);return Ki(a({},ge,{lightness:He(0,1,ge.lightness+parseFloat(Z))}))}var ri=us(Mr);function Br(Z,ie){var ge=dn(Z,ie);return{AA:ge>=4.5,AALarge:ge>=3,AAA:ge>=7,AAALarge:ge>=4.5}}function Qr(Z,ie,ge){if(ie==="transparent")return ge;if(ge==="transparent")return ie;if(Z===0)return ge;var et=ts(ie),ct=a({},et,{alpha:typeof et.alpha=="number"?et.alpha:1}),kt=ts(ge),wn=a({},kt,{alpha:typeof kt.alpha=="number"?kt.alpha:1}),ir=ct.alpha-wn.alpha,x=2*parseFloat(Z)-1,C=((x*ir==-1?x:x+ir)/(1+x*ir)+1)/2,B=1-C;return mi({red:Math.floor(ct.red*C+wn.red*B),green:Math.floor(ct.green*C+wn.green*B),blue:Math.floor(ct.blue*C+wn.blue*B),alpha:ct.alpha*(parseFloat(Z)/1)+wn.alpha*(1-parseFloat(Z)/1)})}var Hr=us(Qr);function pr(Z,ie){if(ie==="transparent")return ie;var ge=ts(ie);return mi(a({},ge,{alpha:He(0,1,(100*(typeof ge.alpha=="number"?ge.alpha:1)+100*parseFloat(Z))/100)}))}var kr=us(pr);function jr(Z,ie,ge,et){ie===void 0&&(ie="#000"),ge===void 0&&(ge="#fff"),et===void 0&&(et=!0);var ct=pn(Z)>.179,kt=ct?ie:ge;return!et||dn(Z,kt)>=4.5?kt:ct?"#000":"#fff"}function ei(Z){if(typeof Z=="object"&&typeof Z.red=="number"&&typeof Z.green=="number"&&typeof Z.blue=="number")return typeof Z.alpha=="number"?mi({red:Z.red,green:Z.green,blue:Z.blue,alpha:Z.alpha}):ws({red:Z.red,green:Z.green,blue:Z.blue});throw new k(46)}function bi(Z,ie){if(ie==="transparent")return ie;var ge=Ls(ie);return Ki(a({},ge,{saturation:He(0,1,ge.saturation+parseFloat(Z))}))}var Wi=us(bi);function ns(Z,ie){return ie==="transparent"?ie:Ki(a({},Ls(ie),{hue:parseFloat(Z)}))}var Io=us(ns);function Eo(Z,ie){return ie==="transparent"?ie:Ki(a({},Ls(ie),{lightness:parseFloat(Z)}))}var Fi=us(Eo);function Vs(Z,ie){return ie==="transparent"?ie:Ki(a({},Ls(ie),{saturation:parseFloat(Z)}))}var Ti=us(Vs);function ua(Z,ie){return ie==="transparent"?ie:Hr(parseFloat(Z),"rgb(0, 0, 0)",ie)}var lu=us(ua);function Ws(Z,ie){return ie==="transparent"?ie:Hr(parseFloat(Z),"rgb(255, 255, 255)",ie)}var Do=us(Ws);function La(Z,ie){if(ie==="transparent")return ie;var ge=ts(ie);return mi(a({},ge,{alpha:He(0,1,+(100*(typeof ge.alpha=="number"?ge.alpha:1)-100*parseFloat(Z)).toFixed(2)/100)}))}var Ya=us(La);function $o(){for(var Z=arguments.length,ie=new Array(Z),ge=0;ge<Z;ge++)ie[ge]=arguments[ge];var et=Array.isArray(ie[0]);if(!et&&ie.length>8)throw new k(64);var ct=ie.map(function(kt){if(et&&!Array.isArray(kt)||!et&&Array.isArray(kt))throw new k(65);if(Array.isArray(kt)&&kt.length>8)throw new k(66);return Array.isArray(kt)?kt.join(" "):kt}).join(", ");return{animation:ct}}function No(){for(var Z=arguments.length,ie=new Array(Z),ge=0;ge<Z;ge++)ie[ge]=arguments[ge];return{backgroundImage:ie.join(", ")}}function Xr(){for(var Z=arguments.length,ie=new Array(Z),ge=0;ge<Z;ge++)ie[ge]=arguments[ge];return{background:ie.join(", ")}}var ul=["top","right","bottom","left"];function Ds(Z){for(var ie=arguments.length,ge=new Array(ie>1?ie-1:0),et=1;et<ie;et++)ge[et-1]=arguments[et];var ct;return typeof Z=="string"&&ul.indexOf(Z)>=0?((ct={})["border"+le(Z)+"Width"]=ge[0],ct["border"+le(Z)+"Style"]=ge[1],ct["border"+le(Z)+"Color"]=ge[2],ct):(ge.unshift(Z),{borderWidth:ge[0],borderStyle:ge[1],borderColor:ge[2]})}function Fo(){for(var Z=arguments.length,ie=new Array(Z),ge=0;ge<Z;ge++)ie[ge]=arguments[ge];return P.apply(void 0,["borderColor"].concat(ie))}function Rr(Z,ie){var ge,et,ct=le(Z);if(!ie&&ie!==0)throw new k(62);if(ct==="Top"||ct==="Bottom")return(ge={})["border"+ct+"RightRadius"]=ie,ge["border"+ct+"LeftRadius"]=ie,ge;if(ct==="Left"||ct==="Right")return(et={})["borderTop"+ct+"Radius"]=ie,et["borderBottom"+ct+"Radius"]=ie,et;throw new k(63)}function Yo(){for(var Z=arguments.length,ie=new Array(Z),ge=0;ge<Z;ge++)ie[ge]=arguments[ge];return P.apply(void 0,["borderStyle"].concat(ie))}function Pa(){for(var Z=arguments.length,ie=new Array(Z),ge=0;ge<Z;ge++)ie[ge]=arguments[ge];return P.apply(void 0,["borderWidth"].concat(ie))}function ca(Z,ie){return Z(ie?":"+ie:"")}function ha(Z,ie,ge){if(!ie)throw new k(67);if(Z.length===0)return ca(ie,null);for(var et=[],ct=0;ct<Z.length;ct+=1){if(ge&&ge.indexOf(Z[ct])<0)throw new k(68);et.push(ca(ie,Z[ct]))}return et=et.join(",")}var io=[void 0,null,"active","focus","hover"];function cs(Z){return"button"+Z+`,
  input[type="button"]`+Z+`,
  input[type="reset"]`+Z+`,
  input[type="submit"]`+Z}function Ss(){for(var Z=arguments.length,ie=new Array(Z),ge=0;ge<Z;ge++)ie[ge]=arguments[ge];return ha(ie,cs,io)}function so(){for(var Z=arguments.length,ie=new Array(Z),ge=0;ge<Z;ge++)ie[ge]=arguments[ge];return P.apply(void 0,["margin"].concat(ie))}function zo(){for(var Z=arguments.length,ie=new Array(Z),ge=0;ge<Z;ge++)ie[ge]=arguments[ge];return P.apply(void 0,["padding"].concat(ie))}var Es=["absolute","fixed","relative","static","sticky"];function oo(Z){for(var ie=arguments.length,ge=new Array(ie>1?ie-1:0),et=1;et<ie;et++)ge[et-1]=arguments[et];return Es.indexOf(Z)>=0&&Z?a({},P.apply(void 0,[""].concat(ge)),{position:Z}):P.apply(void 0,["",Z].concat(ge))}function Ra(Z,ie){return ie===void 0&&(ie=Z),{height:Z,width:ie}}var Ci=[void 0,null,"active","focus","hover"];function ao(Z){return'input[type="color"]'+Z+`,
    input[type="date"]`+Z+`,
    input[type="datetime"]`+Z+`,
    input[type="datetime-local"]`+Z+`,
    input[type="email"]`+Z+`,
    input[type="month"]`+Z+`,
    input[type="number"]`+Z+`,
    input[type="password"]`+Z+`,
    input[type="search"]`+Z+`,
    input[type="tel"]`+Z+`,
    input[type="text"]`+Z+`,
    input[type="time"]`+Z+`,
    input[type="url"]`+Z+`,
    input[type="week"]`+Z+`,
    input:not([type])`+Z+`,
    textarea`+Z}function Ml(){for(var Z=arguments.length,ie=new Array(Z),ge=0;ge<Z;ge++)ie[ge]=arguments[ge];return ha(ie,ao,Ci)}function da(){for(var Z=arguments.length,ie=new Array(Z),ge=0;ge<Z;ge++)ie[ge]=arguments[ge];if(Array.isArray(ie[0])&&ie.length===2){var et=ie[1];if(typeof et!="string")throw new k(61);var ct=ie[0].map(function(kt){return kt+" "+et}).join(", ");return{transition:ct}}return{transition:ie.join(", ")}}},function(A,n){A.exports=function(r,a,c,h){var f=c?c.call(h,r,a):void 0;if(f!==void 0)return!!f;if(r===a)return!0;if(typeof r!="object"||!r||typeof a!="object"||!a)return!1;var m=Object.keys(r),b=Object.keys(a);if(m.length!==b.length)return!1;for(var _=Object.prototype.hasOwnProperty.bind(a),E=0;E<m.length;E++){var T=m[E];if(!_(T))return!1;var k=r[T],G=a[T];if((f=c?c.call(h,k,G,T):void 0)===!1||f===void 0&&k!==G)return!1}return!0}},function(A,n,r){n.a=function(a){function c(ke,rt,St){var Ut=rt.trim().split(W);rt=Ut;var we=Ut.length,Pt=ke.length;switch(Pt){case 0:case 1:var gt=0;for(ke=Pt===0?"":ke[0]+" ";gt<we;++gt)rt[gt]=h(ke,rt[gt],St).trim();break;default:var Le=gt=0;for(rt=[];gt<we;++gt)for(var Bt=0;Bt<Pt;++Bt)rt[Le++]=h(ke[Bt]+" ",Ut[gt],St).trim()}return rt}function h(ke,rt,St){var Ut=rt.charCodeAt(0);switch(33>Ut&&(Ut=(rt=rt.trim()).charCodeAt(0)),Ut){case 38:return rt.replace(ne,"$1"+ke.trim());case 58:return ke.trim()+rt.replace(ne,"$1"+ke.trim());default:if(0<1*St&&0<rt.indexOf("\f"))return rt.replace(ne,(ke.charCodeAt(0)===58?"":"$1")+ke.trim())}return ke+rt}function f(ke,rt,St,Ut){var we=ke+";",Pt=2*rt+3*St+4*Ut;if(Pt===944){ke=we.indexOf(":",9)+1;var gt=we.substring(ke,we.length-1).trim();return gt=we.substring(0,ke).trim()+gt+";",Be===1||Be===2&&m(gt,1)?"-webkit-"+gt+gt:gt}if(Be===0||Be===2&&!m(we,1))return we;switch(Pt){case 1015:return we.charCodeAt(10)===97?"-webkit-"+we+we:we;case 951:return we.charCodeAt(3)===116?"-webkit-"+we+we:we;case 963:return we.charCodeAt(5)===110?"-webkit-"+we+we:we;case 1009:if(we.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+we+we;case 978:return"-webkit-"+we+"-moz-"+we+we;case 1019:case 983:return"-webkit-"+we+"-moz-"+we+"-ms-"+we+we;case 883:if(we.charCodeAt(8)===45)return"-webkit-"+we+we;if(0<we.indexOf("image-set(",11))return we.replace(Ke,"$1-webkit-$2")+we;break;case 932:if(we.charCodeAt(4)===45)switch(we.charCodeAt(5)){case 103:return"-webkit-box-"+we.replace("-grow","")+"-webkit-"+we+"-ms-"+we.replace("grow","positive")+we;case 115:return"-webkit-"+we+"-ms-"+we.replace("shrink","negative")+we;case 98:return"-webkit-"+we+"-ms-"+we.replace("basis","preferred-size")+we}return"-webkit-"+we+"-ms-"+we+we;case 964:return"-webkit-"+we+"-ms-flex-"+we+we;case 1023:if(we.charCodeAt(8)!==99)break;return"-webkit-box-pack"+(gt=we.substring(we.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+we+"-ms-flex-pack"+gt+we;case 1005:return X.test(we)?we.replace(q,":-webkit-")+we.replace(q,":-moz-")+we:we;case 1e3:switch(rt=(gt=we.substring(13).trim()).indexOf("-")+1,gt.charCodeAt(0)+gt.charCodeAt(rt)){case 226:gt=we.replace(be,"tb");break;case 232:gt=we.replace(be,"tb-rl");break;case 220:gt=we.replace(be,"lr");break;default:return we}return"-webkit-"+we+"-ms-"+gt+we;case 1017:if(we.indexOf("sticky",9)===-1)break;case 975:switch(rt=(we=ke).length-10,Pt=(gt=(we.charCodeAt(rt)===33?we.substring(0,rt):we).substring(ke.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|gt.charCodeAt(7))){case 203:if(111>gt.charCodeAt(8))break;case 115:we=we.replace(gt,"-webkit-"+gt)+";"+we;break;case 207:case 102:we=we.replace(gt,"-webkit-"+(102<Pt?"inline-":"")+"box")+";"+we.replace(gt,"-webkit-"+gt)+";"+we.replace(gt,"-ms-"+gt+"box")+";"+we}return we+";";case 938:if(we.charCodeAt(5)===45)switch(we.charCodeAt(6)){case 105:return gt=we.replace("-items",""),"-webkit-"+we+"-webkit-box-"+gt+"-ms-flex-"+gt+we;case 115:return"-webkit-"+we+"-ms-flex-item-"+we.replace(We,"")+we;default:return"-webkit-"+we+"-ms-flex-line-pack"+we.replace("align-content","").replace(We,"")+we}break;case 973:case 989:if(we.charCodeAt(3)!==45||we.charCodeAt(4)===122)break;case 931:case 953:if(dt.test(ke)===!0)return(gt=ke.substring(ke.indexOf(":")+1)).charCodeAt(0)===115?f(ke.replace("stretch","fill-available"),rt,St,Ut).replace(":fill-available",":stretch"):we.replace(gt,"-webkit-"+gt)+we.replace(gt,"-moz-"+gt.replace("fill-",""))+we;break;case 962:if(we="-webkit-"+we+(we.charCodeAt(5)===102?"-ms-"+we:"")+we,St+Ut===211&&we.charCodeAt(13)===105&&0<we.indexOf("transform",10))return we.substring(0,we.indexOf(";",27)+1).replace(Y,"$1-webkit-$2")+we}return we}function m(ke,rt){var St=ke.indexOf(rt===1?":":"{"),Ut=ke.substring(0,rt!==3?St:10);return St=ke.substring(St+1,ke.length-1),lt(rt!==2?Ut:Ut.replace(tt,"$1"),St,rt)}function b(ke,rt){var St=f(rt,rt.charCodeAt(0),rt.charCodeAt(1),rt.charCodeAt(2));return St!==rt+";"?St.replace(P," or ($1)").substring(4):"("+rt+")"}function _(ke,rt,St,Ut,we,Pt,gt,Le,Bt,bn){for(var cr,qt=0,tn=rt;qt<te;++qt)switch(cr=Ue[qt].call(T,ke,tn,St,Ut,we,Pt,gt,Le,Bt,bn)){case void 0:case!1:case!0:case null:break;default:tn=cr}if(tn!==rt)return tn}function E(ke){return(ke=ke.prefix)!==void 0&&(lt=null,ke?typeof ke!="function"?Be=1:(Be=2,lt=ke):Be=0),E}function T(ke,rt){var St=ke;if(33>St.charCodeAt(0)&&(St=St.trim()),St=[St],0<te){var Ut=_(-1,rt,St,St,Xe,Ze,0,0,0,0);Ut!==void 0&&typeof Ut=="string"&&(rt=Ut)}var we=function Pt(gt,Le,Bt,bn,cr){for(var qt,tn,on,jt,$e,Gn=0,sr=0,or=0,zn=0,hr=0,br=0,wr=on=qt=0,Vn=0,Nr=0,zr=0,Cr=0,Zr=Bt.length,Ir=Zr-1,Pn="",tr="",Fr="",xi="";Vn<Zr;){if(tn=Bt.charCodeAt(Vn),Vn===Ir&&sr+zn+or+Gn!==0&&(sr!==0&&(tn=sr===47?10:47),zn=or=Gn=0,Zr++,Ir++),sr+zn+or+Gn===0){if(Vn===Ir&&(0<Nr&&(Pn=Pn.replace(G,"")),0<Pn.trim().length)){switch(tn){case 32:case 9:case 59:case 13:case 10:break;default:Pn+=Bt.charAt(Vn)}tn=59}switch(tn){case 123:for(qt=(Pn=Pn.trim()).charCodeAt(0),on=1,Cr=++Vn;Vn<Zr;){switch(tn=Bt.charCodeAt(Vn)){case 123:on++;break;case 125:on--;break;case 47:switch(tn=Bt.charCodeAt(Vn+1)){case 42:case 47:e:{for(wr=Vn+1;wr<Ir;++wr)switch(Bt.charCodeAt(wr)){case 47:if(tn===42&&Bt.charCodeAt(wr-1)===42&&Vn+2!==wr){Vn=wr+1;break e}break;case 10:if(tn===47){Vn=wr+1;break e}}Vn=wr}}break;case 91:tn++;case 40:tn++;case 34:case 39:for(;Vn++<Ir&&Bt.charCodeAt(Vn)!==tn;);}if(on===0)break;Vn++}switch(on=Bt.substring(Cr,Vn),qt===0&&(qt=(Pn=Pn.replace(k,"").trim()).charCodeAt(0)),qt){case 64:switch(0<Nr&&(Pn=Pn.replace(G,"")),tn=Pn.charCodeAt(1)){case 100:case 109:case 115:case 45:Nr=Le;break;default:Nr=Qe}if(Cr=(on=Pt(Le,Nr,on,tn,cr+1)).length,0<te&&($e=_(3,on,Nr=c(Qe,Pn,zr),Le,Xe,Ze,Cr,tn,cr,bn),Pn=Nr.join(""),$e!==void 0&&(Cr=(on=$e.trim()).length)===0&&(tn=0,on="")),0<Cr)switch(tn){case 115:Pn=Pn.replace(Pe,b);case 100:case 109:case 45:on=Pn+"{"+on+"}";break;case 107:on=(Pn=Pn.replace(oe,"$1 $2"))+"{"+on+"}",on=Be===1||Be===2&&m("@"+on,3)?"@-webkit-"+on+"@"+on:"@"+on;break;default:on=Pn+on,bn===112&&(tr+=on,on="")}else on="";break;default:on=Pt(Le,c(Le,Pn,zr),on,bn,cr+1)}Fr+=on,on=zr=Nr=wr=qt=0,Pn="",tn=Bt.charCodeAt(++Vn);break;case 125:case 59:if(1<(Cr=(Pn=(0<Nr?Pn.replace(G,""):Pn).trim()).length))switch(wr===0&&(qt=Pn.charCodeAt(0),qt===45||96<qt&&123>qt)&&(Cr=(Pn=Pn.replace(" ",":")).length),0<te&&($e=_(1,Pn,Le,gt,Xe,Ze,tr.length,bn,cr,bn))!==void 0&&(Cr=(Pn=$e.trim()).length)===0&&(Pn="\0\0"),qt=Pn.charCodeAt(0),tn=Pn.charCodeAt(1),qt){case 0:break;case 64:if(tn===105||tn===99){xi+=Pn+Bt.charAt(Vn);break}default:Pn.charCodeAt(Cr-1)!==58&&(tr+=f(Pn,qt,tn,Pn.charCodeAt(2)))}zr=Nr=wr=qt=0,Pn="",tn=Bt.charCodeAt(++Vn)}}switch(tn){case 13:case 10:sr===47?sr=0:1+qt===0&&bn!==107&&0<Pn.length&&(Nr=1,Pn+="\0"),0<te*_e&&_(0,Pn,Le,gt,Xe,Ze,tr.length,bn,cr,bn),Ze=1,Xe++;break;case 59:case 125:if(sr+zn+or+Gn===0){Ze++;break}default:switch(Ze++,jt=Bt.charAt(Vn),tn){case 9:case 32:if(zn+Gn+sr===0)switch(hr){case 44:case 58:case 9:case 32:jt="";break;default:tn!==32&&(jt=" ")}break;case 0:jt="\\0";break;case 12:jt="\\f";break;case 11:jt="\\v";break;case 38:zn+sr+Gn===0&&(Nr=zr=1,jt="\f"+jt);break;case 108:if(zn+sr+Gn+ft===0&&0<wr)switch(Vn-wr){case 2:hr===112&&Bt.charCodeAt(Vn-3)===58&&(ft=hr);case 8:br===111&&(ft=br)}break;case 58:zn+sr+Gn===0&&(wr=Vn);break;case 44:sr+or+zn+Gn===0&&(Nr=1,jt+="\r");break;case 34:case 39:sr===0&&(zn=zn===tn?0:zn===0?tn:zn);break;case 91:zn+sr+or===0&&Gn++;break;case 93:zn+sr+or===0&&Gn--;break;case 41:zn+sr+Gn===0&&or--;break;case 40:if(zn+sr+Gn===0){if(qt===0)switch(2*hr+3*br){case 533:break;default:qt=1}or++}break;case 64:sr+or+zn+Gn+wr+on===0&&(on=1);break;case 42:case 47:if(!(0<zn+Gn+or))switch(sr){case 0:switch(2*tn+3*Bt.charCodeAt(Vn+1)){case 235:sr=47;break;case 220:Cr=Vn,sr=42}break;case 42:tn===47&&hr===42&&Cr+2!==Vn&&(Bt.charCodeAt(Cr+2)===33&&(tr+=Bt.substring(Cr,Vn+1)),jt="",sr=0)}}sr===0&&(Pn+=jt)}br=hr,hr=tn,Vn++}if(0<(Cr=tr.length)){if(Nr=Le,0<te&&($e=_(2,tr,Nr,gt,Xe,Ze,Cr,bn,cr,bn))!==void 0&&(tr=$e).length===0)return xi+tr+Fr;if(tr=Nr.join(",")+"{"+tr+"}",Be*ft!=0){switch(Be!==2||m(tr,2)||(ft=0),ft){case 111:tr=tr.replace(Se,":-moz-$1")+tr;break;case 112:tr=tr.replace(le,"::-webkit-input-$1")+tr.replace(le,"::-moz-$1")+tr.replace(le,":-ms-input-$1")+tr}ft=0}}return xi+tr+Fr}(Qe,St,rt,0,0);return 0<te&&(Ut=_(-2,we,St,St,Xe,Ze,we.length,0,0,0))!==void 0&&(we=Ut),ft=0,Ze=Xe=1,we}var k=/^\0+/g,G=/[\0\r\f]/g,q=/: */g,X=/zoo|gra/,Y=/([,: ])(transform)/g,W=/,\r+?/g,ne=/([\t\r\n ])*\f?&/g,oe=/@(k\w+)\s*(\S*)\s*/,le=/::(place)/g,Se=/:(read-only)/g,be=/[svh]\w+-[tblr]{2}/,Pe=/\(\s*(.*)\s*\)/g,P=/([\s\S]*?);/g,We=/-self|flex-/g,tt=/[^]*?(:[rp][el]a[\w-]+)[^]*/,dt=/stretch|:\s*\w+\-(?:conte|avail)/,Ke=/([^-])(image-set\()/,Ze=1,Xe=1,ft=0,Be=1,Qe=[],Ue=[],te=0,lt=null,_e=0;return T.use=function ke(rt){switch(rt){case void 0:case null:te=Ue.length=0;break;default:if(typeof rt=="function")Ue[te++]=rt;else if(typeof rt=="object")for(var St=0,Ut=rt.length;St<Ut;++St)ke(rt[St]);else _e=0|!!rt}return ke},T.set=E,a!==void 0&&E(a),T}},function(A,n,r){n.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(A,n,r){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BoltLoader",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"BookLoader",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"BoxesLoader",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"CircleLoader",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"FlipFlopLoader",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"ScatterBoxLoader",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(n,"SquircleLoader",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(n,"SunspotLoader",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(n,"ThreeDLoader",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(n,"WifiLoader",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(n,"XlviLoader",{enumerable:!0,get:function(){return G.default}});var a=q(r(25)),c=q(r(30)),h=q(r(31)),f=q(r(32)),m=q(r(33)),b=q(r(34)),_=q(r(35)),E=q(r(44)),T=q(r(45)),k=q(r(46)),G=q(r(47));function q(X){return X&&X.__esModule?X:{default:X}}},function(A,n,r){function a(te){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt})(te)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=function(te){if(te&&te.__esModule)return te;if(te===null||a(te)!=="object"&&typeof te!="function")return{default:te};var lt=E();if(lt&&lt.has(te))return lt.get(te);var _e={},ke=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var rt in te)if(Object.prototype.hasOwnProperty.call(te,rt)){var St=ke?Object.getOwnPropertyDescriptor(te,rt):null;St&&(St.get||St.set)?Object.defineProperty(_e,rt,St):_e[rt]=te[rt]}return _e.default=te,lt&&lt.set(te,_e),_e}(r(0)),h=r(7),f=_(r(1)),m=_(r(14)),b=r(2);function _(te){return te&&te.__esModule?te:{default:te}}function E(){if(typeof WeakMap!="function")return null;var te=new WeakMap;return E=function(){return te},te}function T(){var te=be([`
  display: block;
  width: `,`px;
  height: `,`px;
  background: `,`;
  clip-path: polygon(40% 0%, 100% 0, 65% 40%, 88% 40%, 8% 100%, 36% 50%, 0 50%);
`]);return T=function(){return te},te}function k(){var te=be([`
  display: block;
  position: relative;
  :before {
    content: "";
    position: absolute;
    left: 50%;
    top: 44%;
    width: 112px;
    height: 112px;
    margin: -56px 0 0 -56px;
    background: #cdd9ed;
    filter: blur(124px);
  }
  :after {
    content: "";
    position: absolute;
    left: 50%;
    top: 44%;
    width: 64px;
    height: 64px;
    margin: -32px 0 0 -32px;
    background: `,`;
    z-index: 1;
    filter: blur(60px);
  }
`]);return k=function(){return te},te}function G(){var te=be([`
  --r: 20deg;
  --s: -1;
  right: 0;
`]);return G=function(){return te},te}function q(){var te=be([`
  --r: -20deg;
  left: 0;
`]);return q=function(){return te},te}function X(){var te=be([`
  --r: 40deg;
  right: -24px;
`]);return X=function(){return te},te}function Y(){var te=be([`
  --r: 130deg;
  left: -24px;
`]);return Y=function(){return te},te}function W(){var te=be([`
  --r: 0deg;
  --s: 1;
  top: 30%;
  z-index: 1;
  stroke: #fff;
  stroke-dashoffset: 241px;
  stroke-dasharray: 0px 240px;
  transform: rotate(var(--r)) scaleX(var(--s));
`]);return W=function(){return te},te}function ne(){var te=be([`
  --r: 0deg;
  top: 95%;
  width: 70px;
  height: 3px;
  stroke-dashoffset: 71px;
  stroke-dasharray: 0px 70px;
  transform: rotate(var(--r));
`]);return ne=function(){return te},te}function oe(){var te=be([`
  left: 7px;
  top: 100%;
  width: 112px;
  height: 44px;
  stroke-dashoffset: 179px;
  stroke-dasharray: 0px 178px;
`]);return oe=function(){return te},te}function le(){var te=be([`
  position: absolute;
  display: block;
  stroke-width: 4;
  fill: none;
  stroke-linecap: round;
  stroke: `,`;
`]);return le=function(){return te},te}function Se(){var te=be([`
  width: `,`px;
  height: `,`px;
  position: relative;
  padding: 20px;
  background: `,`;
`]);return Se=function(){return te},te}function be(te,lt){return lt||(lt=te.slice(0)),Object.freeze(Object.defineProperties(te,{raw:{value:Object.freeze(lt)}}))}var Pe=f.default.div(Se(),function(te){return te.bolterWidth},function(te){return te.bolterHeight},function(te){return te.background}),P=f.default.svg(le(),function(te){return te.boltColor}),We=(0,f.default)(P)(oe()),tt=(0,f.default)(P)(ne()),dt=(0,f.default)(P)(W()),Ke=(0,f.default)(tt)(Y()),Ze=(0,f.default)(tt)(X()),Xe=(0,f.default)(dt)(q()),ft=(0,f.default)(dt)(G()),Be=f.default.div(k(),function(te){return te.backgroundBlurColor}),Qe=f.default.span(T(),function(te){return te.bolterWidth},function(te){return te.bolterHeight},function(te){return te.boltColor}),Ue=function(te){var lt=te.className,_e=lt===void 0?"boltloader":lt,ke=te.background,rt=ke===void 0?"transparent":ke,St=te.boltColor,Ut=St===void 0?"#f2de10":St,we=te.backgroundBlurColor,Pt=we===void 0?"#fff9bc":we,gt=te.size,Le=gt===void 0?"64px":gt,Bt=te.desktopSize,bn=Bt===void 0?"":Bt,cr=te.mobileSize,qt=cr===void 0?"":cr,tn=(0,b.useMediaQuery)({query:"(min-width: 1224px)"}),on=(0,b.useMediaQuery)({query:"(max-width: 1224px)"}),jt=0;tn&&(jt=bn!==""?parseFloat(bn):2*parseFloat(Le)),on&&(jt=parseFloat(qt!==""?qt:Le));var $e=parseFloat(jt),Gn=63*$e/64,sr=93*$e/64;return(0,c.useEffect)(function(){(0,m.default)("."+_e).each(function(or){var zn=(0,m.default)(this),hr=(0,m.default)(this).children(".boltloadersparkdiv");zn.addClass("boltloaderanimatedelement");var br=h.gsap.timeline({onComplete:function(){zn.removeClass("boltloaderanimatedelement"),setTimeout(function(){zn.addClass("boltloaderanimatedelement"),br.restart()},400)}}).set(hr,{rotation:360}).to(hr,.7,{y:80,rotation:370}).to(hr,.6,{y:-140,rotation:20}).to(hr,.1,{rotation:-24,y:80}).to(hr,.8,{ease:h.Back.easeOut.config(1.6),rotation:0,y:0})})}),c.default.createElement("div",null,c.default.createElement("style",null,`
          .`.concat(_e,".boltloaderanimatedelement div:before, .").concat(_e,`.boltloaderanimatedelement div:after {
                animation: shine 2s ease; 
            } 
            .`).concat(_e,`.boltloaderanimatedelement div span {
                animation: morph 2s ease;
            }
            .`).concat(_e,`.boltloaderanimatedelement svg.circle {
                animation: circle 0.45s cubic-bezier(0.77, 0, 0.175, 1) forwards 1.3s;
            }
            .`).concat(_e,`.boltloaderanimatedelement svg.line {
                animation: line 0.45s cubic-bezier(0.77, 0, 0.175, 1) forwards 1.3s;
            }
            .`).concat(_e,`.boltloaderanimatedelement svg.white {
                animation: white 0.45s cubic-bezier(0.77, 0, 0.175, 1) forwards 1.45s;
            }
            .`).concat(_e,`.boltloaderanimatedelement svg.white.right {
                animation-delay: 1.6s;
            }
            @keyframes circle {
                100% {
                    stroke-dasharray: 178px 178px;
            }
            }
            @keyframes white {
                100% {
                    stroke-dasharray: 240px 240px;
            }
            }
            @keyframes line {
                100% {
                    stroke-dasharray: 70px 70px;
            }
            }
            @keyframes shine {
                30%, 70% {
                    opacity: 0;
            }
            }
            @keyframes morph {
                12% {
                    clip-path: polygon(40% 5%, 100% 0, 65% 40%, 65% 40%, 8% 100%, 24% 50%, 24% 50%);
            }
                24%, 72% {
                    clip-path: polygon(36% 40%, 82% 40%, 82% 40%, 82% 40%, 36% 71%, 36% 40%, 36% 40%);
            }
                84% {
                    clip-path: polygon(40% 5%, 100% 0, 65% 40%, 65% 40%, 8% 100%, 24% 50%, 24% 50%);
            }
            } 
    `)),c.default.createElement(Pe,{className:_e,background:rt,bolterWidth:Gn,bolterHeight:sr},c.default.createElement(Xe,{boltColor:Ut,viewBox:"0 0 170 57",className:"white left"},c.default.createElement("path",{d:"M36.2701759,17.9733192 C-0.981139498,45.4810755 -7.86361824,57.6618438 15.6227397,54.5156241 C50.8522766,49.7962945 201.109341,31.1461782 161.361488,2"})),c.default.createElement(ft,{boltColor:Ut,viewBox:"0 0 170 57",className:"white right"},c.default.createElement("path",{d:"M36.2701759,17.9733192 C-0.981139498,45.4810755 -7.86361824,57.6618438 15.6227397,54.5156241 C50.8522766,49.7962945 201.109341,31.1461782 161.361488,2"})),c.default.createElement(Be,{className:"boltloadersparkdiv",backgroundBlurColor:Pt},c.default.createElement(Qe,{boltColor:Ut,bolterWidth:Gn,bolterHeight:sr,className:"boltloadersparkdivspan"})),c.default.createElement(We,{boltColor:Ut,viewBox:"0 0 112 44",className:"circle"},c.default.createElement("path",{d:"M96.9355003,2 C109.46067,13.4022454 131.614152,42 56.9906735,42 C-17.6328048,42 1.51790702,13.5493875 13.0513641,2"})),c.default.createElement(Ke,{boltColor:Ut,viewBox:"0 0 70 3",className:"line left"},c.default.createElement("path",{transform:"translate(-2.000000, 0.000000)",d:"M2,1.5 L70,1.5"})),c.default.createElement(Ze,{boltColor:Ut,viewBox:"0 0 70 3",className:"line right"},c.default.createElement("path",{transform:"translate(-2.000000, 0.000000)",d:"M2,1.5 L70,1.5"}))))};n.default=Ue},function(A,n){var r,a,c=A.exports={};function h(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function m(Y){if(r===setTimeout)return setTimeout(Y,0);if((r===h||!r)&&setTimeout)return r=setTimeout,setTimeout(Y,0);try{return r(Y,0)}catch{try{return r.call(null,Y,0)}catch{return r.call(this,Y,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:h}catch{r=h}try{a=typeof clearTimeout=="function"?clearTimeout:f}catch{a=f}})();var b,_=[],E=!1,T=-1;function k(){E&&b&&(E=!1,b.length?_=b.concat(_):T=-1,_.length&&G())}function G(){if(!E){var Y=m(k);E=!0;for(var W=_.length;W;){for(b=_,_=[];++T<W;)b&&b[T].run();T=-1,W=_.length}b=null,E=!1,function(ne){if(a===clearTimeout)return clearTimeout(ne);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(ne);try{a(ne)}catch{try{return a.call(null,ne)}catch{return a.call(this,ne)}}}(Y)}}function q(Y,W){this.fun=Y,this.array=W}function X(){}c.nextTick=function(Y){var W=new Array(arguments.length-1);if(arguments.length>1)for(var ne=1;ne<arguments.length;ne++)W[ne-1]=arguments[ne];_.push(new q(Y,W)),_.length!==1||E||m(G)},q.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=X,c.addListener=X,c.once=X,c.off=X,c.removeListener=X,c.removeAllListeners=X,c.emit=X,c.prependListener=X,c.prependOnceListener=X,c.listeners=function(Y){return[]},c.binding=function(Y){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(Y){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(A,n,r){/** @license React v17.0.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var a=60103,c=60106,h=60107,f=60108,m=60114,b=60109,_=60110,E=60112,T=60113,k=60120,G=60115,q=60116,X=60121,Y=60122,W=60117,ne=60129,oe=60131;if(typeof Symbol=="function"&&Symbol.for){var le=Symbol.for;a=le("react.element"),c=le("react.portal"),h=le("react.fragment"),f=le("react.strict_mode"),m=le("react.profiler"),b=le("react.provider"),_=le("react.context"),E=le("react.forward_ref"),T=le("react.suspense"),k=le("react.suspense_list"),G=le("react.memo"),q=le("react.lazy"),X=le("react.block"),Y=le("react.server.block"),W=le("react.fundamental"),ne=le("react.debug_trace_mode"),oe=le("react.legacy_hidden")}function Se(Be){if(typeof Be=="object"&&Be!==null){var Qe=Be.$$typeof;switch(Qe){case a:switch(Be=Be.type){case h:case m:case f:case T:case k:return Be;default:switch(Be=Be&&Be.$$typeof){case _:case E:case q:case G:case b:return Be;default:return Qe}}case c:return Qe}}}var be=b,Pe=a,P=E,We=h,tt=q,dt=G,Ke=c,Ze=m,Xe=f,ft=T;n.ContextConsumer=_,n.ContextProvider=be,n.Element=Pe,n.ForwardRef=P,n.Fragment=We,n.Lazy=tt,n.Memo=dt,n.Portal=Ke,n.Profiler=Ze,n.StrictMode=Xe,n.Suspense=ft,n.isAsyncMode=function(){return!1},n.isConcurrentMode=function(){return!1},n.isContextConsumer=function(Be){return Se(Be)===_},n.isContextProvider=function(Be){return Se(Be)===b},n.isElement=function(Be){return typeof Be=="object"&&Be!==null&&Be.$$typeof===a},n.isForwardRef=function(Be){return Se(Be)===E},n.isFragment=function(Be){return Se(Be)===h},n.isLazy=function(Be){return Se(Be)===q},n.isMemo=function(Be){return Se(Be)===G},n.isPortal=function(Be){return Se(Be)===c},n.isProfiler=function(Be){return Se(Be)===m},n.isStrictMode=function(Be){return Se(Be)===f},n.isSuspense=function(Be){return Se(Be)===T},n.isValidElementType=function(Be){return typeof Be=="string"||typeof Be=="function"||Be===h||Be===m||Be===ne||Be===f||Be===T||Be===k||Be===oe||typeof Be=="object"&&Be!==null&&(Be.$$typeof===q||Be.$$typeof===G||Be.$$typeof===b||Be.$$typeof===_||Be.$$typeof===E||Be.$$typeof===W||Be.$$typeof===X||Be[0]===Y)},n.typeOf=Se},function(A,n,r){A.exports=r(29)},function(A,n,r){/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var a=typeof Symbol=="function"&&Symbol.for,c=a?Symbol.for("react.element"):60103,h=a?Symbol.for("react.portal"):60106,f=a?Symbol.for("react.fragment"):60107,m=a?Symbol.for("react.strict_mode"):60108,b=a?Symbol.for("react.profiler"):60114,_=a?Symbol.for("react.provider"):60109,E=a?Symbol.for("react.context"):60110,T=a?Symbol.for("react.async_mode"):60111,k=a?Symbol.for("react.concurrent_mode"):60111,G=a?Symbol.for("react.forward_ref"):60112,q=a?Symbol.for("react.suspense"):60113,X=a?Symbol.for("react.suspense_list"):60120,Y=a?Symbol.for("react.memo"):60115,W=a?Symbol.for("react.lazy"):60116,ne=a?Symbol.for("react.block"):60121,oe=a?Symbol.for("react.fundamental"):60117,le=a?Symbol.for("react.responder"):60118,Se=a?Symbol.for("react.scope"):60119;function be(P){if(typeof P=="object"&&P!==null){var We=P.$$typeof;switch(We){case c:switch(P=P.type){case T:case k:case f:case b:case m:case q:return P;default:switch(P=P&&P.$$typeof){case E:case G:case W:case Y:case _:return P;default:return We}}case h:return We}}}function Pe(P){return be(P)===k}n.AsyncMode=T,n.ConcurrentMode=k,n.ContextConsumer=E,n.ContextProvider=_,n.Element=c,n.ForwardRef=G,n.Fragment=f,n.Lazy=W,n.Memo=Y,n.Portal=h,n.Profiler=b,n.StrictMode=m,n.Suspense=q,n.isAsyncMode=function(P){return Pe(P)||be(P)===T},n.isConcurrentMode=Pe,n.isContextConsumer=function(P){return be(P)===E},n.isContextProvider=function(P){return be(P)===_},n.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===c},n.isForwardRef=function(P){return be(P)===G},n.isFragment=function(P){return be(P)===f},n.isLazy=function(P){return be(P)===W},n.isMemo=function(P){return be(P)===Y},n.isPortal=function(P){return be(P)===h},n.isProfiler=function(P){return be(P)===b},n.isStrictMode=function(P){return be(P)===m},n.isSuspense=function(P){return be(P)===q},n.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===f||P===k||P===b||P===m||P===q||P===X||typeof P=="object"&&P!==null&&(P.$$typeof===W||P.$$typeof===Y||P.$$typeof===_||P.$$typeof===E||P.$$typeof===G||P.$$typeof===oe||P.$$typeof===le||P.$$typeof===Se||P.$$typeof===ne)},n.typeOf=be},function(A,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(r(0)),c=f(r(1)),h=r(2);function f(te){return te&&te.__esModule?te:{default:te}}function m(){var te=le([`
  display: block;
  top: 100%;
  font-size: `,`px;
  margin-top: 20px;
  text-align: center;
  color: `,`;
`]);return m=function(){return te},te}function b(){var te=le([`
  --o: 1;
`]);return b=function(){return te},te}function _(){var te=le([`
  @keyframes page-5 {
    45% {
      transform: rotateY(180deg);
      opacity: 0;
    }
    65% {
      opacity: 1;
    }
    80%,
    100% {
      opacity: 0;
    }
    95%,
    100% {
      transform: rotateY(0deg);
    }
  }
  --c: `,`;
  animation-name: page-5;
`]);return _=function(){return te},te}function E(){var te=le([`
  @keyframes page-4 {
    30% {
      transform: rotateY(180deg);
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    65%,
    100% {
      opacity: 0;
    }
    80%,
    100% {
      transform: rotateY(0deg);
    }
  }
  --c: `,`;
  animation-name: page-4;
`]);return E=function(){return te},te}function T(){var te=le([`
  @keyframes page-3 {
    15% {
      transform: rotateY(180deg);
      opacity: 0;
    }
    35% {
      opacity: 1;
    }
    50%,
    100% {
      opacity: 0;
    }
    65%,
    100% {
      transform: rotateY(0deg);
    }
  }
  --c: `,`;
  animation-name: page-3;
`]);return T=function(){return te},te}function k(){var te=le([`
  @keyframes page-2 {
    0% {
      transform: rotateY(180deg);
      opacity: 0;
    }
    20% {
      opacity: 1;
    }
    35%,
    100% {
      opacity: 0;
    }
    50%,
    100% {
      transform: rotateY(0deg);
    }
  }
  --c: `,`;
  animation-name: page-2;
`]);return k=function(){return te},te}function G(){var te=le([`
  --r: 0deg;
  --o: 1;
`]);return G=function(){return te},te}function q(){var te=le([`
  --r: 180deg;
  --o: 0;
  --c: `,`;
  position: absolute;
  top: `,`px;
  left: `,`px;
  transform-origin: 100% 50%;
  color: var(--c);
  opacity: var(--o);
  transform: rotateY(var(--r));
  animation: `,` ease infinite;
`]);return q=function(){return te},te}function X(){var te=le([`
  width: `,`px;
  height: `,`px;
  display: block;
`]);return X=function(){return te},te}function Y(){var te=le([`
  margin: 0;
  padding: 0;
  list-style: none;
  position: relative;
`]);return Y=function(){return te},te}function W(){var te=le([`
  width: 100%;
  height: 100%;
  border-radius: `,`px;
  position: relative;
  z-index: 1;
  perspective: 600px;
  box-shadow: 0 4px 6px `,`;
  background-image: `,`;
`]);return W=function(){return te},te}function ne(){var te=le([`
  width: `,`px;
  height: `,`px;
  position: relative;
  &:before {
    --r: -6deg;
    content: "";
    position: absolute;
    width: `,`px;
    box-shadow: 0 `,`px
      `,"px ",`;
    transform: rotate(var(--r));
  }
  &:after {
    --r: -6deg;
    content: "";
    position: absolute;
    box-shadow: 0 `,`px
      `,"px ",`;
    transform: rotate(var(--r));
    --r: 6deg;
  }
`]);return ne=function(){return te},te}function oe(){var te=le([`
  -webkit-font-smoothing: antialiased;
  display: flex;
  font-family: "Roboto", Arial;
  padding: 20px;
`]);return oe=function(){return te},te}function le(te,lt){return lt||(lt=te.slice(0)),Object.freeze(Object.defineProperties(te,{raw:{value:Object.freeze(lt)}}))}var Se=c.default.div(oe()),be=c.default.div(ne(),function(te){return te.sizeParentWidth},function(te){return te.sizeParentHeight},function(te){return te.sizeParentBeforeWidth},function(te){return te.sizeParentShadow1},function(te){return te.sizeParentShadow2},function(te){return te.shadowColor},function(te){return te.sizeParentShadow1},function(te){return te.sizeParentShadow2},function(te){return te.shadowColor}),Pe=c.default.div(W(),function(te){return te.sizeDivBorderRadius},function(te){return te.shadowColor},function(te){return te.background}),P=c.default.ul(Y()),We=c.default.svg(X(),function(te){return te.sizeSVGWidth},function(te){return te.sizeSVGHeight}),tt=c.default.li(q(),function(te){return te.pageColor},function(te){return te.sizeLi},function(te){return te.sizeLi},function(te){return te.duration}),dt=(0,c.default)(tt)(G()),Ke=(0,c.default)(tt)(k(),function(te){return te.foldPageColor}),Ze=(0,c.default)(tt)(T(),function(te){return te.foldPageColor}),Xe=(0,c.default)(tt)(E(),function(te){return te.foldPageColor}),ft=(0,c.default)(tt)(_(),function(te){return te.foldPageColor}),Be=(0,c.default)(tt)(b()),Qe=c.default.span(m(),function(te){return te.sizeText},function(te){return te.textColor}),Ue=function(te){var lt=te.className,_e=lt===void 0?"bookloader":lt,ke=te.text,rt=ke===void 0?"Loading...":ke,St=te.background,Ut=St===void 0?"linear-gradient(135deg, #23c4f8, #275efe)":St,we=te.shadowColor,Pt=we===void 0?"rgba(39, 94, 254, .28)":we,gt=te.textColor,Le=gt===void 0?"#6c7486":gt,Bt=te.pageColor,bn=Bt===void 0?"rgba(255, 255, 255, .36)":Bt,cr=te.foldPageColor,qt=cr===void 0?"rgba(255, 255, 255, .52)":cr,tn=te.duration,on=tn===void 0?"3s":tn,jt=te.size,$e=jt===void 0?"64px":jt,Gn=te.desktopSize,sr=Gn===void 0?"":Gn,or=te.mobileSize,zn=or===void 0?"":or,hr=(0,h.useMediaQuery)({query:"(min-width: 1224px)"}),br=(0,h.useMediaQuery)({query:"(max-width: 1224px)"}),wr=0;hr&&(wr=sr!==""?parseFloat(sr):2*parseFloat($e)),br&&(wr=parseFloat(zn!==""?zn:$e));var Vn=parseFloat(wr),Nr=Vn/64,zr=120*Vn/64,Cr=200*Vn/64,Zr=140*Vn/64,Ir=16*Vn/64,Pn=12*Vn/64,tr=13*Vn/64,Fr=10*Vn/64,xi=90*Vn/64,Yi=120*Vn/64,Zi=1.5*Nr*20/2;return Nr===1&&(Zi=14),a.default.createElement(Se,{className:_e},a.default.createElement(be,{sizeParentShadow1:Ir,sizeParentShadow2:Pn,sizeParentBeforeWidth:zr,sizeParentWidth:Cr,sizeParentHeight:Zr,shadowColor:Pt,className:"loader"},a.default.createElement(Pe,{sizeDivBorderRadius:tr,shadowColor:Pt,background:Ut},a.default.createElement(P,null,a.default.createElement(dt,{sizeLi:Fr,pageColor:bn,duration:on},a.default.createElement(We,{sizeSVGWidth:xi,sizeSVGHeight:Yi,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))),a.default.createElement(Ke,{sizeLi:Fr,pageColor:bn,duration:on,foldPageColor:qt},a.default.createElement(We,{sizeSVGWidth:xi,sizeSVGHeight:Yi,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))),a.default.createElement(Ze,{sizeLi:Fr,pageColor:bn,duration:on,foldPageColor:qt},a.default.createElement(We,{sizeSVGWidth:xi,sizeSVGHeight:Yi,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))),a.default.createElement(Xe,{sizeLi:Fr,pageColor:bn,duration:on,foldPageColor:qt},a.default.createElement(We,{sizeSVGWidth:xi,sizeSVGHeight:Yi,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))),a.default.createElement(ft,{sizeLi:Fr,pageColor:bn,duration:on,foldPageColor:qt},a.default.createElement(We,{sizeSVGWidth:xi,sizeSVGHeight:Yi,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))),a.default.createElement(Be,{sizeLi:Fr,pageColor:bn,duration:on},a.default.createElement(We,{sizeSVGWidth:xi,sizeSVGHeight:Yi,viewBox:"0 0 90 120",fill:"currentColor"},a.default.createElement("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}))))),a.default.createElement(Qe,{sizeText:Zi,textColor:Le},rt)))};n.default=Ue},function(A,n,r){function a(oe){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le})(oe)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c,h=(c=r(0))&&c.__esModule?c:{default:c},f=function(oe){if(oe&&oe.__esModule)return oe;if(oe===null||a(oe)!=="object"&&typeof oe!="function")return{default:oe};var le=_();if(le&&le.has(oe))return le.get(oe);var Se={},be=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Pe in oe)if(Object.prototype.hasOwnProperty.call(oe,Pe)){var P=be?Object.getOwnPropertyDescriptor(oe,Pe):null;P&&(P.get||P.set)?Object.defineProperty(Se,Pe,P):Se[Pe]=oe[Pe]}return Se.default=oe,le&&le.set(oe,Se),Se}(r(1)),m=r(2),b=r(20);function _(){if(typeof WeakMap!="function")return null;var oe=new WeakMap;return _=function(){return oe},oe}function E(){var oe=q([`
  --background: `,`;
  --top: `,`;
  --right: `,`;
  --bottom: `,`;
  --left: `,`;
  --translateZ: `,`;
  --rotateY: `,`;
  --rotateX: `,`;
  position: absolute;
  width: 100%;
  height: 100%;
  background: var(--background);
  top: var(--top);
  right: var(--right);
  bottom: var(--bottom);
  left: var(--left);
  transform: rotateY(var(--rotateY)) rotateX(var(--rotateX))
    translateZ(var(--translateZ));
`]);return E=function(){return oe},oe}function T(){var oe=q([`
  --size: `,`px;
  --duration: 800ms;
  width: var(--size);
  height: var(--size);
  top: 0;
  left: 0;
  position: absolute;
  transform-style: preserve-3d;
  transform: translate(
    `,`%,
    `,`%
  );
  animation: `,` var(--duration) linear
    infinite;

  & > div {
    --background: `,`;
    --top: auto;
    --right: auto;
    --bottom: auto;
    --left: auto;
    --translateZ: calc(var(--size) / 2);
    --rotateY: 0deg;
    --rotateX: 0deg;
    position: absolute;
    width: 100%;
    height: 100%;
    background: var(--background);
    top: var(--top);
    right: var(--right);
    bottom: var(--bottom);
    left: var(--left);
    transform: rotateY(var(--rotateY)) rotateX(var(--rotateX))
      translateZ(var(--translateZ));
  }

  & > div:nth-child(1) {
    --top: 0;
    --left: 0;
  }
  & > div:nth-child(2) {
    --background: `,`;
    --right: 0;
    --rotateY: 90deg;
  }
  & > div:nth-child(3) {
    --background: `,`;
    --rotateX: -90deg;
  }
  & > div:nth-child(4) {
    --background: `,`;
    --top: 0;
    --left: 0;
    --translateZ: calc(var(--size) * 3 * -1);
  }
`]);return T=function(){return oe},oe}function k(){var oe=q([`
  --size: `,`px;
  --duration: 800ms;
  height: calc(var(--size) * 2);
  width: calc(var(--size) * 3);
  position: relative;
  transform-style: preserve-3d;
  transform-origin: 50% 50%;
  margin-bottom: `,`px;
  // margin-top: calc(var(--size) * 1.5 * -1);
  padding: 70px;
  transform: rotateX(60deg) rotateZ(45deg) rotateY(0deg) translateZ(0px);
`]);return k=function(){return oe},oe}function G(){var oe=q([`
0%{
    transform: translate(`,"%, ",`%);
}
50% {
    transform: translate(`,"%, ",`%);
}
100% {
    transform: translate(`,"%, ",`%);
}
`]);return G=function(){return oe},oe}function q(oe,le){return le||(le=oe.slice(0)),Object.freeze(Object.defineProperties(oe,{raw:{value:Object.freeze(le)}}))}var X=f.default.div(k(),function(oe){return oe.sizeBoxes},function(oe){return oe.sizeMarginBottom}),Y=f.default.div(T(),function(oe){return oe.sizeBoxes},function(oe){return oe.boxTransforms[0]},function(oe){return oe.boxTransforms[1]},function(oe){return le=oe.animParams,(0,f.keyframes)(G(),le.start[0],le.end[0],le.start[1],le.end[1],le.start[2],le.end[2]);var le},function(oe){return oe.colors.main},function(oe){return oe.colors.right},function(oe){return oe.colors.left},function(oe){return oe.colors.shadow}),W=f.default.div(E(),function(oe){return oe.boxDivParams.background},function(oe){return oe.boxDivParams.top},function(oe){return oe.boxDivParams.right},function(oe){return oe.boxDivParams.bottom},function(oe){return oe.boxDivParams.left},function(oe){return oe.boxDivParams.translateZ},function(oe){return oe.boxDivParams.rotateX},function(oe){return oe.boxDivParams.rotateY}),ne=function(oe){var le=oe.className,Se=le===void 0?"boxesloader":le,be=oe.boxColor,Pe=be===void 0?"#5C8DF6":be,P=oe.shadowColor,We=P===void 0?"#dbe3f4":P,tt=oe.duration,dt=tt===void 0?800:tt,Ke=oe.size,Ze=Ke===void 0?"64px":Ke,Xe=oe.desktopSize,ft=Xe===void 0?"":Xe,Be=oe.mobileSize,Qe=Be===void 0?"":Be,Ue=(0,m.useMediaQuery)({query:"(min-width: 1224px)"}),te=(0,m.useMediaQuery)({query:"(max-width: 1224px)"}),lt=0;Ue&&(lt=ft!==""?parseFloat(ft):2*parseFloat(Ze)),te&&(lt=parseFloat(Qe!==""?Qe:Ze));var _e=parseFloat(lt),ke=32*_e/64,rt=50*_e/64,St=(0,b.darken)(.15,Pe),Ut=(0,b.darken)(.05,Pe),we={main:Pe,right:St,left:Ut,shadow:We},Pt=[{start:[100,100,200],end:[0,0,0]},{start:[0,0,100],end:[100,0,0]},{start:[100,100,0],end:[100,100,100]},{start:[200,200,100],end:[0,100,100]}],gt=[[100,0],[0,100],[100,100],[200,0]],Le=[{top:"0",right:"auto",bottom:"auto",left:"0",background:Pe,rotateX:"0deg",rotateY:"0deg",translateZ:"calc(var(--size) / 2)"},{top:"auto",right:"0",bottom:"auto",left:"auto",background:St,rotateX:"0deg",rotateY:"90deg",translateZ:"calc(var(--size) / 2)"},{top:"auto",right:"auto",bottom:"auto",left:"auto",background:Ut,rotateX:"-90deg",rotateY:"0deg",translateZ:"calc(var(--size) / 2)"},{top:"0",right:"auto",bottom:"auto",left:"0",background:We,rotateX:"0deg",rotateY:"0deg",translateZ:"calc(var(--size) * 3 * -1)"}];return h.default.createElement(X,{sizeMarginBottom:rt,duration:dt,sizeBoxes:ke,className:Se},h.default.createElement(Y,{duration:dt,colors:we,sizeBoxes:ke,animParams:Pt[0],boxTransforms:gt[0]},h.default.createElement(W,{boxDivParams:Le[0]}),h.default.createElement(W,{boxDivParams:Le[1]}),h.default.createElement(W,{boxDivParams:Le[2]}),h.default.createElement(W,{boxDivParams:Le[3]})),h.default.createElement(Y,{duration:dt,colors:we,sizeBoxes:ke,animParams:Pt[1],boxTransforms:gt[1]},h.default.createElement(W,{boxDivParams:Le[0]}),h.default.createElement(W,{boxDivParams:Le[1]}),h.default.createElement(W,{boxDivParams:Le[2]}),h.default.createElement(W,{boxDivParams:Le[3]})),h.default.createElement(Y,{duration:dt,colors:we,sizeBoxes:ke,animParams:Pt[2],boxTransforms:gt[2]},h.default.createElement(W,{boxDivParams:Le[0]}),h.default.createElement(W,{boxDivParams:Le[1]}),h.default.createElement(W,{boxDivParams:Le[2]}),h.default.createElement(W,{boxDivParams:Le[3]})),h.default.createElement(Y,{duration:dt,colors:we,sizeBoxes:ke,animParams:Pt[3],boxTransforms:gt[3]},h.default.createElement(W,{boxDivParams:Le[0]}),h.default.createElement(W,{boxDivParams:Le[1]}),h.default.createElement(W,{boxDivParams:Le[2]}),h.default.createElement(W,{boxDivParams:Le[3]})))};n.default=ne},function(A,n,r){function a(T){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(T)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=_(r(0)),h=_(r(10)),f=r(7),m=r(2);function b(){if(typeof WeakMap!="function")return null;var T=new WeakMap;return b=function(){return T},T}function _(T){if(T&&T.__esModule)return T;if(T===null||a(T)!=="object"&&typeof T!="function")return{default:T};var k=b();if(k&&k.has(T))return k.get(T);var G={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in T)if(Object.prototype.hasOwnProperty.call(T,X)){var Y=q?Object.getOwnPropertyDescriptor(T,X):null;Y&&(Y.get||Y.set)?Object.defineProperty(G,X,Y):G[X]=T[X]}return G.default=T,k&&k.set(T,G),G}var E=function(T){var k=T.className,G=k===void 0?"circleloader":k,q=T.meshColor,X=q===void 0?"#6366F1":q,Y=T.lightColor,W=Y===void 0?"#FFFFFF":Y,ne=T.lightIntensity,oe=ne===void 0?.4:ne,le=T.ambientLightColor,Se=le===void 0?"#E8EBFB":le,be=T.duration,Pe=be===void 0?1:be,P=T.size,We=P===void 0?"64px":P,tt=T.desktopSize,dt=tt===void 0?"":tt,Ke=T.mobileSize,Ze=Ke===void 0?"":Ke,Xe=(0,m.useMediaQuery)({query:"(min-width: 1224px)"}),ft=(0,m.useMediaQuery)({query:"(max-width: 1224px)"}),Be=0;Xe&&(Be=dt!==""?parseFloat(dt):2*parseFloat(We)),ft&&(Be=parseFloat(Ze!==""?Ze:We));var Qe=220*parseFloat(Be)/64;return(0,c.useEffect)(function(){var Ue=Qe,te=Qe,lt=function(cr){var qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return qt.querySelector(cr)}("."+G),_e=new h.WebGLRenderer({canvas:lt,context:lt.getContext("webgl2"),antialias:!0,alpha:!0}),ke=function(){var cr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:13,qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,tn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:6,on=arguments.length>3&&arguments[3]!==void 0?arguments[3]:60,jt=new h.Shape,$e=new h.Path;jt.moveTo(qt,0),jt.absarc(0,0,qt,0,2*Math.PI,!1),$e.moveTo(cr,0),$e.absarc(0,0,cr,0,2*Math.PI,!0),jt.holes.push($e);var Gn=new h.ExtrudeGeometry(jt,{depth:tn,bevelEnabled:!1,curveSegments:on}),sr=new h.MeshLambertMaterial({color:X}),or=new h.Mesh(Gn,sr),zn=new Proxy({z:null,s:null},{set:function(hr,br,wr){return hr[br]=wr,hr.z!==null&&(or.position.z=hr.z),hr.s!==null&&(or.scale.x=hr.s,or.scale.y=hr.s),!0},get:function(hr,br){return hr[br]}});return or.castShadow=!0,or.receiveShadow=!0,{geometry:Gn,object:or,proxy:zn}};_e.setSize(Ue,te),_e.setPixelRatio(2),_e.shadowMap.enabled=!0,_e.shadowMap.type=h.PCFSoftShadowMap;var rt=new h.Scene,St=new h.PerspectiveCamera(17,Ue/te,.1,1e3);St.position.z=100,St.position.y=-160,St.rotation.x=h.Math.degToRad(60);var Ut=new h.PlaneGeometry(200,200),we=new h.ShadowMaterial;we.opacity=.1;var Pt=new h.Mesh(Ut,we);Pt.position.y=6,Pt.receiveShadow=!0,rt.add(Pt);var gt=new h.DirectionalLight(W,oe);gt.position.set(100,100,200),gt.castShadow=!0,gt.shadow.camera.left=-40,gt.shadow.camera.right=40,gt.shadow.camera.top=40,gt.shadow.camera.bottom=-40,gt.shadow.radius=8,rt.add(gt),rt.add(new h.AmbientLight(Se));var Le=ke(),Bt=ke(),bn=ke();rt.add(Le.object),rt.add(Bt.object),rt.add(bn.object),Le.proxy.s=.8,Bt.proxy.z=9,Bt.proxy.s=.55,bn.proxy.z=18,bn.proxy.s=.35,f.gsap.to(Le.proxy,{repeat:-1,duration:Pe,keyframes:[{z:9,s:.95},{z:18,s:.35},{z:0,s:.3},{z:0,s:.8,delay:-.1}]}),f.gsap.to(Bt.proxy,{repeat:-1,duration:Pe,keyframes:[{z:10,s:.5},{z:0,s:.5},{z:4,s:.65},{z:8,s:.55}]}),f.gsap.to(bn.proxy,{repeat:-1,duration:Pe,keyframes:[{z:0,s:.3},{z:0,s:.8,delay:-.1},{z:9,s:.95},{z:18,s:.35}]}),function cr(){requestAnimationFrame(cr),_e.render(rt,St)}()},[]),c.default.createElement("canvas",{className:G})};n.default=E},function(A,n,r){function a(P){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(We){return typeof We}:function(We){return We&&typeof Symbol=="function"&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We})(P)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c,h=T(r(0)),f=T(r(10)),m=r(7),b=(c=r(1))&&c.__esModule?c:{default:c},_=r(2);function E(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return E=function(){return P},P}function T(P){if(P&&P.__esModule)return P;if(P===null||a(P)!=="object"&&typeof P!="function")return{default:P};var We=E();if(We&&We.has(P))return We.get(P);var tt={},dt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ke in P)if(Object.prototype.hasOwnProperty.call(P,Ke)){var Ze=dt?Object.getOwnPropertyDescriptor(P,Ke):null;Ze&&(Ze.get||Ze.set)?Object.defineProperty(tt,Ke,Ze):tt[Ke]=P[Ke]}return tt.default=P,We&&We.set(P,tt),tt}function k(){var P=W([`
  transform: translateX(calc(var(--x-l) * -1px));
`]);return k=function(){return P},P}function G(){var P=W([`
  transform: translateX(calc(var(--x-f) * 1px));
`]);return G=function(){return P},P}function q(){var P=W([`
  display: block;
  font-family: "Roboto", Arial;
  font-size: `,`px;
  font-weight: 900;
  color: `,`;
  letter-spacing: 4px;
`]);return q=function(){return P},P}function X(){var P=W([`
  display: block;
  width: `,`px;
  height: `,`px;
  transform: translateY(-1px);
`]);return X=function(){return P},P}function Y(){var P=W([`
  display: flex;
  align-items: center;
`]);return Y=function(){return P},P}function W(P,We){return We||(We=P.slice(0)),Object.freeze(Object.defineProperties(P,{raw:{value:Object.freeze(We)}}))}var ne=b.default.div(Y()),oe=b.default.canvas(X(),function(P){return P.sizeRing},function(P){return P.sizeRing}),le=b.default.span(q(),function(P){return P.sizeFont},function(P){return P.textColor}),Se=(0,b.default)(le)(G()),be=(0,b.default)(le)(k()),Pe=function(P){var We=P.className,tt=We===void 0?"flipfloploader":We,dt=P.textColor,Ke=dt===void 0?"#4F46E5":dt,Ze=P.ringColor,Xe=Ze===void 0?"#4F46E5":Ze,ft=P.ringShiness,Be=ft===void 0?20:ft,Qe=P.ringOpacity,Ue=Qe===void 0?.96:Qe,te=P.ringTransparency,lt=te===void 0||te,_e=P.ringLightColor,ke=_e===void 0?"#FFFFFF":_e,rt=P.ringLightIntensity,St=rt===void 0?0:rt,Ut=P.ringAmbientLightColor,we=Ut===void 0?"#eef4ff":Ut,Pt=P.textBeforeRing,gt=Pt===void 0?"FL":Pt,Le=P.textAfterRing,Bt=Le===void 0?"P...":Le,bn=P.size,cr=bn===void 0?"64px":bn,qt=P.desktopSize,tn=qt===void 0?"":qt,on=P.mobileSize,jt=on===void 0?"":on,$e=(0,_.useMediaQuery)({query:"(min-width: 1224px)"}),Gn=(0,_.useMediaQuery)({query:"(max-width: 1224px)"}),sr=0;$e&&(sr=tn!==""?parseFloat(tn):2*parseFloat(cr)),Gn&&(sr=parseFloat(jt!==""?jt:cr));var or=parseFloat(sr),zn=40*or/64,hr=32*or/64,br=8*or/64,wr=5*or/64,Vn=14*or/64,Nr=12*or/64;return(0,h.useEffect)(function(){var zr=document.querySelector(".flipflop-loader-canvas"),Cr=new f.WebGLRenderer({canvas:zr,context:zr.getContext("webgl2"),antialias:!0,alpha:!0});Cr.setSize(zn,zn),Cr.setPixelRatio(8),Cr.shadowMap.enabled=!0;var Zr=new f.Scene,Ir=new f.PerspectiveCamera(45,1,.1,1e3);Ir.position.z=89;var Pn=function(Ai,Gs,ji,ar){var aa={depth:ji,bevelEnabled:!1,curveSegments:ar},ls=new f.Shape;ls.moveTo(Gs,0),ls.absarc(0,0,Gs,0,2*Math.PI,!1);var Ui=new f.Path;return Ui.moveTo(Ai,0),Ui.absarc(0,0,Ai,0,2*Math.PI,!0),ls.holes.push(Ui),new f.ExtrudeGeometry(ls,aa)}(12,20,9,60);Pn.translate(0,0,-4.5);var tr=new f.MeshPhongMaterial({color:Xe,shininess:Be,opacity:Ue,transparent:lt}),Fr=new f.Mesh(Pn,tr);Zr.add(Fr);var xi=new f.DirectionalLight(ke,St);xi.position.set(0,40,80),xi.castShadow=!0,Zr.add(xi);var Yi=new f.DirectionalLight(ke,St);Yi.position.set(0,20,0),Yi.castShadow=!0,Zr.add(Yi);var Zi=new f.DirectionalLight(ke,St);Zi.position.set(0,-40,80),Zi.castShadow=!0,Zr.add(Zi),Zr.add(new f.AmbientLight(we));var Sr=document.getElementsByClassName(tt)[0],ai={xf:br,xl:wr};console.log(Sr),new m.gsap.timeline({repeat:-1,yoyo:!0,onUpdate:function(){Sr.style.setProperty("--x-f",ai.xf),Sr.style.setProperty("--x-l",ai.xl)},repeatDelay:.32}).to(ai,1.6,{ease:m.Elastic.easeInOut.config(1.2,.5),xf:Vn,xl:Nr}).to(Fr.rotation,1.6,{ease:m.Elastic.easeInOut.config(1.2,.5),x:f.Math.degToRad(90),y:f.Math.degToRad(90)},0),function Ai(){requestAnimationFrame(Ai),Cr.render(Zr,Ir)}()}),h.default.createElement(ne,{className:tt},h.default.createElement(Se,{sizeFont:hr,textColor:Ke},gt),h.default.createElement(oe,{sizeRing:zn,className:"flipflop-loader-canvas"}),h.default.createElement(be,{sizeFont:hr,textColor:Ke},Bt))};n.default=Pe},function(A,n,r){function a(Le){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Bt){return typeof Bt}:function(Bt){return Bt&&typeof Symbol=="function"&&Bt.constructor===Symbol&&Bt!==Symbol.prototype?"symbol":typeof Bt})(Le)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c,h=(c=r(0))&&c.__esModule?c:{default:c},f=function(Le){if(Le&&Le.__esModule)return Le;if(Le===null||a(Le)!=="object"&&typeof Le!="function")return{default:Le};var Bt=b();if(Bt&&Bt.has(Le))return Bt.get(Le);var bn={},cr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var qt in Le)if(Object.prototype.hasOwnProperty.call(Le,qt)){var tn=cr?Object.getOwnPropertyDescriptor(Le,qt):null;tn&&(tn.get||tn.set)?Object.defineProperty(bn,qt,tn):bn[qt]=Le[qt]}return bn.default=Le,Bt&&Bt.set(Le,bn),bn}(r(1)),m=r(20);function b(){if(typeof WeakMap!="function")return null;var Le=new WeakMap;return b=function(){return Le},Le}function _(){var Le=tt([`
  --x: -240px;
  --y: 200px;
  left: 58px;
  top: 87px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return _=function(){return Le},Le}function E(){var Le=tt([`
  --x: -260px;
  --y: 120px;
  left: 91px;
  top: 76px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return E=function(){return Le},Le}function T(){var Le=tt([`
  --x: -220px;
  --y: -120px;
  left: 25px;
  top: 76px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return T=function(){return Le},Le}function k(){var Le=tt([`
  --x: 60px;
  --y: 200px;
  left: 58px;
  top: 132px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return k=function(){return Le},Le}function G(){var Le=tt([`
  --x: 280px;
  --y: -40px;
  left: 91px;
  top: 120px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return G=function(){return Le},Le}function q(){var Le=tt([`
  --x: 120px;
  --y: -190px;
  left: 58px;
  top: 64px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return q=function(){return Le},Le}function X(){var Le=tt([`
  --x: -260px;
  --y: 120px;
  left: 25px;
  top: 120px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return X=function(){return Le},Le}function Y(){var Le=tt([`
  --x: -220px;
  --y: -120px;
  left: 58px;
  top: 108px;
  animation-name: `,`;
  & > div {
    animation-name: `,`;
  }
`]);return Y=function(){return Le},Le}function W(){var Le=tt([`
  --x: 0px;
  --y: 0px;
  position: absolute;
  animation: var(--duration) linear forwards infinite;
  transform: translate(var(--x), var(--y));
  & > div {
    background-color: var(--primary);
    width: 48px;
    height: 48px;
    position: relative;
    transform-style: preserve-3d;
    animation: var(--duration) ease forwards infinite;
    transform: rotateY(-47deg) rotateX(-15deg) rotateZ(15deg) scale(0);
  }
  & > div:before,
  & > div:after {
    --rx: 90deg;
    --ry: 0deg;
    --z: 24px;
    --y: -24px;
    --x: 0;
    content: "";
    position: absolute;
    background-color: inherit;
    width: inherit;
    height: inherit;
    transform: rotateX(var(--rx)) rotateY(var(--ry))
      translate(var(--x), var(--y)) translateZ(var(--z));
    filter: brightness(var(--b, 1.2));
  }
  & > div:after {
    --rx: 0deg;
    --ry: 90deg;
    --x: 24px;
    --y: 0;
    --b: 1.4;
  }
`]);return W=function(){return Le},Le}function ne(){var Le=tt([`
  position: absolute;
  left: -50px;
  bottom: -120px;
  transform-style: preserve-3d;
  transform: rotateY(-47deg) rotateX(-15deg) rotateZ(15deg) scale(1);
`]);return ne=function(){return Le},Le}function oe(){var Le=tt([`
  transform: rotateX(90deg) rotateY(0deg) translate(-48px, -120px)
    translateZ(100px) scale(0);
  width: 200px;
  height: 200px;
  background: var(--primary);
  background: linear-gradient(
    45deg,
    var(--primary) 0%,
    var(--primary) 50%,
    var(--primary-light) 50%,
    var(--primary-light) 100%
  );
  transform-style: preserve-3d;
  animation: `,` var(--duration) linear forwards infinite;
  :before,
  :after {
    --rx: 90deg;
    --ry: 0deg;
    --x: 44px;
    --y: 162px;
    --z: -50px;
    content: "";
    width: 156px;
    height: 300px;
    opacity: 0;
    background: linear-gradient(var(--primary), var(--primary-rgba));
    position: absolute;
    transform: rotateX(var(--rx)) rotateY(var(--ry))
      translate(var(--x), var(--y)) translateZ(var(--z));
    animation: `,` var(--duration) linear forwards infinite;
  }
  :after {
    --rx: 90deg;
    --ry: 90deg;
    --x: 0;
    --y: 177px;
    --z: 150px;
  }
`]);return oe=function(){return Le},Le}function le(){var Le=tt([`
  --background: `,`; //#121621;
  --duration: `,`s;
  --primary: `,`; //rgba(39, 94, 254, 1);
  --primary-light: `,`; //#2f71ff;
  --primary-rgba: `,`00; //rgba(39, 94, 254, 0);
  width: 200px;
  height: 320px;
  position: relative;
  transform-style: preserve-3d;
  @media (max-width: 480px) {
    zoom: 0.44;
  }
  :before,
  :after {
    --r: 20.5deg;
    content: "";
    width: 320px;
    height: 140px;
    position: absolute;
    right: 32%;
    bottom: -11px;
    background: var(--background);
    transform: translateZ(200px) rotate(var(--r));
    animation: `,` var(--duration) linear forwards infinite;
  }
  :after {
    --r: -20.5deg;
    right: auto;
    left: 32%;
  }
`]);return le=function(){return Le},Le}function Se(){var Le=tt([`
0%, 65% {
    opacity: 0;
}
66%, 100% {
    opacity: 1;
}
`]);return Se=function(){return Le},Le}function be(){var Le=tt([`
0%, 70% {
    opacity: 0;
}
75%, 87% {
    opacity: 0.2;
}
100% {
    opacity: 0;
}
`]);return be=function(){return Le},Le}function Pe(){var Le=tt([`
0%, 65% {
    transform: rotateX(90deg) rotateY(0deg) translate(-48px, -120px) translateZ(100px) scale(0);
}
75%, 90% {
    transform: rotateX(90deg) rotateY(0deg) translate(-48px, -120px) translateZ(100px) scale(1);
}
100% {
    transform: rotateX(90deg) rotateY(0deg) translate(-48px, -120px) translateZ(100px) scale(0);
}
`]);return Pe=function(){return Le},Le}function P(){var Le=tt([`
`,`% {
    transform: rotateY(-47deg) rotateX(-15deg) rotateZ(15deg) scale(0);
}
`,`%, 100% {
    transform: rotateY(-47deg) rotateX(-15deg) rotateZ(15deg) scale(1);
}
`]);return P=function(){return Le},Le}function We(){var Le=tt([`
`,`% {
    transform: translate(var(--x), var(--y));
}
`,`%, 52% {
    transform: translate(0, 0);
}
80% {
    transform: translate(0, -32px);
}
90%, 100% {
    transform: translate(0, 188px);
}
`]);return We=function(){return Le},Le}function tt(Le,Bt){return Bt||(Bt=Le.slice(0)),Object.freeze(Object.defineProperties(Le,{raw:{value:Object.freeze(Bt)}}))}var dt=function(Le){return(0,f.keyframes)(We(),Le[0],Le[1])},Ke=function(Le){return(0,f.keyframes)(P(),Le[0],Le[1])},Ze=(0,f.keyframes)(Pe()),Xe=(0,f.keyframes)(be()),ft=(0,f.keyframes)(Se()),Be=f.default.div(le(),function(Le){return Le.background},function(Le){return Le.duration},function(Le){return Le.primaryColor},function(Le){return Le.primary},function(Le){return Le.primaryRGBA},ft),Qe=f.default.div(oe(),Ze,Xe),Ue=f.default.div(ne()),te=f.default.div(W()),lt=(0,f.default)(te)(Y(),function(Le){return dt(Le.boxMoveParams)},function(Le){return Ke(Le.boxScaleParams)}),_e=(0,f.default)(te)(X(),function(Le){return dt(Le.boxMoveParams)},function(Le){return Ke(Le.boxScaleParams)}),ke=(0,f.default)(te)(q(),function(Le){return dt(Le.boxMoveParams)},function(Le){return Ke(Le.boxScaleParams)}),rt=(0,f.default)(te)(G(),function(Le){return dt(Le.boxMoveParams)},function(Le){return Ke(Le.boxScaleParams)}),St=(0,f.default)(te)(k(),function(Le){return dt(Le.boxMoveParams)},function(Le){return Ke(Le.boxScaleParams)}),Ut=(0,f.default)(te)(T(),function(Le){return dt(Le.boxMoveParams)},function(Le){return Ke(Le.boxScaleParams)}),we=(0,f.default)(te)(E(),function(Le){return dt(Le.boxMoveParams)},function(Le){return Ke(Le.boxScaleParams)}),Pt=(0,f.default)(te)(_(),function(Le){return dt(Le.boxMoveParams)},function(Le){return Ke(Le.boxScaleParams)}),gt=function(Le){var Bt=Le.className,bn=Bt===void 0?"scatterboxloader":Bt,cr=Le.background,qt=cr===void 0?"#FFFFFF":cr,tn=Le.primaryColor,on=tn===void 0?"#2f71ff":tn,jt=Le.duration,$e=jt===void 0?5:jt,Gn=(Le.size,Le.desktopSize,Le.mobileSize,(0,m.darken)(.15,on)),sr=(0,m.lighten)(.15,on),or=[[12,25],[16,29],[20,33],[24,37],[28,41],[32,45],[36,49],[40,53]],zn=[[6,14],[10,18],[14,22],[18,26],[22,30],[26,34],[30,38],[34,42]];return h.default.createElement(Be,{duration:$e,background:qt,primary:Gn,primaryColor:on,primaryRGBA:sr,className:bn},h.default.createElement(lt,{boxMoveParams:or[0],boxScaleParams:zn[0]},h.default.createElement("div",null)),h.default.createElement(_e,{boxMoveParams:or[1],boxScaleParams:zn[1]},h.default.createElement("div",null)),h.default.createElement(ke,{boxMoveParams:or[2],boxScaleParams:zn[2]},h.default.createElement("div",null)),h.default.createElement(rt,{boxMoveParams:or[3],boxScaleParams:zn[3]},h.default.createElement("div",null)),h.default.createElement(St,{boxMoveParams:or[4],boxScaleParams:zn[4]},h.default.createElement("div",null)),h.default.createElement(Ut,{boxMoveParams:or[5],boxScaleParams:zn[5]},h.default.createElement("div",null)),h.default.createElement(we,{boxMoveParams:or[6],boxScaleParams:zn[6]},h.default.createElement("div",null)),h.default.createElement(Pt,{boxMoveParams:or[0],boxScaleParams:zn[0]},h.default.createElement("div",null)),h.default.createElement(Ue,null,h.default.createElement(Qe,null)))};n.default=gt},function(A,n,r){function a(X){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(X)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c,h=function(X){if(X&&X.__esModule)return X;if(X===null||a(X)!=="object"&&typeof X!="function")return{default:X};var Y=E();if(Y&&Y.has(X))return Y.get(X);var W={},ne=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var oe in X)if(Object.prototype.hasOwnProperty.call(X,oe)){var le=ne?Object.getOwnPropertyDescriptor(X,oe):null;le&&(le.get||le.set)?Object.defineProperty(W,oe,le):W[oe]=X[oe]}return W.default=X,Y&&Y.set(X,W),W}(r(0)),f=(c=r(1))&&c.__esModule?c:{default:c},m=r(7),b=r(36),_=r(2);function E(){if(typeof WeakMap!="function")return null;var X=new WeakMap;return E=function(){return X},X}function T(){var X=function(Y,W){return W||(W=Y.slice(0)),Object.freeze(Object.defineProperties(Y,{raw:{value:Object.freeze(W)}}))}([`
  width: `,`px;
  heigt: `,`px;
`]);return T=function(){return X},X}var k=f.default.div(T(),function(X){return X.sizeDiv},function(X){return X.sizeDiv});function G(X){return X*(Math.PI/180)}var q=function(X){var Y=X.className,W=Y===void 0?"squircleloader":Y,ne=X.color,oe=ne===void 0?"#EF4444":ne,le=X.backfaceColor,Se=le===void 0?"#4F46E5":le,be=X.alternateColor,Pe=be===void 0?"#10B981":be,P=X.size,We=P===void 0?"64px":P,tt=X.desktopSize,dt=tt===void 0?"":tt,Ke=X.mobileSize,Ze=Ke===void 0?"":Ke,Xe=(0,_.useMediaQuery)({query:"(min-width: 1224px)"}),ft=(0,_.useMediaQuery)({query:"(max-width: 1224px)"}),Be=0;Xe&&(Be=dt!==""?parseFloat(dt):2*parseFloat(We)),ft&&(Be=parseFloat(Ze!==""?Ze:We));var Qe=200*parseFloat(Be)/64;return(0,h.useEffect)(function(){var Ue=function(ke,rt,St){var Ut,we=m.gsap.parseEase(ke),Pt=m.gsap.parseEase(rt);return St=typeof(Ut=St)=="function"?Ut:m.gsap.parseEase("power4.inOut"),function(gt){var Le=St(gt);return we(gt)*(1-Le)+Pt(gt)*Le}}("expo.in","circ"),te=document.querySelector(".zdog-svg-squircle-loader"),lt=new b.Anchor({translate:{x:400,y:300},scale:2}),_e=new b.Cylinder({addTo:lt,diameter:200,length:200,stroke:!1,color:oe,backface:Se});m.gsap.timeline({repeat:-1,onUpdate:function(){lt.updateGraph(),lt.renderGraphSvg(te)}}).to(_e.rotate,{y:"+=".concat(G(90)),ease:Ue},"+=0.5").to(_e.rotate,{y:"+=".concat(G(90)),ease:Ue},"+=0.5").call(function(){m.gsap.to(_e,{color:_e.color===oe?Se:_e.color===Se?Pe:oe})}),console.log(_e)}),h.default.createElement(k,{className:W,sizeDiv:Qe},h.default.createElement("svg",{className:"zdog-svg-squircle-loader",viewBox:"0 0 800 600"}))};n.default=q},function(A,n,r){var a,c,h,f,m,b,_,E,T,k,G,q,X,Y,W,ne,oe,le,Se,be,Pe,P;f=this,A.exports?A.exports=(m=r(3),b=r(15),_=r(16),E=r(6),T=r(4),k=r(17),G=r(37),q=r(8),X=r(5),Y=r(18),W=r(19),ne=r(38),oe=r(9),le=r(39),Se=r(40),be=r(41),Pe=r(42),P=r(43),m.CanvasRenderer=b,m.SvgRenderer=_,m.Vector=E,m.Anchor=T,m.Dragger=k,m.Illustration=G,m.PathCommand=q,m.Shape=X,m.Group=Y,m.Rect=W,m.RoundedRect=ne,m.Ellipse=oe,m.Polygon=le,m.Hemisphere=Se,m.Cylinder=be,m.Cone=Pe,m.Box=P,m):(c=[],a=f.Zdog,(h=typeof a=="function"?a.apply(n,c):a)===void 0||(A.exports=h))},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(3),r(4),r(17));else{var h=a.Zdog;h.Illustration=c(h,h.Anchor,h.Dragger)}})(this,function(a,c,h){function f(){}var m=a.TAU,b=c.subclass({element:void 0,centered:!0,zoom:1,dragRotate:!1,resize:!1,onPrerender:f,onDragStart:f,onDragMove:f,onDragEnd:f,onResize:f});return a.extend(b.prototype,h.prototype),b.prototype.create=function(_){c.prototype.create.call(this,_),h.prototype.create.call(this,_),this.setElement(this.element),this.setDragRotate(this.dragRotate),this.setResize(this.resize)},b.prototype.setElement=function(_){if(!(_=this.getQueryElement(_)))throw new Error("Zdog.Illustration element required. Set to "+_);var E=_.nodeName.toLowerCase();E=="canvas"?this.setCanvas(_):E=="svg"&&this.setSvg(_)},b.prototype.setSize=function(_,E){_=Math.round(_),E=Math.round(E),this.isCanvas?this.setSizeCanvas(_,E):this.isSvg&&this.setSizeSvg(_,E)},b.prototype.setResize=function(_){this.resize=_,this.resizeListener||(this.resizeListener=this.onWindowResize.bind(this)),_?(window.addEventListener("resize",this.resizeListener),this.onWindowResize()):window.removeEventListener("resize",this.resizeListener)},b.prototype.onWindowResize=function(){this.setMeasuredSize(),this.onResize(this.width,this.height)},b.prototype.setMeasuredSize=function(){var _,E;if(this.resize=="fullscreen")_=window.innerWidth,E=window.innerHeight;else{var T=this.element.getBoundingClientRect();_=T.width,E=T.height}this.setSize(_,E)},b.prototype.renderGraph=function(_){this.isCanvas?this.renderGraphCanvas(_):this.isSvg&&this.renderGraphSvg(_)},b.prototype.updateRenderGraph=function(_){this.updateGraph(),this.renderGraph(_)},b.prototype.setCanvas=function(_){this.element=_,this.isCanvas=!0,this.ctx=this.element.getContext("2d"),this.setSizeCanvas(_.width,_.height)},b.prototype.setSizeCanvas=function(_,E){this.width=_,this.height=E;var T=this.pixelRatio=window.devicePixelRatio||1;this.element.width=this.canvasWidth=_*T,this.element.height=this.canvasHeight=E*T,T>1&&!this.resize&&(this.element.style.width=_+"px",this.element.style.height=E+"px")},b.prototype.renderGraphCanvas=function(_){_=_||this,this.prerenderCanvas(),c.prototype.renderGraphCanvas.call(_,this.ctx),this.postrenderCanvas()},b.prototype.prerenderCanvas=function(){var _=this.ctx;if(_.lineCap="round",_.lineJoin="round",_.clearRect(0,0,this.canvasWidth,this.canvasHeight),_.save(),this.centered){var E=this.width/2*this.pixelRatio,T=this.height/2*this.pixelRatio;_.translate(E,T)}var k=this.pixelRatio*this.zoom;_.scale(k,k),this.onPrerender(_)},b.prototype.postrenderCanvas=function(){this.ctx.restore()},b.prototype.setSvg=function(_){this.element=_,this.isSvg=!0,this.pixelRatio=1;var E=_.getAttribute("width"),T=_.getAttribute("height");this.setSizeSvg(E,T)},b.prototype.setSizeSvg=function(_,E){this.width=_,this.height=E;var T=_/this.zoom,k=E/this.zoom,G=this.centered?-T/2:0,q=this.centered?-k/2:0;this.element.setAttribute("viewBox",G+" "+q+" "+T+" "+k),this.resize?(this.element.removeAttribute("width"),this.element.removeAttribute("height")):(this.element.setAttribute("width",_),this.element.setAttribute("height",E))},b.prototype.renderGraphSvg=function(_){_=_||this,function(E){for(;E.firstChild;)E.removeChild(E.firstChild)}(this.element),this.onPrerender(this.element),c.prototype.renderGraphSvg.call(_,this.element)},b.prototype.setDragRotate=function(_){_&&(_===!0&&(_=this),this.dragRotate=_,this.bindDrag(this.element))},b.prototype.dragStart=function(){this.dragStartRX=this.dragRotate.rotate.x,this.dragStartRY=this.dragRotate.rotate.y,h.prototype.dragStart.apply(this,arguments)},b.prototype.dragMove=function(_,E){var T=E.pageX-this.dragStartX,k=E.pageY-this.dragStartY,G=Math.min(this.width,this.height),q=T/G*m,X=k/G*m;this.dragRotate.rotate.x=this.dragStartRX-X,this.dragRotate.rotate.y=this.dragStartRY-q,h.prototype.dragMove.apply(this,arguments)},b})},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(5));else{var h=a.Zdog;h.RoundedRect=c(h.Shape)}})(this,function(a){var c=a.subclass({width:1,height:1,cornerRadius:.25,closed:!1});return c.prototype.setPath=function(){var h=this.width/2,f=this.height/2,m=Math.min(h,f),b=Math.min(this.cornerRadius,m),_=h-b,E=f-b,T=[{x:_,y:-f},{arc:[{x:h,y:-f},{x:h,y:-E}]}];E&&T.push({x:h,y:E}),T.push({arc:[{x:h,y:f},{x:_,y:f}]}),_&&T.push({x:-_,y:f}),T.push({arc:[{x:-h,y:f},{x:-h,y:E}]}),E&&T.push({x:-h,y:-E}),T.push({arc:[{x:-h,y:-f},{x:-_,y:-f}]}),_&&T.push({x:_,y:-f}),this.path=T},c})},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(3),r(5));else{var h=a.Zdog;h.Polygon=c(h,h.Shape)}})(this,function(a,c){var h=c.subclass({sides:3,radius:.5}),f=a.TAU;return h.prototype.setPath=function(){this.path=[];for(var m=0;m<this.sides;m++){var b=m/this.sides*f-f/4,_=Math.cos(b)*this.radius,E=Math.sin(b)*this.radius;this.path.push({x:_,y:E})}},h})},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(3),r(6),r(4),r(9));else{var h=a.Zdog;h.Hemisphere=c(h,h.Vector,h.Anchor,h.Ellipse)}})(this,function(a,c,h,f){var m=f.subclass({fill:!0}),b=a.TAU;return m.prototype.create=function(){f.prototype.create.apply(this,arguments),this.apex=new h({addTo:this,translate:{z:this.diameter/2}}),this.renderCentroid=new c},m.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,3/8),this.sortValue=this.renderCentroid.z},m.prototype.render=function(_,E){this.renderDome(_,E),f.prototype.render.apply(this,arguments)},m.prototype.renderDome=function(_,E){if(this.visible){var T=this.getDomeRenderElement(_,E),k=Math.atan2(this.renderNormal.y,this.renderNormal.x),G=this.diameter/2*this.renderNormal.magnitude(),q=this.renderOrigin.x,X=this.renderOrigin.y;if(E.isCanvas){var Y=k+b/4,W=k-b/4;_.beginPath(),_.arc(q,X,G,Y,W)}else E.isSvg&&(k=(k-b/4)/b*360,this.domeSvgElement.setAttribute("d","M "+-G+",0 A "+G+","+G+" 0 0 1 "+G+",0"),this.domeSvgElement.setAttribute("transform","translate("+q+","+X+" ) rotate("+k+")"));E.stroke(_,T,this.stroke,this.color,this.getLineWidth()),E.fill(_,T,this.fill,this.color),E.end(_,T)}},m.prototype.getDomeRenderElement=function(_,E){if(E.isSvg)return this.domeSvgElement||(this.domeSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.domeSvgElement.setAttribute("stroke-linecap","round"),this.domeSvgElement.setAttribute("stroke-linejoin","round")),this.domeSvgElement},m})},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(3),r(8),r(5),r(18),r(9));else{var h=a.Zdog;h.Cylinder=c(h,h.PathCommand,h.Shape,h.Group,h.Ellipse)}})(this,function(a,c,h,f,m){function b(){}var _=f.subclass({color:"#333",updateSort:!0});_.prototype.create=function(){f.prototype.create.apply(this,arguments),this.pathCommands=[new c("move",[{}]),new c("line",[{}])]},_.prototype.render=function(k,G){this.renderCylinderSurface(k,G),f.prototype.render.apply(this,arguments)},_.prototype.renderCylinderSurface=function(k,G){if(this.visible){var q=this.getRenderElement(k,G),X=this.frontBase,Y=this.rearBase,W=X.renderNormal.magnitude(),ne=X.diameter*W+X.getLineWidth();this.pathCommands[0].renderPoints[0].set(X.renderOrigin),this.pathCommands[1].renderPoints[0].set(Y.renderOrigin),G.isCanvas&&(k.lineCap="butt"),G.renderPath(k,q,this.pathCommands),G.stroke(k,q,!0,this.color,ne),G.end(k,q),G.isCanvas&&(k.lineCap="round")}},_.prototype.getRenderElement=function(k,G){if(G.isSvg)return this.svgElement||(this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","path")),this.svgElement},_.prototype.copyGraph=b,m.subclass().prototype.copyGraph=b;var E=h.subclass({diameter:1,length:1,frontFace:void 0,fill:!0}),T=a.TAU;return E.prototype.create=function(){h.prototype.create.apply(this,arguments),this.group=new _({addTo:this,color:this.color,visible:this.visible});var k=this.length/2,G=this.backface||!0;this.frontBase=this.group.frontBase=new m({addTo:this.group,diameter:this.diameter,translate:{z:k},rotate:{y:T/2},color:this.color,stroke:this.stroke,fill:this.fill,backface:this.frontFace||G,visible:this.visible}),this.rearBase=this.group.rearBase=this.frontBase.copy({translate:{z:-k},rotate:{y:0},backface:G})},E.prototype.render=function(){},["stroke","fill","color","visible"].forEach(function(k){var G="_"+k;Object.defineProperty(E.prototype,k,{get:function(){return this[G]},set:function(q){this[G]=q,this.frontBase&&(this.frontBase[k]=q,this.rearBase[k]=q,this.group[k]=q)}})}),E})},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(3),r(6),r(8),r(4),r(9));else{var h=a.Zdog;h.Cone=c(h,h.Vector,h.PathCommand,h.Anchor,h.Ellipse)}})(this,function(a,c,h,f,m){var b=m.subclass({length:1,fill:!0}),_=a.TAU;return b.prototype.create=function(){m.prototype.create.apply(this,arguments),this.apex=new f({addTo:this,translate:{z:this.length}}),this.renderApex=new c,this.renderCentroid=new c,this.tangentA=new c,this.tangentB=new c,this.surfacePathCommands=[new h("move",[{}]),new h("line",[{}]),new h("line",[{}])]},b.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,1/3),this.sortValue=this.renderCentroid.z},b.prototype.render=function(E,T){this.renderConeSurface(E,T),m.prototype.render.apply(this,arguments)},b.prototype.renderConeSurface=function(E,T){if(this.visible){this.renderApex.set(this.apex.renderOrigin).subtract(this.renderOrigin);var k=this.renderNormal.magnitude(),G=this.renderApex.magnitude2d(),q=this.renderNormal.magnitude2d(),X=Math.acos(q/k),Y=Math.sin(X),W=this.diameter/2*k;if(W*Y<G){var ne=Math.atan2(this.renderNormal.y,this.renderNormal.x)+_/2,oe=G/Y,le=Math.acos(W/oe),Se=this.tangentA,be=this.tangentB;Se.x=Math.cos(le)*W*Y,Se.y=Math.sin(le)*W,be.set(this.tangentA),be.y*=-1,Se.rotateZ(ne),be.rotateZ(ne),Se.add(this.renderOrigin),be.add(this.renderOrigin),this.setSurfaceRenderPoint(0,Se),this.setSurfaceRenderPoint(1,this.apex.renderOrigin),this.setSurfaceRenderPoint(2,be);var Pe=this.getSurfaceRenderElement(E,T);T.renderPath(E,Pe,this.surfacePathCommands),T.stroke(E,Pe,this.stroke,this.color,this.getLineWidth()),T.fill(E,Pe,this.fill,this.color),T.end(E,Pe)}}},b.prototype.getSurfaceRenderElement=function(E,T){if(T.isSvg)return this.surfaceSvgElement||(this.surfaceSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.surfaceSvgElement.setAttribute("stroke-linecap","round"),this.surfaceSvgElement.setAttribute("stroke-linejoin","round")),this.surfaceSvgElement},b.prototype.setSurfaceRenderPoint=function(E,T){this.surfacePathCommands[E].renderPoints[0].set(T)},b})},function(A,n,r){(function(a,c){if(A.exports)A.exports=c(r(3),r(4),r(5),r(19));else{var h=a.Zdog;h.Box=c(h,h.Anchor,h.Shape,h.Rect)}})(this,function(a,c,h,f){var m=f.subclass();m.prototype.copyGraph=function(){};var b=a.TAU,_=["frontFace","rearFace","leftFace","rightFace","topFace","bottomFace"],E=a.extend({},h.defaults);delete E.path,_.forEach(function(k){E[k]=!0}),a.extend(E,{width:1,height:1,depth:1,fill:!0});var T=c.subclass(E);return T.prototype.create=function(k){c.prototype.create.call(this,k),this.updatePath(),this.fill=this.fill},T.prototype.updatePath=function(){_.forEach(function(k){this[k]=this[k]},this)},_.forEach(function(k){var G="_"+k;Object.defineProperty(T.prototype,k,{get:function(){return this[G]},set:function(q){this[G]=q,this.setFace(k,q)}})}),T.prototype.setFace=function(k,G){var q=k+"Rect",X=this[q];if(G){var Y=this.getFaceOptions(k);Y.color=typeof G=="string"?G:this.color,X?X.setOptions(Y):X=this[q]=new m(Y),X.updatePath(),this.addChild(X)}else this.removeChild(X)},T.prototype.getFaceOptions=function(k){return{frontFace:{width:this.width,height:this.height,translate:{z:this.depth/2}},rearFace:{width:this.width,height:this.height,translate:{z:-this.depth/2},rotate:{y:b/2}},leftFace:{width:this.depth,height:this.height,translate:{x:-this.width/2},rotate:{y:-b/4}},rightFace:{width:this.depth,height:this.height,translate:{x:this.width/2},rotate:{y:b/4}},topFace:{width:this.width,height:this.depth,translate:{y:-this.height/2},rotate:{x:-b/4}},bottomFace:{width:this.width,height:this.depth,translate:{y:this.height/2},rotate:{x:b/4}}}[k]},["color","stroke","fill","backface","front","visible"].forEach(function(k){var G="_"+k;Object.defineProperty(T.prototype,k,{get:function(){return this[G]},set:function(q){this[G]=q,_.forEach(function(X){var Y=this[X+"Rect"],W=typeof this[X]=="string";Y&&!(k=="color"&&W)&&(Y[k]=q)},this)}})}),T})},function(A,n,r){function a(Y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(Y)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c,h=function(Y){if(Y&&Y.__esModule)return Y;if(Y===null||a(Y)!=="object"&&typeof Y!="function")return{default:Y};var W=_();if(W&&W.has(Y))return W.get(Y);var ne={},oe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var le in Y)if(Object.prototype.hasOwnProperty.call(Y,le)){var Se=oe?Object.getOwnPropertyDescriptor(Y,le):null;Se&&(Se.get||Se.set)?Object.defineProperty(ne,le,Se):ne[le]=Y[le]}return ne.default=Y,W&&W.set(Y,ne),ne}(r(0)),f=r(2),m=(c=r(1))&&c.__esModule?c:{default:c},b=r(7);function _(){if(typeof WeakMap!="function")return null;var Y=new WeakMap;return _=function(){return Y},Y}function E(){var Y=k([`
  width: 100%;
  height: 100%;
  visibility: hidden;
`]);return E=function(){return Y},Y}function T(){var Y=k([`
  width: `,`px;
  height: `,`px;
  background: `,`;
`]);return T=function(){return Y},Y}function k(Y,W){return W||(W=Y.slice(0)),Object.freeze(Object.defineProperties(Y,{raw:{value:Object.freeze(W)}}))}var G=m.default.div(T(),function(Y){return Y.sizeSVG},function(Y){return Y.sizeSVG},function(Y){return Y.background}),q=m.default.svg(E()),X=function(Y){var W=Y.className,ne=W===void 0?"sunspotloader":W,oe=Y.background,le=oe===void 0?"transparent":oe,Se=Y.gradientColors,be=Se===void 0?["#FF4F59","#FFFC31"]:Se,Pe=Y.shadowColor,P=Pe===void 0?"#5B1E00":Pe,We=Y.shadowOpacity,tt=We===void 0?"0.05":We,dt=Y.size,Ke=dt===void 0?"64px":dt,Ze=Y.desktopSize,Xe=Ze===void 0?"":Ze,ft=Y.mobileSize,Be=ft===void 0?"":ft,Qe=[];if(be.constructor===String&&(be===""&&(be="#FF4F59"),Qe.push(be)),be.constructor===Array){var Ue=be.length;Ue===0&&(be.push("#FF4F59"),Ue=be.length);for(var te=0;te<2;te+=1)te<Ue?Qe.push(be[te]):Qe.push(be[Ue-1])}var lt=(0,f.useMediaQuery)({query:"(min-width: 1224px)"}),_e=(0,f.useMediaQuery)({query:"(max-width: 1224px)"}),ke=0;lt&&(ke=Xe!==""?parseFloat(Xe):2*parseFloat(Ke)),_e&&(ke=parseFloat(Be!==""?Be:Ke));var rt=150*parseFloat(ke)/64;return(0,h.useEffect)(function(){var St=function(bn){return document.querySelector(bn)},Ut=(St("#mainSVG"),St("#container")),we=St(".seg"),Pt=[];b.gsap.set("svg",{visibility:"visible"}),Pt.push(we);for(var gt=1;gt<16;gt++){var Le=we.cloneNode(!0);Ut.appendChild(Le),b.gsap.set(Le,{rotation:15*gt,svgOrigin:"400 300"}),Pt.push(Le)}var Bt=b.gsap.timeline({});Pt.forEach(function(bn,cr){var qt=b.gsap.timeline();qt.to(bn,{rotation:"-=120",svgOrigin:"400 300",repeat:-1,repeatRefresh:!0,ease:"sine.inOut",repeatDelay:3.5}),Bt.add(qt,.25*cr)}),b.gsap.to(Ut,{duration:1,rotation:360,svgOrigin:"400 300",ease:"linear",repeat:-1},0),b.gsap.globalTimeline.timeScale(.5)},[]),h.default.createElement(G,{sizeSVG:rt,background:le,className:ne},h.default.createElement(q,{id:"mainSVG",xmlns:"http://www.w3.org/2000/svg",viewBox:"335 235 150 150"},h.default.createElement("defs",null,h.default.createElement("g",{id:"container",filter:"url(#goo)"},h.default.createElement("path",{className:"seg",d:"M412.9,251.7c-4.1-1.1-8.5-1.7-12.9-1.7"})),h.default.createElement("filter",{id:"goo",colorInterpolationFilters:"sRGB",filterUnits:"objectBoundingBox",x:"-100%",y:"-100%",width:"250%",height:"250%"},h.default.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),h.default.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 21 -9",result:"cm"}),h.default.createElement("feBlend",null)),h.default.createElement("radialGradient",{id:"grad",cx:"400.5176",cy:"298.0287",r:"125.9247",gradientUnits:"userSpaceOnUse"},h.default.createElement("stop",{offset:"0.39",style:{stopColor:Qe[0]}}),h.default.createElement("stop",{offset:"0.45",style:{stopColor:Qe[1]}}))),h.default.createElement("g",{id:"wrapper"},h.default.createElement("use",{x:"20",y:"20",xlinkHref:"#container",fill:"none",strokeWidth:"20",strokeMiterlimit:"10",strokeLinejoin:"round",strokeLinecap:"round",stroke:P,opacity:tt}),h.default.createElement("use",{xlinkHref:"#container",fill:"none",strokeWidth:"20",strokeMiterlimit:"10",strokeLinejoin:"round",strokeLinecap:"round",stroke:"url(#grad)"}))))};n.default=X},function(A,n,r){function a(ne){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(ne)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=T(r(0)),h=T(r(10)),f=_(r(14)),m=_(r(1)),b=r(2);function _(ne){return ne&&ne.__esModule?ne:{default:ne}}function E(){if(typeof WeakMap!="function")return null;var ne=new WeakMap;return E=function(){return ne},ne}function T(ne){if(ne&&ne.__esModule)return ne;if(ne===null||a(ne)!=="object"&&typeof ne!="function")return{default:ne};var oe=E();if(oe&&oe.has(ne))return oe.get(ne);var le={},Se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var be in ne)if(Object.prototype.hasOwnProperty.call(ne,be)){var Pe=Se?Object.getOwnPropertyDescriptor(ne,be):null;Pe&&(Pe.get||Pe.set)?Object.defineProperty(le,be,Pe):le[be]=ne[be]}return le.default=ne,oe&&oe.set(ne,le),le}function k(){var ne=q([`
  width: `,`px;
  height: `,`px;
`]);return k=function(){return ne},ne}function G(){var ne=q([`
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
`]);return G=function(){return ne},ne}function q(ne,oe){return oe||(oe=ne.slice(0)),Object.freeze(Object.defineProperties(ne,{raw:{value:Object.freeze(oe)}}))}var X=m.default.div(G()),Y=m.default.canvas(k(),function(ne){return ne.sizeCanvas},function(ne){return ne.sizeCanvas}),W=function(ne){var oe=ne.className,le=oe===void 0?"threedloader":oe,Se=ne.colorRing1,be=Se===void 0?"#4F46E5":Se,Pe=ne.colorRing2,P=Pe===void 0?"#4F46E5":Pe,We=ne.colorLight,tt=We===void 0?"#FFFFFF":We,dt=ne.colorAmbientLight,Ke=dt===void 0?"#cdd9ed":dt,Ze=ne.size,Xe=Ze===void 0?"64px":Ze,ft=ne.desktopSize,Be=ft===void 0?"":ft,Qe=ne.mobileSize,Ue=Qe===void 0?"":Qe,te=(0,b.useMediaQuery)({query:"(min-width: 1224px)"}),lt=(0,b.useMediaQuery)({query:"(max-width: 1224px)"}),_e=0;te&&(_e=Be!==""?parseFloat(Be):2*parseFloat(Xe)),lt&&(_e=parseFloat(Ue!==""?Ue:Xe));var ke=240*parseFloat(_e)/64;return(0,c.useEffect)(function(){(0,f.default)(document).ready(function(){var rt=(0,f.default)(".threed-loader-canvas"),St=rt[0],Ut=new h.WebGLRenderer({canvas:St,context:St.getContext("webgl2"),antialias:!0,alpha:!0});Ut.setSize(rt.width(),rt.height()),Ut.setPixelRatio(window.devicePixelRatio||1),Ut.shadowMap.enabled=!0;var we=new h.Scene,Pt=new h.PerspectiveCamera(45,rt.width()/rt.height(),.1,1e3);Pt.position.z=500;var gt=new h.MeshPhongMaterial({color:be,shininess:20}),Le=new h.MeshPhongMaterial({color:P,shininess:20}),Bt=new h.TorusGeometry(60,20,60,180),bn=new h.Mesh(Bt,gt),cr=new h.Mesh(Bt,Le);bn.castShadow=!0,bn.receiveShadow=!0,cr.castShadow=!0,cr.receiveShadow=!0,we.add(bn),cr.position.set(60,0,0);var qt=new h.Object3D;qt.castShadow=!0,qt.receiveShadow=!0,qt.add(cr),we.add(qt),qt.rotation.y-=Math.PI/2,bn.rotation.x-=Math.PI/2;var tn=new h.PointLight(tt,.25);tn.position.set(0,300,300),tn.castShadow=!0,we.add(tn);var on=new h.PointLight(tt,.4);on.position.set(0,0,400),on.castShadow=!0,we.add(on);var jt=new h.PointLight(tt,.1);jt.position.set(0,-300,0),jt.castShadow=!0,we.add(jt),we.add(new h.AmbientLight(Ke)),function $e(){requestAnimationFrame($e),bn.rotation.x-=.024,qt.rotation.x-=.024,qt.rotation.y+=.024,Ut.render(we,Pt)}()})}),c.default.createElement(X,{className:le},c.default.createElement(Y,{sizeCanvas:ke,className:"threed-loader-canvas"}))};n.default=W},function(A,n,r){function a($e){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Gn){return typeof Gn}:function(Gn){return Gn&&typeof Symbol=="function"&&Gn.constructor===Symbol&&Gn!==Symbol.prototype?"symbol":typeof Gn})($e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c,h=(c=r(0))&&c.__esModule?c:{default:c},f=function($e){if($e&&$e.__esModule)return $e;if($e===null||a($e)!=="object"&&typeof $e!="function")return{default:$e};var Gn=b();if(Gn&&Gn.has($e))return Gn.get($e);var sr={},or=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var zn in $e)if(Object.prototype.hasOwnProperty.call($e,zn)){var hr=or?Object.getOwnPropertyDescriptor($e,zn):null;hr&&(hr.get||hr.set)?Object.defineProperty(sr,zn,hr):sr[zn]=$e[zn]}return sr.default=$e,Gn&&Gn.set($e,sr),sr}(r(1)),m=r(2);function b(){if(typeof WeakMap!="function")return null;var $e=new WeakMap;return b=function(){return $e},$e}function _(){var $e=Xe([`
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: 500;
  font-size: `,`px;
  letter-spacing: 0.2px;
  margin-top: `,`px;
  ::before {
    content: attr(data-text);
    color: `,`;
  }
  ::after {
    content: attr(data-text);
    color: `,`;
    animation: `,` 3.6s ease infinite;
    position: absolute;
  }
`]);return _=function(){return $e},$e}function E(){var $e=Xe([`
  animation: `,` 1.8s ease infinite 0.05s;
  stroke: `,`;
`]);return E=function(){return $e},$e}function T(){var $e=Xe([`
  animation: `,` 1.8s ease infinite 0.2s;
  stroke: `,`;
`]);return T=function(){return $e},$e}function k(){var $e=Xe([`
  stroke-dasharray: 22 66;
`]);return k=function(){return $e},$e}function G(){var $e=Xe([`
  animation: `,` 1.8s ease infinite 0.1s;
  stroke: `,`;
`]);return G=function(){return $e},$e}function q(){var $e=Xe([`
  animation: `,` 1.8s ease infinite 0.25s;
  stroke: `,`;
`]);return q=function(){return $e},$e}function X(){var $e=Xe([`
  stroke-dasharray: 42.5 127.5;
`]);return X=function(){return $e},$e}function Y(){var $e=Xe([`
  animation: `,` 1.8s ease infinite 0.15s;
  stroke: `,`;
`]);return Y=function(){return $e},$e}function W(){var $e=Xe([`
  animation: `,` 1.8s ease infinite 0.3s;
  stroke: `,`;
`]);return W=function(){return $e},$e}function ne(){var $e=Xe([`
  stroke-dasharray: 62.75 188.25;
`]);return ne=function(){return $e},$e}function oe(){var $e=Xe([`
  position: absolute;
  fill: none;
  stroke-width: 6px;
  stroke-linecap: round;
  stroke-linejoin: round;
  transform: rotate(-100deg);
  transform-origin: center;
`]);return oe=function(){return $e},$e}function le(){var $e=Xe([`
  height: `,`px;
  width: `,`px;
`]);return le=function(){return $e},$e}function Se(){var $e=Xe([`
  height: `,`px;
  width: `,`px;
`]);return Se=function(){return $e},$e}function be(){var $e=Xe([`
  height: `,`px;
  width: `,`px;
`]);return be=function(){return $e},$e}function Pe(){var $e=Xe([`
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
`]);return Pe=function(){return $e},$e}function P(){var $e=Xe([`
  background: `,`;
  width: `,`px;
  height: `,`px;
  border-radius: 50px;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
`]);return P=function(){return $e},$e}function We(){var $e=Xe([`
  background: `,`;
  font: 400 16px "Varela Round", sans-serif;
  display: flex;
  flex-direction: column;
  padding: `,`px;
`]);return We=function(){return $e},$e}function tt(){var $e=Xe([`
0% {
    clip-path: inset(0 100% 0 0);
}
50% {
    clip-path: inset(0);
}
100% {
    clip-path: inset(0 0 0 100%);
}
`]);return tt=function(){return $e},$e}function dt(){var $e=Xe([`
0% {
    stroke-dashoffset: 9;
}
25% {
    stroke-dashoffset: 0;
}
65% {
    stroke-dashoffset: 106;
}
80% {
    stroke-dashoffset: 97;
}
100% {
    stroke-dashoffset: 97;
}
`]);return dt=function(){return $e},$e}function Ke(){var $e=Xe([`
0% {
    stroke-dashoffset: 17;
}
25% {
    stroke-dashoffset: 0;
}
65% {
    stroke-dashoffset: 204;
}
80% {
    stroke-dashoffset: 187;
}
100% {
    stroke-dashoffset: 187;
}
`]);return Ke=function(){return $e},$e}function Ze(){var $e=Xe([`
    0% {
        stroke-dashoffset: 25;
    }
    25% {
        stroke-dashoffset: 0;
    }
    65% {
        stroke-dashoffset: 301;
    }
    80% {
        stroke-dashoffset: 276;
    }
    100% {
        stroke-dashoffset: 276;
    }
`]);return Ze=function(){return $e},$e}function Xe($e,Gn){return Gn||(Gn=$e.slice(0)),Object.freeze(Object.defineProperties($e,{raw:{value:Object.freeze(Gn)}}))}var ft=(0,f.keyframes)(Ze()),Be=(0,f.keyframes)(Ke()),Qe=(0,f.keyframes)(dt()),Ue=(0,f.keyframes)(tt()),te=f.default.div(We(),function($e){return $e.background},function($e){return $e.paddingPassed}),lt=f.default.div(P(),function($e){return $e.background},function($e){return $e.passedSize},function($e){return $e.passedSize}),_e=f.default.svg(Pe()),ke=(0,f.default)(_e)(be(),function($e){return $e.passedSize},function($e){return $e.passedSize}),rt=(0,f.default)(_e)(Se(),function($e){return $e.passedSize},function($e){return $e.passedSize}),St=(0,f.default)(_e)(le(),function($e){return $e.passedSize},function($e){return $e.passedSize}),Ut=f.default.circle(oe()),we=(0,f.default)(Ut)(ne()),Pt=(0,f.default)(we)(W(),ft,function($e){return $e.backColor}),gt=(0,f.default)(we)(Y(),ft,function($e){return $e.frontColor}),Le=(0,f.default)(Ut)(X()),Bt=(0,f.default)(Le)(q(),Be,function($e){return $e.backColor}),bn=(0,f.default)(Le)(G(),Be,function($e){return $e.frontColor}),cr=(0,f.default)(Ut)(k()),qt=(0,f.default)(cr)(T(),Qe,function($e){return $e.backColor}),tn=(0,f.default)(cr)(E(),Qe,function($e){return $e.frontColor}),on=f.default.div(_(),function($e){return $e.passedSize},function($e){return $e.passedMargin},function($e){return $e.textColor},function($e){return $e.frontColor},Ue),jt=function($e){var Gn=$e.className,sr=Gn===void 0?"wifiloader":Gn,or=$e.text,zn=or===void 0?"Loading...":or,hr=$e.background,br=hr===void 0?"transparent":hr,wr=$e.frontColor,Vn=wr===void 0?"#4F29F0":wr,Nr=$e.backColor,zr=Nr===void 0?"#C3C8DE":Nr,Cr=$e.textColor,Zr=Cr===void 0?"#414856":Cr,Ir=$e.size,Pn=Ir===void 0?"64px":Ir,tr=$e.desktopSize,Fr=tr===void 0?"":tr,xi=$e.mobileSize,Yi=xi===void 0?"":xi,Zi=(0,m.useMediaQuery)({query:"(min-width: 1224px)"}),Sr=(0,m.useMediaQuery)({query:"(max-width: 1224px)"}),ai=0;Zi&&(ai=Fr!==""?parseFloat(Fr):2*parseFloat(Pn)),Sr&&(ai=parseFloat(Yi!==""?Yi:Pn));var Ai=parseFloat(ai),Gs=Ai/64,ji=20*Ai/64,ar=1.5*Gs*14/2,aa=120*Ai/64,ls=86*Ai/64,Ui=60*Ai/64,ts=34*Ai/64;return Gs===1&&(ar=14),console.log(ls),console.log(Ui),console.log(ts),h.default.createElement(te,{background:br,paddingPassed:ji,className:sr},h.default.createElement(lt,{id:"wifi-loader",background:br,passedSize:Ai},h.default.createElement(ke,{className:"circle-outer",passedSize:ls,viewBox:"0 0 86 86"},h.default.createElement(Pt,{className:"back",backColor:zr,cx:"43",cy:"43",r:"40"}),h.default.createElement(gt,{className:"front",frontColor:Vn,cx:"43",cy:"43",r:"40"})),h.default.createElement(rt,{className:"circle-middle",passedSize:Ui,viewBox:"0 0 60 60"},h.default.createElement(Bt,{className:"back",backColor:zr,cx:"30",cy:"30",r:"27"}),h.default.createElement(bn,{className:"front",frontColor:Vn,cx:"30",cy:"30",r:"27"})),h.default.createElement(St,{className:"circle-inner",passedSize:ts,viewBox:"0 0 34 34"},h.default.createElement(qt,{className:"back",backColor:zr,cx:"17",cy:"17",r:"14"}),h.default.createElement(tn,{className:"front",frontColor:Vn,cx:"17",cy:"17",r:"14"})),h.default.createElement(on,{textColor:Zr,frontColor:Vn,passedSize:ar,passedMargin:aa,"data-text":zn})))};n.default=jt},function(A,n,r){function a(Y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(Y)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c,h=(c=r(0))&&c.__esModule?c:{default:c},f=function(Y){if(Y&&Y.__esModule)return Y;if(Y===null||a(Y)!=="object"&&typeof Y!="function")return{default:Y};var W=b();if(W&&W.has(Y))return W.get(Y);var ne={},oe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var le in Y)if(Object.prototype.hasOwnProperty.call(Y,le)){var Se=oe?Object.getOwnPropertyDescriptor(Y,le):null;Se&&(Se.get||Se.set)?Object.defineProperty(ne,le,Se):ne[le]=Y[le]}return ne.default=Y,W&&W.set(Y,ne),ne}(r(1)),m=r(2);function b(){if(typeof WeakMap!="function")return null;var Y=new WeakMap;return b=function(){return Y},Y}function _(){var Y=k([`
  box-sizing: border-box;
  position: absolute;
  display: block;
  border-radius: `,`px;
  border: `,`px solid
    `,`;
  width: `,`px;
  height: `,`px;
  margin-top: `,`px;
  margin-left: `,`px;
  animation: `,` 3s 0s forwards
    cubic-bezier(0.25, 0.1, 0.25, 1) infinite;
`]);return _=function(){return Y},Y}function E(){var Y=k([`
  background: `,`;
  width: `,`px;
  height: `,`px;
  padding: 20px;
`]);return E=function(){return Y},Y}function T(){var Y=k([`
0% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

12.5% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

25% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

37.5% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

50% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

62.5% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

75% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

87.5% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}

100% {
    width: `,`px;
    height: `,`px;
    margin-top: `,`px;
    margin-left: `,`px;
}
`]);return T=function(){return Y},Y}function k(Y,W){return W||(W=Y.slice(0)),Object.freeze(Object.defineProperties(Y,{raw:{value:Object.freeze(W)}}))}var G=f.default.div(E(),function(Y){return Y.background},function(Y){return Y.sizeContainer},function(Y){return Y.sizeContainer}),q=f.default.div(_(),function(Y){return Y.sizeBorderRadius},function(Y){return Y.sizeBorderThickness},function(Y){return Y.borderColor},function(Y){return Y.boxParams.w},function(Y){return Y.boxParams.h},function(Y){return Y.boxParams.mt},function(Y){return Y.boxParams.ml},function(Y){return W=Y.animParams,(0,f.keyframes)(T(),W.w[0],W.h[0],W.mt[0],W.ml[0],W.w[1],W.h[1],W.mt[1],W.ml[1],W.w[2],W.h[2],W.mt[2],W.ml[2],W.w[3],W.h[3],W.mt[3],W.ml[3],W.w[4],W.h[4],W.mt[4],W.ml[4],W.w[5],W.h[5],W.mt[5],W.ml[5],W.w[6],W.h[6],W.mt[6],W.ml[6],W.w[7],W.h[7],W.mt[7],W.ml[7],W.w[8],W.h[8],W.mt[8],W.ml[8]);var W}),X=function(Y){var W=Y.className,ne=W===void 0?"xlviloader":W,oe=Y.backgound,le=oe===void 0?"transparent":oe,Se=Y.boxColors,be=Se===void 0?["#333"]:Se,Pe=Y.size,P=Pe===void 0?"64px":Pe,We=Y.desktopSize,tt=We===void 0?"":We,dt=Y.mobileSize,Ke=dt===void 0?"":dt,Ze=[];if(be.constructor===String&&(be===""&&(be="#333"),Ze.push(be)),be.constructor===Array){var Xe=be.length;Xe===0&&(be.push("#333"),Xe=be.length);for(var ft=0;ft<3;ft+=1)ft<Xe?Ze.push(be[ft]):Ze.push(be[Xe-1])}var Be=(0,m.useMediaQuery)({query:"(min-width: 1224px)"}),Qe=(0,m.useMediaQuery)({query:"(max-width: 1224px)"}),Ue=0;Be&&(Ue=tt!==""?parseFloat(tt):2*parseFloat(P)),Qe&&(Ue=parseFloat(Ke!==""?Ke:P));var te=parseFloat(Ue),lt=112*te/64,_e=24*te/64,ke=16*te/64,rt={w:112*te/64,h:48*te/64,mt:64*te/64,ml:0},St={w:48*te/64,h:48*te/64,mt:0,ml:0},Ut={w:48*te/64,h:48*te/64,mt:0,ml:64*te/64},we={w:[112*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64],h:[48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,112*te/64,48*te/64,48*te/64],mt:[64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,0,0,0],ml:[0,0,0,0,0,0,0,0,0]},Pt={w:[48*te/64,48*te/64,48*te/64,48*te/64,112*te/64,48*te/64,48*te/64,48*te/64,48*te/64],h:[48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64],mt:[0,0,0,0,0,0,0,0,0],ml:[0,0,0,0,0,64*te/64,64*te/64,64*te/64,64*te/64]},gt={w:[48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,112*te/64],h:[48*te/64,48*te/64,112*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64,48*te/64],mt:[0,0,0,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64],ml:[64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,64*te/64,0]};return h.default.createElement(G,{sizeContainer:lt,background:le,className:ne},h.default.createElement(q,{boxParams:rt,sizeBorderRadius:_e,sizeBorderThickness:ke,borderColor:Ze[0],animParams:we,className:"box1"}),h.default.createElement(q,{boxParams:St,sizeBorderRadius:_e,sizeBorderThickness:ke,borderColor:Ze[1],animParams:Pt,className:"box2"}),h.default.createElement(q,{boxParams:Ut,sizeBorderRadius:_e,sizeBorderThickness:ke,borderColor:Ze[2],animParams:gt,className:"box3"}))};n.default=X}])),X1}var MM=_2();const S2=({onComplete:A})=>{const[n,r]=er.useState(""),a="Welcome to my portfolio";return er.useEffect(()=>{let c=0;const h=setInterval(()=>{r(a.substring(0,c)),c++,c>a.length&&(clearInterval(h),setTimeout(()=>{A()},800))},75);return()=>clearInterval(h)},[A]),_t.jsxs("div",{className:"fixed inset-0 z-40 bg-black text-gray-100 flex flex-col items-center justify-center",children:[_t.jsx(MM.BoxesLoader,{boxColor:"#3d5a81",shadowColor:"#85C1E9",style:{marginBottom:"10px"},desktopSize:"128px",mobileSize:"80px"}),_t.jsxs("div",{className:"mb-30 text-4xl font-mono font-bold",children:[n,_t.jsx("span",{className:"animate-pulse",children:"|"})]})]})},E2=({menuOpen:A,setMenuOpen:n})=>(er.useEffect(()=>{document.body.style.overflow=A?"hidden":""},[A]),_t.jsx("nav",{className:"fixed top-0 left-0 right-0 w-full z-50 bg-[rgba(10, 10, 10, 0.8)] backdrop-blur-xs border-b border-white/10 shadow-lg m-0 p-0",children:_t.jsx("div",{className:"max-w-5xl mx-auto px-4",children:_t.jsxs("div",{className:"flex justify-between items-center h-16",children:[_t.jsxs("div",{className:"hidden md:flex items-center space-x-4 font-bold mt-20 ",children:[_t.jsx("a",{href:"#home",children:_t.jsx(MM.BoxesLoader,{boxColor:"#3d5a81",shadowColor:"#85C1E9",size:"20px"})}),_t.jsxs("a",{href:"#home",className:"text-2xl md:text-2xl font-bold bg-gradient-to-r from-[#85C1E9] to-[#242C38] bg-clip-text text-transparent mb-20 -ml-15",children:["Tim",_t.jsx("span",{className:"text-white-500",children:".tech"})]})]}),_t.jsx("div",{className:"w-7 h-5 relative cursor-pointer z-40 md:hidden",onClick:()=>n(r=>!r),children:"☰"}),_t.jsxs("div",{className:"hidden md:flex space-x-4 font-bold",children:[_t.jsx("a",{href:"#home",className:"text-[#85C1E9] relative hover:text-black transition-all",children:"Home"}),_t.jsx("a",{href:"#about",className:"text-[#658FAE] hover:text-black transition-all",children:"About"}),_t.jsx("a",{href:"#projects",className:"text-[#445E73] hover:text-black transition-all",children:"Projects"}),_t.jsx("a",{href:"#resume",className:"text-[var(--color-secondary)] hover:text-black transition-all",children:"Resume"})]})]})})})),M2=({menuOpen:A,setMenuOpen:n})=>_t.jsxs("div",{className:`fixed top-0 left-0 w-full bg-[rgba(10,10,10,0.8)] z-40 flex flex-col items-center justify-center
                     transition-all duration-500 ease-in-out

                     ${A?"h-screen opacity-100 pointer-events-auto":"h-0 opacity-0 pointer-events-none"}
                   `,children:[_t.jsx("button",{onClick:()=>n(!1),className:"absolute top-6 right-6 text-white text-3xl focus:outline-none cursor-pointer","aria-label":"Close Menu",children:"×"}),_t.jsx("a",{href:"#home",onClick:()=>n(!1),className:`text-2xl font-semibold text-white my-4 transform transition-transform duration-300
                    ${A?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}        
            `,children:"Home"}),_t.jsx("a",{href:"#About",onClick:()=>n(!1),className:`text-2xl font-semibold text-white my-4 transform transition-transform duration-300
            ${A?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}        
    `,children:"About"}),_t.jsx("a",{href:"#projects",onClick:()=>n(!1),className:`text-2xl font-semibold text-white my-4 transform transition-transform duration-300
            ${A?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}        
    `,children:"Projects"}),_t.jsx("a",{href:"#resume",onClick:()=>n(!1),className:`text-2xl font-semibold text-white my-4 transform transition-transform duration-300
            ${A?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}        
    `,children:"Resume"})]}),Gw=({children:A})=>{const n=er.useRef(null);return er.useEffect(()=>{const r=new IntersectionObserver(([a])=>{a.isIntersecting&&n.current.classList.add("visible")},{threshold:.2,rootMargin:"0px 0px -50px 0px"});return n.current&&r.observe(n.current),()=>r.disconnect()}),_t.jsx("div",{ref:n,className:"reveal",children:A})},A2=()=>_t.jsx("section",{id:"home",className:"home-section min-h-screen flex items-center justify-center relative",children:_t.jsx(Gw,{children:_t.jsxs("div",{className:"text-center z-10 px-4",children:[_t.jsx("h2",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent leading-normal",children:"Hello, I'm Tim Tsenguun"}),_t.jsx("p",{className:"text-[var(--color-description)] text-l mb-8 max-w-lg mx-auto text-center backdrop-blur-xs",children:"Hungry-to-learn Data Analytics Engineer with strong analytical skills and last two years of academic experience in predictive analytics. Seeking roles in data engineering or analysis."}),_t.jsxs("div",{className:"flex justify-center space-x-4",children:[_t.jsx("a",{href:"#projects",className:"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] text-white font-semibold py-2 px-6 rounded-full shadow-md hover:shadow-lg hover:scale-105 transform transition duration-300",children:"View Projects"}),_t.jsx("a",{href:"#resume",className:"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] text-white font-semibold py-2 px-6 rounded-full shadow-md hover:shadow-lg hover:scale-105 transform transition duration-300",children:"Resume"})]})]})})}),T2=()=>{const A=["React","Vue","TypeScript","TailwindCSS","Svelte"],n=["Node.js","Python","AWS","MongoDB","GraphQL"];return _t.jsx("section",{id:"about",className:"min-h-screen flex items-center justify-center py-20",children:_t.jsx(Gw,{children:_t.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[_t.jsxs("h2",{className:"text-3xl font-bold mb-8 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent text-center",children:[" ","About Me"]}),_t.jsxs("div",{className:"box_transition",children:[_t.jsx("p",{className:"text-[var(--color-description)] mb-6",children:"Passionate developer with expertise in building scalable web applications and creating innovative solutions."}),_t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 ",children:[_t.jsxs("div",{className:"rounded-xl p-6 hover:-translate-y-1 transition-all",children:[_t.jsx("h3",{className:"text-xl font-bold mb-4",children:" Frontend"}),_t.jsx("div",{className:"flex flex-wrap gap-2 ",children:A.map((r,a)=>_t.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:r},a))})]}),_t.jsxs("div",{className:"rounded-xl p-6 hover:-translate-y-1 transition-all",children:[_t.jsx("h3",{className:"text-xl font-bold mb-4",children:" Backend"}),_t.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,a)=>_t.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:r},a))})]})]})]}),_t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[_t.jsxs("div",{className:"box_transition",children:[_t.jsx("h3",{className:"text-xl font-bold mb-4",children:" 🏫 Education "}),_t.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[_t.jsxs("li",{children:[_t.jsx("strong",{children:" B.S. in Computer Science "})," - XYZ University (2016-2020)"]}),_t.jsx("li",{children:"Relevant Coursework: Data Structures, Web Development, Cloud Computing..."})]})]}),_t.jsxs("div",{className:"box_transition",children:[_t.jsx("h3",{className:"text-xl font-bold mb-4",children:" 💼 Work Experience "}),_t.jsxs("div",{className:"space-y-4 text-gray-300",children:[_t.jsxs("div",{children:[_t.jsxs("h4",{className:"font-semibold",children:[" ","Software Engineer at ABC Corp (2020 - Present)"," "]}),_t.jsx("p",{children:"Developed and maintained microservices for cloud-based applications."})]}),_t.jsxs("div",{children:[_t.jsxs("h4",{className:"font-semibold",children:[" ","Intern at DEF Startups (2019)"," "]}),_t.jsx("p",{children:"Assisted in building front-end components and integration REST APIs"})]})]})]})]})]})})})},C2=()=>_t.jsx("section",{id:"projects",className:"min-h-screen flex items-center justify-center py-15",children:_t.jsx(Gw,{children:_t.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[_t.jsxs("h2",{className:"text-3xl md:text-3xl font-bold mb-6 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent leading-normal",children:[" ","Featured Projects"]}),_t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_t.jsxs("div",{className:"box_transition",children:[_t.jsx("h3",{className:"text-xl font-bold mb-2",children:" Cloud Platform"}),_t.jsx("p",{className:"text-[var(--color-description)] mb-4",children:"Scalable cloud infrastructure management with real-time monitoring and automated scaling."}),_t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["React","Node.js","AWS","Docker"].map((A,n)=>_t.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:A},n))}),_t.jsx("div",{className:"flex justify-between items-center",children:_t.jsx("a",{href:"#",className:"text-[var(--color-description)] hover:text-blue-300 transition-colors my-4",children:"View Project →"})})]}),_t.jsxs("div",{className:"box_transition",children:[_t.jsx("h3",{className:"text-xl font-bold mb-2",children:"AI Analytics Dashboard"}),_t.jsx("p",{className:"text--[var(--color-description)] mb-4",children:"ML-powered data visualization platform with predictive analytics and interactive reports."}),_t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Python","TensorFlow","D3.js","Flask"].map((A,n)=>_t.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:A},n))}),_t.jsx("div",{className:"flex justify-between items-center",children:_t.jsx("a",{href:"#",className:"text-[var(--color-description)] hover:text-blue-300 transition-colors my-4",children:"View Project →"})})]}),_t.jsxs("div",{className:"box_transition",children:[_t.jsx("h3",{className:"text-xl font-bold mb-2",children:"E-Commerce Web App"}),_t.jsx("p",{className:"text-[var(--color-description)] mb-4",children:"Full-stack e-commerce with modern UI, secure payment integration, and customizable product inventory."}),_t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Next.js","TypeScript","Stripe","PostgreSQL"].map(A=>_t.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:A},A))}),_t.jsx("div",{className:"flex justify-between items-center",children:_t.jsx("a",{href:"#",className:"text-[var(--color-description)] hover:text-blue-300 transition-colors my-4",children:"View Project →"})})]}),_t.jsxs("div",{className:"box_transition",children:[_t.jsx("h3",{className:"text-xl font-bold mb-2",children:"Real-Time Chat App"}),_t.jsx("p",{className:"text-[var(--color-description)] mb-4",children:"Scalable chat platform supporting real-time messaging, presence, and group chat features."}),_t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Socket.IO","Express","React","Redis"].map((A,n)=>_t.jsx("span",{className:`\r
                      bg-gray-100/30 text-white-500 py-1 px-3 \r
                      rounded-full text-sm\r
                      transition\r
                      hover:bg-gray-100/60 hover:-translate-y-0.5\r
                      hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)]\r
                    `,children:A},n))}),_t.jsx("div",{className:"flex justify-between items-center ",children:_t.jsx("a",{href:"#",className:"text-[var(--color-description)] hover:text-blue-300 transition-colors my-4",children:"View Project →"})})]})]})]})})}),L2="modulepreload",P2=function(A){return"/portfolio/"+A},XE={},zb=function(n,r,a){let c=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));c=Promise.allSettled(r.map(b=>{if(b=P2(b),b in XE)return;XE[b]=!0;const _=b.endsWith(".css"),E=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${E}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":L2,_||(T.as="script"),T.crossOrigin="",T.href=b,m&&T.setAttribute("nonce",m),document.head.appendChild(T),_)return new Promise((k,G)=>{T.addEventListener("load",k),T.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${b}`)))})}))}function h(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&h(m.reason);return n().catch(h)})};var x0={};x0.d=(A,n)=>{for(var r in n)x0.o(n,r)&&!x0.o(A,r)&&Object.defineProperty(A,r,{enumerable:!0,get:n[r]})};x0.o=(A,n)=>Object.prototype.hasOwnProperty.call(A,n);var Yr=globalThis.pdfjsLib={};x0.d(Yr,{AbortException:()=>rg,AnnotationEditorLayer:()=>fS,AnnotationEditorParamsType:()=>qr,AnnotationEditorType:()=>di,AnnotationEditorUIManager:()=>Km,AnnotationLayer:()=>CP,AnnotationMode:()=>kf,ColorPicker:()=>Sw,DOMSVGFactory:()=>OS,DrawLayer:()=>vS,FeatureTest:()=>zl,GlobalWorkerOptions:()=>Gd,ImageKind:()=>Vb,InvalidPDFException:()=>TM,MissingPDFException:()=>ng,OPS:()=>Vc,OutputScale:()=>o_,PDFDataRangeTransport:()=>SA,PDFDateString:()=>AS,PDFWorker:()=>Qg,PasswordResponses:()=>I2,PermissionFlag:()=>O2,PixelsPerInch:()=>op,RenderingCancelledException:()=>ES,TextLayer:()=>I_,UnexpectedResponseException:()=>Xw,Util:()=>xr,VerbosityLevel:()=>Vw,XfaLayer:()=>MA,build:()=>lP,createValidAbsoluteUrl:()=>z2,fetchData:()=>Yw,getDocument:()=>QL,getFilenameFromUrl:()=>X2,getPdfFilenameFromUrl:()=>$2,getXfaPageViewport:()=>Y2,isDataScheme:()=>Zw,isPdfFile:()=>MS,noContextMenu:()=>vc,normalizeUnicode:()=>V2,setLayerDimensions:()=>Zm,shadow:()=>Ni,version:()=>aP});const El=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),AM=[1,0,0,1,0,0],n_=[.001,0,0,.001,0,0],R2=1e7,$1=1.35,Nu={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},kf={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},k2="pdfjs_internal_editor_",di={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},qr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},O2={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},vl={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Vb={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},_a={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},e0={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Vw={ERRORS:0,WARNINGS:1,INFOS:5},Vc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},I2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ww=Vw.WARNINGS;function D2(A){Number.isInteger(A)&&(Ww=A)}function N2(){return Ww}function qw(A){Ww>=Vw.INFOS&&console.log(`Info: ${A}`)}function yi(A){Ww>=Vw.WARNINGS&&console.log(`Warning: ${A}`)}function Zs(A){throw new Error(A)}function Aa(A,n){A||Zs(n)}function F2(A){switch(A==null?void 0:A.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function z2(A,n=null,r=null){if(!A)return null;try{if(r&&typeof A=="string"){if(r.addDefaultProtocol&&A.startsWith("www.")){const c=A.match(/\./g);(c==null?void 0:c.length)>=2&&(A=`http://${A}`)}if(r.tryConvertEncoding)try{A=G2(A)}catch{}}const a=n?new URL(A,n):new URL(A);if(F2(a))return a}catch{}return null}function Ni(A,n,r,a=!1){return Object.defineProperty(A,n,{value:r,enumerable:!a,configurable:!0,writable:!1}),r}const cp=function(){function n(r,a){this.message=r,this.name=a}return n.prototype=new Error,n.constructor=n,n}();class r_ extends cp{constructor(n,r){super(n,"PasswordException"),this.code=r}}class i_ extends cp{constructor(n,r){super(n,"UnknownErrorException"),this.details=r}}class TM extends cp{constructor(n){super(n,"InvalidPDFException")}}class ng extends cp{constructor(n){super(n,"MissingPDFException")}}class Xw extends cp{constructor(n,r){super(n,"UnexpectedResponseException"),this.status=r}}class B2 extends cp{constructor(n){super(n,"FormatError")}}class rg extends cp{constructor(n){super(n,"AbortException")}}function CM(A){(typeof A!="object"||(A==null?void 0:A.length)===void 0)&&Zs("Invalid argument for bytesToString");const n=A.length,r=8192;if(n<r)return String.fromCharCode.apply(null,A);const a=[];for(let c=0;c<n;c+=r){const h=Math.min(c+r,n),f=A.subarray(c,h);a.push(String.fromCharCode.apply(null,f))}return a.join("")}function $w(A){typeof A!="string"&&Zs("Invalid argument for stringToBytes");const n=A.length,r=new Uint8Array(n);for(let a=0;a<n;++a)r[a]=A.charCodeAt(a)&255;return r}function H2(A){return String.fromCharCode(A>>24&255,A>>16&255,A>>8&255,A&255)}function _S(A){const n=Object.create(null);for(const[r,a]of A)n[r]=a;return n}function j2(){const A=new Uint8Array(4);return A[0]=1,new Uint32Array(A.buffer,0,1)[0]===1}function U2(){try{return new Function(""),!0}catch{return!1}}class zl{static get isLittleEndian(){return Ni(this,"isLittleEndian",j2())}static get isEvalSupported(){return Ni(this,"isEvalSupported",U2())}static get isOffscreenCanvasSupported(){return Ni(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ni(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ni(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var n,r;return Ni(this,"isCSSRoundSupported",(r=(n=globalThis.CSS)==null?void 0:n.supports)==null?void 0:r.call(n,"width: round(1.5px, 1px)"))}}const Y1=Array.from(Array(256).keys(),A=>A.toString(16).padStart(2,"0"));var Wd,Wb,s_;class xr{static makeHexColor(n,r,a){return`#${Y1[n]}${Y1[r]}${Y1[a]}`}static scaleMinMax(n,r){let a;n[0]?(n[0]<0&&(a=r[0],r[0]=r[2],r[2]=a),r[0]*=n[0],r[2]*=n[0],n[3]<0&&(a=r[1],r[1]=r[3],r[3]=a),r[1]*=n[3],r[3]*=n[3]):(a=r[0],r[0]=r[1],r[1]=a,a=r[2],r[2]=r[3],r[3]=a,n[1]<0&&(a=r[1],r[1]=r[3],r[3]=a),r[1]*=n[1],r[3]*=n[1],n[2]<0&&(a=r[0],r[0]=r[2],r[2]=a),r[0]*=n[2],r[2]*=n[2]),r[0]+=n[4],r[1]+=n[5],r[2]+=n[4],r[3]+=n[5]}static transform(n,r){return[n[0]*r[0]+n[2]*r[1],n[1]*r[0]+n[3]*r[1],n[0]*r[2]+n[2]*r[3],n[1]*r[2]+n[3]*r[3],n[0]*r[4]+n[2]*r[5]+n[4],n[1]*r[4]+n[3]*r[5]+n[5]]}static applyTransform(n,r){const a=n[0]*r[0]+n[1]*r[2]+r[4],c=n[0]*r[1]+n[1]*r[3]+r[5];return[a,c]}static applyInverseTransform(n,r){const a=r[0]*r[3]-r[1]*r[2],c=(n[0]*r[3]-n[1]*r[2]+r[2]*r[5]-r[4]*r[3])/a,h=(-n[0]*r[1]+n[1]*r[0]+r[4]*r[1]-r[5]*r[0])/a;return[c,h]}static getAxialAlignedBoundingBox(n,r){const a=this.applyTransform(n,r),c=this.applyTransform(n.slice(2,4),r),h=this.applyTransform([n[0],n[3]],r),f=this.applyTransform([n[2],n[1]],r);return[Math.min(a[0],c[0],h[0],f[0]),Math.min(a[1],c[1],h[1],f[1]),Math.max(a[0],c[0],h[0],f[0]),Math.max(a[1],c[1],h[1],f[1])]}static inverseTransform(n){const r=n[0]*n[3]-n[1]*n[2];return[n[3]/r,-n[1]/r,-n[2]/r,n[0]/r,(n[2]*n[5]-n[4]*n[3])/r,(n[4]*n[1]-n[5]*n[0])/r]}static singularValueDecompose2dScale(n){const r=[n[0],n[2],n[1],n[3]],a=n[0]*r[0]+n[1]*r[2],c=n[0]*r[1]+n[1]*r[3],h=n[2]*r[0]+n[3]*r[2],f=n[2]*r[1]+n[3]*r[3],m=(a+f)/2,b=Math.sqrt((a+f)**2-4*(a*f-h*c))/2,_=m+b||1,E=m-b||1;return[Math.sqrt(_),Math.sqrt(E)]}static normalizeRect(n){const r=n.slice(0);return n[0]>n[2]&&(r[0]=n[2],r[2]=n[0]),n[1]>n[3]&&(r[1]=n[3],r[3]=n[1]),r}static intersect(n,r){const a=Math.max(Math.min(n[0],n[2]),Math.min(r[0],r[2])),c=Math.min(Math.max(n[0],n[2]),Math.max(r[0],r[2]));if(a>c)return null;const h=Math.max(Math.min(n[1],n[3]),Math.min(r[1],r[3])),f=Math.min(Math.max(n[1],n[3]),Math.max(r[1],r[3]));return h>f?null:[a,h,c,f]}static bezierBoundingBox(n,r,a,c,h,f,m,b,_){return _?(_[0]=Math.min(_[0],n,m),_[1]=Math.min(_[1],r,b),_[2]=Math.max(_[2],n,m),_[3]=Math.max(_[3],r,b)):_=[Math.min(n,m),Math.min(r,b),Math.max(n,m),Math.max(r,b)],ce(this,Wd,s_).call(this,n,a,h,m,r,c,f,b,3*(-n+3*(a-h)+m),6*(n-2*a+h),3*(a-n),_),ce(this,Wd,s_).call(this,n,a,h,m,r,c,f,b,3*(-r+3*(c-f)+b),6*(r-2*c+f),3*(c-r),_),_}}Wd=new WeakSet,Wb=function(n,r,a,c,h,f,m,b,_,E){if(_<=0||_>=1)return;const T=1-_,k=_*_,G=k*_,q=T*(T*(T*n+3*_*r)+3*k*a)+G*c,X=T*(T*(T*h+3*_*f)+3*k*m)+G*b;E[0]=Math.min(E[0],q),E[1]=Math.min(E[1],X),E[2]=Math.max(E[2],q),E[3]=Math.max(E[3],X)},s_=function(n,r,a,c,h,f,m,b,_,E,T,k){if(Math.abs(_)<1e-12){Math.abs(E)>=1e-12&&ce(this,Wd,Wb).call(this,n,r,a,c,h,f,m,b,-T/E,k);return}const G=E**2-4*T*_;if(G<0)return;const q=Math.sqrt(G),X=2*_;ce(this,Wd,Wb).call(this,n,r,a,c,h,f,m,b,(-E+q)/X,k),ce(this,Wd,Wb).call(this,n,r,a,c,h,f,m,b,(-E-q)/X,k)},fe(xr,Wd);function G2(A){return decodeURIComponent(escape(A))}let Z1=null,$E=null;function V2(A){return Z1||(Z1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,$E=new Map([["ﬅ","ſt"]])),A.replaceAll(Z1,(n,r,a)=>r?r.normalize("NFKC"):$E.get(a))}function W2(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const A=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(A);else for(let n=0;n<32;n++)A[n]=Math.floor(Math.random()*255);return CM(A)}const SS="pdfjs_internal_id_",pd={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function q2(A){return Uint8Array.prototype.toBase64?A.toBase64():btoa(CM(A))}const gd="http://www.w3.org/2000/svg",Jp=class Jp{};Wr(Jp,"CSS",96),Wr(Jp,"PDF",72),Wr(Jp,"PDF_TO_CSS_UNITS",Jp.CSS/Jp.PDF);let op=Jp;async function Yw(A,n="text"){if(r0(A,document.baseURI)){const r=await fetch(A);if(!r.ok)throw new Error(r.statusText);switch(n){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,a)=>{const c=new XMLHttpRequest;c.open("GET",A,!0),c.responseType=n,c.onreadystatechange=()=>{if(c.readyState===XMLHttpRequest.DONE){if(c.status===200||c.status===0){switch(n){case"arraybuffer":case"blob":case"json":r(c.response);return}r(c.responseText);return}a(new Error(c.statusText))}},c.send(null)})}class zx{constructor({viewBox:n,scale:r,rotation:a,offsetX:c=0,offsetY:h=0,dontFlip:f=!1}){this.viewBox=n,this.scale=r,this.rotation=a,this.offsetX=c,this.offsetY=h;const m=(n[2]+n[0])/2,b=(n[3]+n[1])/2;let _,E,T,k;switch(a%=360,a<0&&(a+=360),a){case 180:_=-1,E=0,T=0,k=1;break;case 90:_=0,E=1,T=1,k=0;break;case 270:_=0,E=-1,T=-1,k=0;break;case 0:_=1,E=0,T=0,k=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}f&&(T=-T,k=-k);let G,q,X,Y;_===0?(G=Math.abs(b-n[1])*r+c,q=Math.abs(m-n[0])*r+h,X=(n[3]-n[1])*r,Y=(n[2]-n[0])*r):(G=Math.abs(m-n[0])*r+c,q=Math.abs(b-n[1])*r+h,X=(n[2]-n[0])*r,Y=(n[3]-n[1])*r),this.transform=[_*r,E*r,T*r,k*r,G-_*r*m-T*r*b,q-E*r*m-k*r*b],this.width=X,this.height=Y}get rawDims(){const{viewBox:n}=this;return Ni(this,"rawDims",{pageWidth:n[2]-n[0],pageHeight:n[3]-n[1],pageX:n[0],pageY:n[1]})}clone({scale:n=this.scale,rotation:r=this.rotation,offsetX:a=this.offsetX,offsetY:c=this.offsetY,dontFlip:h=!1}={}){return new zx({viewBox:this.viewBox.slice(),scale:n,rotation:r,offsetX:a,offsetY:c,dontFlip:h})}convertToViewportPoint(n,r){return xr.applyTransform([n,r],this.transform)}convertToViewportRectangle(n){const r=xr.applyTransform([n[0],n[1]],this.transform),a=xr.applyTransform([n[2],n[3]],this.transform);return[r[0],r[1],a[0],a[1]]}convertToPdfPoint(n,r){return xr.applyInverseTransform([n,r],this.transform)}}class ES extends cp{constructor(n,r=0){super(n,"RenderingCancelledException"),this.extraDelay=r}}function Zw(A){const n=A.length;let r=0;for(;r<n&&A[r].trim()==="";)r++;return A.substring(r,r+5).toLowerCase()==="data:"}function MS(A){return typeof A=="string"&&/\.pdf$/i.test(A)}function X2(A){return[A]=A.split(/[#?]/,1),A.substring(A.lastIndexOf("/")+1)}function $2(A,n="document.pdf"){if(typeof A!="string")return n;if(Zw(A))return yi('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),n;const r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,a=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,c=r.exec(A);let h=a.exec(c[1])||a.exec(c[2])||a.exec(c[3]);if(h&&(h=h[0],h.includes("%")))try{h=a.exec(decodeURIComponent(h))[0]}catch{}return h||n}class YE{constructor(){Wr(this,"started",Object.create(null));Wr(this,"times",[])}time(n){n in this.started&&yi(`Timer is already running for ${n}`),this.started[n]=Date.now()}timeEnd(n){n in this.started||yi(`Timer has not been started for ${n}`),this.times.push({name:n,start:this.started[n],end:Date.now()}),delete this.started[n]}toString(){const n=[];let r=0;for(const{name:a}of this.times)r=Math.max(a.length,r);for(const{name:a,start:c,end:h}of this.times)n.push(`${a.padEnd(r)} ${h-c}ms
`);return n.join("")}}function r0(A,n){try{const{protocol:r}=n?new URL(A,n):new URL(A);return r==="http:"||r==="https:"}catch{return!1}}function vc(A){A.preventDefault()}function ZE(A){console.log("Deprecated API usage: "+A)}var S0;class AS{static toDateObject(n){if(!n||typeof n!="string")return null;y(this,S0)||se(this,S0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=y(this,S0).exec(n);if(!r)return null;const a=parseInt(r[1],10);let c=parseInt(r[2],10);c=c>=1&&c<=12?c-1:0;let h=parseInt(r[3],10);h=h>=1&&h<=31?h:1;let f=parseInt(r[4],10);f=f>=0&&f<=23?f:0;let m=parseInt(r[5],10);m=m>=0&&m<=59?m:0;let b=parseInt(r[6],10);b=b>=0&&b<=59?b:0;const _=r[7]||"Z";let E=parseInt(r[8],10);E=E>=0&&E<=23?E:0;let T=parseInt(r[9],10)||0;return T=T>=0&&T<=59?T:0,_==="-"?(f+=E,m+=T):_==="+"&&(f-=E,m-=T),new Date(Date.UTC(a,c,h,f,m,b))}}S0=new WeakMap,fe(AS,S0);function Y2(A,{scale:n=1,rotation:r=0}){const{width:a,height:c}=A.attributes.style,h=[0,0,parseInt(a),parseInt(c)];return new zx({viewBox:h,scale:n,rotation:r})}function TS(A){if(A.startsWith("#")){const n=parseInt(A.slice(1),16);return[(n&16711680)>>16,(n&65280)>>8,n&255]}return A.startsWith("rgb(")?A.slice(4,-1).split(",").map(n=>parseInt(n)):A.startsWith("rgba(")?A.slice(5,-1).split(",").map(n=>parseInt(n)).slice(0,3):(yi(`Not a valid color format: "${A}"`),[0,0,0])}function Z2(A){const n=document.createElement("span");n.style.visibility="hidden",document.body.append(n);for(const r of A.keys()){n.style.color=r;const a=window.getComputedStyle(n).color;A.set(r,TS(a))}n.remove()}function wo(A){const{a:n,b:r,c:a,d:c,e:h,f}=A.getTransform();return[n,r,a,c,h,f]}function md(A){const{a:n,b:r,c:a,d:c,e:h,f}=A.getTransform().invertSelf();return[n,r,a,c,h,f]}function Zm(A,n,r=!1,a=!0){if(n instanceof zx){const{pageWidth:c,pageHeight:h}=n.rawDims,{style:f}=A,m=zl.isCSSRoundSupported,b=`var(--scale-factor) * ${c}px`,_=`var(--scale-factor) * ${h}px`,E=m?`round(down, ${b}, var(--scale-round-x, 1px))`:`calc(${b})`,T=m?`round(down, ${_}, var(--scale-round-y, 1px))`:`calc(${_})`;!r||n.rotation%180===0?(f.width=E,f.height=T):(f.width=T,f.height=E)}a&&A.setAttribute("data-main-rotation",n.rotation)}class o_{constructor(){const n=window.devicePixelRatio||1;this.sx=n,this.sy=n}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Of,em,Wc,tm,E0,M0,Mw,LM,Bl,PM,RM,qb,kM,l_;const vd=class vd{constructor(n){fe(this,Bl);fe(this,Of,null);fe(this,em,null);fe(this,Wc);fe(this,tm,null);fe(this,E0,null);se(this,Wc,n),y(vd,M0)||se(vd,M0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const n=se(this,Of,document.createElement("div"));n.classList.add("editToolbar","hidden"),n.setAttribute("role","toolbar");const r=y(this,Wc)._uiManager._signal;n.addEventListener("contextmenu",vc,{signal:r}),n.addEventListener("pointerdown",ce(vd,Mw,LM),{signal:r});const a=se(this,tm,document.createElement("div"));a.className="buttons",n.append(a);const c=y(this,Wc).toolbarPosition;if(c){const{style:h}=n,f=y(this,Wc)._uiManager.direction==="ltr"?1-c[0]:c[0];h.insetInlineEnd=`${100*f}%`,h.top=`calc(${100*c[1]}% + var(--editor-toolbar-vert-offset))`}return ce(this,Bl,kM).call(this),n}get div(){return y(this,Of)}hide(){var n;y(this,Of).classList.add("hidden"),(n=y(this,em))==null||n.hideDropdown()}show(){var n;y(this,Of).classList.remove("hidden"),(n=y(this,E0))==null||n.shown()}async addAltText(n){const r=await n.render();ce(this,Bl,qb).call(this,r),y(this,tm).prepend(r,y(this,Bl,l_)),se(this,E0,n)}addColorPicker(n){se(this,em,n);const r=n.renderButton();ce(this,Bl,qb).call(this,r),y(this,tm).prepend(r,y(this,Bl,l_))}remove(){var n;y(this,Of).remove(),(n=y(this,em))==null||n.destroy(),se(this,em,null)}};Of=new WeakMap,em=new WeakMap,Wc=new WeakMap,tm=new WeakMap,E0=new WeakMap,M0=new WeakMap,Mw=new WeakSet,LM=function(n){n.stopPropagation()},Bl=new WeakSet,PM=function(n){y(this,Wc)._focusEventsAllowed=!1,n.preventDefault(),n.stopPropagation()},RM=function(n){y(this,Wc)._focusEventsAllowed=!0,n.preventDefault(),n.stopPropagation()},qb=function(n){const r=y(this,Wc)._uiManager._signal;n.addEventListener("focusin",ce(this,Bl,PM).bind(this),{capture:!0,signal:r}),n.addEventListener("focusout",ce(this,Bl,RM).bind(this),{capture:!0,signal:r}),n.addEventListener("contextmenu",vc,{signal:r})},kM=function(){const{editorType:n,_uiManager:r}=y(this,Wc),a=document.createElement("button");a.className="delete",a.tabIndex=0,a.setAttribute("data-l10n-id",y(vd,M0)[n]),ce(this,Bl,qb).call(this,a),a.addEventListener("click",c=>{r.delete()},{signal:r._signal}),y(this,tm).append(a)},l_=function(){const n=document.createElement("div");return n.className="divider",n},fe(vd,Mw),fe(vd,M0,null);let a_=vd;var A0,nm,rm,lp,OM,IM,DM;class K2{constructor(n){fe(this,lp);fe(this,A0,null);fe(this,nm,null);fe(this,rm);se(this,rm,n)}show(n,r,a){const[c,h]=ce(this,lp,IM).call(this,r,a),{style:f}=y(this,nm)||se(this,nm,ce(this,lp,OM).call(this));n.append(y(this,nm)),f.insetInlineEnd=`${100*c}%`,f.top=`calc(${100*h}% + var(--editor-toolbar-vert-offset))`}hide(){y(this,nm).remove()}}A0=new WeakMap,nm=new WeakMap,rm=new WeakMap,lp=new WeakSet,OM=function(){const n=se(this,nm,document.createElement("div"));n.className="editToolbar",n.setAttribute("role","toolbar"),n.addEventListener("contextmenu",vc,{signal:y(this,rm)._signal});const r=se(this,A0,document.createElement("div"));return r.className="buttons",n.append(r),ce(this,lp,DM).call(this),n},IM=function(n,r){let a=0,c=0;for(const h of n){const f=h.y+h.height;if(f<a)continue;const m=h.x+(r?h.width:0);if(f>a){c=m,a=f;continue}r?m>c&&(c=m):m<c&&(c=m)}return[r?1-c:c,a]},DM=function(){const n=document.createElement("button");n.className="highlightButton",n.tabIndex=0,n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const r=document.createElement("span");n.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const a=y(this,rm)._signal;n.addEventListener("contextmenu",vc,{signal:a}),n.addEventListener("click",()=>{y(this,rm).highlightSelection("floating_button")},{signal:a}),y(this,A0).append(n)};function bw(A,n,r){for(const a of r)n.addEventListener(a,A[a].bind(A))}function J2(A){return Math.round(Math.min(255,Math.max(1,255*A))).toString(16).padStart(2,"0")}var Aw;class Q2{constructor(){fe(this,Aw,0)}get id(){return`${k2}${Il(this,Aw)._++}`}}Aw=new WeakMap;var nv,T0,xl,rv,Xb;const NS=class NS{constructor(){fe(this,rv);fe(this,nv,W2());fe(this,T0,0);fe(this,xl,null)}static get _isSVGFittingCanvas(){const n='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',a=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),c=new Image;c.src=n;const h=c.decode().then(()=>(a.drawImage(c,0,0,1,1,0,0,1,3),new Uint32Array(a.getImageData(0,0,1,1).data.buffer)[0]===0));return Ni(this,"_isSVGFittingCanvas",h)}async getFromFile(n){const{lastModified:r,name:a,size:c,type:h}=n;return ce(this,rv,Xb).call(this,`${r}_${a}_${c}_${h}`,n)}async getFromUrl(n){return ce(this,rv,Xb).call(this,n,n)}async getFromBlob(n,r){const a=await r;return ce(this,rv,Xb).call(this,n,a)}async getFromId(n){y(this,xl)||se(this,xl,new Map);const r=y(this,xl).get(n);if(!r)return null;if(r.bitmap)return r.refCounter+=1,r;if(r.file)return this.getFromFile(r.file);if(r.blobPromise){const{blobPromise:a}=r;return delete r.blobPromise,this.getFromBlob(r.id,a)}return this.getFromUrl(r.url)}getFromCanvas(n,r){y(this,xl)||se(this,xl,new Map);let a=y(this,xl).get(n);if(a!=null&&a.bitmap)return a.refCounter+=1,a;const c=new OffscreenCanvas(r.width,r.height);return c.getContext("2d").drawImage(r,0,0),a={bitmap:c.transferToImageBitmap(),id:`image_${y(this,nv)}_${Il(this,T0)._++}`,refCounter:1,isSvg:!1},y(this,xl).set(n,a),y(this,xl).set(a.id,a),a}getSvgUrl(n){const r=y(this,xl).get(n);return r!=null&&r.isSvg?r.svgUrl:null}deleteId(n){var c;y(this,xl)||se(this,xl,new Map);const r=y(this,xl).get(n);if(!r||(r.refCounter-=1,r.refCounter!==0))return;const{bitmap:a}=r;if(!r.url&&!r.file){const h=new OffscreenCanvas(a.width,a.height);h.getContext("bitmaprenderer").transferFromImageBitmap(a),r.blobPromise=h.convertToBlob()}(c=a.close)==null||c.call(a),r.bitmap=null}isValidId(n){return n.startsWith(`image_${y(this,nv)}_`)}};nv=new WeakMap,T0=new WeakMap,xl=new WeakMap,rv=new WeakSet,Xb=async function(n,r){y(this,xl)||se(this,xl,new Map);let a=y(this,xl).get(n);if(a===null)return null;if(a!=null&&a.bitmap)return a.refCounter+=1,a;try{a||(a={bitmap:null,id:`image_${y(this,nv)}_${Il(this,T0)._++}`,refCounter:0,isSvg:!1});let c;if(typeof r=="string"?(a.url=r,c=await Yw(r,"blob")):r instanceof File?c=a.file=r:r instanceof Blob&&(c=r),c.type==="image/svg+xml"){const h=NS._isSVGFittingCanvas,f=new FileReader,m=new Image,b=new Promise((_,E)=>{m.onload=()=>{a.bitmap=m,a.isSvg=!0,_()},f.onload=async()=>{const T=a.svgUrl=f.result;m.src=await h?`${T}#svgView(preserveAspectRatio(none))`:T},m.onerror=f.onerror=E});f.readAsDataURL(c),await b}else a.bitmap=await createImageBitmap(c);a.refCounter=1}catch(c){console.error(c),a=null}return y(this,xl).set(n,a),a&&y(this,xl).set(a.id,a),a};let u_=NS;var Va,If,C0,Wa;class eL{constructor(n=128){fe(this,Va,[]);fe(this,If,!1);fe(this,C0);fe(this,Wa,-1);se(this,C0,n)}add({cmd:n,undo:r,post:a,mustExec:c,type:h=NaN,overwriteIfSameType:f=!1,keepUndo:m=!1}){if(c&&n(),y(this,If))return;const b={cmd:n,undo:r,post:a,type:h};if(y(this,Wa)===-1){y(this,Va).length>0&&(y(this,Va).length=0),se(this,Wa,0),y(this,Va).push(b);return}if(f&&y(this,Va)[y(this,Wa)].type===h){m&&(b.undo=y(this,Va)[y(this,Wa)].undo),y(this,Va)[y(this,Wa)]=b;return}const _=y(this,Wa)+1;_===y(this,C0)?y(this,Va).splice(0,1):(se(this,Wa,_),_<y(this,Va).length&&y(this,Va).splice(_)),y(this,Va).push(b)}undo(){if(y(this,Wa)===-1)return;se(this,If,!0);const{undo:n,post:r}=y(this,Va)[y(this,Wa)];n(),r==null||r(),se(this,If,!1),se(this,Wa,y(this,Wa)-1)}redo(){if(y(this,Wa)<y(this,Va).length-1){se(this,Wa,y(this,Wa)+1),se(this,If,!0);const{cmd:n,post:r}=y(this,Va)[y(this,Wa)];n(),r==null||r(),se(this,If,!1)}}hasSomethingToUndo(){return y(this,Wa)!==-1}hasSomethingToRedo(){return y(this,Wa)<y(this,Va).length-1}destroy(){se(this,Va,null)}}Va=new WeakMap,If=new WeakMap,C0=new WeakMap,Wa=new WeakMap;var Tw,NM;class Bx{constructor(n){fe(this,Tw);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:r}=zl.platform;for(const[a,c,h={}]of n)for(const f of a){const m=f.startsWith("mac+");r&&m?(this.callbacks.set(f.slice(4),{callback:c,options:h}),this.allKeys.add(f.split("+").at(-1))):!r&&!m&&(this.callbacks.set(f,{callback:c,options:h}),this.allKeys.add(f.split("+").at(-1)))}}exec(n,r){if(!this.allKeys.has(r.key))return;const a=this.callbacks.get(ce(this,Tw,NM).call(this,r));if(!a)return;const{callback:c,options:{bubbles:h=!1,args:f=[],checker:m=null}}=a;m&&!m(n,r)||(c.bind(n,...f,r)(),h||(r.stopPropagation(),r.preventDefault()))}}Tw=new WeakSet,NM=function(n){n.altKey&&this.buffer.push("alt"),n.ctrlKey&&this.buffer.push("ctrl"),n.metaKey&&this.buffer.push("meta"),n.shiftKey&&this.buffer.push("shift"),this.buffer.push(n.key);const r=this.buffer.join("+");return this.buffer.length=0,r};const Cw=class Cw{get _colors(){const n=new Map([["CanvasText",null],["Canvas",null]]);return Z2(n),Ni(this,"_colors",n)}convert(n){const r=TS(n);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[a,c]of this._colors)if(c.every((h,f)=>h===r[f]))return Cw._colorsMapping.get(a);return r}getHexCode(n){const r=this._colors.get(n);return r?xr.makeHexColor(...r):n}};Wr(Cw,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let c_=Cw;var iv,Cu,Sa,sl,sv,xd,ov,qc,Df,av,im,Oh,Xc,sm,L0,P0,lv,R0,Ih,Nf,uv,Ff,Dh,Lw,zf,k0,Bf,om,O0,I0,qa,ys,bd,am,D0,N0,Hf,Nh,wd,F0,uc,jn,$b,h_,FM,zM,Yb,BM,HM,jM,d_,UM,f_,p_,GM,Dl,Pf,VM,WM,m_,qM,i0,g_;const Kg=class Kg{constructor(n,r,a,c,h,f,m,b,_,E,T){fe(this,jn);fe(this,iv,new AbortController);fe(this,Cu,null);fe(this,Sa,new Map);fe(this,sl,new Map);fe(this,sv,null);fe(this,xd,null);fe(this,ov,null);fe(this,qc,new eL);fe(this,Df,null);fe(this,av,0);fe(this,im,new Set);fe(this,Oh,null);fe(this,Xc,null);fe(this,sm,new Set);fe(this,L0,!1);fe(this,P0,!1);fe(this,lv,!1);fe(this,R0,null);fe(this,Ih,null);fe(this,Nf,null);fe(this,uv,null);fe(this,Ff,!1);fe(this,Dh,null);fe(this,Lw,new Q2);fe(this,zf,!1);fe(this,k0,!1);fe(this,Bf,null);fe(this,om,null);fe(this,O0,null);fe(this,I0,null);fe(this,qa,di.NONE);fe(this,ys,new Set);fe(this,bd,null);fe(this,am,null);fe(this,D0,null);fe(this,N0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});fe(this,Hf,[0,0]);fe(this,Nh,null);fe(this,wd,null);fe(this,F0,null);fe(this,uc,null);const k=this._signal=y(this,iv).signal;se(this,wd,n),se(this,F0,r),se(this,sv,a),this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:k}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:k}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:k}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:k}),c._on("setpreference",this.onSetPreference.bind(this),{signal:k}),c._on("switchannotationeditorparams",G=>this.updateParams(G.type,G.value),{signal:k}),ce(this,jn,BM).call(this),ce(this,jn,GM).call(this),ce(this,jn,d_).call(this),se(this,xd,h.annotationStorage),se(this,R0,h.filterFactory),se(this,am,f),se(this,uv,m||null),se(this,L0,b),se(this,P0,_),se(this,lv,E),se(this,I0,T||null),this.viewParameters={realScale:op.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const n=Kg.prototype,r=f=>y(f,wd).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&f.hasSomethingToControl(),a=(f,{target:m})=>{if(m instanceof HTMLInputElement){const{type:b}=m;return b!=="text"&&b!=="number"}return!0},c=this.TRANSLATE_SMALL,h=this.TRANSLATE_BIG;return Ni(this,"_keyboardManager",new Bx([[["ctrl+a","mac+meta+a"],n.selectAll,{checker:a}],[["ctrl+z","mac+meta+z"],n.undo,{checker:a}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],n.redo,{checker:a}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],n.delete,{checker:a}],[["Enter","mac+Enter"],n.addNewEditorFromKeyboard,{checker:(f,{target:m})=>!(m instanceof HTMLButtonElement)&&y(f,wd).contains(m)&&!f.isEnterHandled}],[[" ","mac+ "],n.addNewEditorFromKeyboard,{checker:(f,{target:m})=>!(m instanceof HTMLButtonElement)&&y(f,wd).contains(document.activeElement)}],[["Escape","mac+Escape"],n.unselectAll],[["ArrowLeft","mac+ArrowLeft"],n.translateSelectedEditors,{args:[-c,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n.translateSelectedEditors,{args:[-h,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n.translateSelectedEditors,{args:[c,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n.translateSelectedEditors,{args:[h,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n.translateSelectedEditors,{args:[0,-c],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n.translateSelectedEditors,{args:[0,-h],checker:r}],[["ArrowDown","mac+ArrowDown"],n.translateSelectedEditors,{args:[0,c],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n.translateSelectedEditors,{args:[0,h],checker:r}]]))}destroy(){var n,r,a,c;(n=y(this,uc))==null||n.resolve(),se(this,uc,null),(r=y(this,iv))==null||r.abort(),se(this,iv,null),this._signal=null;for(const h of y(this,sl).values())h.destroy();y(this,sl).clear(),y(this,Sa).clear(),y(this,sm).clear(),se(this,Cu,null),y(this,ys).clear(),y(this,qc).destroy(),(a=y(this,sv))==null||a.destroy(),(c=y(this,Dh))==null||c.hide(),se(this,Dh,null),y(this,Ih)&&(clearTimeout(y(this,Ih)),se(this,Ih,null)),y(this,Nh)&&(clearTimeout(y(this,Nh)),se(this,Nh,null))}combinedSignal(n){return AbortSignal.any([this._signal,n.signal])}get mlManager(){return y(this,I0)}get useNewAltTextFlow(){return y(this,P0)}get useNewAltTextWhenAddingImage(){return y(this,lv)}get hcmFilter(){return Ni(this,"hcmFilter",y(this,am)?y(this,R0).addHCMFilter(y(this,am).foreground,y(this,am).background):"none")}get direction(){return Ni(this,"direction",getComputedStyle(y(this,wd)).direction)}get highlightColors(){return Ni(this,"highlightColors",y(this,uv)?new Map(y(this,uv).split(",").map(n=>n.split("=").map(r=>r.trim()))):null)}get highlightColorNames(){return Ni(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,n=>n.reverse())):null)}setMainHighlightColorPicker(n){se(this,O0,n)}editAltText(n,r=!1){var a;(a=y(this,sv))==null||a.editAltText(this,n,r)}switchToMode(n,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:n})}setPreference(n,r){this._eventBus.dispatch("setpreference",{source:this,name:n,value:r})}onSetPreference({name:n,value:r}){switch(n){case"enableNewAltTextWhenAddingImage":se(this,lv,r);break}}onPageChanging({pageNumber:n}){se(this,av,n-1)}focusMainContainer(){y(this,wd).focus()}findParent(n,r){for(const a of y(this,sl).values()){const{x:c,y:h,width:f,height:m}=a.div.getBoundingClientRect();if(n>=c&&n<=c+f&&r>=h&&r<=h+m)return a}return null}disableUserSelect(n=!1){y(this,F0).classList.toggle("noUserSelect",n)}addShouldRescale(n){y(this,sm).add(n)}removeShouldRescale(n){y(this,sm).delete(n)}onScaleChanging({scale:n}){this.commitOrRemove(),this.viewParameters.realScale=n*op.PDF_TO_CSS_UNITS;for(const r of y(this,sm))r.onScaleChanging()}onRotationChanging({pagesRotation:n}){this.commitOrRemove(),this.viewParameters.rotation=n}highlightSelection(n=""){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:a,anchorOffset:c,focusNode:h,focusOffset:f}=r,m=r.toString(),_=ce(this,jn,$b).call(this,r).closest(".textLayer"),E=this.getSelectionBoxes(_);if(!E)return;r.empty();const T=ce(this,jn,h_).call(this,_),k=y(this,qa)===di.NONE,G=()=>{T==null||T.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:n,boxes:E,anchorNode:a,anchorOffset:c,focusNode:h,focusOffset:f,text:m}),k&&this.showAllEditors("highlight",!0,!0)};if(k){this.switchToMode(di.HIGHLIGHT,G);return}G()}addToAnnotationStorage(n){!n.isEmpty()&&y(this,xd)&&!y(this,xd).has(n.id)&&y(this,xd).setValue(n.id,n)}blur(){if(this.isShiftKeyDown=!1,y(this,Ff)&&(se(this,Ff,!1),ce(this,jn,Yb).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:n}=document;for(const r of y(this,ys))if(r.div.contains(n)){se(this,om,[r,n]),r._focusEventsAllowed=!1;break}}focus(){if(!y(this,om))return;const[n,r]=y(this,om);se(this,om,null),r.addEventListener("focusin",()=>{n._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}addEditListeners(){ce(this,jn,d_).call(this),ce(this,jn,f_).call(this)}removeEditListeners(){ce(this,jn,UM).call(this),ce(this,jn,p_).call(this)}dragOver(n){for(const{type:r}of n.dataTransfer.items)for(const a of y(this,Xc))if(a.isHandlingMimeForPasting(r)){n.dataTransfer.dropEffect="copy",n.preventDefault();return}}drop(n){for(const r of n.dataTransfer.items)for(const a of y(this,Xc))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer),n.preventDefault();return}}copy(n){var a;if(n.preventDefault(),(a=y(this,Cu))==null||a.commitOrRemove(),!this.hasSelection)return;const r=[];for(const c of y(this,ys)){const h=c.serialize(!0);h&&r.push(h)}r.length!==0&&n.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(n){this.copy(n),this.delete()}async paste(n){n.preventDefault();const{clipboardData:r}=n;for(const h of r.items)for(const f of y(this,Xc))if(f.isHandlingMimeForPasting(h.type)){f.paste(h,this.currentLayer);return}let a=r.getData("application/pdfjs");if(!a)return;try{a=JSON.parse(a)}catch(h){yi(`paste: "${h.message}".`);return}if(!Array.isArray(a))return;this.unselectAll();const c=this.currentLayer;try{const h=[];for(const b of a){const _=await c.deserialize(b);if(!_)return;h.push(_)}const f=()=>{for(const b of h)ce(this,jn,m_).call(this,b);ce(this,jn,g_).call(this,h)},m=()=>{for(const b of h)b.remove()};this.addCommands({cmd:f,undo:m,mustExec:!0})}catch(h){yi(`paste: "${h.message}".`)}}keydown(n){!this.isShiftKeyDown&&n.key==="Shift"&&(this.isShiftKeyDown=!0),y(this,qa)!==di.NONE&&!this.isEditorHandlingKeyboard&&Kg._keyboardManager.exec(this,n)}keyup(n){this.isShiftKeyDown&&n.key==="Shift"&&(this.isShiftKeyDown=!1,y(this,Ff)&&(se(this,Ff,!1),ce(this,jn,Yb).call(this,"main_toolbar")))}onEditingAction({name:n}){switch(n){case"undo":case"redo":case"delete":case"selectAll":this[n]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(n){n?(ce(this,jn,HM).call(this),ce(this,jn,f_).call(this),ce(this,jn,Dl).call(this,{isEditing:y(this,qa)!==di.NONE,isEmpty:ce(this,jn,i0).call(this),hasSomethingToUndo:y(this,qc).hasSomethingToUndo(),hasSomethingToRedo:y(this,qc).hasSomethingToRedo(),hasSelectedEditor:!1})):(ce(this,jn,jM).call(this),ce(this,jn,p_).call(this),ce(this,jn,Dl).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(n){if(!y(this,Xc)){se(this,Xc,n);for(const r of y(this,Xc))ce(this,jn,Pf).call(this,r.defaultPropertiesToUpdate)}}getId(){return y(this,Lw).id}get currentLayer(){return y(this,sl).get(y(this,av))}getLayer(n){return y(this,sl).get(n)}get currentPageIndex(){return y(this,av)}addLayer(n){y(this,sl).set(n.pageIndex,n),y(this,zf)?n.enable():n.disable()}removeLayer(n){y(this,sl).delete(n.pageIndex)}async updateMode(n,r=null,a=!1){if(y(this,qa)!==n&&!(y(this,uc)&&(await y(this,uc).promise,!y(this,uc)))){if(se(this,uc,Promise.withResolvers()),se(this,qa,n),n===di.NONE){this.setEditingState(!1),ce(this,jn,WM).call(this),y(this,uc).resolve();return}this.setEditingState(!0),await ce(this,jn,VM).call(this),this.unselectAll();for(const c of y(this,sl).values())c.updateMode(n);if(!r){a&&this.addNewEditorFromKeyboard(),y(this,uc).resolve();return}for(const c of y(this,Sa).values())c.annotationElementId===r?(this.setSelected(c),c.enterInEditMode()):c.unselect();y(this,uc).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(n){n!==y(this,qa)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:n})}updateParams(n,r){var a;if(y(this,Xc)){switch(n){case qr.CREATE:this.currentLayer.addNewEditor();return;case qr.HIGHLIGHT_DEFAULT_COLOR:(a=y(this,O0))==null||a.updateColor(r);break;case qr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(y(this,D0)||se(this,D0,new Map)).set(n,r),this.showAllEditors("highlight",r);break}for(const c of y(this,ys))c.updateParams(n,r);for(const c of y(this,Xc))c.updateDefaultParams(n,r)}}showAllEditors(n,r,a=!1){var h;for(const f of y(this,Sa).values())f.editorType===n&&f.show(r);(((h=y(this,D0))==null?void 0:h.get(qr.HIGHLIGHT_SHOW_ALL))??!0)!==r&&ce(this,jn,Pf).call(this,[[qr.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(n=!1){if(y(this,k0)!==n){se(this,k0,n);for(const r of y(this,sl).values())n?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",n)}}getEditors(n){const r=[];for(const a of y(this,Sa).values())a.pageIndex===n&&r.push(a);return r}getEditor(n){return y(this,Sa).get(n)}addEditor(n){y(this,Sa).set(n.id,n)}removeEditor(n){var r;n.div.contains(document.activeElement)&&(y(this,Ih)&&clearTimeout(y(this,Ih)),se(this,Ih,setTimeout(()=>{this.focusMainContainer(),se(this,Ih,null)},0))),y(this,Sa).delete(n.id),this.unselect(n),(!n.annotationElementId||!y(this,im).has(n.annotationElementId))&&((r=y(this,xd))==null||r.remove(n.id))}addDeletedAnnotationElement(n){y(this,im).add(n.annotationElementId),this.addChangedExistingAnnotation(n),n.deleted=!0}isDeletedAnnotationElement(n){return y(this,im).has(n)}removeDeletedAnnotationElement(n){y(this,im).delete(n.annotationElementId),this.removeChangedExistingAnnotation(n),n.deleted=!1}setActiveEditor(n){y(this,Cu)!==n&&(se(this,Cu,n),n&&ce(this,jn,Pf).call(this,n.propertiesToUpdate))}updateUI(n){y(this,jn,qM)===n&&ce(this,jn,Pf).call(this,n.propertiesToUpdate)}toggleSelected(n){if(y(this,ys).has(n)){y(this,ys).delete(n),n.unselect(),ce(this,jn,Dl).call(this,{hasSelectedEditor:this.hasSelection});return}y(this,ys).add(n),n.select(),ce(this,jn,Pf).call(this,n.propertiesToUpdate),ce(this,jn,Dl).call(this,{hasSelectedEditor:!0})}setSelected(n){for(const r of y(this,ys))r!==n&&r.unselect();y(this,ys).clear(),y(this,ys).add(n),n.select(),ce(this,jn,Pf).call(this,n.propertiesToUpdate),ce(this,jn,Dl).call(this,{hasSelectedEditor:!0})}isSelected(n){return y(this,ys).has(n)}get firstSelectedEditor(){return y(this,ys).values().next().value}unselect(n){n.unselect(),y(this,ys).delete(n),ce(this,jn,Dl).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return y(this,ys).size!==0}get isEnterHandled(){return y(this,ys).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){y(this,qc).undo(),ce(this,jn,Dl).call(this,{hasSomethingToUndo:y(this,qc).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ce(this,jn,i0).call(this)})}redo(){y(this,qc).redo(),ce(this,jn,Dl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:y(this,qc).hasSomethingToRedo(),isEmpty:ce(this,jn,i0).call(this)})}addCommands(n){y(this,qc).add(n),ce(this,jn,Dl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ce(this,jn,i0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const n=[...y(this,ys)],r=()=>{for(const c of n)c.remove()},a=()=>{for(const c of n)ce(this,jn,m_).call(this,c)};this.addCommands({cmd:r,undo:a,mustExec:!0})}commitOrRemove(){var n;(n=y(this,Cu))==null||n.commitOrRemove()}hasSomethingToControl(){return y(this,Cu)||this.hasSelection}selectAll(){for(const n of y(this,ys))n.commit();ce(this,jn,g_).call(this,y(this,Sa).values())}unselectAll(){if(!(y(this,Cu)&&(y(this,Cu).commitOrRemove(),y(this,qa)!==di.NONE))&&this.hasSelection){for(const n of y(this,ys))n.unselect();y(this,ys).clear(),ce(this,jn,Dl).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(n,r,a=!1){if(a||this.commitOrRemove(),!this.hasSelection)return;y(this,Hf)[0]+=n,y(this,Hf)[1]+=r;const[c,h]=y(this,Hf),f=[...y(this,ys)],m=1e3;y(this,Nh)&&clearTimeout(y(this,Nh)),se(this,Nh,setTimeout(()=>{se(this,Nh,null),y(this,Hf)[0]=y(this,Hf)[1]=0,this.addCommands({cmd:()=>{for(const b of f)y(this,Sa).has(b.id)&&b.translateInPage(c,h)},undo:()=>{for(const b of f)y(this,Sa).has(b.id)&&b.translateInPage(-c,-h)},mustExec:!1})},m));for(const b of f)b.translateInPage(n,r)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),se(this,Oh,new Map);for(const n of y(this,ys))y(this,Oh).set(n,{savedX:n.x,savedY:n.y,savedPageIndex:n.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!y(this,Oh))return!1;this.disableUserSelect(!1);const n=y(this,Oh);se(this,Oh,null);let r=!1;for(const[{x:c,y:h,pageIndex:f},m]of n)m.newX=c,m.newY=h,m.newPageIndex=f,r||(r=c!==m.savedX||h!==m.savedY||f!==m.savedPageIndex);if(!r)return!1;const a=(c,h,f,m)=>{if(y(this,Sa).has(c.id)){const b=y(this,sl).get(m);b?c._setParentAndPosition(b,h,f):(c.pageIndex=m,c.x=h,c.y=f)}};return this.addCommands({cmd:()=>{for(const[c,{newX:h,newY:f,newPageIndex:m}]of n)a(c,h,f,m)},undo:()=>{for(const[c,{savedX:h,savedY:f,savedPageIndex:m}]of n)a(c,h,f,m)},mustExec:!0}),!0}dragSelectedEditors(n,r){if(y(this,Oh))for(const a of y(this,Oh).keys())a.drag(n,r)}rebuild(n){if(n.parent===null){const r=this.getLayer(n.pageIndex);r?(r.changeParent(n),r.addOrRebuild(n)):(this.addEditor(n),this.addToAnnotationStorage(n),n.rebuild())}else n.parent.addOrRebuild(n)}get isEditorHandlingKeyboard(){var n;return((n=this.getActive())==null?void 0:n.shouldGetKeyboardEvents())||y(this,ys).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(n){return y(this,Cu)===n}getActive(){return y(this,Cu)}getMode(){return y(this,qa)}get imageManager(){return Ni(this,"imageManager",new u_)}getSelectionBoxes(n){if(!n)return null;const r=document.getSelection();for(let _=0,E=r.rangeCount;_<E;_++)if(!n.contains(r.getRangeAt(_).commonAncestorContainer))return null;const{x:a,y:c,width:h,height:f}=n.getBoundingClientRect();let m;switch(n.getAttribute("data-main-rotation")){case"90":m=(_,E,T,k)=>({x:(E-c)/f,y:1-(_+T-a)/h,width:k/f,height:T/h});break;case"180":m=(_,E,T,k)=>({x:1-(_+T-a)/h,y:1-(E+k-c)/f,width:T/h,height:k/f});break;case"270":m=(_,E,T,k)=>({x:1-(E+k-c)/f,y:(_-a)/h,width:k/f,height:T/h});break;default:m=(_,E,T,k)=>({x:(_-a)/h,y:(E-c)/f,width:T/h,height:k/f});break}const b=[];for(let _=0,E=r.rangeCount;_<E;_++){const T=r.getRangeAt(_);if(!T.collapsed)for(const{x:k,y:G,width:q,height:X}of T.getClientRects())q===0||X===0||b.push(m(k,G,q,X))}return b.length===0?null:b}addChangedExistingAnnotation({annotationElementId:n,id:r}){(y(this,ov)||se(this,ov,new Map)).set(n,r)}removeChangedExistingAnnotation({annotationElementId:n}){var r;(r=y(this,ov))==null||r.delete(n)}renderAnnotationElement(n){var c;const r=(c=y(this,ov))==null?void 0:c.get(n.data.id);if(!r)return;const a=y(this,xd).getRawValue(r);a&&(y(this,qa)===di.NONE&&!a.hasBeenModified||a.renderAnnotationElement(n))}};iv=new WeakMap,Cu=new WeakMap,Sa=new WeakMap,sl=new WeakMap,sv=new WeakMap,xd=new WeakMap,ov=new WeakMap,qc=new WeakMap,Df=new WeakMap,av=new WeakMap,im=new WeakMap,Oh=new WeakMap,Xc=new WeakMap,sm=new WeakMap,L0=new WeakMap,P0=new WeakMap,lv=new WeakMap,R0=new WeakMap,Ih=new WeakMap,Nf=new WeakMap,uv=new WeakMap,Ff=new WeakMap,Dh=new WeakMap,Lw=new WeakMap,zf=new WeakMap,k0=new WeakMap,Bf=new WeakMap,om=new WeakMap,O0=new WeakMap,I0=new WeakMap,qa=new WeakMap,ys=new WeakMap,bd=new WeakMap,am=new WeakMap,D0=new WeakMap,N0=new WeakMap,Hf=new WeakMap,Nh=new WeakMap,wd=new WeakMap,F0=new WeakMap,uc=new WeakMap,jn=new WeakSet,$b=function({anchorNode:n}){return n.nodeType===Node.TEXT_NODE?n.parentElement:n},h_=function(n){const{currentLayer:r}=this;if(r.hasTextLayer(n))return r;for(const a of y(this,sl).values())if(a.hasTextLayer(n))return a;return null},FM=function(){const n=document.getSelection();if(!n||n.isCollapsed)return;const a=ce(this,jn,$b).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(a);c&&(y(this,Dh)||se(this,Dh,new K2(this)),y(this,Dh).show(a,c,this.direction==="ltr"))},zM=function(){var h,f,m;const n=document.getSelection();if(!n||n.isCollapsed){y(this,bd)&&((h=y(this,Dh))==null||h.hide(),se(this,bd,null),ce(this,jn,Dl).call(this,{hasSelectedText:!1}));return}const{anchorNode:r}=n;if(r===y(this,bd))return;const c=ce(this,jn,$b).call(this,n).closest(".textLayer");if(!c){y(this,bd)&&((f=y(this,Dh))==null||f.hide(),se(this,bd,null),ce(this,jn,Dl).call(this,{hasSelectedText:!1}));return}if((m=y(this,Dh))==null||m.hide(),se(this,bd,r),ce(this,jn,Dl).call(this,{hasSelectedText:!0}),!(y(this,qa)!==di.HIGHLIGHT&&y(this,qa)!==di.NONE)&&(y(this,qa)===di.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),se(this,Ff,this.isShiftKeyDown),!this.isShiftKeyDown)){const b=y(this,qa)===di.HIGHLIGHT?ce(this,jn,h_).call(this,c):null;b==null||b.toggleDrawing();const _=new AbortController,E=this.combinedSignal(_),T=k=>{k.type==="pointerup"&&k.button!==0||(_.abort(),b==null||b.toggleDrawing(!0),k.type==="pointerup"&&ce(this,jn,Yb).call(this,"main_toolbar"))};window.addEventListener("pointerup",T,{signal:E}),window.addEventListener("blur",T,{signal:E})}},Yb=function(n=""){y(this,qa)===di.HIGHLIGHT?this.highlightSelection(n):y(this,L0)&&ce(this,jn,FM).call(this)},BM=function(){document.addEventListener("selectionchange",ce(this,jn,zM).bind(this),{signal:this._signal})},HM=function(){if(y(this,Nf))return;se(this,Nf,new AbortController);const n=this.combinedSignal(y(this,Nf));window.addEventListener("focus",this.focus.bind(this),{signal:n}),window.addEventListener("blur",this.blur.bind(this),{signal:n})},jM=function(){var n;(n=y(this,Nf))==null||n.abort(),se(this,Nf,null)},d_=function(){if(y(this,Bf))return;se(this,Bf,new AbortController);const n=this.combinedSignal(y(this,Bf));window.addEventListener("keydown",this.keydown.bind(this),{signal:n}),window.addEventListener("keyup",this.keyup.bind(this),{signal:n})},UM=function(){var n;(n=y(this,Bf))==null||n.abort(),se(this,Bf,null)},f_=function(){if(y(this,Df))return;se(this,Df,new AbortController);const n=this.combinedSignal(y(this,Df));document.addEventListener("copy",this.copy.bind(this),{signal:n}),document.addEventListener("cut",this.cut.bind(this),{signal:n}),document.addEventListener("paste",this.paste.bind(this),{signal:n})},p_=function(){var n;(n=y(this,Df))==null||n.abort(),se(this,Df,null)},GM=function(){const n=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:n}),document.addEventListener("drop",this.drop.bind(this),{signal:n})},Dl=function(n){Object.entries(n).some(([a,c])=>y(this,N0)[a]!==c)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(y(this,N0),n)}),y(this,qa)===di.HIGHLIGHT&&n.hasSelectedEditor===!1&&ce(this,jn,Pf).call(this,[[qr.HIGHLIGHT_FREE,!0]]))},Pf=function(n){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:n})},VM=async function(){if(!y(this,zf)){se(this,zf,!0);const n=[];for(const r of y(this,sl).values())n.push(r.enable());await Promise.all(n);for(const r of y(this,Sa).values())r.enable()}},WM=function(){if(this.unselectAll(),y(this,zf)){se(this,zf,!1);for(const n of y(this,sl).values())n.disable();for(const n of y(this,Sa).values())n.disable()}},m_=function(n){const r=y(this,sl).get(n.pageIndex);r?r.addOrRebuild(n):(this.addEditor(n),this.addToAnnotationStorage(n))},qM=function(){let n=null;for(n of y(this,ys));return n},i0=function(){if(y(this,Sa).size===0)return!0;if(y(this,Sa).size===1)for(const n of y(this,Sa).values())return n.isEmpty();return!1},g_=function(n){for(const r of y(this,ys))r.unselect();y(this,ys).clear();for(const r of n)r.isEmpty()||(y(this,ys).add(r),r.select());ce(this,jn,Dl).call(this,{hasSelectedEditor:this.hasSelection})},Wr(Kg,"TRANSLATE_SMALL",1),Wr(Kg,"TRANSLATE_BIG",10);let Km=Kg;var Xa,Fh,$c,cv,zh,Lu,hv,Bh,ru,_d,lm,Hh,jf,ih,s0,Zb;const Nl=class Nl{constructor(n){fe(this,ih);fe(this,Xa,null);fe(this,Fh,!1);fe(this,$c,null);fe(this,cv,null);fe(this,zh,null);fe(this,Lu,null);fe(this,hv,!1);fe(this,Bh,null);fe(this,ru,null);fe(this,_d,null);fe(this,lm,null);fe(this,Hh,!1);se(this,ru,n),se(this,Hh,n._uiManager.useNewAltTextFlow),y(Nl,jf)||se(Nl,jf,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(n){Nl._l10n??(Nl._l10n=n)}async render(){const n=se(this,$c,document.createElement("button"));n.className="altText",n.tabIndex="0";const r=se(this,cv,document.createElement("span"));n.append(r),y(this,Hh)?(n.classList.add("new"),n.setAttribute("data-l10n-id",y(Nl,jf).missing),r.setAttribute("data-l10n-id",y(Nl,jf)["missing-label"])):(n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const a=y(this,ru)._uiManager._signal;n.addEventListener("contextmenu",vc,{signal:a}),n.addEventListener("pointerdown",h=>h.stopPropagation(),{signal:a});const c=h=>{h.preventDefault(),y(this,ru)._uiManager.editAltText(y(this,ru)),y(this,Hh)&&y(this,ru)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:y(this,ih,s0)}})};return n.addEventListener("click",c,{capture:!0,signal:a}),n.addEventListener("keydown",h=>{h.target===n&&h.key==="Enter"&&(se(this,hv,!0),c(h))},{signal:a}),await ce(this,ih,Zb).call(this),n}finish(){y(this,$c)&&(y(this,$c).focus({focusVisible:y(this,hv)}),se(this,hv,!1))}isEmpty(){return y(this,Hh)?y(this,Xa)===null:!y(this,Xa)&&!y(this,Fh)}hasData(){return y(this,Hh)?y(this,Xa)!==null||!!y(this,_d):this.isEmpty()}get guessedText(){return y(this,_d)}async setGuessedText(n){y(this,Xa)===null&&(se(this,_d,n),se(this,lm,await Nl._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:n})),ce(this,ih,Zb).call(this))}toggleAltTextBadge(n=!1){var r;if(!y(this,Hh)||y(this,Xa)){(r=y(this,Bh))==null||r.remove(),se(this,Bh,null);return}if(!y(this,Bh)){const a=se(this,Bh,document.createElement("div"));a.className="noAltTextBadge",y(this,ru).div.append(a)}y(this,Bh).classList.toggle("hidden",!n)}serialize(n){let r=y(this,Xa);return!n&&y(this,_d)===r&&(r=y(this,lm)),{altText:r,decorative:y(this,Fh),guessedText:y(this,_d),textWithDisclaimer:y(this,lm)}}get data(){return{altText:y(this,Xa),decorative:y(this,Fh)}}set data({altText:n,decorative:r,guessedText:a,textWithDisclaimer:c,cancel:h=!1}){a&&(se(this,_d,a),se(this,lm,c)),!(y(this,Xa)===n&&y(this,Fh)===r)&&(h||(se(this,Xa,n),se(this,Fh,r)),ce(this,ih,Zb).call(this))}toggle(n=!1){y(this,$c)&&(!n&&y(this,Lu)&&(clearTimeout(y(this,Lu)),se(this,Lu,null)),y(this,$c).disabled=!n)}shown(){y(this,ru)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:y(this,ih,s0)}})}destroy(){var n,r;(n=y(this,$c))==null||n.remove(),se(this,$c,null),se(this,cv,null),se(this,zh,null),(r=y(this,Bh))==null||r.remove(),se(this,Bh,null)}};Xa=new WeakMap,Fh=new WeakMap,$c=new WeakMap,cv=new WeakMap,zh=new WeakMap,Lu=new WeakMap,hv=new WeakMap,Bh=new WeakMap,ru=new WeakMap,_d=new WeakMap,lm=new WeakMap,Hh=new WeakMap,jf=new WeakMap,ih=new WeakSet,s0=function(){return y(this,Xa)&&"added"||y(this,Xa)===null&&this.guessedText&&"review"||"missing"},Zb=async function(){var c,h,f;const n=y(this,$c);if(!n)return;if(y(this,Hh)){if(n.classList.toggle("done",!!y(this,Xa)),n.setAttribute("data-l10n-id",y(Nl,jf)[y(this,ih,s0)]),(c=y(this,cv))==null||c.setAttribute("data-l10n-id",y(Nl,jf)[`${y(this,ih,s0)}-label`]),!y(this,Xa)){(h=y(this,zh))==null||h.remove();return}}else{if(!y(this,Xa)&&!y(this,Fh)){n.classList.remove("done"),(f=y(this,zh))==null||f.remove();return}n.classList.add("done"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=y(this,zh);if(!r){se(this,zh,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${y(this,ru).id}`;const m=100,b=y(this,ru)._uiManager._signal;b.addEventListener("abort",()=>{clearTimeout(y(this,Lu)),se(this,Lu,null)},{once:!0}),n.addEventListener("mouseenter",()=>{se(this,Lu,setTimeout(()=>{se(this,Lu,null),y(this,zh).classList.add("show"),y(this,ru)._reportTelemetry({action:"alt_text_tooltip"})},m))},{signal:b}),n.addEventListener("mouseleave",()=>{var _;y(this,Lu)&&(clearTimeout(y(this,Lu)),se(this,Lu,null)),(_=y(this,zh))==null||_.classList.remove("show")},{signal:b})}y(this,Fh)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=y(this,Xa)),r.parentNode||n.append(r);const a=y(this,ru).getImageForAltText();a==null||a.setAttribute("aria-describedby",r.id)},fe(Nl,jf,null),Wr(Nl,"_l10n",null);let ww=Nl;var um,Yc,xo,dv,cm,ol,hm,Uf,z0,dm,Gf,B0,fm,Sd,jh,fv,pv,cc,H0,Pw,pi,v_,j0,y_,x_,XM,$M,b_,w_,__,YM,S_,ZM,KM,JM,E_,o0;const as=class as{constructor(n){fe(this,pi);fe(this,um,null);fe(this,Yc,null);fe(this,xo,null);fe(this,dv,!1);fe(this,cm,!1);fe(this,ol,null);fe(this,hm,null);fe(this,Uf,null);fe(this,z0,"");fe(this,dm,!1);fe(this,Gf,null);fe(this,B0,!1);fe(this,fm,!1);fe(this,Sd,!1);fe(this,jh,null);fe(this,fv,0);fe(this,pv,0);fe(this,cc,null);Wr(this,"_editToolbar",null);Wr(this,"_initialOptions",Object.create(null));Wr(this,"_initialData",null);Wr(this,"_isVisible",!0);Wr(this,"_uiManager",null);Wr(this,"_focusEventsAllowed",!0);fe(this,H0,!1);fe(this,Pw,as._zIndex++);this.parent=n.parent,this.id=n.id,this.width=this.height=null,this.pageIndex=n.parent.pageIndex,this.name=n.name,this.div=null,this._uiManager=n.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=n.isCentered,this._structTreeParentId=null;const{rotation:r,rawDims:{pageWidth:a,pageHeight:c,pageX:h,pageY:f}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,c],this.pageTranslation=[h,f];const[m,b]=this.parentDimensions;this.x=n.x/m,this.y=n.y/b,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const n=as.prototype._resizeWithKeyboard,r=Km.TRANSLATE_SMALL,a=Km.TRANSLATE_BIG;return Ni(this,"_resizerKeyboardManager",new Bx([[["ArrowLeft","mac+ArrowLeft"],n,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n,{args:[-a,0]}],[["ArrowRight","mac+ArrowRight"],n,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n,{args:[a,0]}],[["ArrowUp","mac+ArrowUp"],n,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n,{args:[0,-a]}],[["ArrowDown","mac+ArrowDown"],n,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n,{args:[0,a]}],[["Escape","mac+Escape"],as.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ni(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(n){const r=new tL({id:n.parent.getNextId(),parent:n.parent,uiManager:n._uiManager});r.annotationElementId=n.annotationElementId,r.deleted=!0,r._uiManager.addToAnnotationStorage(r)}static initialize(n,r){if(as._l10n??(as._l10n=n),as._l10nResizer||(as._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),as._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);as._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(n,r){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(n){return!1}static paste(n,r){Zs("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return y(this,H0)}set _isDraggable(n){var r;se(this,H0,n),(r=this.div)==null||r.classList.toggle("draggable",n)}get isEnterHandled(){return!0}center(){const[n,r]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*r/(n*2),this.y+=this.width*n/(r*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(n*2),this.y-=this.width*n/(r*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(n){this._uiManager.addCommands(n)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=y(this,Pw)}setParent(n){n!==null?(this.pageIndex=n.pageIndex,this.pageDimensions=n.pageDimensions):ce(this,pi,o0).call(this),this.parent=n}focusin(n){this._focusEventsAllowed&&(y(this,dm)?se(this,dm,!1):this.parent.setSelected(this))}focusout(n){var a;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const r=n.relatedTarget;r!=null&&r.closest(`#${this.id}`)||(n.preventDefault(),(a=this.parent)!=null&&a.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(n,r,a,c){const[h,f]=this.parentDimensions;[a,c]=this.screenToPageTranslation(a,c),this.x=(n+a)/h,this.y=(r+c)/f,this.fixAndSetPosition()}translate(n,r){ce(this,pi,v_).call(this,this.parentDimensions,n,r)}translateInPage(n,r){y(this,Gf)||se(this,Gf,[this.x,this.y]),ce(this,pi,v_).call(this,this.pageDimensions,n,r),this.div.scrollIntoView({block:"nearest"})}drag(n,r){y(this,Gf)||se(this,Gf,[this.x,this.y]);const[a,c]=this.parentDimensions;if(this.x+=n/a,this.y+=r/c,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:_,y:E}=this.div.getBoundingClientRect();this.parent.findNewParent(this,_,E)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:h,y:f}=this;const[m,b]=this.getBaseTranslation();h+=m,f+=b,this.div.style.left=`${(100*h).toFixed(2)}%`,this.div.style.top=`${(100*f).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!y(this,Gf)&&(y(this,Gf)[0]!==this.x||y(this,Gf)[1]!==this.y)}getBaseTranslation(){const[n,r]=this.parentDimensions,{_borderLineWidth:a}=as,c=a/n,h=a/r;switch(this.rotation){case 90:return[-c,h];case 180:return[c,h];case 270:return[c,-h];default:return[-c,-h]}}get _mustFixPosition(){return!0}fixAndSetPosition(n=this.rotation){const[r,a]=this.pageDimensions;let{x:c,y:h,width:f,height:m}=this;if(f*=r,m*=a,c*=r,h*=a,this._mustFixPosition)switch(n){case 0:c=Math.max(0,Math.min(r-f,c)),h=Math.max(0,Math.min(a-m,h));break;case 90:c=Math.max(0,Math.min(r-m,c)),h=Math.min(a,Math.max(f,h));break;case 180:c=Math.min(r,Math.max(f,c)),h=Math.min(a,Math.max(m,h));break;case 270:c=Math.min(r,Math.max(m,c)),h=Math.max(0,Math.min(a-f,h));break}this.x=c/=r,this.y=h/=a;const[b,_]=this.getBaseTranslation();c+=b,h+=_;const{style:E}=this.div;E.left=`${(100*c).toFixed(2)}%`,E.top=`${(100*h).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(n,r){var a;return ce(a=as,j0,y_).call(a,n,r,this.parentRotation)}pageTranslationToScreen(n,r){var a;return ce(a=as,j0,y_).call(a,n,r,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:n,pageDimensions:[r,a]}=this;return[r*n,a*n]}setDims(n,r){const[a,c]=this.parentDimensions;this.div.style.width=`${(100*n/a).toFixed(2)}%`,y(this,cm)||(this.div.style.height=`${(100*r/c).toFixed(2)}%`)}fixDims(){const{style:n}=this.div,{height:r,width:a}=n,c=a.endsWith("%"),h=!y(this,cm)&&r.endsWith("%");if(c&&h)return;const[f,m]=this.parentDimensions;c||(n.width=`${(100*parseFloat(a)/f).toFixed(2)}%`),!y(this,cm)&&!h&&(n.height=`${(100*parseFloat(r)/m).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var n;(n=y(this,xo))==null||n.finish()}async addEditToolbar(){return this._editToolbar||y(this,fm)?this._editToolbar:(this._editToolbar=new a_(this),this.div.append(this._editToolbar.render()),y(this,xo)&&await this._editToolbar.addAltText(y(this,xo)),this._editToolbar)}removeEditToolbar(){var n;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(n=y(this,xo))==null||n.destroy())}addContainer(n){var a;const r=(a=this._editToolbar)==null?void 0:a.div;r?r.before(n):this.div.append(n)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){y(this,xo)||(ww.initialize(as._l10n),se(this,xo,new ww(this)),y(this,um)&&(y(this,xo).data=y(this,um),se(this,um,null)),await this.addEditToolbar())}get altTextData(){var n;return(n=y(this,xo))==null?void 0:n.data}set altTextData(n){y(this,xo)&&(y(this,xo).data=n)}get guessedAltText(){var n;return(n=y(this,xo))==null?void 0:n.guessedText}async setGuessedAltText(n){var r;await((r=y(this,xo))==null?void 0:r.setGuessedText(n))}serializeAltText(n){var r;return(r=y(this,xo))==null?void 0:r.serialize(n)}hasAltText(){return!!y(this,xo)&&!y(this,xo).isEmpty()}hasAltTextData(){var n;return((n=y(this,xo))==null?void 0:n.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=y(this,dv)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),ce(this,pi,S_).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[a,c]=this.getInitialTranslation();return this.translate(a,c),bw(this,this.div,["pointerdown"]),this.div}pointerdown(n){const{isMac:r}=zl.platform;if(n.button!==0||n.ctrlKey&&r){n.preventDefault();return}if(se(this,dm,!0),this._isDraggable){ce(this,pi,YM).call(this,n);return}ce(this,pi,__).call(this,n)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){y(this,jh)&&clearTimeout(y(this,jh)),se(this,jh,setTimeout(()=>{var n;se(this,jh,null),(n=this.parent)==null||n.moveEditorInDOM(this)},0))}_setParentAndPosition(n,r,a){n.changeParent(this),this.x=r,this.y=a,this.fixAndSetPosition()}getRect(n,r,a=this.rotation){const c=this.parentScale,[h,f]=this.pageDimensions,[m,b]=this.pageTranslation,_=n/c,E=r/c,T=this.x*h,k=this.y*f,G=this.width*h,q=this.height*f;switch(a){case 0:return[T+_+m,f-k-E-q+b,T+_+G+m,f-k-E+b];case 90:return[T+E+m,f-k+_+b,T+E+q+m,f-k+_+G+b];case 180:return[T-_-G+m,f-k+E+b,T-_+m,f-k+E+q+b];case 270:return[T-E-q+m,f-k-_-G+b,T-E+m,f-k-_+b];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(n,r){const[a,c,h,f]=n,m=h-a,b=f-c;switch(this.rotation){case 0:return[a,r-f,m,b];case 90:return[a,r-c,b,m];case 180:return[h,r-c,m,b];case 270:return[h,r-f,b,m];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){se(this,fm,!0)}disableEditMode(){se(this,fm,!1)}isInEditMode(){return y(this,fm)}shouldGetKeyboardEvents(){return y(this,Sd)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){ce(this,pi,S_).call(this)}rotate(n){}serializeDeleted(){var n;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}serialize(n=!1,r=null){Zs("An editor must be serializable")}static async deserialize(n,r,a){const c=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:a});c.rotation=n.rotation,se(c,um,n.accessibilityData);const[h,f]=c.pageDimensions,[m,b,_,E]=c.getRectInCurrentCoords(n.rect,f);return c.x=m/h,c.y=b/f,c.width=_/h,c.height=E/f,c}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var n;if((n=y(this,Uf))==null||n.abort(),se(this,Uf,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),y(this,jh)&&(clearTimeout(y(this,jh)),se(this,jh,null)),ce(this,pi,o0).call(this),this.removeEditToolbar(),y(this,cc)){for(const r of y(this,cc).values())clearTimeout(r);se(this,cc,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(ce(this,pi,XM).call(this),y(this,ol).classList.remove("hidden"),bw(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(n){if(!this.isResizable||n.target!==this.div||n.key!=="Enter")return;this._uiManager.setSelected(this),se(this,hm,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const r=y(this,ol).children;if(!y(this,Yc)){se(this,Yc,Array.from(r));const f=ce(this,pi,ZM).bind(this),m=ce(this,pi,KM).bind(this),b=this._uiManager._signal;for(const _ of y(this,Yc)){const E=_.getAttribute("data-resizer-name");_.setAttribute("role","spinbutton"),_.addEventListener("keydown",f,{signal:b}),_.addEventListener("blur",m,{signal:b}),_.addEventListener("focus",ce(this,pi,JM).bind(this,E),{signal:b}),_.setAttribute("data-l10n-id",as._l10nResizer[E])}}const a=y(this,Yc)[0];let c=0;for(const f of r){if(f===a)break;c++}const h=(360-this.rotation+this.parentRotation)%360/90*(y(this,Yc).length/4);if(h!==c){if(h<c)for(let m=0;m<c-h;m++)y(this,ol).append(y(this,ol).firstChild);else if(h>c)for(let m=0;m<h-c;m++)y(this,ol).firstChild.before(y(this,ol).lastChild);let f=0;for(const m of r){const _=y(this,Yc)[f++].getAttribute("data-resizer-name");m.setAttribute("data-l10n-id",as._l10nResizer[_])}}ce(this,pi,E_).call(this,0),se(this,Sd,!0),y(this,ol).firstChild.focus({focusVisible:!0}),n.preventDefault(),n.stopImmediatePropagation()}_resizeWithKeyboard(n,r){y(this,Sd)&&ce(this,pi,w_).call(this,y(this,z0),{movementX:n,movementY:r})}_stopResizingWithKeyboard(){ce(this,pi,o0).call(this),this.div.focus()}select(){var n,r,a;if(this.makeResizable(),(n=this.div)==null||n.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var c,h;(c=this.div)!=null&&c.classList.contains("selectedEditor")&&((h=this._editToolbar)==null||h.show())});return}(r=this._editToolbar)==null||r.show(),(a=y(this,xo))==null||a.toggleAltTextBadge(!1)}unselect(){var n,r,a,c,h;(n=y(this,ol))==null||n.classList.add("hidden"),(r=this.div)==null||r.classList.remove("selectedEditor"),(a=this.div)!=null&&a.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(c=this._editToolbar)==null||c.hide(),(h=y(this,xo))==null||h.toggleAltTextBadge(!0)}updateParams(n,r){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return y(this,B0)}set isEditing(n){se(this,B0,n),this.parent&&(n?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(n,r){se(this,cm,!0);const a=n/r,{style:c}=this.div;c.aspectRatio=a,c.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(n,r=!1){if(r){y(this,cc)||se(this,cc,new Map);const{action:a}=n;let c=y(this,cc).get(a);c&&clearTimeout(c),c=setTimeout(()=>{this._reportTelemetry(n),y(this,cc).delete(a),y(this,cc).size===0&&se(this,cc,null)},as._telemetryTimeout),y(this,cc).set(a,c);return}n.type||(n.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:n}})}show(n=this._isVisible){this.div.classList.toggle("hidden",!n),this._isVisible=n}enable(){this.div&&(this.div.tabIndex=0),se(this,dv,!1)}disable(){this.div&&(this.div.tabIndex=-1),se(this,dv,!0)}renderAnnotationElement(n){let r=n.container.querySelector(".annotationContent");if(!r)r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),n.container.prepend(r);else if(r.nodeName==="CANVAS"){const a=r;r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),a.before(r)}return r}resetAnnotationElement(n){const{firstChild:r}=n.container;(r==null?void 0:r.nodeName)==="DIV"&&r.classList.contains("annotationContent")&&r.remove()}};um=new WeakMap,Yc=new WeakMap,xo=new WeakMap,dv=new WeakMap,cm=new WeakMap,ol=new WeakMap,hm=new WeakMap,Uf=new WeakMap,z0=new WeakMap,dm=new WeakMap,Gf=new WeakMap,B0=new WeakMap,fm=new WeakMap,Sd=new WeakMap,jh=new WeakMap,fv=new WeakMap,pv=new WeakMap,cc=new WeakMap,H0=new WeakMap,Pw=new WeakMap,pi=new WeakSet,v_=function([n,r],a,c){[a,c]=this.screenToPageTranslation(a,c),this.x+=a/n,this.y+=c/r,this.fixAndSetPosition()},j0=new WeakSet,y_=function(n,r,a){switch(a){case 90:return[r,-n];case 180:return[-n,-r];case 270:return[-r,n];default:return[n,r]}},x_=function(n){switch(n){case 90:{const[r,a]=this.pageDimensions;return[0,-r/a,a/r,0]}case 180:return[-1,0,0,-1];case 270:{const[r,a]=this.pageDimensions;return[0,r/a,-a/r,0]}default:return[1,0,0,1]}},XM=function(){if(y(this,ol))return;se(this,ol,document.createElement("div")),y(this,ol).classList.add("resizers");const n=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(const a of n){const c=document.createElement("div");y(this,ol).append(c),c.classList.add("resizer",a),c.setAttribute("data-resizer-name",a),c.addEventListener("pointerdown",ce(this,pi,$M).bind(this,a),{signal:r}),c.addEventListener("contextmenu",vc,{signal:r}),c.tabIndex=-1}this.div.prepend(y(this,ol))},$M=function(n,r){var q;r.preventDefault();const{isMac:a}=zl.platform;if(r.button!==0||r.ctrlKey&&a)return;(q=y(this,xo))==null||q.toggle(!1);const c=this._isDraggable;this._isDraggable=!1;const h=new AbortController,f=this._uiManager.combinedSignal(h);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ce(this,pi,w_).bind(this,n),{passive:!0,capture:!0,signal:f}),window.addEventListener("contextmenu",vc,{signal:f});const m=this.x,b=this.y,_=this.width,E=this.height,T=this.parent.div.style.cursor,k=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;const G=()=>{var X;h.abort(),this.parent.togglePointerEvents(!0),(X=y(this,xo))==null||X.toggle(!0),this._isDraggable=c,this.parent.div.style.cursor=T,this.div.style.cursor=k,ce(this,pi,b_).call(this,m,b,_,E)};window.addEventListener("pointerup",G,{signal:f}),window.addEventListener("blur",G,{signal:f})},b_=function(n,r,a,c){const h=this.x,f=this.y,m=this.width,b=this.height;h===n&&f===r&&m===a&&b===c||this.addCommands({cmd:()=>{this.width=m,this.height=b,this.x=h,this.y=f;const[_,E]=this.parentDimensions;this.setDims(_*m,E*b),this.fixAndSetPosition()},undo:()=>{this.width=a,this.height=c,this.x=n,this.y=r;const[_,E]=this.parentDimensions;this.setDims(_*a,E*c),this.fixAndSetPosition()},mustExec:!0})},w_=function(n,r){const[a,c]=this.parentDimensions,h=this.x,f=this.y,m=this.width,b=this.height,_=as.MIN_SIZE/a,E=as.MIN_SIZE/c,T=Qe=>Math.round(Qe*1e4)/1e4,k=ce(this,pi,x_).call(this,this.rotation),G=(Qe,Ue)=>[k[0]*Qe+k[2]*Ue,k[1]*Qe+k[3]*Ue],q=ce(this,pi,x_).call(this,360-this.rotation),X=(Qe,Ue)=>[q[0]*Qe+q[2]*Ue,q[1]*Qe+q[3]*Ue];let Y,W,ne=!1,oe=!1;switch(n){case"topLeft":ne=!0,Y=(Qe,Ue)=>[0,0],W=(Qe,Ue)=>[Qe,Ue];break;case"topMiddle":Y=(Qe,Ue)=>[Qe/2,0],W=(Qe,Ue)=>[Qe/2,Ue];break;case"topRight":ne=!0,Y=(Qe,Ue)=>[Qe,0],W=(Qe,Ue)=>[0,Ue];break;case"middleRight":oe=!0,Y=(Qe,Ue)=>[Qe,Ue/2],W=(Qe,Ue)=>[0,Ue/2];break;case"bottomRight":ne=!0,Y=(Qe,Ue)=>[Qe,Ue],W=(Qe,Ue)=>[0,0];break;case"bottomMiddle":Y=(Qe,Ue)=>[Qe/2,Ue],W=(Qe,Ue)=>[Qe/2,0];break;case"bottomLeft":ne=!0,Y=(Qe,Ue)=>[0,Ue],W=(Qe,Ue)=>[Qe,0];break;case"middleLeft":oe=!0,Y=(Qe,Ue)=>[0,Ue/2],W=(Qe,Ue)=>[Qe,Ue/2];break}const le=Y(m,b),Se=W(m,b);let be=G(...Se);const Pe=T(h+be[0]),P=T(f+be[1]);let We=1,tt=1,[dt,Ke]=this.screenToPageTranslation(r.movementX,r.movementY);if([dt,Ke]=X(dt/a,Ke/c),ne){const Qe=Math.hypot(m,b);We=tt=Math.max(Math.min(Math.hypot(Se[0]-le[0]-dt,Se[1]-le[1]-Ke)/Qe,1/m,1/b),_/m,E/b)}else oe?We=Math.max(_,Math.min(1,Math.abs(Se[0]-le[0]-dt)))/m:tt=Math.max(E,Math.min(1,Math.abs(Se[1]-le[1]-Ke)))/b;const Ze=T(m*We),Xe=T(b*tt);be=G(...W(Ze,Xe));const ft=Pe-be[0],Be=P-be[1];this.width=Ze,this.height=Xe,this.x=ft,this.y=Be,this.setDims(a*Ze,c*Xe),this.fixAndSetPosition()},__=function(n){const{isMac:r}=zl.platform;n.ctrlKey&&!r||n.shiftKey||n.metaKey&&r?this.parent.toggleSelected(this):this.parent.setSelected(this)},YM=function(n){const{isSelected:r}=this;this._uiManager.setUpDragSession();const a=new AbortController,c=this._uiManager.combinedSignal(a);if(r){this.div.classList.add("moving"),se(this,fv,n.clientX),se(this,pv,n.clientY);const f=m=>{const{clientX:b,clientY:_}=m,[E,T]=this.screenToPageTranslation(b-y(this,fv),_-y(this,pv));se(this,fv,b),se(this,pv,_),this._uiManager.dragSelectedEditors(E,T)};window.addEventListener("pointermove",f,{passive:!0,capture:!0,signal:c})}const h=()=>{a.abort(),r&&this.div.classList.remove("moving"),se(this,dm,!1),this._uiManager.endDragSession()||ce(this,pi,__).call(this,n)};window.addEventListener("pointerup",h,{signal:c}),window.addEventListener("blur",h,{signal:c})},S_=function(){if(y(this,Uf)||!this.div)return;se(this,Uf,new AbortController);const n=this._uiManager.combinedSignal(y(this,Uf));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:n}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:n})},ZM=function(n){as._resizerKeyboardManager.exec(this,n)},KM=function(n){var r;y(this,Sd)&&((r=n.relatedTarget)==null?void 0:r.parentNode)!==y(this,ol)&&ce(this,pi,o0).call(this)},JM=function(n){se(this,z0,y(this,Sd)?n:"")},E_=function(n){if(y(this,Yc))for(const r of y(this,Yc))r.tabIndex=n},o0=function(){if(se(this,Sd,!1),ce(this,pi,E_).call(this,-1),y(this,hm)){const{savedX:n,savedY:r,savedWidth:a,savedHeight:c}=y(this,hm);ce(this,pi,b_).call(this,n,r,a,c),se(this,hm,null)}},fe(as,j0),Wr(as,"_l10n",null),Wr(as,"_l10nResizer",null),Wr(as,"_borderLineWidth",-1),Wr(as,"_colorManager",new c_),Wr(as,"_zIndex",1),Wr(as,"_telemetryTimeout",1e3);let bs=as;class tL extends bs{constructor(n){super(n),this.annotationElementId=n.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const KE=3285377520,lc=4294901760,kh=65535;class QM{constructor(n){this.h1=n?n&4294967295:KE,this.h2=n?n&4294967295:KE}update(n){let r,a;if(typeof n=="string"){r=new Uint8Array(n.length*2),a=0;for(let X=0,Y=n.length;X<Y;X++){const W=n.charCodeAt(X);W<=255?r[a++]=W:(r[a++]=W>>>8,r[a++]=W&255)}}else if(ArrayBuffer.isView(n))r=n.slice(),a=r.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const c=a>>2,h=a-c*4,f=new Uint32Array(r.buffer,0,c);let m=0,b=0,_=this.h1,E=this.h2;const T=3432918353,k=461845907,G=T&kh,q=k&kh;for(let X=0;X<c;X++)X&1?(m=f[X],m=m*T&lc|m*G&kh,m=m<<15|m>>>17,m=m*k&lc|m*q&kh,_^=m,_=_<<13|_>>>19,_=_*5+3864292196):(b=f[X],b=b*T&lc|b*G&kh,b=b<<15|b>>>17,b=b*k&lc|b*q&kh,E^=b,E=E<<13|E>>>19,E=E*5+3864292196);switch(m=0,h){case 3:m^=r[c*4+2]<<16;case 2:m^=r[c*4+1]<<8;case 1:m^=r[c*4],m=m*T&lc|m*G&kh,m=m<<15|m>>>17,m=m*k&lc|m*q&kh,c&1?_^=m:E^=m}this.h1=_,this.h2=E}hexdigest(){let n=this.h1,r=this.h2;return n^=r>>>1,n=n*3981806797&lc|n*36045&kh,r=r*4283543511&lc|((r<<16|n>>>16)*2950163797&lc)>>>16,n^=r>>>1,n=n*444984403&lc|n*60499&kh,r=r*3301882366&lc|((r<<16|n>>>16)*3120437893&lc)>>>16,n^=r>>>1,(n>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}const M_=Object.freeze({map:null,hash:"",transfer:void 0});var pm,mm,$a,Rw,eA;class CS{constructor(){fe(this,Rw);fe(this,pm,!1);fe(this,mm,null);fe(this,$a,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(n,r){const a=y(this,$a).get(n);return a===void 0?r:Object.assign(r,a)}getRawValue(n){return y(this,$a).get(n)}remove(n){if(y(this,$a).delete(n),y(this,$a).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const r of y(this,$a).values())if(r instanceof bs)return;this.onAnnotationEditor(null)}}setValue(n,r){const a=y(this,$a).get(n);let c=!1;if(a!==void 0)for(const[h,f]of Object.entries(r))a[h]!==f&&(c=!0,a[h]=f);else c=!0,y(this,$a).set(n,r);c&&ce(this,Rw,eA).call(this),r instanceof bs&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(r.constructor._type)}has(n){return y(this,$a).has(n)}getAll(){return y(this,$a).size>0?_S(y(this,$a)):null}setAll(n){for(const[r,a]of Object.entries(n))this.setValue(r,a)}get size(){return y(this,$a).size}resetModified(){y(this,pm)&&(se(this,pm,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new tA(this)}get serializable(){if(y(this,$a).size===0)return M_;const n=new Map,r=new QM,a=[],c=Object.create(null);let h=!1;for(const[f,m]of y(this,$a)){const b=m instanceof bs?m.serialize(!1,c):m;b&&(n.set(f,b),r.update(`${f}:${JSON.stringify(b)}`),h||(h=!!b.bitmap))}if(h)for(const f of n.values())f.bitmap&&a.push(f.bitmap);return n.size>0?{map:n,hash:r.hexdigest(),transfer:a}:M_}get editorStats(){let n=null;const r=new Map;for(const a of y(this,$a).values()){if(!(a instanceof bs))continue;const c=a.telemetryFinalData;if(!c)continue;const{type:h}=c;r.has(h)||r.set(h,Object.getPrototypeOf(a).constructor),n||(n=Object.create(null));const f=n[h]||(n[h]=new Map);for(const[m,b]of Object.entries(c)){if(m==="type")continue;let _=f.get(m);_||(_=new Map,f.set(m,_));const E=_.get(b)??0;_.set(b,E+1)}}for(const[a,c]of r)n[a]=c.computeTelemetryFinalData(n[a]);return n}resetModifiedIds(){se(this,mm,null)}get modifiedIds(){if(y(this,mm))return y(this,mm);const n=[];for(const r of y(this,$a).values())!(r instanceof bs)||!r.annotationElementId||!r.serialize()||n.push(r.annotationElementId);return se(this,mm,{ids:new Set(n),hash:n.join(",")})}}pm=new WeakMap,mm=new WeakMap,$a=new WeakMap,Rw=new WeakSet,eA=function(){y(this,pm)||(se(this,pm,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var U0;class tA extends CS{constructor(r){super();fe(this,U0);const{map:a,hash:c,transfer:h}=r.serializable,f=structuredClone(a,h?{transfer:h}:null);se(this,U0,{map:f,hash:c,transfer:h})}get print(){Zs("Should not call PrintAnnotationStorage.print")}get serializable(){return y(this,U0)}get modifiedIds(){return Ni(this,"modifiedIds",{ids:new Set,hash:""})}}U0=new WeakMap;var mv;class nL{constructor({ownerDocument:n=globalThis.document,styleElement:r=null}){fe(this,mv,new Set);this._document=n,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(n){this.nativeFontFaces.add(n),this._document.fonts.add(n)}removeNativeFontFace(n){this.nativeFontFaces.delete(n),this._document.fonts.delete(n)}insertRule(n){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(n,r.cssRules.length)}clear(){for(const n of this.nativeFontFaces)this._document.fonts.delete(n);this.nativeFontFaces.clear(),y(this,mv).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:n,_inspectFont:r}){if(!(!n||y(this,mv).has(n.loadedName))){if(Aa(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:c,style:h}=n,f=new FontFace(a,c,h);this.addNativeFontFace(f);try{await f.load(),y(this,mv).add(a),r==null||r(n)}catch{yi(`Cannot load system font: ${n.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(f)}return}Zs("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(n){if(n.attached||n.missingFile&&!n.systemFontInfo)return;if(n.attached=!0,n.systemFontInfo){await this.loadSystemFont(n);return}if(this.isFontLoadingAPISupported){const a=n.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(c){throw yi(`Failed to load font '${a.family}': '${c}'.`),n.disableFontFace=!0,c}}return}const r=n.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(a=>{const c=this._queueLoadingCallback(a);this._prepareFontLoadEvent(n,c)})}}get isFontLoadingAPISupported(){var r;const n=!!((r=this._document)!=null&&r.fonts);return Ni(this,"isFontLoadingAPISupported",n)}get isSyncFontLoadingSupported(){let n=!1;return(El||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(n=!0),Ni(this,"isSyncFontLoadingSupported",n)}_queueLoadingCallback(n){function r(){for(Aa(!c.done,"completeRequest() cannot be called twice."),c.done=!0;a.length>0&&a[0].done;){const h=a.shift();setTimeout(h.callback,0)}}const{loadingRequests:a}=this,c={done:!1,complete:r,callback:n};return a.push(c),c}get _loadTestFont(){const n=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ni(this,"_loadTestFont",n)}_prepareFontLoadEvent(n,r){function a(le,Se){return le.charCodeAt(Se)<<24|le.charCodeAt(Se+1)<<16|le.charCodeAt(Se+2)<<8|le.charCodeAt(Se+3)&255}function c(le,Se,be,Pe){const P=le.substring(0,Se),We=le.substring(Se+be);return P+Pe+We}let h,f;const m=this._document.createElement("canvas");m.width=1,m.height=1;const b=m.getContext("2d");let _=0;function E(le,Se){if(++_>30){yi("Load test font never loaded."),Se();return}if(b.font="30px "+le,b.fillText(".",0,20),b.getImageData(0,0,1,1).data[3]>0){Se();return}setTimeout(E.bind(null,le,Se))}const T=`lt${Date.now()}${this.loadTestFontId++}`;let k=this._loadTestFont;k=c(k,976,T.length,T);const q=16,X=1482184792;let Y=a(k,q);for(h=0,f=T.length-3;h<f;h+=4)Y=Y-X+a(T,h)|0;h<T.length&&(Y=Y-X+a(T+"XXX",h)|0),k=c(k,q,4,H2(Y));const W=`url(data:font/opentype;base64,${btoa(k)});`,ne=`@font-face {font-family:"${T}";src:${W}}`;this.insertRule(ne);const oe=this._document.createElement("div");oe.style.visibility="hidden",oe.style.width=oe.style.height="10px",oe.style.position="absolute",oe.style.top=oe.style.left="0px";for(const le of[n.loadedName,T]){const Se=this._document.createElement("span");Se.textContent="Hi",Se.style.fontFamily=le,oe.append(Se)}this._document.body.append(oe),E(T,()=>{oe.remove(),r.complete()})}}mv=new WeakMap;class rL{constructor(n,{disableFontFace:r=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(const c in n)this[c]=n[c];this.disableFontFace=r===!0,this._inspectFont=a}createNativeFontFace(){var r;if(!this.data||this.disableFontFace)return null;let n;if(!this.cssFontInfo)n=new FontFace(this.loadedName,this.data,{});else{const a={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(a.style=`oblique ${this.cssFontInfo.italicAngle}deg`),n=new FontFace(this.cssFontInfo.fontFamily,this.data,a)}return(r=this._inspectFont)==null||r.call(this,this),n}createFontFaceRule(){var a;if(!this.data||this.disableFontFace)return null;const n=`url(data:${this.mimetype};base64,${q2(this.data)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${n}}`}return(a=this._inspectFont)==null||a.call(this,this,n),r}getPathGenerator(n,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];let a;try{a=n.get(this.loadedName+"_path_"+r)}catch(h){yi(`getPathGenerator - ignoring character: "${h}".`)}if(!Array.isArray(a)||a.length===0)return this.compiledGlyphs[r]=function(h,f){};const c=[];for(let h=0,f=a.length;h<f;)switch(a[h++]){case pd.BEZIER_CURVE_TO:{const[m,b,_,E,T,k]=a.slice(h,h+6);c.push(G=>G.bezierCurveTo(m,b,_,E,T,k)),h+=6}break;case pd.MOVE_TO:{const[m,b]=a.slice(h,h+2);c.push(_=>_.moveTo(m,b)),h+=2}break;case pd.LINE_TO:{const[m,b]=a.slice(h,h+2);c.push(_=>_.lineTo(m,b)),h+=2}break;case pd.QUADRATIC_CURVE_TO:{const[m,b,_,E]=a.slice(h,h+4);c.push(T=>T.quadraticCurveTo(m,b,_,E)),h+=4}break;case pd.RESTORE:c.push(m=>m.restore());break;case pd.SAVE:c.push(m=>m.save());break;case pd.SCALE:Aa(c.length===2,"Scale command is only valid at the third position.");break;case pd.TRANSFORM:{const[m,b,_,E,T,k]=a.slice(h,h+6);c.push(G=>G.transform(m,b,_,E,T,k)),h+=6}break;case pd.TRANSLATE:{const[m,b]=a.slice(h,h+2);c.push(_=>_.translate(m,b)),h+=2}break}return this.compiledGlyphs[r]=function(f,m){c[0](f),c[1](f),f.scale(m,-m);for(let b=2,_=c.length;b<_;b++)c[b](f)}}}var G0;class nA{constructor({enableHWA:n=!1}){fe(this,G0,!1);se(this,G0,n)}create(n,r){if(n<=0||r<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(n,r);return{canvas:a,context:a.getContext("2d",{willReadFrequently:!y(this,G0)})}}reset(n,r,a){if(!n.canvas)throw new Error("Canvas is not specified");if(r<=0||a<=0)throw new Error("Invalid canvas size");n.canvas.width=r,n.canvas.height=a}destroy(n){if(!n.canvas)throw new Error("Canvas is not specified");n.canvas.width=0,n.canvas.height=0,n.canvas=null,n.context=null}_createCanvas(n,r){Zs("Abstract method `_createCanvas` called.")}}G0=new WeakMap;class iL extends nA{constructor({ownerDocument:n=globalThis.document,enableHWA:r=!1}){super({enableHWA:r}),this._document=n}_createCanvas(n,r){const a=this._document.createElement("canvas");return a.width=n,a.height=r,a}}class rA{constructor({baseUrl:n=null,isCompressed:r=!0}){this.baseUrl=n,this.isCompressed=r}async fetch({name:n}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!n)throw new Error("CMap name must be specified.");const r=this.baseUrl+n+(this.isCompressed?".bcmap":"");return this._fetch(r).then(a=>({cMapData:a,isCompressed:this.isCompressed})).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})}async _fetch(n){Zs("Abstract method `_fetch` called.")}}class iA extends rA{async _fetch(n){const r=await Yw(n,this.isCompressed?"arraybuffer":"text");return r instanceof ArrayBuffer?new Uint8Array(r):$w(r)}}class sA{addFilter(n){return"none"}addHCMFilter(n,r){return"none"}addAlphaFilter(n){return"none"}addLuminosityFilter(n){return"none"}addHighlightHCMFilter(n,r,a,c,h){return"none"}destroy(n=!1){}}var gm,vm,Uh,Ed,bl,kw,ym,Jn,yl,Gg,Vg,Kb,Wg,oA,A_,qg,a0,l0,T_,u0;class sL extends sA{constructor({docId:r,ownerDocument:a=globalThis.document}){super();fe(this,Jn);fe(this,gm);fe(this,vm);fe(this,Uh);fe(this,Ed);fe(this,bl);fe(this,kw);fe(this,ym,0);se(this,Ed,r),se(this,bl,a)}addFilter(r){if(!r)return"none";let a=y(this,Jn,yl).get(r);if(a)return a;const[c,h,f]=ce(this,Jn,Kb).call(this,r),m=r.length===1?c:`${c}${h}${f}`;if(a=y(this,Jn,yl).get(m),a)return y(this,Jn,yl).set(r,a),a;const b=`g_${y(this,Ed)}_transfer_map_${Il(this,ym)._++}`,_=ce(this,Jn,Wg).call(this,b);y(this,Jn,yl).set(r,_),y(this,Jn,yl).set(m,_);const E=ce(this,Jn,qg).call(this,b);return ce(this,Jn,l0).call(this,c,h,f,E),_}addHCMFilter(r,a){var q;const c=`${r}-${a}`,h="base";let f=y(this,Jn,Gg).get(h);if((f==null?void 0:f.key)===c||(f?((q=f.filter)==null||q.remove(),f.key=c,f.url="none",f.filter=null):(f={key:c,url:"none",filter:null},y(this,Jn,Gg).set(h,f)),!r||!a))return f.url;const m=ce(this,Jn,u0).call(this,r);r=xr.makeHexColor(...m);const b=ce(this,Jn,u0).call(this,a);if(a=xr.makeHexColor(...b),y(this,Jn,Vg).style.color="",r==="#000000"&&a==="#ffffff"||r===a)return f.url;const _=new Array(256);for(let X=0;X<=255;X++){const Y=X/255;_[X]=Y<=.03928?Y/12.92:((Y+.055)/1.055)**2.4}const E=_.join(","),T=`g_${y(this,Ed)}_hcm_filter`,k=f.filter=ce(this,Jn,qg).call(this,T);ce(this,Jn,l0).call(this,E,E,E,k),ce(this,Jn,A_).call(this,k);const G=(X,Y)=>{const W=m[X]/255,ne=b[X]/255,oe=new Array(Y+1);for(let le=0;le<=Y;le++)oe[le]=W+le/Y*(ne-W);return oe.join(",")};return ce(this,Jn,l0).call(this,G(0,5),G(1,5),G(2,5),k),f.url=ce(this,Jn,Wg).call(this,T),f.url}addAlphaFilter(r){let a=y(this,Jn,yl).get(r);if(a)return a;const[c]=ce(this,Jn,Kb).call(this,[r]),h=`alpha_${c}`;if(a=y(this,Jn,yl).get(h),a)return y(this,Jn,yl).set(r,a),a;const f=`g_${y(this,Ed)}_alpha_map_${Il(this,ym)._++}`,m=ce(this,Jn,Wg).call(this,f);y(this,Jn,yl).set(r,m),y(this,Jn,yl).set(h,m);const b=ce(this,Jn,qg).call(this,f);return ce(this,Jn,T_).call(this,c,b),m}addLuminosityFilter(r){let a=y(this,Jn,yl).get(r||"luminosity");if(a)return a;let c,h;if(r?([c]=ce(this,Jn,Kb).call(this,[r]),h=`luminosity_${c}`):h="luminosity",a=y(this,Jn,yl).get(h),a)return y(this,Jn,yl).set(r,a),a;const f=`g_${y(this,Ed)}_luminosity_map_${Il(this,ym)._++}`,m=ce(this,Jn,Wg).call(this,f);y(this,Jn,yl).set(r,m),y(this,Jn,yl).set(h,m);const b=ce(this,Jn,qg).call(this,f);return ce(this,Jn,oA).call(this,b),r&&ce(this,Jn,T_).call(this,c,b),m}addHighlightHCMFilter(r,a,c,h,f){var ne;const m=`${a}-${c}-${h}-${f}`;let b=y(this,Jn,Gg).get(r);if((b==null?void 0:b.key)===m||(b?((ne=b.filter)==null||ne.remove(),b.key=m,b.url="none",b.filter=null):(b={key:m,url:"none",filter:null},y(this,Jn,Gg).set(r,b)),!a||!c))return b.url;const[_,E]=[a,c].map(ce(this,Jn,u0).bind(this));let T=Math.round(.2126*_[0]+.7152*_[1]+.0722*_[2]),k=Math.round(.2126*E[0]+.7152*E[1]+.0722*E[2]),[G,q]=[h,f].map(ce(this,Jn,u0).bind(this));k<T&&([T,k,G,q]=[k,T,q,G]),y(this,Jn,Vg).style.color="";const X=(oe,le,Se)=>{const be=new Array(256),Pe=(k-T)/Se,P=oe/255,We=(le-oe)/(255*Se);let tt=0;for(let dt=0;dt<=Se;dt++){const Ke=Math.round(T+dt*Pe),Ze=P+dt*We;for(let Xe=tt;Xe<=Ke;Xe++)be[Xe]=Ze;tt=Ke+1}for(let dt=tt;dt<256;dt++)be[dt]=be[tt-1];return be.join(",")},Y=`g_${y(this,Ed)}_hcm_${r}_filter`,W=b.filter=ce(this,Jn,qg).call(this,Y);return ce(this,Jn,A_).call(this,W),ce(this,Jn,l0).call(this,X(G[0],q[0],5),X(G[1],q[1],5),X(G[2],q[2],5),W),b.url=ce(this,Jn,Wg).call(this,Y),b.url}destroy(r=!1){r&&y(this,Jn,Gg).size!==0||(y(this,Uh)&&(y(this,Uh).parentNode.parentNode.remove(),se(this,Uh,null)),y(this,vm)&&(y(this,vm).clear(),se(this,vm,null)),se(this,ym,0))}}gm=new WeakMap,vm=new WeakMap,Uh=new WeakMap,Ed=new WeakMap,bl=new WeakMap,kw=new WeakMap,ym=new WeakMap,Jn=new WeakSet,yl=function(){return y(this,vm)||se(this,vm,new Map)},Gg=function(){return y(this,kw)||se(this,kw,new Map)},Vg=function(){if(!y(this,Uh)){const r=y(this,bl).createElement("div"),{style:a}=r;a.visibility="hidden",a.contain="strict",a.width=a.height=0,a.position="absolute",a.top=a.left=0,a.zIndex=-1;const c=y(this,bl).createElementNS(gd,"svg");c.setAttribute("width",0),c.setAttribute("height",0),se(this,Uh,y(this,bl).createElementNS(gd,"defs")),r.append(c),c.append(y(this,Uh)),y(this,bl).body.append(r)}return y(this,Uh)},Kb=function(r){if(r.length===1){const _=r[0],E=new Array(256);for(let k=0;k<256;k++)E[k]=_[k]/255;const T=E.join(",");return[T,T,T]}const[a,c,h]=r,f=new Array(256),m=new Array(256),b=new Array(256);for(let _=0;_<256;_++)f[_]=a[_]/255,m[_]=c[_]/255,b[_]=h[_]/255;return[f.join(","),m.join(","),b.join(",")]},Wg=function(r){if(y(this,gm)===void 0){se(this,gm,"");const a=y(this,bl).URL;a!==y(this,bl).baseURI&&(Zw(a)?yi('#createUrl: ignore "data:"-URL for performance reasons.'):se(this,gm,a.split("#",1)[0]))}return`url(${y(this,gm)}#${r})`},oA=function(r){const a=y(this,bl).createElementNS(gd,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),r.append(a)},A_=function(r){const a=y(this,bl).createElementNS(gd,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),r.append(a)},qg=function(r){const a=y(this,bl).createElementNS(gd,"filter");return a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("id",r),y(this,Jn,Vg).append(a),a},a0=function(r,a,c){const h=y(this,bl).createElementNS(gd,a);h.setAttribute("type","discrete"),h.setAttribute("tableValues",c),r.append(h)},l0=function(r,a,c,h){const f=y(this,bl).createElementNS(gd,"feComponentTransfer");h.append(f),ce(this,Jn,a0).call(this,f,"feFuncR",r),ce(this,Jn,a0).call(this,f,"feFuncG",a),ce(this,Jn,a0).call(this,f,"feFuncB",c)},T_=function(r,a){const c=y(this,bl).createElementNS(gd,"feComponentTransfer");a.append(c),ce(this,Jn,a0).call(this,c,"feFuncA",r)},u0=function(r){return y(this,Jn,Vg).style.color=r,TS(getComputedStyle(y(this,Jn,Vg)).getPropertyValue("color"))};class aA{constructor({baseUrl:n=null}){this.baseUrl=n}async fetch({filename:n}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!n)throw new Error("Font filename must be specified.");const r=`${this.baseUrl}${n}`;return this._fetch(r).catch(a=>{throw new Error(`Unable to load font data at: ${r}`)})}async _fetch(n){Zs("Abstract method `_fetch` called.")}}class lA extends aA{async _fetch(n){const r=await Yw(n,"arraybuffer");return new Uint8Array(r)}}if(El){var C_=Promise.withResolvers(),b0=null;(async()=>{const n=await zb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await zb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a=await zb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),c=await zb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let h,f;return new Map(Object.entries({fs:n,http:r,https:a,url:c,canvas:h,path2d:f}))})().then(n=>{b0=n,C_.resolve()},n=>{yi(`loadPackages: ${n}`),b0=new Map,C_.resolve()})}class ap{static get promise(){return C_.promise}static get(n){return b0==null?void 0:b0.get(n)}}async function uA(A){const r=await ap.get("fs").promises.readFile(A);return new Uint8Array(r)}class oL extends sA{}class aL extends nA{_createCanvas(n,r){return ap.get("canvas").createCanvas(n,r)}}class lL extends rA{async _fetch(n){return uA(n)}}class uL extends aA{async _fetch(n){return uA(n)}}const Fl={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function L_(A,n){if(!n)return;const r=n[2]-n[0],a=n[3]-n[1],c=new Path2D;c.rect(n[0],n[1],r,a),A.clip(c)}class LS{getPattern(){Zs("Abstract method `getPattern` called.")}}class cL extends LS{constructor(n){super(),this._type=n[1],this._bbox=n[2],this._colorStops=n[3],this._p0=n[4],this._p1=n[5],this._r0=n[6],this._r1=n[7],this.matrix=null}_createGradient(n){let r;this._type==="axial"?r=n.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(r=n.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)r.addColorStop(a[0],a[1]);return r}getPattern(n,r,a,c){let h;if(c===Fl.STROKE||c===Fl.FILL){const f=r.current.getClippedPathBoundingBox(c,wo(n))||[0,0,0,0],m=Math.ceil(f[2]-f[0])||1,b=Math.ceil(f[3]-f[1])||1,_=r.cachedCanvases.getCanvas("pattern",m,b),E=_.context;E.clearRect(0,0,E.canvas.width,E.canvas.height),E.beginPath(),E.rect(0,0,E.canvas.width,E.canvas.height),E.translate(-f[0],-f[1]),a=xr.transform(a,[1,0,0,1,f[0],f[1]]),E.transform(...r.baseTransform),this.matrix&&E.transform(...this.matrix),L_(E,this._bbox),E.fillStyle=this._createGradient(E),E.fill(),h=n.createPattern(_.canvas,"no-repeat");const T=new DOMMatrix(a);h.setTransform(T)}else L_(n,this._bbox),h=this._createGradient(n);return h}}function K1(A,n,r,a,c,h,f,m){const b=n.coords,_=n.colors,E=A.data,T=A.width*4;let k;b[r+1]>b[a+1]&&(k=r,r=a,a=k,k=h,h=f,f=k),b[a+1]>b[c+1]&&(k=a,a=c,c=k,k=f,f=m,m=k),b[r+1]>b[a+1]&&(k=r,r=a,a=k,k=h,h=f,f=k);const G=(b[r]+n.offsetX)*n.scaleX,q=(b[r+1]+n.offsetY)*n.scaleY,X=(b[a]+n.offsetX)*n.scaleX,Y=(b[a+1]+n.offsetY)*n.scaleY,W=(b[c]+n.offsetX)*n.scaleX,ne=(b[c+1]+n.offsetY)*n.scaleY;if(q>=ne)return;const oe=_[h],le=_[h+1],Se=_[h+2],be=_[f],Pe=_[f+1],P=_[f+2],We=_[m],tt=_[m+1],dt=_[m+2],Ke=Math.round(q),Ze=Math.round(ne);let Xe,ft,Be,Qe,Ue,te,lt,_e;for(let ke=Ke;ke<=Ze;ke++){if(ke<Y){const Pt=ke<q?0:(q-ke)/(q-Y);Xe=G-(G-X)*Pt,ft=oe-(oe-be)*Pt,Be=le-(le-Pe)*Pt,Qe=Se-(Se-P)*Pt}else{let Pt;ke>ne?Pt=1:Y===ne?Pt=0:Pt=(Y-ke)/(Y-ne),Xe=X-(X-W)*Pt,ft=be-(be-We)*Pt,Be=Pe-(Pe-tt)*Pt,Qe=P-(P-dt)*Pt}let rt;ke<q?rt=0:ke>ne?rt=1:rt=(q-ke)/(q-ne),Ue=G-(G-W)*rt,te=oe-(oe-We)*rt,lt=le-(le-tt)*rt,_e=Se-(Se-dt)*rt;const St=Math.round(Math.min(Xe,Ue)),Ut=Math.round(Math.max(Xe,Ue));let we=T*ke+St*4;for(let Pt=St;Pt<=Ut;Pt++)rt=(Xe-Pt)/(Xe-Ue),rt<0?rt=0:rt>1&&(rt=1),E[we++]=ft-(ft-te)*rt|0,E[we++]=Be-(Be-lt)*rt|0,E[we++]=Qe-(Qe-_e)*rt|0,E[we++]=255}}function hL(A,n,r){const a=n.coords,c=n.colors;let h,f;switch(n.type){case"lattice":const m=n.verticesPerRow,b=Math.floor(a.length/m)-1,_=m-1;for(h=0;h<b;h++){let E=h*m;for(let T=0;T<_;T++,E++)K1(A,r,a[E],a[E+1],a[E+m],c[E],c[E+1],c[E+m]),K1(A,r,a[E+m+1],a[E+1],a[E+m],c[E+m+1],c[E+1],c[E+m])}break;case"triangles":for(h=0,f=a.length;h<f;h+=3)K1(A,r,a[h],a[h+1],a[h+2],c[h],c[h+1],c[h+2]);break;default:throw new Error("illegal figure")}}class dL extends LS{constructor(n){super(),this._coords=n[2],this._colors=n[3],this._figures=n[4],this._bounds=n[5],this._bbox=n[7],this._background=n[8],this.matrix=null}_createMeshCanvas(n,r,a){const m=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),_=Math.ceil(this._bounds[2])-m,E=Math.ceil(this._bounds[3])-b,T=Math.min(Math.ceil(Math.abs(_*n[0]*1.1)),3e3),k=Math.min(Math.ceil(Math.abs(E*n[1]*1.1)),3e3),G=_/T,q=E/k,X={coords:this._coords,colors:this._colors,offsetX:-m,offsetY:-b,scaleX:1/G,scaleY:1/q},Y=T+2*2,W=k+2*2,ne=a.getCanvas("mesh",Y,W),oe=ne.context,le=oe.createImageData(T,k);if(r){const be=le.data;for(let Pe=0,P=be.length;Pe<P;Pe+=4)be[Pe]=r[0],be[Pe+1]=r[1],be[Pe+2]=r[2],be[Pe+3]=255}for(const be of this._figures)hL(le,be,X);return oe.putImageData(le,2,2),{canvas:ne.canvas,offsetX:m-2*G,offsetY:b-2*q,scaleX:G,scaleY:q}}getPattern(n,r,a,c){L_(n,this._bbox);let h;if(c===Fl.SHADING)h=xr.singularValueDecompose2dScale(wo(n));else if(h=xr.singularValueDecompose2dScale(r.baseTransform),this.matrix){const m=xr.singularValueDecompose2dScale(this.matrix);h=[h[0]*m[0],h[1]*m[1]]}const f=this._createMeshCanvas(h,c===Fl.SHADING?null:this._background,r.cachedCanvases);return c!==Fl.SHADING&&(n.setTransform(...r.baseTransform),this.matrix&&n.transform(...this.matrix)),n.translate(f.offsetX,f.offsetY),n.scale(f.scaleX,f.scaleY),n.createPattern(f.canvas,"no-repeat")}}class fL extends LS{getPattern(){return"hotpink"}}function pL(A){switch(A[0]){case"RadialAxial":return new cL(A);case"Mesh":return new dL(A);case"Dummy":return new fL}throw new Error(`Unknown IR type: ${A[0]}`)}const JE={COLORED:1,UNCOLORED:2},Ow=class Ow{constructor(n,r,a,c,h){this.operatorList=n[2],this.matrix=n[3],this.bbox=n[4],this.xstep=n[5],this.ystep=n[6],this.paintType=n[7],this.tilingType=n[8],this.color=r,this.ctx=a,this.canvasGraphicsFactory=c,this.baseTransform=h}createPatternCanvas(n){const{bbox:r,operatorList:a,paintType:c,tilingType:h,color:f,canvasGraphicsFactory:m}=this;let{xstep:b,ystep:_}=this;b=Math.abs(b),_=Math.abs(_),qw("TilingType: "+h);const E=r[0],T=r[1],k=r[2],G=r[3],q=k-E,X=G-T,Y=xr.singularValueDecompose2dScale(this.matrix),W=xr.singularValueDecompose2dScale(this.baseTransform),ne=Y[0]*W[0],oe=Y[1]*W[1];let le=q,Se=X,be=!1,Pe=!1;const P=Math.ceil(b*ne),We=Math.ceil(_*oe),tt=Math.ceil(q*ne),dt=Math.ceil(X*oe);P>=tt?le=b:be=!0,We>=dt?Se=_:Pe=!0;const Ke=this.getSizeAndScale(le,this.ctx.canvas.width,ne),Ze=this.getSizeAndScale(Se,this.ctx.canvas.height,oe),Xe=n.cachedCanvases.getCanvas("pattern",Ke.size,Ze.size),ft=Xe.context,Be=m.createCanvasGraphics(ft);if(Be.groupLevel=n.groupLevel,this.setFillAndStrokeStyleToContext(Be,c,f),ft.translate(-Ke.scale*E,-Ze.scale*T),Be.transform(Ke.scale,0,0,Ze.scale,0,0),ft.save(),this.clipBbox(Be,E,T,k,G),Be.baseTransform=wo(Be.ctx),Be.executeOperatorList(a),Be.endDrawing(),ft.restore(),be||Pe){const Qe=Xe.canvas;be&&(le=b),Pe&&(Se=_);const Ue=this.getSizeAndScale(le,this.ctx.canvas.width,ne),te=this.getSizeAndScale(Se,this.ctx.canvas.height,oe),lt=Ue.size,_e=te.size,ke=n.cachedCanvases.getCanvas("pattern-workaround",lt,_e),rt=ke.context,St=be?Math.floor(q/b):0,Ut=Pe?Math.floor(X/_):0;for(let we=0;we<=St;we++)for(let Pt=0;Pt<=Ut;Pt++)rt.drawImage(Qe,lt*we,_e*Pt,lt,_e,0,0,lt,_e);return{canvas:ke.canvas,scaleX:Ue.scale,scaleY:te.scale,offsetX:E,offsetY:T}}return{canvas:Xe.canvas,scaleX:Ke.scale,scaleY:Ze.scale,offsetX:E,offsetY:T}}getSizeAndScale(n,r,a){const c=Math.max(Ow.MAX_PATTERN_SIZE,r);let h=Math.ceil(n*a);return h>=c?h=c:a=h/n,{scale:a,size:h}}clipBbox(n,r,a,c,h){const f=c-r,m=h-a;n.ctx.rect(r,a,f,m),n.current.updateRectMinMax(wo(n.ctx),[r,a,c,h]),n.clip(),n.endPath()}setFillAndStrokeStyleToContext(n,r,a){const c=n.ctx,h=n.current;switch(r){case JE.COLORED:const f=this.ctx;c.fillStyle=f.fillStyle,c.strokeStyle=f.strokeStyle,h.fillColor=f.fillStyle,h.strokeColor=f.strokeStyle;break;case JE.UNCOLORED:const m=xr.makeHexColor(a[0],a[1],a[2]);c.fillStyle=m,c.strokeStyle=m,h.fillColor=m,h.strokeColor=m;break;default:throw new B2(`Unsupported paint type: ${r}`)}}getPattern(n,r,a,c){let h=a;c!==Fl.SHADING&&(h=xr.transform(h,r.baseTransform),this.matrix&&(h=xr.transform(h,this.matrix)));const f=this.createPatternCanvas(r);let m=new DOMMatrix(h);m=m.translate(f.offsetX,f.offsetY),m=m.scale(1/f.scaleX,1/f.scaleY);const b=n.createPattern(f.canvas,"repeat");return b.setTransform(m),b}};Wr(Ow,"MAX_PATTERN_SIZE",3e3);let P_=Ow;function mL({src:A,srcPos:n=0,dest:r,width:a,height:c,nonBlackColor:h=4294967295,inverseDecode:f=!1}){const m=zl.isLittleEndian?4278190080:255,[b,_]=f?[h,m]:[m,h],E=a>>3,T=a&7,k=A.length;r=new Uint32Array(r.buffer);let G=0;for(let q=0;q<c;q++){for(const Y=n+E;n<Y;n++){const W=n<k?A[n]:255;r[G++]=W&128?_:b,r[G++]=W&64?_:b,r[G++]=W&32?_:b,r[G++]=W&16?_:b,r[G++]=W&8?_:b,r[G++]=W&4?_:b,r[G++]=W&2?_:b,r[G++]=W&1?_:b}if(T===0)continue;const X=n<k?A[n++]:255;for(let Y=0;Y<T;Y++)r[G++]=X&1<<7-Y?_:b}return{srcPos:n,destPos:G}}const QE=16,eM=100,gL=15,tM=10,nM=1e3,ou=16;function vL(A,n){if(A._removeMirroring)throw new Error("Context is already forwarding operations.");A.__originalSave=A.save,A.__originalRestore=A.restore,A.__originalRotate=A.rotate,A.__originalScale=A.scale,A.__originalTranslate=A.translate,A.__originalTransform=A.transform,A.__originalSetTransform=A.setTransform,A.__originalResetTransform=A.resetTransform,A.__originalClip=A.clip,A.__originalMoveTo=A.moveTo,A.__originalLineTo=A.lineTo,A.__originalBezierCurveTo=A.bezierCurveTo,A.__originalRect=A.rect,A.__originalClosePath=A.closePath,A.__originalBeginPath=A.beginPath,A._removeMirroring=()=>{A.save=A.__originalSave,A.restore=A.__originalRestore,A.rotate=A.__originalRotate,A.scale=A.__originalScale,A.translate=A.__originalTranslate,A.transform=A.__originalTransform,A.setTransform=A.__originalSetTransform,A.resetTransform=A.__originalResetTransform,A.clip=A.__originalClip,A.moveTo=A.__originalMoveTo,A.lineTo=A.__originalLineTo,A.bezierCurveTo=A.__originalBezierCurveTo,A.rect=A.__originalRect,A.closePath=A.__originalClosePath,A.beginPath=A.__originalBeginPath,delete A._removeMirroring},A.save=function(){n.save(),this.__originalSave()},A.restore=function(){n.restore(),this.__originalRestore()},A.translate=function(a,c){n.translate(a,c),this.__originalTranslate(a,c)},A.scale=function(a,c){n.scale(a,c),this.__originalScale(a,c)},A.transform=function(a,c,h,f,m,b){n.transform(a,c,h,f,m,b),this.__originalTransform(a,c,h,f,m,b)},A.setTransform=function(a,c,h,f,m,b){n.setTransform(a,c,h,f,m,b),this.__originalSetTransform(a,c,h,f,m,b)},A.resetTransform=function(){n.resetTransform(),this.__originalResetTransform()},A.rotate=function(a){n.rotate(a),this.__originalRotate(a)},A.clip=function(a){n.clip(a),this.__originalClip(a)},A.moveTo=function(r,a){n.moveTo(r,a),this.__originalMoveTo(r,a)},A.lineTo=function(r,a){n.lineTo(r,a),this.__originalLineTo(r,a)},A.bezierCurveTo=function(r,a,c,h,f,m){n.bezierCurveTo(r,a,c,h,f,m),this.__originalBezierCurveTo(r,a,c,h,f,m)},A.rect=function(r,a,c,h){n.rect(r,a,c,h),this.__originalRect(r,a,c,h)},A.closePath=function(){n.closePath(),this.__originalClosePath()},A.beginPath=function(){n.beginPath(),this.__originalBeginPath()}}class yL{constructor(n){this.canvasFactory=n,this.cache=Object.create(null)}getCanvas(n,r,a){let c;return this.cache[n]!==void 0?(c=this.cache[n],this.canvasFactory.reset(c,r,a)):(c=this.canvasFactory.create(r,a),this.cache[n]=c),c}delete(n){delete this.cache[n]}clear(){for(const n in this.cache){const r=this.cache[n];this.canvasFactory.destroy(r),delete this.cache[n]}}}function Bb(A,n,r,a,c,h,f,m,b,_){const[E,T,k,G,q,X]=wo(A);if(T===0&&k===0){const ne=f*E+q,oe=Math.round(ne),le=m*G+X,Se=Math.round(le),be=(f+b)*E+q,Pe=Math.abs(Math.round(be)-oe)||1,P=(m+_)*G+X,We=Math.abs(Math.round(P)-Se)||1;return A.setTransform(Math.sign(E),0,0,Math.sign(G),oe,Se),A.drawImage(n,r,a,c,h,0,0,Pe,We),A.setTransform(E,T,k,G,q,X),[Pe,We]}if(E===0&&G===0){const ne=m*k+q,oe=Math.round(ne),le=f*T+X,Se=Math.round(le),be=(m+_)*k+q,Pe=Math.abs(Math.round(be)-oe)||1,P=(f+b)*T+X,We=Math.abs(Math.round(P)-Se)||1;return A.setTransform(0,Math.sign(T),Math.sign(k),0,oe,Se),A.drawImage(n,r,a,c,h,0,0,We,Pe),A.setTransform(E,T,k,G,q,X),[We,Pe]}A.drawImage(n,r,a,c,h,f,m,b,_);const Y=Math.hypot(E,T),W=Math.hypot(k,G);return[Y*b,W*_]}function xL(A){const{width:n,height:r}=A;if(n>nM||r>nM)return null;const a=1e3,c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),h=n+1;let f=new Uint8Array(h*(r+1)),m,b,_;const E=n+7&-8;let T=new Uint8Array(E*r),k=0;for(const W of A.data){let ne=128;for(;ne>0;)T[k++]=W&ne?0:255,ne>>=1}let G=0;for(k=0,T[k]!==0&&(f[0]=1,++G),b=1;b<n;b++)T[k]!==T[k+1]&&(f[b]=T[k]?2:1,++G),k++;for(T[k]!==0&&(f[b]=2,++G),m=1;m<r;m++){k=m*E,_=m*h,T[k-E]!==T[k]&&(f[_]=T[k]?1:8,++G);let W=(T[k]?4:0)+(T[k-E]?8:0);for(b=1;b<n;b++)W=(W>>2)+(T[k+1]?4:0)+(T[k-E+1]?8:0),c[W]&&(f[_+b]=c[W],++G),k++;if(T[k-E]!==T[k]&&(f[_+b]=T[k]?2:4,++G),G>a)return null}for(k=E*(r-1),_=m*h,T[k]!==0&&(f[_]=8,++G),b=1;b<n;b++)T[k]!==T[k+1]&&(f[_+b]=T[k]?4:8,++G),k++;if(T[k]!==0&&(f[_+b]=4,++G),G>a)return null;const q=new Int32Array([0,h,-1,0,-h,0,0,0,1]),X=new Path2D;for(m=0;G&&m<=r;m++){let W=m*h;const ne=W+n;for(;W<ne&&!f[W];)W++;if(W===ne)continue;X.moveTo(W%h,m);const oe=W;let le=f[W];do{const Se=q[le];do W+=Se;while(!f[W]);const be=f[W];be!==5&&be!==10?(le=be,f[W]=0):(le=be&51*le>>4,f[W]&=le>>2|le<<2),X.lineTo(W%h,W/h|0),f[W]||--G}while(oe!==W);--m}return T=null,f=null,function(W){W.save(),W.scale(1/n,-1/r),W.translate(0,-r),W.fill(X),W.beginPath(),W.restore()}}class rM{constructor(n,r){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=AM,this.textMatrixScale=1,this.fontMatrix=n_,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vl.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,n,r])}clone(){const n=Object.create(this);return n.clipBox=this.clipBox.slice(),n}setCurrentPoint(n,r){this.x=n,this.y=r}updatePathMinMax(n,r,a){[r,a]=xr.applyTransform([r,a],n),this.minX=Math.min(this.minX,r),this.minY=Math.min(this.minY,a),this.maxX=Math.max(this.maxX,r),this.maxY=Math.max(this.maxY,a)}updateRectMinMax(n,r){const a=xr.applyTransform(r,n),c=xr.applyTransform(r.slice(2),n),h=xr.applyTransform([r[0],r[3]],n),f=xr.applyTransform([r[2],r[1]],n);this.minX=Math.min(this.minX,a[0],c[0],h[0],f[0]),this.minY=Math.min(this.minY,a[1],c[1],h[1],f[1]),this.maxX=Math.max(this.maxX,a[0],c[0],h[0],f[0]),this.maxY=Math.max(this.maxY,a[1],c[1],h[1],f[1])}updateScalingPathMinMax(n,r){xr.scaleMinMax(n,r),this.minX=Math.min(this.minX,r[0]),this.minY=Math.min(this.minY,r[1]),this.maxX=Math.max(this.maxX,r[2]),this.maxY=Math.max(this.maxY,r[3])}updateCurvePathMinMax(n,r,a,c,h,f,m,b,_,E){const T=xr.bezierBoundingBox(r,a,c,h,f,m,b,_,E);E||this.updateRectMinMax(n,T)}getPathBoundingBox(n=Fl.FILL,r=null){const a=[this.minX,this.minY,this.maxX,this.maxY];if(n===Fl.STROKE){r||Zs("Stroke bounding box must include transform.");const c=xr.singularValueDecompose2dScale(r),h=c[0]*this.lineWidth/2,f=c[1]*this.lineWidth/2;a[0]-=h,a[1]-=f,a[2]+=h,a[3]+=f}return a}updateClipFromPath(){const n=xr.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(n||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(n){this.clipBox=n,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(n=Fl.FILL,r=null){return xr.intersect(this.clipBox,this.getPathBoundingBox(n,r))}}function iM(A,n){if(typeof ImageData<"u"&&n instanceof ImageData){A.putImageData(n,0,0);return}const r=n.height,a=n.width,c=r%ou,h=(r-c)/ou,f=c===0?h:h+1,m=A.createImageData(a,ou);let b=0,_;const E=n.data,T=m.data;let k,G,q,X;if(n.kind===Vb.GRAYSCALE_1BPP){const Y=E.byteLength,W=new Uint32Array(T.buffer,0,T.byteLength>>2),ne=W.length,oe=a+7>>3,le=4294967295,Se=zl.isLittleEndian?4278190080:255;for(k=0;k<f;k++){for(q=k<h?ou:c,_=0,G=0;G<q;G++){const be=Y-b;let Pe=0;const P=be>oe?a:be*8-7,We=P&-8;let tt=0,dt=0;for(;Pe<We;Pe+=8)dt=E[b++],W[_++]=dt&128?le:Se,W[_++]=dt&64?le:Se,W[_++]=dt&32?le:Se,W[_++]=dt&16?le:Se,W[_++]=dt&8?le:Se,W[_++]=dt&4?le:Se,W[_++]=dt&2?le:Se,W[_++]=dt&1?le:Se;for(;Pe<P;Pe++)tt===0&&(dt=E[b++],tt=128),W[_++]=dt&tt?le:Se,tt>>=1}for(;_<ne;)W[_++]=0;A.putImageData(m,0,k*ou)}}else if(n.kind===Vb.RGBA_32BPP){for(G=0,X=a*ou*4,k=0;k<h;k++)T.set(E.subarray(b,b+X)),b+=X,A.putImageData(m,0,G),G+=ou;k<f&&(X=a*c*4,T.set(E.subarray(b,b+X)),A.putImageData(m,0,G))}else if(n.kind===Vb.RGB_24BPP)for(q=ou,X=a*q,k=0;k<f;k++){for(k>=h&&(q=c,X=a*q),_=0,G=X;G--;)T[_++]=E[b++],T[_++]=E[b++],T[_++]=E[b++],T[_++]=255;A.putImageData(m,0,k*ou)}else throw new Error(`bad image kind: ${n.kind}`)}function sM(A,n){if(n.bitmap){A.drawImage(n.bitmap,0,0);return}const r=n.height,a=n.width,c=r%ou,h=(r-c)/ou,f=c===0?h:h+1,m=A.createImageData(a,ou);let b=0;const _=n.data,E=m.data;for(let T=0;T<f;T++){const k=T<h?ou:c;({srcPos:b}=mL({src:_,srcPos:b,dest:E,width:a,height:k,nonBlackColor:0})),A.putImageData(m,0,T*ou)}}function t0(A,n){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of r)A[a]!==void 0&&(n[a]=A[a]);A.setLineDash!==void 0&&(n.setLineDash(A.getLineDash()),n.lineDashOffset=A.lineDashOffset)}function Hb(A){if(A.strokeStyle=A.fillStyle="#000000",A.fillRule="nonzero",A.globalAlpha=1,A.lineWidth=1,A.lineCap="butt",A.lineJoin="miter",A.miterLimit=10,A.globalCompositeOperation="source-over",A.font="10px sans-serif",A.setLineDash!==void 0&&(A.setLineDash([]),A.lineDashOffset=0),!El){const{filter:n}=A;n!=="none"&&n!==""&&(A.filter="none")}}function oM(A,n){if(n)return!0;const r=xr.singularValueDecompose2dScale(A);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);const a=Math.fround((globalThis.devicePixelRatio||1)*op.PDF_TO_CSS_UNITS);return r[0]<=a&&r[1]<=a}const bL=["butt","round","square"],wL=["miter","round","bevel"],_L={},aM={};var up,R_,k_;const FS=class FS{constructor(n,r,a,c,h,{optionalContentConfig:f,markedContentStack:m=null},b,_){fe(this,up);this.ctx=n,this.current=new rM(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=a,this.canvasFactory=c,this.filterFactory=h,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=m||[],this.optionalContentConfig=f,this.cachedCanvases=new yL(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=b,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=_,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(n,r=null){return typeof n=="string"?n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n):r}beginDrawing({transform:n,viewport:r,transparency:a=!1,background:c=null}){const h=this.ctx.canvas.width,f=this.ctx.canvas.height,m=this.ctx.fillStyle;if(this.ctx.fillStyle=c||"#ffffff",this.ctx.fillRect(0,0,h,f),this.ctx.fillStyle=m,a){const b=this.cachedCanvases.getCanvas("transparent",h,f);this.compositeCtx=this.ctx,this.transparentCanvas=b.canvas,this.ctx=b.context,this.ctx.save(),this.ctx.transform(...wo(this.compositeCtx))}this.ctx.save(),Hb(this.ctx),n&&(this.ctx.transform(...n),this.outputScaleX=n[0],this.outputScaleY=n[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=wo(this.ctx)}executeOperatorList(n,r,a,c){const h=n.argsArray,f=n.fnArray;let m=r||0;const b=h.length;if(b===m)return m;const _=b-m>tM&&typeof a=="function",E=_?Date.now()+gL:0;let T=0;const k=this.commonObjs,G=this.objs;let q;for(;;){if(c!==void 0&&m===c.nextBreakPoint)return c.breakIt(m,a),m;if(q=f[m],q!==Vc.dependency)this[q].apply(this,h[m]);else for(const X of h[m]){const Y=X.startsWith("g_")?k:G;if(!Y.has(X))return Y.get(X,a),m}if(m++,m===b)return m;if(_&&++T>tM){if(Date.now()>E)return a(),m;T=0}}}endDrawing(){ce(this,up,R_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const n of this._cachedBitmapsMap.values()){for(const r of n.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);n.clear()}this._cachedBitmapsMap.clear(),ce(this,up,k_).call(this)}_scaleImage(n,r){const a=n.width??n.displayWidth,c=n.height??n.displayHeight;let h=Math.max(Math.hypot(r[0],r[1]),1),f=Math.max(Math.hypot(r[2],r[3]),1),m=a,b=c,_="prescale1",E,T;for(;h>2&&m>1||f>2&&b>1;){let k=m,G=b;h>2&&m>1&&(k=m>=16384?Math.floor(m/2)-1||1:Math.ceil(m/2),h/=m/k),f>2&&b>1&&(G=b>=16384?Math.floor(b/2)-1||1:Math.ceil(b)/2,f/=b/G),E=this.cachedCanvases.getCanvas(_,k,G),T=E.context,T.clearRect(0,0,k,G),T.drawImage(n,0,0,m,b,0,0,k,G),n=E.canvas,m=k,b=G,_=_==="prescale1"?"prescale2":"prescale1"}return{img:n,paintWidth:m,paintHeight:b}}_createMaskCanvas(n){const r=this.ctx,{width:a,height:c}=n,h=this.current.fillColor,f=this.current.patternFill,m=wo(r);let b,_,E,T;if((n.bitmap||n.data)&&n.count>1){const P=n.bitmap||n.data.buffer;_=JSON.stringify(f?m:[m.slice(0,4),h]),b=this._cachedBitmapsMap.get(P),b||(b=new Map,this._cachedBitmapsMap.set(P,b));const We=b.get(_);if(We&&!f){const tt=Math.round(Math.min(m[0],m[2])+m[4]),dt=Math.round(Math.min(m[1],m[3])+m[5]);return{canvas:We,offsetX:tt,offsetY:dt}}E=We}E||(T=this.cachedCanvases.getCanvas("maskCanvas",a,c),sM(T.context,n));let k=xr.transform(m,[1/a,0,0,-1/c,0,0]);k=xr.transform(k,[1,0,0,1,0,-c]);const[G,q,X,Y]=xr.getAxialAlignedBoundingBox([0,0,a,c],k),W=Math.round(X-G)||1,ne=Math.round(Y-q)||1,oe=this.cachedCanvases.getCanvas("fillCanvas",W,ne),le=oe.context,Se=G,be=q;le.translate(-Se,-be),le.transform(...k),E||(E=this._scaleImage(T.canvas,md(le)),E=E.img,b&&f&&b.set(_,E)),le.imageSmoothingEnabled=oM(wo(le),n.interpolate),Bb(le,E,0,0,E.width,E.height,0,0,a,c),le.globalCompositeOperation="source-in";const Pe=xr.transform(md(le),[1,0,0,1,-Se,-be]);return le.fillStyle=f?h.getPattern(r,this,Pe,Fl.FILL):h,le.fillRect(0,0,a,c),b&&!f&&(this.cachedCanvases.delete("fillCanvas"),b.set(_,oe.canvas)),{canvas:oe.canvas,offsetX:Math.round(Se),offsetY:Math.round(be)}}setLineWidth(n){n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(n){this.ctx.lineCap=bL[n]}setLineJoin(n){this.ctx.lineJoin=wL[n]}setMiterLimit(n){this.ctx.miterLimit=n}setDash(n,r){const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(n),a.lineDashOffset=r)}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[r,a]of n)switch(r){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const n=this.inSMaskMode;this.current.activeSMask&&!n?this.beginSMaskMode():!this.current.activeSMask&&n&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,c=this.cachedCanvases.getCanvas(a,n,r);this.suspendedCtx=this.ctx,this.ctx=c.context;const h=this.ctx;h.setTransform(...wo(this.suspendedCtx)),t0(this.suspendedCtx,h),vL(h,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),t0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(n){if(!this.current.activeSMask)return;n?(n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.ceil(n[2]),n[3]=Math.ceil(n[3])):n=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const r=this.current.activeSMask,a=this.suspendedCtx;this.composeSMask(a,r,this.ctx,n),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(n,r,a,c){const h=c[0],f=c[1],m=c[2]-h,b=c[3]-f;m===0||b===0||(this.genericComposeSMask(r.context,a,m,b,r.subtype,r.backdrop,r.transferMap,h,f,r.offsetX,r.offsetY),n.save(),n.globalAlpha=1,n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0),n.drawImage(a.canvas,0,0),n.restore())}genericComposeSMask(n,r,a,c,h,f,m,b,_,E,T){let k=n.canvas,G=b-E,q=_-T;if(f){const Y=xr.makeHexColor(...f);if(G<0||q<0||G+a>k.width||q+c>k.height){const W=this.cachedCanvases.getCanvas("maskExtension",a,c),ne=W.context;ne.drawImage(k,-G,-q),ne.globalCompositeOperation="destination-atop",ne.fillStyle=Y,ne.fillRect(0,0,a,c),ne.globalCompositeOperation="source-over",k=W.canvas,G=q=0}else{n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0);const W=new Path2D;W.rect(G,q,a,c),n.clip(W),n.globalCompositeOperation="destination-atop",n.fillStyle=Y,n.fillRect(G,q,a,c),n.restore()}}r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0),h==="Alpha"&&m?r.filter=this.filterFactory.addAlphaFilter(m):h==="Luminosity"&&(r.filter=this.filterFactory.addLuminosityFilter(m));const X=new Path2D;X.rect(b,_,a,c),r.clip(X),r.globalCompositeOperation="destination-in",r.drawImage(k,G,q,a,c,b,_,a,c),r.restore()}save(){this.inSMaskMode?(t0(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),t0(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(n,r,a,c,h,f){this.ctx.transform(n,r,a,c,h,f),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(n,r,a){const c=this.ctx,h=this.current;let f=h.x,m=h.y,b,_;const E=wo(c),T=E[0]===0&&E[3]===0||E[1]===0&&E[2]===0,k=T?a.slice(0):null;for(let G=0,q=0,X=n.length;G<X;G++)switch(n[G]|0){case Vc.rectangle:f=r[q++],m=r[q++];const Y=r[q++],W=r[q++],ne=f+Y,oe=m+W;c.moveTo(f,m),Y===0||W===0?c.lineTo(ne,oe):(c.lineTo(ne,m),c.lineTo(ne,oe),c.lineTo(f,oe)),T||h.updateRectMinMax(E,[f,m,ne,oe]),c.closePath();break;case Vc.moveTo:f=r[q++],m=r[q++],c.moveTo(f,m),T||h.updatePathMinMax(E,f,m);break;case Vc.lineTo:f=r[q++],m=r[q++],c.lineTo(f,m),T||h.updatePathMinMax(E,f,m);break;case Vc.curveTo:b=f,_=m,f=r[q+4],m=r[q+5],c.bezierCurveTo(r[q],r[q+1],r[q+2],r[q+3],f,m),h.updateCurvePathMinMax(E,b,_,r[q],r[q+1],r[q+2],r[q+3],f,m,k),q+=6;break;case Vc.curveTo2:b=f,_=m,c.bezierCurveTo(f,m,r[q],r[q+1],r[q+2],r[q+3]),h.updateCurvePathMinMax(E,b,_,f,m,r[q],r[q+1],r[q+2],r[q+3],k),f=r[q+2],m=r[q+3],q+=4;break;case Vc.curveTo3:b=f,_=m,f=r[q+2],m=r[q+3],c.bezierCurveTo(r[q],r[q+1],f,m,f,m),h.updateCurvePathMinMax(E,b,_,r[q],r[q+1],f,m,f,m,k),q+=4;break;case Vc.closePath:c.closePath();break}T&&h.updateScalingPathMinMax(E,k),h.setCurrentPoint(f,m)}closePath(){this.ctx.closePath()}stroke(n=!0){const r=this.ctx,a=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof a=="object"&&(a!=null&&a.getPattern)?(r.save(),r.strokeStyle=a.getPattern(r,this,md(r),Fl.STROKE),this.rescaleAndStroke(!1),r.restore()):this.rescaleAndStroke(!0)),n&&this.consumePath(this.current.getClippedPathBoundingBox()),r.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(n=!0){const r=this.ctx,a=this.current.fillColor,c=this.current.patternFill;let h=!1;c&&(r.save(),r.fillStyle=a.getPattern(r,this,md(r),Fl.FILL),h=!0);const f=this.current.getClippedPathBoundingBox();this.contentVisible&&f!==null&&(this.pendingEOFill?(r.fill("evenodd"),this.pendingEOFill=!1):r.fill()),h&&r.restore(),n&&this.consumePath(f)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_L}eoClip(){this.pendingClip=aM}beginText(){this.current.textMatrix=AM,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const n=this.pendingTextPaths,r=this.ctx;if(n===void 0){r.beginPath();return}r.save(),r.beginPath();for(const a of n)r.setTransform(...a.transform),r.translate(a.x,a.y),a.addToPath(r,a.fontSize);r.restore(),r.clip(),r.beginPath(),delete this.pendingTextPaths}setCharSpacing(n){this.current.charSpacing=n}setWordSpacing(n){this.current.wordSpacing=n}setHScale(n){this.current.textHScale=n/100}setLeading(n){this.current.leading=-n}setFont(n,r){var E;const a=this.commonObjs.get(n),c=this.current;if(!a)throw new Error(`Can't find font for ${n}`);if(c.fontMatrix=a.fontMatrix||n_,(c.fontMatrix[0]===0||c.fontMatrix[3]===0)&&yi("Invalid font matrix for font "+n),r<0?(r=-r,c.fontDirection=-1):c.fontDirection=1,this.current.font=a,this.current.fontSize=r,a.isType3Font)return;const h=a.loadedName||"sans-serif",f=((E=a.systemFontInfo)==null?void 0:E.css)||`"${h}", ${a.fallbackName}`;let m="normal";a.black?m="900":a.bold&&(m="bold");const b=a.italic?"italic":"normal";let _=r;r<QE?_=QE:r>eM&&(_=eM),this.current.fontSizeScale=r/_,this.ctx.font=`${b} ${m} ${_}px ${f}`}setTextRenderingMode(n){this.current.textRenderingMode=n}setTextRise(n){this.current.textRise=n}moveText(n,r){this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(n,r){this.setLeading(-r),this.moveText(n,r)}setTextMatrix(n,r,a,c,h,f){this.current.textMatrix=[n,r,a,c,h,f],this.current.textMatrixScale=Math.hypot(n,r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(n,r,a,c){const h=this.ctx,f=this.current,m=f.font,b=f.textRenderingMode,_=f.fontSize/f.fontSizeScale,E=b&vl.FILL_STROKE_MASK,T=!!(b&vl.ADD_TO_PATH_FLAG),k=f.patternFill&&!m.missingFile;let G;(m.disableFontFace||T||k)&&(G=m.getPathGenerator(this.commonObjs,n)),m.disableFontFace||k?(h.save(),h.translate(r,a),h.beginPath(),G(h,_),c&&h.setTransform(...c),(E===vl.FILL||E===vl.FILL_STROKE)&&h.fill(),(E===vl.STROKE||E===vl.FILL_STROKE)&&h.stroke(),h.restore()):((E===vl.FILL||E===vl.FILL_STROKE)&&h.fillText(n,r,a),(E===vl.STROKE||E===vl.FILL_STROKE)&&h.strokeText(n,r,a)),T&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:wo(h),x:r,y:a,fontSize:_,addToPath:G})}get isFontSubpixelAAEnabled(){const{context:n}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);n.scale(1.5,1),n.fillText("I",0,10);const r=n.getImageData(0,0,10,10).data;let a=!1;for(let c=3;c<r.length;c+=4)if(r[c]>0&&r[c]<255){a=!0;break}return Ni(this,"isFontSubpixelAAEnabled",a)}showText(n){const r=this.current,a=r.font;if(a.isType3Font)return this.showType3Text(n);const c=r.fontSize;if(c===0)return;const h=this.ctx,f=r.fontSizeScale,m=r.charSpacing,b=r.wordSpacing,_=r.fontDirection,E=r.textHScale*_,T=n.length,k=a.vertical,G=k?1:-1,q=a.defaultVMetrics,X=c*r.fontMatrix[0],Y=r.textRenderingMode===vl.FILL&&!a.disableFontFace&&!r.patternFill;h.save(),h.transform(...r.textMatrix),h.translate(r.x,r.y+r.textRise),_>0?h.scale(E,-1):h.scale(E,1);let W;if(r.patternFill){h.save();const be=r.fillColor.getPattern(h,this,md(h),Fl.FILL);W=wo(h),h.restore(),h.fillStyle=be}let ne=r.lineWidth;const oe=r.textMatrixScale;if(oe===0||ne===0){const be=r.textRenderingMode&vl.FILL_STROKE_MASK;(be===vl.STROKE||be===vl.FILL_STROKE)&&(ne=this.getSinglePixelWidth())}else ne/=oe;if(f!==1&&(h.scale(f,f),ne/=f),h.lineWidth=ne,a.isInvalidPDFjsFont){const be=[];let Pe=0;for(const P of n)be.push(P.unicode),Pe+=P.width;h.fillText(be.join(""),0,0),r.x+=Pe*X*E,h.restore(),this.compose();return}let le=0,Se;for(Se=0;Se<T;++Se){const be=n[Se];if(typeof be=="number"){le+=G*be*c/1e3;continue}let Pe=!1;const P=(be.isSpace?b:0)+m,We=be.fontChar,tt=be.accent;let dt,Ke,Ze=be.width;if(k){const ft=be.vmetric||q,Be=-(be.vmetric?ft[1]:Ze*.5)*X,Qe=ft[2]*X;Ze=ft?-ft[0]:Ze,dt=Be/f,Ke=(le+Qe)/f}else dt=le/f,Ke=0;if(a.remeasure&&Ze>0){const ft=h.measureText(We).width*1e3/c*f;if(Ze<ft&&this.isFontSubpixelAAEnabled){const Be=Ze/ft;Pe=!0,h.save(),h.scale(Be,1),dt/=Be}else Ze!==ft&&(dt+=(Ze-ft)/2e3*c/f)}if(this.contentVisible&&(be.isInFont||a.missingFile)){if(Y&&!tt)h.fillText(We,dt,Ke);else if(this.paintChar(We,dt,Ke,W),tt){const ft=dt+c*tt.offset.x/f,Be=Ke-c*tt.offset.y/f;this.paintChar(tt.fontChar,ft,Be,W)}}const Xe=k?Ze*X-P*_:Ze*X+P*_;le+=Xe,Pe&&h.restore()}k?r.y-=le:r.x+=le*E,h.restore(),this.compose()}showType3Text(n){const r=this.ctx,a=this.current,c=a.font,h=a.fontSize,f=a.fontDirection,m=c.vertical?1:-1,b=a.charSpacing,_=a.wordSpacing,E=a.textHScale*f,T=a.fontMatrix||n_,k=n.length,G=a.textRenderingMode===vl.INVISIBLE;let q,X,Y,W;if(!(G||h===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),r.transform(...a.textMatrix),r.translate(a.x,a.y),r.scale(E,f),q=0;q<k;++q){if(X=n[q],typeof X=="number"){W=m*X*h/1e3,this.ctx.translate(W,0),a.x+=W*E;continue}const ne=(X.isSpace?_:0)+b,oe=c.charProcOperatorList[X.operatorListId];if(!oe){yi(`Type3 character "${X.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=X,this.save(),r.scale(h,h),r.transform(...T),this.executeOperatorList(oe),this.restore()),Y=xr.applyTransform([X.width,0],T)[0]*h+ne,r.translate(Y,0),a.x+=Y*E}r.restore(),this.processingType3=null}}setCharWidth(n,r){}setCharWidthAndBounds(n,r,a,c,h,f){this.ctx.rect(a,c,h-a,f-c),this.ctx.clip(),this.endPath()}getColorN_Pattern(n){let r;if(n[0]==="TilingPattern"){const a=n[1],c=this.baseTransform||wo(this.ctx),h={createCanvasGraphics:f=>new FS(f,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};r=new P_(n,a,this.ctx,h,c)}else r=this._getPattern(n[1],n[2]);return r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(n,r,a){this.ctx.strokeStyle=this.current.strokeColor=xr.makeHexColor(n,r,a)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(n,r,a){this.ctx.fillStyle=this.current.fillColor=xr.makeHexColor(n,r,a),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(n,r=null){let a;return this.cachedPatterns.has(n)?a=this.cachedPatterns.get(n):(a=pL(this.getObject(n)),this.cachedPatterns.set(n,a)),r&&(a.matrix=r),a}shadingFill(n){if(!this.contentVisible)return;const r=this.ctx;this.save();const a=this._getPattern(n);r.fillStyle=a.getPattern(r,this,md(r),Fl.SHADING);const c=md(r);if(c){const{width:h,height:f}=r.canvas,[m,b,_,E]=xr.getAxialAlignedBoundingBox([0,0,h,f],c);this.ctx.fillRect(m,b,_-m,E-b)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Zs("Should not call beginInlineImage")}beginImageData(){Zs("Should not call beginImageData")}paintFormXObjectBegin(n,r){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),n&&this.transform(...n),this.baseTransform=wo(this.ctx),r)){const a=r[2]-r[0],c=r[3]-r[1];this.ctx.rect(r[0],r[1],a,c),this.current.updateRectMinMax(wo(this.ctx),r),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(n){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||qw("TODO: Support non-isolated groups."),n.knockout&&yi("Knockout groups not supported.");const a=wo(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let c=xr.getAxialAlignedBoundingBox(n.bbox,wo(r));const h=[0,0,r.canvas.width,r.canvas.height];c=xr.intersect(c,h)||[0,0,0,0];const f=Math.floor(c[0]),m=Math.floor(c[1]),b=Math.max(Math.ceil(c[2])-f,1),_=Math.max(Math.ceil(c[3])-m,1);this.current.startNewPathAndClipBox([0,0,b,_]);let E="groupAt"+this.groupLevel;n.smask&&(E+="_smask_"+this.smaskCounter++%2);const T=this.cachedCanvases.getCanvas(E,b,_),k=T.context;k.translate(-f,-m),k.transform(...a),n.smask?this.smaskStack.push({canvas:T.canvas,context:k,offsetX:f,offsetY:m,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(f,m),r.save()),t0(r,k),this.ctx=k,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(n){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,n.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const c=wo(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...c);const h=xr.getAxialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],c);this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(h)}}beginAnnotation(n,r,a,c,h){if(ce(this,up,R_).call(this),Hb(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const f=r[2]-r[0],m=r[3]-r[1];if(h&&this.annotationCanvasMap){a=a.slice(),a[4]-=r[0],a[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=f,r[3]=m;const[b,_]=xr.singularValueDecompose2dScale(wo(this.ctx)),{viewportScale:E}=this,T=Math.ceil(f*this.outputScaleX*E),k=Math.ceil(m*this.outputScaleY*E);this.annotationCanvas=this.canvasFactory.create(T,k);const{canvas:G,context:q}=this.annotationCanvas;this.annotationCanvasMap.set(n,G),this.annotationCanvas.savedCtx=this.ctx,this.ctx=q,this.ctx.save(),this.ctx.setTransform(b,0,0,-_,0,m*_),Hb(this.ctx)}else Hb(this.ctx),this.endPath(),this.ctx.rect(r[0],r[1],f,m),this.ctx.clip(),this.ctx.beginPath()}this.current=new rM(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...a),this.transform(...c)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ce(this,up,k_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(n){if(!this.contentVisible)return;const r=n.count;n=this.getObject(n.data,n),n.count=r;const a=this.ctx,c=this.processingType3;if(c&&(c.compiled===void 0&&(c.compiled=xL(n)),c.compiled)){c.compiled(a);return}const h=this._createMaskCanvas(n),f=h.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(f,h.offsetX,h.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(n,r,a=0,c=0,h,f){if(!this.contentVisible)return;n=this.getObject(n.data,n);const m=this.ctx;m.save();const b=wo(m);m.transform(r,a,c,h,0,0);const _=this._createMaskCanvas(n);m.setTransform(1,0,0,1,_.offsetX-b[4],_.offsetY-b[5]);for(let E=0,T=f.length;E<T;E+=2){const k=xr.transform(b,[r,a,c,h,f[E],f[E+1]]),[G,q]=xr.applyTransform([0,0],k);m.drawImage(_.canvas,G,q)}m.restore(),this.compose()}paintImageMaskXObjectGroup(n){if(!this.contentVisible)return;const r=this.ctx,a=this.current.fillColor,c=this.current.patternFill;for(const h of n){const{data:f,width:m,height:b,transform:_}=h,E=this.cachedCanvases.getCanvas("maskCanvas",m,b),T=E.context;T.save();const k=this.getObject(f,h);sM(T,k),T.globalCompositeOperation="source-in",T.fillStyle=c?a.getPattern(T,this,md(r),Fl.FILL):a,T.fillRect(0,0,m,b),T.restore(),r.save(),r.transform(..._),r.scale(1,-1),Bb(r,E.canvas,0,0,m,b,0,-1,1,1),r.restore()}this.compose()}paintImageXObject(n){if(!this.contentVisible)return;const r=this.getObject(n);if(!r){yi("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)}paintImageXObjectRepeat(n,r,a,c){if(!this.contentVisible)return;const h=this.getObject(n);if(!h){yi("Dependent image isn't ready yet");return}const f=h.width,m=h.height,b=[];for(let _=0,E=c.length;_<E;_+=2)b.push({transform:[r,0,0,a,c[_],c[_+1]],x:0,y:0,w:f,h:m});this.paintInlineImageXObjectGroup(h,b)}applyTransferMapsToCanvas(n){return this.current.transferMaps!=="none"&&(n.filter=this.current.transferMaps,n.drawImage(n.canvas,0,0),n.filter="none"),n.canvas}applyTransferMapsToBitmap(n){if(this.current.transferMaps==="none")return n.bitmap;const{bitmap:r,width:a,height:c}=n,h=this.cachedCanvases.getCanvas("inlineImage",a,c),f=h.context;return f.filter=this.current.transferMaps,f.drawImage(r,0,0),f.filter="none",h.canvas}paintInlineImageXObject(n){if(!this.contentVisible)return;const r=n.width,a=n.height,c=this.ctx;if(this.save(),!El){const{filter:m}=c;m!=="none"&&m!==""&&(c.filter="none")}c.scale(1/r,-1/a);let h;if(n.bitmap)h=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)h=n;else{const b=this.cachedCanvases.getCanvas("inlineImage",r,a).context;iM(b,n),h=this.applyTransferMapsToCanvas(b)}const f=this._scaleImage(h,md(c));c.imageSmoothingEnabled=oM(wo(c),n.interpolate),Bb(c,f.img,0,0,f.paintWidth,f.paintHeight,0,-a,r,a),this.compose(),this.restore()}paintInlineImageXObjectGroup(n,r){if(!this.contentVisible)return;const a=this.ctx;let c;if(n.bitmap)c=n.bitmap;else{const h=n.width,f=n.height,b=this.cachedCanvases.getCanvas("inlineImage",h,f).context;iM(b,n),c=this.applyTransferMapsToCanvas(b)}for(const h of r)a.save(),a.transform(...h.transform),a.scale(1,-1),Bb(a,c,h.x,h.y,h.w,h.h,0,-1,1,1),a.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(n){}markPointProps(n,r){}beginMarkedContent(n){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(n,r){n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const a=this.ctx;this.pendingClip&&(r||(this.pendingClip===aM?a.clip("evenodd"):a.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const n=wo(this.ctx);if(n[1]===0&&n[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(n[0]),Math.abs(n[3]));else{const r=Math.abs(n[0]*n[3]-n[2]*n[1]),a=Math.hypot(n[0],n[2]),c=Math.hypot(n[1],n[3]);this._cachedGetSinglePixelWidth=Math.max(a,c)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:n}=this.current,{a:r,b:a,c,d:h}=this.ctx.getTransform();let f,m;if(a===0&&c===0){const b=Math.abs(r),_=Math.abs(h);if(b===_)if(n===0)f=m=1/b;else{const E=b*n;f=m=E<1?1/E:1}else if(n===0)f=1/b,m=1/_;else{const E=b*n,T=_*n;f=E<1?1/E:1,m=T<1?1/T:1}}else{const b=Math.abs(r*h-a*c),_=Math.hypot(r,a),E=Math.hypot(c,h);if(n===0)f=E/b,m=_/b;else{const T=n*b;f=E>T?E/T:1,m=_>T?_/T:1}}this._cachedScaleForStroking[0]=f,this._cachedScaleForStroking[1]=m}return this._cachedScaleForStroking}rescaleAndStroke(n){const{ctx:r}=this,{lineWidth:a}=this.current,[c,h]=this.getScaleForStroking();if(r.lineWidth=a||1,c===1&&h===1){r.stroke();return}const f=r.getLineDash();if(n&&r.save(),r.scale(c,h),f.length>0){const m=Math.max(c,h);r.setLineDash(f.map(b=>b/m)),r.lineDashOffset/=m}r.stroke(),n&&r.restore()}isContentVisible(){for(let n=this.markedContentStack.length-1;n>=0;n--)if(!this.markedContentStack[n].visible)return!1;return!0}};up=new WeakSet,R_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},k_=function(){if(this.pageColors){const n=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(n!=="none"){const r=this.ctx.filter;this.ctx.filter=n,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=r}}};let Jg=FS;for(const A in Vc)Jg.prototype[A]!==void 0&&(Jg.prototype[Vc[A]]=Jg.prototype[A]);var V0,W0;class Gd{static get workerPort(){return y(this,V0)}static set workerPort(n){if(!(typeof Worker<"u"&&n instanceof Worker)&&n!==null)throw new Error("Invalid `workerPort` type.");se(this,V0,n)}static get workerSrc(){return y(this,W0)}static set workerSrc(n){if(typeof n!="string")throw new Error("Invalid `workerSrc` type.");se(this,W0,n)}}V0=new WeakMap,W0=new WeakMap,fe(Gd,V0,null),fe(Gd,W0,"");const jb={DATA:1,ERROR:2},ia={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Tu(A){switch(A instanceof Error||typeof A=="object"&&A!==null||Zs('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),A.name){case"AbortException":return new rg(A.message);case"MissingPDFException":return new ng(A.message);case"PasswordException":return new r_(A.message,A.code);case"UnexpectedResponseException":return new Xw(A.message,A.status);case"UnknownErrorException":return new i_(A.message,A.details);default:return new i_(A.message,A.toString())}}var gv,gc,cA,hA,dA,Jb;class c0{constructor(n,r,a){fe(this,gc);fe(this,gv,new AbortController);this.sourceName=n,this.targetName=r,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),a.addEventListener("message",ce(this,gc,cA).bind(this),{signal:y(this,gv).signal})}on(n,r){const a=this.actionHandler;if(a[n])throw new Error(`There is already an actionName called "${n}"`);a[n]=r}send(n,r,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:n,data:r},a)}sendWithPromise(n,r,a){const c=this.callbackId++,h=Promise.withResolvers();this.callbackCapabilities[c]=h;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:n,callbackId:c,data:r},a)}catch(f){h.reject(f)}return h.promise}sendWithStream(n,r,a,c){const h=this.streamId++,f=this.sourceName,m=this.targetName,b=this.comObj;return new ReadableStream({start:_=>{const E=Promise.withResolvers();return this.streamControllers[h]={controller:_,startCall:E,pullCall:null,cancelCall:null,isClosed:!1},b.postMessage({sourceName:f,targetName:m,action:n,streamId:h,data:r,desiredSize:_.desiredSize},c),E.promise},pull:_=>{const E=Promise.withResolvers();return this.streamControllers[h].pullCall=E,b.postMessage({sourceName:f,targetName:m,stream:ia.PULL,streamId:h,desiredSize:_.desiredSize}),E.promise},cancel:_=>{Aa(_ instanceof Error,"cancel must have a valid reason");const E=Promise.withResolvers();return this.streamControllers[h].cancelCall=E,this.streamControllers[h].isClosed=!0,b.postMessage({sourceName:f,targetName:m,stream:ia.CANCEL,streamId:h,reason:Tu(_)}),E.promise}},a)}destroy(){var n;(n=y(this,gv))==null||n.abort(),se(this,gv,null)}}gv=new WeakMap,gc=new WeakSet,cA=function({data:n}){if(n.targetName!==this.sourceName)return;if(n.stream){ce(this,gc,dA).call(this,n);return}if(n.callback){const a=n.callbackId,c=this.callbackCapabilities[a];if(!c)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],n.callback===jb.DATA)c.resolve(n.data);else if(n.callback===jb.ERROR)c.reject(Tu(n.reason));else throw new Error("Unexpected callback case");return}const r=this.actionHandler[n.action];if(!r)throw new Error(`Unknown action from worker: ${n.action}`);if(n.callbackId){const a=this.sourceName,c=n.sourceName,h=this.comObj;new Promise(function(f){f(r(n.data))}).then(function(f){h.postMessage({sourceName:a,targetName:c,callback:jb.DATA,callbackId:n.callbackId,data:f})},function(f){h.postMessage({sourceName:a,targetName:c,callback:jb.ERROR,callbackId:n.callbackId,reason:Tu(f)})});return}if(n.streamId){ce(this,gc,hA).call(this,n);return}r(n.data)},hA=function(n){const r=n.streamId,a=this.sourceName,c=n.sourceName,h=this.comObj,f=this,m=this.actionHandler[n.action],b={enqueue(_,E=1,T){if(this.isCancelled)return;const k=this.desiredSize;this.desiredSize-=E,k>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),h.postMessage({sourceName:a,targetName:c,stream:ia.ENQUEUE,streamId:r,chunk:_},T)},close(){this.isCancelled||(this.isCancelled=!0,h.postMessage({sourceName:a,targetName:c,stream:ia.CLOSE,streamId:r}),delete f.streamSinks[r])},error(_){Aa(_ instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,h.postMessage({sourceName:a,targetName:c,stream:ia.ERROR,streamId:r,reason:Tu(_)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:n.desiredSize,ready:null};b.sinkCapability.resolve(),b.ready=b.sinkCapability.promise,this.streamSinks[r]=b,new Promise(function(_){_(m(n.data,b))}).then(function(){h.postMessage({sourceName:a,targetName:c,stream:ia.START_COMPLETE,streamId:r,success:!0})},function(_){h.postMessage({sourceName:a,targetName:c,stream:ia.START_COMPLETE,streamId:r,reason:Tu(_)})})},dA=function(n){const r=n.streamId,a=this.sourceName,c=n.sourceName,h=this.comObj,f=this.streamControllers[r],m=this.streamSinks[r];switch(n.stream){case ia.START_COMPLETE:n.success?f.startCall.resolve():f.startCall.reject(Tu(n.reason));break;case ia.PULL_COMPLETE:n.success?f.pullCall.resolve():f.pullCall.reject(Tu(n.reason));break;case ia.PULL:if(!m){h.postMessage({sourceName:a,targetName:c,stream:ia.PULL_COMPLETE,streamId:r,success:!0});break}m.desiredSize<=0&&n.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=n.desiredSize,new Promise(function(b){var _;b((_=m.onPull)==null?void 0:_.call(m))}).then(function(){h.postMessage({sourceName:a,targetName:c,stream:ia.PULL_COMPLETE,streamId:r,success:!0})},function(b){h.postMessage({sourceName:a,targetName:c,stream:ia.PULL_COMPLETE,streamId:r,reason:Tu(b)})});break;case ia.ENQUEUE:if(Aa(f,"enqueue should have stream controller"),f.isClosed)break;f.controller.enqueue(n.chunk);break;case ia.CLOSE:if(Aa(f,"close should have stream controller"),f.isClosed)break;f.isClosed=!0,f.controller.close(),ce(this,gc,Jb).call(this,f,r);break;case ia.ERROR:Aa(f,"error should have stream controller"),f.controller.error(Tu(n.reason)),ce(this,gc,Jb).call(this,f,r);break;case ia.CANCEL_COMPLETE:n.success?f.cancelCall.resolve():f.cancelCall.reject(Tu(n.reason)),ce(this,gc,Jb).call(this,f,r);break;case ia.CANCEL:if(!m)break;new Promise(function(b){var _;b((_=m.onCancel)==null?void 0:_.call(m,Tu(n.reason)))}).then(function(){h.postMessage({sourceName:a,targetName:c,stream:ia.CANCEL_COMPLETE,streamId:r,success:!0})},function(b){h.postMessage({sourceName:a,targetName:c,stream:ia.CANCEL_COMPLETE,streamId:r,reason:Tu(b)})}),m.sinkCapability.reject(Tu(n.reason)),m.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}},Jb=async function(n,r){var a,c,h;await Promise.allSettled([(a=n.startCall)==null?void 0:a.promise,(c=n.pullCall)==null?void 0:c.promise,(h=n.cancelCall)==null?void 0:h.promise]),delete this.streamControllers[r]};var xm,q0;class SL{constructor({parsedData:n,rawData:r}){fe(this,xm);fe(this,q0);se(this,xm,n),se(this,q0,r)}getRaw(){return y(this,q0)}get(n){return y(this,xm).get(n)??null}getAll(){return _S(y(this,xm))}has(n){return y(this,xm).has(n)}}xm=new WeakMap,q0=new WeakMap;const Xg=Symbol("INTERNAL");var X0,$0,Y0,vv;class EL{constructor(n,{name:r,intent:a,usage:c,rbGroups:h}){fe(this,X0,!1);fe(this,$0,!1);fe(this,Y0,!1);fe(this,vv,!0);se(this,X0,!!(n&Nu.DISPLAY)),se(this,$0,!!(n&Nu.PRINT)),this.name=r,this.intent=a,this.usage=c,this.rbGroups=h}get visible(){if(y(this,Y0))return y(this,vv);if(!y(this,vv))return!1;const{print:n,view:r}=this.usage;return y(this,X0)?(r==null?void 0:r.viewState)!=="OFF":y(this,$0)?(n==null?void 0:n.printState)!=="OFF":!0}_setVisible(n,r,a=!1){n!==Xg&&Zs("Internal method `_setVisible` called."),se(this,Y0,a),se(this,vv,r)}}X0=new WeakMap,$0=new WeakMap,Y0=new WeakMap,vv=new WeakMap;var Vf,xs,yv,xv,Z0,O_;class ML{constructor(n,r=Nu.DISPLAY){fe(this,Z0);fe(this,Vf,null);fe(this,xs,new Map);fe(this,yv,null);fe(this,xv,null);if(this.renderingIntent=r,this.name=null,this.creator=null,n!==null){this.name=n.name,this.creator=n.creator,se(this,xv,n.order);for(const a of n.groups)y(this,xs).set(a.id,new EL(r,a));if(n.baseState==="OFF")for(const a of y(this,xs).values())a._setVisible(Xg,!1);for(const a of n.on)y(this,xs).get(a)._setVisible(Xg,!0);for(const a of n.off)y(this,xs).get(a)._setVisible(Xg,!1);se(this,yv,this.getHash())}}isVisible(n){if(y(this,xs).size===0)return!0;if(!n)return qw("Optional content group not defined."),!0;if(n.type==="OCG")return y(this,xs).has(n.id)?y(this,xs).get(n.id).visible:(yi(`Optional content group not found: ${n.id}`),!0);if(n.type==="OCMD"){if(n.expression)return ce(this,Z0,O_).call(this,n.expression);if(!n.policy||n.policy==="AnyOn"){for(const r of n.ids){if(!y(this,xs).has(r))return yi(`Optional content group not found: ${r}`),!0;if(y(this,xs).get(r).visible)return!0}return!1}else if(n.policy==="AllOn"){for(const r of n.ids){if(!y(this,xs).has(r))return yi(`Optional content group not found: ${r}`),!0;if(!y(this,xs).get(r).visible)return!1}return!0}else if(n.policy==="AnyOff"){for(const r of n.ids){if(!y(this,xs).has(r))return yi(`Optional content group not found: ${r}`),!0;if(!y(this,xs).get(r).visible)return!0}return!1}else if(n.policy==="AllOff"){for(const r of n.ids){if(!y(this,xs).has(r))return yi(`Optional content group not found: ${r}`),!0;if(y(this,xs).get(r).visible)return!1}return!0}return yi(`Unknown optional content policy ${n.policy}.`),!0}return yi(`Unknown group type ${n.type}.`),!0}setVisibility(n,r=!0,a=!0){var h;const c=y(this,xs).get(n);if(!c){yi(`Optional content group not found: ${n}`);return}if(a&&r&&c.rbGroups.length)for(const f of c.rbGroups)for(const m of f)m!==n&&((h=y(this,xs).get(m))==null||h._setVisible(Xg,!1,!0));c._setVisible(Xg,!!r,!0),se(this,Vf,null)}setOCGState({state:n,preserveRB:r}){let a;for(const c of n){switch(c){case"ON":case"OFF":case"Toggle":a=c;continue}const h=y(this,xs).get(c);if(h)switch(a){case"ON":this.setVisibility(c,!0,r);break;case"OFF":this.setVisibility(c,!1,r);break;case"Toggle":this.setVisibility(c,!h.visible,r);break}}se(this,Vf,null)}get hasInitialVisibility(){return y(this,yv)===null||this.getHash()===y(this,yv)}getOrder(){return y(this,xs).size?y(this,xv)?y(this,xv).slice():[...y(this,xs).keys()]:null}getGroups(){return y(this,xs).size>0?_S(y(this,xs)):null}getGroup(n){return y(this,xs).get(n)||null}getHash(){if(y(this,Vf)!==null)return y(this,Vf);const n=new QM;for(const[r,a]of y(this,xs))n.update(`${r}:${a.visible}`);return se(this,Vf,n.hexdigest())}}Vf=new WeakMap,xs=new WeakMap,yv=new WeakMap,xv=new WeakMap,Z0=new WeakSet,O_=function(n){const r=n.length;if(r<2)return!0;const a=n[0];for(let c=1;c<r;c++){const h=n[c];let f;if(Array.isArray(h))f=ce(this,Z0,O_).call(this,h);else if(y(this,xs).has(h))f=y(this,xs).get(h).visible;else return yi(`Optional content group not found: ${h}`),!0;switch(a){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return a==="And"};class AL{constructor(n,{disableRange:r=!1,disableStream:a=!1}){Aa(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:c,initialData:h,progressiveDone:f,contentDispositionFilename:m}=n;if(this._queuedChunks=[],this._progressiveDone=f,this._contentDispositionFilename=m,(h==null?void 0:h.length)>0){const b=h instanceof Uint8Array&&h.byteLength===h.buffer.byteLength?h.buffer:new Uint8Array(h).buffer;this._queuedChunks.push(b)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!a,this._isRangeSupported=!r,this._contentLength=c,this._fullRequestReader=null,this._rangeReaders=[],n.addRangeListener((b,_)=>{this._onReceiveData({begin:b,chunk:_})}),n.addProgressListener((b,_)=>{this._onProgress({loaded:b,total:_})}),n.addProgressiveReadListener(b=>{this._onReceiveData({chunk:b})}),n.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),n.transportReady()}_onReceiveData({begin:n,chunk:r}){const a=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;if(n===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const c=this._rangeReaders.some(function(h){return h._begin!==n?!1:(h._enqueue(a),!0)});Aa(c,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var n;return((n=this._fullRequestReader)==null?void 0:n._loaded)??0}_onProgress(n){var r,a,c,h;n.total===void 0?(a=(r=this._rangeReaders[0])==null?void 0:r.onProgress)==null||a.call(r,{loaded:n.loaded}):(h=(c=this._fullRequestReader)==null?void 0:c.onProgress)==null||h.call(c,{loaded:n.loaded,total:n.total})}_onProgressiveDone(){var n;(n=this._fullRequestReader)==null||n.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(n){const r=this._rangeReaders.indexOf(n);r>=0&&this._rangeReaders.splice(r,1)}getFullReader(){Aa(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const n=this._queuedChunks;return this._queuedChunks=null,new TL(this,n,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(n,r){if(r<=this._progressiveDataLength)return null;const a=new CL(this,n,r);return this._pdfDataRangeTransport.requestDataRange(n,r),this._rangeReaders.push(a),a}cancelAllRequests(n){var r;(r=this._fullRequestReader)==null||r.cancel(n);for(const a of this._rangeReaders.slice(0))a.cancel(n);this._pdfDataRangeTransport.abort()}}class TL{constructor(n,r,a=!1,c=null){this._stream=n,this._done=a||!1,this._filename=MS(c)?c:null,this._queuedChunks=r||[],this._loaded=0;for(const h of this._queuedChunks)this._loaded+=h.byteLength;this._requests=[],this._headersReady=Promise.resolve(),n._fullRequestReader=this,this.onProgress=null}_enqueue(n){this._done||(this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunks.push(n),this._loaded+=n.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const n=Promise.withResolvers();return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class CL{constructor(n,r,a){this._stream=n,this._begin=r,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(n){if(!this._done){if(this._requests.length===0)this._queuedChunk=n;else{this._requests.shift().resolve({value:n,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const n=Promise.withResolvers();return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function LL(A){let n=!0,r=a("filename\\*","i").exec(A);if(r){r=r[1];let E=m(r);return E=unescape(E),E=b(E),E=_(E),h(E)}if(r=f(A),r){const E=_(r);return h(E)}if(r=a("filename","i").exec(A),r){r=r[1];let E=m(r);return E=_(E),h(E)}function a(E,T){return new RegExp("(?:^|;)\\s*"+E+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',T)}function c(E,T){if(E){if(!/^[\x00-\xFF]+$/.test(T))return T;try{const k=new TextDecoder(E,{fatal:!0}),G=$w(T);T=k.decode(G),n=!1}catch{}}return T}function h(E){return n&&/[\x80-\xff]/.test(E)&&(E=c("utf-8",E),n&&(E=c("iso-8859-1",E))),E}function f(E){const T=[];let k;const G=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(k=G.exec(E))!==null;){let[,X,Y,W]=k;if(X=parseInt(X,10),X in T){if(X===0)break;continue}T[X]=[Y,W]}const q=[];for(let X=0;X<T.length&&X in T;++X){let[Y,W]=T[X];W=m(W),Y&&(W=unescape(W),X===0&&(W=b(W))),q.push(W)}return q.join("")}function m(E){if(E.startsWith('"')){const T=E.slice(1).split('\\"');for(let k=0;k<T.length;++k){const G=T[k].indexOf('"');G!==-1&&(T[k]=T[k].slice(0,G),T.length=k+1),T[k]=T[k].replaceAll(/\\(.)/g,"$1")}E=T.join('"')}return E}function b(E){const T=E.indexOf("'");if(T===-1)return E;const k=E.slice(0,T),q=E.slice(T+1).replace(/^[^']*'/,"");return c(k,q)}function _(E){return!E.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(E)?E:E.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(T,k,G,q){if(G==="q"||G==="Q")return q=q.replaceAll("_"," "),q=q.replaceAll(/=([0-9a-fA-F]{2})/g,function(X,Y){return String.fromCharCode(parseInt(Y,16))}),c(k,q);try{q=atob(q)}catch{}return c(k,q)})}return""}function PS(A,n){const r=new Headers;if(!A||!n||typeof n!="object")return r;for(const a in n){const c=n[a];c!==void 0&&r.append(a,c)}return r}function RS({responseHeaders:A,isHttp:n,rangeChunkSize:r,disableRange:a}){const c={allowRangeRequests:!1,suggestedLength:void 0},h=parseInt(A.get("Content-Length"),10);return!Number.isInteger(h)||(c.suggestedLength=h,h<=2*r)||a||!n||A.get("Accept-Ranges")!=="bytes"||(A.get("Content-Encoding")||"identity")!=="identity"||(c.allowRangeRequests=!0),c}function kS(A){const n=A.get("Content-Disposition");if(n){let r=LL(n);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(MS(r))return r}return null}function Kw(A,n){return A===404||A===0&&n.startsWith("file:")?new ng('Missing PDF "'+n+'".'):new Xw(`Unexpected server response (${A}) while retrieving PDF "${n}".`,A)}function fA(A){return A===200||A===206}function pA(A,n,r){return{method:"GET",headers:A,signal:r.signal,mode:"cors",credentials:n?"include":"same-origin",redirect:"follow"}}function mA(A){return A instanceof Uint8Array?A.buffer:A instanceof ArrayBuffer?A:(yi(`getArrayBuffer - unexpected data format: ${A}`),new Uint8Array(A).buffer)}class lM{constructor(n){this.source=n,this.isHttp=/^https?:/i.test(n.url),this.headers=PS(this.isHttp,n.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var n;return((n=this._fullRequestReader)==null?void 0:n._loaded)??0}getFullReader(){return Aa(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PL(this),this._fullRequestReader}getRangeReader(n,r){if(r<=this._progressiveDataLength)return null;const a=new RL(this,n,r);return this._rangeRequestReaders.push(a),a}cancelAllRequests(n){var r;(r=this._fullRequestReader)==null||r.cancel(n);for(const a of this._rangeRequestReaders.slice(0))a.cancel(n)}}class PL{constructor(n){this._stream=n,this._reader=null,this._loaded=0,this._filename=null;const r=n.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange;const a=new Headers(n.headers),c=r.url;fetch(c,pA(a,this._withCredentials,this._abortController)).then(h=>{if(!fA(h.status))throw Kw(h.status,c);this._reader=h.body.getReader(),this._headersCapability.resolve();const f=h.headers,{allowRangeRequests:m,suggestedLength:b}=RS({responseHeaders:f,isHttp:n.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=b||this._contentLength,this._filename=kS(f),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new rg("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._headersCapability.promise;const{value:n,done:r}=await this._reader.read();return r?{value:n,done:r}:(this._loaded+=n.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:mA(n),done:!1})}cancel(n){var r;(r=this._reader)==null||r.cancel(n),this._abortController.abort()}}class RL{constructor(n,r,a){this._stream=n,this._reader=null,this._loaded=0;const c=n.source;this._withCredentials=c.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!c.disableStream,this._abortController=new AbortController;const h=new Headers(n.headers);h.append("Range",`bytes=${r}-${a-1}`);const f=c.url;fetch(f,pA(h,this._withCredentials,this._abortController)).then(m=>{if(!fA(m.status))throw Kw(m.status,f);this._readCapability.resolve(),this._reader=m.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._readCapability.promise;const{value:n,done:r}=await this._reader.read();return r?{value:n,done:r}:(this._loaded+=n.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:mA(n),done:!1})}cancel(n){var r;(r=this._reader)==null||r.cancel(n),this._abortController.abort()}}const J1=200,Q1=206;function kL(A){const n=A.response;return typeof n!="string"?n:$w(n).buffer}class OL{constructor({url:n,httpHeaders:r,withCredentials:a}){this.url=n,this.isHttp=/^https?:/i.test(n),this.headers=PS(this.isHttp,r),this.withCredentials=a||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(n,r,a){const c={begin:n,end:r};for(const h in a)c[h]=a[h];return this.request(c)}requestFull(n){return this.request(n)}request(n){const r=new XMLHttpRequest,a=this.currXhrId++,c=this.pendingRequests[a]={xhr:r};r.open("GET",this.url),r.withCredentials=this.withCredentials;for(const[h,f]of this.headers)r.setRequestHeader(h,f);return this.isHttp&&"begin"in n&&"end"in n?(r.setRequestHeader("Range",`bytes=${n.begin}-${n.end-1}`),c.expectedStatus=Q1):c.expectedStatus=J1,r.responseType="arraybuffer",n.onError&&(r.onerror=function(h){n.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,a),r.onprogress=this.onProgress.bind(this,a),c.onHeadersReceived=n.onHeadersReceived,c.onDone=n.onDone,c.onError=n.onError,c.onProgress=n.onProgress,r.send(null),a}onProgress(n,r){var c;const a=this.pendingRequests[n];a&&((c=a.onProgress)==null||c.call(a,r))}onStateChange(n,r){var b,_,E;const a=this.pendingRequests[n];if(!a)return;const c=a.xhr;if(c.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),c.readyState!==4||!(n in this.pendingRequests))return;if(delete this.pendingRequests[n],c.status===0&&this.isHttp){(b=a.onError)==null||b.call(a,c.status);return}const h=c.status||J1;if(!(h===J1&&a.expectedStatus===Q1)&&h!==a.expectedStatus){(_=a.onError)==null||_.call(a,c.status);return}const m=kL(c);if(h===Q1){const T=c.getResponseHeader("Content-Range"),k=/bytes (\d+)-(\d+)\/(\d+)/.exec(T);a.onDone({begin:parseInt(k[1],10),chunk:m})}else m?a.onDone({begin:0,chunk:m}):(E=a.onError)==null||E.call(a,c.status)}getRequestXhr(n){return this.pendingRequests[n].xhr}isPendingRequest(n){return n in this.pendingRequests}abortRequest(n){const r=this.pendingRequests[n].xhr;delete this.pendingRequests[n],r.abort()}}class IL{constructor(n){this._source=n,this._manager=new OL(n),this._rangeChunkSize=n.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(n){const r=this._rangeRequestReaders.indexOf(n);r>=0&&this._rangeRequestReaders.splice(r,1)}getFullReader(){return Aa(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new DL(this._manager,this._source),this._fullRequestReader}getRangeReader(n,r){const a=new NL(this._manager,n,r);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}cancelAllRequests(n){var r;(r=this._fullRequestReader)==null||r.cancel(n);for(const a of this._rangeRequestReaders.slice(0))a.cancel(n)}}class DL{constructor(n,r){this._manager=n;const a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=n.requestFull(a),this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const n=this._fullRequestId,r=this._manager.getRequestXhr(n),a=new Headers(r.getAllResponseHeaders().trim().split(/[\r\n]+/).map(f=>{const[m,...b]=f.split(": ");return[m,b.join(": ")]})),{allowRangeRequests:c,suggestedLength:h}=RS({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});c&&(this._isRangeSupported=!0),this._contentLength=h||this._contentLength,this._filename=kS(a),this._isRangeSupported&&this._manager.abortRequest(n),this._headersCapability.resolve()}_onDone(n){if(n&&(this._requests.length>0?this._requests.shift().resolve({value:n.chunk,done:!1}):this._cachedChunks.push(n.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(n){this._storedError=Kw(n,this._url),this._headersCapability.reject(this._storedError);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(n){var r;(r=this.onProgress)==null||r.call(this,{loaded:n.loaded,total:n.lengthComputable?n.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const n=Promise.withResolvers();return this._requests.push(n),n.promise}cancel(n){this._done=!0,this._headersCapability.reject(n);for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class NL{constructor(n,r,a){this._manager=n;const c={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._requestId=n.requestRange(r,a,c),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var n;(n=this.onClosed)==null||n.call(this,this)}_onDone(n){const r=n.chunk;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(n){this._storedError=Kw(n,this._url);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(n){var r;this.isStreamingSupported||(r=this.onProgress)==null||r.call(this,{loaded:n.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const n=Promise.withResolvers();return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const FL=/^[a-z][a-z0-9\-+.]+:/i;function zL(A){if(FL.test(A))return new URL(A);const n=ap.get("url");return new URL(n.pathToFileURL(A))}function gA(A,n,r){return A.protocol==="http:"?ap.get("http").request(A,{headers:n},r):ap.get("https").request(A,{headers:n},r)}class BL{constructor(n){this.source=n,this.url=zL(n.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=PS(this.isHttp,n.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var n;return((n=this._fullRequestReader)==null?void 0:n._loaded)??0}getFullReader(){return Aa(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new UL(this):new HL(this),this._fullRequestReader}getRangeReader(n,r){if(r<=this._progressiveDataLength)return null;const a=this.isFsUrl?new GL(this,n,r):new jL(this,n,r);return this._rangeRequestReaders.push(a),a}cancelAllRequests(n){var r;(r=this._fullRequestReader)==null||r.cancel(n);for(const a of this._rangeRequestReaders.slice(0))a.cancel(n)}}class vA{constructor(n){this._url=n.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=n.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const n=this._readableStream.read();return n===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=n.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(n).buffer,done:!1})}cancel(n){if(!this._readableStream){this._error(n);return}this._readableStream.destroy(n)}_error(n){this._storedError=n,this._readCapability.resolve()}_setReadableStream(n){this._readableStream=n,n.on("readable",()=>{this._readCapability.resolve()}),n.on("end",()=>{n.destroy(),this._done=!0,this._readCapability.resolve()}),n.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new rg("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class yA{constructor(n){this._url=n.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=n.source;this._isStreamingSupported=!r.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const n=this._readableStream.read();return n===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=n.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:new Uint8Array(n).buffer,done:!1})}cancel(n){if(!this._readableStream){this._error(n);return}this._readableStream.destroy(n)}_error(n){this._storedError=n,this._readCapability.resolve()}_setReadableStream(n){this._readableStream=n,n.on("readable",()=>{this._readCapability.resolve()}),n.on("end",()=>{n.destroy(),this._done=!0,this._readCapability.resolve()}),n.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class HL extends vA{constructor(n){super(n);const r=Object.fromEntries(n.headers),a=c=>{if(c.statusCode===404){const b=new ng(`Missing PDF "${this._url}".`);this._storedError=b,this._headersCapability.reject(b);return}this._headersCapability.resolve(),this._setReadableStream(c);const h=new Headers(this._readableStream.headers),{allowRangeRequests:f,suggestedLength:m}=RS({responseHeaders:h,isHttp:n.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=f,this._contentLength=m||this._contentLength,this._filename=kS(h)};this._request=gA(this._url,r,a),this._request.on("error",c=>{this._storedError=c,this._headersCapability.reject(c)}),this._request.end()}}class jL extends yA{constructor(n,r,a){super(n);const c=Object.fromEntries(n.headers);c.Range=`bytes=${r}-${a-1}`;const h=f=>{if(f.statusCode===404){const m=new ng(`Missing PDF "${this._url}".`);this._storedError=m;return}this._setReadableStream(f)};this._request=gA(this._url,c,h),this._request.on("error",f=>{this._storedError=f}),this._request.end()}}class UL extends vA{constructor(n){super(n);const r=ap.get("fs");r.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=new ng(`Missing PDF "${this._url}".`)),this._storedError=a,this._headersCapability.reject(a)})}}class GL extends yA{constructor(n,r,a){super(n);const c=ap.get("fs");this._setReadableStream(c.createReadStream(this._url,{start:r,end:a-1}))}}const VL=1e5,tu=30,WL=.8;var SM,Wf,iu,K0,J0,bm,Md,Q0,ex,wm,bv,wv,qf,_v,tx,Sv,_m,nx,rx,Oo,Sm,Em,ix,Xf,Ev,Xd,xA,bA,D_,zu,Qb,N_,wA,_A;let I_=(Oo=class{constructor({textContentSource:n,container:r,viewport:a}){fe(this,Xd);fe(this,Wf,Promise.withResolvers());fe(this,iu,null);fe(this,K0,!1);fe(this,J0,!!((SM=globalThis.FontInspector)!=null&&SM.enabled));fe(this,bm,null);fe(this,Md,null);fe(this,Q0,0);fe(this,ex,0);fe(this,wm,null);fe(this,bv,null);fe(this,wv,0);fe(this,qf,0);fe(this,_v,Object.create(null));fe(this,tx,[]);fe(this,Sv,null);fe(this,_m,[]);fe(this,nx,new WeakMap);fe(this,rx,null);var b;if(n instanceof ReadableStream)se(this,Sv,n);else if(typeof n=="object")se(this,Sv,new ReadableStream({start(_){_.enqueue(n),_.close()}}));else throw new Error('No "textContentSource" parameter specified.');se(this,iu,se(this,bv,r)),se(this,qf,a.scale*(globalThis.devicePixelRatio||1)),se(this,wv,a.rotation),se(this,Md,{div:null,properties:null,ctx:null});const{pageWidth:c,pageHeight:h,pageX:f,pageY:m}=a.rawDims;se(this,rx,[1,0,0,-1,-f,m+h]),se(this,ex,c),se(this,Q0,h),ce(b=Oo,zu,wA).call(b),Zm(r,a),y(this,Wf).promise.finally(()=>{y(Oo,Ev).delete(this),se(this,Md,null),se(this,_v,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:n,isFirefox:r}=zl.platform;return Ni(this,"fontFamilyMap",new Map([["sans-serif",`${n&&r?"Calibri, ":""}sans-serif`],["monospace",`${n&&r?"Lucida Console, ":""}monospace`]]))}render(){const n=()=>{y(this,wm).read().then(({value:r,done:a})=>{if(a){y(this,Wf).resolve();return}y(this,bm)??se(this,bm,r.lang),Object.assign(y(this,_v),r.styles),ce(this,Xd,xA).call(this,r.items),n()},y(this,Wf).reject)};return se(this,wm,y(this,Sv).getReader()),y(Oo,Ev).add(this),n(),y(this,Wf).promise}update({viewport:n,onBefore:r=null}){var h;const a=n.scale*(globalThis.devicePixelRatio||1),c=n.rotation;if(c!==y(this,wv)&&(r==null||r(),se(this,wv,c),Zm(y(this,bv),{rotation:c})),a!==y(this,qf)){r==null||r(),se(this,qf,a);const f={div:null,properties:null,ctx:ce(h=Oo,zu,Qb).call(h,y(this,bm))};for(const m of y(this,_m))f.properties=y(this,nx).get(m),f.div=m,ce(this,Xd,D_).call(this,f)}}cancel(){var r;const n=new rg("TextLayer task cancelled.");(r=y(this,wm))==null||r.cancel(n).catch(()=>{}),se(this,wm,null),y(this,Wf).reject(n)}get textDivs(){return y(this,_m)}get textContentItemsStr(){return y(this,tx)}static cleanup(){if(!(y(this,Ev).size>0)){y(this,Sm).clear();for(const{canvas:n}of y(this,Em).values())n.remove();y(this,Em).clear()}}},Wf=new WeakMap,iu=new WeakMap,K0=new WeakMap,J0=new WeakMap,bm=new WeakMap,Md=new WeakMap,Q0=new WeakMap,ex=new WeakMap,wm=new WeakMap,bv=new WeakMap,wv=new WeakMap,qf=new WeakMap,_v=new WeakMap,tx=new WeakMap,Sv=new WeakMap,_m=new WeakMap,nx=new WeakMap,rx=new WeakMap,Sm=new WeakMap,Em=new WeakMap,ix=new WeakMap,Xf=new WeakMap,Ev=new WeakMap,Xd=new WeakSet,xA=function(n){var c,h;if(y(this,K0))return;(h=y(this,Md)).ctx??(h.ctx=ce(c=Oo,zu,Qb).call(c,y(this,bm)));const r=y(this,_m),a=y(this,tx);for(const f of n){if(r.length>VL){yi("Ignoring additional textDivs for performance reasons."),se(this,K0,!0);return}if(f.str===void 0){if(f.type==="beginMarkedContentProps"||f.type==="beginMarkedContent"){const m=y(this,iu);se(this,iu,document.createElement("span")),y(this,iu).classList.add("markedContent"),f.id!==null&&y(this,iu).setAttribute("id",`${f.id}`),m.append(y(this,iu))}else f.type==="endMarkedContent"&&se(this,iu,y(this,iu).parentNode);continue}a.push(f.str),ce(this,Xd,bA).call(this,f)}},bA=function(n){var X;const r=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:n.str!=="",hasEOL:n.hasEOL,fontSize:0};y(this,_m).push(r);const c=xr.transform(y(this,rx),n.transform);let h=Math.atan2(c[1],c[0]);const f=y(this,_v)[n.fontName];f.vertical&&(h+=Math.PI/2);let m=y(this,J0)&&f.fontSubstitution||f.fontFamily;m=Oo.fontFamilyMap.get(m)||m;const b=Math.hypot(c[2],c[3]),_=b*ce(X=Oo,zu,_A).call(X,m,y(this,bm));let E,T;h===0?(E=c[4],T=c[5]-_):(E=c[4]+_*Math.sin(h),T=c[5]-_*Math.cos(h));const k="calc(var(--scale-factor)*",G=r.style;y(this,iu)===y(this,bv)?(G.left=`${(100*E/y(this,ex)).toFixed(2)}%`,G.top=`${(100*T/y(this,Q0)).toFixed(2)}%`):(G.left=`${k}${E.toFixed(2)}px)`,G.top=`${k}${T.toFixed(2)}px)`),G.fontSize=`${k}${(y(Oo,Xf)*b).toFixed(2)}px)`,G.fontFamily=m,a.fontSize=b,r.setAttribute("role","presentation"),r.textContent=n.str,r.dir=n.dir,y(this,J0)&&(r.dataset.fontName=f.fontSubstitutionLoadedName||n.fontName),h!==0&&(a.angle=h*(180/Math.PI));let q=!1;if(n.str.length>1)q=!0;else if(n.str!==" "&&n.transform[0]!==n.transform[3]){const Y=Math.abs(n.transform[0]),W=Math.abs(n.transform[3]);Y!==W&&Math.max(Y,W)/Math.min(Y,W)>1.5&&(q=!0)}if(q&&(a.canvasWidth=f.vertical?n.height:n.width),y(this,nx).set(r,a),y(this,Md).div=r,y(this,Md).properties=a,ce(this,Xd,D_).call(this,y(this,Md)),a.hasText&&y(this,iu).append(r),a.hasEOL){const Y=document.createElement("br");Y.setAttribute("role","presentation"),y(this,iu).append(Y)}},D_=function(n){var m;const{div:r,properties:a,ctx:c}=n,{style:h}=r;let f="";if(y(Oo,Xf)>1&&(f=`scale(${1/y(Oo,Xf)})`),a.canvasWidth!==0&&a.hasText){const{fontFamily:b}=h,{canvasWidth:_,fontSize:E}=a;ce(m=Oo,zu,N_).call(m,c,E*y(this,qf),b);const{width:T}=c.measureText(r.textContent);T>0&&(f=`scaleX(${_*y(this,qf)/T}) ${f}`)}a.angle!==0&&(f=`rotate(${a.angle}deg) ${f}`),f.length>0&&(h.transform=f)},zu=new WeakSet,Qb=function(n=null){let r=y(this,Em).get(n||(n=""));if(!r){const a=document.createElement("canvas");a.className="hiddenCanvasElement",a.lang=n,document.body.append(a),r=a.getContext("2d",{alpha:!1,willReadFrequently:!0}),y(this,Em).set(n,r),y(this,ix).set(r,{size:0,family:""})}return r},N_=function(n,r,a){const c=y(this,ix).get(n);r===c.size&&a===c.family||(n.font=`${r}px ${a}`,c.size=r,c.family=a)},wA=function(){if(y(this,Xf)!==null)return;const n=document.createElement("div");n.style.opacity=0,n.style.lineHeight=1,n.style.fontSize="1px",n.style.position="absolute",n.textContent="X",document.body.append(n),se(this,Xf,n.getBoundingClientRect().height),n.remove()},_A=function(n,r){const a=y(this,Sm).get(n);if(a)return a;const c=ce(this,zu,Qb).call(this,r);c.canvas.width=c.canvas.height=tu,ce(this,zu,N_).call(this,c,tu,n);const h=c.measureText("");let f=h.fontBoundingBoxAscent,m=Math.abs(h.fontBoundingBoxDescent);if(f){const E=f/(f+m);return y(this,Sm).set(n,E),c.canvas.width=c.canvas.height=0,E}c.strokeStyle="red",c.clearRect(0,0,tu,tu),c.strokeText("g",0,0);let b=c.getImageData(0,0,tu,tu).data;m=0;for(let E=b.length-1-3;E>=0;E-=4)if(b[E]>0){m=Math.ceil(E/4/tu);break}c.clearRect(0,0,tu,tu),c.strokeText("A",0,tu),b=c.getImageData(0,0,tu,tu).data,f=0;for(let E=0,T=b.length;E<T;E+=4)if(b[E]>0){f=tu-Math.floor(E/4/tu);break}c.canvas.width=c.canvas.height=0;const _=f?f/(f+m):WL;return y(this,Sm).set(n,_),_},fe(Oo,zu),fe(Oo,Sm,new Map),fe(Oo,Em,new Map),fe(Oo,ix,new WeakMap),fe(Oo,Xf,null),fe(Oo,Ev,new Set),Oo);class _0{static textContent(n){const r=[],a={items:r,styles:Object.create(null)};function c(h){var b;if(!h)return;let f=null;const m=h.name;if(m==="#text")f=h.value;else if(_0.shouldBuildText(m))(b=h==null?void 0:h.attributes)!=null&&b.textContent?f=h.attributes.textContent:h.value&&(f=h.value);else return;if(f!==null&&r.push({str:f}),!!h.children)for(const _ of h.children)c(_)}return c(n),a}static shouldBuildText(n){return!(n==="textarea"||n==="input"||n==="option"||n==="select")}}const qL=65536,XL=100,$L=5e3,YL=El?aL:iL,ZL=El?lL:iA,KL=El?oL:sL,JL=El?uL:lA;function QL(A={}){typeof A=="string"||A instanceof URL?A={url:A}:(A instanceof ArrayBuffer||ArrayBuffer.isView(A))&&(A={data:A});const n=new F_,{docId:r}=n,a=A.url?eP(A.url):null,c=A.data?tP(A.data):null,h=A.httpHeaders||null,f=A.withCredentials===!0,m=A.password??null,b=A.range instanceof SA?A.range:null,_=Number.isInteger(A.rangeChunkSize)&&A.rangeChunkSize>0?A.rangeChunkSize:qL;let E=A.worker instanceof Qg?A.worker:null;const T=A.verbosity,k=typeof A.docBaseUrl=="string"&&!Zw(A.docBaseUrl)?A.docBaseUrl:null,G=typeof A.cMapUrl=="string"?A.cMapUrl:null,q=A.cMapPacked!==!1,X=A.CMapReaderFactory||ZL,Y=typeof A.standardFontDataUrl=="string"?A.standardFontDataUrl:null,W=A.StandardFontDataFactory||JL,ne=A.stopAtErrors!==!0,oe=Number.isInteger(A.maxImageSize)&&A.maxImageSize>-1?A.maxImageSize:-1,le=A.isEvalSupported!==!1,Se=typeof A.isOffscreenCanvasSupported=="boolean"?A.isOffscreenCanvasSupported:!El,be=typeof A.isChrome=="boolean"?A.isChrome:!zl.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),Pe=Number.isInteger(A.canvasMaxAreaInBytes)?A.canvasMaxAreaInBytes:-1,P=typeof A.disableFontFace=="boolean"?A.disableFontFace:El,We=A.fontExtraProperties===!0,tt=A.enableXfa===!0,dt=A.ownerDocument||globalThis.document,Ke=A.disableRange===!0,Ze=A.disableStream===!0,Xe=A.disableAutoFetch===!0,ft=A.pdfBug===!0,Be=A.CanvasFactory||YL,Qe=A.FilterFactory||KL,Ue=A.enableHWA===!0,te=b?b.length:A.length??NaN,lt=typeof A.useSystemFonts=="boolean"?A.useSystemFonts:!El&&!P,_e=typeof A.useWorkerFetch=="boolean"?A.useWorkerFetch:X===iA&&W===lA&&G&&Y&&r0(G,document.baseURI)&&r0(Y,document.baseURI);A.canvasFactory&&ZE("`canvasFactory`-instance option, please use `CanvasFactory` instead."),A.filterFactory&&ZE("`filterFactory`-instance option, please use `FilterFactory` instead.");const ke=null;D2(T);const rt={canvasFactory:new Be({ownerDocument:dt,enableHWA:Ue}),filterFactory:new Qe({docId:r,ownerDocument:dt}),cMapReaderFactory:_e?null:new X({baseUrl:G,isCompressed:q}),standardFontDataFactory:_e?null:new W({baseUrl:Y})};if(!E){const we={verbosity:T,port:Gd.workerPort};E=we.port?Qg.fromPort(we):new Qg(we),n._worker=E}const St={docId:r,apiVersion:"4.8.69",data:c,password:m,disableAutoFetch:Xe,rangeChunkSize:_,length:te,docBaseUrl:k,enableXfa:tt,evaluatorOptions:{maxImageSize:oe,disableFontFace:P,ignoreErrors:ne,isEvalSupported:le,isOffscreenCanvasSupported:Se,isChrome:be,canvasMaxAreaInBytes:Pe,fontExtraProperties:We,useSystemFonts:lt,cMapUrl:_e?G:null,standardFontDataUrl:_e?Y:null}},Ut={disableFontFace:P,fontExtraProperties:We,ownerDocument:dt,pdfBug:ft,styleElement:ke,loadingParams:{disableAutoFetch:Xe,enableXfa:tt}};return E.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");if(E.destroyed)throw new Error("Worker was destroyed");const we=E.messageHandler.sendWithPromise("GetDocRequest",St,c?[c.buffer]:null);let Pt;if(b)Pt=new AL(b,{disableRange:Ke,disableStream:Ze});else if(!c){if(!a)throw new Error("getDocument - no `url` parameter provided.");let gt;El?gt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&r0(a)?lM:BL:gt=r0(a)?lM:IL,Pt=new gt({url:a,length:te,httpHeaders:h,withCredentials:f,rangeChunkSize:_,disableRange:Ke,disableStream:Ze})}return we.then(gt=>{if(n.destroyed)throw new Error("Loading aborted");if(E.destroyed)throw new Error("Worker was destroyed");const Le=new c0(r,gt,E.port),Bt=new sP(Le,n,Pt,Ut,rt);n._transport=Bt,Le.send("Ready",null)})}).catch(n._capability.reject),n}function eP(A){if(A instanceof URL)return A.href;try{return new URL(A,window.location).href}catch{if(El&&typeof A=="string")return A}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function tP(A){if(El&&typeof Buffer<"u"&&A instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(A instanceof Uint8Array&&A.byteLength===A.buffer.byteLength)return A;if(typeof A=="string")return $w(A);if(A instanceof ArrayBuffer||ArrayBuffer.isView(A)||typeof A=="object"&&!isNaN(A==null?void 0:A.length))return new Uint8Array(A);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function uM(A){return typeof A=="object"&&Number.isInteger(A==null?void 0:A.num)&&A.num>=0&&Number.isInteger(A==null?void 0:A.gen)&&A.gen>=0}var Iw;const Dw=class Dw{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Il(Dw,Iw)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var n,r,a;this.destroyed=!0;try{(n=this._worker)!=null&&n.port&&(this._worker._pendingDestroy=!0),await((r=this._transport)==null?void 0:r.destroy())}catch(c){throw(a=this._worker)!=null&&a.port&&delete this._worker._pendingDestroy,c}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Iw=new WeakMap,fe(Dw,Iw,0);let F_=Dw,SA=class{constructor(n,r,a=!1,c=null){this.length=n,this.initialData=r,this.progressiveDone=a,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(n){this._rangeListeners.push(n)}addProgressListener(n){this._progressListeners.push(n)}addProgressiveReadListener(n){this._progressiveReadListeners.push(n)}addProgressiveDoneListener(n){this._progressiveDoneListeners.push(n)}onDataRange(n,r){for(const a of this._rangeListeners)a(n,r)}onDataProgress(n,r){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(n,r)})}onDataProgressiveRead(n){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(n)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const n of this._progressiveDoneListeners)n()})}transportReady(){this._readyCapability.resolve()}requestDataRange(n,r){Zs("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class nP{constructor(n,r){this._pdfInfo=n,this._transport=r}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ni(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(n){return this._transport.getPage(n)}getPageIndex(n){return this._transport.getPageIndex(n)}getDestinations(){return this._transport.getDestinations()}getDestination(n){return this._transport.getDestination(n)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:n="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(n);return this._transport.getOptionalContentConfig(r)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(n=!1){return this._transport.startCleanup(n||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(n){return this._transport.cachedPageNumber(n)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var $f,Ad,pc,$g,ew;class rP{constructor(n,r,a,c=!1){fe(this,pc);fe(this,$f,null);fe(this,Ad,!1);this._pageIndex=n,this._pageInfo=r,this._transport=a,this._stats=c?new YE:null,this._pdfBug=c,this.commonObjs=a.commonObjs,this.objs=new EA,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:n,rotation:r=this.rotate,offsetX:a=0,offsetY:c=0,dontFlip:h=!1}={}){return new zx({viewBox:this.view,scale:n,rotation:r,offsetX:a,offsetY:c,dontFlip:h})}getAnnotations({intent:n="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(n);return this._transport.getAnnotations(this._pageIndex,r)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ni(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var n;return((n=this._transport._htmlForXfa)==null?void 0:n.children[this._pageIndex])||null}render({canvasContext:n,viewport:r,intent:a="display",annotationMode:c=kf.ENABLE,transform:h=null,background:f=null,optionalContentConfigPromise:m=null,annotationCanvasMap:b=null,pageColors:_=null,printAnnotationStorage:E=null,isEditing:T=!1}){var le,Se;(le=this._stats)==null||le.time("Overall");const k=this._transport.getRenderingIntent(a,c,E,T),{renderingIntent:G,cacheKey:q}=k;se(this,Ad,!1),ce(this,pc,ew).call(this),m||(m=this._transport.getOptionalContentConfig(G));let X=this._intentStates.get(q);X||(X=Object.create(null),this._intentStates.set(q,X)),X.streamReaderCancelTimeout&&(clearTimeout(X.streamReaderCancelTimeout),X.streamReaderCancelTimeout=null);const Y=!!(G&Nu.PRINT);X.displayReadyCapability||(X.displayReadyCapability=Promise.withResolvers(),X.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Se=this._stats)==null||Se.time("Page Request"),this._pumpOperatorList(k));const W=be=>{var Pe;X.renderTasks.delete(ne),(this._maybeCleanupAfterRender||Y)&&se(this,Ad,!0),ce(this,pc,$g).call(this,!Y),be?(ne.capability.reject(be),this._abortOperatorList({intentState:X,reason:be instanceof Error?be:new Error(be)})):ne.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Pe=globalThis.Stats)!=null&&Pe.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},ne=new B_({callback:W,params:{canvasContext:n,viewport:r,transform:h,background:f},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:b,operatorList:X.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Y,pdfBug:this._pdfBug,pageColors:_});(X.renderTasks||(X.renderTasks=new Set)).add(ne);const oe=ne.task;return Promise.all([X.displayReadyCapability.promise,m]).then(([be,Pe])=>{var P;if(this.destroyed){W();return}if((P=this._stats)==null||P.time("Rendering"),!(Pe.renderingIntent&G))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");ne.initializeGraphics({transparency:be,optionalContentConfig:Pe}),ne.operatorListChanged()}).catch(W),oe}getOperatorList({intent:n="display",annotationMode:r=kf.ENABLE,printAnnotationStorage:a=null,isEditing:c=!1}={}){var _;function h(){m.operatorList.lastChunk&&(m.opListReadCapability.resolve(m.operatorList),m.renderTasks.delete(b))}const f=this._transport.getRenderingIntent(n,r,a,c,!0);let m=this._intentStates.get(f.cacheKey);m||(m=Object.create(null),this._intentStates.set(f.cacheKey,m));let b;return m.opListReadCapability||(b=Object.create(null),b.operatorListChanged=h,m.opListReadCapability=Promise.withResolvers(),(m.renderTasks||(m.renderTasks=new Set)).add(b),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(f)),m.opListReadCapability.promise}streamTextContent({includeMarkedContent:n=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:n===!0,disableNormalization:r===!0},{highWaterMark:100,size(c){return c.items.length}})}getTextContent(n={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>_0.textContent(a));const r=this.streamTextContent(n);return new Promise(function(a,c){function h(){f.read().then(function({value:b,done:_}){if(_){a(m);return}m.lang??(m.lang=b.lang),Object.assign(m.styles,b.styles),m.items.push(...b.items),h()},c)}const f=r.getReader(),m={items:[],styles:Object.create(null),lang:null};h()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const n=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const a of r.renderTasks)n.push(a.completed),a.cancel();return this.objs.clear(),se(this,Ad,!1),ce(this,pc,ew).call(this),Promise.all(n)}cleanup(n=!1){se(this,Ad,!0);const r=ce(this,pc,$g).call(this,!1);return n&&r&&this._stats&&(this._stats=new YE),r}_startRenderPage(n,r){var c,h;const a=this._intentStates.get(r);a&&((c=this._stats)==null||c.timeEnd("Page Request"),(h=a.displayReadyCapability)==null||h.resolve(n))}_renderPageChunk(n,r){for(let a=0,c=n.length;a<c;a++)r.operatorList.fnArray.push(n.fnArray[a]),r.operatorList.argsArray.push(n.argsArray[a]);r.operatorList.lastChunk=n.lastChunk,r.operatorList.separateAnnots=n.separateAnnots;for(const a of r.renderTasks)a.operatorListChanged();n.lastChunk&&ce(this,pc,$g).call(this,!0)}_pumpOperatorList({renderingIntent:n,cacheKey:r,annotationStorageSerializable:a,modifiedIds:c}){const{map:h,transfer:f}=a,b=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:r,annotationStorage:h,modifiedIds:c},f).getReader(),_=this._intentStates.get(r);_.streamReader=b;const E=()=>{b.read().then(({value:T,done:k})=>{if(k){_.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(T,_),E())},T=>{if(_.streamReader=null,!this._transport.destroyed){if(_.operatorList){_.operatorList.lastChunk=!0;for(const k of _.renderTasks)k.operatorListChanged();ce(this,pc,$g).call(this,!0)}if(_.displayReadyCapability)_.displayReadyCapability.reject(T);else if(_.opListReadCapability)_.opListReadCapability.reject(T);else throw T}})};E()}_abortOperatorList({intentState:n,reason:r,force:a=!1}){if(n.streamReader){if(n.streamReaderCancelTimeout&&(clearTimeout(n.streamReaderCancelTimeout),n.streamReaderCancelTimeout=null),!a){if(n.renderTasks.size>0)return;if(r instanceof ES){let c=XL;r.extraDelay>0&&r.extraDelay<1e3&&(c+=r.extraDelay),n.streamReaderCancelTimeout=setTimeout(()=>{n.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:n,reason:r,force:!0})},c);return}}if(n.streamReader.cancel(new rg(r.message)).catch(()=>{}),n.streamReader=null,!this._transport.destroyed){for(const[c,h]of this._intentStates)if(h===n){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}$f=new WeakMap,Ad=new WeakMap,pc=new WeakSet,$g=function(n=!1){if(ce(this,pc,ew).call(this),!y(this,Ad)||this.destroyed)return!1;if(n)return se(this,$f,setTimeout(()=>{se(this,$f,null),ce(this,pc,$g).call(this,!1)},$L)),!1;for(const{renderTasks:r,operatorList:a}of this._intentStates.values())if(r.size>0||!a.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),se(this,Ad,!1),!0},ew=function(){y(this,$f)&&(clearTimeout(y(this,$f)),se(this,$f,null))};var Td,Nw;class iP{constructor(){fe(this,Td,new Map);fe(this,Nw,Promise.resolve())}postMessage(n,r){const a={data:structuredClone(n,r?{transfer:r}:null)};y(this,Nw).then(()=>{for(const[c]of y(this,Td))c.call(this,a)})}addEventListener(n,r,a=null){let c=null;if((a==null?void 0:a.signal)instanceof AbortSignal){const{signal:h}=a;if(h.aborted){yi("LoopbackPort - cannot use an `aborted` signal.");return}const f=()=>this.removeEventListener(n,r);c=()=>h.removeEventListener("abort",f),h.addEventListener("abort",f)}y(this,Td).set(r,c)}removeEventListener(n,r){const a=y(this,Td).get(r);a==null||a(),y(this,Td).delete(r)}terminate(){for(const[,n]of y(this,Td))n==null||n();y(this,Td).clear()}}Td=new WeakMap,Nw=new WeakMap;var Fw,Mm,Am,Mv,tw,Av,nw;const no=class no{constructor({name:n=null,port:r=null,verbosity:a=N2()}={}){fe(this,Mv);var c;if(this.name=n,this.destroyed=!1,this.verbosity=a,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,r){if((c=y(no,Am))!=null&&c.has(r))throw new Error("Cannot use more than one PDFWorker per port.");(y(no,Am)||se(no,Am,new WeakMap)).set(r,this),this._initializeFromPort(r);return}this._initialize()}get promise(){return El?Promise.all([ap.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(n){this._port=n,this._messageHandler=new c0("main","worker",n),this._messageHandler.on("ready",function(){}),ce(this,Mv,tw).call(this)}_initialize(){if(y(no,Mm)||y(no,Av,nw)){this._setupFakeWorker();return}let{workerSrc:n}=no;try{no._isSameOrigin(window.location.href,n)||(n=no._createCDNWrapper(new URL(n,window.location).href));const r=new Worker(n,{type:"module"}),a=new c0("main","worker",r),c=()=>{h.abort(),a.destroy(),r.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},h=new AbortController;r.addEventListener("error",()=>{this._webWorker||c()},{signal:h.signal}),a.on("test",m=>{if(h.abort(),this.destroyed||!m){c();return}this._messageHandler=a,this._port=r,this._webWorker=r,ce(this,Mv,tw).call(this)}),a.on("ready",m=>{if(h.abort(),this.destroyed){c();return}try{f()}catch{this._setupFakeWorker()}});const f=()=>{const m=new Uint8Array;a.send("test",m,[m.buffer])};f();return}catch{qw("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){y(no,Mm)||(yi("Setting up fake worker."),se(no,Mm,!0)),no._setupFakeWorkerGlobal.then(n=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const r=new iP;this._port=r;const a=`fake${Il(no,Fw)._++}`,c=new c0(a+"_worker",a,r);n.setup(c,r),this._messageHandler=new c0(a,a+"_worker",r),ce(this,Mv,tw).call(this)}).catch(n=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${n.message}".`))})}destroy(){var n;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(n=y(no,Am))==null||n.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(n){var a;if(!(n!=null&&n.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const r=(a=y(this,Am))==null?void 0:a.get(n.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new no(n)}static get workerSrc(){if(Gd.workerSrc)return Gd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ni(this,"_setupFakeWorkerGlobal",(async()=>y(this,Av,nw)?y(this,Av,nw):(await import(this.workerSrc)).WorkerMessageHandler)())}};Fw=new WeakMap,Mm=new WeakMap,Am=new WeakMap,Mv=new WeakSet,tw=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Av=new WeakSet,nw=function(){var n;try{return((n=globalThis.pdfjsWorker)==null?void 0:n.WorkerMessageHandler)||null}catch{return null}},fe(no,Av),fe(no,Fw,0),fe(no,Mm,!1),fe(no,Am),El&&(se(no,Mm,!0),Gd.workerSrc||(Gd.workerSrc="./pdf.worker.mjs")),no._isSameOrigin=(n,r)=>{let a;try{if(a=new URL(n),!a.origin||a.origin==="null")return!1}catch{return!1}const c=new URL(r,a);return a.origin===c.origin},no._createCDNWrapper=n=>{const r=`await import("${n}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))};let Qg=no;var Cd,Gh,Tv,Cv,Vh,Tm,h0;class sP{constructor(n,r,a,c,h){fe(this,Tm);fe(this,Cd,new Map);fe(this,Gh,new Map);fe(this,Tv,new Map);fe(this,Cv,new Map);fe(this,Vh,null);this.messageHandler=n,this.loadingTask=r,this.commonObjs=new EA,this.fontLoader=new nL({ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this.loadingParams=c.loadingParams,this._params=c,this.canvasFactory=h.canvasFactory,this.filterFactory=h.filterFactory,this.cMapReaderFactory=h.cMapReaderFactory,this.standardFontDataFactory=h.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ni(this,"annotationStorage",new CS)}getRenderingIntent(n,r=kf.ENABLE,a=null,c=!1,h=!1){let f=Nu.DISPLAY,m=M_;switch(n){case"any":f=Nu.ANY;break;case"display":break;case"print":f=Nu.PRINT;break;default:yi(`getRenderingIntent - invalid intent: ${n}`)}const b=f&Nu.PRINT&&a instanceof tA?a:this.annotationStorage;switch(r){case kf.DISABLE:f+=Nu.ANNOTATIONS_DISABLE;break;case kf.ENABLE:break;case kf.ENABLE_FORMS:f+=Nu.ANNOTATIONS_FORMS;break;case kf.ENABLE_STORAGE:f+=Nu.ANNOTATIONS_STORAGE,m=b.serializable;break;default:yi(`getRenderingIntent - invalid annotationMode: ${r}`)}c&&(f+=Nu.IS_EDITING),h&&(f+=Nu.OPLIST);const{ids:_,hash:E}=b.modifiedIds,T=[f,m.hash,E];return{renderingIntent:f,cacheKey:T.join("_"),annotationStorageSerializable:m,modifiedIds:_}}destroy(){var a;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(a=y(this,Vh))==null||a.reject(new Error("Worker was destroyed during onPassword callback"));const n=[];for(const c of y(this,Gh).values())n.push(c._destroy());y(this,Gh).clear(),y(this,Tv).clear(),y(this,Cv).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return n.push(r),Promise.all(n).then(()=>{var c;this.commonObjs.clear(),this.fontLoader.clear(),y(this,Cd).clear(),this.filterFactory.destroy(),I_.cleanup(),(c=this._networkStream)==null||c.cancelAllRequests(new rg("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:n,loadingTask:r}=this;n.on("GetReader",(a,c)=>{Aa(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=h=>{this._lastProgress={loaded:h.loaded,total:h.total}},c.onPull=()=>{this._fullReader.read().then(function({value:h,done:f}){if(f){c.close();return}Aa(h instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(h),1,[h])}).catch(h=>{c.error(h)})},c.onCancel=h=>{this._fullReader.cancel(h),c.ready.catch(f=>{if(!this.destroyed)throw f})}}),n.on("ReaderHeadersReady",async a=>{var m;await this._fullReader.headersReady;const{isStreamingSupported:c,isRangeSupported:h,contentLength:f}=this._fullReader;return(!c||!h)&&(this._lastProgress&&((m=r.onProgress)==null||m.call(r,this._lastProgress)),this._fullReader.onProgress=b=>{var _;(_=r.onProgress)==null||_.call(r,{loaded:b.loaded,total:b.total})}),{isStreamingSupported:c,isRangeSupported:h,contentLength:f}}),n.on("GetRangeReader",(a,c)=>{Aa(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const h=this._networkStream.getRangeReader(a.begin,a.end);if(!h){c.close();return}c.onPull=()=>{h.read().then(function({value:f,done:m}){if(m){c.close();return}Aa(f instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(f),1,[f])}).catch(f=>{c.error(f)})},c.onCancel=f=>{h.cancel(f),c.ready.catch(m=>{if(!this.destroyed)throw m})}}),n.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,r._capability.resolve(new nP(a,this))}),n.on("DocException",function(a){let c;switch(a.name){case"PasswordException":c=new r_(a.message,a.code);break;case"InvalidPDFException":c=new TM(a.message);break;case"MissingPDFException":c=new ng(a.message);break;case"UnexpectedResponseException":c=new Xw(a.message,a.status);break;case"UnknownErrorException":c=new i_(a.message,a.details);break;default:Zs("DocException - expected a valid Error.")}r._capability.reject(c)}),n.on("PasswordRequest",a=>{if(se(this,Vh,Promise.withResolvers()),r.onPassword){const c=h=>{h instanceof Error?y(this,Vh).reject(h):y(this,Vh).resolve({password:h})};try{r.onPassword(c,a.code)}catch(h){y(this,Vh).reject(h)}}else y(this,Vh).reject(new r_(a.message,a.code));return y(this,Vh).promise}),n.on("DataLoaded",a=>{var c;(c=r.onProgress)==null||c.call(r,{loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),n.on("StartRenderPage",a=>{if(this.destroyed)return;y(this,Gh).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),n.on("commonobj",([a,c,h])=>{var f;if(this.destroyed||this.commonObjs.has(a))return null;switch(c){case"Font":const{disableFontFace:m,fontExtraProperties:b,pdfBug:_}=this._params;if("error"in h){const G=h.error;yi(`Error during font loading: ${G}`),this.commonObjs.resolve(a,G);break}const E=_&&((f=globalThis.FontInspector)!=null&&f.enabled)?(G,q)=>globalThis.FontInspector.fontAdded(G,q):null,T=new rL(h,{disableFontFace:m,inspectFont:E});this.fontLoader.bind(T).catch(()=>n.sendWithPromise("FontFallback",{id:a})).finally(()=>{!b&&T.data&&(T.data=null),this.commonObjs.resolve(a,T)});break;case"CopyLocalImage":const{imageRef:k}=h;Aa(k,"The imageRef must be defined.");for(const G of y(this,Gh).values())for(const[,q]of G.objs)if((q==null?void 0:q.ref)===k)return q.dataLen?(this.commonObjs.resolve(a,structuredClone(q)),q.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,h);break;default:throw new Error(`Got unknown common object type ${c}`)}return null}),n.on("obj",([a,c,h,f])=>{var b;if(this.destroyed)return;const m=y(this,Gh).get(c);if(!m.objs.has(a)){if(m._intentStates.size===0){(b=f==null?void 0:f.bitmap)==null||b.close();return}switch(h){case"Image":m.objs.resolve(a,f),(f==null?void 0:f.dataLen)>R2&&(m._maybeCleanupAfterRender=!0);break;case"Pattern":m.objs.resolve(a,f);break;default:throw new Error(`Got unknown object type ${h}`)}}}),n.on("DocProgress",a=>{var c;this.destroyed||(c=r.onProgress)==null||c.call(r,{loaded:a.loaded,total:a.total})}),n.on("FetchBuiltInCMap",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(a)}),n.on("FetchStandardFontData",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(a)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var a;this.annotationStorage.size<=0&&yi("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:((a=this._fullReader)==null?void 0:a.filename)??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(n){if(!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=n-1,a=y(this,Tv).get(r);if(a)return a;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(h=>{if(this.destroyed)throw new Error("Transport destroyed");h.refStr&&y(this,Cv).set(h.refStr,n);const f=new rP(r,h,this,this._params.pdfBug);return y(this,Gh).set(r,f),f});return y(this,Tv).set(r,c),c}getPageIndex(n){return uM(n)?this.messageHandler.sendWithPromise("GetPageIndex",{num:n.num,gen:n.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(n,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:n,intent:r})}getFieldObjects(){return ce(this,Tm,h0).call(this,"GetFieldObjects")}hasJSActions(){return ce(this,Tm,h0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(n){return typeof n!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:n})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ce(this,Tm,h0).call(this,"GetDocJSActions")}getPageJSActions(n){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:n})}getStructTree(n){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:n})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(n){return ce(this,Tm,h0).call(this,"GetOptionalContentConfig").then(r=>new ML(r,n))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const n="GetMetadata",r=y(this,Cd).get(n);if(r)return r;const a=this.messageHandler.sendWithPromise(n,null).then(c=>{var h,f;return{info:c[0],metadata:c[1]?new SL(c[1]):null,contentDispositionFilename:((h=this._fullReader)==null?void 0:h.filename)??null,contentLength:((f=this._fullReader)==null?void 0:f.contentLength)??null}});return y(this,Cd).set(n,a),a}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(n=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of y(this,Gh).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),n||this.fontLoader.clear(),y(this,Cd).clear(),this.filterFactory.destroy(!0),I_.cleanup()}}cachedPageNumber(n){if(!uM(n))return null;const r=n.gen===0?`${n.num}R`:`${n.num}R${n.gen}`;return y(this,Cv).get(r)??null}}Cd=new WeakMap,Gh=new WeakMap,Tv=new WeakMap,Cv=new WeakMap,Vh=new WeakMap,Tm=new WeakSet,h0=function(n,r=null){const a=y(this,Cd).get(n);if(a)return a;const c=this.messageHandler.sendWithPromise(n,r);return y(this,Cd).set(n,c),c};const Ub=Symbol("INITIAL_DATA");var Zc,sx,z_;class EA{constructor(){fe(this,sx);fe(this,Zc,Object.create(null))}get(n,r=null){if(r){const c=ce(this,sx,z_).call(this,n);return c.promise.then(()=>r(c.data)),null}const a=y(this,Zc)[n];if(!a||a.data===Ub)throw new Error(`Requesting object that isn't resolved yet ${n}.`);return a.data}has(n){const r=y(this,Zc)[n];return!!r&&r.data!==Ub}resolve(n,r=null){const a=ce(this,sx,z_).call(this,n);a.data=r,a.resolve()}clear(){var n;for(const r in y(this,Zc)){const{data:a}=y(this,Zc)[r];(n=a==null?void 0:a.bitmap)==null||n.close()}se(this,Zc,Object.create(null))}*[Symbol.iterator](){for(const n in y(this,Zc)){const{data:r}=y(this,Zc)[n];r!==Ub&&(yield[n,r])}}}Zc=new WeakMap,sx=new WeakSet,z_=function(n){var r;return(r=y(this,Zc))[n]||(r[n]={...Promise.withResolvers(),data:Ub})};var Yf;class oP{constructor(n){fe(this,Yf,null);se(this,Yf,n),this.onContinue=null}get promise(){return y(this,Yf).capability.promise}cancel(n=0){y(this,Yf).cancel(null,n)}get separateAnnots(){const{separateAnnots:n}=y(this,Yf).operatorList;if(!n)return!1;const{annotationCanvasMap:r}=y(this,Yf);return n.form||n.canvas&&(r==null?void 0:r.size)>0}}Yf=new WeakMap;var Zf,Cm;const Qp=class Qp{constructor({callback:n,params:r,objs:a,commonObjs:c,annotationCanvasMap:h,operatorList:f,pageIndex:m,canvasFactory:b,filterFactory:_,useRequestAnimationFrame:E=!1,pdfBug:T=!1,pageColors:k=null}){fe(this,Zf,null);this.callback=n,this.params=r,this.objs=a,this.commonObjs=c,this.annotationCanvasMap=h,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=m,this.canvasFactory=b,this.filterFactory=_,this._pdfBug=T,this.pageColors=k,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=E===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new oP(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:n=!1,optionalContentConfig:r}){var m,b;if(this.cancelled)return;if(this._canvas){if(y(Qp,Cm).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");y(Qp,Cm).add(this._canvas)}this._pdfBug&&((m=globalThis.StepperManager)!=null&&m.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:c,transform:h,background:f}=this.params;this.gfx=new Jg(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:h,viewport:c,transparency:n,background:f}),this.operatorListIdx=0,this.graphicsReady=!0,(b=this.graphicsReadyCallback)==null||b.call(this)}cancel(n=null,r=0){var a;this.running=!1,this.cancelled=!0,(a=this.gfx)==null||a.endDrawing(),y(this,Zf)&&(window.cancelAnimationFrame(y(this,Zf)),se(this,Zf,null)),y(Qp,Cm).delete(this._canvas),this.callback(n||new ES(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){var n;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(n=this.stepper)==null||n.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?se(this,Zf,window.requestAnimationFrame(()=>{se(this,Zf,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),y(Qp,Cm).delete(this._canvas),this.callback())))}};Zf=new WeakMap,Cm=new WeakMap,fe(Qp,Cm,new WeakSet);let B_=Qp;const aP="4.8.69",lP="3634dab10";function cM(A){return Math.floor(Math.max(0,Math.min(1,A))*255).toString(16).padStart(2,"0")}function n0(A){return Math.max(0,Math.min(255,255*A))}class hM{static CMYK_G([n,r,a,c]){return["G",1-Math.min(1,.3*n+.59*a+.11*r+c)]}static G_CMYK([n]){return["CMYK",0,0,0,1-n]}static G_RGB([n]){return["RGB",n,n,n]}static G_rgb([n]){return n=n0(n),[n,n,n]}static G_HTML([n]){const r=cM(n);return`#${r}${r}${r}`}static RGB_G([n,r,a]){return["G",.3*n+.59*r+.11*a]}static RGB_rgb(n){return n.map(n0)}static RGB_HTML(n){return`#${n.map(cM).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([n,r,a,c]){return["RGB",1-Math.min(1,n+c),1-Math.min(1,a+c),1-Math.min(1,r+c)]}static CMYK_rgb([n,r,a,c]){return[n0(1-Math.min(1,n+c)),n0(1-Math.min(1,a+c)),n0(1-Math.min(1,r+c))]}static CMYK_HTML(n){const r=this.CMYK_RGB(n).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([n,r,a]){const c=1-n,h=1-r,f=1-a,m=Math.min(c,h,f);return["CMYK",c,h,f,m]}}class uP{create(n,r,a=!1){if(n<=0||r<=0)throw new Error("Invalid SVG dimensions");const c=this._createSVG("svg:svg");return c.setAttribute("version","1.1"),a||(c.setAttribute("width",`${n}px`),c.setAttribute("height",`${r}px`)),c.setAttribute("preserveAspectRatio","none"),c.setAttribute("viewBox",`0 0 ${n} ${r}`),c}createElement(n){if(typeof n!="string")throw new Error("Invalid SVG element type");return this._createSVG(n)}_createSVG(n){Zs("Abstract method `_createSVG` called.")}}class OS extends uP{_createSVG(n){return document.createElementNS(gd,n)}}class MA{static setupStorage(n,r,a,c,h){const f=c.getValue(r,{value:null});switch(a.name){case"textarea":if(f.value!==null&&(n.textContent=f.value),h==="print")break;n.addEventListener("input",m=>{c.setValue(r,{value:m.target.value})});break;case"input":if(a.attributes.type==="radio"||a.attributes.type==="checkbox"){if(f.value===a.attributes.xfaOn?n.setAttribute("checked",!0):f.value===a.attributes.xfaOff&&n.removeAttribute("checked"),h==="print")break;n.addEventListener("change",m=>{c.setValue(r,{value:m.target.checked?m.target.getAttribute("xfaOn"):m.target.getAttribute("xfaOff")})})}else{if(f.value!==null&&n.setAttribute("value",f.value),h==="print")break;n.addEventListener("input",m=>{c.setValue(r,{value:m.target.value})})}break;case"select":if(f.value!==null){n.setAttribute("value",f.value);for(const m of a.children)m.attributes.value===f.value?m.attributes.selected=!0:m.attributes.hasOwnProperty("selected")&&delete m.attributes.selected}n.addEventListener("input",m=>{const b=m.target.options,_=b.selectedIndex===-1?"":b[b.selectedIndex].value;c.setValue(r,{value:_})});break}}static setAttributes({html:n,element:r,storage:a=null,intent:c,linkService:h}){const{attributes:f}=r,m=n instanceof HTMLAnchorElement;f.type==="radio"&&(f.name=`${f.name}-${c}`);for(const[b,_]of Object.entries(f))if(_!=null)switch(b){case"class":_.length&&n.setAttribute(b,_.join(" "));break;case"dataId":break;case"id":n.setAttribute("data-element-id",_);break;case"style":Object.assign(n.style,_);break;case"textContent":n.textContent=_;break;default:(!m||b!=="href"&&b!=="newWindow")&&n.setAttribute(b,_)}m&&h.addLinkAttributes(n,f.href,f.newWindow),a&&f.dataId&&this.setupStorage(n,f.dataId,r,a)}static render(n){var T,k;const r=n.annotationStorage,a=n.linkService,c=n.xfaHtml,h=n.intent||"display",f=document.createElement(c.name);c.attributes&&this.setAttributes({html:f,element:c,intent:h,linkService:a});const m=h!=="richText",b=n.div;if(b.append(f),n.viewport){const G=`matrix(${n.viewport.transform.join(",")})`;b.style.transform=G}m&&b.setAttribute("class","xfaLayer xfaFont");const _=[];if(c.children.length===0){if(c.value){const G=document.createTextNode(c.value);f.append(G),m&&_0.shouldBuildText(c.name)&&_.push(G)}return{textDivs:_}}const E=[[c,-1,f]];for(;E.length>0;){const[G,q,X]=E.at(-1);if(q+1===G.children.length){E.pop();continue}const Y=G.children[++E.at(-1)[1]];if(Y===null)continue;const{name:W}=Y;if(W==="#text"){const oe=document.createTextNode(Y.value);_.push(oe),X.append(oe);continue}const ne=(T=Y==null?void 0:Y.attributes)!=null&&T.xmlns?document.createElementNS(Y.attributes.xmlns,W):document.createElement(W);if(X.append(ne),Y.attributes&&this.setAttributes({html:ne,element:Y,storage:r,intent:h,linkService:a}),((k=Y.children)==null?void 0:k.length)>0)E.push([Y,-1,ne]);else if(Y.value){const oe=document.createTextNode(Y.value);m&&_0.shouldBuildText(W)&&_.push(oe),ne.append(oe)}}for(const G of b.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))G.setAttribute("readOnly",!0);return{textDivs:_}}static update(n){const r=`matrix(${n.viewport.transform.join(",")})`;n.div.style.transform=r,n.div.hidden=!1}}const Hx=1e3,cP=9,Jm=new WeakSet;function Vd(A){return{width:A[2]-A[0],height:A[3]-A[1]}}class hP{static create(n){switch(n.data.annotationType){case _a.LINK:return new AA(n);case _a.TEXT:return new dP(n);case _a.WIDGET:switch(n.data.fieldType){case"Tx":return new fP(n);case"Btn":return n.data.radioButton?new LA(n):n.data.checkBox?new mP(n):new gP(n);case"Ch":return new vP(n);case"Sig":return new pP(n)}return new ig(n);case _a.POPUP:return new j_(n);case _a.FREETEXT:return new IA(n);case _a.LINE:return new xP(n);case _a.SQUARE:return new bP(n);case _a.CIRCLE:return new wP(n);case _a.POLYLINE:return new DA(n);case _a.CARET:return new SP(n);case _a.INK:return new IS(n);case _a.POLYGON:return new _P(n);case _a.HIGHLIGHT:return new NA(n);case _a.UNDERLINE:return new EP(n);case _a.SQUIGGLY:return new MP(n);case _a.STRIKEOUT:return new AP(n);case _a.STAMP:return new FA(n);case _a.FILEATTACHMENT:return new TP(n);default:return new Xo(n)}}}var Lm,Lv,Pv,ox,H_;const zS=class zS{constructor(n,{isRenderable:r=!1,ignoreBorder:a=!1,createQuadrilaterals:c=!1}={}){fe(this,ox);fe(this,Lm,null);fe(this,Lv,!1);fe(this,Pv,null);this.isRenderable=r,this.data=n.data,this.layer=n.layer,this.linkService=n.linkService,this.downloadManager=n.downloadManager,this.imageResourcesPath=n.imageResourcesPath,this.renderForms=n.renderForms,this.svgFactory=n.svgFactory,this.annotationStorage=n.annotationStorage,this.enableScripting=n.enableScripting,this.hasJSActions=n.hasJSActions,this._fieldObjects=n.fieldObjects,this.parent=n.parent,r&&(this.container=this._createContainer(a)),c&&this._createQuadrilaterals()}static _hasPopupData({titleObj:n,contentsObj:r,richText:a}){return!!(n!=null&&n.str||r!=null&&r.str||a!=null&&a.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return zS._hasPopupData(this.data)}updateEdited(n){var a;if(!this.container)return;y(this,Lm)||se(this,Lm,{rect:this.data.rect.slice(0)});const{rect:r}=n;r&&ce(this,ox,H_).call(this,r),(a=y(this,Pv))==null||a.popup.updateEdited(n)}resetEdited(){var n;y(this,Lm)&&(ce(this,ox,H_).call(this,y(this,Lm).rect),(n=y(this,Pv))==null||n.popup.resetEdited(),se(this,Lm,null))}_createContainer(n){const{data:r,parent:{page:a,viewport:c}}=this,h=document.createElement("section");h.setAttribute("data-annotation-id",r.id),this instanceof ig||(h.tabIndex=Hx);const{style:f}=h;if(f.zIndex=this.parent.zIndex++,r.alternativeText&&(h.title=r.alternativeText),r.noRotate&&h.classList.add("norotate"),!r.rect||this instanceof j_){const{rotation:X}=r;return!r.hasOwnCanvas&&X!==0&&this.setRotation(X,h),h}const{width:m,height:b}=Vd(r.rect);if(!n&&r.borderStyle.width>0){f.borderWidth=`${r.borderStyle.width}px`;const X=r.borderStyle.horizontalCornerRadius,Y=r.borderStyle.verticalCornerRadius;if(X>0||Y>0){const ne=`calc(${X}px * var(--scale-factor)) / calc(${Y}px * var(--scale-factor))`;f.borderRadius=ne}else if(this instanceof LA){const ne=`calc(${m}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;f.borderRadius=ne}switch(r.borderStyle.style){case e0.SOLID:f.borderStyle="solid";break;case e0.DASHED:f.borderStyle="dashed";break;case e0.BEVELED:yi("Unimplemented border style: beveled");break;case e0.INSET:yi("Unimplemented border style: inset");break;case e0.UNDERLINE:f.borderBottomStyle="solid";break}const W=r.borderColor||null;W?(se(this,Lv,!0),f.borderColor=xr.makeHexColor(W[0]|0,W[1]|0,W[2]|0)):f.borderWidth=0}const _=xr.normalizeRect([r.rect[0],a.view[3]-r.rect[1]+a.view[1],r.rect[2],a.view[3]-r.rect[3]+a.view[1]]),{pageWidth:E,pageHeight:T,pageX:k,pageY:G}=c.rawDims;f.left=`${100*(_[0]-k)/E}%`,f.top=`${100*(_[1]-G)/T}%`;const{rotation:q}=r;return r.hasOwnCanvas||q===0?(f.width=`${100*m/E}%`,f.height=`${100*b/T}%`):this.setRotation(q,h),h}setRotation(n,r=this.container){if(!this.data.rect)return;const{pageWidth:a,pageHeight:c}=this.parent.viewport.rawDims,{width:h,height:f}=Vd(this.data.rect);let m,b;n%180===0?(m=100*h/a,b=100*f/c):(m=100*f/a,b=100*h/c),r.style.width=`${m}%`,r.style.height=`${b}%`,r.setAttribute("data-main-rotation",(360-n)%360)}get _commonActions(){const n=(r,a,c)=>{const h=c.detail[r],f=h[0],m=h.slice(1);c.target.style[a]=hM[`${f}_HTML`](m),this.annotationStorage.setValue(this.data.id,{[a]:hM[`${f}_rgb`](m)})};return Ni(this,"_commonActions",{display:r=>{const{display:a}=r.detail,c=a%2===1;this.container.style.visibility=c?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:c,noPrint:a===1||a===2})},print:r=>{this.annotationStorage.setValue(this.data.id,{noPrint:!r.detail.print})},hidden:r=>{const{hidden:a}=r.detail;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:a,noView:a})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.target.disabled=r.detail.readonly},required:r=>{this._setRequired(r.target,r.detail.required)},bgColor:r=>{n("bgColor","backgroundColor",r)},fillColor:r=>{n("fillColor","backgroundColor",r)},fgColor:r=>{n("fgColor","color",r)},textColor:r=>{n("textColor","color",r)},borderColor:r=>{n("borderColor","borderColor",r)},strokeColor:r=>{n("strokeColor","borderColor",r)},rotation:r=>{const a=r.detail.rotation;this.setRotation(a),this.annotationStorage.setValue(this.data.id,{rotation:a})}})}_dispatchEventFromSandbox(n,r){const a=this._commonActions;for(const c of Object.keys(r.detail)){const h=n[c]||a[c];h==null||h(r)}}_setDefaultPropertiesFromJS(n){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const a=this._commonActions;for(const[c,h]of Object.entries(r)){const f=a[c];if(f){const m={detail:{[c]:h},target:n};f(m),delete r[c]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:n}=this.data;if(!n)return;const[r,a,c,h]=this.data.rect.map(X=>Math.fround(X));if(n.length===8){const[X,Y,W,ne]=n.subarray(2,6);if(c===X&&h===Y&&r===W&&a===ne)return}const{style:f}=this.container;let m;if(y(this,Lv)){const{borderColor:X,borderWidth:Y}=f;f.borderWidth=0,m=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${X}" stroke-width="${Y}">`],this.container.classList.add("hasBorder")}const b=c-r,_=h-a,{svgFactory:E}=this,T=E.createElement("svg");T.classList.add("quadrilateralsContainer"),T.setAttribute("width",0),T.setAttribute("height",0);const k=E.createElement("defs");T.append(k);const G=E.createElement("clipPath"),q=`clippath_${this.data.id}`;G.setAttribute("id",q),G.setAttribute("clipPathUnits","objectBoundingBox"),k.append(G);for(let X=2,Y=n.length;X<Y;X+=8){const W=n[X],ne=n[X+1],oe=n[X+2],le=n[X+3],Se=E.createElement("rect"),be=(oe-r)/b,Pe=(h-ne)/_,P=(W-oe)/b,We=(ne-le)/_;Se.setAttribute("x",be),Se.setAttribute("y",Pe),Se.setAttribute("width",P),Se.setAttribute("height",We),G.append(Se),m==null||m.push(`<rect vector-effect="non-scaling-stroke" x="${be}" y="${Pe}" width="${P}" height="${We}"/>`)}y(this,Lv)&&(m.push("</g></svg>')"),f.backgroundImage=m.join("")),this.container.append(T),this.container.style.clipPath=`url(#${q})`}_createPopup(){const{data:n}=this,r=se(this,Pv,new j_({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Zs("Abstract method `AnnotationElement.render` called")}_getElementsByName(n,r=null){const a=[];if(this._fieldObjects){const c=this._fieldObjects[n];if(c)for(const{page:h,id:f,exportValues:m}of c){if(h===-1||f===r)continue;const b=typeof m=="string"?m:null,_=document.querySelector(`[data-element-id="${f}"]`);if(_&&!Jm.has(_)){yi(`_getElementsByName - element not allowed: ${f}`);continue}a.push({id:f,exportValue:b,domElement:_})}return a}for(const c of document.getElementsByName(n)){const{exportValue:h}=c,f=c.getAttribute("data-element-id");f!==r&&Jm.has(c)&&a.push({id:f,exportValue:h,domElement:c})}return a}show(){var n;this.container&&(this.container.hidden=!1),(n=this.popup)==null||n.maybeShow()}hide(){var n;this.container&&(this.container.hidden=!0),(n=this.popup)==null||n.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const n=this.getElementsToTriggerPopup();if(Array.isArray(n))for(const r of n)r.classList.add("highlightArea");else n.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:n,data:{id:r}}=this;this.container.addEventListener("dblclick",()=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("switchannotationeditormode",{source:this,mode:n,editId:r})})}};Lm=new WeakMap,Lv=new WeakMap,Pv=new WeakMap,ox=new WeakSet,H_=function(n){const{container:{style:r},data:{rect:a,rotation:c},parent:{viewport:{rawDims:{pageWidth:h,pageHeight:f,pageX:m,pageY:b}}}}=this;a==null||a.splice(0,4,...n);const{width:_,height:E}=Vd(n);r.left=`${100*(n[0]-m)/h}%`,r.top=`${100*(f-n[3]+b)/f}%`,c===0?(r.width=`${100*_/h}%`,r.height=`${100*E/f}%`):this.setRotation(c)};let Xo=zS;var Fu,$p,TA,CA;class AA extends Xo{constructor(r,a=null){super(r,{isRenderable:!0,ignoreBorder:!!(a!=null&&a.ignoreBorder),createQuadrilaterals:!0});fe(this,Fu);this.isTooltipOnly=r.data.isTooltipOnly}render(){const{data:r,linkService:a}=this,c=document.createElement("a");c.setAttribute("data-element-id",r.id);let h=!1;return r.url?(a.addLinkAttributes(c,r.url,r.newWindow),h=!0):r.action?(this._bindNamedAction(c,r.action),h=!0):r.attachment?(ce(this,Fu,TA).call(this,c,r.attachment,r.attachmentDest),h=!0):r.setOCGState?(ce(this,Fu,CA).call(this,c,r.setOCGState),h=!0):r.dest?(this._bindLink(c,r.dest),h=!0):(r.actions&&(r.actions.Action||r.actions["Mouse Up"]||r.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(c,r),h=!0),r.resetForm?(this._bindResetFormAction(c,r.resetForm),h=!0):this.isTooltipOnly&&!h&&(this._bindLink(c,""),h=!0)),this.container.classList.add("linkAnnotation"),h&&this.container.append(c),this.container}_bindLink(r,a){r.href=this.linkService.getDestinationHash(a),r.onclick=()=>(a&&this.linkService.goToDestination(a),!1),(a||a==="")&&ce(this,Fu,$p).call(this)}_bindNamedAction(r,a){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeNamedAction(a),!1),ce(this,Fu,$p).call(this)}_bindJSAction(r,a){r.href=this.linkService.getAnchorUrl("");const c=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const h of Object.keys(a.actions)){const f=c.get(h);f&&(r[f]=()=>{var m;return(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a.id,name:h}}),!1})}r.onclick||(r.onclick=()=>!1),ce(this,Fu,$p).call(this)}_bindResetFormAction(r,a){const c=r.onclick;if(c||(r.href=this.linkService.getAnchorUrl("")),ce(this,Fu,$p).call(this),!this._fieldObjects){yi('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),c||(r.onclick=()=>!1);return}r.onclick=()=>{var T;c==null||c();const{fields:h,refs:f,include:m}=a,b=[];if(h.length!==0||f.length!==0){const k=new Set(f);for(const G of h){const q=this._fieldObjects[G]||[];for(const{id:X}of q)k.add(X)}for(const G of Object.values(this._fieldObjects))for(const q of G)k.has(q.id)===m&&b.push(q)}else for(const k of Object.values(this._fieldObjects))b.push(...k);const _=this.annotationStorage,E=[];for(const k of b){const{id:G}=k;switch(E.push(G),k.type){case"text":{const X=k.defaultValue||"";_.setValue(G,{value:X});break}case"checkbox":case"radiobutton":{const X=k.defaultValue===k.exportValues;_.setValue(G,{value:X});break}case"combobox":case"listbox":{const X=k.defaultValue||"";_.setValue(G,{value:X});break}default:continue}const q=document.querySelector(`[data-element-id="${G}"]`);if(q){if(!Jm.has(q)){yi(`_bindResetFormAction - element not allowed: ${G}`);continue}}else continue;q.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:E,name:"ResetForm"}})),!1}}}Fu=new WeakSet,$p=function(){this.container.setAttribute("data-internal-link","")},TA=function(r,a,c=null){r.href=this.linkService.getAnchorUrl(""),a.description&&(r.title=a.description),r.onclick=()=>{var h;return(h=this.downloadManager)==null||h.openOrDownloadData(a.content,a.filename,c),!1},ce(this,Fu,$p).call(this)},CA=function(r,a){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeSetOCGState(a),!1),ce(this,Fu,$p).call(this)};class dP extends Xo{constructor(n){super(n,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const n=document.createElement("img");return n.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",n.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),n.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(n),this.container}}class ig extends Xo{render(){return this.container}showElementAndHideCanvas(n){var r;this.data.hasOwnCanvas&&(((r=n.previousSibling)==null?void 0:r.nodeName)==="CANVAS"&&(n.previousSibling.hidden=!0),n.hidden=!1)}_getKeyModifier(n){return zl.platform.isMac?n.metaKey:n.ctrlKey}_setEventListener(n,r,a,c,h){a.includes("mouse")?n.addEventListener(a,f=>{var m;(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:c,value:h(f),shift:f.shiftKey,modifier:this._getKeyModifier(f)}})}):n.addEventListener(a,f=>{var m;if(a==="blur"){if(!r.focused||!f.relatedTarget)return;r.focused=!1}else if(a==="focus"){if(r.focused)return;r.focused=!0}h&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:c,value:h(f)}}))})}_setEventListeners(n,r,a,c){var h,f,m;for(const[b,_]of a)(_==="Action"||(h=this.data.actions)!=null&&h[_])&&((_==="Focus"||_==="Blur")&&(r||(r={focused:!1})),this._setEventListener(n,r,b,_,c),_==="Focus"&&!((f=this.data.actions)!=null&&f.Blur)?this._setEventListener(n,r,"blur","Blur",null):_==="Blur"&&!((m=this.data.actions)!=null&&m.Focus)&&this._setEventListener(n,r,"focus","Focus",null))}_setBackgroundColor(n){const r=this.data.backgroundColor||null;n.style.backgroundColor=r===null?"transparent":xr.makeHexColor(r[0],r[1],r[2])}_setTextStyle(n){const r=["left","center","right"],{fontColor:a}=this.data.defaultAppearanceData,c=this.data.defaultAppearanceData.fontSize||cP,h=n.style;let f;const m=2,b=_=>Math.round(10*_)/10;if(this.data.multiLine){const _=Math.abs(this.data.rect[3]-this.data.rect[1]-m),E=Math.round(_/($1*c))||1,T=_/E;f=Math.min(c,b(T/$1))}else{const _=Math.abs(this.data.rect[3]-this.data.rect[1]-m);f=Math.min(c,b(_/$1))}h.fontSize=`calc(${f}px * var(--scale-factor))`,h.color=xr.makeHexColor(a[0],a[1],a[2]),this.data.textAlignment!==null&&(h.textAlign=r[this.data.textAlignment])}_setRequired(n,r){r?n.setAttribute("required",!0):n.removeAttribute("required"),n.setAttribute("aria-required",r)}}class fP extends ig{constructor(n){const r=n.renderForms||n.data.hasOwnCanvas||!n.data.hasAppearance&&!!n.data.fieldValue;super(n,{isRenderable:r})}setPropertyOnSiblings(n,r,a,c){const h=this.annotationStorage;for(const f of this._getElementsByName(n.name,n.id))f.domElement&&(f.domElement[r]=a),h.setValue(f.id,{[c]:a})}render(){var c,h;const n=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let a=null;if(this.renderForms){const f=n.getValue(r,{value:this.data.fieldValue});let m=f.value||"";const b=n.getValue(r,{charLimit:this.data.maxLen}).charLimit;b&&m.length>b&&(m=m.slice(0,b));let _=f.formattedValue||((c=this.data.textContent)==null?void 0:c.join(`
`))||null;_&&this.data.comb&&(_=_.replaceAll(/\s+/g,""));const E={userValue:m,formattedValue:_,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(a=document.createElement("textarea"),a.textContent=_??m,this.data.doNotScroll&&(a.style.overflowY="hidden")):(a=document.createElement("input"),a.type="text",a.setAttribute("value",_??m),this.data.doNotScroll&&(a.style.overflowX="hidden")),this.data.hasOwnCanvas&&(a.hidden=!0),Jm.add(a),a.setAttribute("data-element-id",r),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=Hx,this._setRequired(a,this.data.required),b&&(a.maxLength=b),a.addEventListener("input",k=>{n.setValue(r,{value:k.target.value}),this.setPropertyOnSiblings(a,"value",k.target.value,"value"),E.formattedValue=null}),a.addEventListener("resetform",k=>{const G=this.data.defaultFieldValue??"";a.value=E.userValue=G,E.formattedValue=null});let T=k=>{const{formattedValue:G}=E;G!=null&&(k.target.value=G),k.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){a.addEventListener("focus",G=>{var X;if(E.focused)return;const{target:q}=G;E.userValue&&(q.value=E.userValue),E.lastCommittedValue=q.value,E.commitKey=1,(X=this.data.actions)!=null&&X.Focus||(E.focused=!0)}),a.addEventListener("updatefromsandbox",G=>{this.showElementAndHideCanvas(G.target);const q={value(X){E.userValue=X.detail.value??"",n.setValue(r,{value:E.userValue.toString()}),X.target.value=E.userValue},formattedValue(X){const{formattedValue:Y}=X.detail;E.formattedValue=Y,Y!=null&&X.target!==document.activeElement&&(X.target.value=Y),n.setValue(r,{formattedValue:Y})},selRange(X){X.target.setSelectionRange(...X.detail.selRange)},charLimit:X=>{var oe;const{charLimit:Y}=X.detail,{target:W}=X;if(Y===0){W.removeAttribute("maxLength");return}W.setAttribute("maxLength",Y);let ne=E.userValue;!ne||ne.length<=Y||(ne=ne.slice(0,Y),W.value=E.userValue=ne,n.setValue(r,{value:ne}),(oe=this.linkService.eventBus)==null||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:ne,willCommit:!0,commitKey:1,selStart:W.selectionStart,selEnd:W.selectionEnd}}))}};this._dispatchEventFromSandbox(q,G)}),a.addEventListener("keydown",G=>{var Y;E.commitKey=1;let q=-1;if(G.key==="Escape"?q=0:G.key==="Enter"&&!this.data.multiLine?q=2:G.key==="Tab"&&(E.commitKey=3),q===-1)return;const{value:X}=G.target;E.lastCommittedValue!==X&&(E.lastCommittedValue=X,E.userValue=X,(Y=this.linkService.eventBus)==null||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:X,willCommit:!0,commitKey:q,selStart:G.target.selectionStart,selEnd:G.target.selectionEnd}}))});const k=T;T=null,a.addEventListener("blur",G=>{var X,Y;if(!E.focused||!G.relatedTarget)return;(X=this.data.actions)!=null&&X.Blur||(E.focused=!1);const{value:q}=G.target;E.userValue=q,E.lastCommittedValue!==q&&((Y=this.linkService.eventBus)==null||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:q,willCommit:!0,commitKey:E.commitKey,selStart:G.target.selectionStart,selEnd:G.target.selectionEnd}})),k(G)}),(h=this.data.actions)!=null&&h.Keystroke&&a.addEventListener("beforeinput",G=>{var Se;E.lastCommittedValue=null;const{data:q,target:X}=G,{value:Y,selectionStart:W,selectionEnd:ne}=X;let oe=W,le=ne;switch(G.inputType){case"deleteWordBackward":{const be=Y.substring(0,W).match(/\w*[^\w]*$/);be&&(oe-=be[0].length);break}case"deleteWordForward":{const be=Y.substring(W).match(/^[^\w]*\w*/);be&&(le+=be[0].length);break}case"deleteContentBackward":W===ne&&(oe-=1);break;case"deleteContentForward":W===ne&&(le+=1);break}G.preventDefault(),(Se=this.linkService.eventBus)==null||Se.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:Y,change:q||"",willCommit:!1,selStart:oe,selEnd:le}})}),this._setEventListeners(a,E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],G=>G.target.value)}if(T&&a.addEventListener("blur",T),this.data.comb){const G=(this.data.rect[2]-this.data.rect[0])/b;a.classList.add("comb"),a.style.letterSpacing=`calc(${G}px * var(--scale-factor) - 1ch)`}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell",this.data.hasOwnCanvas&&(a.hidden=!0);return this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class pP extends ig{constructor(n){super(n,{isRenderable:!!n.data.hasOwnCanvas})}}class mP extends ig{constructor(n){super(n,{isRenderable:n.renderForms})}render(){const n=this.annotationStorage,r=this.data,a=r.id;let c=n.getValue(a,{value:r.exportValue===r.fieldValue}).value;typeof c=="string"&&(c=c!=="Off",n.setValue(a,{value:c})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const h=document.createElement("input");return Jm.add(h),h.setAttribute("data-element-id",a),h.disabled=r.readOnly,this._setRequired(h,this.data.required),h.type="checkbox",h.name=r.fieldName,c&&h.setAttribute("checked",!0),h.setAttribute("exportValue",r.exportValue),h.tabIndex=Hx,h.addEventListener("change",f=>{const{name:m,checked:b}=f.target;for(const _ of this._getElementsByName(m,a)){const E=b&&_.exportValue===r.exportValue;_.domElement&&(_.domElement.checked=E),n.setValue(_.id,{value:E})}n.setValue(a,{value:b})}),h.addEventListener("resetform",f=>{const m=r.defaultFieldValue||"Off";f.target.checked=m===r.exportValue}),this.enableScripting&&this.hasJSActions&&(h.addEventListener("updatefromsandbox",f=>{const m={value(b){b.target.checked=b.detail.value!=="Off",n.setValue(a,{value:b.target.checked})}};this._dispatchEventFromSandbox(m,f)}),this._setEventListeners(h,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.checked)),this._setBackgroundColor(h),this._setDefaultPropertiesFromJS(h),this.container.append(h),this.container}}class LA extends ig{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const n=this.annotationStorage,r=this.data,a=r.id;let c=n.getValue(a,{value:r.fieldValue===r.buttonValue}).value;if(typeof c=="string"&&(c=c!==r.buttonValue,n.setValue(a,{value:c})),c)for(const f of this._getElementsByName(r.fieldName,a))n.setValue(f.id,{value:!1});const h=document.createElement("input");if(Jm.add(h),h.setAttribute("data-element-id",a),h.disabled=r.readOnly,this._setRequired(h,this.data.required),h.type="radio",h.name=r.fieldName,c&&h.setAttribute("checked",!0),h.tabIndex=Hx,h.addEventListener("change",f=>{const{name:m,checked:b}=f.target;for(const _ of this._getElementsByName(m,a))n.setValue(_.id,{value:!1});n.setValue(a,{value:b})}),h.addEventListener("resetform",f=>{const m=r.defaultFieldValue;f.target.checked=m!=null&&m===r.buttonValue}),this.enableScripting&&this.hasJSActions){const f=r.buttonValue;h.addEventListener("updatefromsandbox",m=>{const b={value:_=>{const E=f===_.detail.value;for(const T of this._getElementsByName(_.target.name)){const k=E&&T.id===a;T.domElement&&(T.domElement.checked=k),n.setValue(T.id,{value:k})}}};this._dispatchEventFromSandbox(b,m)}),this._setEventListeners(h,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.checked)}return this._setBackgroundColor(h),this._setDefaultPropertiesFromJS(h),this.container.append(h),this.container}}class gP extends AA{constructor(n){super(n,{ignoreBorder:n.data.hasAppearance})}render(){const n=super.render();n.classList.add("buttonWidgetAnnotation","pushButton");const r=n.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({},a)})),n}}class vP extends ig{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const n=this.annotationStorage,r=this.data.id,a=n.getValue(r,{value:this.data.fieldValue}),c=document.createElement("select");Jm.add(c),c.setAttribute("data-element-id",r),c.disabled=this.data.readOnly,this._setRequired(c,this.data.required),c.name=this.data.fieldName,c.tabIndex=Hx;let h=this.data.combo&&this.data.options.length>0;this.data.combo||(c.size=this.data.options.length,this.data.multiSelect&&(c.multiple=!0)),c.addEventListener("resetform",E=>{const T=this.data.defaultFieldValue;for(const k of c.options)k.selected=k.value===T});for(const E of this.data.options){const T=document.createElement("option");T.textContent=E.displayValue,T.value=E.exportValue,a.value.includes(E.exportValue)&&(T.setAttribute("selected",!0),h=!1),c.append(T)}let f=null;if(h){const E=document.createElement("option");E.value=" ",E.setAttribute("hidden",!0),E.setAttribute("selected",!0),c.prepend(E),f=()=>{E.remove(),c.removeEventListener("input",f),f=null},c.addEventListener("input",f)}const m=E=>{const T=E?"value":"textContent",{options:k,multiple:G}=c;return G?Array.prototype.filter.call(k,q=>q.selected).map(q=>q[T]):k.selectedIndex===-1?null:k[k.selectedIndex][T]};let b=m(!1);const _=E=>{const T=E.target.options;return Array.prototype.map.call(T,k=>({displayValue:k.textContent,exportValue:k.value}))};return this.enableScripting&&this.hasJSActions?(c.addEventListener("updatefromsandbox",E=>{const T={value(k){f==null||f();const G=k.detail.value,q=new Set(Array.isArray(G)?G:[G]);for(const X of c.options)X.selected=q.has(X.value);n.setValue(r,{value:m(!0)}),b=m(!1)},multipleSelection(k){c.multiple=!0},remove(k){const G=c.options,q=k.detail.remove;G[q].selected=!1,c.remove(q),G.length>0&&Array.prototype.findIndex.call(G,Y=>Y.selected)===-1&&(G[0].selected=!0),n.setValue(r,{value:m(!0),items:_(k)}),b=m(!1)},clear(k){for(;c.length!==0;)c.remove(0);n.setValue(r,{value:null,items:[]}),b=m(!1)},insert(k){const{index:G,displayValue:q,exportValue:X}=k.detail.insert,Y=c.children[G],W=document.createElement("option");W.textContent=q,W.value=X,Y?Y.before(W):c.append(W),n.setValue(r,{value:m(!0),items:_(k)}),b=m(!1)},items(k){const{items:G}=k.detail;for(;c.length!==0;)c.remove(0);for(const q of G){const{displayValue:X,exportValue:Y}=q,W=document.createElement("option");W.textContent=X,W.value=Y,c.append(W)}c.options.length>0&&(c.options[0].selected=!0),n.setValue(r,{value:m(!0),items:_(k)}),b=m(!1)},indices(k){const G=new Set(k.detail.indices);for(const q of k.target.options)q.selected=G.has(q.index);n.setValue(r,{value:m(!0)}),b=m(!1)},editable(k){k.target.disabled=!k.detail.editable}};this._dispatchEventFromSandbox(T,E)}),c.addEventListener("input",E=>{var G;const T=m(!0),k=m(!1);n.setValue(r,{value:T}),E.preventDefault(),(G=this.linkService.eventBus)==null||G.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:b,change:k,changeEx:T,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(c,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],E=>E.target.value)):c.addEventListener("input",function(E){n.setValue(r,{value:m(!0)})}),this.data.combo&&this._setTextStyle(c),this._setBackgroundColor(c),this._setDefaultPropertiesFromJS(c),this.container.append(c),this.container}}class j_ extends Xo{constructor(n){const{data:r,elements:a}=n;super(n,{isRenderable:Xo._hasPopupData(r)}),this.elements=a,this.popup=null}render(){this.container.classList.add("popupAnnotation");const n=this.popup=new yP({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const a of this.elements)a.popup=n,a.container.ariaHasPopup="dialog",r.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(a=>`${SS}${a}`).join(",")),this.container}}var Rv,zw,Bw,kv,Pm,ko,Ld,Ov,ax,lx,Iv,Pd,Kc,Rd,ux,kd,cx,Rm,km,Cs,rw,U_,PA,RA,kA,OA,iw,sw,G_;class yP{constructor({container:n,color:r,elements:a,titleObj:c,modificationDate:h,contentsObj:f,richText:m,parent:b,rect:_,parentRect:E,open:T}){fe(this,Cs);fe(this,Rv,ce(this,Cs,kA).bind(this));fe(this,zw,ce(this,Cs,G_).bind(this));fe(this,Bw,ce(this,Cs,sw).bind(this));fe(this,kv,ce(this,Cs,iw).bind(this));fe(this,Pm,null);fe(this,ko,null);fe(this,Ld,null);fe(this,Ov,null);fe(this,ax,null);fe(this,lx,null);fe(this,Iv,null);fe(this,Pd,!1);fe(this,Kc,null);fe(this,Rd,null);fe(this,ux,null);fe(this,kd,null);fe(this,cx,null);fe(this,Rm,null);fe(this,km,!1);var k;se(this,ko,n),se(this,cx,c),se(this,Ld,f),se(this,kd,m),se(this,lx,b),se(this,Pm,r),se(this,ux,_),se(this,Iv,E),se(this,ax,a),se(this,Ov,AS.toDateObject(h)),this.trigger=a.flatMap(G=>G.getElementsToTriggerPopup());for(const G of this.trigger)G.addEventListener("click",y(this,kv)),G.addEventListener("mouseenter",y(this,Bw)),G.addEventListener("mouseleave",y(this,zw)),G.classList.add("popupTriggerArea");for(const G of a)(k=G.container)==null||k.addEventListener("keydown",y(this,Rv));y(this,ko).hidden=!0,T&&ce(this,Cs,iw).call(this)}render(){if(y(this,Kc))return;const n=se(this,Kc,document.createElement("div"));if(n.className="popup",y(this,Pm)){const h=n.style.outlineColor=xr.makeHexColor(...y(this,Pm));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?n.style.backgroundColor=`color-mix(in srgb, ${h} 30%, white)`:n.style.backgroundColor=xr.makeHexColor(...y(this,Pm).map(m=>Math.floor(.7*(255-m)+m)))}const r=document.createElement("span");r.className="header";const a=document.createElement("h1");if(r.append(a),{dir:a.dir,str:a.textContent}=y(this,cx),n.append(r),y(this,Ov)){const h=document.createElement("span");h.classList.add("popupDate"),h.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),h.setAttribute("data-l10n-args",JSON.stringify({dateObj:y(this,Ov).valueOf()})),r.append(h)}const c=y(this,Cs,rw);if(c)MA.render({xfaHtml:c,intent:"richText",div:n}),n.lastChild.classList.add("richText","popupContent");else{const h=this._formatContents(y(this,Ld));n.append(h)}y(this,ko).append(n)}_formatContents({str:n,dir:r}){const a=document.createElement("p");a.classList.add("popupContent"),a.dir=r;const c=n.split(/(?:\r\n?|\n)/);for(let h=0,f=c.length;h<f;++h){const m=c[h];a.append(document.createTextNode(m)),h<f-1&&a.append(document.createElement("br"))}return a}updateEdited({rect:n,popupContent:r}){var a;y(this,Rm)||se(this,Rm,{contentsObj:y(this,Ld),richText:y(this,kd)}),n&&se(this,Rd,null),r&&(se(this,kd,ce(this,Cs,RA).call(this,r)),se(this,Ld,null)),(a=y(this,Kc))==null||a.remove(),se(this,Kc,null)}resetEdited(){var n;y(this,Rm)&&({contentsObj:Il(this,Ld)._,richText:Il(this,kd)._}=y(this,Rm),se(this,Rm,null),(n=y(this,Kc))==null||n.remove(),se(this,Kc,null),se(this,Rd,null))}forceHide(){se(this,km,this.isVisible),y(this,km)&&(y(this,ko).hidden=!0)}maybeShow(){y(this,km)&&(y(this,Kc)||ce(this,Cs,sw).call(this),se(this,km,!1),y(this,ko).hidden=!1)}get isVisible(){return y(this,ko).hidden===!1}}Rv=new WeakMap,zw=new WeakMap,Bw=new WeakMap,kv=new WeakMap,Pm=new WeakMap,ko=new WeakMap,Ld=new WeakMap,Ov=new WeakMap,ax=new WeakMap,lx=new WeakMap,Iv=new WeakMap,Pd=new WeakMap,Kc=new WeakMap,Rd=new WeakMap,ux=new WeakMap,kd=new WeakMap,cx=new WeakMap,Rm=new WeakMap,km=new WeakMap,Cs=new WeakSet,rw=function(){const n=y(this,kd),r=y(this,Ld);return n!=null&&n.str&&(!(r!=null&&r.str)||r.str===n.str)&&y(this,kd).html||null},U_=function(){var n,r,a;return((a=(r=(n=y(this,Cs,rw))==null?void 0:n.attributes)==null?void 0:r.style)==null?void 0:a.fontSize)||0},PA=function(){var n,r,a;return((a=(r=(n=y(this,Cs,rw))==null?void 0:n.attributes)==null?void 0:r.style)==null?void 0:a.color)||null},RA=function(n){const r=[],a={str:n,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},c={style:{color:y(this,Cs,PA),fontSize:y(this,Cs,U_)?`calc(${y(this,Cs,U_)}px * var(--scale-factor))`:""}};for(const h of n.split(`
`))r.push({name:"span",value:h,attributes:c});return a},kA=function(n){n.altKey||n.shiftKey||n.ctrlKey||n.metaKey||(n.key==="Enter"||n.key==="Escape"&&y(this,Pd))&&ce(this,Cs,iw).call(this)},OA=function(){if(y(this,Rd)!==null)return;const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:c,pageY:h}}}=y(this,lx);let f=!!y(this,Iv),m=f?y(this,Iv):y(this,ux);for(const q of y(this,ax))if(!m||xr.intersect(q.data.rect,m)!==null){m=q.data.rect,f=!0;break}const b=xr.normalizeRect([m[0],n[3]-m[1]+n[1],m[2],n[3]-m[3]+n[1]]),E=f?m[2]-m[0]+5:0,T=b[0]+E,k=b[1];se(this,Rd,[100*(T-c)/r,100*(k-h)/a]);const{style:G}=y(this,ko);G.left=`${y(this,Rd)[0]}%`,G.top=`${y(this,Rd)[1]}%`},iw=function(){se(this,Pd,!y(this,Pd)),y(this,Pd)?(ce(this,Cs,sw).call(this),y(this,ko).addEventListener("click",y(this,kv)),y(this,ko).addEventListener("keydown",y(this,Rv))):(ce(this,Cs,G_).call(this),y(this,ko).removeEventListener("click",y(this,kv)),y(this,ko).removeEventListener("keydown",y(this,Rv)))},sw=function(){y(this,Kc)||this.render(),this.isVisible?y(this,Pd)&&y(this,ko).classList.add("focused"):(ce(this,Cs,OA).call(this),y(this,ko).hidden=!1,y(this,ko).style.zIndex=parseInt(y(this,ko).style.zIndex)+1e3)},G_=function(){y(this,ko).classList.remove("focused"),!(y(this,Pd)||!this.isVisible)&&(y(this,ko).hidden=!0,y(this,ko).style.zIndex=parseInt(y(this,ko).style.zIndex)-1e3)};class IA extends Xo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0}),this.textContent=n.data.textContent,this.textPosition=n.data.textPosition,this.annotationEditorType=di.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const n=document.createElement("div");n.classList.add("annotationTextContent"),n.setAttribute("role","comment");for(const r of this.textContent){const a=document.createElement("span");a.textContent=r,n.append(a)}this.container.append(n)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var hx;class xP extends Xo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});fe(this,hx,null)}render(){this.container.classList.add("lineAnnotation");const r=this.data,{width:a,height:c}=Vd(r.rect),h=this.svgFactory.create(a,c,!0),f=se(this,hx,this.svgFactory.createElement("svg:line"));return f.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),f.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),f.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),f.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),f.setAttribute("stroke-width",r.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),h.append(f),this.container.append(h),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,hx)}addHighlightArea(){this.container.classList.add("highlightArea")}}hx=new WeakMap;var dx;class bP extends Xo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});fe(this,dx,null)}render(){this.container.classList.add("squareAnnotation");const r=this.data,{width:a,height:c}=Vd(r.rect),h=this.svgFactory.create(a,c,!0),f=r.borderStyle.width,m=se(this,dx,this.svgFactory.createElement("svg:rect"));return m.setAttribute("x",f/2),m.setAttribute("y",f/2),m.setAttribute("width",a-f),m.setAttribute("height",c-f),m.setAttribute("stroke-width",f||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),h.append(m),this.container.append(h),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,dx)}addHighlightArea(){this.container.classList.add("highlightArea")}}dx=new WeakMap;var fx;class wP extends Xo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});fe(this,fx,null)}render(){this.container.classList.add("circleAnnotation");const r=this.data,{width:a,height:c}=Vd(r.rect),h=this.svgFactory.create(a,c,!0),f=r.borderStyle.width,m=se(this,fx,this.svgFactory.createElement("svg:ellipse"));return m.setAttribute("cx",a/2),m.setAttribute("cy",c/2),m.setAttribute("rx",a/2-f/2),m.setAttribute("ry",c/2-f/2),m.setAttribute("stroke-width",f||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),h.append(m),this.container.append(h),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,fx)}addHighlightArea(){this.container.classList.add("highlightArea")}}fx=new WeakMap;var px;class DA extends Xo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});fe(this,px,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,vertices:a,borderStyle:c,popupRef:h}}=this;if(!a)return this.container;const{width:f,height:m}=Vd(r),b=this.svgFactory.create(f,m,!0);let _=[];for(let T=0,k=a.length;T<k;T+=2){const G=a[T]-r[0],q=r[3]-a[T+1];_.push(`${G},${q}`)}_=_.join(" ");const E=se(this,px,this.svgFactory.createElement(this.svgElementName));return E.setAttribute("points",_),E.setAttribute("stroke-width",c.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),b.append(E),this.container.append(b),!h&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,px)}addHighlightArea(){this.container.classList.add("highlightArea")}}px=new WeakMap;class _P extends DA{constructor(n){super(n),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class SP extends Xo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mx;class IS extends Xo{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});fe(this,mx,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?di.HIGHLIGHT:di.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,inkLists:a,borderStyle:c,popupRef:h}}=this,{width:f,height:m}=Vd(r),b=this.svgFactory.create(f,m,!0);for(const _ of a){let E=[];for(let k=0,G=_.length;k<G;k+=2){const q=_[k]-r[0],X=r[3]-_[k+1];E.push(`${q},${X}`)}E=E.join(" ");const T=this.svgFactory.createElement(this.svgElementName);y(this,mx).push(T),T.setAttribute("points",E),T.setAttribute("stroke-width",c.width||1),T.setAttribute("stroke","transparent"),T.setAttribute("fill","transparent"),b.append(T)}return!h&&this.hasPopupData&&this._createPopup(),this.container.append(b),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return y(this,mx)}addHighlightArea(){this.container.classList.add("highlightArea")}}mx=new WeakMap;class NA extends Xo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=di.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class EP extends Xo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class MP extends Xo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class AP extends Xo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class FA extends Xo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=di.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var gx,vx,V_;class TP extends Xo{constructor(r){var c;super(r,{isRenderable:!0});fe(this,vx);fe(this,gx,null);const{file:a}=this.data;this.filename=a.filename,this.content=a.content,(c=this.linkService.eventBus)==null||c.dispatch("fileattachmentannotation",{source:this,...a})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:r,data:a}=this;let c;a.hasAppearance||a.fillAlpha===0?c=document.createElement("div"):(c=document.createElement("img"),c.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(a.name)?"paperclip":"pushpin"}.svg`,a.fillAlpha&&a.fillAlpha<1&&(c.style=`filter: opacity(${Math.round(a.fillAlpha*100)}%);`)),c.addEventListener("dblclick",ce(this,vx,V_).bind(this)),se(this,gx,c);const{isMac:h}=zl.platform;return r.addEventListener("keydown",f=>{f.key==="Enter"&&(h?f.metaKey:f.ctrlKey)&&ce(this,vx,V_).call(this)}),!a.popupRef&&this.hasPopupData?this._createPopup():c.classList.add("popupTriggerArea"),r.append(c),r}getElementsToTriggerPopup(){return y(this,gx)}addHighlightArea(){this.container.classList.add("highlightArea")}}gx=new WeakMap,vx=new WeakSet,V_=function(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.content,this.filename)};var yx,Om,Im,xx,eg,zA,W_,EM;let CP=(EM=class{constructor({div:n,accessibilityManager:r,annotationCanvasMap:a,annotationEditorUIManager:c,page:h,viewport:f,structTreeLayer:m}){fe(this,eg);fe(this,yx,null);fe(this,Om,null);fe(this,Im,new Map);fe(this,xx,null);this.div=n,se(this,yx,r),se(this,Om,a),se(this,xx,m||null),this.page=h,this.viewport=f,this.zIndex=0,this._annotationEditorUIManager=c}hasEditableAnnotations(){return y(this,Im).size>0}async render(n){var f;const{annotations:r}=n,a=this.div;Zm(a,this.viewport);const c=new Map,h={data:null,layer:a,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:n.renderForms!==!1,svgFactory:new OS,annotationStorage:n.annotationStorage||new CS,enableScripting:n.enableScripting===!0,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,parent:this,elements:null};for(const m of r){if(m.noHTML)continue;const b=m.annotationType===_a.POPUP;if(b){const T=c.get(m.id);if(!T)continue;h.elements=T}else{const{width:T,height:k}=Vd(m.rect);if(T<=0||k<=0)continue}h.data=m;const _=hP.create(h);if(!_.isRenderable)continue;if(!b&&m.popupRef){const T=c.get(m.popupRef);T?T.push(_):c.set(m.popupRef,[_])}const E=_.render();m.hidden&&(E.style.visibility="hidden"),await ce(this,eg,zA).call(this,E,m.id),_._isEditable&&(y(this,Im).set(_.data.id,_),(f=this._annotationEditorUIManager)==null||f.renderAnnotationElement(_))}ce(this,eg,W_).call(this)}update({viewport:n}){const r=this.div;this.viewport=n,Zm(r,{rotation:n.rotation}),ce(this,eg,W_).call(this),r.hidden=!1}getEditableAnnotations(){return Array.from(y(this,Im).values())}getEditableAnnotation(n){return y(this,Im).get(n)}},yx=new WeakMap,Om=new WeakMap,Im=new WeakMap,xx=new WeakMap,eg=new WeakSet,zA=async function(n,r){var f,m;const a=n.firstChild||n,c=a.id=`${SS}${r}`,h=await((f=y(this,xx))==null?void 0:f.getAriaAttributes(c));if(h)for(const[b,_]of h)a.setAttribute(b,_);this.div.append(n),(m=y(this,yx))==null||m.moveElementInDOM(this.div,n,a,!1)},W_=function(){if(!y(this,Om))return;const n=this.div;for(const[r,a]of y(this,Om)){const c=n.querySelector(`[data-annotation-id="${r}"]`);if(!c)continue;a.className="annotationContent";const{firstChild:h}=c;h?h.nodeName==="CANVAS"?h.replaceWith(a):h.classList.contains("annotationContent")?h.after(a):h.before(a):c.append(a)}y(this,Om).clear()},EM);const Gb=/\r\n?|\n/g;var Jc,Pu,bx,Dm,Ru,oa,BA,HA,jA,ow,qd,aw,lw,UA,X_,GA;const Us=class Us extends bs{constructor(r){super({...r,name:"freeTextEditor"});fe(this,oa);fe(this,Jc);fe(this,Pu,"");fe(this,bx,`${this.id}-editor`);fe(this,Dm,null);fe(this,Ru);se(this,Jc,r.color||Us._defaultColor||bs._defaultLineColor),se(this,Ru,r.fontSize||Us._defaultFontSize)}static get _keyboardManager(){const r=Us.prototype,a=f=>f.isEmpty(),c=Km.TRANSLATE_SMALL,h=Km.TRANSLATE_BIG;return Ni(this,"_keyboardManager",new Bx([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],r.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],r.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],r._translateEmpty,{args:[-c,0],checker:a}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r._translateEmpty,{args:[-h,0],checker:a}],[["ArrowRight","mac+ArrowRight"],r._translateEmpty,{args:[c,0],checker:a}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r._translateEmpty,{args:[h,0],checker:a}],[["ArrowUp","mac+ArrowUp"],r._translateEmpty,{args:[0,-c],checker:a}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r._translateEmpty,{args:[0,-h],checker:a}],[["ArrowDown","mac+ArrowDown"],r._translateEmpty,{args:[0,c],checker:a}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r._translateEmpty,{args:[0,h],checker:a}]]))}static initialize(r,a){bs.initialize(r,a);const c=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(c.getPropertyValue("--freetext-padding"))}static updateDefaultParams(r,a){switch(r){case qr.FREETEXT_SIZE:Us._defaultFontSize=a;break;case qr.FREETEXT_COLOR:Us._defaultColor=a;break}}updateParams(r,a){switch(r){case qr.FREETEXT_SIZE:ce(this,oa,BA).call(this,a);break;case qr.FREETEXT_COLOR:ce(this,oa,HA).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[qr.FREETEXT_SIZE,Us._defaultFontSize],[qr.FREETEXT_COLOR,Us._defaultColor||bs._defaultLineColor]]}get propertiesToUpdate(){return[[qr.FREETEXT_SIZE,y(this,Ru)],[qr.FREETEXT_COLOR,y(this,Jc)]]}_translateEmpty(r,a){this._uiManager.translateSelectedEditors(r,a,!0)}getInitialTranslation(){const r=this.parentScale;return[-Us._internalPadding*r,-(Us._internalPadding+y(this,Ru))*r]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(di.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),se(this,Dm,new AbortController);const r=this._uiManager.combinedSignal(y(this,Dm));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:r}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:r}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:r}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:r}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:r})}disableEditMode(){var r;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",y(this,bx)),this._isDraggable=!0,(r=y(this,Dm))==null||r.abort(),se(this,Dm,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(r){this._focusEventsAllowed&&(super.focusin(r),r.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var r;this.width||(this.enableEditMode(),this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const r=y(this,Pu),a=se(this,Pu,ce(this,oa,jA).call(this).trimEnd());if(r===a)return;const c=h=>{if(se(this,Pu,h),!h){this.remove();return}ce(this,oa,lw).call(this),this._uiManager.rebuild(this),ce(this,oa,ow).call(this)};this.addCommands({cmd:()=>{c(a)},undo:()=>{c(r)},mustExec:!1}),ce(this,oa,ow).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(r){this.enterInEditMode()}keydown(r){r.target===this.div&&r.key==="Enter"&&(this.enterInEditMode(),r.preventDefault())}editorDivKeydown(r){Us._keyboardManager.exec(this,r)}editorDivFocus(r){this.isEditing=!0}editorDivBlur(r){this.isEditing=!1}editorDivInput(r){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let r,a;this.width&&(r=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",y(this,bx)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:c}=this.editorDiv;if(c.fontSize=`calc(${y(this,Ru)}px * var(--scale-factor))`,c.color=y(this,Jc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bw(this,this.div,["dblclick","keydown"]),this.width){const[h,f]=this.parentDimensions;if(this.annotationElementId){const{position:m}=this._initialData;let[b,_]=this.getInitialTranslation();[b,_]=this.pageTranslationToScreen(b,_);const[E,T]=this.pageDimensions,[k,G]=this.pageTranslation;let q,X;switch(this.rotation){case 0:q=r+(m[0]-k)/E,X=a+this.height-(m[1]-G)/T;break;case 90:q=r+(m[0]-k)/E,X=a-(m[1]-G)/T,[b,_]=[_,-b];break;case 180:q=r-this.width+(m[0]-k)/E,X=a-(m[1]-G)/T,[b,_]=[-b,-_];break;case 270:q=r+(m[0]-k-this.height*T)/E,X=a+(m[1]-G-this.width*E)/T,[b,_]=[-_,b];break}this.setAt(q*h,X*f,b,_)}else this.setAt(r*h,a*f,this.width*h,this.height*f);ce(this,oa,lw).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(r){var q,X,Y;const a=r.clipboardData||window.clipboardData,{types:c}=a;if(c.length===1&&c[0]==="text/plain")return;r.preventDefault();const h=ce(q=Us,qd,X_).call(q,a.getData("text")||"").replaceAll(Gb,`
`);if(!h)return;const f=window.getSelection();if(!f.rangeCount)return;this.editorDiv.normalize(),f.deleteFromDocument();const m=f.getRangeAt(0);if(!h.includes(`
`)){m.insertNode(document.createTextNode(h)),this.editorDiv.normalize(),f.collapseToStart();return}const{startContainer:b,startOffset:_}=m,E=[],T=[];if(b.nodeType===Node.TEXT_NODE){const W=b.parentElement;if(T.push(b.nodeValue.slice(_).replaceAll(Gb,"")),W!==this.editorDiv){let ne=E;for(const oe of this.editorDiv.childNodes){if(oe===W){ne=T;continue}ne.push(ce(X=Us,qd,aw).call(X,oe))}}E.push(b.nodeValue.slice(0,_).replaceAll(Gb,""))}else if(b===this.editorDiv){let W=E,ne=0;for(const oe of this.editorDiv.childNodes)ne++===_&&(W=T),W.push(ce(Y=Us,qd,aw).call(Y,oe))}se(this,Pu,`${E.join(`
`)}${h}${T.join(`
`)}`),ce(this,oa,lw).call(this);const k=new Range;let G=E.reduce((W,ne)=>W+ne.length,0);for(const{firstChild:W}of this.editorDiv.childNodes)if(W.nodeType===Node.TEXT_NODE){const ne=W.nodeValue.length;if(G<=ne){k.setStart(W,G),k.setEnd(W,G);break}G-=ne}f.removeAllRanges(),f.addRange(k)}get contentDiv(){return this.editorDiv}static async deserialize(r,a,c){var m;let h=null;if(r instanceof IA){const{data:{defaultAppearanceData:{fontSize:b,fontColor:_},rect:E,rotation:T,id:k,popupRef:G},textContent:q,textPosition:X,parent:{page:{pageNumber:Y}}}=r;if(!q||q.length===0)return null;h=r={annotationType:di.FREETEXT,color:Array.from(_),fontSize:b,value:q.join(`
`),position:X,pageIndex:Y-1,rect:E.slice(0),rotation:T,id:k,deleted:!1,popupRef:G}}const f=await super.deserialize(r,a,c);return se(f,Ru,r.fontSize),se(f,Jc,xr.makeHexColor(...r.color)),se(f,Pu,ce(m=Us,qd,X_).call(m,r.value)),f.annotationElementId=r.id||null,f._initialData=h,f}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a=Us._internalPadding*this.parentScale,c=this.getRect(a,a),h=bs._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:y(this,Jc)),f={annotationType:di.FREETEXT,color:h,fontSize:y(this,Ru),value:ce(this,oa,UA).call(this),pageIndex:this.pageIndex,rect:c,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return r?f:this.annotationElementId&&!ce(this,oa,GA).call(this,f)?null:(f.id=this.annotationElementId,f)}renderAnnotationElement(r){const a=super.renderAnnotationElement(r);if(this.deleted)return a;const{style:c}=a;c.fontSize=`calc(${y(this,Ru)}px * var(--scale-factor))`,c.color=y(this,Jc),a.replaceChildren();for(const f of y(this,Pu).split(`
`)){const m=document.createElement("div");m.append(f?document.createTextNode(f):document.createElement("br")),a.append(m)}const h=Us._internalPadding*this.parentScale;return r.updateEdited({rect:this.getRect(h,h),popupContent:y(this,Pu)}),a}resetAnnotationElement(r){super.resetAnnotationElement(r),r.resetEdited()}};Jc=new WeakMap,Pu=new WeakMap,bx=new WeakMap,Dm=new WeakMap,Ru=new WeakMap,oa=new WeakSet,BA=function(r){const a=h=>{this.editorDiv.style.fontSize=`calc(${h}px * var(--scale-factor))`,this.translate(0,-(h-y(this,Ru))*this.parentScale),se(this,Ru,h),ce(this,oa,ow).call(this)},c=y(this,Ru);this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},HA=function(r){const a=h=>{se(this,Jc,this.editorDiv.style.color=h)},c=y(this,Jc);this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},jA=function(){var c;const r=[];this.editorDiv.normalize();let a=null;for(const h of this.editorDiv.childNodes)(a==null?void 0:a.nodeType)===Node.TEXT_NODE&&h.nodeName==="BR"||(r.push(ce(c=Us,qd,aw).call(c,h)),a=h);return r.join(`
`)},ow=function(){const[r,a]=this.parentDimensions;let c;if(this.isAttachedToDOM)c=this.div.getBoundingClientRect();else{const{currentLayer:h,div:f}=this,m=f.style.display,b=f.classList.contains("hidden");f.classList.remove("hidden"),f.style.display="hidden",h.div.append(this.div),c=f.getBoundingClientRect(),f.remove(),f.style.display=m,f.classList.toggle("hidden",b)}this.rotation%180===this.parentRotation%180?(this.width=c.width/r,this.height=c.height/a):(this.width=c.height/r,this.height=c.width/a),this.fixAndSetPosition()},qd=new WeakSet,aw=function(r){return(r.nodeType===Node.TEXT_NODE?r.nodeValue:r.innerText).replaceAll(Gb,"")},lw=function(){if(this.editorDiv.replaceChildren(),!!y(this,Pu))for(const r of y(this,Pu).split(`
`)){const a=document.createElement("div");a.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(a)}},UA=function(){return y(this,Pu).replaceAll(" "," ")},X_=function(r){return r.replaceAll(" "," ")},GA=function(r){const{value:a,fontSize:c,color:h,pageIndex:f}=this._initialData;return this._hasBeenMoved||r.value!==a||r.fontSize!==c||r.color.some((m,b)=>m!==h[b])||r.pageIndex!==f},fe(Us,qd),Wr(Us,"_freeTextDefaultContent",""),Wr(Us,"_internalPadding",0),Wr(Us,"_defaultColor",null),Wr(Us,"_defaultFontSize",10),Wr(Us,"_type","freetext"),Wr(Us,"_editorType",di.FREETEXT);let q_=Us;class VA{toSVGPath(){Zs("Abstract method `toSVGPath` must be implemented.")}get box(){Zs("Abstract getter `box` must be implemented.")}serialize(n,r){Zs("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Zs("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Zs("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ku,Qc,Dv,Nv,Wh,Si,Nm,Fm,wx,_x,Fv,zv,Kf,Sx,Hw,jw,Ta,d0,WA,qA,XA,$A,YA,ZA;const yd=class yd{constructor({x:n,y:r},a,c,h,f,m=0){fe(this,Ta);fe(this,ku);fe(this,Qc,[]);fe(this,Dv);fe(this,Nv);fe(this,Wh,[]);fe(this,Si,new Float64Array(18));fe(this,Nm);fe(this,Fm);fe(this,wx);fe(this,_x);fe(this,Fv);fe(this,zv);fe(this,Kf,[]);se(this,ku,a),se(this,zv,h*c),se(this,Nv,f),y(this,Si).set([NaN,NaN,NaN,NaN,n,r],6),se(this,Dv,m),se(this,_x,y(yd,Sx)*c),se(this,wx,y(yd,jw)*c),se(this,Fv,c),y(this,Kf).push(n,r)}isEmpty(){return isNaN(y(this,Si)[8])}add({x:n,y:r}){var We;se(this,Nm,n),se(this,Fm,r);const[a,c,h,f]=y(this,ku);let[m,b,_,E]=y(this,Si).subarray(8,12);const T=n-_,k=r-E,G=Math.hypot(T,k);if(G<y(this,wx))return!1;const q=G-y(this,_x),X=q/G,Y=X*T,W=X*k;let ne=m,oe=b;m=_,b=E,_+=Y,E+=W,(We=y(this,Kf))==null||We.push(n,r);const le=-W/q,Se=Y/q,be=le*y(this,zv),Pe=Se*y(this,zv);return y(this,Si).set(y(this,Si).subarray(2,8),0),y(this,Si).set([_+be,E+Pe],4),y(this,Si).set(y(this,Si).subarray(14,18),12),y(this,Si).set([_-be,E-Pe],16),isNaN(y(this,Si)[6])?(y(this,Wh).length===0&&(y(this,Si).set([m+be,b+Pe],2),y(this,Wh).push(NaN,NaN,NaN,NaN,(m+be-a)/h,(b+Pe-c)/f),y(this,Si).set([m-be,b-Pe],14),y(this,Qc).push(NaN,NaN,NaN,NaN,(m-be-a)/h,(b-Pe-c)/f)),y(this,Si).set([ne,oe,m,b,_,E],6),!this.isEmpty()):(y(this,Si).set([ne,oe,m,b,_,E],6),Math.abs(Math.atan2(oe-b,ne-m)-Math.atan2(W,Y))<Math.PI/2?([m,b,_,E]=y(this,Si).subarray(2,6),y(this,Wh).push(NaN,NaN,NaN,NaN,((m+_)/2-a)/h,((b+E)/2-c)/f),[m,b,ne,oe]=y(this,Si).subarray(14,18),y(this,Qc).push(NaN,NaN,NaN,NaN,((ne+m)/2-a)/h,((oe+b)/2-c)/f),!0):([ne,oe,m,b,_,E]=y(this,Si).subarray(0,6),y(this,Wh).push(((ne+5*m)/6-a)/h,((oe+5*b)/6-c)/f,((5*m+_)/6-a)/h,((5*b+E)/6-c)/f,((m+_)/2-a)/h,((b+E)/2-c)/f),[_,E,m,b,ne,oe]=y(this,Si).subarray(12,18),y(this,Qc).push(((ne+5*m)/6-a)/h,((oe+5*b)/6-c)/f,((5*m+_)/6-a)/h,((5*b+E)/6-c)/f,((m+_)/2-a)/h,((b+E)/2-c)/f),!0))}toSVGPath(){if(this.isEmpty())return"";const n=y(this,Wh),r=y(this,Qc);if(isNaN(y(this,Si)[6])&&!this.isEmpty())return ce(this,Ta,WA).call(this);const a=[];a.push(`M${n[4]} ${n[5]}`);for(let c=6;c<n.length;c+=6)isNaN(n[c])?a.push(`L${n[c+4]} ${n[c+5]}`):a.push(`C${n[c]} ${n[c+1]} ${n[c+2]} ${n[c+3]} ${n[c+4]} ${n[c+5]}`);ce(this,Ta,XA).call(this,a);for(let c=r.length-6;c>=6;c-=6)isNaN(r[c])?a.push(`L${r[c+4]} ${r[c+5]}`):a.push(`C${r[c]} ${r[c+1]} ${r[c+2]} ${r[c+3]} ${r[c+4]} ${r[c+5]}`);return ce(this,Ta,qA).call(this,a),a.join(" ")}newFreeDrawOutline(n,r,a,c,h,f){return new KA(n,r,a,c,h,f)}getOutlines(){var T;const n=y(this,Wh),r=y(this,Qc),a=y(this,Si),[c,h,f,m]=y(this,ku),b=new Float64Array((((T=y(this,Kf))==null?void 0:T.length)??0)+2);for(let k=0,G=b.length-2;k<G;k+=2)b[k]=(y(this,Kf)[k]-c)/f,b[k+1]=(y(this,Kf)[k+1]-h)/m;if(b[b.length-2]=(y(this,Nm)-c)/f,b[b.length-1]=(y(this,Fm)-h)/m,isNaN(a[6])&&!this.isEmpty())return ce(this,Ta,$A).call(this,b);const _=new Float64Array(y(this,Wh).length+24+y(this,Qc).length);let E=n.length;for(let k=0;k<E;k+=2){if(isNaN(n[k])){_[k]=_[k+1]=NaN;continue}_[k]=n[k],_[k+1]=n[k+1]}E=ce(this,Ta,ZA).call(this,_,E);for(let k=r.length-6;k>=6;k-=6)for(let G=0;G<6;G+=2){if(isNaN(r[k+G])){_[E]=_[E+1]=NaN,E+=2;continue}_[E]=r[k+G],_[E+1]=r[k+G+1],E+=2}return ce(this,Ta,YA).call(this,_,E),this.newFreeDrawOutline(_,b,y(this,ku),y(this,Fv),y(this,Dv),y(this,Nv))}};ku=new WeakMap,Qc=new WeakMap,Dv=new WeakMap,Nv=new WeakMap,Wh=new WeakMap,Si=new WeakMap,Nm=new WeakMap,Fm=new WeakMap,wx=new WeakMap,_x=new WeakMap,Fv=new WeakMap,zv=new WeakMap,Kf=new WeakMap,Sx=new WeakMap,Hw=new WeakMap,jw=new WeakMap,Ta=new WeakSet,d0=function(){const n=y(this,Si).subarray(4,6),r=y(this,Si).subarray(16,18),[a,c,h,f]=y(this,ku);return[(y(this,Nm)+(n[0]-r[0])/2-a)/h,(y(this,Fm)+(n[1]-r[1])/2-c)/f,(y(this,Nm)+(r[0]-n[0])/2-a)/h,(y(this,Fm)+(r[1]-n[1])/2-c)/f]},WA=function(){const[n,r,a,c]=y(this,ku),[h,f,m,b]=ce(this,Ta,d0).call(this);return`M${(y(this,Si)[2]-n)/a} ${(y(this,Si)[3]-r)/c} L${(y(this,Si)[4]-n)/a} ${(y(this,Si)[5]-r)/c} L${h} ${f} L${m} ${b} L${(y(this,Si)[16]-n)/a} ${(y(this,Si)[17]-r)/c} L${(y(this,Si)[14]-n)/a} ${(y(this,Si)[15]-r)/c} Z`},qA=function(n){const r=y(this,Qc);n.push(`L${r[4]} ${r[5]} Z`)},XA=function(n){const[r,a,c,h]=y(this,ku),f=y(this,Si).subarray(4,6),m=y(this,Si).subarray(16,18),[b,_,E,T]=ce(this,Ta,d0).call(this);n.push(`L${(f[0]-r)/c} ${(f[1]-a)/h} L${b} ${_} L${E} ${T} L${(m[0]-r)/c} ${(m[1]-a)/h}`)},$A=function(n){const r=y(this,Si),[a,c,h,f]=y(this,ku),[m,b,_,E]=ce(this,Ta,d0).call(this),T=new Float64Array(36);return T.set([NaN,NaN,NaN,NaN,(r[2]-a)/h,(r[3]-c)/f,NaN,NaN,NaN,NaN,(r[4]-a)/h,(r[5]-c)/f,NaN,NaN,NaN,NaN,m,b,NaN,NaN,NaN,NaN,_,E,NaN,NaN,NaN,NaN,(r[16]-a)/h,(r[17]-c)/f,NaN,NaN,NaN,NaN,(r[14]-a)/h,(r[15]-c)/f],0),this.newFreeDrawOutline(T,n,y(this,ku),y(this,Fv),y(this,Dv),y(this,Nv))},YA=function(n,r){const a=y(this,Qc);return n.set([NaN,NaN,NaN,NaN,a[4],a[5]],r),r+=6},ZA=function(n,r){const a=y(this,Si).subarray(4,6),c=y(this,Si).subarray(16,18),[h,f,m,b]=y(this,ku),[_,E,T,k]=ce(this,Ta,d0).call(this);return n.set([NaN,NaN,NaN,NaN,(a[0]-h)/m,(a[1]-f)/b,NaN,NaN,NaN,NaN,_,E,NaN,NaN,NaN,NaN,T,k,NaN,NaN,NaN,NaN,(c[0]-h)/m,(c[1]-f)/b],r),r+=24},fe(yd,Sx,8),fe(yd,Hw,2),fe(yd,jw,y(yd,Sx)+y(yd,Hw));let _w=yd;var Bv,zm,Od,Ex,Ou,Mx,qo,au,f0,p0,JA;class KA extends VA{constructor(r,a,c,h,f,m){super();fe(this,au);fe(this,Bv);fe(this,zm,null);fe(this,Od);fe(this,Ex);fe(this,Ou);fe(this,Mx);fe(this,qo);se(this,qo,r),se(this,Ou,a),se(this,Bv,c),se(this,Mx,h),se(this,Od,f),se(this,Ex,m),ce(this,au,JA).call(this,m);const{x:b,y:_,width:E,height:T}=y(this,zm);for(let k=0,G=r.length;k<G;k+=2)r[k]=(r[k]-b)/E,r[k+1]=(r[k+1]-_)/T;for(let k=0,G=a.length;k<G;k+=2)a[k]=(a[k]-b)/E,a[k+1]=(a[k+1]-_)/T}toSVGPath(){const r=[`M${y(this,qo)[4]} ${y(this,qo)[5]}`];for(let a=6,c=y(this,qo).length;a<c;a+=6){if(isNaN(y(this,qo)[a])){r.push(`L${y(this,qo)[a+4]} ${y(this,qo)[a+5]}`);continue}r.push(`C${y(this,qo)[a]} ${y(this,qo)[a+1]} ${y(this,qo)[a+2]} ${y(this,qo)[a+3]} ${y(this,qo)[a+4]} ${y(this,qo)[a+5]}`)}return r.push("Z"),r.join(" ")}serialize([r,a,c,h],f){const m=c-r,b=h-a;let _,E;switch(f){case 0:_=ce(this,au,f0).call(this,y(this,qo),r,h,m,-b),E=ce(this,au,f0).call(this,y(this,Ou),r,h,m,-b);break;case 90:_=ce(this,au,p0).call(this,y(this,qo),r,a,m,b),E=ce(this,au,p0).call(this,y(this,Ou),r,a,m,b);break;case 180:_=ce(this,au,f0).call(this,y(this,qo),c,a,-m,b),E=ce(this,au,f0).call(this,y(this,Ou),c,a,-m,b);break;case 270:_=ce(this,au,p0).call(this,y(this,qo),c,h,-m,-b),E=ce(this,au,p0).call(this,y(this,Ou),c,h,-m,-b);break}return{outline:Array.from(_),points:[Array.from(E)]}}get box(){return y(this,zm)}newOutliner(r,a,c,h,f,m=0){return new _w(r,a,c,h,f,m)}getNewOutline(r,a){const{x:c,y:h,width:f,height:m}=y(this,zm),[b,_,E,T]=y(this,Bv),k=f*E,G=m*T,q=c*E+b,X=h*T+_,Y=this.newOutliner({x:y(this,Ou)[0]*k+q,y:y(this,Ou)[1]*G+X},y(this,Bv),y(this,Mx),r,y(this,Ex),a??y(this,Od));for(let W=2;W<y(this,Ou).length;W+=2)Y.add({x:y(this,Ou)[W]*k+q,y:y(this,Ou)[W+1]*G+X});return Y.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Bv=new WeakMap,zm=new WeakMap,Od=new WeakMap,Ex=new WeakMap,Ou=new WeakMap,Mx=new WeakMap,qo=new WeakMap,au=new WeakSet,f0=function(r,a,c,h,f){const m=new Float64Array(r.length);for(let b=0,_=r.length;b<_;b+=2)m[b]=a+r[b]*h,m[b+1]=c+r[b+1]*f;return m},p0=function(r,a,c,h,f){const m=new Float64Array(r.length);for(let b=0,_=r.length;b<_;b+=2)m[b]=a+r[b+1]*h,m[b+1]=c+r[b]*f;return m},JA=function(r){const a=y(this,qo);let c=a[4],h=a[5],f=c,m=h,b=c,_=h,E=c,T=h;const k=r?Math.max:Math.min;for(let W=6,ne=a.length;W<ne;W+=6){if(isNaN(a[W]))f=Math.min(f,a[W+4]),m=Math.min(m,a[W+5]),b=Math.max(b,a[W+4]),_=Math.max(_,a[W+5]),T<a[W+5]?(E=a[W+4],T=a[W+5]):T===a[W+5]&&(E=k(E,a[W+4]));else{const oe=xr.bezierBoundingBox(c,h,...a.slice(W,W+6));f=Math.min(f,oe[0]),m=Math.min(m,oe[1]),b=Math.max(b,oe[2]),_=Math.max(_,oe[3]),T<oe[3]?(E=oe[2],T=oe[3]):T===oe[3]&&(E=k(E,oe[2]))}c=a[W+4],h=a[W+5]}const G=f-y(this,Od),q=m-y(this,Od),X=b-f+2*y(this,Od),Y=_-m+2*y(this,Od);se(this,zm,{x:G,y:q,width:X,height:Y,lastPoint:[E,T]})};var Ax,Jf,eh,Hl,QA,uw,eT,tT,$_;class dM{constructor(n,r=0,a=0,c=!0){fe(this,Hl);fe(this,Ax);fe(this,Jf,[]);fe(this,eh,[]);let h=1/0,f=-1/0,m=1/0,b=-1/0;const _=10**-4;for(const{x:Y,y:W,width:ne,height:oe}of n){const le=Math.floor((Y-r)/_)*_,Se=Math.ceil((Y+ne+r)/_)*_,be=Math.floor((W-r)/_)*_,Pe=Math.ceil((W+oe+r)/_)*_,P=[le,be,Pe,!0],We=[Se,be,Pe,!1];y(this,Jf).push(P,We),h=Math.min(h,le),f=Math.max(f,Se),m=Math.min(m,be),b=Math.max(b,Pe)}const E=f-h+2*a,T=b-m+2*a,k=h-a,G=m-a,q=y(this,Jf).at(c?-1:-2),X=[q[0],q[2]];for(const Y of y(this,Jf)){const[W,ne,oe]=Y;Y[0]=(W-k)/E,Y[1]=(ne-G)/T,Y[2]=(oe-G)/T}se(this,Ax,{x:k,y:G,width:E,height:T,lastPoint:X})}getOutlines(){y(this,Jf).sort((r,a)=>r[0]-a[0]||r[1]-a[1]||r[2]-a[2]);const n=[];for(const r of y(this,Jf))r[3]?(n.push(...ce(this,Hl,$_).call(this,r)),ce(this,Hl,eT).call(this,r)):(ce(this,Hl,tT).call(this,r),n.push(...ce(this,Hl,$_).call(this,r)));return ce(this,Hl,QA).call(this,n)}}Ax=new WeakMap,Jf=new WeakMap,eh=new WeakMap,Hl=new WeakSet,QA=function(n){const r=[],a=new Set;for(const f of n){const[m,b,_]=f;r.push([m,b,f],[m,_,f])}r.sort((f,m)=>f[1]-m[1]||f[0]-m[0]);for(let f=0,m=r.length;f<m;f+=2){const b=r[f][2],_=r[f+1][2];b.push(_),_.push(b),a.add(b),a.add(_)}const c=[];let h;for(;a.size>0;){const f=a.values().next().value;let[m,b,_,E,T]=f;a.delete(f);let k=m,G=b;for(h=[m,_],c.push(h);;){let q;if(a.has(E))q=E;else if(a.has(T))q=T;else break;a.delete(q),[m,b,_,E,T]=q,k!==m&&(h.push(k,G,m,G===b?b:_),k=m),G=G===b?_:b}h.push(k,G)}return new LP(c,y(this,Ax))},uw=function(n){const r=y(this,eh);let a=0,c=r.length-1;for(;a<=c;){const h=a+c>>1,f=r[h][0];if(f===n)return h;f<n?a=h+1:c=h-1}return c+1},eT=function([,n,r]){const a=ce(this,Hl,uw).call(this,n);y(this,eh).splice(a,0,[n,r])},tT=function([,n,r]){const a=ce(this,Hl,uw).call(this,n);for(let c=a;c<y(this,eh).length;c++){const[h,f]=y(this,eh)[c];if(h!==n)break;if(h===n&&f===r){y(this,eh).splice(c,1);return}}for(let c=a-1;c>=0;c--){const[h,f]=y(this,eh)[c];if(h!==n)break;if(h===n&&f===r){y(this,eh).splice(c,1);return}}},$_=function(n){const[r,a,c]=n,h=[[r,a,c]],f=ce(this,Hl,uw).call(this,c);for(let m=0;m<f;m++){const[b,_]=y(this,eh)[m];for(let E=0,T=h.length;E<T;E++){const[,k,G]=h[E];if(!(_<=k||G<=b)){if(k>=b){if(G>_)h[E][1]=_;else{if(T===1)return[];h.splice(E,1),E--,T--}continue}h[E][2]=b,G>_&&h.push([r,_,G])}}}return h};var Tx,Hv;class LP extends VA{constructor(r,a){super();fe(this,Tx);fe(this,Hv);se(this,Hv,r),se(this,Tx,a)}toSVGPath(){const r=[];for(const a of y(this,Hv)){let[c,h]=a;r.push(`M${c} ${h}`);for(let f=2;f<a.length;f+=2){const m=a[f],b=a[f+1];m===c?(r.push(`V${b}`),h=b):b===h&&(r.push(`H${m}`),c=m)}r.push("Z")}return r.join(" ")}serialize([r,a,c,h],f){const m=[],b=c-r,_=h-a;for(const E of y(this,Hv)){const T=new Array(E.length);for(let k=0;k<E.length;k+=2)T[k]=r+E[k]*b,T[k+1]=h-E[k+1]*_;m.push(T)}return m}get box(){return y(this,Tx)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Tx=new WeakMap,Hv=new WeakMap;class Y_ extends _w{newFreeDrawOutline(n,r,a,c,h,f){return new PP(n,r,a,c,h,f)}get classNamesForDrawing(){return["highlight","free"]}}class PP extends KA{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(n,r,a,c,h,f=0){return new Y_(n,r,a,c,h,f)}}var th,Bm,jv,Ea,Cx,Uv,Lx,Px,Qf,nh,Gv,Rx,Ts,Z_,K_,J_,Yp,nT,Rf;const nu=class nu{constructor({editor:n=null,uiManager:r=null}){fe(this,Ts);fe(this,th,null);fe(this,Bm,null);fe(this,jv);fe(this,Ea,null);fe(this,Cx,!1);fe(this,Uv,!1);fe(this,Lx,null);fe(this,Px);fe(this,Qf,null);fe(this,nh,null);fe(this,Gv);var a;n?(se(this,Uv,!1),se(this,Gv,qr.HIGHLIGHT_COLOR),se(this,Lx,n)):(se(this,Uv,!0),se(this,Gv,qr.HIGHLIGHT_DEFAULT_COLOR)),se(this,nh,(n==null?void 0:n._uiManager)||r),se(this,Px,y(this,nh)._eventBus),se(this,jv,(n==null?void 0:n.color)||((a=y(this,nh))==null?void 0:a.highlightColors.values().next().value)||"#FFFF98"),y(nu,Rx)||se(nu,Rx,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ni(this,"_keyboardManager",new Bx([[["Escape","mac+Escape"],nu.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],nu.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],nu.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],nu.prototype._moveToPrevious],[["Home","mac+Home"],nu.prototype._moveToBeginning],[["End","mac+End"],nu.prototype._moveToEnd]]))}renderButton(){const n=se(this,th,document.createElement("button"));n.className="colorPicker",n.tabIndex="0",n.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),n.setAttribute("aria-haspopup",!0);const r=y(this,nh)._signal;n.addEventListener("click",ce(this,Ts,Yp).bind(this),{signal:r}),n.addEventListener("keydown",ce(this,Ts,J_).bind(this),{signal:r});const a=se(this,Bm,document.createElement("span"));return a.className="swatch",a.setAttribute("aria-hidden",!0),a.style.backgroundColor=y(this,jv),n.append(a),n}renderMainDropdown(){const n=se(this,Ea,ce(this,Ts,Z_).call(this));return n.setAttribute("aria-orientation","horizontal"),n.setAttribute("aria-labelledby","highlightColorPickerLabel"),n}_colorSelectFromKeyboard(n){if(n.target===y(this,th)){ce(this,Ts,Yp).call(this,n);return}const r=n.target.getAttribute("data-color");r&&ce(this,Ts,K_).call(this,r,n)}_moveToNext(n){var r,a;if(!y(this,Ts,Rf)){ce(this,Ts,Yp).call(this,n);return}if(n.target===y(this,th)){(r=y(this,Ea).firstChild)==null||r.focus();return}(a=n.target.nextSibling)==null||a.focus()}_moveToPrevious(n){var r,a;if(n.target===((r=y(this,Ea))==null?void 0:r.firstChild)||n.target===y(this,th)){y(this,Ts,Rf)&&this._hideDropdownFromKeyboard();return}y(this,Ts,Rf)||ce(this,Ts,Yp).call(this,n),(a=n.target.previousSibling)==null||a.focus()}_moveToBeginning(n){var r;if(!y(this,Ts,Rf)){ce(this,Ts,Yp).call(this,n);return}(r=y(this,Ea).firstChild)==null||r.focus()}_moveToEnd(n){var r;if(!y(this,Ts,Rf)){ce(this,Ts,Yp).call(this,n);return}(r=y(this,Ea).lastChild)==null||r.focus()}hideDropdown(){var n,r;(n=y(this,Ea))==null||n.classList.add("hidden"),(r=y(this,Qf))==null||r.abort(),se(this,Qf,null)}_hideDropdownFromKeyboard(){var n;if(!y(this,Uv)){if(!y(this,Ts,Rf)){(n=y(this,Lx))==null||n.unselect();return}this.hideDropdown(),y(this,th).focus({preventScroll:!0,focusVisible:y(this,Cx)})}}updateColor(n){if(y(this,Bm)&&(y(this,Bm).style.backgroundColor=n),!y(this,Ea))return;const r=y(this,nh).highlightColors.values();for(const a of y(this,Ea).children)a.setAttribute("aria-selected",r.next().value===n)}destroy(){var n,r;(n=y(this,th))==null||n.remove(),se(this,th,null),se(this,Bm,null),(r=y(this,Ea))==null||r.remove(),se(this,Ea,null)}};th=new WeakMap,Bm=new WeakMap,jv=new WeakMap,Ea=new WeakMap,Cx=new WeakMap,Uv=new WeakMap,Lx=new WeakMap,Px=new WeakMap,Qf=new WeakMap,nh=new WeakMap,Gv=new WeakMap,Rx=new WeakMap,Ts=new WeakSet,Z_=function(){const n=document.createElement("div"),r=y(this,nh)._signal;n.addEventListener("contextmenu",vc,{signal:r}),n.className="dropdown",n.role="listbox",n.setAttribute("aria-multiselectable",!1),n.setAttribute("aria-orientation","vertical"),n.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[a,c]of y(this,nh).highlightColors){const h=document.createElement("button");h.tabIndex="0",h.role="option",h.setAttribute("data-color",c),h.title=a,h.setAttribute("data-l10n-id",y(nu,Rx)[a]);const f=document.createElement("span");h.append(f),f.className="swatch",f.style.backgroundColor=c,h.setAttribute("aria-selected",c===y(this,jv)),h.addEventListener("click",ce(this,Ts,K_).bind(this,c),{signal:r}),n.append(h)}return n.addEventListener("keydown",ce(this,Ts,J_).bind(this),{signal:r}),n},K_=function(n,r){r.stopPropagation(),y(this,Px).dispatch("switchannotationeditorparams",{source:this,type:y(this,Gv),value:n})},J_=function(n){nu._keyboardManager.exec(this,n)},Yp=function(n){if(y(this,Ts,Rf)){this.hideDropdown();return}if(se(this,Cx,n.detail===0),y(this,Qf)||(se(this,Qf,new AbortController),window.addEventListener("pointerdown",ce(this,Ts,nT).bind(this),{signal:y(this,nh).combinedSignal(y(this,Qf))})),y(this,Ea)){y(this,Ea).classList.remove("hidden");return}const r=se(this,Ea,ce(this,Ts,Z_).call(this));y(this,th).append(r)},nT=function(n){var r;(r=y(this,Ea))!=null&&r.contains(n.target)||this.hideDropdown()},Rf=function(){return y(this,Ea)&&!y(this,Ea).classList.contains("hidden")},fe(nu,Rx,null);let Sw=nu;var Vv,kx,Id,Hm,Wv,hc,Ox,Ix,jm,rh,wl,su,qv,Dd,Ma,Xv,dc,Dx,oi,Q_,cw,rT,iT,sT,eS,Zp,mc,Yg,oT,hw,m0,aT,lT,uT,cT,hT;const es=class es extends bs{constructor(r){super({...r,name:"highlightEditor"});fe(this,oi);fe(this,Vv,null);fe(this,kx,0);fe(this,Id);fe(this,Hm,null);fe(this,Wv,null);fe(this,hc,null);fe(this,Ox,null);fe(this,Ix,0);fe(this,jm,null);fe(this,rh,null);fe(this,wl,null);fe(this,su,!1);fe(this,qv,null);fe(this,Dd);fe(this,Ma,null);fe(this,Xv,"");fe(this,dc);fe(this,Dx,"");this.color=r.color||es._defaultColor,se(this,dc,r.thickness||es._defaultThickness),se(this,Dd,r.opacity||es._defaultOpacity),se(this,Id,r.boxes||null),se(this,Dx,r.methodOfCreation||""),se(this,Xv,r.text||""),this._isDraggable=!1,r.highlightId>-1?(se(this,su,!0),ce(this,oi,cw).call(this,r),ce(this,oi,Zp).call(this)):y(this,Id)&&(se(this,Vv,r.anchorNode),se(this,kx,r.anchorOffset),se(this,Ox,r.focusNode),se(this,Ix,r.focusOffset),ce(this,oi,Q_).call(this),ce(this,oi,Zp).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const r=es.prototype;return Ni(this,"_keyboardManager",new Bx([[["ArrowLeft","mac+ArrowLeft"],r._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],r._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],r._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],r._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:y(this,su)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:y(this,dc),methodOfCreation:y(this,Dx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(r){return{numberOfColors:r.get("color").size}}static initialize(r,a){var c;bs.initialize(r,a),es._defaultColor||(es._defaultColor=((c=a.highlightColors)==null?void 0:c.values().next().value)||"#fff066")}static updateDefaultParams(r,a){switch(r){case qr.HIGHLIGHT_DEFAULT_COLOR:es._defaultColor=a;break;case qr.HIGHLIGHT_THICKNESS:es._defaultThickness=a;break}}translateInPage(r,a){}get toolbarPosition(){return y(this,qv)}updateParams(r,a){switch(r){case qr.HIGHLIGHT_COLOR:ce(this,oi,rT).call(this,a);break;case qr.HIGHLIGHT_THICKNESS:ce(this,oi,iT).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[qr.HIGHLIGHT_DEFAULT_COLOR,es._defaultColor],[qr.HIGHLIGHT_THICKNESS,es._defaultThickness]]}get propertiesToUpdate(){return[[qr.HIGHLIGHT_COLOR,this.color||es._defaultColor],[qr.HIGHLIGHT_THICKNESS,y(this,dc)||es._defaultThickness],[qr.HIGHLIGHT_FREE,y(this,su)]]}async addEditToolbar(){const r=await super.addEditToolbar();return r?(this._uiManager.highlightColors&&(se(this,Wv,new Sw({editor:this})),r.addColorPicker(y(this,Wv))),r):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ce(this,oi,m0).call(this))}getBaseTranslation(){return[0,0]}getRect(r,a){return super.getRect(r,a,ce(this,oi,m0).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){ce(this,oi,eS).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ce(this,oi,Zp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var c;let a=!1;this.parent&&!r?ce(this,oi,eS).call(this):r&&(ce(this,oi,Zp).call(this,r),a=!this.parent&&((c=this.div)==null?void 0:c.classList.contains("selectedEditor"))),super.setParent(r),this.show(this._isVisible),a&&this.select()}rotate(r){var h,f,m;const{drawLayer:a}=this.parent;let c;y(this,su)?(r=(r-this.rotation+360)%360,c=ce(h=es,mc,Yg).call(h,y(this,rh).box,r)):c=ce(f=es,mc,Yg).call(f,this,r),a.rotate(y(this,wl),r),a.rotate(y(this,Ma),r),a.updateBox(y(this,wl),c),a.updateBox(y(this,Ma),ce(m=es,mc,Yg).call(m,y(this,hc).box,r))}render(){if(this.div)return this.div;const r=super.render();y(this,Xv)&&(r.setAttribute("aria-label",y(this,Xv)),r.setAttribute("role","mark")),y(this,su)?r.classList.add("free"):this.div.addEventListener("keydown",ce(this,oi,oT).bind(this),{signal:this._uiManager._signal});const a=se(this,jm,document.createElement("div"));r.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",a.style.clipPath=y(this,Hm);const[c,h]=this.parentDimensions;return this.setDims(this.width*c,this.height*h),bw(this,y(this,jm),["pointerover","pointerleave"]),this.enableEditing(),r}pointerover(){this.isSelected||this.parent.drawLayer.addClass(y(this,Ma),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(y(this,Ma),"hovered")}_moveCaret(r){switch(this.parent.unselect(this),r){case 0:case 2:ce(this,oi,hw).call(this,!0);break;case 1:case 3:ce(this,oi,hw).call(this,!1);break}}select(){var r,a;super.select(),y(this,Ma)&&((r=this.parent)==null||r.drawLayer.removeClass(y(this,Ma),"hovered"),(a=this.parent)==null||a.drawLayer.addClass(y(this,Ma),"selected"))}unselect(){var r;super.unselect(),y(this,Ma)&&((r=this.parent)==null||r.drawLayer.removeClass(y(this,Ma),"selected"),y(this,su)||ce(this,oi,hw).call(this,!1))}get _mustFixPosition(){return!y(this,su)}show(r=this._isVisible){super.show(r),this.parent&&(this.parent.drawLayer.show(y(this,wl),r),this.parent.drawLayer.show(y(this,Ma),r))}static startHighlighting(r,a,{target:c,x:h,y:f}){const{x:m,y:b,width:_,height:E}=c.getBoundingClientRect(),T=new AbortController,k=r.combinedSignal(T),G=X=>{X.preventDefault(),X.stopPropagation()},q=X=>{T.abort(),ce(this,mc,cT).call(this,r,X)};window.addEventListener("blur",q,{signal:k}),window.addEventListener("pointerup",q,{signal:k}),window.addEventListener("pointerdown",G,{capture:!0,passive:!1,signal:k}),window.addEventListener("contextmenu",vc,{signal:k}),c.addEventListener("pointermove",ce(this,mc,uT).bind(this,r),{signal:k}),this._freeHighlight=new Y_({x:h,y:f},[m,b,_,E],r.scale,this._defaultThickness/2,a,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=r.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(r,a,c){var X,Y,W,ne;let h=null;if(r instanceof NA){const{data:{quadPoints:oe,rect:le,rotation:Se,id:be,color:Pe,opacity:P,popupRef:We},parent:{page:{pageNumber:tt}}}=r;h=r={annotationType:di.HIGHLIGHT,color:Array.from(Pe),opacity:P,quadPoints:oe,boxes:null,pageIndex:tt-1,rect:le.slice(0),rotation:Se,id:be,deleted:!1,popupRef:We}}else if(r instanceof IS){const{data:{inkLists:oe,rect:le,rotation:Se,id:be,color:Pe,borderStyle:{rawWidth:P},popupRef:We},parent:{page:{pageNumber:tt}}}=r;h=r={annotationType:di.HIGHLIGHT,color:Array.from(Pe),thickness:P,inkLists:oe,boxes:null,pageIndex:tt-1,rect:le.slice(0),rotation:Se,id:be,deleted:!1,popupRef:We}}const{color:f,quadPoints:m,inkLists:b,opacity:_}=r,E=await super.deserialize(r,a,c);E.color=xr.makeHexColor(...f),se(E,Dd,_||1),b&&se(E,dc,r.thickness),E.annotationElementId=r.id||null,E._initialData=h;const[T,k]=E.pageDimensions,[G,q]=E.pageTranslation;if(m){const oe=se(E,Id,[]);for(let le=0;le<m.length;le+=8)oe.push({x:(m[le]-G)/T,y:1-(m[le+1]-q)/k,width:(m[le+2]-m[le])/T,height:(m[le+1]-m[le+5])/k});ce(X=E,oi,Q_).call(X),ce(Y=E,oi,Zp).call(Y),E.rotate(E.rotation)}else if(b){se(E,su,!0);const oe=b[0],le={x:oe[0]-G,y:k-(oe[1]-q)},Se=new Y_(le,[0,0,T,k],1,y(E,dc)/2,!0,.001);for(let P=0,We=oe.length;P<We;P+=2)le.x=oe[P]-G,le.y=k-(oe[P+1]-q),Se.add(le);const{id:be,clipPathId:Pe}=a.drawLayer.draw(Se,E.color,E._defaultOpacity,!0);ce(W=E,oi,cw).call(W,{highlightOutlines:Se.getOutlines(),highlightId:be,clipPathId:Pe}),ce(ne=E,oi,Zp).call(ne)}return E}serialize(r=!1){if(this.isEmpty()||r)return null;if(this.deleted)return this.serializeDeleted();const a=this.getRect(0,0),c=bs._colorManager.convert(this.color),h={annotationType:di.HIGHLIGHT,color:c,opacity:y(this,Dd),thickness:y(this,dc),quadPoints:ce(this,oi,aT).call(this),outlines:ce(this,oi,lT).call(this,a),pageIndex:this.pageIndex,rect:a,rotation:ce(this,oi,m0).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!ce(this,oi,hT).call(this,h)?null:(h.id=this.annotationElementId,h)}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Vv=new WeakMap,kx=new WeakMap,Id=new WeakMap,Hm=new WeakMap,Wv=new WeakMap,hc=new WeakMap,Ox=new WeakMap,Ix=new WeakMap,jm=new WeakMap,rh=new WeakMap,wl=new WeakMap,su=new WeakMap,qv=new WeakMap,Dd=new WeakMap,Ma=new WeakMap,Xv=new WeakMap,dc=new WeakMap,Dx=new WeakMap,oi=new WeakSet,Q_=function(){const r=new dM(y(this,Id),.001);se(this,rh,r.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=y(this,rh).box;const a=new dM(y(this,Id),.0025,.001,this._uiManager.direction==="ltr");se(this,hc,a.getOutlines());const{lastPoint:c}=y(this,hc).box;se(this,qv,[(c[0]-this.x)/this.width,(c[1]-this.y)/this.height])},cw=function({highlightOutlines:r,highlightId:a,clipPathId:c}){var T,k;if(se(this,rh,r),se(this,hc,r.getNewOutline(y(this,dc)/2+1.5,.0025)),a>=0)se(this,wl,a),se(this,Hm,c),this.parent.drawLayer.finalizeLine(a,r),se(this,Ma,this.parent.drawLayer.drawOutline(y(this,hc)));else if(this.parent){const G=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(y(this,wl),r),this.parent.drawLayer.updateBox(y(this,wl),ce(T=es,mc,Yg).call(T,y(this,rh).box,(G-this.rotation+360)%360)),this.parent.drawLayer.updateLine(y(this,Ma),y(this,hc)),this.parent.drawLayer.updateBox(y(this,Ma),ce(k=es,mc,Yg).call(k,y(this,hc).box,G))}const{x:f,y:m,width:b,height:_}=r.box;switch(this.rotation){case 0:this.x=f,this.y=m,this.width=b,this.height=_;break;case 90:{const[G,q]=this.parentDimensions;this.x=m,this.y=1-f,this.width=b*q/G,this.height=_*G/q;break}case 180:this.x=1-f,this.y=1-m,this.width=b,this.height=_;break;case 270:{const[G,q]=this.parentDimensions;this.x=1-m,this.y=f,this.width=b*q/G,this.height=_*G/q;break}}const{lastPoint:E}=y(this,hc).box;se(this,qv,[(E[0]-f)/b,(E[1]-m)/_])},rT=function(r){const a=(f,m)=>{var b,_,E;this.color=f,(b=this.parent)==null||b.drawLayer.changeColor(y(this,wl),f),(_=y(this,Wv))==null||_.updateColor(f),se(this,Dd,m),(E=this.parent)==null||E.drawLayer.changeOpacity(y(this,wl),m)},c=this.color,h=y(this,Dd);this.addCommands({cmd:a.bind(this,r,es._defaultOpacity),undo:a.bind(this,c,h),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(r)},!0)},iT=function(r){const a=y(this,dc),c=h=>{se(this,dc,h),ce(this,oi,sT).call(this,h)};this.addCommands({cmd:c.bind(this,r),undo:c.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:r},!0)},sT=function(r){if(!y(this,su))return;ce(this,oi,cw).call(this,{highlightOutlines:y(this,rh).getNewOutline(r/2)}),this.fixAndSetPosition();const[a,c]=this.parentDimensions;this.setDims(this.width*a,this.height*c)},eS=function(){y(this,wl)===null||!this.parent||(this.parent.drawLayer.remove(y(this,wl)),se(this,wl,null),this.parent.drawLayer.remove(y(this,Ma)),se(this,Ma,null))},Zp=function(r=this.parent){y(this,wl)===null&&({id:Il(this,wl)._,clipPathId:Il(this,Hm)._}=r.drawLayer.draw(y(this,rh),this.color,y(this,Dd)),se(this,Ma,r.drawLayer.drawOutline(y(this,hc))),y(this,jm)&&(y(this,jm).style.clipPath=y(this,Hm)))},mc=new WeakSet,Yg=function({x:r,y:a,width:c,height:h},f){switch(f){case 90:return{x:1-a-h,y:r,width:h,height:c};case 180:return{x:1-r-c,y:1-a-h,width:c,height:h};case 270:return{x:a,y:1-r-c,width:h,height:c}}return{x:r,y:a,width:c,height:h}},oT=function(r){es._keyboardManager.exec(this,r)},hw=function(r){if(!y(this,Vv))return;const a=window.getSelection();r?a.setPosition(y(this,Vv),y(this,kx)):a.setPosition(y(this,Ox),y(this,Ix))},m0=function(){return y(this,su)?this.rotation:0},aT=function(){if(y(this,su))return null;const[r,a]=this.pageDimensions,[c,h]=this.pageTranslation,f=y(this,Id),m=new Float32Array(f.length*8);let b=0;for(const{x:_,y:E,width:T,height:k}of f){const G=_*r+c,q=(1-E-k)*a+h;m[b]=m[b+4]=G,m[b+1]=m[b+3]=q,m[b+2]=m[b+6]=G+T*r,m[b+5]=m[b+7]=q+k*a,b+=8}return m},lT=function(r){return y(this,rh).serialize(r,ce(this,oi,m0).call(this))},uT=function(r,a){this._freeHighlight.add(a)&&r.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},cT=function(r,a){this._freeHighlight.isEmpty()?r.drawLayer.remove(this._freeHighlightId):r.createAndAddNewEditor(a,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},hT=function(r){const{color:a}=this._initialData;return r.color.some((c,h)=>c!==a[h])},fe(es,mc),Wr(es,"_defaultColor",null),Wr(es,"_defaultOpacity",1),Wr(es,"_defaultThickness",12),Wr(es,"_type","highlight"),Wr(es,"_editorType",di.HIGHLIGHT),Wr(es,"_freeHighlightId",-1),Wr(es,"_freeHighlight",null),Wr(es,"_freeHighlightClipId","");let Ew=es;var Um,Gm,qh,Nd,fc,Vm,Wm,qm,Fd,$v,Xm,$m,ep,On,dT,fT,pT,mT,nS,gT,rS,vT,yT,xT,bT,wT,Kp,iS,sS,oS,dw,fw,Zg,aS,pw,$d,_T,lS,ST,ET,uS,mw,g0;const yo=class yo extends bs{constructor(r){super({...r,name:"inkEditor"});fe(this,On);fe(this,Um,0);fe(this,Gm,0);fe(this,qh,null);fe(this,Nd,new Path2D);fe(this,fc,!1);fe(this,Vm,null);fe(this,Wm,!1);fe(this,qm,!1);fe(this,Fd,null);fe(this,$v,null);fe(this,Xm,0);fe(this,$m,0);fe(this,ep,null);this.color=r.color||null,this.thickness=r.thickness||null,this.opacity=r.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(r,a){bs.initialize(r,a)}static updateDefaultParams(r,a){switch(r){case qr.INK_THICKNESS:yo._defaultThickness=a;break;case qr.INK_COLOR:yo._defaultColor=a;break;case qr.INK_OPACITY:yo._defaultOpacity=a/100;break}}updateParams(r,a){switch(r){case qr.INK_THICKNESS:ce(this,On,dT).call(this,a);break;case qr.INK_COLOR:ce(this,On,fT).call(this,a);break;case qr.INK_OPACITY:ce(this,On,pT).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[qr.INK_THICKNESS,yo._defaultThickness],[qr.INK_COLOR,yo._defaultColor||bs._defaultLineColor],[qr.INK_OPACITY,Math.round(yo._defaultOpacity*100)]]}get propertiesToUpdate(){return[[qr.INK_THICKNESS,this.thickness||yo._defaultThickness],[qr.INK_COLOR,this.color||yo._defaultColor||bs._defaultLineColor],[qr.INK_OPACITY,Math.round(100*(this.opacity??yo._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ce(this,On,dw).call(this),ce(this,On,fw).call(this)),this.isAttachedToDOM||(this.parent.add(this),ce(this,On,Zg).call(this)),ce(this,On,g0).call(this)))}remove(){var r;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,y(this,qh)&&(clearTimeout(y(this,qh)),se(this,qh,null)),(r=y(this,Fd))==null||r.disconnect(),se(this,Fd,null),super.remove())}setParent(r){!this.parent&&r?this._uiManager.removeShouldRescale(this):this.parent&&r===null&&this._uiManager.addShouldRescale(this),super.setParent(r)}onScaleChanging(){const[r,a]=this.parentDimensions,c=this.width*r,h=this.height*a;this.setDimensions(c,h)}enableEditMode(){y(this,fc)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,ce(this,On,iS).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),ce(this,On,sS).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){y(this,fc)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),se(this,fc,!0),this.div.classList.add("disabled"),ce(this,On,g0).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(r){this._focusEventsAllowed&&(super.focusin(r),this.enableEditMode())}canvasPointerdown(r){r.button!==0||!this.isInEditMode()||y(this,fc)||(this.setInForeground(),r.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),ce(this,On,gT).call(this,r.offsetX,r.offsetY))}canvasPointermove(r){r.preventDefault(),ce(this,On,rS).call(this,r.offsetX,r.offsetY)}canvasPointerup(r){r.preventDefault(),ce(this,On,oS).call(this,r)}canvasPointerleave(r){ce(this,On,oS).call(this,r)}get isResizable(){return!this.isEmpty()&&y(this,fc)}render(){if(this.div)return this.div;let r,a;this.width&&(r=this.x,a=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[c,h,f,m]=ce(this,On,mT).call(this);if(this.setAt(c,h,0,0),this.setDims(f,m),ce(this,On,dw).call(this),this.width){const[b,_]=this.parentDimensions;this.setAspectRatio(this.width*b,this.height*_),this.setAt(r*b,a*_,this.width*b,this.height*_),se(this,qm,!0),ce(this,On,Zg).call(this),this.setDims(this.width*b,this.height*_),ce(this,On,Kp).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ce(this,On,fw).call(this),this.div}setDimensions(r,a){const c=Math.round(r),h=Math.round(a);if(y(this,Xm)===c&&y(this,$m)===h)return;se(this,Xm,c),se(this,$m,h),this.canvas.style.visibility="hidden";const[f,m]=this.parentDimensions;this.width=r/f,this.height=a/m,this.fixAndSetPosition(),y(this,fc)&&ce(this,On,aS).call(this,r,a),ce(this,On,Zg).call(this),ce(this,On,Kp).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(r,a,c){var Y,W,ne;if(r instanceof IS)return null;const h=await super.deserialize(r,a,c);h.thickness=r.thickness,h.color=xr.makeHexColor(...r.color),h.opacity=r.opacity;const[f,m]=h.pageDimensions,b=h.width*f,_=h.height*m,E=h.parentScale,T=r.thickness/2;se(h,fc,!0),se(h,Xm,Math.round(b)),se(h,$m,Math.round(_));const{paths:k,rect:G,rotation:q}=r;for(let{bezier:oe}of k){oe=ce(Y=yo,$d,ST).call(Y,oe,G,q);const le=[];h.paths.push(le);let Se=E*(oe[0]-T),be=E*(oe[1]-T);for(let P=2,We=oe.length;P<We;P+=6){const tt=E*(oe[P]-T),dt=E*(oe[P+1]-T),Ke=E*(oe[P+2]-T),Ze=E*(oe[P+3]-T),Xe=E*(oe[P+4]-T),ft=E*(oe[P+5]-T);le.push([[Se,be],[tt,dt],[Ke,Ze],[Xe,ft]]),Se=Xe,be=ft}const Pe=ce(this,$d,_T).call(this,le);h.bezierPath2D.push(Pe)}const X=ce(W=h,On,uS).call(W);return se(h,Gm,Math.max(bs.MIN_SIZE,X[2]-X[0])),se(h,Um,Math.max(bs.MIN_SIZE,X[3]-X[1])),ce(ne=h,On,aS).call(ne,b,_),h}serialize(){if(this.isEmpty())return null;const r=this.getRect(0,0),a=bs._colorManager.convert(this.ctx.strokeStyle);return{annotationType:di.INK,color:a,thickness:this.thickness,opacity:this.opacity,paths:ce(this,On,ET).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,r),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Um=new WeakMap,Gm=new WeakMap,qh=new WeakMap,Nd=new WeakMap,fc=new WeakMap,Vm=new WeakMap,Wm=new WeakMap,qm=new WeakMap,Fd=new WeakMap,$v=new WeakMap,Xm=new WeakMap,$m=new WeakMap,ep=new WeakMap,On=new WeakSet,dT=function(r){const a=h=>{this.thickness=h,ce(this,On,g0).call(this)},c=this.thickness;this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},fT=function(r){const a=h=>{this.color=h,ce(this,On,Kp).call(this)},c=this.color;this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qr.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},pT=function(r){const a=h=>{this.opacity=h,ce(this,On,Kp).call(this)};r/=100;const c=this.opacity;this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qr.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},mT=function(){const{parentRotation:r,parentDimensions:[a,c]}=this;switch(r){case 90:return[0,c,c,a];case 180:return[a,c,a,c];case 270:return[a,0,c,a];default:return[0,0,a,c]}},nS=function(){const{ctx:r,color:a,opacity:c,thickness:h,parentScale:f,scaleFactor:m}=this;r.lineWidth=h*f/m,r.lineCap="round",r.lineJoin="round",r.miterLimit=10,r.strokeStyle=`${a}${J2(c)}`},gT=function(r,a){this.canvas.addEventListener("contextmenu",vc,{signal:this._uiManager._signal}),ce(this,On,sS).call(this),se(this,Vm,new AbortController);const c=this._uiManager.combinedSignal(y(this,Vm));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:c}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:c}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:c}),this.isEditing=!0,y(this,qm)||(se(this,qm,!0),ce(this,On,Zg).call(this),this.thickness||(this.thickness=yo._defaultThickness),this.color||(this.color=yo._defaultColor||bs._defaultLineColor),this.opacity??(this.opacity=yo._defaultOpacity)),this.currentPath.push([r,a]),se(this,Wm,!1),ce(this,On,nS).call(this),se(this,ep,()=>{ce(this,On,xT).call(this),y(this,ep)&&window.requestAnimationFrame(y(this,ep))}),window.requestAnimationFrame(y(this,ep))},rS=function(r,a){const[c,h]=this.currentPath.at(-1);if(this.currentPath.length>1&&r===c&&a===h)return;const f=this.currentPath;let m=y(this,Nd);if(f.push([r,a]),se(this,Wm,!0),f.length<=2){m.moveTo(...f[0]),m.lineTo(r,a);return}f.length===3&&(se(this,Nd,m=new Path2D),m.moveTo(...f[0])),ce(this,On,bT).call(this,m,...f.at(-3),...f.at(-2),r,a)},vT=function(){if(this.currentPath.length===0)return;const r=this.currentPath.at(-1);y(this,Nd).lineTo(...r)},yT=function(r,a){se(this,ep,null),r=Math.min(Math.max(r,0),this.canvas.width),a=Math.min(Math.max(a,0),this.canvas.height),ce(this,On,rS).call(this,r,a),ce(this,On,vT).call(this);let c;if(this.currentPath.length!==1)c=ce(this,On,wT).call(this);else{const _=[r,a];c=[[_,_.slice(),_.slice(),_]]}const h=y(this,Nd),f=this.currentPath;this.currentPath=[],se(this,Nd,new Path2D);const m=()=>{this.allRawPaths.push(f),this.paths.push(c),this.bezierPath2D.push(h),this._uiManager.rebuild(this)},b=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ce(this,On,dw).call(this),ce(this,On,fw).call(this)),ce(this,On,g0).call(this))};this.addCommands({cmd:m,undo:b,mustExec:!0})},xT=function(){if(!y(this,Wm))return;se(this,Wm,!1);const r=Math.ceil(this.thickness*this.parentScale),a=this.currentPath.slice(-3),c=a.map(m=>m[0]),h=a.map(m=>m[1]);Math.min(...c)-r,Math.max(...c)+r,Math.min(...h)-r,Math.max(...h)+r;const{ctx:f}=this;f.save(),f.clearRect(0,0,this.canvas.width,this.canvas.height);for(const m of this.bezierPath2D)f.stroke(m);f.stroke(y(this,Nd)),f.restore()},bT=function(r,a,c,h,f,m,b){const _=(a+h)/2,E=(c+f)/2,T=(h+m)/2,k=(f+b)/2;r.bezierCurveTo(_+2*(h-_)/3,E+2*(f-E)/3,T+2*(h-T)/3,k+2*(f-k)/3,T,k)},wT=function(){const r=this.currentPath;if(r.length<=2)return[[r[0],r[0],r.at(-1),r.at(-1)]];const a=[];let c,[h,f]=r[0];for(c=1;c<r.length-2;c++){const[G,q]=r[c],[X,Y]=r[c+1],W=(G+X)/2,ne=(q+Y)/2,oe=[h+2*(G-h)/3,f+2*(q-f)/3],le=[W+2*(G-W)/3,ne+2*(q-ne)/3];a.push([[h,f],oe,le,[W,ne]]),[h,f]=[W,ne]}const[m,b]=r[c],[_,E]=r[c+1],T=[h+2*(m-h)/3,f+2*(b-f)/3],k=[_+2*(m-_)/3,E+2*(b-E)/3];return a.push([[h,f],T,k,[_,E]]),a},Kp=function(){if(this.isEmpty()){ce(this,On,pw).call(this);return}ce(this,On,nS).call(this);const{canvas:r,ctx:a}=this;a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,r.width,r.height),ce(this,On,pw).call(this);for(const c of this.bezierPath2D)a.stroke(c)},iS=function(){if(y(this,$v))return;se(this,$v,new AbortController);const r=this._uiManager.combinedSignal(y(this,$v));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:r})},sS=function(){var r;(r=this.pointerdownAC)==null||r.abort(),this.pointerdownAC=null},oS=function(r){var a;(a=y(this,Vm))==null||a.abort(),se(this,Vm,null),ce(this,On,iS).call(this),y(this,qh)&&clearTimeout(y(this,qh)),se(this,qh,setTimeout(()=>{se(this,qh,null),this.canvas.removeEventListener("contextmenu",vc)},10)),ce(this,On,yT).call(this,r.offsetX,r.offsetY),this.addToAnnotationStorage(),this.setInBackground()},dw=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},fw=function(){se(this,Fd,new ResizeObserver(r=>{const a=r[0].contentRect;a.width&&a.height&&this.setDimensions(a.width,a.height)})),y(this,Fd).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var r;(r=y(this,Fd))==null||r.disconnect(),se(this,Fd,null)},{once:!0})},Zg=function(){if(!y(this,qm))return;const[r,a]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*r),this.canvas.height=Math.ceil(this.height*a),ce(this,On,pw).call(this)},aS=function(r,a){const c=ce(this,On,mw).call(this),h=(r-c)/y(this,Gm),f=(a-c)/y(this,Um);this.scaleFactor=Math.min(h,f)},pw=function(){const r=ce(this,On,mw).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+r,this.translationY*this.scaleFactor+r)},$d=new WeakSet,_T=function(r){const a=new Path2D;for(let c=0,h=r.length;c<h;c++){const[f,m,b,_]=r[c];c===0&&a.moveTo(...f),a.bezierCurveTo(m[0],m[1],b[0],b[1],_[0],_[1])}return a},lS=function(r,a,c){const[h,f,m,b]=a;switch(c){case 0:for(let _=0,E=r.length;_<E;_+=2)r[_]+=h,r[_+1]=b-r[_+1];break;case 90:for(let _=0,E=r.length;_<E;_+=2){const T=r[_];r[_]=r[_+1]+h,r[_+1]=T+f}break;case 180:for(let _=0,E=r.length;_<E;_+=2)r[_]=m-r[_],r[_+1]+=f;break;case 270:for(let _=0,E=r.length;_<E;_+=2){const T=r[_];r[_]=m-r[_+1],r[_+1]=b-T}break;default:throw new Error("Invalid rotation")}return r},ST=function(r,a,c){const[h,f,m,b]=a;switch(c){case 0:for(let _=0,E=r.length;_<E;_+=2)r[_]-=h,r[_+1]=b-r[_+1];break;case 90:for(let _=0,E=r.length;_<E;_+=2){const T=r[_];r[_]=r[_+1]-f,r[_+1]=T-h}break;case 180:for(let _=0,E=r.length;_<E;_+=2)r[_]=m-r[_],r[_+1]-=f;break;case 270:for(let _=0,E=r.length;_<E;_+=2){const T=r[_];r[_]=b-r[_+1],r[_+1]=m-T}break;default:throw new Error("Invalid rotation")}return r},ET=function(r,a,c,h){var E,T;const f=[],m=this.thickness/2,b=r*a+m,_=r*c+m;for(const k of this.paths){const G=[],q=[];for(let X=0,Y=k.length;X<Y;X++){const[W,ne,oe,le]=k[X];if(W[0]===le[0]&&W[1]===le[1]&&Y===1){const Ze=r*W[0]+b,Xe=r*W[1]+_;G.push(Ze,Xe),q.push(Ze,Xe);break}const Se=r*W[0]+b,be=r*W[1]+_,Pe=r*ne[0]+b,P=r*ne[1]+_,We=r*oe[0]+b,tt=r*oe[1]+_,dt=r*le[0]+b,Ke=r*le[1]+_;X===0&&(G.push(Se,be),q.push(Se,be)),G.push(Pe,P,We,tt,dt,Ke),q.push(Pe,P),X===Y-1&&q.push(dt,Ke)}f.push({bezier:ce(E=yo,$d,lS).call(E,G,h,this.rotation),points:ce(T=yo,$d,lS).call(T,q,h,this.rotation)})}return f},uS=function(){let r=1/0,a=-1/0,c=1/0,h=-1/0;for(const f of this.paths)for(const[m,b,_,E]of f){const T=xr.bezierBoundingBox(...m,...b,..._,...E);r=Math.min(r,T[0]),c=Math.min(c,T[1]),a=Math.max(a,T[2]),h=Math.max(h,T[3])}return[r,c,a,h]},mw=function(){return y(this,fc)?Math.ceil(this.thickness*this.parentScale):0},g0=function(r=!1){if(this.isEmpty())return;if(!y(this,fc)){ce(this,On,Kp).call(this);return}const a=ce(this,On,uS).call(this),c=ce(this,On,mw).call(this);se(this,Gm,Math.max(bs.MIN_SIZE,a[2]-a[0])),se(this,Um,Math.max(bs.MIN_SIZE,a[3]-a[1]));const h=Math.ceil(c+y(this,Gm)*this.scaleFactor),f=Math.ceil(c+y(this,Um)*this.scaleFactor),[m,b]=this.parentDimensions;this.width=h/m,this.height=f/b,this.setAspectRatio(h,f);const _=this.translationX,E=this.translationY;this.translationX=-a[0],this.translationY=-a[1],ce(this,On,Zg).call(this),ce(this,On,Kp).call(this),se(this,Xm,h),se(this,$m,f),this.setDims(h,f);const T=r?c/this.scaleFactor/2:0;this.translate(_-this.translationX-T,E-this.translationY-T)},fe(yo,$d),Wr(yo,"_defaultColor",null),Wr(yo,"_defaultOpacity",1),Wr(yo,"_defaultThickness",1),Wr(yo,"_type","ink"),Wr(yo,"_editorType",di.INK);let tS=yo;var bo,al,tp,zd,np,Yv,Xh,Bd,$h,Iu,Zv,Oi,v0,y0,gw,hS,MT,vw,dS,yw,AT,TT;const w0=class w0 extends bs{constructor(r){super({...r,name:"stampEditor"});fe(this,Oi);fe(this,bo,null);fe(this,al,null);fe(this,tp,null);fe(this,zd,null);fe(this,np,null);fe(this,Yv,"");fe(this,Xh,null);fe(this,Bd,null);fe(this,$h,null);fe(this,Iu,!1);fe(this,Zv,!1);se(this,zd,r.bitmapUrl),se(this,np,r.bitmapFile)}static initialize(r,a){bs.initialize(r,a)}static get supportedTypes(){return Ni(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(a=>`image/${a}`))}static get supportedTypesStr(){return Ni(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(r){return this.supportedTypes.includes(r)}static paste(r,a){a.pasteEditor(di.STAMP,{bitmapFile:r.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var r;return{type:"stamp",hasAltText:!!((r=this.altTextData)!=null&&r.altText)}}static computeTelemetryFinalData(r){const a=r.get("hasAltText");return{hasAltText:a.get(!0)??0,hasNoAltText:a.get(!1)??0}}async mlGuessAltText(r=null,a=!0){if(this.hasAltTextData())return null;const{mlManager:c}=this._uiManager;if(!c)throw new Error("No ML.");if(!await c.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:h,width:f,height:m}=r||this.copyCanvas(null,null,!0).imageData,b=await c.guess({name:"altText",request:{data:h,width:f,height:m,channels:h.length/(f*m)}});if(!b)throw new Error("No response from the AI service.");if(b.error)throw new Error("Error from the AI service.");if(b.cancel)return null;if(!b.output)throw new Error("No valid response from the AI service.");const _=b.output;return await this.setGuessedAltText(_),a&&!this.hasAltTextData()&&(this.altTextData={alt:_,decorative:!1}),_}remove(){var r,a;y(this,al)&&(se(this,bo,null),this._uiManager.imageManager.deleteId(y(this,al)),(r=y(this,Xh))==null||r.remove(),se(this,Xh,null),(a=y(this,Bd))==null||a.disconnect(),se(this,Bd,null),y(this,$h)&&(clearTimeout(y(this,$h)),se(this,$h,null))),super.remove()}rebuild(){if(!this.parent){y(this,al)&&ce(this,Oi,gw).call(this);return}super.rebuild(),this.div!==null&&(y(this,al)&&y(this,Xh)===null&&ce(this,Oi,gw).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(y(this,tp)||y(this,bo)||y(this,zd)||y(this,np)||y(this,al))}get isResizable(){return!0}render(){if(this.div)return this.div;let r,a;if(this.width&&(r=this.x,a=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),y(this,bo)?ce(this,Oi,hS).call(this):ce(this,Oi,gw).call(this),this.width&&!this.annotationElementId){const[c,h]=this.parentDimensions;this.setAt(r*c,a*h,this.width*c,this.height*h)}return this.div}copyCanvas(r,a,c=!1){var G;r||(r=224);const{width:h,height:f}=y(this,bo),m=new o_;let b=y(this,bo),_=h,E=f,T=null;if(a){if(h>a||f>a){const P=Math.min(a/h,a/f);_=Math.floor(h*P),E=Math.floor(f*P)}T=document.createElement("canvas");const q=T.width=Math.ceil(_*m.sx),X=T.height=Math.ceil(E*m.sy);y(this,Iu)||(b=ce(this,Oi,vw).call(this,q,X));const Y=T.getContext("2d");Y.filter=this._uiManager.hcmFilter;let W="white",ne="#cfcfd8";this._uiManager.hcmFilter!=="none"?ne="black":(G=window.matchMedia)!=null&&G.call(window,"(prefers-color-scheme: dark)").matches&&(W="#8f8f9d",ne="#42414d");const oe=15,le=oe*m.sx,Se=oe*m.sy,be=new OffscreenCanvas(le*2,Se*2),Pe=be.getContext("2d");Pe.fillStyle=W,Pe.fillRect(0,0,le*2,Se*2),Pe.fillStyle=ne,Pe.fillRect(0,0,le,Se),Pe.fillRect(le,Se,le,Se),Y.fillStyle=Y.createPattern(be,"repeat"),Y.fillRect(0,0,q,X),Y.drawImage(b,0,0,b.width,b.height,0,0,q,X)}let k=null;if(c){let q,X;if(m.symmetric&&b.width<r&&b.height<r)q=b.width,X=b.height;else if(b=y(this,bo),h>r||f>r){const ne=Math.min(r/h,r/f);q=Math.floor(h*ne),X=Math.floor(f*ne),y(this,Iu)||(b=ce(this,Oi,vw).call(this,q,X))}const W=new OffscreenCanvas(q,X).getContext("2d",{willReadFrequently:!0});W.drawImage(b,0,0,b.width,b.height,0,0,q,X),k={width:q,height:X,data:W.getImageData(0,0,q,X).data}}return{canvas:T,width:_,height:E,imageData:k}}getImageForAltText(){return y(this,Xh)}static async deserialize(r,a,c){var X;let h=null;if(r instanceof FA){const{data:{rect:Y,rotation:W,id:ne,structParent:oe,popupRef:le},container:Se,parent:{page:{pageNumber:be}}}=r,Pe=Se.querySelector("canvas"),P=c.imageManager.getFromCanvas(Se.id,Pe);Pe.remove();const We=((X=await a._structTree.getAriaAttributes(`${SS}${ne}`))==null?void 0:X.get("aria-label"))||"";h=r={annotationType:di.STAMP,bitmapId:P.id,bitmap:P.bitmap,pageIndex:be-1,rect:Y.slice(0),rotation:W,id:ne,deleted:!1,accessibilityData:{decorative:!1,altText:We},isSvg:!1,structParent:oe,popupRef:le}}const f=await super.deserialize(r,a,c),{rect:m,bitmap:b,bitmapUrl:_,bitmapId:E,isSvg:T,accessibilityData:k}=r;E&&c.imageManager.isValidId(E)?(se(f,al,E),b&&se(f,bo,b)):se(f,zd,_),se(f,Iu,T);const[G,q]=f.pageDimensions;return f.width=(m[2]-m[0])/G,f.height=(m[3]-m[1])/q,f.annotationElementId=r.id||null,k&&(f.altTextData=k),f._initialData=h,se(f,Zv,!!h),f}serialize(r=!1,a=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const c={annotationType:di.STAMP,bitmapId:y(this,al),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:y(this,Iu),structTreeParentId:this._structTreeParentId};if(r)return c.bitmapUrl=ce(this,Oi,yw).call(this,!0),c.accessibilityData=this.serializeAltText(!0),c;const{decorative:h,altText:f}=this.serializeAltText(!1);if(!h&&f&&(c.accessibilityData={type:"Figure",alt:f}),this.annotationElementId){const b=ce(this,Oi,TT).call(this,c);if(b.isSame)return null;b.isSameAltText?delete c.accessibilityData:c.accessibilityData.structParent=this._initialData.structParent??-1}if(c.id=this.annotationElementId,a===null)return c;a.stamps||(a.stamps=new Map);const m=y(this,Iu)?(c.rect[2]-c.rect[0])*(c.rect[3]-c.rect[1]):null;if(!a.stamps.has(y(this,al)))a.stamps.set(y(this,al),{area:m,serialized:c}),c.bitmap=ce(this,Oi,yw).call(this,!1);else if(y(this,Iu)){const b=a.stamps.get(y(this,al));m>b.area&&(b.area=m,b.serialized.bitmap.close(),b.serialized.bitmap=ce(this,Oi,yw).call(this,!1))}return c}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}};bo=new WeakMap,al=new WeakMap,tp=new WeakMap,zd=new WeakMap,np=new WeakMap,Yv=new WeakMap,Xh=new WeakMap,Bd=new WeakMap,$h=new WeakMap,Iu=new WeakMap,Zv=new WeakMap,Oi=new WeakSet,v0=function(r,a=!1){if(!r){this.remove();return}se(this,bo,r.bitmap),a||(se(this,al,r.id),se(this,Iu,r.isSvg)),r.file&&se(this,Yv,r.file.name),ce(this,Oi,hS).call(this)},y0=function(){if(se(this,tp,null),this._uiManager.enableWaiting(!1),!!y(this,Xh)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,bo)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,bo)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},gw=function(){if(y(this,al)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(y(this,al)).then(c=>ce(this,Oi,v0).call(this,c,!0)).finally(()=>ce(this,Oi,y0).call(this));return}if(y(this,zd)){const c=y(this,zd);se(this,zd,null),this._uiManager.enableWaiting(!0),se(this,tp,this._uiManager.imageManager.getFromUrl(c).then(h=>ce(this,Oi,v0).call(this,h)).finally(()=>ce(this,Oi,y0).call(this)));return}if(y(this,np)){const c=y(this,np);se(this,np,null),this._uiManager.enableWaiting(!0),se(this,tp,this._uiManager.imageManager.getFromFile(c).then(h=>ce(this,Oi,v0).call(this,h)).finally(()=>ce(this,Oi,y0).call(this)));return}const r=document.createElement("input");r.type="file",r.accept=w0.supportedTypesStr;const a=this._uiManager._signal;se(this,tp,new Promise(c=>{r.addEventListener("change",async()=>{if(!r.files||r.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const h=await this._uiManager.imageManager.getFromFile(r.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ce(this,Oi,v0).call(this,h)}c()},{signal:a}),r.addEventListener("cancel",()=>{this.remove(),c()},{signal:a})}).finally(()=>ce(this,Oi,y0).call(this))),r.click()},hS=function(){const{div:r}=this;let{width:a,height:c}=y(this,bo);const[h,f]=this.pageDimensions,m=.75;if(this.width)a=this.width*h,c=this.height*f;else if(a>m*h||c>m*f){const T=Math.min(m*h/a,m*f/c);a*=T,c*=T}const[b,_]=this.parentDimensions;this.setDims(a*b/h,c*_/f),this._uiManager.enableWaiting(!1);const E=se(this,Xh,document.createElement("canvas"));E.setAttribute("role","img"),this.addContainer(E),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(r.hidden=!1),ce(this,Oi,dS).call(this,a,c),ce(this,Oi,AT).call(this),y(this,Zv)||(this.parent.addUndoableEditor(this),se(this,Zv,!0)),this._reportTelemetry({action:"inserted_image"}),y(this,Yv)&&E.setAttribute("aria-label",y(this,Yv))},MT=function(r,a){var m;const[c,h]=this.parentDimensions;this.width=r/c,this.height=a/h,(m=this._initialOptions)!=null&&m.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,y(this,$h)!==null&&clearTimeout(y(this,$h)),se(this,$h,setTimeout(()=>{se(this,$h,null),ce(this,Oi,dS).call(this,r,a)},200))},vw=function(r,a){const{width:c,height:h}=y(this,bo);let f=c,m=h,b=y(this,bo);for(;f>2*r||m>2*a;){const _=f,E=m;f>2*r&&(f=f>=16384?Math.floor(f/2)-1:Math.ceil(f/2)),m>2*a&&(m=m>=16384?Math.floor(m/2)-1:Math.ceil(m/2));const T=new OffscreenCanvas(f,m);T.getContext("2d").drawImage(b,0,0,_,E,0,0,f,m),b=T.transferToImageBitmap()}return b},dS=function(r,a){const c=new o_,h=Math.ceil(r*c.sx),f=Math.ceil(a*c.sy),m=y(this,Xh);if(!m||m.width===h&&m.height===f)return;m.width=h,m.height=f;const b=y(this,Iu)?y(this,bo):ce(this,Oi,vw).call(this,h,f),_=m.getContext("2d");_.filter=this._uiManager.hcmFilter,_.drawImage(b,0,0,b.width,b.height,0,0,h,f)},yw=function(r){if(r){if(y(this,Iu)){const h=this._uiManager.imageManager.getSvgUrl(y(this,al));if(h)return h}const a=document.createElement("canvas");return{width:a.width,height:a.height}=y(this,bo),a.getContext("2d").drawImage(y(this,bo),0,0),a.toDataURL()}if(y(this,Iu)){const[a,c]=this.pageDimensions,h=Math.round(this.width*a*op.PDF_TO_CSS_UNITS),f=Math.round(this.height*c*op.PDF_TO_CSS_UNITS),m=new OffscreenCanvas(h,f);return m.getContext("2d").drawImage(y(this,bo),0,0,y(this,bo).width,y(this,bo).height,0,0,h,f),m.transferToImageBitmap()}return structuredClone(y(this,bo))},AT=function(){this._uiManager._signal&&(se(this,Bd,new ResizeObserver(r=>{const a=r[0].contentRect;a.width&&a.height&&ce(this,Oi,MT).call(this,a.width,a.height)})),y(this,Bd).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var r;(r=y(this,Bd))==null||r.disconnect(),se(this,Bd,null)},{once:!0}))},TT=function(r){var _;const{rect:a,pageIndex:c,accessibilityData:{altText:h}}=this._initialData,f=r.rect.every((E,T)=>Math.abs(E-a[T])<1),m=r.pageIndex===c,b=(((_=r.accessibilityData)==null?void 0:_.alt)||"")===h;return{isSame:f&&m&&b,isSameAltText:b}},Wr(w0,"_type","stamp"),Wr(w0,"_editorType",di.STAMP);let cS=w0;var Ym,Kv,Yh,rp,Hd,Du,ip,Jv,Qv,_l,jd,Tr,sp,ll,CT,pS,mS,gS,xw;const Gc=class Gc{constructor({uiManager:n,pageIndex:r,div:a,structTreeLayer:c,accessibilityManager:h,annotationLayer:f,drawLayer:m,textLayer:b,viewport:_,l10n:E}){fe(this,ll);fe(this,Ym);fe(this,Kv,!1);fe(this,Yh,null);fe(this,rp,null);fe(this,Hd,null);fe(this,Du,new Map);fe(this,ip,!1);fe(this,Jv,!1);fe(this,Qv,!1);fe(this,_l,null);fe(this,jd,null);fe(this,Tr);const T=[...y(Gc,sp).values()];if(!Gc._initialized){Gc._initialized=!0;for(const k of T)k.initialize(E,n)}n.registerEditorTypes(T),se(this,Tr,n),this.pageIndex=r,this.div=a,se(this,Ym,h),se(this,Yh,f),this.viewport=_,se(this,_l,b),this.drawLayer=m,this._structTree=c,y(this,Tr).addLayer(this)}get isEmpty(){return y(this,Du).size===0}get isInvisible(){return this.isEmpty&&y(this,Tr).getMode()===di.NONE}updateToolbar(n){y(this,Tr).updateToolbar(n)}updateMode(n=y(this,Tr).getMode()){switch(ce(this,ll,xw).call(this),n){case di.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case di.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case di.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;for(const a of y(Gc,sp).values())r.toggle(`${a._type}Editing`,n===a._editorType);this.div.hidden=!1}hasTextLayer(n){var r;return n===((r=y(this,_l))==null?void 0:r.div)}addInkEditorIfNeeded(n){if(y(this,Tr).getMode()!==di.INK)return;if(!n){for(const a of y(this,Du).values())if(a.isEmpty()){a.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(n){y(this,Tr).setEditingState(n)}addCommands(n){y(this,Tr).addCommands(n)}toggleDrawing(n=!1){this.div.classList.toggle("drawing",!n)}togglePointerEvents(n=!1){this.div.classList.toggle("disabled",!n)}toggleAnnotationLayerPointerEvents(n=!1){var r;(r=y(this,Yh))==null||r.div.classList.toggle("disabled",!n)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const n=new Set;for(const a of y(this,Du).values())a.enableEditing(),a.show(!0),a.annotationElementId&&(y(this,Tr).removeChangedExistingAnnotation(a),n.add(a.annotationElementId));if(!y(this,Yh))return;const r=y(this,Yh).getEditableAnnotations();for(const a of r){if(a.hide(),y(this,Tr).isDeletedAnnotationElement(a.data.id)||n.has(a.data.id))continue;const c=await this.deserialize(a);c&&(this.addOrRebuild(c),c.enableEditing())}}disable(){var c;se(this,Qv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const n=new Map,r=new Map;for(const h of y(this,Du).values())if(h.disableEditing(),!!h.annotationElementId){if(h.serialize()!==null){n.set(h.annotationElementId,h);continue}else r.set(h.annotationElementId,h);(c=this.getEditableAnnotation(h.annotationElementId))==null||c.show(),h.remove()}if(y(this,Yh)){const h=y(this,Yh).getEditableAnnotations();for(const f of h){const{id:m}=f.data;if(y(this,Tr).isDeletedAnnotationElement(m))continue;let b=r.get(m);if(b){b.resetAnnotationElement(f),b.show(!1),f.show();continue}b=n.get(m),b&&(y(this,Tr).addChangedExistingAnnotation(b),b.renderAnnotationElement(f)&&b.show(!1)),f.show()}}ce(this,ll,xw).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:a}=this.div;for(const h of y(Gc,sp).values())a.remove(`${h._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),se(this,Qv,!1)}getEditableAnnotation(n){var r;return((r=y(this,Yh))==null?void 0:r.getEditableAnnotation(n))||null}setActiveEditor(n){y(this,Tr).getActive()!==n&&y(this,Tr).setActiveEditor(n)}enableTextSelection(){var n;if(this.div.tabIndex=-1,(n=y(this,_l))!=null&&n.div&&!y(this,jd)){se(this,jd,new AbortController);const r=y(this,Tr).combinedSignal(y(this,jd));y(this,_l).div.addEventListener("pointerdown",ce(this,ll,CT).bind(this),{signal:r}),y(this,_l).div.classList.add("highlighting")}}disableTextSelection(){var n;this.div.tabIndex=0,(n=y(this,_l))!=null&&n.div&&y(this,jd)&&(y(this,jd).abort(),se(this,jd,null),y(this,_l).div.classList.remove("highlighting"))}enableClick(){if(y(this,rp))return;se(this,rp,new AbortController);const n=y(this,Tr).combinedSignal(y(this,rp));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:n}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:n})}disableClick(){var n;(n=y(this,rp))==null||n.abort(),se(this,rp,null)}attach(n){y(this,Du).set(n.id,n);const{annotationElementId:r}=n;r&&y(this,Tr).isDeletedAnnotationElement(r)&&y(this,Tr).removeDeletedAnnotationElement(n)}detach(n){var r;y(this,Du).delete(n.id),(r=y(this,Ym))==null||r.removePointerInTextLayer(n.contentDiv),!y(this,Qv)&&n.annotationElementId&&y(this,Tr).addDeletedAnnotationElement(n)}remove(n){this.detach(n),y(this,Tr).removeEditor(n),n.div.remove(),n.isAttachedToDOM=!1,y(this,Jv)||this.addInkEditorIfNeeded(!1)}changeParent(n){var r;n.parent!==this&&(n.parent&&n.annotationElementId&&(y(this,Tr).addDeletedAnnotationElement(n.annotationElementId),bs.deleteAnnotationElement(n),n.annotationElementId=null),this.attach(n),(r=n.parent)==null||r.detach(n),n.setParent(this),n.div&&n.isAttachedToDOM&&(n.div.remove(),this.div.append(n.div)))}add(n){if(!(n.parent===this&&n.isAttachedToDOM)){if(this.changeParent(n),y(this,Tr).addEditor(n),this.attach(n),!n.isAttachedToDOM){const r=n.render();this.div.append(r),n.isAttachedToDOM=!0}n.fixAndSetPosition(),n.onceAdded(),y(this,Tr).addToAnnotationStorage(n),n._reportTelemetry(n.telemetryInitialData)}}moveEditorInDOM(n){var a;if(!n.isAttachedToDOM)return;const{activeElement:r}=document;n.div.contains(r)&&!y(this,Hd)&&(n._focusEventsAllowed=!1,se(this,Hd,setTimeout(()=>{se(this,Hd,null),n.div.contains(document.activeElement)?n._focusEventsAllowed=!0:(n.div.addEventListener("focusin",()=>{n._focusEventsAllowed=!0},{once:!0,signal:y(this,Tr)._signal}),r.focus())},0))),n._structTreeParentId=(a=y(this,Ym))==null?void 0:a.moveElementInDOM(this.div,n.div,n.contentDiv,!0)}addOrRebuild(n){n.needsToBeRebuilt()?(n.parent||(n.parent=this),n.rebuild(),n.show()):this.add(n)}addUndoableEditor(n){const r=()=>n._uiManager.rebuild(n),a=()=>{n.remove()};this.addCommands({cmd:r,undo:a,mustExec:!1})}getNextId(){return y(this,Tr).getId()}combinedSignal(n){return y(this,Tr).combinedSignal(n)}canCreateNewEmptyEditor(){var n;return(n=y(this,ll,pS))==null?void 0:n.canCreateNewEmptyEditor()}pasteEditor(n,r){y(this,Tr).updateToolbar(n),y(this,Tr).updateMode(n);const{offsetX:a,offsetY:c}=ce(this,ll,gS).call(this),h=this.getNextId(),f=ce(this,ll,mS).call(this,{parent:this,id:h,x:a,y:c,uiManager:y(this,Tr),isCentered:!0,...r});f&&this.add(f)}async deserialize(n){var r;return await((r=y(Gc,sp).get(n.annotationType??n.annotationEditorType))==null?void 0:r.deserialize(n,this,y(this,Tr)))||null}createAndAddNewEditor(n,r,a={}){const c=this.getNextId(),h=ce(this,ll,mS).call(this,{parent:this,id:c,x:n.offsetX,y:n.offsetY,uiManager:y(this,Tr),isCentered:r,...a});return h&&this.add(h),h}addNewEditor(){this.createAndAddNewEditor(ce(this,ll,gS).call(this),!0)}setSelected(n){y(this,Tr).setSelected(n)}toggleSelected(n){y(this,Tr).toggleSelected(n)}unselect(n){y(this,Tr).unselect(n)}pointerup(n){const{isMac:r}=zl.platform;if(!(n.button!==0||n.ctrlKey&&r)&&n.target===this.div&&y(this,ip)){if(se(this,ip,!1),!y(this,Kv)){se(this,Kv,!0);return}if(y(this,Tr).getMode()===di.STAMP){y(this,Tr).unselectAll();return}this.createAndAddNewEditor(n,!1)}}pointerdown(n){if(y(this,Tr).getMode()===di.HIGHLIGHT&&this.enableTextSelection(),y(this,ip)){se(this,ip,!1);return}const{isMac:r}=zl.platform;if(n.button!==0||n.ctrlKey&&r||n.target!==this.div)return;se(this,ip,!0);const a=y(this,Tr).getActive();se(this,Kv,!a||a.isEmpty())}findNewParent(n,r,a){const c=y(this,Tr).findParent(r,a);return c===null||c===this?!1:(c.changeParent(n),!0)}destroy(){var n,r;((n=y(this,Tr).getActive())==null?void 0:n.parent)===this&&(y(this,Tr).commitOrRemove(),y(this,Tr).setActiveEditor(null)),y(this,Hd)&&(clearTimeout(y(this,Hd)),se(this,Hd,null));for(const a of y(this,Du).values())(r=y(this,Ym))==null||r.removePointerInTextLayer(a.contentDiv),a.setParent(null),a.isAttachedToDOM=!1,a.div.remove();this.div=null,y(this,Du).clear(),y(this,Tr).removeLayer(this)}render({viewport:n}){this.viewport=n,Zm(this.div,n);for(const r of y(this,Tr).getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:n}){y(this,Tr).commitOrRemove(),ce(this,ll,xw).call(this);const r=this.viewport.rotation,a=n.rotation;if(this.viewport=n,Zm(this.div,{rotation:a}),r!==a)for(const c of y(this,Du).values())c.rotate(a);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:n,pageHeight:r}=this.viewport.rawDims;return[n,r]}get scale(){return y(this,Tr).viewParameters.realScale}};Ym=new WeakMap,Kv=new WeakMap,Yh=new WeakMap,rp=new WeakMap,Hd=new WeakMap,Du=new WeakMap,ip=new WeakMap,Jv=new WeakMap,Qv=new WeakMap,_l=new WeakMap,jd=new WeakMap,Tr=new WeakMap,sp=new WeakMap,ll=new WeakSet,CT=function(n){y(this,Tr).unselectAll();const{target:r}=n;if(r===y(this,_l).div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&y(this,_l).div.contains(r)){const{isMac:a}=zl.platform;if(n.button!==0||n.ctrlKey&&a)return;y(this,Tr).showAllEditors("highlight",!0,!0),y(this,_l).div.classList.add("free"),this.toggleDrawing(),Ew.startHighlighting(this,y(this,Tr).direction==="ltr",{target:y(this,_l).div,x:n.x,y:n.y}),y(this,_l).div.addEventListener("pointerup",()=>{y(this,_l).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:y(this,Tr)._signal}),n.preventDefault()}},pS=function(){return y(Gc,sp).get(y(this,Tr).getMode())},mS=function(n){const r=y(this,ll,pS);return r?new r.prototype.constructor(n):null},gS=function(){const{x:n,y:r,width:a,height:c}=this.div.getBoundingClientRect(),h=Math.max(0,n),f=Math.max(0,r),m=Math.min(window.innerWidth,n+a),b=Math.min(window.innerHeight,r+c),_=(h+m)/2-n,E=(f+b)/2-r,[T,k]=this.viewport.rotation%180===0?[_,E]:[E,_];return{offsetX:T,offsetY:k}},xw=function(){se(this,Jv,!0);for(const n of y(this,Du).values())n.isEmpty()&&n.remove();se(this,Jv,!1)},Wr(Gc,"_initialized",!1),fe(Gc,sp,new Map([q_,tS,cS,Ew].map(n=>[n._editorType,n])));let fS=Gc;var Zh,Nx,sa,Ud,Fx,yS,tg,xS,LT;const il=class il{constructor({pageIndex:n}){fe(this,tg);fe(this,Zh,null);fe(this,Nx,0);fe(this,sa,new Map);fe(this,Ud,new Map);this.pageIndex=n}setParent(n){if(!y(this,Zh)){se(this,Zh,n);return}if(y(this,Zh)!==n){if(y(this,sa).size>0)for(const r of y(this,sa).values())r.remove(),n.append(r);se(this,Zh,n)}}static get _svgFactory(){return Ni(this,"_svgFactory",new OS)}draw(n,r,a,c=!1){const h=Il(this,Nx)._++,f=ce(this,tg,xS).call(this,n.box);f.classList.add(...n.classNamesForDrawing);const m=il._svgFactory.createElement("defs");f.append(m);const b=il._svgFactory.createElement("path");m.append(b);const _=`path_p${this.pageIndex}_${h}`;b.setAttribute("id",_),b.setAttribute("d",n.toSVGPath()),c&&y(this,Ud).set(h,b);const E=ce(this,tg,LT).call(this,m,_),T=il._svgFactory.createElement("use");return f.append(T),f.setAttribute("fill",r),f.setAttribute("fill-opacity",a),T.setAttribute("href",`#${_}`),y(this,sa).set(h,f),{id:h,clipPathId:`url(#${E})`}}drawOutline(n){const r=Il(this,Nx)._++,a=ce(this,tg,xS).call(this,n.box);a.classList.add(...n.classNamesForOutlining);const c=il._svgFactory.createElement("defs");a.append(c);const h=il._svgFactory.createElement("path");c.append(h);const f=`path_p${this.pageIndex}_${r}`;h.setAttribute("id",f),h.setAttribute("d",n.toSVGPath()),h.setAttribute("vector-effect","non-scaling-stroke");let m;if(n.mustRemoveSelfIntersections){const E=il._svgFactory.createElement("mask");c.append(E),m=`mask_p${this.pageIndex}_${r}`,E.setAttribute("id",m),E.setAttribute("maskUnits","objectBoundingBox");const T=il._svgFactory.createElement("rect");E.append(T),T.setAttribute("width","1"),T.setAttribute("height","1"),T.setAttribute("fill","white");const k=il._svgFactory.createElement("use");E.append(k),k.setAttribute("href",`#${f}`),k.setAttribute("stroke","none"),k.setAttribute("fill","black"),k.setAttribute("fill-rule","nonzero"),k.classList.add("mask")}const b=il._svgFactory.createElement("use");a.append(b),b.setAttribute("href",`#${f}`),m&&b.setAttribute("mask",`url(#${m})`);const _=b.cloneNode();return a.append(_),b.classList.add("mainOutline"),_.classList.add("secondaryOutline"),y(this,sa).set(r,a),r}finalizeLine(n,r){const a=y(this,Ud).get(n);y(this,Ud).delete(n),this.updateBox(n,r.box),a.setAttribute("d",r.toSVGPath())}updateLine(n,r){y(this,sa).get(n).firstChild.firstChild.setAttribute("d",r.toSVGPath())}updatePath(n,r){y(this,Ud).get(n).setAttribute("d",r.toSVGPath())}updateBox(n,r){var a;ce(a=il,Fx,yS).call(a,y(this,sa).get(n),r)}show(n,r){y(this,sa).get(n).classList.toggle("hidden",!r)}rotate(n,r){y(this,sa).get(n).setAttribute("data-main-rotation",r)}changeColor(n,r){y(this,sa).get(n).setAttribute("fill",r)}changeOpacity(n,r){y(this,sa).get(n).setAttribute("fill-opacity",r)}addClass(n,r){y(this,sa).get(n).classList.add(r)}removeClass(n,r){y(this,sa).get(n).classList.remove(r)}getSVGRoot(n){return y(this,sa).get(n)}remove(n){y(this,Ud).delete(n),y(this,Zh)!==null&&(y(this,sa).get(n).remove(),y(this,sa).delete(n))}destroy(){se(this,Zh,null);for(const n of y(this,sa).values())n.remove();y(this,sa).clear(),y(this,Ud).clear()}};Zh=new WeakMap,Nx=new WeakMap,sa=new WeakMap,Ud=new WeakMap,Fx=new WeakSet,yS=function(n,{x:r=0,y:a=0,width:c=1,height:h=1}={}){const{style:f}=n;f.top=`${100*a}%`,f.left=`${100*r}%`,f.width=`${100*c}%`,f.height=`${100*h}%`},tg=new WeakSet,xS=function(n){var a;const r=il._svgFactory.create(1,1,!0);return y(this,Zh).append(r),r.setAttribute("aria-hidden",!0),ce(a=il,Fx,yS).call(a,r,n),r},LT=function(n,r){const a=il._svgFactory.createElement("clipPath");n.append(a);const c=`clip_${r}`;a.setAttribute("id",c),a.setAttribute("clipPathUnits","objectBoundingBox");const h=il._svgFactory.createElement("use");return a.append(h),h.setAttribute("href",`#${r}`),h.classList.add("clip"),c},fe(il,Fx);let vS=il;var RP=Yr.AbortException,kP=Yr.AnnotationEditorLayer,OP=Yr.AnnotationEditorParamsType,IP=Yr.AnnotationEditorType,DP=Yr.AnnotationEditorUIManager,PT=Yr.AnnotationLayer,RT=Yr.AnnotationMode,NP=Yr.ColorPicker,FP=Yr.DOMSVGFactory,zP=Yr.DrawLayer,BP=Yr.FeatureTest,DS=Yr.GlobalWorkerOptions,HP=Yr.ImageKind,jP=Yr.InvalidPDFException,UP=Yr.MissingPDFException,GP=Yr.OPS,VP=Yr.OutputScale,WP=Yr.PDFDataRangeTransport,qP=Yr.PDFDateString,XP=Yr.PDFWorker,$P=Yr.PasswordResponses,YP=Yr.PermissionFlag,ZP=Yr.PixelsPerInch,KP=Yr.RenderingCancelledException,kT=Yr.TextLayer,JP=Yr.UnexpectedResponseException,QP=Yr.Util,eR=Yr.VerbosityLevel,tR=Yr.XfaLayer,nR=Yr.build,rR=Yr.createValidAbsoluteUrl,iR=Yr.fetchData,OT=Yr.getDocument,sR=Yr.getFilenameFromUrl,oR=Yr.getPdfFilenameFromUrl,aR=Yr.getXfaPageViewport,lR=Yr.isDataScheme,uR=Yr.isPdfFile,cR=Yr.noContextMenu,hR=Yr.normalizeUnicode,dR=Yr.setLayerDimensions,fR=Yr.shadow,IT=Yr.version;const pR=Object.freeze(Object.defineProperty({__proto__:null,AbortException:RP,AnnotationEditorLayer:kP,AnnotationEditorParamsType:OP,AnnotationEditorType:IP,AnnotationEditorUIManager:DP,AnnotationLayer:PT,AnnotationMode:RT,ColorPicker:NP,DOMSVGFactory:FP,DrawLayer:zP,FeatureTest:BP,GlobalWorkerOptions:DS,ImageKind:HP,InvalidPDFException:jP,MissingPDFException:UP,OPS:GP,OutputScale:VP,PDFDataRangeTransport:WP,PDFDateString:qP,PDFWorker:XP,PasswordResponses:$P,PermissionFlag:YP,PixelsPerInch:ZP,RenderingCancelledException:KP,TextLayer:kT,UnexpectedResponseException:JP,Util:QP,VerbosityLevel:eR,XfaLayer:tR,build:nR,createValidAbsoluteUrl:rR,fetchData:iR,getDocument:OT,getFilenameFromUrl:sR,getPdfFilenameFromUrl:oR,getXfaPageViewport:aR,isDataScheme:lR,isPdfFile:uR,noContextMenu:cR,normalizeUnicode:hR,setLayerDimensions:dR,shadow:fR,version:IT},Symbol.toStringTag,{value:"Module"}));var Ga=function(A,n,r){if(r||arguments.length===2)for(var a=0,c=n.length,h;a<c;a++)(h||!(a in n))&&(h||(h=Array.prototype.slice.call(n,0,a)),h[a]=n[a]);return A.concat(h||Array.prototype.slice.call(n))},mR=["onCopy","onCut","onPaste"],gR=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],vR=["onFocus","onBlur"],yR=["onInput","onInvalid","onReset","onSubmit"],xR=["onLoad","onError"],bR=["onKeyDown","onKeyPress","onKeyUp"],wR=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],_R=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],SR=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],ER=["onSelect"],MR=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],AR=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],TR=["onScroll"],CR=["onWheel"],LR=["onAnimationStart","onAnimationEnd","onAnimationIteration"],PR=["onTransitionEnd"],RR=["onToggle"],kR=["onChange"],OR=Ga(Ga(Ga(Ga(Ga(Ga(Ga(Ga(Ga(Ga(Ga(Ga(Ga(Ga(Ga(Ga(Ga(Ga([],mR,!0),gR,!0),vR,!0),yR,!0),xR,!0),bR,!0),wR,!0),_R,!0),SR,!0),ER,!0),MR,!0),AR,!0),TR,!0),CR,!0),LR,!0),PR,!0),kR,!0),RR,!0);function DT(A,n){var r={};return OR.forEach(function(a){var c=A[a];c&&(n?r[a]=function(h){return c(h,n(a))}:r[a]=c)}),r}function jx(A){var n=!1,r=new Promise(function(a,c){A.then(function(h){return!n&&a(h)}).catch(function(h){return!n&&c(h)})});return{promise:r,cancel:function(){n=!0}}}function NT(A){var n,r,a="";if(typeof A=="string"||typeof A=="number")a+=A;else if(typeof A=="object")if(Array.isArray(A)){var c=A.length;for(n=0;n<c;n++)A[n]&&(r=NT(A[n]))&&(a&&(a+=" "),a+=r)}else for(r in A)A[r]&&(a&&(a+=" "),a+=r);return a}function Jw(){for(var A,n,r=0,a="",c=arguments.length;r<c;r++)(A=arguments[r])&&(n=NT(A))&&(a&&(a+=" "),a+=n);return a}var IR="Invariant failed";function Is(A,n){if(!A)throw new Error(IR)}var e_,fM;function DR(){if(fM)return e_;fM=1;var A=function(){};return e_=A,e_}var NR=DR();const Sl=d2(NR);var pM=Object.prototype.hasOwnProperty;function mM(A,n,r){for(r of A.keys())if(ev(r,n))return r}function ev(A,n){var r,a,c;if(A===n)return!0;if(A&&n&&(r=A.constructor)===n.constructor){if(r===Date)return A.getTime()===n.getTime();if(r===RegExp)return A.toString()===n.toString();if(r===Array){if((a=A.length)===n.length)for(;a--&&ev(A[a],n[a]););return a===-1}if(r===Set){if(A.size!==n.size)return!1;for(a of A)if(c=a,c&&typeof c=="object"&&(c=mM(n,c),!c)||!n.has(c))return!1;return!0}if(r===Map){if(A.size!==n.size)return!1;for(a of A)if(c=a[0],c&&typeof c=="object"&&(c=mM(n,c),!c)||!ev(a[1],n.get(c)))return!1;return!0}if(r===ArrayBuffer)A=new Uint8Array(A),n=new Uint8Array(n);else if(r===DataView){if((a=A.byteLength)===n.byteLength)for(;a--&&A.getInt8(a)===n.getInt8(a););return a===-1}if(ArrayBuffer.isView(A)){if((a=A.byteLength)===n.byteLength)for(;a--&&A[a]===n[a];);return a===-1}if(!r||typeof A=="object"){a=0;for(r in A)if(pM.call(A,r)&&++a&&!pM.call(n,r)||!(r in n)||!ev(A[r],n[r]))return!1;return Object.keys(n).length===a}}return A!==A&&n!==n}const FT=er.createContext(null);function tv({children:A,type:n}){return _t.jsx("div",{className:`react-pdf__message react-pdf__message--${n}`,children:A})}const FR="noopener noreferrer nofollow";class zR{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(n){this.pdfDocument=n}setViewer(n){this.pdfViewer=n}setExternalLinkRel(n){this.externalLinkRel=n}setExternalLinkTarget(n){this.externalLinkTarget=n}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Is(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(n){Is(this.pdfViewer),this.pdfViewer.currentPageNumber=n}get rotation(){return 0}set rotation(n){}goToDestination(n){return new Promise(r=>{Is(this.pdfDocument),Is(n),typeof n=="string"?this.pdfDocument.getDestination(n).then(r):Array.isArray(n)?r(n):n.then(r)}).then(r=>{Is(Array.isArray(r));const a=r[0];new Promise(c=>{Is(this.pdfDocument),a instanceof Object?this.pdfDocument.getPageIndex(a).then(h=>{c(h)}).catch(()=>{Is(!1)}):typeof a=="number"?c(a):Is(!1)}).then(c=>{const h=c+1;Is(this.pdfViewer),Is(h>=1&&h<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:r,pageIndex:c,pageNumber:h})})})}navigateTo(n){this.goToDestination(n)}goToPage(n){const r=n-1;Is(this.pdfViewer),Is(n>=1&&n<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:r,pageNumber:n})}addLinkAttributes(n,r,a){n.href=r,n.rel=this.externalLinkRel||FR,n.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const gM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Qw=typeof window<"u",zT=Qw&&window.location.protocol==="file:";function BR(A){return typeof A<"u"}function Xp(A){return BR(A)&&A!==null}function HR(A){return typeof A=="string"}function jR(A){return A instanceof ArrayBuffer}function UR(A){return Is(Qw),A instanceof Blob}function bS(A){return HR(A)&&/^data:/.test(A)}function vM(A){Is(bS(A));const[n="",r=""]=A.split(",");return n.split(";").indexOf("base64")!==-1?atob(r):unescape(r)}function GR(){return Qw&&window.devicePixelRatio||1}const BT="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function yM(){Sl(!zT,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${BT}`)}function VR(){Sl(!zT,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${BT}`)}function Qm(A){A!=null&&A.cancel&&A.cancel()}function wS(A,n){return Object.defineProperty(A,"width",{get(){return this.view[2]*n},configurable:!0}),Object.defineProperty(A,"height",{get(){return this.view[3]*n},configurable:!0}),Object.defineProperty(A,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(A,"originalHeight",{get(){return this.view[3]},configurable:!0}),A}function WR(A){return A.name==="RenderingCancelledException"}function qR(A){return new Promise((n,r)=>{const a=new FileReader;a.onload=()=>{if(!a.result)return r(new Error("Error while reading a file."));n(a.result)},a.onerror=c=>{if(!c.target)return r(new Error("Error while reading a file."));const{error:h}=c.target;if(!h)return r(new Error("Error while reading a file."));switch(h.code){case h.NOT_FOUND_ERR:return r(new Error("Error while reading a file: File not found."));case h.SECURITY_ERR:return r(new Error("Error while reading a file: Security error."));case h.ABORT_ERR:return r(new Error("Error while reading a file: Aborted."));default:return r(new Error("Error while reading a file."))}},a.readAsArrayBuffer(A)})}function XR(A,n){switch(n.type){case"RESOLVE":return{value:n.value,error:void 0};case"REJECT":return{value:!1,error:n.error};case"RESET":return{value:void 0,error:void 0};default:return A}}function ey(){return er.useReducer(XR,{value:void 0,error:void 0})}var $R=function(A,n,r,a){function c(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function m(E){try{_(a.next(E))}catch(T){f(T)}}function b(E){try{_(a.throw(E))}catch(T){f(T)}}function _(E){E.done?h(E.value):c(E.value).then(m,b)}_((a=a.apply(A,n||[])).next())})},xM=function(A,n){var r={};for(var a in A)Object.prototype.hasOwnProperty.call(A,a)&&n.indexOf(a)<0&&(r[a]=A[a]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(A);c<a.length;c++)n.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(A,a[c])&&(r[a[c]]=A[a[c]]);return r};const{PDFDataRangeTransport:YR}=pR,ZR=(A,n)=>{switch(n){case gM.NEED_PASSWORD:{const r=prompt("Enter the password to open this PDF file.");A(r);break}case gM.INCORRECT_PASSWORD:{const r=prompt("Invalid password. Please try again.");A(r);break}}};function bM(A){return typeof A=="object"&&A!==null&&("data"in A||"range"in A||"url"in A)}const KR=er.forwardRef(function(n,r){var{children:a,className:c,error:h="Failed to load PDF file.",externalLinkRel:f,externalLinkTarget:m,file:b,inputRef:_,imageResourcesPath:E,loading:T="Loading PDF…",noData:k="No PDF file specified.",onItemClick:G,onLoadError:q,onLoadProgress:X,onLoadSuccess:Y,onPassword:W=ZR,onSourceError:ne,onSourceSuccess:oe,options:le,renderMode:Se,rotate:be}=n,Pe=xM(n,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[P,We]=ey(),{value:tt,error:dt}=P,[Ke,Ze]=ey(),{value:Xe,error:ft}=Ke,Be=er.useRef(new zR),Qe=er.useRef([]),Ue=er.useRef(void 0),te=er.useRef(void 0);b&&b!==Ue.current&&bM(b)&&(Sl(!ev(b,Ue.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Ue.current=b),le&&le!==te.current&&(Sl(!ev(le,te.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),te.current=le);const lt=er.useRef({scrollPageIntoView:qt=>{const{dest:tn,pageNumber:on,pageIndex:jt=on-1}=qt;if(G){G({dest:tn,pageIndex:jt,pageNumber:on});return}const $e=Qe.current[jt];if($e){$e.scrollIntoView();return}Sl(!1,`An internal link leading to page ${on} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});er.useImperativeHandle(r,()=>({linkService:Be,pages:Qe,viewer:lt}),[]);function _e(){oe&&oe()}function ke(){dt&&(Sl(!1,dt.toString()),ne&&ne(dt))}function rt(){We({type:"RESET"})}er.useEffect(rt,[b,We]);const St=er.useCallback(()=>$R(this,void 0,void 0,function*(){if(!b)return null;if(typeof b=="string")return bS(b)?{data:vM(b)}:(yM(),{url:b});if(b instanceof YR)return{range:b};if(jR(b))return{data:b};if(Qw&&UR(b))return{data:yield qR(b)};if(Is(typeof b=="object"),Is(bM(b)),"url"in b&&typeof b.url=="string"){if(bS(b.url)){const{url:qt}=b,tn=xM(b,["url"]),on=vM(qt);return Object.assign({data:on},tn)}yM()}return b}),[b]);er.useEffect(()=>{const qt=jx(St());return qt.promise.then(tn=>{We({type:"RESOLVE",value:tn})}).catch(tn=>{We({type:"REJECT",error:tn})}),()=>{Qm(qt)}},[St,We]),er.useEffect(()=>{if(!(typeof tt>"u")){if(tt===!1){ke();return}_e()}},[tt]);function Ut(){Xe&&(Y&&Y(Xe),Qe.current=new Array(Xe.numPages),Be.current.setDocument(Xe))}function we(){ft&&(Sl(!1,ft.toString()),q&&q(ft))}er.useEffect(function(){Ze({type:"RESET"})},[Ze,tt]),er.useEffect(function(){if(!tt)return;const tn=le?Object.assign(Object.assign({},tt),le):tt,on=OT(tn);X&&(on.onProgress=X),W&&(on.onPassword=W);const jt=on,$e=jt.promise.then(Gn=>{Ze({type:"RESOLVE",value:Gn})}).catch(Gn=>{jt.destroyed||Ze({type:"REJECT",error:Gn})});return()=>{$e.finally(()=>jt.destroy())}},[le,Ze,tt]),er.useEffect(()=>{if(!(typeof Xe>"u")){if(Xe===!1){we();return}Ut()}},[Xe]),er.useEffect(function(){Be.current.setViewer(lt.current),Be.current.setExternalLinkRel(f),Be.current.setExternalLinkTarget(m)},[f,m]);const Pt=er.useCallback((qt,tn)=>{Qe.current[qt]=tn},[]),gt=er.useCallback(qt=>{delete Qe.current[qt]},[]),Le=er.useMemo(()=>({imageResourcesPath:E,linkService:Be.current,onItemClick:G,pdf:Xe,registerPage:Pt,renderMode:Se,rotate:be,unregisterPage:gt}),[E,G,Xe,Pt,Se,be,gt]),Bt=er.useMemo(()=>DT(Pe,()=>Xe),[Pe,Xe]);function bn(){return _t.jsx(FT.Provider,{value:Le,children:a})}function cr(){return b?Xe==null?_t.jsx(tv,{type:"loading",children:typeof T=="function"?T():T}):Xe===!1?_t.jsx(tv,{type:"error",children:typeof h=="function"?h():h}):bn():_t.jsx(tv,{type:"no-data",children:typeof k=="function"?k():k})}return _t.jsx("div",Object.assign({className:Jw("react-pdf__Document",c),ref:_,style:{"--scale-factor":"1"}},Bt,{children:cr()}))});function HT(){return er.useContext(FT)}function jT(){for(var A=[],n=0;n<arguments.length;n++)A[n]=arguments[n];var r=A.filter(Boolean);if(r.length<=1){var a=r[0];return a||null}return function(h){r.forEach(function(f){typeof f=="function"?f(h):f&&(f.current=h)})}}const UT=er.createContext(null),GT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},JR=/^H(\d+)$/;function QR(A){return A in GT}function e1(A){return"children"in A}function VT(A){return e1(A)?A.children.length===1&&0 in A.children&&"id"in A.children[0]:!1}function e3(A){const n={};if(e1(A)){const{role:r}=A,a=r.match(JR);if(a)n.role="heading",n["aria-level"]=Number(a[1]);else if(QR(r)){const c=GT[r];c&&(n.role=c)}}return n}function WT(A){const n={};if(e1(A)){if(A.alt!==void 0&&(n["aria-label"]=A.alt),A.lang!==void 0&&(n.lang=A.lang),VT(A)){const[r]=A.children;if(r){const a=WT(r);return Object.assign(Object.assign({},n),a)}}}else"id"in A&&(n["aria-owns"]=A.id);return n}function t3(A){return A?Object.assign(Object.assign({},e3(A)),WT(A)):null}function qT({className:A,node:n}){const r=er.useMemo(()=>t3(n),[n]),a=er.useMemo(()=>!e1(n)||VT(n)?null:n.children.map((c,h)=>_t.jsx(qT,{node:c},h)),[n]);return _t.jsx("span",Object.assign({className:A},r,{children:a}))}function t1(){return er.useContext(UT)}function n3(){const A=t1();Is(A);const{onGetStructTreeError:n,onGetStructTreeSuccess:r}=A,[a,c]=ey(),{value:h,error:f}=a,{customTextRenderer:m,page:b}=A;function _(){h&&r&&r(h)}function E(){f&&(Sl(!1,f.toString()),n&&n(f))}return er.useEffect(function(){c({type:"RESET"})},[c,b]),er.useEffect(function(){if(m||!b)return;const k=jx(b.getStructTree()),G=k;return k.promise.then(q=>{c({type:"RESOLVE",value:q})}).catch(q=>{c({type:"REJECT",error:q})}),()=>Qm(G)},[m,b,c]),er.useEffect(()=>{if(h!==void 0){if(h===!1){E();return}_()}},[h]),h?_t.jsx(qT,{className:"react-pdf__Page__structTree structTree",node:h}):null}const wM=RT;function r3(A){const n=t1();Is(n);const r=Object.assign(Object.assign({},n),A),{_className:a,canvasBackground:c,devicePixelRatio:h=GR(),onRenderError:f,onRenderSuccess:m,page:b,renderForms:_,renderTextLayer:E,rotate:T,scale:k}=r,{canvasRef:G}=A;Is(b);const q=er.useRef(null);function X(){b&&m&&m(wS(b,k))}function Y(le){WR(le)||(Sl(!1,le.toString()),f&&f(le))}const W=er.useMemo(()=>b.getViewport({scale:k*h,rotation:T}),[h,b,T,k]),ne=er.useMemo(()=>b.getViewport({scale:k,rotation:T}),[b,T,k]);er.useEffect(function(){if(!b)return;b.cleanup();const{current:Se}=q;if(!Se)return;Se.width=W.width,Se.height=W.height,Se.style.width=`${Math.floor(ne.width)}px`,Se.style.height=`${Math.floor(ne.height)}px`,Se.style.visibility="hidden";const be={annotationMode:_?wM.ENABLE_FORMS:wM.ENABLE,canvasContext:Se.getContext("2d",{alpha:!1}),viewport:W};c&&(be.background=c);const Pe=b.render(be),P=Pe;return Pe.promise.then(()=>{Se.style.visibility="",X()}).catch(Y),()=>Qm(P)},[c,b,_,W,ne]);const oe=er.useCallback(()=>{const{current:le}=q;le&&(le.width=0,le.height=0)},[]);return er.useEffect(()=>oe,[oe]),_t.jsx("canvas",{className:`${a}__canvas`,dir:"ltr",ref:jT(G,q),style:{display:"block",userSelect:"none"},children:E?_t.jsx(n3,{}):null})}function i3(A){return"str"in A}function s3(){const A=t1();Is(A);const{customTextRenderer:n,onGetTextError:r,onGetTextSuccess:a,onRenderTextLayerError:c,onRenderTextLayerSuccess:h,page:f,pageIndex:m,pageNumber:b,rotate:_,scale:E}=A;Is(f);const[T,k]=ey(),{value:G,error:q}=T,X=er.useRef(null);Sl(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function Y(){G&&a&&a(G)}function W(){q&&(Sl(!1,q.toString()),r&&r(q))}er.useEffect(function(){k({type:"RESET"})},[f,k]),er.useEffect(function(){if(!f)return;const P=jx(f.getTextContent()),We=P;return P.promise.then(tt=>{k({type:"RESOLVE",value:tt})}).catch(tt=>{k({type:"REJECT",error:tt})}),()=>Qm(We)},[f,k]),er.useEffect(()=>{if(G!==void 0){if(G===!1){W();return}Y()}},[G]);const ne=er.useCallback(()=>{h&&h()},[h]),oe=er.useCallback(Pe=>{Sl(!1,Pe.toString()),c&&c(Pe)},[c]);function le(){const Pe=X.current;Pe&&Pe.classList.add("selecting")}function Se(){const Pe=X.current;Pe&&Pe.classList.remove("selecting")}const be=er.useMemo(()=>f.getViewport({scale:E,rotation:_}),[f,_,E]);return er.useLayoutEffect(function(){if(!f||!G)return;const{current:P}=X;if(!P)return;P.innerHTML="";const We=f.streamTextContent({includeMarkedContent:!0}),tt={container:P,textContentSource:We,viewport:be},dt=new kT(tt),Ke=dt;return dt.render().then(()=>{const Ze=document.createElement("div");Ze.className="endOfContent",P.append(Ze);const Xe=P.querySelectorAll('[role="presentation"]');if(n){let ft=0;G.items.forEach((Be,Qe)=>{if(!i3(Be))return;const Ue=Xe[ft];if(!Ue)return;const te=n(Object.assign({pageIndex:m,pageNumber:b,itemIndex:Qe},Be));Ue.innerHTML=te,ft+=Be.str&&Be.hasEOL?2:1})}ne()}).catch(oe),()=>Qm(Ke)},[n,oe,ne,f,m,b,G,be]),_t.jsx("div",{className:Jw("react-pdf__Page__textContent","textLayer"),onMouseUp:Se,onMouseDown:le,ref:X})}function o3(){const A=HT(),n=t1();Is(n);const r=Object.assign(Object.assign({},A),n),{imageResourcesPath:a,linkService:c,onGetAnnotationsError:h,onGetAnnotationsSuccess:f,onRenderAnnotationLayerError:m,onRenderAnnotationLayerSuccess:b,page:_,pdf:E,renderForms:T,rotate:k,scale:G=1}=r;Is(E),Is(_),Is(c);const[q,X]=ey(),{value:Y,error:W}=q,ne=er.useRef(null);Sl(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function oe(){Y&&f&&f(Y)}function le(){W&&(Sl(!1,W.toString()),h&&h(W))}er.useEffect(function(){X({type:"RESET"})},[X,_]),er.useEffect(function(){if(!_)return;const We=jx(_.getAnnotations()),tt=We;return We.promise.then(dt=>{X({type:"RESOLVE",value:dt})}).catch(dt=>{X({type:"REJECT",error:dt})}),()=>{Qm(tt)}},[X,_]),er.useEffect(()=>{if(Y!==void 0){if(Y===!1){le();return}oe()}},[Y]);function Se(){b&&b()}function be(P){Sl(!1,`${P}`),m&&m(P)}const Pe=er.useMemo(()=>_.getViewport({scale:G,rotation:k}),[_,k,G]);return er.useEffect(function(){if(!E||!_||!c||!Y)return;const{current:We}=ne;if(!We)return;const tt=Pe.clone({dontFlip:!0}),dt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:We,l10n:null,page:_,structTreeLayer:null,viewport:tt},Ke={annotations:Y,annotationStorage:E.annotationStorage,div:We,imageResourcesPath:a,linkService:c,page:_,renderForms:T,viewport:tt};We.innerHTML="";try{new PT(dt).render(Ke),Se()}catch(Ze){be(Ze)}return()=>{}},[Y,a,c,_,E,T,Pe]),_t.jsx("div",{className:Jw("react-pdf__Page__annotations","annotationLayer"),ref:ne})}var a3=function(A,n){var r={};for(var a in A)Object.prototype.hasOwnProperty.call(A,a)&&n.indexOf(a)<0&&(r[a]=A[a]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(A);c<a.length;c++)n.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(A,a[c])&&(r[a[c]]=A[a[c]]);return r};const _M=1;function l3(A){const n=HT(),r=Object.assign(Object.assign({},n),A),{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:h,canvasRef:f,children:m,className:b,customRenderer:_,customTextRenderer:E,devicePixelRatio:T,error:k="Failed to load the page.",height:G,inputRef:q,loading:X="Loading page…",noData:Y="No page specified.",onGetAnnotationsError:W,onGetAnnotationsSuccess:ne,onGetStructTreeError:oe,onGetStructTreeSuccess:le,onGetTextError:Se,onGetTextSuccess:be,onLoadError:Pe,onLoadSuccess:P,onRenderAnnotationLayerError:We,onRenderAnnotationLayerSuccess:tt,onRenderError:dt,onRenderSuccess:Ke,onRenderTextLayerError:Ze,onRenderTextLayerSuccess:Xe,pageIndex:ft,pageNumber:Be,pdf:Qe,registerPage:Ue,renderAnnotationLayer:te=!0,renderForms:lt=!1,renderMode:_e="canvas",renderTextLayer:ke=!0,rotate:rt,scale:St=_M,unregisterPage:Ut,width:we}=r,Pt=a3(r,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[gt,Le]=ey(),{value:Bt,error:bn}=gt,cr=er.useRef(null);Is(Qe);const qt=Xp(Be)?Be-1:ft??null,tn=Be??(Xp(ft)?ft+1:null),on=rt??(Bt?Bt.rotate:null),jt=er.useMemo(()=>{if(!Bt)return null;let zr=1;const Cr=St??_M;if(we||G){const Zr=Bt.getViewport({scale:1,rotation:on});we?zr=we/Zr.width:G&&(zr=G/Zr.height)}return Cr*zr},[G,Bt,on,St,we]);er.useEffect(function(){return()=>{Xp(qt)&&c&&Ut&&Ut(qt)}},[c,Qe,qt,Ut]);function $e(){if(P){if(!Bt||!jt)return;P(wS(Bt,jt))}if(c&&Ue){if(!Xp(qt)||!cr.current)return;Ue(qt,cr.current)}}function Gn(){bn&&(Sl(!1,bn.toString()),Pe&&Pe(bn))}er.useEffect(function(){Le({type:"RESET"})},[Le,Qe,qt]),er.useEffect(function(){if(!Qe||!tn)return;const Cr=jx(Qe.getPage(tn)),Zr=Cr;return Cr.promise.then(Ir=>{Le({type:"RESOLVE",value:Ir})}).catch(Ir=>{Le({type:"REJECT",error:Ir})}),()=>Qm(Zr)},[Le,Qe,tn]),er.useEffect(()=>{if(Bt!==void 0){if(Bt===!1){Gn();return}$e()}},[Bt,jt]);const sr=er.useMemo(()=>Bt&&Xp(qt)&&tn&&Xp(on)&&Xp(jt)?{_className:a,canvasBackground:h,customTextRenderer:E,devicePixelRatio:T,onGetAnnotationsError:W,onGetAnnotationsSuccess:ne,onGetStructTreeError:oe,onGetStructTreeSuccess:le,onGetTextError:Se,onGetTextSuccess:be,onRenderAnnotationLayerError:We,onRenderAnnotationLayerSuccess:tt,onRenderError:dt,onRenderSuccess:Ke,onRenderTextLayerError:Ze,onRenderTextLayerSuccess:Xe,page:Bt,pageIndex:qt,pageNumber:tn,renderForms:lt,renderTextLayer:ke,rotate:on,scale:jt}:null,[a,h,E,T,W,ne,oe,le,Se,be,We,tt,dt,Ke,Ze,Xe,Bt,qt,tn,lt,ke,on,jt]),or=er.useMemo(()=>DT(Pt,()=>Bt&&(jt?wS(Bt,jt):void 0)),[Pt,Bt,jt]),zn=`${qt}@${jt}/${on}`;function hr(){switch(_e){case"custom":return Is(_),_t.jsx(_,{},`${zn}_custom`);case"none":return null;case"canvas":default:return _t.jsx(r3,{canvasRef:f},`${zn}_canvas`)}}function br(){return ke?_t.jsx(s3,{},`${zn}_text`):null}function wr(){return te?_t.jsx(o3,{},`${zn}_annotations`):null}function Vn(){return _t.jsxs(UT.Provider,{value:sr,children:[hr(),br(),wr(),m]})}function Nr(){return tn?Qe===null||Bt===void 0||Bt===null?_t.jsx(tv,{type:"loading",children:typeof X=="function"?X():X}):Qe===!1||Bt===!1?_t.jsx(tv,{type:"error",children:typeof k=="function"?k():k}):Vn():_t.jsx(tv,{type:"no-data",children:typeof Y=="function"?Y():Y})}return _t.jsx("div",Object.assign({className:Jw(a,b),"data-page-number":tn,ref:jT(q,cr),style:{"--scale-factor":`${jt}`,backgroundColor:h||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},or,{children:Nr()}))}VR();DS.workerSrc="pdf.worker.mjs";DS.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${IT}/pdf.worker.min.js`;const t_="/TimTsenguun_Resume_DataEngineer.pdf",u3=()=>{const[A,n]=er.useState(window.innerWidth);er.useEffect(()=>{const a=()=>n(window.innerWidth);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const r=a=>console.error("Error loading PDF:",a);return _t.jsx("section",{id:"resume",className:"min-h-screen flex items-top justify-center py-30",children:_t.jsx(Gw,{children:_t.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[_t.jsx("h2",{className:"text-3xl md:text-3xl font-bold mb-6 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent leading-normal",children:"Resume"}),_t.jsx("div",{className:"flex justify-center mb-6",children:_t.jsxs("a",{href:t_,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] text-white font-semibold py-2 px-6 rounded-full shadow-md hover:shadow-lg hover:scale-105 transform transition duration-300 flex items-center justify-center",children:[_t.jsx("svg",{className:"mr-2",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t.jsx("path",{d:"M19 9H15V3H9V9H5L12 16L19 9ZM5 18V20H19V18H5Z",fill:"white"})}),"Download"]})}),_t.jsx("div",{className:"flex justify-center",children:_t.jsx("div",{className:"box_transition",children:_t.jsx(KR,{file:t_,onLoadError:r,children:_t.jsx(l3,{pageNumber:1,scale:A>786?1.7:.6})})})}),_t.jsx("div",{className:"flex justify-center mb-6",children:_t.jsxs("a",{href:t_,target:"_blank",rel:"noopener noreferrer",className:"mt-6 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] text-white font-semibold py-2 px-6 rounded-full shadow-md hover:shadow-lg hover:scale-105 transform transition duration-300 flex items-center justify-center",children:[_t.jsx("svg",{className:"mr-2",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t.jsx("path",{d:"M19 9H15V3H9V9H5L12 16L19 9ZM5 18V20H19V18H5Z",fill:"white"})}),"Download"]})})]})})})};function c3(){const[A,n]=er.useState(!1),[r,a]=er.useState(!1);return _t.jsxs(_t.Fragment,{children:[!A&&_t.jsx(S2,{onComplete:()=>n(!0)})," "," ",_t.jsxs("div",{className:`min-h-screen transition-opacity duration-700 ${A?"opacity-100":"opacity-0"} text-gray-100`,children:[_t.jsx(E2,{menuOpen:r,setMenuOpen:a}),_t.jsx(M2,{menuOpen:r,setMenuOpen:a}),_t.jsx(A2,{}),_t.jsx(T2,{}),_t.jsx(C2,{}),_t.jsx(u3,{})]})]})}w2.createRoot(document.getElementById("root")).render(_t.jsx(er.StrictMode,{children:_t.jsx(c3,{})}));
